var MZ=Object.create;var C3=Object.defineProperty;var EZ=Object.getOwnPropertyDescriptor;var SZ=Object.getOwnPropertyNames;var AZ=Object.getPrototypeOf,TZ=Object.prototype.hasOwnProperty;var PZ=(t,e)=>()=>(t&&(e=t(t=0)),e);var K=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Hi=(t,e)=>{for(var r in e)C3(t,r,{get:e[r],enumerable:!0})},RZ=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of SZ(e))!TZ.call(t,n)&&n!==r&&C3(t,n,{get:()=>e[n],enumerable:!(i=EZ(e,n))||i.enumerable});return t};var Lt=(t,e,r)=>(r=t!=null?MZ(AZ(t)):{},RZ(e||!t||!t.__esModule?C3(r,"default",{value:t,enumerable:!0}):r,t));var JT=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var QT=(t,e,r)=>(JT(t,e,"read from private field"),r?r.call(t):e.get(t)),XT=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},q3=(t,e,r,i)=>(JT(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r);var r7=K(Av=>{"use strict";M();Av.byteLength=IZ;Av.toByteArray=BZ;Av.fromByteArray=qZ;var ma=[],Ho=[],kZ=typeof Uint8Array<"u"?Uint8Array:Array,N3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(el=0,e7=N3.length;el<e7;++el)ma[el]=N3[el],Ho[N3.charCodeAt(el)]=el;var el,e7;Ho["-".charCodeAt(0)]=62;Ho["_".charCodeAt(0)]=63;function t7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function IZ(t){var e=t7(t),r=e[0],i=e[1];return(r+i)*3/4-i}function DZ(t,e,r){return(e+r)*3/4-r}function BZ(t){var e,r=t7(t),i=r[0],n=r[1],o=new kZ(DZ(t,i,n)),a=0,d=n>0?i-4:i,p;for(p=0;p<d;p+=4)e=Ho[t.charCodeAt(p)]<<18|Ho[t.charCodeAt(p+1)]<<12|Ho[t.charCodeAt(p+2)]<<6|Ho[t.charCodeAt(p+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return n===2&&(e=Ho[t.charCodeAt(p)]<<2|Ho[t.charCodeAt(p+1)]>>4,o[a++]=e&255),n===1&&(e=Ho[t.charCodeAt(p)]<<10|Ho[t.charCodeAt(p+1)]<<4|Ho[t.charCodeAt(p+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function OZ(t){return ma[t>>18&63]+ma[t>>12&63]+ma[t>>6&63]+ma[t&63]}function CZ(t,e,r){for(var i,n=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),n.push(OZ(i));return n.join("")}function qZ(t){for(var e,r=t.length,i=r%3,n=[],o=16383,a=0,d=r-i;a<d;a+=o)n.push(CZ(t,a,a+o>d?d:a+o));return i===1?(e=t[r-1],n.push(ma[e>>2]+ma[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(ma[e>>10]+ma[e>>4&63]+ma[e<<2&63]+"=")),n.join("")}});var i7=K(j3=>{M();j3.read=function(t,e,r,i,n){var o,a,d=n*8-i-1,p=(1<<d)-1,v=p>>1,w=-7,x=r?n-1:0,E=r?-1:1,T=t[e+x];for(x+=E,o=T&(1<<-w)-1,T>>=-w,w+=d;w>0;o=o*256+t[e+x],x+=E,w-=8);for(a=o&(1<<-w)-1,o>>=-w,w+=i;w>0;a=a*256+t[e+x],x+=E,w-=8);if(o===0)o=1-v;else{if(o===p)return a?NaN:(T?-1:1)*(1/0);a=a+Math.pow(2,i),o=o-v}return(T?-1:1)*a*Math.pow(2,o-i)};j3.write=function(t,e,r,i,n,o){var a,d,p,v=o*8-n-1,w=(1<<v)-1,x=w>>1,E=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:o-1,A=i?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,a=w):(a=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-a))<1&&(a--,p*=2),a+x>=1?e+=E/p:e+=E*Math.pow(2,1-x),e*p>=2&&(a++,p/=2),a+x>=w?(d=0,a=w):a+x>=1?(d=(e*p-1)*Math.pow(2,n),a=a+x):(d=e*Math.pow(2,x-1)*Math.pow(2,n),a=0));n>=8;t[r+T]=d&255,T+=A,d/=256,n-=8);for(a=a<<n|d,v+=n;v>0;t[r+T]=a&255,T+=A,a/=256,v-=8);t[r+T-A]|=k*128}});var Ut=K(uh=>{"use strict";M();var L3=r7(),fh=i7(),n7=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;uh.Buffer=Oe;uh.SlowBuffer=FZ;uh.INSPECT_MAX_BYTES=50;var Tv=2147483647;uh.kMaxLength=Tv;Oe.TYPED_ARRAY_SUPPORT=NZ();!Oe.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function NZ(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(Oe.prototype,"parent",{enumerable:!0,get:function(){if(Oe.isBuffer(this))return this.buffer}});Object.defineProperty(Oe.prototype,"offset",{enumerable:!0,get:function(){if(Oe.isBuffer(this))return this.byteOffset}});function gf(t){if(t>Tv)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,Oe.prototype),e}function Oe(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return $3(t)}return a7(t,e,r)}Oe.poolSize=8192;function a7(t,e,r){if(typeof t=="string")return LZ(t,e);if(ArrayBuffer.isView(t))return UZ(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ya(t,ArrayBuffer)||t&&ya(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ya(t,SharedArrayBuffer)||t&&ya(t.buffer,SharedArrayBuffer)))return z3(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return Oe.from(i,e,r);var n=zZ(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Oe.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Oe.from=function(t,e,r){return a7(t,e,r)};Object.setPrototypeOf(Oe.prototype,Uint8Array.prototype);Object.setPrototypeOf(Oe,Uint8Array);function f7(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function jZ(t,e,r){return f7(t),t<=0?gf(t):e!==void 0?typeof r=="string"?gf(t).fill(e,r):gf(t).fill(e):gf(t)}Oe.alloc=function(t,e,r){return jZ(t,e,r)};function $3(t){return f7(t),gf(t<0?0:W3(t)|0)}Oe.allocUnsafe=function(t){return $3(t)};Oe.allocUnsafeSlow=function(t){return $3(t)};function LZ(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Oe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=u7(t,e)|0,i=gf(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function U3(t){for(var e=t.length<0?0:W3(t.length)|0,r=gf(e),i=0;i<e;i+=1)r[i]=t[i]&255;return r}function UZ(t){if(ya(t,Uint8Array)){var e=new Uint8Array(t);return z3(e.buffer,e.byteOffset,e.byteLength)}return U3(t)}function z3(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,Oe.prototype),i}function zZ(t){if(Oe.isBuffer(t)){var e=W3(t.length)|0,r=gf(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||G3(t.length)?gf(0):U3(t);if(t.type==="Buffer"&&Array.isArray(t.data))return U3(t.data)}function W3(t){if(t>=Tv)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Tv.toString(16)+" bytes");return t|0}function FZ(t){return+t!=t&&(t=0),Oe.alloc(+t)}Oe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Oe.prototype};Oe.compare=function(e,r){if(ya(e,Uint8Array)&&(e=Oe.from(e,e.offset,e.byteLength)),ya(r,Uint8Array)&&(r=Oe.from(r,r.offset,r.byteLength)),!Oe.isBuffer(e)||!Oe.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,o=0,a=Math.min(i,n);o<a;++o)if(e[o]!==r[o]){i=e[o],n=r[o];break}return i<n?-1:n<i?1:0};Oe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Oe.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Oe.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=Oe.allocUnsafe(r),o=0;for(i=0;i<e.length;++i){var a=e[i];if(ya(a,Uint8Array))o+a.length>n.length?Oe.from(a).copy(n,o):Uint8Array.prototype.set.call(n,a,o);else if(Oe.isBuffer(a))a.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return n};function u7(t,e){if(Oe.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ya(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F3(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return m7(t).length;default:if(n)return i?-1:F3(t).length;e=(""+e).toLowerCase(),n=!0}}Oe.byteLength=u7;function $Z(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return XZ(this,e,r);case"utf8":case"utf-8":return l7(this,e,r);case"ascii":return JZ(this,e,r);case"latin1":case"binary":return QZ(this,e,r);case"base64":return ZZ(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eY(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}Oe.prototype._isBuffer=!0;function tl(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}Oe.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)tl(this,r,r+1);return this};Oe.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)tl(this,r,r+3),tl(this,r+1,r+2);return this};Oe.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)tl(this,r,r+7),tl(this,r+1,r+6),tl(this,r+2,r+5),tl(this,r+3,r+4);return this};Oe.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?l7(this,0,e):$Z.apply(this,arguments)};Oe.prototype.toLocaleString=Oe.prototype.toString;Oe.prototype.equals=function(e){if(!Oe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Oe.compare(this,e)===0};Oe.prototype.inspect=function(){var e="",r=uh.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};n7&&(Oe.prototype[n7]=Oe.prototype.inspect);Oe.prototype.compare=function(e,r,i,n,o){if(ya(e,Uint8Array)&&(e=Oe.from(e,e.offset,e.byteLength)),!Oe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),r<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=i)return 0;if(n>=o)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var a=o-n,d=i-r,p=Math.min(a,d),v=this.slice(n,o),w=e.slice(r,i),x=0;x<p;++x)if(v[x]!==w[x]){a=v[x],d=w[x];break}return a<d?-1:d<a?1:0};function c7(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,G3(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=Oe.from(e,i)),Oe.isBuffer(e))return e.length===0?-1:o7(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):o7(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function o7(t,e,r,i,n){var o=1,a=t.length,d=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,d/=2,r/=2}function p(T,A){return o===1?T[A]:T.readUInt16BE(A*o)}var v;if(n){var w=-1;for(v=r;v<a;v++)if(p(t,v)===p(e,w===-1?0:v-w)){if(w===-1&&(w=v),v-w+1===d)return w*o}else w!==-1&&(v-=v-w),w=-1}else for(r+d>a&&(r=a-d),v=r;v>=0;v--){for(var x=!0,E=0;E<d;E++)if(p(t,v+E)!==p(e,E)){x=!1;break}if(x)return v}return-1}Oe.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};Oe.prototype.indexOf=function(e,r,i){return c7(this,e,r,i,!0)};Oe.prototype.lastIndexOf=function(e,r,i){return c7(this,e,r,i,!1)};function WZ(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var o=e.length;i>o/2&&(i=o/2);for(var a=0;a<i;++a){var d=parseInt(e.substr(a*2,2),16);if(G3(d))return a;t[r+a]=d}return a}function GZ(t,e,r,i){return Pv(F3(e,t.length-r),t,r,i)}function VZ(t,e,r,i){return Pv(iY(e),t,r,i)}function KZ(t,e,r,i){return Pv(m7(e),t,r,i)}function HZ(t,e,r,i){return Pv(nY(e,t.length-r),t,r,i)}Oe.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return WZ(this,e,r,i);case"utf8":case"utf-8":return GZ(this,e,r,i);case"ascii":case"latin1":case"binary":return VZ(this,e,r,i);case"base64":return KZ(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return HZ(this,e,r,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}};Oe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ZZ(t,e,r){return e===0&&r===t.length?L3.fromByteArray(t):L3.fromByteArray(t.slice(e,r))}function l7(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o=t[n],a=null,d=o>239?4:o>223?3:o>191?2:1;if(n+d<=r){var p,v,w,x;switch(d){case 1:o<128&&(a=o);break;case 2:p=t[n+1],(p&192)===128&&(x=(o&31)<<6|p&63,x>127&&(a=x));break;case 3:p=t[n+1],v=t[n+2],(p&192)===128&&(v&192)===128&&(x=(o&15)<<12|(p&63)<<6|v&63,x>2047&&(x<55296||x>57343)&&(a=x));break;case 4:p=t[n+1],v=t[n+2],w=t[n+3],(p&192)===128&&(v&192)===128&&(w&192)===128&&(x=(o&15)<<18|(p&63)<<12|(v&63)<<6|w&63,x>65535&&x<1114112&&(a=x))}}a===null?(a=65533,d=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|a&1023),i.push(a),n+=d}return YZ(i)}var s7=4096;function YZ(t){var e=t.length;if(e<=s7)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=s7));return r}function JZ(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function QZ(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function XZ(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=oY[t[o]];return n}function eY(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}Oe.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,Oe.prototype),n};function Zi(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Oe.prototype.readUintLE=Oe.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Zi(e,r,this.length);for(var n=this[e],o=1,a=0;++a<r&&(o*=256);)n+=this[e+a]*o;return n};Oe.prototype.readUintBE=Oe.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Zi(e,r,this.length);for(var n=this[e+--r],o=1;r>0&&(o*=256);)n+=this[e+--r]*o;return n};Oe.prototype.readUint8=Oe.prototype.readUInt8=function(e,r){return e=e>>>0,r||Zi(e,1,this.length),this[e]};Oe.prototype.readUint16LE=Oe.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Zi(e,2,this.length),this[e]|this[e+1]<<8};Oe.prototype.readUint16BE=Oe.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Zi(e,2,this.length),this[e]<<8|this[e+1]};Oe.prototype.readUint32LE=Oe.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Zi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Oe.prototype.readUint32BE=Oe.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Zi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Oe.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Zi(e,r,this.length);for(var n=this[e],o=1,a=0;++a<r&&(o*=256);)n+=this[e+a]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*r)),n};Oe.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Zi(e,r,this.length);for(var n=r,o=1,a=this[e+--n];n>0&&(o*=256);)a+=this[e+--n]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a};Oe.prototype.readInt8=function(e,r){return e=e>>>0,r||Zi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Oe.prototype.readInt16LE=function(e,r){e=e>>>0,r||Zi(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Oe.prototype.readInt16BE=function(e,r){e=e>>>0,r||Zi(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Oe.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Zi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Oe.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Zi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Oe.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Zi(e,4,this.length),fh.read(this,e,!0,23,4)};Oe.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Zi(e,4,this.length),fh.read(this,e,!1,23,4)};Oe.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Zi(e,8,this.length),fh.read(this,e,!0,52,8)};Oe.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Zi(e,8,this.length),fh.read(this,e,!1,52,8)};function ao(t,e,r,i,n,o){if(!Oe.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}Oe.prototype.writeUintLE=Oe.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;ao(this,e,r,i,o,0)}var a=1,d=0;for(this[r]=e&255;++d<i&&(a*=256);)this[r+d]=e/a&255;return r+i};Oe.prototype.writeUintBE=Oe.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;ao(this,e,r,i,o,0)}var a=i-1,d=1;for(this[r+a]=e&255;--a>=0&&(d*=256);)this[r+a]=e/d&255;return r+i};Oe.prototype.writeUint8=Oe.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,1,255,0),this[r]=e&255,r+1};Oe.prototype.writeUint16LE=Oe.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Oe.prototype.writeUint16BE=Oe.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Oe.prototype.writeUint32LE=Oe.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Oe.prototype.writeUint32BE=Oe.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Oe.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);ao(this,e,r,i,o-1,-o)}var a=0,d=1,p=0;for(this[r]=e&255;++a<i&&(d*=256);)e<0&&p===0&&this[r+a-1]!==0&&(p=1),this[r+a]=(e/d>>0)-p&255;return r+i};Oe.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);ao(this,e,r,i,o-1,-o)}var a=i-1,d=1,p=0;for(this[r+a]=e&255;--a>=0&&(d*=256);)e<0&&p===0&&this[r+a+1]!==0&&(p=1),this[r+a]=(e/d>>0)-p&255;return r+i};Oe.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Oe.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Oe.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Oe.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Oe.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||ao(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function d7(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function h7(t,e,r,i,n){return e=+e,r=r>>>0,n||d7(t,e,r,4,34028234663852886e22,-34028234663852886e22),fh.write(t,e,r,i,23,4),r+4}Oe.prototype.writeFloatLE=function(e,r,i){return h7(this,e,r,!0,i)};Oe.prototype.writeFloatBE=function(e,r,i){return h7(this,e,r,!1,i)};function p7(t,e,r,i,n){return e=+e,r=r>>>0,n||d7(t,e,r,8,17976931348623157e292,-17976931348623157e292),fh.write(t,e,r,i,52,8),r+8}Oe.prototype.writeDoubleLE=function(e,r,i){return p7(this,e,r,!0,i)};Oe.prototype.writeDoubleBE=function(e,r,i){return p7(this,e,r,!1,i)};Oe.prototype.copy=function(e,r,i,n){if(!Oe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),o};Oe.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Oe.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var a;if(typeof e=="number")for(a=r;a<i;++a)this[a]=e;else{var d=Oe.isBuffer(e)?e:Oe.from(e,n),p=d.length;if(p===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-r;++a)this[a+r]=d[a%p]}return this};var tY=/[^+/0-9A-Za-z-_]/g;function rY(t){if(t=t.split("=")[0],t=t.trim().replace(tY,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function F3(t,e){e=e||1/0;for(var r,i=t.length,n=null,o=[],a=0;a<i;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function iY(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function nY(t,e){for(var r,i,n,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),i=r>>8,n=r%256,o.push(n),o.push(i);return o}function m7(t){return L3.toByteArray(rY(t))}function Pv(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function ya(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function G3(t){return t!==t}var oY=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var i=r*16,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()});var wf=K((L3e,b7)=>{M();var fi=b7.exports={},ga,va;function V3(){throw new Error("setTimeout has not been defined")}function K3(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ga=setTimeout:ga=V3}catch{ga=V3}try{typeof clearTimeout=="function"?va=clearTimeout:va=K3}catch{va=K3}})();function y7(t){if(ga===setTimeout)return setTimeout(t,0);if((ga===V3||!ga)&&setTimeout)return ga=setTimeout,setTimeout(t,0);try{return ga(t,0)}catch{try{return ga.call(null,t,0)}catch{return ga.call(this,t,0)}}}function sY(t){if(va===clearTimeout)return clearTimeout(t);if((va===K3||!va)&&clearTimeout)return va=clearTimeout,clearTimeout(t);try{return va(t)}catch{try{return va.call(null,t)}catch{return va.call(this,t)}}}var vf=[],ch=!1,rl,Rv=-1;function aY(){!ch||!rl||(ch=!1,rl.length?vf=rl.concat(vf):Rv=-1,vf.length&&g7())}function g7(){if(!ch){var t=y7(aY);ch=!0;for(var e=vf.length;e;){for(rl=vf,vf=[];++Rv<e;)rl&&rl[Rv].run();Rv=-1,e=vf.length}rl=null,ch=!1,sY(t)}}fi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];vf.push(new v7(t,e)),vf.length===1&&!ch&&y7(g7)};function v7(t,e){this.fun=t,this.array=e}v7.prototype.run=function(){this.fun.apply(null,this.array)};fi.title="browser";fi.browser=!0;fi.env={};fi.argv=[];fi.version="";fi.versions={};function bf(){}fi.on=bf;fi.addListener=bf;fi.once=bf;fi.off=bf;fi.removeListener=bf;fi.removeAllListeners=bf;fi.emit=bf;fi.prependListener=bf;fi.prependOnceListener=bf;fi.listeners=function(t){return[]};fi.binding=function(t){throw new Error("process.binding is not supported")};fi.cwd=function(){return"/"};fi.chdir=function(t){throw new Error("process.chdir is not supported")};fi.umask=function(){return 0}});var N,O,z3e,M=PZ(()=>{N=Lt(Ut()),O=Lt(wf()),z3e=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object)});var fo=K((MMe,X9)=>{"use strict";M();function Q9(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function iQ(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Q9(t,r)}catch{r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),Q9(new n,r)}}X9.exports=iQ});var RP=K((Z4e,PP)=>{"use strict";M();PP.exports=KQ;function KQ(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,o=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(d,p){r[i]=function(w){if(o)if(o=!1,w)p(w);else{for(var x=new Array(arguments.length-1),E=0;E<x.length;)x[E++]=arguments[E];d.apply(null,x)}};try{t.apply(e||null,r)}catch(v){o&&(o=!1,p(v))}})}});var BP=K(DP=>{"use strict";M();var Wv=DP;Wv.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var Dh=new Array(64),IP=new Array(123);for(Cs=0;Cs<64;)IP[Dh[Cs]=Cs<26?Cs+65:Cs<52?Cs+71:Cs<62?Cs-4:Cs-59|43]=Cs++;var Cs;Wv.encode=function(e,r,i){for(var n=null,o=[],a=0,d=0,p;r<i;){var v=e[r++];switch(d){case 0:o[a++]=Dh[v>>2],p=(v&3)<<4,d=1;break;case 1:o[a++]=Dh[p|v>>4],p=(v&15)<<2,d=2;break;case 2:o[a++]=Dh[p|v>>6],o[a++]=Dh[v&63],d=0;break}a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),a=0)}return d&&(o[a++]=Dh[p],o[a++]=61,d===1&&(o[a++]=61)),n?(a&&n.push(String.fromCharCode.apply(String,o.slice(0,a))),n.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var kP="invalid encoding";Wv.decode=function(e,r,i){for(var n=i,o=0,a,d=0;d<e.length;){var p=e.charCodeAt(d++);if(p===61&&o>1)break;if((p=IP[p])===void 0)throw Error(kP);switch(o){case 0:a=p,o=1;break;case 1:r[i++]=a<<2|(p&48)>>4,a=p,o=2;break;case 2:r[i++]=(a&15)<<4|(p&60)>>2,a=p,o=3;break;case 3:r[i++]=(a&3)<<6|p,o=0;break}}if(o===1)throw Error(kP);return i-n};Wv.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var CP=K((X4e,OP)=>{"use strict";M();OP.exports=Gv;function Gv(){this._listeners={}}Gv.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};Gv.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};Gv.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var FP=K((t8e,zP)=>{"use strict";M();zP.exports=qP(qP);function qP(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(p,v,w){e[0]=p,v[w]=r[0],v[w+1]=r[1],v[w+2]=r[2],v[w+3]=r[3]}function o(p,v,w){e[0]=p,v[w]=r[3],v[w+1]=r[2],v[w+2]=r[1],v[w+3]=r[0]}t.writeFloatLE=i?n:o,t.writeFloatBE=i?o:n;function a(p,v){return r[0]=p[v],r[1]=p[v+1],r[2]=p[v+2],r[3]=p[v+3],e[0]}function d(p,v){return r[3]=p[v],r[2]=p[v+1],r[1]=p[v+2],r[0]=p[v+3],e[0]}t.readFloatLE=i?a:d,t.readFloatBE=i?d:a}():function(){function e(i,n,o,a){var d=n<0?1:0;if(d&&(n=-n),n===0)i(1/n>0?0:2147483648,o,a);else if(isNaN(n))i(2143289344,o,a);else if(n>34028234663852886e22)i((d<<31|2139095040)>>>0,o,a);else if(n<11754943508222875e-54)i((d<<31|Math.round(n/1401298464324817e-60))>>>0,o,a);else{var p=Math.floor(Math.log(n)/Math.LN2),v=Math.round(n*Math.pow(2,-p)*8388608)&8388607;i((d<<31|p+127<<23|v)>>>0,o,a)}}t.writeFloatLE=e.bind(null,NP),t.writeFloatBE=e.bind(null,jP);function r(i,n,o){var a=i(n,o),d=(a>>31)*2+1,p=a>>>23&255,v=a&8388607;return p===255?v?NaN:d*(1/0):p===0?d*1401298464324817e-60*v:d*Math.pow(2,p-150)*(v+8388608)}t.readFloatLE=r.bind(null,LP),t.readFloatBE=r.bind(null,UP)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(p,v,w){e[0]=p,v[w]=r[0],v[w+1]=r[1],v[w+2]=r[2],v[w+3]=r[3],v[w+4]=r[4],v[w+5]=r[5],v[w+6]=r[6],v[w+7]=r[7]}function o(p,v,w){e[0]=p,v[w]=r[7],v[w+1]=r[6],v[w+2]=r[5],v[w+3]=r[4],v[w+4]=r[3],v[w+5]=r[2],v[w+6]=r[1],v[w+7]=r[0]}t.writeDoubleLE=i?n:o,t.writeDoubleBE=i?o:n;function a(p,v){return r[0]=p[v],r[1]=p[v+1],r[2]=p[v+2],r[3]=p[v+3],r[4]=p[v+4],r[5]=p[v+5],r[6]=p[v+6],r[7]=p[v+7],e[0]}function d(p,v){return r[7]=p[v],r[6]=p[v+1],r[5]=p[v+2],r[4]=p[v+3],r[3]=p[v+4],r[2]=p[v+5],r[1]=p[v+6],r[0]=p[v+7],e[0]}t.readDoubleLE=i?a:d,t.readDoubleBE=i?d:a}():function(){function e(i,n,o,a,d,p){var v=a<0?1:0;if(v&&(a=-a),a===0)i(0,d,p+n),i(1/a>0?0:2147483648,d,p+o);else if(isNaN(a))i(0,d,p+n),i(2146959360,d,p+o);else if(a>17976931348623157e292)i(0,d,p+n),i((v<<31|2146435072)>>>0,d,p+o);else{var w;if(a<22250738585072014e-324)w=a/5e-324,i(w>>>0,d,p+n),i((v<<31|w/4294967296)>>>0,d,p+o);else{var x=Math.floor(Math.log(a)/Math.LN2);x===1024&&(x=1023),w=a*Math.pow(2,-x),i(w*4503599627370496>>>0,d,p+n),i((v<<31|x+1023<<20|w*1048576&1048575)>>>0,d,p+o)}}}t.writeDoubleLE=e.bind(null,NP,0,4),t.writeDoubleBE=e.bind(null,jP,4,0);function r(i,n,o,a,d){var p=i(a,d+n),v=i(a,d+o),w=(v>>31)*2+1,x=v>>>20&2047,E=4294967296*(v&1048575)+p;return x===2047?E?NaN:w*(1/0):x===0?w*5e-324*E:w*Math.pow(2,x-1075)*(E+4503599627370496)}t.readDoubleLE=r.bind(null,LP,0,4),t.readDoubleBE=r.bind(null,UP,4,0)}(),t}function NP(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function jP(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function LP(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function UP(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var $P=K((exports,module)=>{"use strict";M();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var GP=K(WP=>{"use strict";M();var I6=WP;I6.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};I6.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var o=null,a=[],d=0,p;r<i;)p=e[r++],p<128?a[d++]=p:p>191&&p<224?a[d++]=(p&31)<<6|e[r++]&63:p>239&&p<365?(p=((p&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[d++]=55296+(p>>10),a[d++]=56320+(p&1023)):a[d++]=(p&15)<<12|(e[r++]&63)<<6|e[r++]&63,d>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),d=0);return o?(d&&o.push(String.fromCharCode.apply(String,a.slice(0,d))),o.join("")):String.fromCharCode.apply(String,a.slice(0,d))};I6.write=function(e,r,i){for(var n=i,o,a,d=0;d<e.length;++d)o=e.charCodeAt(d),o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):(o&64512)===55296&&((a=e.charCodeAt(d+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++d,r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128);return i-n}});var KP=K((s8e,VP)=>{"use strict";M();VP.exports=HQ;function HQ(t,e,r){var i=r||8192,n=i>>>1,o=null,a=i;return function(p){if(p<1||p>n)return t(p);a+p>i&&(o=t(i),a=0);var v=e.call(o,a,a+=p);return a&7&&(a=(a|7)+1),v}}});var ZP=K((f8e,HP)=>{"use strict";M();HP.exports=Ji;var bm=cl();function Ji(t,e){this.lo=t>>>0,this.hi=e>>>0}var ul=Ji.zero=new Ji(0,0);ul.toNumber=function(){return 0};ul.zzEncode=ul.zzDecode=function(){return this};ul.length=function(){return 1};var ZQ=Ji.zeroHash="\0\0\0\0\0\0\0\0";Ji.fromNumber=function(e){if(e===0)return ul;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new Ji(i,n)};Ji.from=function(e){if(typeof e=="number")return Ji.fromNumber(e);if(bm.isString(e))if(bm.Long)e=bm.Long.fromString(e);else return Ji.fromNumber(parseInt(e,10));return e.low||e.high?new Ji(e.low>>>0,e.high>>>0):ul};Ji.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};Ji.prototype.toLong=function(e){return bm.Long?new bm.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Pu=String.prototype.charCodeAt;Ji.fromHash=function(e){return e===ZQ?ul:new Ji((Pu.call(e,0)|Pu.call(e,1)<<8|Pu.call(e,2)<<16|Pu.call(e,3)<<24)>>>0,(Pu.call(e,4)|Pu.call(e,5)<<8|Pu.call(e,6)<<16|Pu.call(e,7)<<24)>>>0)};Ji.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ji.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Ji.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Ji.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var cl=K(D6=>{"use strict";M();var Je=D6;Je.asPromise=RP();Je.base64=BP();Je.EventEmitter=CP();Je.float=FP();Je.inquire=$P();Je.utf8=GP();Je.pool=KP();Je.LongBits=ZP();Je.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);Je.global=Je.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||D6;Je.emptyArray=Object.freeze?Object.freeze([]):[];Je.emptyObject=Object.freeze?Object.freeze({}):{};Je.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Je.isString=function(e){return typeof e=="string"||e instanceof String};Je.isObject=function(e){return e&&typeof e=="object"};Je.isset=Je.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};Je.Buffer=function(){try{var t=Je.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();Je._Buffer_from=null;Je._Buffer_allocUnsafe=null;Je.newBuffer=function(e){return typeof e=="number"?Je.Buffer?Je._Buffer_allocUnsafe(e):new Je.Array(e):Je.Buffer?Je._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Je.Array=typeof Uint8Array<"u"?Uint8Array:Array;Je.Long=Je.global.dcodeIO&&Je.global.dcodeIO.Long||Je.global.Long||Je.inquire("long");Je.key2Re=/^true|false|0|1$/;Je.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Je.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Je.longToHash=function(e){return e?Je.LongBits.from(e).toHash():Je.LongBits.zeroHash};Je.longFromHash=function(e,r){var i=Je.LongBits.fromHash(e);return Je.Long?Je.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function YP(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}Je.merge=YP;Je.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function JP(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&YP(this,i)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Je.newError=JP;Je.ProtocolError=JP("ProtocolError");Je.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),o=n.length-1;o>-1;--o)if(r[n[o]]===1&&this[n[o]]!==void 0&&this[n[o]]!==null)return n[o]}};Je.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};Je.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Je._configure=function(){var t=Je.Buffer;if(!t){Je._Buffer_from=Je._Buffer_allocUnsafe=null;return}Je._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},Je._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var C6=K((d8e,rR)=>{"use strict";M();rR.exports=ci;var Ma=cl(),O6,eR=Ma.LongBits,YQ=Ma.utf8;function qs(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function ci(t){this.buf=t,this.pos=0,this.len=t.length}var QP=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ci(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ci(e);throw Error("illegal buffer")},tR=function(){return Ma.Buffer?function(r){return(ci.create=function(n){return Ma.Buffer.isBuffer(n)?new O6(n):QP(n)})(r)}:QP};ci.create=tR();ci.prototype._slice=Ma.Array.prototype.subarray||Ma.Array.prototype.slice;ci.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,qs(this,10);return e}}();ci.prototype.int32=function(){return this.uint32()|0};ci.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function B6(){var t=new eR(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw qs(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw qs(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}ci.prototype.bool=function(){return this.uint32()!==0};function Vv(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}ci.prototype.fixed32=function(){if(this.pos+4>this.len)throw qs(this,4);return Vv(this.buf,this.pos+=4)};ci.prototype.sfixed32=function(){if(this.pos+4>this.len)throw qs(this,4);return Vv(this.buf,this.pos+=4)|0};function XP(){if(this.pos+8>this.len)throw qs(this,8);return new eR(Vv(this.buf,this.pos+=4),Vv(this.buf,this.pos+=4))}ci.prototype.float=function(){if(this.pos+4>this.len)throw qs(this,4);var e=Ma.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ci.prototype.double=function(){if(this.pos+8>this.len)throw qs(this,4);var e=Ma.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ci.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw qs(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};ci.prototype.string=function(){var e=this.bytes();return YQ.read(e,0,e.length)};ci.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw qs(this,e);this.pos+=e}else do if(this.pos>=this.len)throw qs(this);while(this.buf[this.pos++]&128);return this};ci.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};ci._configure=function(t){O6=t,ci.create=tR(),O6._configure();var e=Ma.Long?"toLong":"toNumber";Ma.merge(ci.prototype,{int64:function(){return B6.call(this)[e](!1)},uint64:function(){return B6.call(this)[e](!0)},sint64:function(){return B6.call(this).zzDecode()[e](!1)},fixed64:function(){return XP.call(this)[e](!0)},sfixed64:function(){return XP.call(this)[e](!1)}})}});var sR=K((p8e,oR)=>{"use strict";M();oR.exports=ll;var nR=C6();(ll.prototype=Object.create(nR.prototype)).constructor=ll;var iR=cl();function ll(t){nR.call(this,t)}ll._configure=function(){iR.Buffer&&(ll.prototype._slice=iR.Buffer.prototype.slice)};ll.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ll._configure()});var F6=K((y8e,cR)=>{"use strict";M();cR.exports=$t;var Qo=cl(),q6,Kv=Qo.LongBits,aR=Qo.base64,fR=Qo.utf8;function wm(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function j6(){}function JQ(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function $t(){this.len=0,this.head=new wm(j6,0,0),this.tail=this.head,this.states=null}var uR=function(){return Qo.Buffer?function(){return($t.create=function(){return new q6})()}:function(){return new $t}};$t.create=uR();$t.alloc=function(e){return new Qo.Array(e)};Qo.Array!==Array&&($t.alloc=Qo.pool($t.alloc,Qo.Array.prototype.subarray));$t.prototype._push=function(e,r,i){return this.tail=this.tail.next=new wm(e,r,i),this.len+=r,this};function L6(t,e,r){e[r]=t&255}function QQ(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function U6(t,e){this.len=t,this.next=void 0,this.val=e}U6.prototype=Object.create(wm.prototype);U6.prototype.fn=QQ;$t.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new U6((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};$t.prototype.int32=function(e){return e<0?this._push(z6,10,Kv.fromNumber(e)):this.uint32(e)};$t.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function z6(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}$t.prototype.uint64=function(e){var r=Kv.from(e);return this._push(z6,r.length(),r)};$t.prototype.int64=$t.prototype.uint64;$t.prototype.sint64=function(e){var r=Kv.from(e).zzEncode();return this._push(z6,r.length(),r)};$t.prototype.bool=function(e){return this._push(L6,1,e?1:0)};function N6(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}$t.prototype.fixed32=function(e){return this._push(N6,4,e>>>0)};$t.prototype.sfixed32=$t.prototype.fixed32;$t.prototype.fixed64=function(e){var r=Kv.from(e);return this._push(N6,4,r.lo)._push(N6,4,r.hi)};$t.prototype.sfixed64=$t.prototype.fixed64;$t.prototype.float=function(e){return this._push(Qo.float.writeFloatLE,4,e)};$t.prototype.double=function(e){return this._push(Qo.float.writeDoubleLE,8,e)};var XQ=Qo.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};$t.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(L6,1,0);if(Qo.isString(e)){var i=$t.alloc(r=aR.length(e));aR.decode(e,i,0),e=i}return this.uint32(r)._push(XQ,r,e)};$t.prototype.string=function(e){var r=fR.length(e);return r?this.uint32(r)._push(fR.write,r,e):this._push(L6,1,0)};$t.prototype.fork=function(){return this.states=new JQ(this),this.head=this.tail=new wm(j6,0,0),this.len=0,this};$t.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new wm(j6,0,0),this.len=0),this};$t.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};$t.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};$t._configure=function(t){q6=t,$t.create=uR(),q6._configure()}});var hR=K((v8e,dR)=>{"use strict";M();dR.exports=Ea;var lR=F6();(Ea.prototype=Object.create(lR.prototype)).constructor=Ea;var Ru=cl();function Ea(){lR.call(this)}Ea._configure=function(){Ea.alloc=Ru._Buffer_allocUnsafe,Ea.writeBytesBuffer=Ru.Buffer&&Ru.Buffer.prototype instanceof Uint8Array&&Ru.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};Ea.prototype.bytes=function(e){Ru.isString(e)&&(e=Ru._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Ea.writeBytesBuffer,r,e),this};function eX(t,e,r){t.length<40?Ru.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Ea.prototype.string=function(e){var r=Ru.Buffer.byteLength(e);return this.uint32(r),r&&this._push(eX,r,e),this};Ea._configure()});var HR=K((Dm,Qv)=>{M();(function(t,e){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(T){if(!Array.isArray(T)&&!ArrayBuffer.isView(T))return!1;for(var A=0;A<T.length;A++)if(!Number.isInteger(T[A])||T[A]<0||T[A]>255)return!1;return!0}function n(T,A){return(T&65535)*A+(((T>>>16)*A&65535)<<16)}function o(T,A){return T<<A|T>>>32-A}function a(T){return T^=T>>>16,T=n(T,2246822507),T^=T>>>13,T=n(T,3266489909),T^=T>>>16,T}function d(T,A){T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535],A=[A[0]>>>16,A[0]&65535,A[1]>>>16,A[1]&65535];var k=[0,0,0,0];return k[3]+=T[3]+A[3],k[2]+=k[3]>>>16,k[3]&=65535,k[2]+=T[2]+A[2],k[1]+=k[2]>>>16,k[2]&=65535,k[1]+=T[1]+A[1],k[0]+=k[1]>>>16,k[1]&=65535,k[0]+=T[0]+A[0],k[0]&=65535,[k[0]<<16|k[1],k[2]<<16|k[3]]}function p(T,A){T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535],A=[A[0]>>>16,A[0]&65535,A[1]>>>16,A[1]&65535];var k=[0,0,0,0];return k[3]+=T[3]*A[3],k[2]+=k[3]>>>16,k[3]&=65535,k[2]+=T[2]*A[3],k[1]+=k[2]>>>16,k[2]&=65535,k[2]+=T[3]*A[2],k[1]+=k[2]>>>16,k[2]&=65535,k[1]+=T[1]*A[3],k[0]+=k[1]>>>16,k[1]&=65535,k[1]+=T[2]*A[2],k[0]+=k[1]>>>16,k[1]&=65535,k[1]+=T[3]*A[1],k[0]+=k[1]>>>16,k[1]&=65535,k[0]+=T[0]*A[3]+T[1]*A[2]+T[2]*A[1]+T[3]*A[0],k[0]&=65535,[k[0]<<16|k[1],k[2]<<16|k[3]]}function v(T,A){return A%=64,A===32?[T[1],T[0]]:A<32?[T[0]<<A|T[1]>>>32-A,T[1]<<A|T[0]>>>32-A]:(A-=32,[T[1]<<A|T[0]>>>32-A,T[0]<<A|T[1]>>>32-A])}function w(T,A){return A%=64,A===0?T:A<32?[T[0]<<A|T[1]>>>32-A,T[1]<<A]:[T[1]<<A-32,0]}function x(T,A){return[T[0]^A[0],T[1]^A[1]]}function E(T){return T=x(T,[0,T[0]>>>1]),T=p(T,[4283543511,3981806797]),T=x(T,[0,T[0]>>>1]),T=p(T,[3301882366,444984403]),T=x(T,[0,T[0]>>>1]),T}r.x86.hash32=function(T,A){if(r.inputValidation&&!i(T))return e;A=A||0;for(var k=T.length%4,D=T.length-k,I=A,C=0,q=3432918353,U=461845907,$=0;$<D;$=$+4)C=T[$]|T[$+1]<<8|T[$+2]<<16|T[$+3]<<24,C=n(C,q),C=o(C,15),C=n(C,U),I^=C,I=o(I,13),I=n(I,5)+3864292196;switch(C=0,k){case 3:C^=T[$+2]<<16;case 2:C^=T[$+1]<<8;case 1:C^=T[$],C=n(C,q),C=o(C,15),C=n(C,U),I^=C}return I^=T.length,I=a(I),I>>>0},r.x86.hash128=function(T,A){if(r.inputValidation&&!i(T))return e;A=A||0;for(var k=T.length%16,D=T.length-k,I=A,C=A,q=A,U=A,$=0,W=0,F=0,L=0,H=597399067,_=2869860233,s=951274213,u=2716044179,h=0;h<D;h=h+16)$=T[h]|T[h+1]<<8|T[h+2]<<16|T[h+3]<<24,W=T[h+4]|T[h+5]<<8|T[h+6]<<16|T[h+7]<<24,F=T[h+8]|T[h+9]<<8|T[h+10]<<16|T[h+11]<<24,L=T[h+12]|T[h+13]<<8|T[h+14]<<16|T[h+15]<<24,$=n($,H),$=o($,15),$=n($,_),I^=$,I=o(I,19),I+=C,I=n(I,5)+1444728091,W=n(W,_),W=o(W,16),W=n(W,s),C^=W,C=o(C,17),C+=q,C=n(C,5)+197830471,F=n(F,s),F=o(F,17),F=n(F,u),q^=F,q=o(q,15),q+=U,q=n(q,5)+2530024501,L=n(L,u),L=o(L,18),L=n(L,H),U^=L,U=o(U,13),U+=I,U=n(U,5)+850148119;switch($=0,W=0,F=0,L=0,k){case 15:L^=T[h+14]<<16;case 14:L^=T[h+13]<<8;case 13:L^=T[h+12],L=n(L,u),L=o(L,18),L=n(L,H),U^=L;case 12:F^=T[h+11]<<24;case 11:F^=T[h+10]<<16;case 10:F^=T[h+9]<<8;case 9:F^=T[h+8],F=n(F,s),F=o(F,17),F=n(F,u),q^=F;case 8:W^=T[h+7]<<24;case 7:W^=T[h+6]<<16;case 6:W^=T[h+5]<<8;case 5:W^=T[h+4],W=n(W,_),W=o(W,16),W=n(W,s),C^=W;case 4:$^=T[h+3]<<24;case 3:$^=T[h+2]<<16;case 2:$^=T[h+1]<<8;case 1:$^=T[h],$=n($,H),$=o($,15),$=n($,_),I^=$}return I^=T.length,C^=T.length,q^=T.length,U^=T.length,I+=C,I+=q,I+=U,C+=I,q+=I,U+=I,I=a(I),C=a(C),q=a(q),U=a(U),I+=C,I+=q,I+=U,C+=I,q+=I,U+=I,("00000000"+(I>>>0).toString(16)).slice(-8)+("00000000"+(C>>>0).toString(16)).slice(-8)+("00000000"+(q>>>0).toString(16)).slice(-8)+("00000000"+(U>>>0).toString(16)).slice(-8)},r.x64.hash128=function(T,A){if(r.inputValidation&&!i(T))return e;A=A||0;for(var k=T.length%16,D=T.length-k,I=[0,A],C=[0,A],q=[0,0],U=[0,0],$=[2277735313,289559509],W=[1291169091,658871167],F=0;F<D;F=F+16)q=[T[F+4]|T[F+5]<<8|T[F+6]<<16|T[F+7]<<24,T[F]|T[F+1]<<8|T[F+2]<<16|T[F+3]<<24],U=[T[F+12]|T[F+13]<<8|T[F+14]<<16|T[F+15]<<24,T[F+8]|T[F+9]<<8|T[F+10]<<16|T[F+11]<<24],q=p(q,$),q=v(q,31),q=p(q,W),I=x(I,q),I=v(I,27),I=d(I,C),I=d(p(I,[0,5]),[0,1390208809]),U=p(U,W),U=v(U,33),U=p(U,$),C=x(C,U),C=v(C,31),C=d(C,I),C=d(p(C,[0,5]),[0,944331445]);switch(q=[0,0],U=[0,0],k){case 15:U=x(U,w([0,T[F+14]],48));case 14:U=x(U,w([0,T[F+13]],40));case 13:U=x(U,w([0,T[F+12]],32));case 12:U=x(U,w([0,T[F+11]],24));case 11:U=x(U,w([0,T[F+10]],16));case 10:U=x(U,w([0,T[F+9]],8));case 9:U=x(U,[0,T[F+8]]),U=p(U,W),U=v(U,33),U=p(U,$),C=x(C,U);case 8:q=x(q,w([0,T[F+7]],56));case 7:q=x(q,w([0,T[F+6]],48));case 6:q=x(q,w([0,T[F+5]],40));case 5:q=x(q,w([0,T[F+4]],32));case 4:q=x(q,w([0,T[F+3]],24));case 3:q=x(q,w([0,T[F+2]],16));case 2:q=x(q,w([0,T[F+1]],8));case 1:q=x(q,[0,T[F]]),q=p(q,$),q=v(q,31),q=p(q,W),I=x(I,q)}return I=x(I,[0,T.length]),C=x(C,[0,T.length]),I=d(I,C),C=d(C,I),I=E(I),C=E(C),I=d(I,C),C=d(C,I),("00000000"+(I[0]>>>0).toString(16)).slice(-8)+("00000000"+(I[1]>>>0).toString(16)).slice(-8)+("00000000"+(C[0]>>>0).toString(16)).slice(-8)+("00000000"+(C[1]>>>0).toString(16)).slice(-8)},typeof Dm<"u"?(typeof Qv<"u"&&Qv.exports&&(Dm=Qv.exports=r),Dm.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=t.murmurHash3,r.noConflict=function(){return t.murmurHash3=r._murmurHash3,r._murmurHash3=e,r.noConflict=e,r},t.murmurHash3=r)})(Dm)});var YR=K((C5e,ZR)=>{M();ZR.exports=HR()});var XR=K((W5e,QR)=>{"use strict";M();QR.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let i=this._internalPositionFor(e,!1);if(r===void 0)i!==-1&&(this._unsetInternalPos(i),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;i===-1?(i=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(i,e,r,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,i=new Array(this.length);for(;r<this.length;)i[r]=e(this.get(r),r,this),r++;return i}reduce(e,r){let i=0,n=r;for(;i<this.length;){let o=this.get(i);n=e(n,o,i),i++}return n}find(e){let r=0,i,n;for(;r<this.length&&!i;)n=this.get(r),i=e(n),r++;return i?n:void 0}_internalPositionFor(e,r){let i=this._bytePosFor(e,r);if(i>=this._bitArrays.length)return-1;let n=this._bitArrays[i],o=e-i*7;if(!((n&1<<o)>0))return-1;let d=this._bitArrays.slice(0,i).reduce(gee,0),p=~(4294967295<<o+1),v=JR(n&p);return d+v-1}_bytePosFor(e,r){let i=Math.floor(e/7),n=i+1;for(;!r&&this._bitArrays.length<n;)this._bitArrays.push(0);return i}_setBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*7}_unsetBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*7)}_setInternalPos(e,r,i,n){let o=this._data,a=[r,i];if(n)this._sortData(),o[e]=a;else{if(o.length)if(o[o.length-1][0]>=r)o.push(a);else if(o[0][0]<=r)o.unshift(a);else{let d=Math.round(o.length/2);this._data=o.slice(0,d).concat(a).concat(o.slice(d))}else this._data.push(a);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(vee),this._changedData=!1}bitField(){let e=[],r=8,i=0,n=0,o,a=this._bitArrays.slice();for(;a.length||i;){i===0&&(o=a.shift(),i=7);let p=Math.min(i,r),v=~(255<<p),w=o&v;n|=w<<8-r,o=o>>>p,i-=p,r-=p,(!r||!i&&!a.length)&&(e.push(n),n=0,r=8)}for(var d=e.length-1;d>0&&e[d]===0;d--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(bee)}};function gee(t,e){return t+JR(e)}function JR(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function vee(t,e){return t[0]-e[0]}function bee(t){return t[1]}});var dk=K((Tx,Px)=>{M();(function(t,e){typeof Tx=="object"&&typeof Px<"u"?Px.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(Tx,function(){"use strict";var t=Math.imul,e=Math.clz32;function r(L){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},r(L)}function i(L,H){if(!(L instanceof H))throw new TypeError("Cannot call a class as a function")}function n(L,H){for(var _,s=0;s<H.length;s++)_=H[s],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(L,_.key,_)}function o(L,H,_){return H&&n(L.prototype,H),_&&n(L,_),Object.defineProperty(L,"prototype",{writable:!1}),L}function a(L,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(H&&H.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),H&&p(L,H)}function d(L){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},d(L)}function p(L,H){return p=Object.setPrototypeOf||function(_,s){return _.__proto__=s,_},p(L,H)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(){return w=v()?Reflect.construct:function(L,H,_){var s=[null];s.push.apply(s,H);var u=Function.bind.apply(L,s),h=new u;return _&&p(h,_.prototype),h},w.apply(null,arguments)}function x(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function E(L){var H=typeof Map=="function"?new Map:void 0;return E=function(_){function s(){return w(_,arguments,d(this).constructor)}if(_===null||!x(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof H<"u"){if(H.has(_))return H.get(_);H.set(_,s)}return s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),p(s,_)},E(L)}function T(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function A(L,H){if(H&&(typeof H=="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(L)}function k(L){var H=v();return function(){var _,s=d(L);if(H){var u=d(this).constructor;_=Reflect.construct(s,arguments,u)}else _=s.apply(this,arguments);return A(this,_)}}function D(L,H){return I(L)||C(L,H)||q(L,H)||$()}function I(L){if(Array.isArray(L))return L}function C(L,H){var _=L==null?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(_!=null){var s,u,h=[],c=!0,l=!1;try{for(_=_.call(L);!(c=(s=_.next()).done)&&(h.push(s.value),!(H&&h.length===H));c=!0);}catch(y){l=!0,u=y}finally{try{c||_.return==null||_.return()}finally{if(l)throw u}}return h}}function q(L,H){if(L){if(typeof L=="string")return U(L,H);var _=Object.prototype.toString.call(L).slice(8,-1);return _==="Object"&&L.constructor&&(_=L.constructor.name),_==="Map"||_==="Set"?Array.from(L):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?U(L,H):void 0}}function U(L,H){(H==null||H>L.length)&&(H=L.length);for(var _=0,s=Array(H);_<H;_++)s[_]=L[_];return s}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(L,H){var _=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!_){if(Array.isArray(L)||(_=q(L))||H&&L&&typeof L.length=="number"){_&&(L=_);var s=0,u=function(){};return{s:u,n:function(){return s>=L.length?{done:!0}:{done:!1,value:L[s++]}},e:function(y){throw y},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,c=!0,l=!1;return{s:function(){_=_.call(L)},n:function(){var y=_.next();return c=y.done,y},e:function(y){l=!0,h=y},f:function(){try{c||_.return==null||_.return()}finally{if(l)throw h}}}}var F=function(L){var H=Math.abs,_=Math.max,s=Math.floor;function u(c,l){var y;if(i(this,u),y=h.call(this,c),y.sign=l,Object.setPrototypeOf(T(y),u.prototype),c>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return y}a(u,L);var h=k(u);return o(u,[{key:"toDebugString",value:function(){var c,l=["BigInt["],y=W(this);try{for(y.s();!(c=y.n()).done;){var b=c.value;l.push((b&&(b>>>0).toString(16))+", ")}}catch(m){y.e(m)}finally{y.f()}return l.push("]"),l.join("")}},{key:"toString",value:function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>c||36<c)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":c&c-1?u.__toStringGeneric(this,c,!1):u.__toStringBasePowerOfTwo(this,c)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var c=new u(this.length,this.sign),l=0;l<this.length;l++)c[l]=this[l];return c}},{key:"__trim",value:function(){for(var c=this.length,l=this[c-1];l===0;)c--,l=this[c-1],this.pop();return c===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var c=0;c<this.length;c++)this[c]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(c,l,y){y>this.length&&(y=this.length);for(var b=32767&c,m=c>>>15,f=0,g=l,R=0;R<y;R++){var S=this.__digit(R),B=32767&S,z=S>>>15,G=u.__imul(B,b),V=u.__imul(B,m),J=u.__imul(z,b),Z=u.__imul(z,m),Y=g+G+f;f=Y>>>30,Y&=1073741823,Y+=((32767&V)<<15)+((32767&J)<<15),f+=Y>>>30,g=Z+(V>>>15)+(J>>>15),this.__setDigit(R,1073741823&Y)}if(f!==0||g!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(c,l,y){for(var b,m=0,f=0;f<y;f++)b=this.__halfDigit(l+f)+c.__halfDigit(f)+m,m=b>>>15,this.__setHalfDigit(l+f,32767&b);return m}},{key:"__inplaceSub",value:function(c,l,y){var b=0;if(1&l){l>>=1;for(var m=this.__digit(l),f=32767&m,g=0;g<y-1>>>1;g++){var R=c.__digit(g),S=(m>>>15)-(32767&R)-b;b=1&S>>>15,this.__setDigit(l+g,(32767&S)<<15|32767&f),m=this.__digit(l+g+1),f=(32767&m)-(R>>>15)-b,b=1&f>>>15}var B=c.__digit(g),z=(m>>>15)-(32767&B)-b;if(b=1&z>>>15,this.__setDigit(l+g,(32767&z)<<15|32767&f),l+g+1>=this.length)throw new RangeError("out of bounds");!(1&y)&&(m=this.__digit(l+g+1),f=(32767&m)-(B>>>15)-b,b=1&f>>>15,this.__setDigit(l+c.length,1073709056&m|32767&f))}else{l>>=1;for(var G=0;G<c.length-1;G++){var V=this.__digit(l+G),J=c.__digit(G),Z=(32767&V)-(32767&J)-b;b=1&Z>>>15;var Y=(V>>>15)-(J>>>15)-b;b=1&Y>>>15,this.__setDigit(l+G,(32767&Y)<<15|32767&Z)}var Fe=this.__digit(l+G),Q=c.__digit(G),X=(32767&Fe)-(32767&Q)-b;b=1&X>>>15;var it=0;!(1&y)&&(it=(Fe>>>15)-(Q>>>15)-b,b=1&it>>>15),this.__setDigit(l+G,(32767&it)<<15|32767&X)}return b}},{key:"__inplaceRightShift",value:function(c){if(c!==0){for(var l,y=this.__digit(0)>>>c,b=this.length-1,m=0;m<b;m++)l=this.__digit(m+1),this.__setDigit(m,1073741823&l<<30-c|y),y=l>>>c;this.__setDigit(b,y)}}},{key:"__digit",value:function(c){return this[c]}},{key:"__unsignedDigit",value:function(c){return this[c]>>>0}},{key:"__setDigit",value:function(c,l){this[c]=0|l}},{key:"__setDigitGrow",value:function(c,l){this[c]=0|l}},{key:"__halfDigitLength",value:function(){var c=this.length;return 32767>=this.__unsignedDigit(c-1)?2*c-1:2*c}},{key:"__halfDigit",value:function(c){return 32767&this[c>>>1]>>>15*(1&c)}},{key:"__setHalfDigit",value:function(c,l){var y=c>>>1,b=this.__digit(y),m=1&c?32767&b|l<<15:1073709056&b|32767&l;this.__setDigit(y,m)}}],[{key:"BigInt",value:function(c){var l=Number.isFinite;if(typeof c=="number"){if(c===0)return u.__zero();if(u.__isOneDigitInt(c))return 0>c?u.__oneDigit(-c,!0):u.__oneDigit(c,!1);if(!l(c)||s(c)!==c)throw new RangeError("The number "+c+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(c)}if(typeof c=="string"){var y=u.__fromString(c);if(y===null)throw new SyntaxError("Cannot convert "+c+" to a BigInt");return y}if(typeof c=="boolean")return c===!0?u.__oneDigit(1,!1):u.__zero();if(r(c)==="object"){if(c.constructor===u)return c;var b=u.__toPrimitive(c);return u.BigInt(b)}throw new TypeError("Cannot convert "+c+" to a BigInt")}},{key:"toNumber",value:function(c){var l=c.length;if(l===0)return 0;if(l===1){var y=c.__unsignedDigit(0);return c.sign?-y:y}var b=c.__digit(l-1),m=u.__clz30(b),f=30*l-m;if(1024<f)return c.sign?-1/0:1/0;var g=f-1,R=b,S=l-1,B=m+3,z=B===32?0:R<<B;z>>>=12;var G=B-12,V=12<=B?0:R<<20+B,J=20+B;for(0<G&&0<S&&(S--,R=c.__digit(S),z|=R>>>30-G,V=R<<G+2,J=G+2);0<J&&0<S;)S--,R=c.__digit(S),V|=30<=J?R<<J-30:R>>>30-J,J-=30;var Z=u.__decideRounding(c,J,S,R);if((Z===1||Z===0&&(1&V)==1)&&(V=V+1>>>0,V===0&&(z++,z>>>20!=0&&(z=0,g++,1023<g))))return c.sign?-1/0:1/0;var Y=c.sign?-2147483648:0;return g=g+1023<<20,u.__kBitConversionInts[1]=Y|g|z,u.__kBitConversionInts[0]=V,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(c){if(c.length===0)return c;var l=c.__copy();return l.sign=!c.sign,l}},{key:"bitwiseNot",value:function(c){return c.sign?u.__absoluteSubOne(c).__trim():u.__absoluteAddOne(c,!0)}},{key:"exponentiate",value:function(c,l){if(l.sign)throw new RangeError("Exponent must be positive");if(l.length===0)return u.__oneDigit(1,!1);if(c.length===0)return c;if(c.length===1&&c.__digit(0)===1)return c.sign&&!(1&l.__digit(0))?u.unaryMinus(c):c;if(1<l.length)throw new RangeError("BigInt too big");var y=l.__unsignedDigit(0);if(y===1)return c;if(y>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(c.length===1&&c.__digit(0)===2){var b=1+(0|y/30),m=c.sign&&(1&y)!=0,f=new u(b,m);f.__initializeDigits();var g=1<<y%30;return f.__setDigit(b-1,g),f}var R=null,S=c;for(1&y&&(R=c),y>>=1;y!==0;y>>=1)S=u.multiply(S,S),1&y&&(R===null?R=S:R=u.multiply(R,S));return R}},{key:"multiply",value:function(c,l){if(c.length===0)return c;if(l.length===0)return l;var y=c.length+l.length;30<=c.__clzmsd()+l.__clzmsd()&&y--;var b=new u(y,c.sign!==l.sign);b.__initializeDigits();for(var m=0;m<c.length;m++)u.__multiplyAccumulate(l,c.__digit(m),b,m);return b.__trim()}},{key:"divide",value:function(c,l){if(l.length===0)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(c,l))return u.__zero();var y,b=c.sign!==l.sign,m=l.__unsignedDigit(0);if(l.length===1&&32767>=m){if(m===1)return b===c.sign?c:u.unaryMinus(c);y=u.__absoluteDivSmall(c,m,null)}else y=u.__absoluteDivLarge(c,l,!0,!1);return y.sign=b,y.__trim()}},{key:"remainder",value:function(l,y){if(y.length===0)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(l,y))return l;var b=y.__unsignedDigit(0);if(y.length===1&&32767>=b){if(b===1)return u.__zero();var m=u.__absoluteModSmall(l,b);return m===0?u.__zero():u.__oneDigit(m,l.sign)}var f=u.__absoluteDivLarge(l,y,!1,!0);return f.sign=l.sign,f.__trim()}},{key:"add",value:function(c,l){var y=c.sign;return y===l.sign?u.__absoluteAdd(c,l,y):0<=u.__absoluteCompare(c,l)?u.__absoluteSub(c,l,y):u.__absoluteSub(l,c,!y)}},{key:"subtract",value:function(c,l){var y=c.sign;return y===l.sign?0<=u.__absoluteCompare(c,l)?u.__absoluteSub(c,l,y):u.__absoluteSub(l,c,!y):u.__absoluteAdd(c,l,y)}},{key:"leftShift",value:function(c,l){return l.length===0||c.length===0?c:l.sign?u.__rightShiftByAbsolute(c,l):u.__leftShiftByAbsolute(c,l)}},{key:"signedRightShift",value:function(c,l){return l.length===0||c.length===0?c:l.sign?u.__leftShiftByAbsolute(c,l):u.__rightShiftByAbsolute(c,l)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(c,l){return 0>u.__compareToBigInt(c,l)}},{key:"lessThanOrEqual",value:function(c,l){return 0>=u.__compareToBigInt(c,l)}},{key:"greaterThan",value:function(c,l){return 0<u.__compareToBigInt(c,l)}},{key:"greaterThanOrEqual",value:function(c,l){return 0<=u.__compareToBigInt(c,l)}},{key:"equal",value:function(c,l){if(c.sign!==l.sign||c.length!==l.length)return!1;for(var y=0;y<c.length;y++)if(c.__digit(y)!==l.__digit(y))return!1;return!0}},{key:"notEqual",value:function(c,l){return!u.equal(c,l)}},{key:"bitwiseAnd",value:function(c,l){if(!c.sign&&!l.sign)return u.__absoluteAnd(c,l).__trim();if(c.sign&&l.sign){var y=_(c.length,l.length)+1,b=u.__absoluteSubOne(c,y),m=u.__absoluteSubOne(l);return b=u.__absoluteOr(b,m,b),u.__absoluteAddOne(b,!0,b).__trim()}if(c.sign){var f=[l,c];c=f[0],l=f[1]}return u.__absoluteAndNot(c,u.__absoluteSubOne(l)).__trim()}},{key:"bitwiseXor",value:function(c,l){if(!c.sign&&!l.sign)return u.__absoluteXor(c,l).__trim();if(c.sign&&l.sign){var y=_(c.length,l.length),b=u.__absoluteSubOne(c,y),m=u.__absoluteSubOne(l);return u.__absoluteXor(b,m,b).__trim()}var f=_(c.length,l.length)+1;if(c.sign){var g=[l,c];c=g[0],l=g[1]}var R=u.__absoluteSubOne(l,f);return R=u.__absoluteXor(R,c,R),u.__absoluteAddOne(R,!0,R).__trim()}},{key:"bitwiseOr",value:function(c,l){var y=_(c.length,l.length);if(!c.sign&&!l.sign)return u.__absoluteOr(c,l).__trim();if(c.sign&&l.sign){var b=u.__absoluteSubOne(c,y),m=u.__absoluteSubOne(l);return b=u.__absoluteAnd(b,m,b),u.__absoluteAddOne(b,!0,b).__trim()}if(c.sign){var f=[l,c];c=f[0],l=f[1]}var g=u.__absoluteSubOne(l,y);return g=u.__absoluteAndNot(g,c,g),u.__absoluteAddOne(g,!0,g).__trim()}},{key:"asIntN",value:function(c,l){if(l.length===0)return l;if(c=s(c),0>c)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(c===0)return u.__zero();if(c>=u.__kMaxLengthBits)return l;var y=0|(c+29)/30;if(l.length<y)return l;var b=l.__unsignedDigit(y-1),m=1<<(c-1)%30;if(l.length===y&&b<m)return l;if((b&m)!==m)return u.__truncateToNBits(c,l);if(!l.sign)return u.__truncateAndSubFromPowerOfTwo(c,l,!0);if(!(b&m-1)){for(var f=y-2;0<=f;f--)if(l.__digit(f)!==0)return u.__truncateAndSubFromPowerOfTwo(c,l,!1);return l.length===y&&b===m?l:u.__truncateToNBits(c,l)}return u.__truncateAndSubFromPowerOfTwo(c,l,!1)}},{key:"asUintN",value:function(c,l){if(l.length===0)return l;if(c=s(c),0>c)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(c===0)return u.__zero();if(l.sign){if(c>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(c,l,!1)}if(c>=u.__kMaxLengthBits)return l;var y=0|(c+29)/30;if(l.length<y)return l;var b=c%30;if(l.length==y){if(b===0)return l;var m=l.__digit(y-1);if(!(m>>>b))return l}return u.__truncateToNBits(c,l)}},{key:"ADD",value:function(c,l){if(c=u.__toPrimitive(c),l=u.__toPrimitive(l),typeof c=="string")return typeof l!="string"&&(l=l.toString()),c+l;if(typeof l=="string")return c.toString()+l;if(c=u.__toNumeric(c),l=u.__toNumeric(l),u.__isBigInt(c)&&u.__isBigInt(l))return u.add(c,l);if(typeof c=="number"&&typeof l=="number")return c+l;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(c,l){return u.__compare(c,l,0)}},{key:"LE",value:function(c,l){return u.__compare(c,l,1)}},{key:"GT",value:function(c,l){return u.__compare(c,l,2)}},{key:"GE",value:function(c,l){return u.__compare(c,l,3)}},{key:"EQ",value:function(c,l){for(;;){if(u.__isBigInt(c))return u.__isBigInt(l)?u.equal(c,l):u.EQ(l,c);if(typeof c=="number"){if(u.__isBigInt(l))return u.__equalToNumber(l,c);if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(typeof c=="string"){if(u.__isBigInt(l))return c=u.__fromString(c),c!==null&&u.equal(c,l);if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(typeof c=="boolean"){if(u.__isBigInt(l))return u.__equalToNumber(l,+c);if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(r(c)==="symbol"){if(u.__isBigInt(l))return!1;if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(r(c)==="object"){if(r(l)==="object"&&l.constructor!==u)return c==l;c=u.__toPrimitive(c)}else return c==l}}},{key:"NE",value:function(c,l){return!u.EQ(c,l)}},{key:"DataViewGetBigInt64",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(c,l,y))}},{key:"DataViewGetBigUint64",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0&&arguments[2],b=y?[4,0]:[0,4],m=D(b,2),f=m[0],g=m[1],R=c.getUint32(l+f,y),S=c.getUint32(l+g,y),B=new u(3,!1);return B.__setDigit(0,1073741823&S),B.__setDigit(1,(268435455&R)<<2|S>>>30),B.__setDigit(2,R>>>28),B.__trim()}},{key:"DataViewSetBigInt64",value:function(c,l,y){var b=3<arguments.length&&arguments[3]!==void 0&&arguments[3];u.DataViewSetBigUint64(c,l,y,b)}},{key:"DataViewSetBigUint64",value:function(c,l,y){var b=3<arguments.length&&arguments[3]!==void 0&&arguments[3];y=u.asUintN(64,y);var m=0,f=0;if(0<y.length&&(f=y.__digit(0),1<y.length)){var g=y.__digit(1);f|=g<<30,m=g>>>2,2<y.length&&(m|=y.__digit(2)<<28)}var R=b?[4,0]:[0,4],S=D(R,2),B=S[0],z=S[1];c.setUint32(l+B,m,b),c.setUint32(l+z,f,b)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(c,l){var y=new u(1,l);return y.__setDigit(0,c),y}},{key:"__decideRounding",value:function(c,l,y,b){if(0<l)return-1;var m;if(0>l)m=-l-1;else{if(y===0)return-1;y--,b=c.__digit(y),m=29}var f=1<<m;if(!(b&f))return-1;if(f-=1,(b&f)!=0)return 1;for(;0<y;)if(y--,c.__digit(y)!==0)return 1;return 0}},{key:"__fromDouble",value:function(c){u.__kBitConversionDouble[0]=c;var l,y=2047&u.__kBitConversionInts[1]>>>20,b=y-1023,m=(0|b/30)+1,f=new u(m,0>c),g=1048575&u.__kBitConversionInts[1]|1048576,R=u.__kBitConversionInts[0],S=20,B=b%30,z=0;if(B<S){var G=S-B;z=G+32,l=g>>>G,g=g<<32-G|R>>>G,R<<=32-G}else if(B===S)z=32,l=g,g=R,R=0;else{var V=B-S;z=32-V,l=g<<V|R>>>32-V,g=R<<V,R=0}f.__setDigit(m-1,l);for(var J=m-2;0<=J;J--)0<z?(z-=30,l=g>>>2,g=g<<30|R>>>2,R<<=30):l=0,f.__setDigit(J,l);return f.__trim()}},{key:"__isWhitespace",value:function(c){return 13>=c&&9<=c||(159>=c?c==32:131071>=c?c==160||c==5760:196607>=c?(c&=131071,10>=c||c==40||c==41||c==47||c==95||c==4096):c==65279)}},{key:"__fromString",value:function(c){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,y=0,b=c.length,m=0;if(m===b)return u.__zero();for(var f=c.charCodeAt(m);u.__isWhitespace(f);){if(++m===b)return u.__zero();f=c.charCodeAt(m)}if(f===43){if(++m===b)return null;f=c.charCodeAt(m),y=1}else if(f===45){if(++m===b)return null;f=c.charCodeAt(m),y=-1}if(l===0){if(l=10,f===48){if(++m===b)return u.__zero();if(f=c.charCodeAt(m),f===88||f===120){if(l=16,++m===b)return null;f=c.charCodeAt(m)}else if(f===79||f===111){if(l=8,++m===b)return null;f=c.charCodeAt(m)}else if(f===66||f===98){if(l=2,++m===b)return null;f=c.charCodeAt(m)}}}else if(l===16&&f===48){if(++m===b)return u.__zero();if(f=c.charCodeAt(m),f===88||f===120){if(++m===b)return null;f=c.charCodeAt(m)}}if(y!==0&&l!==10)return null;for(;f===48;){if(++m===b)return u.__zero();f=c.charCodeAt(m)}var g=b-m,R=u.__kMaxBitsPerChar[l],S=u.__kBitsPerCharTableMultiplier-1;if(g>1073741824/R)return null;var B=R*g+S>>>u.__kBitsPerCharTableShift,z=new u(0|(B+29)/30,!1),G=10>l?l:10,V=10<l?l-10:0;if(l&l-1){z.__initializeDigits();var it=!1,te=0;do{for(var re,Ht=0,ie=1;;){if(re=void 0,f-48>>>0<G)re=f-48;else if((32|f)-97>>>0<V)re=(32|f)-87;else{it=!0;break}var ne=ie*l;if(1073741823<ne)break;if(ie=ne,Ht=Ht*l+re,te++,++m===b){it=!0;break}f=c.charCodeAt(m)}S=30*u.__kBitsPerCharTableMultiplier-1;var Cr=0|(R*te+S>>>u.__kBitsPerCharTableShift)/30;z.__inplaceMultiplyAdd(ie,Ht,Cr)}while(!it)}else{R>>=u.__kBitsPerCharTableShift;var J=[],Z=[],Y=!1;do{for(var Fe,Q=0,X=0;;){if(Fe=void 0,f-48>>>0<G)Fe=f-48;else if((32|f)-97>>>0<V)Fe=(32|f)-87;else{Y=!0;break}if(X+=R,Q=Q<<R|Fe,++m===b){Y=!0;break}if(f=c.charCodeAt(m),30<X+R)break}J.push(Q),Z.push(X)}while(!Y);u.__fillFromParts(z,J,Z)}if(m!==b){if(!u.__isWhitespace(f))return null;for(m++;m<b;m++)if(f=c.charCodeAt(m),!u.__isWhitespace(f))return null}return z.sign=y===-1,z.__trim()}},{key:"__fillFromParts",value:function(c,l,y){for(var b=0,m=0,f=0,g=l.length-1;0<=g;g--){var R=l[g],S=y[g];m|=R<<f,f+=S,f===30?(c.__setDigit(b++,m),f=0,m=0):30<f&&(c.__setDigit(b++,1073741823&m),f-=30,m=R>>>S-f)}if(m!==0){if(b>=c.length)throw new Error("implementation bug");c.__setDigit(b++,m)}for(;b<c.length;b++)c.__setDigit(b,0)}},{key:"__toStringBasePowerOfTwo",value:function(c,l){var y=c.length,b=l-1;b=(85&b>>>1)+(85&b),b=(51&b>>>2)+(51&b),b=(15&b>>>4)+(15&b);var m=b,f=l-1,g=c.__digit(y-1),R=u.__clz30(g),S=0|(30*y-R+m-1)/m;if(c.sign&&S++,268435456<S)throw new Error("string too long");for(var B=Array(S),z=S-1,G=0,V=0,J=0;J<y-1;J++){var Z=c.__digit(J),Y=(G|Z<<V)&f;B[z--]=u.__kConversionChars[Y];var Fe=m-V;for(G=Z>>>Fe,V=30-Fe;V>=m;)B[z--]=u.__kConversionChars[G&f],G>>>=m,V-=m}var Q=(G|g<<V)&f;for(B[z--]=u.__kConversionChars[Q],G=g>>>m-V;G!==0;)B[z--]=u.__kConversionChars[G&f],G>>>=m;if(c.sign&&(B[z--]="-"),z!==-1)throw new Error("implementation bug");return B.join("")}},{key:"__toStringGeneric",value:function(c,l,y){var b=c.length;if(b===0)return"";if(b===1){var m=c.__unsignedDigit(0).toString(l);return y===!1&&c.sign&&(m="-"+m),m}var f=30*b-u.__clz30(c.__digit(b-1)),g=u.__kMaxBitsPerChar[l],R=g-1,S=f*u.__kBitsPerCharTableMultiplier;S+=R-1,S=0|S/R;var B,z,G=S+1>>1,V=u.exponentiate(u.__oneDigit(l,!1),u.__oneDigit(G,!1)),J=V.__unsignedDigit(0);if(V.length===1&&32767>=J){B=new u(c.length,!1),B.__initializeDigits();for(var Z,Y=0,Fe=2*c.length-1;0<=Fe;Fe--)Z=Y<<15|c.__halfDigit(Fe),B.__setHalfDigit(Fe,0|Z/J),Y=0|Z%J;z=Y.toString(l)}else{var Q=u.__absoluteDivLarge(c,V,!0,!0);B=Q.quotient;var X=Q.remainder.__trim();z=u.__toStringGeneric(X,l,!0)}B.__trim();for(var it=u.__toStringGeneric(B,l,!0);z.length<G;)z="0"+z;return y===!1&&c.sign&&(it="-"+it),it+z}},{key:"__unequalSign",value:function(c){return c?-1:1}},{key:"__absoluteGreater",value:function(c){return c?-1:1}},{key:"__absoluteLess",value:function(c){return c?1:-1}},{key:"__compareToBigInt",value:function(c,l){var y=c.sign;if(y!==l.sign)return u.__unequalSign(y);var b=u.__absoluteCompare(c,l);return 0<b?u.__absoluteGreater(y):0>b?u.__absoluteLess(y):0}},{key:"__compareToNumber",value:function(c,l){if(u.__isOneDigitInt(l)){var y=c.sign,b=0>l;if(y!==b)return u.__unequalSign(y);if(c.length===0){if(b)throw new Error("implementation bug");return l===0?0:-1}if(1<c.length)return u.__absoluteGreater(y);var m=H(l),f=c.__unsignedDigit(0);return f>m?u.__absoluteGreater(y):f<m?u.__absoluteLess(y):0}return u.__compareToDouble(c,l)}},{key:"__compareToDouble",value:function(c,l){if(l!==l)return l;if(l===1/0)return-1;if(l===-1/0)return 1;var y=c.sign;if(y!==0>l)return u.__unequalSign(y);if(l===0)throw new Error("implementation bug: should be handled elsewhere");if(c.length===0)return-1;u.__kBitConversionDouble[0]=l;var b=2047&u.__kBitConversionInts[1]>>>20;if(b==2047)throw new Error("implementation bug: handled elsewhere");var m=b-1023;if(0>m)return u.__absoluteGreater(y);var f=c.length,g=c.__digit(f-1),R=u.__clz30(g),S=30*f-R,B=m+1;if(S<B)return u.__absoluteLess(y);if(S>B)return u.__absoluteGreater(y);var z=1048576|1048575&u.__kBitConversionInts[1],G=u.__kBitConversionInts[0],V=20,J=29-R;if(J!==(0|(S-1)%30))throw new Error("implementation bug");var Z,Y=0;if(J<V){var Fe=V-J;Y=Fe+32,Z=z>>>Fe,z=z<<32-Fe|G>>>Fe,G<<=32-Fe}else if(J===V)Y=32,Z=z,z=G,G=0;else{var Q=J-V;Y=32-Q,Z=z<<Q|G>>>32-Q,z=G<<Q,G=0}if(g>>>=0,Z>>>=0,g>Z)return u.__absoluteGreater(y);if(g<Z)return u.__absoluteLess(y);for(var X=f-2;0<=X;X--){0<Y?(Y-=30,Z=z>>>2,z=z<<30|G>>>2,G<<=30):Z=0;var it=c.__unsignedDigit(X);if(it>Z)return u.__absoluteGreater(y);if(it<Z)return u.__absoluteLess(y)}if(z!==0||G!==0){if(Y===0)throw new Error("implementation bug");return u.__absoluteLess(y)}return 0}},{key:"__equalToNumber",value:function(c,l){return u.__isOneDigitInt(l)?l===0?c.length===0:c.length===1&&c.sign===0>l&&c.__unsignedDigit(0)===H(l):u.__compareToDouble(c,l)===0}},{key:"__comparisonResultToBool",value:function(c,l){return l===0?0>c:l===1?0>=c:l===2?0<c:l===3?0<=c:void 0}},{key:"__compare",value:function(c,l,y){if(c=u.__toPrimitive(c),l=u.__toPrimitive(l),typeof c=="string"&&typeof l=="string")switch(y){case 0:return c<l;case 1:return c<=l;case 2:return c>l;case 3:return c>=l}if(u.__isBigInt(c)&&typeof l=="string")return l=u.__fromString(l),l!==null&&u.__comparisonResultToBool(u.__compareToBigInt(c,l),y);if(typeof c=="string"&&u.__isBigInt(l))return c=u.__fromString(c),c!==null&&u.__comparisonResultToBool(u.__compareToBigInt(c,l),y);if(c=u.__toNumeric(c),l=u.__toNumeric(l),u.__isBigInt(c)){if(u.__isBigInt(l))return u.__comparisonResultToBool(u.__compareToBigInt(c,l),y);if(typeof l!="number")throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(c,l),y)}if(typeof c!="number")throw new Error("implementation bug");if(u.__isBigInt(l))return u.__comparisonResultToBool(u.__compareToNumber(l,c),2^y);if(typeof l!="number")throw new Error("implementation bug");return y===0?c<l:y===1?c<=l:y===2?c>l:y===3?c>=l:void 0}},{key:"__absoluteAdd",value:function(c,l,y){if(c.length<l.length)return u.__absoluteAdd(l,c,y);if(c.length===0)return c;if(l.length===0)return c.sign===y?c:u.unaryMinus(c);var b=c.length;(c.__clzmsd()===0||l.length===c.length&&l.__clzmsd()===0)&&b++;for(var m,f=new u(b,y),g=0,R=0;R<l.length;R++)m=c.__digit(R)+l.__digit(R)+g,g=m>>>30,f.__setDigit(R,1073741823&m);for(;R<c.length;R++){var S=c.__digit(R)+g;g=S>>>30,f.__setDigit(R,1073741823&S)}return R<f.length&&f.__setDigit(R,g),f.__trim()}},{key:"__absoluteSub",value:function(c,l,y){if(c.length===0)return c;if(l.length===0)return c.sign===y?c:u.unaryMinus(c);for(var b,m=new u(c.length,y),f=0,g=0;g<l.length;g++)b=c.__digit(g)-l.__digit(g)-f,f=1&b>>>30,m.__setDigit(g,1073741823&b);for(;g<c.length;g++){var R=c.__digit(g)-f;f=1&R>>>30,m.__setDigit(g,1073741823&R)}return m.__trim()}},{key:"__absoluteAddOne",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=c.length;y===null?y=new u(b,l):y.sign=l;for(var m,f=1,g=0;g<b;g++)m=c.__digit(g)+f,f=m>>>30,y.__setDigit(g,1073741823&m);return f!==0&&y.__setDigitGrow(b,1),y}},{key:"__absoluteSubOne",value:function(c,l){var y=c.length;l=l||y;for(var b,m=new u(l,!1),f=1,g=0;g<y;g++)b=c.__digit(g)-f,f=1&b>>>30,m.__setDigit(g,1073741823&b);if(f!==0)throw new Error("implementation bug");for(var R=y;R<l;R++)m.__setDigit(R,0);return m}},{key:"__absoluteAnd",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=c.length,m=l.length,f=m;if(b<m){f=b;var g=c,R=b;c=l,b=m,l=g,m=R}var S=f;y===null?y=new u(S,!1):S=y.length;for(var B=0;B<f;B++)y.__setDigit(B,c.__digit(B)&l.__digit(B));for(;B<S;B++)y.__setDigit(B,0);return y}},{key:"__absoluteAndNot",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=c.length,m=l.length,f=m;b<m&&(f=b);var g=b;y===null?y=new u(g,!1):g=y.length;for(var R=0;R<f;R++)y.__setDigit(R,c.__digit(R)&~l.__digit(R));for(;R<b;R++)y.__setDigit(R,c.__digit(R));for(;R<g;R++)y.__setDigit(R,0);return y}},{key:"__absoluteOr",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=c.length,m=l.length,f=m;if(b<m){f=b;var g=c,R=b;c=l,b=m,l=g,m=R}var S=b;y===null?y=new u(S,!1):S=y.length;for(var B=0;B<f;B++)y.__setDigit(B,c.__digit(B)|l.__digit(B));for(;B<b;B++)y.__setDigit(B,c.__digit(B));for(;B<S;B++)y.__setDigit(B,0);return y}},{key:"__absoluteXor",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=c.length,m=l.length,f=m;if(b<m){f=b;var g=c,R=b;c=l,b=m,l=g,m=R}var S=b;y===null?y=new u(S,!1):S=y.length;for(var B=0;B<f;B++)y.__setDigit(B,c.__digit(B)^l.__digit(B));for(;B<b;B++)y.__setDigit(B,c.__digit(B));for(;B<S;B++)y.__setDigit(B,0);return y}},{key:"__absoluteCompare",value:function(c,l){var y=c.length-l.length;if(y!=0)return y;for(var b=c.length-1;0<=b&&c.__digit(b)===l.__digit(b);)b--;return 0>b?0:c.__unsignedDigit(b)>l.__unsignedDigit(b)?1:-1}},{key:"__multiplyAccumulate",value:function(c,l,y,b){if(l!==0){for(var m=32767&l,f=l>>>15,g=0,R=0,S=0;S<c.length;S++,b++){var B=y.__digit(b),z=c.__digit(S),G=32767&z,V=z>>>15,J=u.__imul(G,m),Z=u.__imul(G,f),Y=u.__imul(V,m),Fe=u.__imul(V,f);B+=R+J+g,g=B>>>30,B&=1073741823,B+=((32767&Z)<<15)+((32767&Y)<<15),g+=B>>>30,R=Fe+(Z>>>15)+(Y>>>15),y.__setDigit(b,1073741823&B)}for(;g!==0||R!==0;b++){var Q=y.__digit(b);Q+=g+R,R=0,g=Q>>>30,y.__setDigit(b,1073741823&Q)}}}},{key:"__internalMultiplyAdd",value:function(c,l,y,b,m){for(var f=y,g=0,R=0;R<b;R++){var S=c.__digit(R),B=u.__imul(32767&S,l),z=u.__imul(S>>>15,l),G=B+((32767&z)<<15)+g+f;f=G>>>30,g=z>>>15,m.__setDigit(R,1073741823&G)}if(m.length>b)for(m.__setDigit(b++,f+g);b<m.length;)m.__setDigit(b++,0);else if(f+g!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(c,l){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;y===null&&(y=new u(c.length,!1));for(var b=0,m=2*c.length-1;0<=m;m-=2){var f=(b<<15|c.__halfDigit(m))>>>0,g=0|f/l;b=0|f%l,f=(b<<15|c.__halfDigit(m-1))>>>0;var R=0|f/l;b=0|f%l,y.__setDigit(m>>>1,g<<15|R)}return y}},{key:"__absoluteModSmall",value:function(c,l){for(var y,b=0,m=2*c.length-1;0<=m;m--)y=(b<<15|c.__halfDigit(m))>>>0,b=0|y%l;return b}},{key:"__absoluteDivLarge",value:function(c,l,y,b){var m=l.__halfDigitLength(),f=l.length,g=c.__halfDigitLength()-m,R=null;y&&(R=new u(g+2>>>1,!1),R.__initializeDigits());var S=new u(m+2>>>1,!1);S.__initializeDigits();var B=u.__clz15(l.__halfDigit(m-1));0<B&&(l=u.__specialLeftShift(l,B,0));for(var z=u.__specialLeftShift(c,B,1),G=l.__halfDigit(m-1),V=0,J=g;0<=J;J--){var Z=32767,Y=z.__halfDigit(J+m);if(Y!==G){var Fe=(Y<<15|z.__halfDigit(J+m-1))>>>0;Z=0|Fe/G;for(var Q=0|Fe%G,X=l.__halfDigit(m-2),it=z.__halfDigit(J+m-2);u.__imul(Z,X)>>>0>(Q<<16|it)>>>0&&(Z--,Q+=G,!(32767<Q)););}u.__internalMultiplyAdd(l,Z,0,f,S);var te=z.__inplaceSub(S,J,m+1);te!==0&&(te=z.__inplaceAdd(l,J,m),z.__setHalfDigit(J+m,32767&z.__halfDigit(J+m)+te),Z--),y&&(1&J?V=Z<<15:R.__setDigit(J>>>1,V|Z))}if(b)return z.__inplaceRightShift(B),y?{quotient:R,remainder:z}:z;if(y)return R;throw new Error("unreachable")}},{key:"__clz15",value:function(c){return u.__clz30(c)-15}},{key:"__specialLeftShift",value:function(c,l,y){var b=c.length,m=new u(b+y,!1);if(l===0){for(var f=0;f<b;f++)m.__setDigit(f,c.__digit(f));return 0<y&&m.__setDigit(b,0),m}for(var g,R=0,S=0;S<b;S++)g=c.__digit(S),m.__setDigit(S,1073741823&g<<l|R),R=g>>>30-l;return 0<y&&m.__setDigit(b,R),m}},{key:"__leftShiftByAbsolute",value:function(c,l){var y=u.__toShiftAmount(l);if(0>y)throw new RangeError("BigInt too big");var b=0|y/30,m=y%30,f=c.length,g=m!==0&&c.__digit(f-1)>>>30-m!=0,R=f+b+(g?1:0),S=new u(R,c.sign);if(m===0){for(var B=0;B<b;B++)S.__setDigit(B,0);for(;B<R;B++)S.__setDigit(B,c.__digit(B-b))}else{for(var z=0,G=0;G<b;G++)S.__setDigit(G,0);for(var V,J=0;J<f;J++)V=c.__digit(J),S.__setDigit(J+b,1073741823&V<<m|z),z=V>>>30-m;if(g)S.__setDigit(f+b,z);else if(z!==0)throw new Error("implementation bug")}return S.__trim()}},{key:"__rightShiftByAbsolute",value:function(c,l){var y=c.length,b=c.sign,m=u.__toShiftAmount(l);if(0>m)return u.__rightShiftByMaximum(b);var f=0|m/30,g=m%30,R=y-f;if(0>=R)return u.__rightShiftByMaximum(b);var S=!1;if(b){if(c.__digit(f)&(1<<g)-1)S=!0;else for(var B=0;B<f;B++)if(c.__digit(B)!==0){S=!0;break}}if(S&&g===0){var z=c.__digit(y-1);!~z&&R++}var G=new u(R,b);if(g===0){G.__setDigit(R-1,0);for(var V=f;V<y;V++)G.__setDigit(V-f,c.__digit(V))}else{for(var J,Z=c.__digit(f)>>>g,Y=y-f-1,Fe=0;Fe<Y;Fe++)J=c.__digit(Fe+f+1),G.__setDigit(Fe,1073741823&J<<30-g|Z),Z=J>>>g;G.__setDigit(Y,Z)}return S&&(G=u.__absoluteAddOne(G,!0,G)),G.__trim()}},{key:"__rightShiftByMaximum",value:function(c){return c?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(c){if(1<c.length)return-1;var l=c.__unsignedDigit(0);return l>u.__kMaxLengthBits?-1:l}},{key:"__toPrimitive",value:function(c){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(r(c)!=="object"||c.constructor===u)return c;if(typeof Symbol<"u"&&r(Symbol.toPrimitive)==="symbol"){var y=c[Symbol.toPrimitive];if(y){var b=y(l);if(r(b)!=="object")return b;throw new TypeError("Cannot convert object to primitive value")}}var m=c.valueOf;if(m){var f=m.call(c);if(r(f)!=="object")return f}var g=c.toString;if(g){var R=g.call(c);if(r(R)!=="object")return R}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(c){return u.__isBigInt(c)?c:+c}},{key:"__isBigInt",value:function(c){return r(c)==="object"&&c!==null&&c.constructor===u}},{key:"__truncateToNBits",value:function(c,l){for(var y=0|(c+29)/30,b=new u(y,l.sign),m=y-1,f=0;f<m;f++)b.__setDigit(f,l.__digit(f));var g=l.__digit(m);if(c%30!=0){var R=32-c%30;g=g<<R>>>R}return b.__setDigit(m,g),b.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(c,l,y){for(var b=Math.min,m,f=0|(c+29)/30,g=new u(f,y),R=0,S=f-1,B=0,z=b(S,l.length);R<z;R++)m=0-l.__digit(R)-B,B=1&m>>>30,g.__setDigit(R,1073741823&m);for(;R<S;R++)g.__setDigit(R,0|1073741823&-B);var G,V=S<l.length?l.__digit(S):0,J=c%30;if(J===0)G=0-V-B,G&=1073741823;else{var Z=32-J;V=V<<Z>>>Z;var Y=1<<32-Z;G=Y-V-B,G&=Y-1}return g.__setDigit(S,G),g.__trim()}},{key:"__digitPow",value:function(c,l){for(var y=1;0<l;)1&l&&(y*=c),l>>>=1,c*=c;return y}},{key:"__isOneDigitInt",value:function(c){return(1073741823&c)===c}}]),u}(E(Array));return F.__kMaxLength=33554432,F.__kMaxLengthBits=F.__kMaxLength<<5,F.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],F.__kBitsPerCharTableShift=5,F.__kBitsPerCharTableMultiplier=1<<F.__kBitsPerCharTableShift,F.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],F.__kBitConversionBuffer=new ArrayBuffer(8),F.__kBitConversionDouble=new Float64Array(F.__kBitConversionBuffer),F.__kBitConversionInts=new Int32Array(F.__kBitConversionBuffer),F.__clz30=e?function(L){return e(L)-2}:function(L){var H=Math.LN2,_=Math.log;return L===0?30:0|29-(0|_(L>>>0)/H)},F.__imul=t||function(L,H){return 0|L*H},F})});var rD=K((pTe,tD)=>{M();var Ate=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;tD.exports=Ate});var nD=K((yTe,iD)=>{M();var Tte=rD(),Pte=typeof self=="object"&&self&&self.Object===Object&&self,Rte=Tte||Pte||Function("return this")();iD.exports=Rte});var NM=K((vTe,oD)=>{M();var kte=nD(),Ite=kte.Symbol;oD.exports=Ite});var uD=K((wTe,fD)=>{M();var sD=NM(),aD=Object.prototype,Dte=aD.hasOwnProperty,Bte=aD.toString,oy=sD?sD.toStringTag:void 0;function Ote(t){var e=Dte.call(t,oy),r=t[oy];try{t[oy]=void 0;var i=!0}catch{}var n=Bte.call(t);return i&&(e?t[oy]=r:delete t[oy]),n}fD.exports=Ote});var lD=K((xTe,cD)=>{M();var Cte=Object.prototype,qte=Cte.toString;function Nte(t){return qte.call(t)}cD.exports=Nte});var mD=K((ETe,pD)=>{M();var dD=NM(),jte=uD(),Lte=lD(),Ute="[object Null]",zte="[object Undefined]",hD=dD?dD.toStringTag:void 0;function Fte(t){return t==null?t===void 0?zte:Ute:hD&&hD in Object(t)?jte(t):Lte(t)}pD.exports=Fte});var gD=K((ATe,yD)=>{M();function $te(t,e){return function(r){return t(e(r))}}yD.exports=$te});var bD=K((PTe,vD)=>{M();var Wte=gD(),Gte=Wte(Object.getPrototypeOf,Object);vD.exports=Gte});var _D=K((kTe,wD)=>{M();function Vte(t){return t!=null&&typeof t=="object"}wD.exports=Vte});var ED=K((DTe,MD)=>{M();var Kte=mD(),Hte=bD(),Zte=_D(),Yte="[object Object]",Jte=Function.prototype,Qte=Object.prototype,xD=Jte.toString,Xte=Qte.hasOwnProperty,ere=xD.call(Object);function tre(t){if(!Zte(t)||Kte(t)!=Yte)return!1;var e=Hte(t);if(e===null)return!0;var r=Xte.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&xD.call(r)==ere}MD.exports=tre});var cB=K((a7e,uB)=>{M();uB.exports=yy;yy.flatten=yy;yy.unflatten=fB;function sB(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function aB(t){return t}function yy(t,e){e=e||{};let r=e.delimiter||".",i=e.maxDepth,n=e.transformKey||aB,o={};function a(d,p,v){v=v||1,Object.keys(d).forEach(function(w){let x=d[w],E=e.safe&&Array.isArray(x),T=Object.prototype.toString.call(x),A=sB(x),k=T==="[object Object]"||T==="[object Array]",D=p?p+r+n(w):n(w);if(!E&&!A&&k&&Object.keys(x).length&&(!e.maxDepth||v<i))return a(x,D,v+1);o[D]=x})}return a(t),o}function fB(t,e){e=e||{};let r=e.delimiter||".",i=e.overwrite||!1,n=e.transformKey||aB,o={};if(sB(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function d(w){let x=Number(w);return isNaN(x)||w.indexOf(".")!==-1||e.object?w:x}function p(w,x,E){return Object.keys(E).reduce(function(T,A){return T[w+r+A]=E[A],T},x)}function v(w){let x=Object.prototype.toString.call(w),E=x==="[object Array]",T=x==="[object Object]";if(w){if(E)return!w.length;if(T)return!Object.keys(w).length}else return!0}return t=Object.keys(t).reduce(function(w,x){let E=Object.prototype.toString.call(t[x]);return!(E==="[object Object]"||E==="[object Array]")||v(t[x])?(w[x]=t[x],w):p(x,w,yy(t[x],e))},{}),Object.keys(t).forEach(function(w){let x=w.split(r).map(n),E=d(x.shift()),T=d(x[0]),A=o;for(;T!==void 0;){if(E==="__proto__")return;let k=Object.prototype.toString.call(A[E]),D=k==="[object Object]"||k==="[object Array]";if(!i&&!D&&typeof A[E]<"u")return;(i&&!D||!i&&A[E]==null)&&(A[E]=typeof T=="number"&&!e.object?[]:{}),A=A[E],x.length>0&&(E=d(x.shift()),T=d(x[0]))}A[E]=fB(t[w],e)}),o}});var jt=K((a4,AB)=>{M();var eb=Ut(),Wf=eb.Buffer;function SB(t,e){for(var r in t)e[r]=t[r]}Wf.from&&Wf.alloc&&Wf.allocUnsafe&&Wf.allocUnsafeSlow?AB.exports=eb:(SB(eb,a4),a4.Buffer=m0);function m0(t,e,r){return Wf(t,e,r)}SB(Wf,m0);m0.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Wf(t,e,r)};m0.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Wf(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};m0.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Wf(t)};m0.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return eb.SlowBuffer(t)}});var Cl=K((E7e,u4)=>{"use strict";M();var f4=65536,Vre=4294967295;function Kre(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Hre=jt().Buffer,tb=globalThis.crypto||globalThis.msCrypto;tb&&tb.getRandomValues?u4.exports=Zre:u4.exports=Kre;function Zre(t,e){if(t>Vre)throw new RangeError("requested too many random bytes");var r=Hre.allocUnsafe(t);if(t>0)if(t>f4)for(var i=0;i<t;i+=f4)tb.getRandomValues(r.slice(i,i+f4));else tb.getRandomValues(r);return typeof e=="function"?O.default.nextTick(function(){e(null,r)}):r}});var rt=K((A7e,c4)=>{M();typeof Object.create=="function"?c4.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:c4.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var RB=K((l4,PB)=>{M();var rb=Ut(),Fa=rb.Buffer;function TB(t,e){for(var r in t)e[r]=t[r]}Fa.from&&Fa.alloc&&Fa.allocUnsafe&&Fa.allocUnsafeSlow?PB.exports=rb:(TB(rb,l4),l4.Buffer=ql);function ql(t,e,r){return Fa(t,e,r)}ql.prototype=Object.create(Fa.prototype);TB(Fa,ql);ql.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Fa(t,e,r)};ql.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Fa(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};ql.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Fa(t)};ql.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return rb.SlowBuffer(t)}});var rs=K((R7e,d4)=>{"use strict";M();var y0=typeof Reflect=="object"?Reflect:null,kB=y0&&typeof y0.apply=="function"?y0.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},ib;y0&&typeof y0.ownKeys=="function"?ib=y0.ownKeys:Object.getOwnPropertySymbols?ib=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ib=function(e){return Object.getOwnPropertyNames(e)};function Yre(t){console&&console.warn&&console.warn(t)}var DB=Number.isNaN||function(e){return e!==e};function ar(){ar.init.call(this)}d4.exports=ar;d4.exports.once=eie;ar.EventEmitter=ar;ar.prototype._events=void 0;ar.prototype._eventsCount=0;ar.prototype._maxListeners=void 0;var IB=10;function nb(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ar,"defaultMaxListeners",{enumerable:!0,get:function(){return IB},set:function(t){if(typeof t!="number"||t<0||DB(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");IB=t}});ar.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ar.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||DB(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function BB(t){return t._maxListeners===void 0?ar.defaultMaxListeners:t._maxListeners}ar.prototype.getMaxListeners=function(){return BB(this)};ar.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var d=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw d.context=a,d}var p=o[e];if(p===void 0)return!1;if(typeof p=="function")kB(p,this,r);else for(var v=p.length,w=jB(p,v),i=0;i<v;++i)kB(w[i],this,r);return!0};function OB(t,e,r,i){var n,o,a;if(nb(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),a===void 0)a=o[e]=r,++t._eventsCount;else if(typeof a=="function"?a=o[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),n=BB(t),n>0&&a.length>n&&!a.warned){a.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=t,d.type=e,d.count=a.length,Yre(d)}return t}ar.prototype.addListener=function(e,r){return OB(this,e,r,!1)};ar.prototype.on=ar.prototype.addListener;ar.prototype.prependListener=function(e,r){return OB(this,e,r,!0)};function Jre(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function CB(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Jre.bind(i);return n.listener=r,i.wrapFn=n,n}ar.prototype.once=function(e,r){return nb(r),this.on(e,CB(this,e,r)),this};ar.prototype.prependOnceListener=function(e,r){return nb(r),this.prependListener(e,CB(this,e,r)),this};ar.prototype.removeListener=function(e,r){var i,n,o,a,d;if(nb(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(o=-1,a=i.length-1;a>=0;a--)if(i[a]===r||i[a].listener===r){d=i[a].listener,o=a;break}if(o<0)return this;o===0?i.shift():Qre(i,o),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,d||r)}return this};ar.prototype.off=ar.prototype.removeListener;ar.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),a;for(n=0;n<o.length;++n)a=o[n],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function qB(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?Xre(n):jB(n,n.length)}ar.prototype.listeners=function(e){return qB(this,e,!0)};ar.prototype.rawListeners=function(e){return qB(this,e,!1)};ar.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):NB.call(t,e)};ar.prototype.listenerCount=NB;function NB(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ar.prototype.eventNames=function(){return this._eventsCount>0?ib(this._events):[]};function jB(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function Qre(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Xre(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function eie(t,e){return new Promise(function(r,i){function n(a){t.removeListener(e,o),i(a)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}LB(t,e,o,{once:!0}),e!=="error"&&tie(t,n,{once:!0})})}function tie(t,e,r){typeof t.on=="function"&&LB(t,"error",e,r)}function LB(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(o){i.once&&t.removeEventListener(e,n),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var h4=K((I7e,UB)=>{M();UB.exports=rs().EventEmitter});var p4=K((B7e,zB)=>{"use strict";M();zB.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==n||a.enumerable!==!0)return!1}return!0}});var by=K((C7e,FB)=>{"use strict";M();var rie=p4();FB.exports=function(){return rie()&&!!Symbol.toStringTag}});var GB=K((N7e,WB)=>{"use strict";M();var $B=typeof Symbol<"u"&&Symbol,iie=p4();WB.exports=function(){return typeof $B!="function"||typeof Symbol!="function"||typeof $B("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:iie()}});var HB=K((L7e,KB)=>{"use strict";M();var VB={foo:{}},nie=Object;KB.exports=function(){return{__proto__:VB}.foo===VB.foo&&!({__proto__:null}instanceof nie)}});var YB=K((z7e,ZB)=>{"use strict";M();var oie="Function.prototype.bind called on incompatible ",m4=Array.prototype.slice,sie=Object.prototype.toString,aie="[object Function]";ZB.exports=function(e){var r=this;if(typeof r!="function"||sie.call(r)!==aie)throw new TypeError(oie+r);for(var i=m4.call(arguments,1),n,o=function(){if(this instanceof n){var w=r.apply(this,i.concat(m4.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,i.concat(m4.call(arguments)))},a=Math.max(0,r.length-i.length),d=[],p=0;p<a;p++)d.push("$"+p);if(n=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var v=function(){};v.prototype=r.prototype,n.prototype=new v,v.prototype=null}return n}});var ob=K(($7e,JB)=>{"use strict";M();var fie=YB();JB.exports=Function.prototype.bind||fie});var XB=K((G7e,QB)=>{"use strict";M();var uie=ob();QB.exports=uie.call(Function.call,Object.prototype.hasOwnProperty)});var fb=K((K7e,nO)=>{"use strict";M();var Ot,w0=SyntaxError,iO=Function,b0=TypeError,y4=function(t){try{return iO('"use strict"; return ('+t+").constructor;")()}catch{}},Nl=Object.getOwnPropertyDescriptor;if(Nl)try{Nl({},"")}catch{Nl=null}var g4=function(){throw new b0},cie=Nl?function(){try{return arguments.callee,g4}catch{try{return Nl(arguments,"callee").get}catch{return g4}}}():g4,g0=GB()(),lie=HB()(),fn=Object.getPrototypeOf||(lie?function(t){return t.__proto__}:null),v0={},die=typeof Uint8Array>"u"||!fn?Ot:fn(Uint8Array),jl={"%AggregateError%":typeof AggregateError>"u"?Ot:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ot:ArrayBuffer,"%ArrayIteratorPrototype%":g0&&fn?fn([][Symbol.iterator]()):Ot,"%AsyncFromSyncIteratorPrototype%":Ot,"%AsyncFunction%":v0,"%AsyncGenerator%":v0,"%AsyncGeneratorFunction%":v0,"%AsyncIteratorPrototype%":v0,"%Atomics%":typeof Atomics>"u"?Ot:Atomics,"%BigInt%":typeof BigInt>"u"?Ot:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ot:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ot:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ot:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ot:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ot:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ot:FinalizationRegistry,"%Function%":iO,"%GeneratorFunction%":v0,"%Int8Array%":typeof Int8Array>"u"?Ot:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ot:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ot:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g0&&fn?fn(fn([][Symbol.iterator]())):Ot,"%JSON%":typeof JSON=="object"?JSON:Ot,"%Map%":typeof Map>"u"?Ot:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g0||!fn?Ot:fn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ot:Promise,"%Proxy%":typeof Proxy>"u"?Ot:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ot:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ot:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g0||!fn?Ot:fn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ot:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g0&&fn?fn(""[Symbol.iterator]()):Ot,"%Symbol%":g0?Symbol:Ot,"%SyntaxError%":w0,"%ThrowTypeError%":cie,"%TypedArray%":die,"%TypeError%":b0,"%Uint8Array%":typeof Uint8Array>"u"?Ot:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ot:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ot:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ot:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ot:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ot:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ot:WeakSet};if(fn)try{null.error}catch(t){eO=fn(fn(t)),jl["%Error.prototype%"]=eO}var eO,hie=function t(e){var r;if(e==="%AsyncFunction%")r=y4("async function () {}");else if(e==="%GeneratorFunction%")r=y4("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=y4("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&fn&&(r=fn(n.prototype))}return jl[e]=r,r},tO={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wy=ob(),sb=XB(),pie=wy.call(Function.call,Array.prototype.concat),mie=wy.call(Function.apply,Array.prototype.splice),rO=wy.call(Function.call,String.prototype.replace),ab=wy.call(Function.call,String.prototype.slice),yie=wy.call(Function.call,RegExp.prototype.exec),gie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vie=/\\(\\)?/g,bie=function(e){var r=ab(e,0,1),i=ab(e,-1);if(r==="%"&&i!=="%")throw new w0("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new w0("invalid intrinsic syntax, expected opening `%`");var n=[];return rO(e,gie,function(o,a,d,p){n[n.length]=d?rO(p,vie,"$1"):a||o}),n},wie=function(e,r){var i=e,n;if(sb(tO,i)&&(n=tO[i],i="%"+n[0]+"%"),sb(jl,i)){var o=jl[i];if(o===v0&&(o=hie(i)),typeof o>"u"&&!r)throw new b0("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new w0("intrinsic "+e+" does not exist!")};nO.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new b0("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new b0('"allowMissing" argument must be a boolean');if(yie(/^%?[^%]*%?$/,e)===null)throw new w0("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=bie(e),n=i.length>0?i[0]:"",o=wie("%"+n+"%",r),a=o.name,d=o.value,p=!1,v=o.alias;v&&(n=v[0],mie(i,pie([0,1],v)));for(var w=1,x=!0;w<i.length;w+=1){var E=i[w],T=ab(E,0,1),A=ab(E,-1);if((T==='"'||T==="'"||T==="`"||A==='"'||A==="'"||A==="`")&&T!==A)throw new w0("property names with quotes must have matching quotes");if((E==="constructor"||!x)&&(p=!0),n+="."+E,a="%"+n+"%",sb(jl,a))d=jl[a];else if(d!=null){if(!(E in d)){if(!r)throw new b0("base intrinsic for "+e+" exists, but the property is not available.");return}if(Nl&&w+1>=i.length){var k=Nl(d,E);x=!!k,x&&"get"in k&&!("originalValue"in k.get)?d=k.get:d=d[E]}else x=sb(d,E),d=d[E];x&&!p&&(jl[a]=d)}}return d}});var cb=K((Z7e,ub)=>{"use strict";M();var v4=ob(),_0=fb(),aO=_0("%Function.prototype.apply%"),fO=_0("%Function.prototype.call%"),uO=_0("%Reflect.apply%",!0)||v4.call(fO,aO),oO=_0("%Object.getOwnPropertyDescriptor%",!0),Ll=_0("%Object.defineProperty%",!0),_ie=_0("%Math.max%");if(Ll)try{Ll({},"a",{value:1})}catch{Ll=null}ub.exports=function(e){var r=uO(v4,fO,arguments);if(oO&&Ll){var i=oO(r,"length");i.configurable&&Ll(r,"length",{value:1+_ie(0,e.length-(arguments.length-1))})}return r};var sO=function(){return uO(v4,aO,arguments)};Ll?Ll(ub.exports,"apply",{value:sO}):ub.exports.apply=sO});var lb=K((J7e,dO)=>{"use strict";M();var cO=fb(),lO=cb(),xie=lO(cO("String.prototype.indexOf"));dO.exports=function(e,r){var i=cO(e,!!r);return typeof i=="function"&&xie(e,".prototype.")>-1?lO(i):i}});var mO=K((X7e,pO)=>{"use strict";M();var Mie=by()(),Eie=lb(),b4=Eie("Object.prototype.toString"),db=function(e){return Mie&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:b4(e)==="[object Arguments]"},hO=function(e){return db(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&b4(e)!=="[object Array]"&&b4(e.callee)==="[object Function]"},Sie=function(){return db(arguments)}();db.isLegacyArguments=hO;pO.exports=Sie?db:hO});var vO=K((t9e,gO)=>{"use strict";M();var Aie=Object.prototype.toString,Tie=Function.prototype.toString,Pie=/^\s*(?:function)?\*/,yO=by()(),w4=Object.getPrototypeOf,Rie=function(){if(!yO)return!1;try{return Function("return function*() {}")()}catch{}},_4;gO.exports=function(e){if(typeof e!="function")return!1;if(Pie.test(Tie.call(e)))return!0;if(!yO){var r=Aie.call(e);return r==="[object GeneratorFunction]"}if(!w4)return!1;if(typeof _4>"u"){var i=Rie();_4=i?w4(i):!1}return w4(e)===_4}});var xO=K((i9e,_O)=>{"use strict";M();var wO=Function.prototype.toString,x0=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,M4,hb;if(typeof x0=="function"&&typeof Object.defineProperty=="function")try{M4=Object.defineProperty({},"length",{get:function(){throw hb}}),hb={},x0(function(){throw 42},null,M4)}catch(t){t!==hb&&(x0=null)}else x0=null;var kie=/^\s*class\b/,E4=function(e){try{var r=wO.call(e);return kie.test(r)}catch{return!1}},x4=function(e){try{return E4(e)?!1:(wO.call(e),!0)}catch{return!1}},pb=Object.prototype.toString,Iie="[object Object]",Die="[object Function]",Bie="[object GeneratorFunction]",Oie="[object HTMLAllCollection]",Cie="[object HTML document.all class]",qie="[object HTMLCollection]",Nie=typeof Symbol=="function"&&!!Symbol.toStringTag,jie=!(0 in[,]),S4=function(){return!1};typeof document=="object"&&(bO=document.all,pb.call(bO)===pb.call(document.all)&&(S4=function(e){if((jie||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=pb.call(e);return(r===Oie||r===Cie||r===qie||r===Iie)&&e("")==null}catch{}return!1}));var bO;_O.exports=x0?function(e){if(S4(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{x0(e,null,M4)}catch(r){if(r!==hb)return!1}return!E4(e)&&x4(e)}:function(e){if(S4(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Nie)return x4(e);if(E4(e))return!1;var r=pb.call(e);return r!==Die&&r!==Bie&&!/^\[object HTML/.test(r)?!1:x4(e)}});var A4=K((o9e,EO)=>{"use strict";M();var Lie=xO(),Uie=Object.prototype.toString,MO=Object.prototype.hasOwnProperty,zie=function(e,r,i){for(var n=0,o=e.length;n<o;n++)MO.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},Fie=function(e,r,i){for(var n=0,o=e.length;n<o;n++)i==null?r(e.charAt(n),n,e):r.call(i,e.charAt(n),n,e)},$ie=function(e,r,i){for(var n in e)MO.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},Wie=function(e,r,i){if(!Lie(r))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),Uie.call(e)==="[object Array]"?zie(e,r,n):typeof e=="string"?Fie(e,r,n):$ie(e,r,n)};EO.exports=Wie});var P4=K((a9e,SO)=>{"use strict";M();var T4=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Gie=globalThis;SO.exports=function(){for(var e=[],r=0;r<T4.length;r++)typeof Gie[T4[r]]=="function"&&(e[e.length]=T4[r]);return e}});var R4=K((u9e,AO)=>{"use strict";M();var Vie=fb(),mb=Vie("%Object.getOwnPropertyDescriptor%",!0);if(mb)try{mb([],"length")}catch{mb=null}AO.exports=mb});var B4=K((l9e,kO)=>{"use strict";M();var gb=A4(),Kie=P4(),TO=cb(),D4=lb(),Hie=D4("Object.prototype.toString"),RO=by()(),yb=R4(),PO=globalThis,I4=Kie(),Zie=D4("Array.prototype.indexOf",!0)||function(e,r){for(var i=0;i<e.length;i+=1)if(e[i]===r)return i;return-1},Yie=D4("String.prototype.slice"),vb={__proto__:null},k4=Object.getPrototypeOf;RO&&yb&&k4?gb(I4,function(t){var e=new PO[t];if(Symbol.toStringTag in e){var r=k4(e),i=yb(r,Symbol.toStringTag);if(!i){var n=k4(r);i=yb(n,Symbol.toStringTag)}vb["$"+t]=TO(i.get)}}):gb(I4,function(t){var e=new PO[t];vb["$"+t]=TO(e.slice)});var Jie=function(e){var r=!1;return gb(vb,function(i,n){if(!r)try{r="$"+i(e)===n}catch{}}),r},Qie=function(e){var r=!1;return gb(vb,function(i){if(!r)try{i(e),r=!0}catch{}}),r};kO.exports=function(e){if(!e||typeof e!="object")return!1;if(!RO){var r=Yie(Hie(e),8,-1);return Zie(I4,r)>-1?!0:r!=="Object"?!1:Qie(e)}return yb?Jie(e):null}});var NO=K((h9e,qO)=>{"use strict";M();var DO=A4(),Xie=P4(),ene=cb(),BO=lb(),O4=R4(),tne=BO("Object.prototype.toString"),OO=by()(),IO=globalThis,rne=Xie(),ine=BO("String.prototype.slice"),CO={__proto__:null},C4=Object.getPrototypeOf;OO&&O4&&C4&&DO(rne,function(t){if(typeof IO[t]=="function"){var e=new IO[t];if(Symbol.toStringTag in e){var r=C4(e),i=O4(r,Symbol.toStringTag);if(!i){var n=C4(r);i=O4(n,Symbol.toStringTag)}CO[t]=ene(i.get)}}});var nne=function(e){var r=!1;return DO(CO,function(i,n){if(!r)try{var o=i(e);o===n&&(r=o)}catch{}}),r},one=B4();qO.exports=function(e){return one(e)?!OO||!(Symbol.toStringTag in e)?ine(tne(e),8,-1):nne(e):!1}});var JO=K(It=>{"use strict";M();var sne=mO(),ane=vO(),Ws=NO(),jO=B4();function M0(t){return t.call.bind(t)}var LO=typeof BigInt<"u",UO=typeof Symbol<"u",is=M0(Object.prototype.toString),fne=M0(Number.prototype.valueOf),une=M0(String.prototype.valueOf),cne=M0(Boolean.prototype.valueOf);LO&&(zO=M0(BigInt.prototype.valueOf));var zO;UO&&(FO=M0(Symbol.prototype.valueOf));var FO;function xy(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}It.isArgumentsObject=sne;It.isGeneratorFunction=ane;It.isTypedArray=jO;function lne(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}It.isPromise=lne;function dne(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):jO(t)||WO(t)}It.isArrayBufferView=dne;function hne(t){return Ws(t)==="Uint8Array"}It.isUint8Array=hne;function pne(t){return Ws(t)==="Uint8ClampedArray"}It.isUint8ClampedArray=pne;function mne(t){return Ws(t)==="Uint16Array"}It.isUint16Array=mne;function yne(t){return Ws(t)==="Uint32Array"}It.isUint32Array=yne;function gne(t){return Ws(t)==="Int8Array"}It.isInt8Array=gne;function vne(t){return Ws(t)==="Int16Array"}It.isInt16Array=vne;function bne(t){return Ws(t)==="Int32Array"}It.isInt32Array=bne;function wne(t){return Ws(t)==="Float32Array"}It.isFloat32Array=wne;function _ne(t){return Ws(t)==="Float64Array"}It.isFloat64Array=_ne;function xne(t){return Ws(t)==="BigInt64Array"}It.isBigInt64Array=xne;function Mne(t){return Ws(t)==="BigUint64Array"}It.isBigUint64Array=Mne;function bb(t){return is(t)==="[object Map]"}bb.working=typeof Map<"u"&&bb(new Map);function Ene(t){return typeof Map>"u"?!1:bb.working?bb(t):t instanceof Map}It.isMap=Ene;function wb(t){return is(t)==="[object Set]"}wb.working=typeof Set<"u"&&wb(new Set);function Sne(t){return typeof Set>"u"?!1:wb.working?wb(t):t instanceof Set}It.isSet=Sne;function _b(t){return is(t)==="[object WeakMap]"}_b.working=typeof WeakMap<"u"&&_b(new WeakMap);function Ane(t){return typeof WeakMap>"u"?!1:_b.working?_b(t):t instanceof WeakMap}It.isWeakMap=Ane;function N4(t){return is(t)==="[object WeakSet]"}N4.working=typeof WeakSet<"u"&&N4(new WeakSet);function Tne(t){return N4(t)}It.isWeakSet=Tne;function xb(t){return is(t)==="[object ArrayBuffer]"}xb.working=typeof ArrayBuffer<"u"&&xb(new ArrayBuffer);function $O(t){return typeof ArrayBuffer>"u"?!1:xb.working?xb(t):t instanceof ArrayBuffer}It.isArrayBuffer=$O;function Mb(t){return is(t)==="[object DataView]"}Mb.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Mb(new DataView(new ArrayBuffer(1),0,1));function WO(t){return typeof DataView>"u"?!1:Mb.working?Mb(t):t instanceof DataView}It.isDataView=WO;var q4=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function _y(t){return is(t)==="[object SharedArrayBuffer]"}function GO(t){return typeof q4>"u"?!1:(typeof _y.working>"u"&&(_y.working=_y(new q4)),_y.working?_y(t):t instanceof q4)}It.isSharedArrayBuffer=GO;function Pne(t){return is(t)==="[object AsyncFunction]"}It.isAsyncFunction=Pne;function Rne(t){return is(t)==="[object Map Iterator]"}It.isMapIterator=Rne;function kne(t){return is(t)==="[object Set Iterator]"}It.isSetIterator=kne;function Ine(t){return is(t)==="[object Generator]"}It.isGeneratorObject=Ine;function Dne(t){return is(t)==="[object WebAssembly.Module]"}It.isWebAssemblyCompiledModule=Dne;function VO(t){return xy(t,fne)}It.isNumberObject=VO;function KO(t){return xy(t,une)}It.isStringObject=KO;function HO(t){return xy(t,cne)}It.isBooleanObject=HO;function ZO(t){return LO&&xy(t,zO)}It.isBigIntObject=ZO;function YO(t){return UO&&xy(t,FO)}It.isSymbolObject=YO;function Bne(t){return VO(t)||KO(t)||HO(t)||ZO(t)||YO(t)}It.isBoxedPrimitive=Bne;function One(t){return typeof Uint8Array<"u"&&($O(t)||GO(t))}It.isAnyArrayBuffer=One;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(It,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var XO=K((g9e,QO)=>{M();QO.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var Fl=K(Dt=>{M();var eC=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),i={},n=0;n<r.length;n++)i[r[n]]=Object.getOwnPropertyDescriptor(e,r[n]);return i},Cne=/%[sdj%]/g;Dt.format=function(t){if(!kb(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Hu(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,n=i.length,o=String(t).replace(Cne,function(d){if(d==="%%")return"%";if(r>=n)return d;switch(d){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch{return"[Circular]"}default:return d}}),a=i[r];r<n;a=i[++r])Rb(a)||!E0(a)?o+=" "+a:o+=" "+Hu(a);return o};Dt.deprecate=function(t,e){if(typeof O.default<"u"&&O.default.noDeprecation===!0)return t;if(typeof O.default>"u")return function(){return Dt.deprecate(t,e).apply(this,arguments)};var r=!1;function i(){if(!r){if(O.default.throwDeprecation)throw new Error(e);O.default.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return i};var Eb={},tC=/^$/;O.default.env.NODE_DEBUG&&(Sb=O.default.env.NODE_DEBUG,Sb=Sb.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),tC=new RegExp("^"+Sb+"$","i"));var Sb;Dt.debuglog=function(t){if(t=t.toUpperCase(),!Eb[t])if(tC.test(t)){var e=O.default.pid;Eb[t]=function(){var r=Dt.format.apply(Dt,arguments);console.error("%s %d: %s",t,e,r)}}else Eb[t]=function(){};return Eb[t]};function Hu(t,e){var r={seen:[],stylize:Nne};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),z4(e)?r.showHidden=e:e&&Dt._extend(r,e),zl(r.showHidden)&&(r.showHidden=!1),zl(r.depth)&&(r.depth=2),zl(r.colors)&&(r.colors=!1),zl(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=qne),Tb(r,t,r.depth)}Dt.inspect=Hu;Hu.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Hu.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function qne(t,e){var r=Hu.styles[e];return r?"\x1B["+Hu.colors[r][0]+"m"+t+"\x1B["+Hu.colors[r][1]+"m":t}function Nne(t,e){return t}function jne(t){var e={};return t.forEach(function(r,i){e[r]=!0}),e}function Tb(t,e,r){if(t.customInspect&&e&&Ab(e.inspect)&&e.inspect!==Dt.inspect&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(r,t);return kb(i)||(i=Tb(t,i,r)),i}var n=Lne(t,e);if(n)return n;var o=Object.keys(e),a=jne(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),Ey(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return j4(e);if(o.length===0){if(Ab(e)){var d=e.name?": "+e.name:"";return t.stylize("[Function"+d+"]","special")}if(My(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Pb(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Ey(e))return j4(e)}var p="",v=!1,w=["{","}"];if(rC(e)&&(v=!0,w=["[","]"]),Ab(e)){var x=e.name?": "+e.name:"";p=" [Function"+x+"]"}if(My(e)&&(p=" "+RegExp.prototype.toString.call(e)),Pb(e)&&(p=" "+Date.prototype.toUTCString.call(e)),Ey(e)&&(p=" "+j4(e)),o.length===0&&(!v||e.length==0))return w[0]+p+w[1];if(r<0)return My(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return v?E=Une(t,e,r,a,o):E=o.map(function(T){return U4(t,e,r,a,T,v)}),t.seen.pop(),zne(E,p,w)}function Lne(t,e){if(zl(e))return t.stylize("undefined","undefined");if(kb(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(iC(e))return t.stylize(""+e,"number");if(z4(e))return t.stylize(""+e,"boolean");if(Rb(e))return t.stylize("null","null")}function j4(t){return"["+Error.prototype.toString.call(t)+"]"}function Une(t,e,r,i,n){for(var o=[],a=0,d=e.length;a<d;++a)nC(e,String(a))?o.push(U4(t,e,r,i,String(a),!0)):o.push("");return n.forEach(function(p){p.match(/^\d+$/)||o.push(U4(t,e,r,i,p,!0))}),o}function U4(t,e,r,i,n,o){var a,d,p;if(p=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},p.get?p.set?d=t.stylize("[Getter/Setter]","special"):d=t.stylize("[Getter]","special"):p.set&&(d=t.stylize("[Setter]","special")),nC(i,n)||(a="["+n+"]"),d||(t.seen.indexOf(p.value)<0?(Rb(r)?d=Tb(t,p.value,null):d=Tb(t,p.value,r-1),d.indexOf(`
`)>-1&&(o?d=d.split(`
`).map(function(v){return"  "+v}).join(`
`).substr(2):d=`
`+d.split(`
`).map(function(v){return"   "+v}).join(`
`))):d=t.stylize("[Circular]","special")),zl(a)){if(o&&n.match(/^\d+$/))return d;a=JSON.stringify(""+n),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+d}function zne(t,e,r){var i=0,n=t.reduce(function(o,a){return i++,a.indexOf(`
`)>=0&&i++,o+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}Dt.types=JO();function rC(t){return Array.isArray(t)}Dt.isArray=rC;function z4(t){return typeof t=="boolean"}Dt.isBoolean=z4;function Rb(t){return t===null}Dt.isNull=Rb;function Fne(t){return t==null}Dt.isNullOrUndefined=Fne;function iC(t){return typeof t=="number"}Dt.isNumber=iC;function kb(t){return typeof t=="string"}Dt.isString=kb;function $ne(t){return typeof t=="symbol"}Dt.isSymbol=$ne;function zl(t){return t===void 0}Dt.isUndefined=zl;function My(t){return E0(t)&&F4(t)==="[object RegExp]"}Dt.isRegExp=My;Dt.types.isRegExp=My;function E0(t){return typeof t=="object"&&t!==null}Dt.isObject=E0;function Pb(t){return E0(t)&&F4(t)==="[object Date]"}Dt.isDate=Pb;Dt.types.isDate=Pb;function Ey(t){return E0(t)&&(F4(t)==="[object Error]"||t instanceof Error)}Dt.isError=Ey;Dt.types.isNativeError=Ey;function Ab(t){return typeof t=="function"}Dt.isFunction=Ab;function Wne(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Dt.isPrimitive=Wne;Dt.isBuffer=XO();function F4(t){return Object.prototype.toString.call(t)}function L4(t){return t<10?"0"+t.toString(10):t.toString(10)}var Gne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Vne(){var t=new Date,e=[L4(t.getHours()),L4(t.getMinutes()),L4(t.getSeconds())].join(":");return[t.getDate(),Gne[t.getMonth()],e].join(" ")}Dt.log=function(){console.log("%s - %s",Vne(),Dt.format.apply(Dt,arguments))};Dt.inherits=rt();Dt._extend=function(t,e){if(!e||!E0(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};function nC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ul=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Dt.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Ul&&e[Ul]){var r=e[Ul];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Ul,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var i,n,o=new Promise(function(p,v){i=p,n=v}),a=[],d=0;d<arguments.length;d++)a.push(arguments[d]);a.push(function(p,v){p?n(p):i(v)});try{e.apply(this,a)}catch(p){n(p)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Ul&&Object.defineProperty(r,Ul,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,eC(e))};Dt.promisify.custom=Ul;function Kne(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function Hne(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return n.apply(o,arguments)};t.apply(this,r).then(function(d){O.default.nextTick(a.bind(null,null,d))},function(d){O.default.nextTick(Kne.bind(null,d,a))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,eC(t)),e}Dt.callbackify=Hne});var cC=K((_9e,uC)=>{"use strict";M();function oC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function sC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(r),!0).forEach(function(i){Zne(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Zne(t,e,r){return e=fC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aC(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,fC(i.key),i)}}function Jne(t,e,r){return e&&aC(t.prototype,e),r&&aC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fC(t){var e=Qne(t,"string");return typeof e=="symbol"?e:String(e)}function Qne(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xne=Ut(),Ib=Xne.Buffer,eoe=Fl(),$4=eoe.inspect,toe=$4&&$4.custom||"inspect";function roe(t,e,r){Ib.prototype.copy.call(t,e,r)}uC.exports=function(){function t(){Yne(this,t),this.head=null,this.tail=null,this.length=0}return Jne(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Ib.alloc(0);for(var i=Ib.allocUnsafe(r>>>0),n=this.head,o=0;n;)roe(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var a=i.data,d=r>a.length?a.length:r;if(d===a.length?o+=a:o+=a.slice(0,r),r-=d,r===0){d===a.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(d));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=Ib.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var a=n.data,d=r>a.length?a.length:r;if(a.copy(i,i.length-r,0,d),r-=d,r===0){d===a.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(d));break}++o}return this.length-=o,i}},{key:toe,value:function(r,i){return $4(this,sC(sC({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var G4=K((M9e,dC)=>{"use strict";M();function ioe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,O.default.nextTick(W4,this,t)):O.default.nextTick(W4,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?O.default.nextTick(Db,r):(r._writableState.errorEmitted=!0,O.default.nextTick(lC,r,o)):O.default.nextTick(lC,r,o):e?(O.default.nextTick(Db,r),e(o)):O.default.nextTick(Db,r)}),this)}function lC(t,e){W4(t,e),Db(t)}function Db(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function noe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function W4(t,e){t.emit("error",e)}function ooe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}dC.exports={destroy:ioe,undestroy:noe,errorOrDestroy:ooe}});var $l=K((S9e,mC)=>{"use strict";M();function soe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var pC={};function ns(t,e,r){r||(r=Error);function i(o,a,d){return typeof e=="string"?e:e(o,a,d)}var n=function(o){soe(a,o);function a(d,p,v){return o.call(this,i(d,p,v))||this}return a}(r);n.prototype.name=r.name,n.prototype.code=t,pC[t]=n}function hC(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function aoe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function foe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function uoe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ns("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ns("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&aoe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(foe(t," argument"))n="The ".concat(t," ").concat(i," ").concat(hC(e,"type"));else{var o=uoe(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(hC(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);ns("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ns("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ns("ERR_STREAM_PREMATURE_CLOSE","Premature close");ns("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ns("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ns("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ns("ERR_STREAM_WRITE_AFTER_END","write after end");ns("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ns("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ns("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");mC.exports.codes=pC});var V4=K((T9e,yC)=>{"use strict";M();var coe=$l().codes.ERR_INVALID_OPT_VALUE;function loe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function doe(t,e,r,i){var n=loe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new coe(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}yC.exports={getHighWaterMark:doe}});var Bb=K((R9e,gC)=>{M();gC.exports=hoe;function hoe(t,e){if(K4("noDeprecation"))return t;var r=!1;function i(){if(!r){if(K4("throwDeprecation"))throw new Error(e);K4("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function K4(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var Y4=K((I9e,MC)=>{"use strict";M();MC.exports=ti;function bC(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Uoe(e,t)}}var S0;ti.WritableState=Ay;var poe={deprecate:Bb()},wC=h4(),Cb=Ut().Buffer,moe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function yoe(t){return Cb.from(t)}function goe(t){return Cb.isBuffer(t)||t instanceof moe}var Z4=G4(),voe=V4(),boe=voe.getHighWaterMark,Zu=$l().codes,woe=Zu.ERR_INVALID_ARG_TYPE,_oe=Zu.ERR_METHOD_NOT_IMPLEMENTED,xoe=Zu.ERR_MULTIPLE_CALLBACK,Moe=Zu.ERR_STREAM_CANNOT_PIPE,Eoe=Zu.ERR_STREAM_DESTROYED,Soe=Zu.ERR_STREAM_NULL_VALUES,Aoe=Zu.ERR_STREAM_WRITE_AFTER_END,Toe=Zu.ERR_UNKNOWN_ENCODING,A0=Z4.errorOrDestroy;rt()(ti,wC);function Poe(){}function Ay(t,e,r){S0=S0||Wl(),t=t||{},typeof r!="boolean"&&(r=e instanceof S0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=boe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Coe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new bC(this)}Ay.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ay.prototype,"buffer",{get:poe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ob;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ob=Function.prototype[Symbol.hasInstance],Object.defineProperty(ti,Symbol.hasInstance,{value:function(e){return Ob.call(this,e)?!0:this!==ti?!1:e&&e._writableState instanceof Ay}})):Ob=function(e){return e instanceof this};function ti(t){S0=S0||Wl();var e=this instanceof S0;if(!e&&!Ob.call(ti,this))return new ti(t);this._writableState=new Ay(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),wC.call(this)}ti.prototype.pipe=function(){A0(this,new Moe)};function Roe(t,e){var r=new Aoe;A0(t,r),O.default.nextTick(e,r)}function koe(t,e,r,i){var n;return r===null?n=new Soe:typeof r!="string"&&!e.objectMode&&(n=new woe("chunk",["string","Buffer"],r)),n?(A0(t,n),O.default.nextTick(i,n),!1):!0}ti.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&goe(t);return o&&!Cb.isBuffer(t)&&(t=yoe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=Poe),i.ending?Roe(this,r):(o||koe(this,i,t,r))&&(i.pendingcb++,n=Doe(this,i,o,t,e,r)),n};ti.prototype.cork=function(){this._writableState.corked++};ti.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&_C(this,t))};ti.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Toe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ti.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ioe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Cb.from(e,r)),e}Object.defineProperty(ti.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Doe(t,e,r,i,n,o){if(!r){var a=Ioe(e,i,n);i!==a&&(r=!0,n="buffer",i=a)}var d=e.objectMode?1:i.length;e.length+=d;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var v=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},v?v.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else H4(t,e,!1,d,i,n,o);return p}function H4(t,e,r,i,n,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Eoe("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function Boe(t,e,r,i,n){--e.pendingcb,r?(O.default.nextTick(n,i),O.default.nextTick(Sy,t,e),t._writableState.errorEmitted=!0,A0(t,i)):(n(i),t._writableState.errorEmitted=!0,A0(t,i),Sy(t,e))}function Ooe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Coe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new xoe;if(Ooe(r),e)Boe(t,r,i,e,n);else{var o=xC(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&_C(t,r),i?O.default.nextTick(vC,t,r,o,n):vC(t,r,o,n)}}function vC(t,e,r,i){r||qoe(t,e),e.pendingcb--,i(),Sy(t,e)}function qoe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function _C(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,d=!0;r;)n[a]=r,r.isBuf||(d=!1),r=r.next,a+=1;n.allBuffers=d,H4(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new bC(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,v=r.encoding,w=r.callback,x=e.objectMode?1:p.length;if(H4(t,e,!1,x,p,v,w),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ti.prototype._write=function(t,e,r){r(new _oe("_write()"))};ti.prototype._writev=null;ti.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Loe(this,i,r),this};Object.defineProperty(ti.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xC(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Noe(t,e){t._final(function(r){e.pendingcb--,r&&A0(t,r),e.prefinished=!0,t.emit("prefinish"),Sy(t,e)})}function joe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,O.default.nextTick(Noe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Sy(t,e){var r=xC(e);if(r&&(joe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Loe(t,e,r){e.ending=!0,Sy(t,e),r&&(e.finished?O.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Uoe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(ti.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ti.prototype.destroy=Z4.destroy;ti.prototype._undestroy=Z4.undestroy;ti.prototype._destroy=function(t,e){e(t)}});var Wl=K((B9e,SC)=>{"use strict";M();var zoe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};SC.exports=$a;var EC=X4(),Q4=Y4();rt()($a,EC);for(J4=zoe(Q4.prototype),qb=0;qb<J4.length;qb++)Nb=J4[qb],$a.prototype[Nb]||($a.prototype[Nb]=Q4.prototype[Nb]);var J4,Nb,qb;function $a(t){if(!(this instanceof $a))return new $a(t);EC.call(this,t),Q4.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Foe)))}Object.defineProperty($a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty($a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty($a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Foe(){this._writableState.ended||O.default.nextTick($oe,this)}function $oe(t){t.end()}Object.defineProperty($a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var PC=K((e8,TC)=>{M();var jb=Ut(),Wa=jb.Buffer;function AC(t,e){for(var r in t)e[r]=t[r]}Wa.from&&Wa.alloc&&Wa.allocUnsafe&&Wa.allocUnsafeSlow?TC.exports=jb:(AC(jb,e8),e8.Buffer=Gl);function Gl(t,e,r){return Wa(t,e,r)}Gl.prototype=Object.create(Wa.prototype);AC(Wa,Gl);Gl.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Wa(t,e,r)};Gl.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Wa(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Gl.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Wa(t)};Gl.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return jb.SlowBuffer(t)}});var Gf=K(kC=>{"use strict";M();var r8=PC().Buffer,RC=r8.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Woe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Goe(t){var e=Woe(t);if(typeof e!="string"&&(r8.isEncoding===RC||!RC(t)))throw new Error("Unknown encoding: "+t);return e||t}kC.StringDecoder=Ty;function Ty(t){this.encoding=Goe(t);var e;switch(this.encoding){case"utf16le":this.text=Joe,this.end=Qoe,e=4;break;case"utf8":this.fillLast=Hoe,e=4;break;case"base64":this.text=Xoe,this.end=ese,e=3;break;default:this.write=tse,this.end=rse;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r8.allocUnsafe(e)}Ty.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ty.prototype.end=Yoe;Ty.prototype.text=Zoe;Ty.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function t8(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Voe(t,e,r){var i=e.length-1;if(i<r)return 0;var n=t8(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=t8(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=t8(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Koe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Hoe(t){var e=this.lastTotal-this.lastNeed,r=Koe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Zoe(t,e){var r=Voe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function Yoe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Joe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Qoe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Xoe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function ese(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function tse(t){return t.toString(this.encoding)}function rse(t){return t&&t.length?this.write(t):""}});var Lb=K((j9e,BC)=>{"use strict";M();var IC=$l().codes.ERR_STREAM_PREMATURE_CLOSE;function ise(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function nse(){}function ose(t){return t.setHeader&&typeof t.abort=="function"}function DC(t,e,r){if(typeof e=="function")return DC(t,null,e);e||(e={}),r=ise(r||nse);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||d()},a=t._writableState&&t._writableState.finished,d=function(){n=!1,a=!0,i||r.call(t)},p=t._readableState&&t._readableState.endEmitted,v=function(){i=!1,p=!0,n||r.call(t)},w=function(A){r.call(t,A)},x=function(){var A;if(i&&!p)return(!t._readableState||!t._readableState.ended)&&(A=new IC),r.call(t,A);if(n&&!a)return(!t._writableState||!t._writableState.ended)&&(A=new IC),r.call(t,A)},E=function(){t.req.on("finish",d)};return ose(t)?(t.on("complete",d),t.on("abort",x),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",v),t.on("finish",d),e.error!==!1&&t.on("error",w),t.on("close",x),function(){t.removeListener("complete",d),t.removeListener("abort",x),t.removeListener("request",E),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",v),t.removeListener("error",w),t.removeListener("close",x)}}BC.exports=DC});var CC=K((U9e,OC)=>{"use strict";M();var Ub;function Yu(t,e,r){return e=sse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sse(t){var e=ase(t,"string");return typeof e=="symbol"?e:String(e)}function ase(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fse=Lb(),Ju=Symbol("lastResolve"),Vl=Symbol("lastReject"),Py=Symbol("error"),zb=Symbol("ended"),Kl=Symbol("lastPromise"),i8=Symbol("handlePromise"),Hl=Symbol("stream");function Qu(t,e){return{value:t,done:e}}function use(t){var e=t[Ju];if(e!==null){var r=t[Hl].read();r!==null&&(t[Kl]=null,t[Ju]=null,t[Vl]=null,e(Qu(r,!1)))}}function cse(t){O.default.nextTick(use,t)}function lse(t,e){return function(r,i){t.then(function(){if(e[zb]){r(Qu(void 0,!0));return}e[i8](r,i)},i)}}var dse=Object.getPrototypeOf(function(){}),hse=Object.setPrototypeOf((Ub={get stream(){return this[Hl]},next:function(){var e=this,r=this[Py];if(r!==null)return Promise.reject(r);if(this[zb])return Promise.resolve(Qu(void 0,!0));if(this[Hl].destroyed)return new Promise(function(a,d){O.default.nextTick(function(){e[Py]?d(e[Py]):a(Qu(void 0,!0))})});var i=this[Kl],n;if(i)n=new Promise(lse(i,this));else{var o=this[Hl].read();if(o!==null)return Promise.resolve(Qu(o,!1));n=new Promise(this[i8])}return this[Kl]=n,n}},Yu(Ub,Symbol.asyncIterator,function(){return this}),Yu(Ub,"return",function(){var e=this;return new Promise(function(r,i){e[Hl].destroy(null,function(n){if(n){i(n);return}r(Qu(void 0,!0))})})}),Ub),dse),pse=function(e){var r,i=Object.create(hse,(r={},Yu(r,Hl,{value:e,writable:!0}),Yu(r,Ju,{value:null,writable:!0}),Yu(r,Vl,{value:null,writable:!0}),Yu(r,Py,{value:null,writable:!0}),Yu(r,zb,{value:e._readableState.endEmitted,writable:!0}),Yu(r,i8,{value:function(o,a){var d=i[Hl].read();d?(i[Kl]=null,i[Ju]=null,i[Vl]=null,o(Qu(d,!1))):(i[Ju]=o,i[Vl]=a)},writable:!0}),r));return i[Kl]=null,fse(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Vl];o!==null&&(i[Kl]=null,i[Ju]=null,i[Vl]=null,o(n)),i[Py]=n;return}var a=i[Ju];a!==null&&(i[Kl]=null,i[Ju]=null,i[Vl]=null,a(Qu(void 0,!0))),i[zb]=!0}),e.on("readable",cse.bind(null,i)),i};OC.exports=pse});var NC=K((F9e,qC)=>{M();qC.exports=function(){throw new Error("Readable.from is not available in the browser")}});var X4=K((G9e,KC)=>{"use strict";M();KC.exports=Wt;var T0;Wt.ReadableState=zC;var W9e=rs().EventEmitter,UC=function(e,r){return e.listeners(r).length},ky=h4(),Fb=Ut().Buffer,mse=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function yse(t){return Fb.from(t)}function gse(t){return Fb.isBuffer(t)||t instanceof mse}var n8=Fl(),At;n8&&n8.debuglog?At=n8.debuglog("stream"):At=function(){};var vse=cC(),l8=G4(),bse=V4(),wse=bse.getHighWaterMark,$b=$l().codes,_se=$b.ERR_INVALID_ARG_TYPE,xse=$b.ERR_STREAM_PUSH_AFTER_EOF,Mse=$b.ERR_METHOD_NOT_IMPLEMENTED,Ese=$b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P0,o8,s8;rt()(Wt,ky);var Ry=l8.errorOrDestroy,a8=["error","close","destroy","pause","resume"];function Sse(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function zC(t,e,r){T0=T0||Wl(),t=t||{},typeof r!="boolean"&&(r=e instanceof T0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=wse(this,t,"readableHighWaterMark",r),this.buffer=new vse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(P0||(P0=Gf().StringDecoder),this.decoder=new P0(t.encoding),this.encoding=t.encoding)}function Wt(t){if(T0=T0||Wl(),!(this instanceof Wt))return new Wt(t);var e=this instanceof T0;this._readableState=new zC(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ky.call(this)}Object.defineProperty(Wt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Wt.prototype.destroy=l8.destroy;Wt.prototype._undestroy=l8.undestroy;Wt.prototype._destroy=function(t,e){e(t)};Wt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Fb.from(t,e),e=""),i=!0),FC(this,t,e,!1,i)};Wt.prototype.unshift=function(t){return FC(this,t,null,!0,!1)};function FC(t,e,r,i,n){At("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Pse(t,o);else{var a;if(n||(a=Ase(o,e)),a)Ry(t,a);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Fb.prototype&&(e=yse(e)),i)o.endEmitted?Ry(t,new Ese):f8(t,o,e,!0);else if(o.ended)Ry(t,new xse);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?f8(t,o,e,!1):c8(t,o)):f8(t,o,e,!1)}else i||(o.reading=!1,c8(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function f8(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Wb(t)),c8(t,e)}function Ase(t,e){var r;return!gse(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new _se("chunk",["string","Buffer","Uint8Array"],e)),r}Wt.prototype.isPaused=function(){return this._readableState.flowing===!1};Wt.prototype.setEncoding=function(t){P0||(P0=Gf().StringDecoder);var e=new P0(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var jC=1073741824;function Tse(t){return t>=jC?t=jC:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function LC(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Tse(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Wt.prototype.read=function(t){At("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return At("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?u8(this):Wb(this),null;if(t=LC(t,e),t===0&&e.ended)return e.length===0&&u8(this),null;var i=e.needReadable;At("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,At("length less than watermark",i)),e.ended||e.reading?(i=!1,At("reading or ended",i)):i&&(At("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=LC(r,e)));var n;return t>0?n=GC(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&u8(this)),n!==null&&this.emit("data",n),n};function Pse(t,e){if(At("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Wb(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,$C(t)))}}function Wb(t){var e=t._readableState;At("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(At("emitReadable",e.flowing),e.emittedReadable=!0,O.default.nextTick($C,t))}function $C(t){var e=t._readableState;At("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,d8(t)}function c8(t,e){e.readingMore||(e.readingMore=!0,O.default.nextTick(Rse,t,e))}function Rse(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(At("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Wt.prototype._read=function(t){Ry(this,new Mse("_read()"))};Wt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,At("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==O.default.stdout&&t!==O.default.stderr,o=n?d:k;i.endEmitted?O.default.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(D,I){At("onunpipe"),D===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,w())}function d(){At("onend"),t.end()}var p=kse(r);t.on("drain",p);var v=!1;function w(){At("cleanup"),t.removeListener("close",T),t.removeListener("finish",A),t.removeListener("drain",p),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",d),r.removeListener("end",k),r.removeListener("data",x),v=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on("data",x);function x(D){At("ondata");var I=t.write(D);At("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&VC(i.pipes,t)!==-1)&&!v&&(At("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(D){At("onerror",D),k(),t.removeListener("error",E),UC(t,"error")===0&&Ry(t,D)}Sse(t,"error",E);function T(){t.removeListener("finish",A),k()}t.once("close",T);function A(){At("onfinish"),t.removeListener("close",T),k()}t.once("finish",A);function k(){At("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(At("pipe resume"),r.resume()),t};function kse(t){return function(){var r=t._readableState;At("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&UC(t,"data")&&(r.flowing=!0,d8(t))}}Wt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=VC(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Wt.prototype.on=function(t,e){var r=ky.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,At("on readable",i.length,i.reading),i.length?Wb(this):i.reading||O.default.nextTick(Ise,this)),r};Wt.prototype.addListener=Wt.prototype.on;Wt.prototype.removeListener=function(t,e){var r=ky.prototype.removeListener.call(this,t,e);return t==="readable"&&O.default.nextTick(WC,this),r};Wt.prototype.removeAllListeners=function(t){var e=ky.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&O.default.nextTick(WC,this),e};function WC(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Ise(t){At("readable nexttick read 0"),t.read(0)}Wt.prototype.resume=function(){var t=this._readableState;return t.flowing||(At("resume"),t.flowing=!t.readableListening,Dse(this,t)),t.paused=!1,this};function Dse(t,e){e.resumeScheduled||(e.resumeScheduled=!0,O.default.nextTick(Bse,t,e))}function Bse(t,e){At("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),d8(t),e.flowing&&!e.reading&&t.read(0)}Wt.prototype.pause=function(){return At("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(At("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function d8(t){var e=t._readableState;for(At("flow",e.flowing);e.flowing&&t.read()!==null;);}Wt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(At("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(At("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var d=e.push(a);d||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(d){return function(){return t[d].apply(t,arguments)}}(n));for(var o=0;o<a8.length;o++)t.on(a8[o],this.emit.bind(this,a8[o]));return this._read=function(a){At("wrapped _read",a),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Wt.prototype[Symbol.asyncIterator]=function(){return o8===void 0&&(o8=CC()),o8(this)});Object.defineProperty(Wt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Wt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Wt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Wt._fromList=GC;Object.defineProperty(Wt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function GC(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function u8(t){var e=t._readableState;At("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,O.default.nextTick(Ose,e,t))}function Ose(t,e){if(At("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Wt.from=function(t,e){return s8===void 0&&(s8=NC()),s8(Wt,t,e)});function VC(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var h8=K((K9e,ZC)=>{"use strict";M();ZC.exports=Vf;var Gb=$l().codes,Cse=Gb.ERR_METHOD_NOT_IMPLEMENTED,qse=Gb.ERR_MULTIPLE_CALLBACK,Nse=Gb.ERR_TRANSFORM_ALREADY_TRANSFORMING,jse=Gb.ERR_TRANSFORM_WITH_LENGTH_0,Vb=Wl();rt()(Vf,Vb);function Lse(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new qse);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Vf(t){if(!(this instanceof Vf))return new Vf(t);Vb.call(this,t),this._transformState={afterTransform:Lse.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Use)}function Use(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){HC(t,e,r)}):HC(this,null,null)}Vf.prototype.push=function(t,e){return this._transformState.needTransform=!1,Vb.prototype.push.call(this,t,e)};Vf.prototype._transform=function(t,e,r){r(new Cse("_transform()"))};Vf.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Vf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Vf.prototype._destroy=function(t,e){Vb.prototype._destroy.call(this,t,function(r){e(r)})};function HC(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new jse;if(t._transformState.transforming)throw new Nse;return t.push(null)}});var QC=K((Z9e,JC)=>{"use strict";M();JC.exports=Iy;var YC=h8();rt()(Iy,YC);function Iy(t){if(!(this instanceof Iy))return new Iy(t);YC.call(this,t)}Iy.prototype._transform=function(t,e,r){r(null,t)}});var iq=K((J9e,rq)=>{"use strict";M();var p8;function zse(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var tq=$l().codes,Fse=tq.ERR_MISSING_ARGS,$se=tq.ERR_STREAM_DESTROYED;function XC(t){if(t)throw t}function Wse(t){return t.setHeader&&typeof t.abort=="function"}function Gse(t,e,r,i){i=zse(i);var n=!1;t.on("close",function(){n=!0}),p8===void 0&&(p8=Lb()),p8(t,{readable:e,writable:r},function(a){if(a)return i(a);n=!0,i()});var o=!1;return function(a){if(!n&&!o){if(o=!0,Wse(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(a||new $se("pipe"))}}}function eq(t){t()}function Vse(t,e){return t.pipe(e)}function Kse(t){return!t.length||typeof t[t.length-1]!="function"?XC:t.pop()}function Hse(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Kse(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Fse("streams");var n,o=e.map(function(a,d){var p=d<e.length-1,v=d>0;return Gse(a,p,v,function(w){n||(n=w),w&&o.forEach(eq),!p&&(o.forEach(eq),i(n))})});return e.reduce(Vse)}rq.exports=Hse});var oq=K((os,nq)=>{M();os=nq.exports=X4();os.Stream=os;os.Readable=os;os.Writable=Y4();os.Duplex=Wl();os.Transform=h8();os.PassThrough=QC();os.finished=Lb();os.pipeline=iq()});var m8=K((ePe,aq)=>{"use strict";M();var Kb=RB().Buffer,sq=oq().Transform,Zse=rt();function Yse(t,e){if(!Kb.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Xu(t){sq.call(this),this._block=Kb.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Zse(Xu,sq);Xu.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)};Xu.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Xu.prototype.update=function(t,e){if(Yse(t,"Data"),this._finalized)throw new Error("Digest already called");Kb.isBuffer(t)||(t=Kb.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,a=t.length*8;a>0;++o)this._length[o]+=a,a=this._length[o]/4294967296|0,a>0&&(this._length[o]-=4294967296*a);return this};Xu.prototype._update=function(){throw new Error("_update is not implemented")};Xu.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Xu.prototype._digest=function(){throw new Error("_digest is not implemented")};aq.exports=Xu});var Yb=K((rPe,uq)=>{"use strict";M();var Jse=rt(),fq=m8(),Qse=jt().Buffer,Xse=new Array(16);function Hb(){fq.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Jse(Hb,fq);Hb.prototype._update=function(){for(var t=Xse,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,i=this._b,n=this._c,o=this._d;r=Nn(r,i,n,o,t[0],3614090360,7),o=Nn(o,r,i,n,t[1],3905402710,12),n=Nn(n,o,r,i,t[2],606105819,17),i=Nn(i,n,o,r,t[3],3250441966,22),r=Nn(r,i,n,o,t[4],4118548399,7),o=Nn(o,r,i,n,t[5],1200080426,12),n=Nn(n,o,r,i,t[6],2821735955,17),i=Nn(i,n,o,r,t[7],4249261313,22),r=Nn(r,i,n,o,t[8],1770035416,7),o=Nn(o,r,i,n,t[9],2336552879,12),n=Nn(n,o,r,i,t[10],4294925233,17),i=Nn(i,n,o,r,t[11],2304563134,22),r=Nn(r,i,n,o,t[12],1804603682,7),o=Nn(o,r,i,n,t[13],4254626195,12),n=Nn(n,o,r,i,t[14],2792965006,17),i=Nn(i,n,o,r,t[15],1236535329,22),r=jn(r,i,n,o,t[1],4129170786,5),o=jn(o,r,i,n,t[6],3225465664,9),n=jn(n,o,r,i,t[11],643717713,14),i=jn(i,n,o,r,t[0],3921069994,20),r=jn(r,i,n,o,t[5],3593408605,5),o=jn(o,r,i,n,t[10],38016083,9),n=jn(n,o,r,i,t[15],3634488961,14),i=jn(i,n,o,r,t[4],3889429448,20),r=jn(r,i,n,o,t[9],568446438,5),o=jn(o,r,i,n,t[14],3275163606,9),n=jn(n,o,r,i,t[3],4107603335,14),i=jn(i,n,o,r,t[8],1163531501,20),r=jn(r,i,n,o,t[13],2850285829,5),o=jn(o,r,i,n,t[2],4243563512,9),n=jn(n,o,r,i,t[7],1735328473,14),i=jn(i,n,o,r,t[12],2368359562,20),r=Ln(r,i,n,o,t[5],4294588738,4),o=Ln(o,r,i,n,t[8],2272392833,11),n=Ln(n,o,r,i,t[11],1839030562,16),i=Ln(i,n,o,r,t[14],4259657740,23),r=Ln(r,i,n,o,t[1],2763975236,4),o=Ln(o,r,i,n,t[4],1272893353,11),n=Ln(n,o,r,i,t[7],4139469664,16),i=Ln(i,n,o,r,t[10],3200236656,23),r=Ln(r,i,n,o,t[13],681279174,4),o=Ln(o,r,i,n,t[0],3936430074,11),n=Ln(n,o,r,i,t[3],3572445317,16),i=Ln(i,n,o,r,t[6],76029189,23),r=Ln(r,i,n,o,t[9],3654602809,4),o=Ln(o,r,i,n,t[12],3873151461,11),n=Ln(n,o,r,i,t[15],530742520,16),i=Ln(i,n,o,r,t[2],3299628645,23),r=Un(r,i,n,o,t[0],4096336452,6),o=Un(o,r,i,n,t[7],1126891415,10),n=Un(n,o,r,i,t[14],2878612391,15),i=Un(i,n,o,r,t[5],4237533241,21),r=Un(r,i,n,o,t[12],1700485571,6),o=Un(o,r,i,n,t[3],2399980690,10),n=Un(n,o,r,i,t[10],4293915773,15),i=Un(i,n,o,r,t[1],2240044497,21),r=Un(r,i,n,o,t[8],1873313359,6),o=Un(o,r,i,n,t[15],4264355552,10),n=Un(n,o,r,i,t[6],2734768916,15),i=Un(i,n,o,r,t[13],1309151649,21),r=Un(r,i,n,o,t[4],4149444226,6),o=Un(o,r,i,n,t[11],3174756917,10),n=Un(n,o,r,i,t[2],718787259,15),i=Un(i,n,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+o|0};Hb.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Qse.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Zb(t,e){return t<<e|t>>>32-e}function Nn(t,e,r,i,n,o,a){return Zb(t+(e&r|~e&i)+n+o|0,a)+e|0}function jn(t,e,r,i,n,o,a){return Zb(t+(e&i|r&~i)+n+o|0,a)+e|0}function Ln(t,e,r,i,n,o,a){return Zb(t+(e^r^i)+n+o|0,a)+e|0}function Un(t,e,r,i,n,o,a){return Zb(t+(r^(e|~i))+n+o|0,a)+e|0}uq.exports=Hb});var Qb=K((nPe,yq)=>{"use strict";M();var y8=Ut().Buffer,eae=rt(),mq=m8(),tae=new Array(16),Dy=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],By=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Oy=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Cy=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],qy=[0,1518500249,1859775393,2400959708,2840853838],Ny=[1352829926,1548603684,1836072691,2053994217,0];function Jb(){mq.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}eae(Jb,mq);Jb.prototype._update=function(){for(var t=tae,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,a=this._e|0,d=this._a|0,p=this._b|0,v=this._c|0,w=this._d|0,x=this._e|0,E=0;E<80;E+=1){var T,A;E<16?(T=cq(r,i,n,o,a,t[Dy[E]],qy[0],Oy[E]),A=pq(d,p,v,w,x,t[By[E]],Ny[0],Cy[E])):E<32?(T=lq(r,i,n,o,a,t[Dy[E]],qy[1],Oy[E]),A=hq(d,p,v,w,x,t[By[E]],Ny[1],Cy[E])):E<48?(T=dq(r,i,n,o,a,t[Dy[E]],qy[2],Oy[E]),A=dq(d,p,v,w,x,t[By[E]],Ny[2],Cy[E])):E<64?(T=hq(r,i,n,o,a,t[Dy[E]],qy[3],Oy[E]),A=lq(d,p,v,w,x,t[By[E]],Ny[3],Cy[E])):(T=pq(r,i,n,o,a,t[Dy[E]],qy[4],Oy[E]),A=cq(d,p,v,w,x,t[By[E]],Ny[4],Cy[E])),r=a,a=o,o=Zl(n,10),n=i,i=T,d=x,x=w,w=Zl(v,10),v=p,p=A}var k=this._b+n+w|0;this._b=this._c+o+x|0,this._c=this._d+a+d|0,this._d=this._e+r+p|0,this._e=this._a+i+v|0,this._a=k};Jb.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=y8.alloc?y8.alloc(20):new y8(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Zl(t,e){return t<<e|t>>>32-e}function cq(t,e,r,i,n,o,a,d){return Zl(t+(e^r^i)+o+a|0,d)+n|0}function lq(t,e,r,i,n,o,a,d){return Zl(t+(e&r|~e&i)+o+a|0,d)+n|0}function dq(t,e,r,i,n,o,a,d){return Zl(t+((e|~r)^i)+o+a|0,d)+n|0}function hq(t,e,r,i,n,o,a,d){return Zl(t+(e&i|r&~i)+o+a|0,d)+n|0}function pq(t,e,r,i,n,o,a,d){return Zl(t+(e^(r|~i))+o+a|0,d)+n|0}yq.exports=Jb});var Yl=K((sPe,vq)=>{M();var gq=jt().Buffer;function Xb(t,e){this._block=gq.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Xb.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=gq.from(t,e));for(var r=this._block,i=this._blockSize,n=t.length,o=this._len,a=0;a<n;){for(var d=o%i,p=Math.min(n-a,i-d),v=0;v<p;v++)r[d+v]=t[a+v];o+=p,a+=p,o%i===0&&this._update(r)}return this._len+=n,this};Xb.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};Xb.prototype._update=function(){throw new Error("_update must be implemented by subclass")};vq.exports=Xb});var _q=K((fPe,wq)=>{M();var rae=rt(),bq=Yl(),iae=jt().Buffer,nae=[1518500249,1859775393,-1894007588,-899497514],oae=new Array(80);function jy(){this.init(),this._w=oae,bq.call(this,64,56)}rae(jy,bq);jy.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function sae(t){return t<<5|t>>>27}function aae(t){return t<<30|t>>>2}function fae(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}jy.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,a=this._e|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<80;++d)e[d]=e[d-3]^e[d-8]^e[d-14]^e[d-16];for(var p=0;p<80;++p){var v=~~(p/20),w=sae(r)+fae(v,i,n,o)+a+e[p]+nae[v]|0;a=o,o=n,n=aae(i),i=r,r=w}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0};jy.prototype._hash=function(){var t=iae.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};wq.exports=jy});var Eq=K((cPe,Mq)=>{M();var uae=rt(),xq=Yl(),cae=jt().Buffer,lae=[1518500249,1859775393,-1894007588,-899497514],dae=new Array(80);function Ly(){this.init(),this._w=dae,xq.call(this,64,56)}uae(Ly,xq);Ly.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function hae(t){return t<<1|t>>>31}function pae(t){return t<<5|t>>>27}function mae(t){return t<<30|t>>>2}function yae(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}Ly.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,a=this._e|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<80;++d)e[d]=hae(e[d-3]^e[d-8]^e[d-14]^e[d-16]);for(var p=0;p<80;++p){var v=~~(p/20),w=pae(r)+yae(v,i,n,o)+a+e[p]+lae[v]|0;a=o,o=n,n=mae(i),i=r,r=w}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0};Ly.prototype._hash=function(){var t=cae.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Mq.exports=Ly});var g8=K((dPe,Aq)=>{M();var gae=rt(),Sq=Yl(),vae=jt().Buffer,bae=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],wae=new Array(64);function Uy(){this.init(),this._w=wae,Sq.call(this,64,56)}gae(Uy,Sq);Uy.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function _ae(t,e,r){return r^t&(e^r)}function xae(t,e,r){return t&e|r&(t|e)}function Mae(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Eae(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Sae(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Aae(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Uy.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,a=this._e|0,d=this._f|0,p=this._g|0,v=this._h|0,w=0;w<16;++w)e[w]=t.readInt32BE(w*4);for(;w<64;++w)e[w]=Aae(e[w-2])+e[w-7]+Sae(e[w-15])+e[w-16]|0;for(var x=0;x<64;++x){var E=v+Eae(a)+_ae(a,d,p)+bae[x]+e[x]|0,T=Mae(r)+xae(r,i,n)|0;v=p,p=d,d=a,a=o+E|0,o=n,n=i,i=r,r=E+T|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0,this._f=d+this._f|0,this._g=p+this._g|0,this._h=v+this._h|0};Uy.prototype._hash=function(){var t=vae.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};Aq.exports=Uy});var Pq=K((pPe,Tq)=>{M();var Tae=rt(),Pae=g8(),Rae=Yl(),kae=jt().Buffer,Iae=new Array(64);function ew(){this.init(),this._w=Iae,Rae.call(this,64,56)}Tae(ew,Pae);ew.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ew.prototype._hash=function(){var t=kae.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};Tq.exports=ew});var v8=K((yPe,Cq)=>{M();var Dae=rt(),Oq=Yl(),Bae=jt().Buffer,Rq=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Oae=new Array(160);function zy(){this.init(),this._w=Oae,Oq.call(this,128,112)}Dae(zy,Oq);zy.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function kq(t,e,r){return r^t&(e^r)}function Iq(t,e,r){return t&e|r&(t|e)}function Dq(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Bq(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Cae(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function qae(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Nae(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function jae(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function un(t,e){return t>>>0<e>>>0?1:0}zy.prototype._update=function(t){for(var e=this._w,r=this._ah|0,i=this._bh|0,n=this._ch|0,o=this._dh|0,a=this._eh|0,d=this._fh|0,p=this._gh|0,v=this._hh|0,w=this._al|0,x=this._bl|0,E=this._cl|0,T=this._dl|0,A=this._el|0,k=this._fl|0,D=this._gl|0,I=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var q=e[C-30],U=e[C-15*2+1],$=Cae(q,U),W=qae(U,q);q=e[C-2*2],U=e[C-2*2+1];var F=Nae(q,U),L=jae(U,q),H=e[C-7*2],_=e[C-7*2+1],s=e[C-16*2],u=e[C-16*2+1],h=W+_|0,c=$+H+un(h,W)|0;h=h+L|0,c=c+F+un(h,L)|0,h=h+u|0,c=c+s+un(h,u)|0,e[C]=c,e[C+1]=h}for(var l=0;l<160;l+=2){c=e[l],h=e[l+1];var y=Iq(r,i,n),b=Iq(w,x,E),m=Dq(r,w),f=Dq(w,r),g=Bq(a,A),R=Bq(A,a),S=Rq[l],B=Rq[l+1],z=kq(a,d,p),G=kq(A,k,D),V=I+R|0,J=v+g+un(V,I)|0;V=V+G|0,J=J+z+un(V,G)|0,V=V+B|0,J=J+S+un(V,B)|0,V=V+h|0,J=J+c+un(V,h)|0;var Z=f+b|0,Y=m+y+un(Z,f)|0;v=p,I=D,p=d,D=k,d=a,k=A,A=T+V|0,a=o+J+un(A,T)|0,o=n,T=E,n=i,E=x,i=r,x=w,w=V+Z|0,r=J+Y+un(w,V)|0}this._al=this._al+w|0,this._bl=this._bl+x|0,this._cl=this._cl+E|0,this._dl=this._dl+T|0,this._el=this._el+A|0,this._fl=this._fl+k|0,this._gl=this._gl+D|0,this._hl=this._hl+I|0,this._ah=this._ah+r+un(this._al,w)|0,this._bh=this._bh+i+un(this._bl,x)|0,this._ch=this._ch+n+un(this._cl,E)|0,this._dh=this._dh+o+un(this._dl,T)|0,this._eh=this._eh+a+un(this._el,A)|0,this._fh=this._fh+d+un(this._fl,k)|0,this._gh=this._gh+p+un(this._gl,D)|0,this._hh=this._hh+v+un(this._hl,I)|0};zy.prototype._hash=function(){var t=Bae.allocUnsafe(64);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Cq.exports=zy});var Nq=K((vPe,qq)=>{M();var Lae=rt(),Uae=v8(),zae=Yl(),Fae=jt().Buffer,$ae=new Array(160);function tw(){this.init(),this._w=$ae,zae.call(this,128,112)}Lae(tw,Uae);tw.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};tw.prototype._hash=function(){var t=Fae.allocUnsafe(48);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};qq.exports=tw});var rw=K((Kf,jq)=>{M();var Kf=jq.exports=function(e){e=e.toLowerCase();var r=Kf[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Kf.sha=_q();Kf.sha1=Eq();Kf.sha224=Pq();Kf.sha256=g8();Kf.sha384=Nq();Kf.sha512=v8()});var b8=K((_Pe,Lq)=>{M();Lq.exports=rs().EventEmitter});var Gq=K((MPe,Wq)=>{"use strict";M();function Uq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function zq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uq(Object(r),!0).forEach(function(i){Wae(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Wae(t,e,r){return e=$q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fq(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,$q(i.key),i)}}function Vae(t,e,r){return e&&Fq(t.prototype,e),r&&Fq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $q(t){var e=Kae(t,"string");return typeof e=="symbol"?e:String(e)}function Kae(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hae=Ut(),iw=Hae.Buffer,Zae=Fl(),w8=Zae.inspect,Yae=w8&&w8.custom||"inspect";function Jae(t,e,r){iw.prototype.copy.call(t,e,r)}Wq.exports=function(){function t(){Gae(this,t),this.head=null,this.tail=null,this.length=0}return Vae(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return iw.alloc(0);for(var i=iw.allocUnsafe(r>>>0),n=this.head,o=0;n;)Jae(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var a=i.data,d=r>a.length?a.length:r;if(d===a.length?o+=a:o+=a.slice(0,r),r-=d,r===0){d===a.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(d));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=iw.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var a=n.data,d=r>a.length?a.length:r;if(a.copy(i,i.length-r,0,d),r-=d,r===0){d===a.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(d));break}++o}return this.length-=o,i}},{key:Yae,value:function(r,i){return w8(this,zq(zq({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var x8=K((SPe,Kq)=>{"use strict";M();function Qae(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,O.default.nextTick(_8,this,t)):O.default.nextTick(_8,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?O.default.nextTick(nw,r):(r._writableState.errorEmitted=!0,O.default.nextTick(Vq,r,o)):O.default.nextTick(Vq,r,o):e?(O.default.nextTick(nw,r),e(o)):O.default.nextTick(nw,r)}),this)}function Vq(t,e){_8(t,e),nw(t)}function nw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Xae(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _8(t,e){t.emit("error",e)}function efe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}Kq.exports={destroy:Qae,undestroy:Xae,errorOrDestroy:efe}});var Jl=K((TPe,Yq)=>{"use strict";M();function tfe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Zq={};function ss(t,e,r){r||(r=Error);function i(o,a,d){return typeof e=="string"?e:e(o,a,d)}var n=function(o){tfe(a,o);function a(d,p,v){return o.call(this,i(d,p,v))||this}return a}(r);n.prototype.name=r.name,n.prototype.code=t,Zq[t]=n}function Hq(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function rfe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function ife(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function nfe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ss("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ss("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&rfe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(ife(t," argument"))n="The ".concat(t," ").concat(i," ").concat(Hq(e,"type"));else{var o=nfe(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(Hq(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);ss("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ss("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ss("ERR_STREAM_PREMATURE_CLOSE","Premature close");ss("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ss("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ss("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ss("ERR_STREAM_WRITE_AFTER_END","write after end");ss("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ss("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ss("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Yq.exports.codes=Zq});var M8=K((RPe,Jq)=>{"use strict";M();var ofe=Jl().codes.ERR_INVALID_OPT_VALUE;function sfe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function afe(t,e,r,i){var n=sfe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new ofe(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}Jq.exports={getHighWaterMark:afe}});var A8=K((IPe,iN)=>{"use strict";M();iN.exports=ri;function Xq(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Ofe(e,t)}}var R0;ri.WritableState=$y;var ffe={deprecate:Bb()},eN=b8(),sw=Ut().Buffer,ufe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function cfe(t){return sw.from(t)}function lfe(t){return sw.isBuffer(t)||t instanceof ufe}var S8=x8(),dfe=M8(),hfe=dfe.getHighWaterMark,ec=Jl().codes,pfe=ec.ERR_INVALID_ARG_TYPE,mfe=ec.ERR_METHOD_NOT_IMPLEMENTED,yfe=ec.ERR_MULTIPLE_CALLBACK,gfe=ec.ERR_STREAM_CANNOT_PIPE,vfe=ec.ERR_STREAM_DESTROYED,bfe=ec.ERR_STREAM_NULL_VALUES,wfe=ec.ERR_STREAM_WRITE_AFTER_END,_fe=ec.ERR_UNKNOWN_ENCODING,k0=S8.errorOrDestroy;rt()(ri,eN);function xfe(){}function $y(t,e,r){R0=R0||Ql(),t=t||{},typeof r!="boolean"&&(r=e instanceof R0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=hfe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Rfe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Xq(this)}$y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty($y.prototype,"buffer",{get:ffe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ow;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ow=Function.prototype[Symbol.hasInstance],Object.defineProperty(ri,Symbol.hasInstance,{value:function(e){return ow.call(this,e)?!0:this!==ri?!1:e&&e._writableState instanceof $y}})):ow=function(e){return e instanceof this};function ri(t){R0=R0||Ql();var e=this instanceof R0;if(!e&&!ow.call(ri,this))return new ri(t);this._writableState=new $y(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),eN.call(this)}ri.prototype.pipe=function(){k0(this,new gfe)};function Mfe(t,e){var r=new wfe;k0(t,r),O.default.nextTick(e,r)}function Efe(t,e,r,i){var n;return r===null?n=new bfe:typeof r!="string"&&!e.objectMode&&(n=new pfe("chunk",["string","Buffer"],r)),n?(k0(t,n),O.default.nextTick(i,n),!1):!0}ri.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&lfe(t);return o&&!sw.isBuffer(t)&&(t=cfe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=xfe),i.ending?Mfe(this,r):(o||Efe(this,i,t,r))&&(i.pendingcb++,n=Afe(this,i,o,t,e,r)),n};ri.prototype.cork=function(){this._writableState.corked++};ri.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&tN(this,t))};ri.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _fe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ri.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Sfe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=sw.from(e,r)),e}Object.defineProperty(ri.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Afe(t,e,r,i,n,o){if(!r){var a=Sfe(e,i,n);i!==a&&(r=!0,n="buffer",i=a)}var d=e.objectMode?1:i.length;e.length+=d;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var v=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},v?v.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else E8(t,e,!1,d,i,n,o);return p}function E8(t,e,r,i,n,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new vfe("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function Tfe(t,e,r,i,n){--e.pendingcb,r?(O.default.nextTick(n,i),O.default.nextTick(Fy,t,e),t._writableState.errorEmitted=!0,k0(t,i)):(n(i),t._writableState.errorEmitted=!0,k0(t,i),Fy(t,e))}function Pfe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Rfe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new yfe;if(Pfe(r),e)Tfe(t,r,i,e,n);else{var o=rN(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&tN(t,r),i?O.default.nextTick(Qq,t,r,o,n):Qq(t,r,o,n)}}function Qq(t,e,r,i){r||kfe(t,e),e.pendingcb--,i(),Fy(t,e)}function kfe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function tN(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,d=!0;r;)n[a]=r,r.isBuf||(d=!1),r=r.next,a+=1;n.allBuffers=d,E8(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Xq(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,v=r.encoding,w=r.callback,x=e.objectMode?1:p.length;if(E8(t,e,!1,x,p,v,w),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ri.prototype._write=function(t,e,r){r(new mfe("_write()"))};ri.prototype._writev=null;ri.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Bfe(this,i,r),this};Object.defineProperty(ri.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rN(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Ife(t,e){t._final(function(r){e.pendingcb--,r&&k0(t,r),e.prefinished=!0,t.emit("prefinish"),Fy(t,e)})}function Dfe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,O.default.nextTick(Ife,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Fy(t,e){var r=rN(e);if(r&&(Dfe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Bfe(t,e,r){e.ending=!0,Fy(t,e),r&&(e.finished?O.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Ofe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(ri.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ri.prototype.destroy=S8.destroy;ri.prototype._undestroy=S8.undestroy;ri.prototype._destroy=function(t,e){e(t)}});var Ql=K((BPe,oN)=>{"use strict";M();var Cfe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};oN.exports=Ga;var nN=R8(),P8=A8();rt()(Ga,nN);for(T8=Cfe(P8.prototype),aw=0;aw<T8.length;aw++)fw=T8[aw],Ga.prototype[fw]||(Ga.prototype[fw]=P8.prototype[fw]);var T8,fw,aw;function Ga(t){if(!(this instanceof Ga))return new Ga(t);nN.call(this,t),P8.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",qfe)))}Object.defineProperty(Ga.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ga.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ga.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function qfe(){this._writableState.ended||O.default.nextTick(Nfe,this)}function Nfe(t){t.end()}Object.defineProperty(Ga.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var uw=K((CPe,fN)=>{"use strict";M();var sN=Jl().codes.ERR_STREAM_PREMATURE_CLOSE;function jfe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Lfe(){}function Ufe(t){return t.setHeader&&typeof t.abort=="function"}function aN(t,e,r){if(typeof e=="function")return aN(t,null,e);e||(e={}),r=jfe(r||Lfe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||d()},a=t._writableState&&t._writableState.finished,d=function(){n=!1,a=!0,i||r.call(t)},p=t._readableState&&t._readableState.endEmitted,v=function(){i=!1,p=!0,n||r.call(t)},w=function(A){r.call(t,A)},x=function(){var A;if(i&&!p)return(!t._readableState||!t._readableState.ended)&&(A=new sN),r.call(t,A);if(n&&!a)return(!t._writableState||!t._writableState.ended)&&(A=new sN),r.call(t,A)},E=function(){t.req.on("finish",d)};return Ufe(t)?(t.on("complete",d),t.on("abort",x),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",v),t.on("finish",d),e.error!==!1&&t.on("error",w),t.on("close",x),function(){t.removeListener("complete",d),t.removeListener("abort",x),t.removeListener("request",E),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",v),t.removeListener("error",w),t.removeListener("close",x)}}fN.exports=aN});var cN=K((NPe,uN)=>{"use strict";M();var cw;function tc(t,e,r){return e=zfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zfe(t){var e=Ffe(t,"string");return typeof e=="symbol"?e:String(e)}function Ffe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $fe=uw(),rc=Symbol("lastResolve"),Xl=Symbol("lastReject"),Wy=Symbol("error"),lw=Symbol("ended"),ed=Symbol("lastPromise"),k8=Symbol("handlePromise"),td=Symbol("stream");function ic(t,e){return{value:t,done:e}}function Wfe(t){var e=t[rc];if(e!==null){var r=t[td].read();r!==null&&(t[ed]=null,t[rc]=null,t[Xl]=null,e(ic(r,!1)))}}function Gfe(t){O.default.nextTick(Wfe,t)}function Vfe(t,e){return function(r,i){t.then(function(){if(e[lw]){r(ic(void 0,!0));return}e[k8](r,i)},i)}}var Kfe=Object.getPrototypeOf(function(){}),Hfe=Object.setPrototypeOf((cw={get stream(){return this[td]},next:function(){var e=this,r=this[Wy];if(r!==null)return Promise.reject(r);if(this[lw])return Promise.resolve(ic(void 0,!0));if(this[td].destroyed)return new Promise(function(a,d){O.default.nextTick(function(){e[Wy]?d(e[Wy]):a(ic(void 0,!0))})});var i=this[ed],n;if(i)n=new Promise(Vfe(i,this));else{var o=this[td].read();if(o!==null)return Promise.resolve(ic(o,!1));n=new Promise(this[k8])}return this[ed]=n,n}},tc(cw,Symbol.asyncIterator,function(){return this}),tc(cw,"return",function(){var e=this;return new Promise(function(r,i){e[td].destroy(null,function(n){if(n){i(n);return}r(ic(void 0,!0))})})}),cw),Kfe),Zfe=function(e){var r,i=Object.create(Hfe,(r={},tc(r,td,{value:e,writable:!0}),tc(r,rc,{value:null,writable:!0}),tc(r,Xl,{value:null,writable:!0}),tc(r,Wy,{value:null,writable:!0}),tc(r,lw,{value:e._readableState.endEmitted,writable:!0}),tc(r,k8,{value:function(o,a){var d=i[td].read();d?(i[ed]=null,i[rc]=null,i[Xl]=null,o(ic(d,!1))):(i[rc]=o,i[Xl]=a)},writable:!0}),r));return i[ed]=null,$fe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Xl];o!==null&&(i[ed]=null,i[rc]=null,i[Xl]=null,o(n)),i[Wy]=n;return}var a=i[rc];a!==null&&(i[ed]=null,i[rc]=null,i[Xl]=null,a(ic(void 0,!0))),i[lw]=!0}),e.on("readable",Gfe.bind(null,i)),i};uN.exports=Zfe});var dN=K((LPe,lN)=>{M();lN.exports=function(){throw new Error("Readable.from is not available in the browser")}});var R8=K((FPe,xN)=>{"use strict";M();xN.exports=Gt;var I0;Gt.ReadableState=yN;var zPe=rs().EventEmitter,mN=function(e,r){return e.listeners(r).length},Vy=b8(),dw=Ut().Buffer,Yfe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Jfe(t){return dw.from(t)}function Qfe(t){return dw.isBuffer(t)||t instanceof Yfe}var I8=Fl(),Tt;I8&&I8.debuglog?Tt=I8.debuglog("stream"):Tt=function(){};var Xfe=Gq(),j8=x8(),eue=M8(),tue=eue.getHighWaterMark,hw=Jl().codes,rue=hw.ERR_INVALID_ARG_TYPE,iue=hw.ERR_STREAM_PUSH_AFTER_EOF,nue=hw.ERR_METHOD_NOT_IMPLEMENTED,oue=hw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D0,D8,B8;rt()(Gt,Vy);var Gy=j8.errorOrDestroy,O8=["error","close","destroy","pause","resume"];function sue(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function yN(t,e,r){I0=I0||Ql(),t=t||{},typeof r!="boolean"&&(r=e instanceof I0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=tue(this,t,"readableHighWaterMark",r),this.buffer=new Xfe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(D0||(D0=Gf().StringDecoder),this.decoder=new D0(t.encoding),this.encoding=t.encoding)}function Gt(t){if(I0=I0||Ql(),!(this instanceof Gt))return new Gt(t);var e=this instanceof I0;this._readableState=new yN(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Vy.call(this)}Object.defineProperty(Gt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Gt.prototype.destroy=j8.destroy;Gt.prototype._undestroy=j8.undestroy;Gt.prototype._destroy=function(t,e){e(t)};Gt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=dw.from(t,e),e=""),i=!0),gN(this,t,e,!1,i)};Gt.prototype.unshift=function(t){return gN(this,t,null,!0,!1)};function gN(t,e,r,i,n){Tt("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,uue(t,o);else{var a;if(n||(a=aue(o,e)),a)Gy(t,a);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==dw.prototype&&(e=Jfe(e)),i)o.endEmitted?Gy(t,new oue):C8(t,o,e,!0);else if(o.ended)Gy(t,new iue);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?C8(t,o,e,!1):N8(t,o)):C8(t,o,e,!1)}else i||(o.reading=!1,N8(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function C8(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&pw(t)),N8(t,e)}function aue(t,e){var r;return!Qfe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new rue("chunk",["string","Buffer","Uint8Array"],e)),r}Gt.prototype.isPaused=function(){return this._readableState.flowing===!1};Gt.prototype.setEncoding=function(t){D0||(D0=Gf().StringDecoder);var e=new D0(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var hN=1073741824;function fue(t){return t>=hN?t=hN:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function pN(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=fue(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Gt.prototype.read=function(t){Tt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Tt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?q8(this):pw(this),null;if(t=pN(t,e),t===0&&e.ended)return e.length===0&&q8(this),null;var i=e.needReadable;Tt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Tt("length less than watermark",i)),e.ended||e.reading?(i=!1,Tt("reading or ended",i)):i&&(Tt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=pN(r,e)));var n;return t>0?n=wN(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&q8(this)),n!==null&&this.emit("data",n),n};function uue(t,e){if(Tt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?pw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,vN(t)))}}function pw(t){var e=t._readableState;Tt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Tt("emitReadable",e.flowing),e.emittedReadable=!0,O.default.nextTick(vN,t))}function vN(t){var e=t._readableState;Tt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L8(t)}function N8(t,e){e.readingMore||(e.readingMore=!0,O.default.nextTick(cue,t,e))}function cue(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Tt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Gt.prototype._read=function(t){Gy(this,new nue("_read()"))};Gt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Tt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==O.default.stdout&&t!==O.default.stderr,o=n?d:k;i.endEmitted?O.default.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(D,I){Tt("onunpipe"),D===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,w())}function d(){Tt("onend"),t.end()}var p=lue(r);t.on("drain",p);var v=!1;function w(){Tt("cleanup"),t.removeListener("close",T),t.removeListener("finish",A),t.removeListener("drain",p),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",d),r.removeListener("end",k),r.removeListener("data",x),v=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on("data",x);function x(D){Tt("ondata");var I=t.write(D);Tt("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&_N(i.pipes,t)!==-1)&&!v&&(Tt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(D){Tt("onerror",D),k(),t.removeListener("error",E),mN(t,"error")===0&&Gy(t,D)}sue(t,"error",E);function T(){t.removeListener("finish",A),k()}t.once("close",T);function A(){Tt("onfinish"),t.removeListener("close",T),k()}t.once("finish",A);function k(){Tt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Tt("pipe resume"),r.resume()),t};function lue(t){return function(){var r=t._readableState;Tt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&mN(t,"data")&&(r.flowing=!0,L8(t))}}Gt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=_N(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Gt.prototype.on=function(t,e){var r=Vy.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Tt("on readable",i.length,i.reading),i.length?pw(this):i.reading||O.default.nextTick(due,this)),r};Gt.prototype.addListener=Gt.prototype.on;Gt.prototype.removeListener=function(t,e){var r=Vy.prototype.removeListener.call(this,t,e);return t==="readable"&&O.default.nextTick(bN,this),r};Gt.prototype.removeAllListeners=function(t){var e=Vy.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&O.default.nextTick(bN,this),e};function bN(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function due(t){Tt("readable nexttick read 0"),t.read(0)}Gt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Tt("resume"),t.flowing=!t.readableListening,hue(this,t)),t.paused=!1,this};function hue(t,e){e.resumeScheduled||(e.resumeScheduled=!0,O.default.nextTick(pue,t,e))}function pue(t,e){Tt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L8(t),e.flowing&&!e.reading&&t.read(0)}Gt.prototype.pause=function(){return Tt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Tt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function L8(t){var e=t._readableState;for(Tt("flow",e.flowing);e.flowing&&t.read()!==null;);}Gt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Tt("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Tt("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var d=e.push(a);d||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(d){return function(){return t[d].apply(t,arguments)}}(n));for(var o=0;o<O8.length;o++)t.on(O8[o],this.emit.bind(this,O8[o]));return this._read=function(a){Tt("wrapped _read",a),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Gt.prototype[Symbol.asyncIterator]=function(){return D8===void 0&&(D8=cN()),D8(this)});Object.defineProperty(Gt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Gt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Gt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Gt._fromList=wN;Object.defineProperty(Gt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function wN(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function q8(t){var e=t._readableState;Tt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,O.default.nextTick(mue,e,t))}function mue(t,e){if(Tt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Gt.from=function(t,e){return B8===void 0&&(B8=dN()),B8(Gt,t,e)});function _N(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var U8=K((WPe,EN)=>{"use strict";M();EN.exports=Hf;var mw=Jl().codes,yue=mw.ERR_METHOD_NOT_IMPLEMENTED,gue=mw.ERR_MULTIPLE_CALLBACK,vue=mw.ERR_TRANSFORM_ALREADY_TRANSFORMING,bue=mw.ERR_TRANSFORM_WITH_LENGTH_0,yw=Ql();rt()(Hf,yw);function wue(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new gue);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Hf(t){if(!(this instanceof Hf))return new Hf(t);yw.call(this,t),this._transformState={afterTransform:wue.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",_ue)}function _ue(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){MN(t,e,r)}):MN(this,null,null)}Hf.prototype.push=function(t,e){return this._transformState.needTransform=!1,yw.prototype.push.call(this,t,e)};Hf.prototype._transform=function(t,e,r){r(new yue("_transform()"))};Hf.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Hf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Hf.prototype._destroy=function(t,e){yw.prototype._destroy.call(this,t,function(r){e(r)})};function MN(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new bue;if(t._transformState.transforming)throw new vue;return t.push(null)}});var TN=K((VPe,AN)=>{"use strict";M();AN.exports=Ky;var SN=U8();rt()(Ky,SN);function Ky(t){if(!(this instanceof Ky))return new Ky(t);SN.call(this,t)}Ky.prototype._transform=function(t,e,r){r(null,t)}});var DN=K((HPe,IN)=>{"use strict";M();var z8;function xue(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var kN=Jl().codes,Mue=kN.ERR_MISSING_ARGS,Eue=kN.ERR_STREAM_DESTROYED;function PN(t){if(t)throw t}function Sue(t){return t.setHeader&&typeof t.abort=="function"}function Aue(t,e,r,i){i=xue(i);var n=!1;t.on("close",function(){n=!0}),z8===void 0&&(z8=uw()),z8(t,{readable:e,writable:r},function(a){if(a)return i(a);n=!0,i()});var o=!1;return function(a){if(!n&&!o){if(o=!0,Sue(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(a||new Eue("pipe"))}}}function RN(t){t()}function Tue(t,e){return t.pipe(e)}function Pue(t){return!t.length||typeof t[t.length-1]!="function"?PN:t.pop()}function Rue(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Pue(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Mue("streams");var n,o=e.map(function(a,d){var p=d<e.length-1,v=d>0;return Aue(a,p,v,function(w){n||(n=w),w&&o.forEach(RN),!p&&(o.forEach(RN),i(n))})});return e.reduce(Tue)}IN.exports=Rue});var $8=K((YPe,BN)=>{M();BN.exports=as;var F8=rs().EventEmitter,kue=rt();kue(as,F8);as.Readable=R8();as.Writable=A8();as.Duplex=Ql();as.Transform=U8();as.PassThrough=TN();as.finished=uw();as.pipeline=DN();as.Stream=as;function as(){F8.call(this)}as.prototype.pipe=function(t,e){var r=this;function i(w){t.writable&&t.write(w)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",d));var o=!1;function a(){o||(o=!0,t.end())}function d(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function p(w){if(v(),F8.listenerCount(this,"error")===0)throw w}r.on("error",p),t.on("error",p);function v(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",a),r.removeListener("close",d),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",v),r.removeListener("close",v),t.removeListener("close",v)}return r.on("end",v),r.on("close",v),t.on("close",v),t.emit("pipe",r),t}});var Zf=K((QPe,qN)=>{M();var ON=jt().Buffer,CN=$8().Transform,Iue=Gf().StringDecoder,Due=rt();function Gs(t){CN.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Due(Gs,CN);Gs.prototype.update=function(t,e,r){typeof t=="string"&&(t=ON.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Gs.prototype.setAutoPadding=function(){};Gs.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Gs.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Gs.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Gs.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}};Gs.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Gs.prototype._finalOrDigest=function(t){var e=this.__final()||ON.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Gs.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new Iue(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};qN.exports=Gs});var B0=K((eRe,jN)=>{"use strict";M();var Bue=rt(),Oue=Yb(),Cue=Qb(),que=rw(),NN=Zf();function gw(t){NN.call(this,"digest"),this._hash=t}Bue(gw,NN);gw.prototype._update=function(t){this._hash.update(t)};gw.prototype._final=function(){return this._hash.digest()};jN.exports=function(e){return e=e.toLowerCase(),e==="md5"?new Oue:e==="rmd160"||e==="ripemd160"?new Cue:new gw(que(e))}});var zN=K((rRe,UN)=>{"use strict";M();var Nue=rt(),rd=jt().Buffer,LN=Zf(),jue=rd.alloc(128),O0=64;function vw(t,e){LN.call(this,"digest"),typeof e=="string"&&(e=rd.from(e)),this._alg=t,this._key=e,e.length>O0?e=t(e):e.length<O0&&(e=rd.concat([e,jue],O0));for(var r=this._ipad=rd.allocUnsafe(O0),i=this._opad=rd.allocUnsafe(O0),n=0;n<O0;n++)r[n]=e[n]^54,i[n]=e[n]^92;this._hash=[r]}Nue(vw,LN);vw.prototype._update=function(t){this._hash.push(t)};vw.prototype._final=function(){var t=this._alg(rd.concat(this._hash));return this._alg(rd.concat([this._opad,t]))};UN.exports=vw});var W8=K((nRe,FN)=>{M();var Lue=Yb();FN.exports=function(t){return new Lue().update(t).digest()}});var K8=K((sRe,WN)=>{"use strict";M();var Uue=rt(),zue=zN(),$N=Zf(),Hy=jt().Buffer,Fue=W8(),G8=Qb(),V8=rw(),$ue=Hy.alloc(128);function Zy(t,e){$N.call(this,"digest"),typeof e=="string"&&(e=Hy.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var i=t==="rmd160"?new G8:V8(t);e=i.update(e).digest()}else e.length<r&&(e=Hy.concat([e,$ue],r));for(var n=this._ipad=Hy.allocUnsafe(r),o=this._opad=Hy.allocUnsafe(r),a=0;a<r;a++)n[a]=e[a]^54,o[a]=e[a]^92;this._hash=t==="rmd160"?new G8:V8(t),this._hash.update(n)}Uue(Zy,$N);Zy.prototype._update=function(t){this._hash.update(t)};Zy.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new G8:V8(this._alg);return e.update(this._opad).update(t).digest()};WN.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Zy("rmd160",r):e==="md5"?new zue(Fue,r):new Zy(e,r)}});var H8=K((fRe,Wue)=>{Wue.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var VN=K((uRe,GN)=>{M();GN.exports=H8()});var Z8=K((lRe,KN)=>{M();var Gue=Math.pow(2,30)-1;KN.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Gue||e!==e)throw new TypeError("Bad key length")}});var Y8=K((hRe,ZN)=>{M();var bw;globalThis.process&&globalThis.process.browser?bw="utf-8":globalThis.process&&globalThis.process.version?(HN=parseInt(O.default.version.split(".")[0].slice(1),10),bw=HN>=6?"utf-8":"binary"):bw="utf-8";var HN;ZN.exports=bw});var Q8=K((mRe,YN)=>{M();var J8=jt().Buffer;YN.exports=function(t,e,r){if(J8.isBuffer(t))return t;if(typeof t=="string")return J8.from(t,e);if(ArrayBuffer.isView(t))return J8.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var X8=K((gRe,ej)=>{M();var Vue=W8(),Kue=Qb(),Hue=rw(),id=jt().Buffer,Zue=Z8(),JN=Y8(),QN=Q8(),Yue=id.alloc(128),ww={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function XN(t,e,r){var i=Jue(t),n=t==="sha512"||t==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=id.concat([e,Yue],n));for(var o=id.allocUnsafe(n+ww[t]),a=id.allocUnsafe(n+ww[t]),d=0;d<n;d++)o[d]=e[d]^54,a[d]=e[d]^92;var p=id.allocUnsafe(n+r+4);o.copy(p,0,0,n),this.ipad1=p,this.ipad2=o,this.opad=a,this.alg=t,this.blocksize=n,this.hash=i,this.size=ww[t]}XN.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Jue(t){function e(i){return Hue(t).update(i).digest()}function r(i){return new Kue().update(i).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?Vue:e}function Que(t,e,r,i,n){Zue(r,i),t=QN(t,JN,"Password"),e=QN(e,JN,"Salt"),n=n||"sha1";var o=new XN(n,t,e.length),a=id.allocUnsafe(i),d=id.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,v=ww[n],w=Math.ceil(i/v),x=1;x<=w;x++){d.writeUInt32BE(x,e.length);for(var E=o.run(d,o.ipad1),T=E,A=1;A<r;A++){T=o.run(T,o.ipad2);for(var k=0;k<v;k++)E[k]^=T[k]}E.copy(a,p),p+=v}return a}ej.exports=Que});var aj=K((bRe,sj)=>{M();var nj=jt().Buffer,Xue=Z8(),tj=Y8(),rj=X8(),ij=Q8(),_w,Yy=globalThis.crypto&&globalThis.crypto.subtle,ece={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},eE=[];function tce(t){if(globalThis.process&&!globalThis.process.browser||!Yy||!Yy.importKey||!Yy.deriveBits)return Promise.resolve(!1);if(eE[t]!==void 0)return eE[t];_w=_w||nj.alloc(8);var e=oj(_w,_w,10,128,t).then(function(){return!0}).catch(function(){return!1});return eE[t]=e,e}var nd;function tE(){return nd||(globalThis.process&&globalThis.process.nextTick?nd=globalThis.process.nextTick:globalThis.queueMicrotask?nd=globalThis.queueMicrotask:globalThis.setImmediate?nd=globalThis.setImmediate:nd=globalThis.setTimeout,nd)}function oj(t,e,r,i,n){return Yy.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return Yy.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},o,i<<3)}).then(function(o){return nj.from(o)})}function rce(t,e){t.then(function(r){tE()(function(){e(null,r)})},function(r){tE()(function(){e(r)})})}sj.exports=function(t,e,r,i,n,o){typeof n=="function"&&(o=n,n=void 0),n=n||"sha1";var a=ece[n.toLowerCase()];if(!a||typeof globalThis.Promise!="function"){tE()(function(){var d;try{d=rj(t,e,r,i,n)}catch(p){return o(p)}o(null,d)});return}if(Xue(r,i),t=ij(t,tj,"Password"),e=ij(e,tj,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");rce(tce(a).then(function(d){return d?oj(t,e,r,i,a):rj(t,e,r,i,n)}),o)}});var iE=K(rE=>{M();rE.pbkdf2=aj();rE.pbkdf2Sync=X8()});var nE=K(fs=>{"use strict";M();fs.readUInt32BE=function(e,r){var i=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return i>>>0};fs.writeUInt32BE=function(e,r,i){e[0+i]=r>>>24,e[1+i]=r>>>16&255,e[2+i]=r>>>8&255,e[3+i]=r&255};fs.ip=function(e,r,i,n){for(var o=0,a=0,d=6;d>=0;d-=2){for(var p=0;p<=24;p+=8)o<<=1,o|=r>>>p+d&1;for(var p=0;p<=24;p+=8)o<<=1,o|=e>>>p+d&1}for(var d=6;d>=0;d-=2){for(var p=1;p<=25;p+=8)a<<=1,a|=r>>>p+d&1;for(var p=1;p<=25;p+=8)a<<=1,a|=e>>>p+d&1}i[n+0]=o>>>0,i[n+1]=a>>>0};fs.rip=function(e,r,i,n){for(var o=0,a=0,d=0;d<4;d++)for(var p=24;p>=0;p-=8)o<<=1,o|=r>>>p+d&1,o<<=1,o|=e>>>p+d&1;for(var d=4;d<8;d++)for(var p=24;p>=0;p-=8)a<<=1,a|=r>>>p+d&1,a<<=1,a|=e>>>p+d&1;i[n+0]=o>>>0,i[n+1]=a>>>0};fs.pc1=function(e,r,i,n){for(var o=0,a=0,d=7;d>=5;d--){for(var p=0;p<=24;p+=8)o<<=1,o|=r>>p+d&1;for(var p=0;p<=24;p+=8)o<<=1,o|=e>>p+d&1}for(var p=0;p<=24;p+=8)o<<=1,o|=r>>p+d&1;for(var d=1;d<=3;d++){for(var p=0;p<=24;p+=8)a<<=1,a|=r>>p+d&1;for(var p=0;p<=24;p+=8)a<<=1,a|=e>>p+d&1}for(var p=0;p<=24;p+=8)a<<=1,a|=e>>p+d&1;i[n+0]=o>>>0,i[n+1]=a>>>0};fs.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var xw=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];fs.pc2=function(e,r,i,n){for(var o=0,a=0,d=xw.length>>>1,p=0;p<d;p++)o<<=1,o|=e>>>xw[p]&1;for(var p=d;p<xw.length;p++)a<<=1,a|=r>>>xw[p]&1;i[n+0]=o>>>0,i[n+1]=a>>>0};fs.expand=function(e,r,i){var n=0,o=0;n=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)n<<=6,n|=e>>>a&63;for(var a=11;a>=3;a-=4)o|=e>>>a&63,o<<=6;o|=(e&31)<<1|e>>>31,r[i+0]=n>>>0,r[i+1]=o>>>0};var fj=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];fs.substitute=function(e,r){for(var i=0,n=0;n<4;n++){var o=e>>>18-n*6&63,a=fj[n*64+o];i<<=4,i|=a}for(var n=0;n<4;n++){var o=r>>>18-n*6&63,a=fj[4*64+n*64+o];i<<=4,i|=a}return i>>>0};var uj=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];fs.permute=function(e){for(var r=0,i=0;i<uj.length;i++)r<<=1,r|=e>>>uj[i]&1;return r>>>0};fs.padSplit=function(e,r,i){for(var n=e.toString(2);n.length<r;)n="0"+n;for(var o=[],a=0;a<r;a+=i)o.push(n.slice(a,a+i));return o.join(" ")}});var Lo=K((SRe,lj)=>{M();lj.exports=cj;function cj(t,e){if(!t)throw new Error(e||"Assertion failed")}cj.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var Mw=K((TRe,dj)=>{"use strict";M();var ice=Lo();function us(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}dj.exports=us;us.prototype._init=function(){};us.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};us.prototype._buffer=function(e,r){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-r),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[r+n];return this.bufferOff+=i,i};us.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};us.prototype._updateEncrypt=function(e){var r=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(o,i)));for(var a=e.length-(e.length-r)%this.blockSize;r<a;r+=this.blockSize)this._update(e,r,o,i),i+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};us.prototype._updateDecrypt=function(e){for(var r=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(e,r),i+=this._flushBuffer(o,i);return r+=this._buffer(e,r),o};us.prototype.final=function(e){var r;e&&(r=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),r?r.concat(i):i};us.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};us.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};us.prototype._unpad=function(e){return e};us.prototype._finalDecrypt=function(){ice.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var oE=K((RRe,mj)=>{"use strict";M();var hj=Lo(),nce=rt(),Wi=nE(),pj=Mw();function oce(){this.tmp=new Array(2),this.keys=null}function Va(t){pj.call(this,t);var e=new oce;this._desState=e,this.deriveKeys(e,t.key)}nce(Va,pj);mj.exports=Va;Va.create=function(e){return new Va(e)};var sce=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Va.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),hj.equal(r.length,this.blockSize,"Invalid key length");var i=Wi.readUInt32BE(r,0),n=Wi.readUInt32BE(r,4);Wi.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var a=sce[o>>>1];i=Wi.r28shl(i,a),n=Wi.r28shl(n,a),Wi.pc2(i,n,e.keys,o)}};Va.prototype._update=function(e,r,i,n){var o=this._desState,a=Wi.readUInt32BE(e,r),d=Wi.readUInt32BE(e,r+4);Wi.ip(a,d,o.tmp,0),a=o.tmp[0],d=o.tmp[1],this.type==="encrypt"?this._encrypt(o,a,d,o.tmp,0):this._decrypt(o,a,d,o.tmp,0),a=o.tmp[0],d=o.tmp[1],Wi.writeUInt32BE(i,a,n),Wi.writeUInt32BE(i,d,n+4)};Va.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var i=e.length-r,n=r;n<e.length;n++)e[n]=i;return!0};Va.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],i=e.length-r;i<e.length;i++)hj.equal(e[i],r);return e.slice(0,e.length-r)};Va.prototype._encrypt=function(e,r,i,n,o){for(var a=r,d=i,p=0;p<e.keys.length;p+=2){var v=e.keys[p],w=e.keys[p+1];Wi.expand(d,e.tmp,0),v^=e.tmp[0],w^=e.tmp[1];var x=Wi.substitute(v,w),E=Wi.permute(x),T=d;d=(a^E)>>>0,a=T}Wi.rip(d,a,n,o)};Va.prototype._decrypt=function(e,r,i,n,o){for(var a=i,d=r,p=e.keys.length-2;p>=0;p-=2){var v=e.keys[p],w=e.keys[p+1];Wi.expand(a,e.tmp,0),v^=e.tmp[0],w^=e.tmp[1];var x=Wi.substitute(v,w),E=Wi.permute(x),T=a;a=(d^E)>>>0,d=T}Wi.rip(a,d,n,o)}});var gj=K(yj=>{"use strict";M();var ace=Lo(),fce=rt(),Ew={};function uce(t){ace.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function cce(t){function e(o){t.call(this,o),this._cbcInit()}fce(e,t);for(var r=Object.keys(Ew),i=0;i<r.length;i++){var n=r[i];e.prototype[n]=Ew[n]}return e.create=function(a){return new e(a)},e}yj.instantiate=cce;Ew._cbcInit=function(){var e=new uce(this.options.iv);this._cbcState=e};Ew._update=function(e,r,i,n){var o=this._cbcState,a=this.constructor.super_.prototype,d=o.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)d[p]^=e[r+p];a._update.call(this,d,0,i,n);for(var p=0;p<this.blockSize;p++)d[p]=i[n+p]}else{a._update.call(this,e,r,i,n);for(var p=0;p<this.blockSize;p++)i[n+p]^=d[p];for(var p=0;p<this.blockSize;p++)d[p]=e[r+p]}}});var wj=K((BRe,bj)=>{"use strict";M();var lce=Lo(),dce=rt(),vj=Mw(),nc=oE();function hce(t,e){lce.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);t==="encrypt"?this.ciphers=[nc.create({type:"encrypt",key:r}),nc.create({type:"decrypt",key:i}),nc.create({type:"encrypt",key:n})]:this.ciphers=[nc.create({type:"decrypt",key:n}),nc.create({type:"encrypt",key:i}),nc.create({type:"decrypt",key:r})]}function od(t){vj.call(this,t);var e=new hce(this.type,this.options.key);this._edeState=e}dce(od,vj);bj.exports=od;od.create=function(e){return new od(e)};od.prototype._update=function(e,r,i,n){var o=this._edeState;o.ciphers[0]._update(e,r,i,n),o.ciphers[1]._update(i,n,i,n),o.ciphers[2]._update(i,n,i,n)};od.prototype._pad=nc.prototype._pad;od.prototype._unpad=nc.prototype._unpad});var _j=K(C0=>{"use strict";M();C0.utils=nE();C0.Cipher=Mw();C0.DES=oE();C0.CBC=gj();C0.EDE=wj()});var Ej=K((NRe,Mj)=>{M();var xj=Zf(),Yf=_j(),pce=rt(),sd=jt().Buffer,Jy={"des-ede3-cbc":Yf.CBC.instantiate(Yf.EDE),"des-ede3":Yf.EDE,"des-ede-cbc":Yf.CBC.instantiate(Yf.EDE),"des-ede":Yf.EDE,"des-cbc":Yf.CBC.instantiate(Yf.DES),"des-ecb":Yf.DES};Jy.des=Jy["des-cbc"];Jy.des3=Jy["des-ede3-cbc"];Mj.exports=Sw;pce(Sw,xj);function Sw(t){xj.call(this);var e=t.mode.toLowerCase(),r=Jy[e],i;t.decrypt?i="decrypt":i="encrypt";var n=t.key;sd.isBuffer(n)||(n=sd.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=sd.concat([n,n.slice(0,8)]));var o=t.iv;sd.isBuffer(o)||(o=sd.from(o)),this._des=r.create({key:n,iv:o,type:i})}Sw.prototype._update=function(t){return sd.from(this._des.update(t))};Sw.prototype._final=function(){return sd.from(this._des.final())}});var Sj=K(sE=>{M();sE.encrypt=function(t,e){return t._cipher.encryptBlock(e)};sE.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var q0=K((zRe,Aj)=>{M();Aj.exports=function(e,r){for(var i=Math.min(e.length,r.length),n=new N.Buffer(i),o=0;o<i;++o)n[o]=e[o]^r[o];return n}});var Pj=K(aE=>{M();var Tj=q0();aE.encrypt=function(t,e){var r=Tj(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};aE.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return Tj(i,r)}});var Ij=K(kj=>{M();var Qy=jt().Buffer,mce=q0();function Rj(t,e,r){var i=e.length,n=mce(e,t._cache);return t._cache=t._cache.slice(i),t._prev=Qy.concat([t._prev,r?e:n]),n}kj.encrypt=function(t,e,r){for(var i=Qy.allocUnsafe(0),n;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=Qy.allocUnsafe(0)),t._cache.length<=e.length)n=t._cache.length,i=Qy.concat([i,Rj(t,e.slice(0,n),r)]),e=e.slice(n);else{i=Qy.concat([i,Rj(t,e,r)]);break}return i}});var Bj=K(Dj=>{M();var fE=jt().Buffer;function yce(t,e,r){var i=t._cipher.encryptBlock(t._prev),n=i[0]^e;return t._prev=fE.concat([t._prev.slice(1),fE.from([r?e:n])]),n}Dj.encrypt=function(t,e,r){for(var i=e.length,n=fE.allocUnsafe(i),o=-1;++o<i;)n[o]=yce(t,e[o],r);return n}});var Cj=K(Oj=>{M();var Aw=jt().Buffer;function gce(t,e,r){for(var i,n=-1,o=8,a=0,d,p;++n<o;)i=t._cipher.encryptBlock(t._prev),d=e&1<<7-n?128:0,p=i[0]^d,a+=(p&128)>>n%8,t._prev=vce(t._prev,r?d:p);return a}function vce(t,e){var r=t.length,i=-1,n=Aw.allocUnsafe(t.length);for(t=Aw.concat([t,Aw.from([e])]);++i<r;)n[i]=t[i]<<1|t[i+1]>>7;return n}Oj.encrypt=function(t,e,r){for(var i=e.length,n=Aw.allocUnsafe(i),o=-1;++o<i;)n[o]=gce(t,e[o],r);return n}});var Nj=K(qj=>{M();var bce=q0();function wce(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}qj.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=N.Buffer.concat([t._cache,wce(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),bce(e,r)}});var uE=K((XRe,jj)=>{M();function _ce(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}jj.exports=_ce});var lE=K(Uj=>{M();var xce=q0(),Lj=jt().Buffer,Mce=uE();function Ece(t){var e=t._cipher.encryptBlockRaw(t._prev);return Mce(t._prev),e}var cE=16;Uj.encrypt=function(t,e){var r=Math.ceil(e.length/cE),i=t._cache.length;t._cache=Lj.concat([t._cache,Lj.allocUnsafe(r*cE)]);for(var n=0;n<r;n++){var o=Ece(t),a=i+n*cE;t._cache.writeUInt32BE(o[0],a+0),t._cache.writeUInt32BE(o[1],a+4),t._cache.writeUInt32BE(o[2],a+8),t._cache.writeUInt32BE(o[3],a+12)}var d=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),xce(e,d)}});var dE=K((ike,Sce)=>{Sce.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var Pw=K((nke,zj)=>{M();var Ace={ECB:Sj(),CBC:Pj(),CFB:Ij(),CFB8:Bj(),CFB1:Cj(),OFB:Nj(),CTR:lE(),GCM:lE()},Tw=dE();for(hE in Tw)Tw[hE].module=Ace[Tw[hE].mode];var hE;zj.exports=Tw});var Xy=K((ske,$j)=>{M();var Rw=jt().Buffer;function mE(t){Rw.isBuffer(t)||(t=Rw.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(i*4);return r}function pE(t){for(var e=0;e<t.length;t++)t[e]=0}function Fj(t,e,r,i,n){for(var o=r[0],a=r[1],d=r[2],p=r[3],v=t[0]^e[0],w=t[1]^e[1],x=t[2]^e[2],E=t[3]^e[3],T,A,k,D,I=4,C=1;C<n;C++)T=o[v>>>24]^a[w>>>16&255]^d[x>>>8&255]^p[E&255]^e[I++],A=o[w>>>24]^a[x>>>16&255]^d[E>>>8&255]^p[v&255]^e[I++],k=o[x>>>24]^a[E>>>16&255]^d[v>>>8&255]^p[w&255]^e[I++],D=o[E>>>24]^a[v>>>16&255]^d[w>>>8&255]^p[x&255]^e[I++],v=T,w=A,x=k,E=D;return T=(i[v>>>24]<<24|i[w>>>16&255]<<16|i[x>>>8&255]<<8|i[E&255])^e[I++],A=(i[w>>>24]<<24|i[x>>>16&255]<<16|i[E>>>8&255]<<8|i[v&255])^e[I++],k=(i[x>>>24]<<24|i[E>>>16&255]<<16|i[v>>>8&255]<<8|i[w&255])^e[I++],D=(i[E>>>24]<<24|i[v>>>16&255]<<16|i[w>>>8&255]<<8|i[x&255])^e[I++],T=T>>>0,A=A>>>0,k=k>>>0,D=D>>>0,[T,A,k,D]}var Tce=[0,1,2,4,8,16,32,64,128,27,54],Bi=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],o=[[],[],[],[]],a=0,d=0,p=0;p<256;++p){var v=d^d<<1^d<<2^d<<3^d<<4;v=v>>>8^v&255^99,r[a]=v,i[v]=a;var w=t[a],x=t[w],E=t[x],T=t[v]*257^v*16843008;n[0][a]=T<<24|T>>>8,n[1][a]=T<<16|T>>>16,n[2][a]=T<<8|T>>>24,n[3][a]=T,T=E*16843009^x*65537^w*257^a*16843008,o[0][v]=T<<24|T>>>8,o[1][v]=T<<16|T>>>16,o[2][v]=T<<8|T>>>24,o[3][v]=T,a===0?a=d=1:(a=w^t[t[t[E^w]]],d^=t[t[d]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:o}}();function cs(t){this._key=mE(t),this._reset()}cs.blockSize=4*4;cs.keySize=256/8;cs.prototype.blockSize=cs.blockSize;cs.prototype.keySize=cs.keySize;cs.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=(r+1)*4,n=[],o=0;o<e;o++)n[o]=t[o];for(o=e;o<i;o++){var a=n[o-1];o%e===0?(a=a<<8|a>>>24,a=Bi.SBOX[a>>>24]<<24|Bi.SBOX[a>>>16&255]<<16|Bi.SBOX[a>>>8&255]<<8|Bi.SBOX[a&255],a^=Tce[o/e|0]<<24):e>6&&o%e===4&&(a=Bi.SBOX[a>>>24]<<24|Bi.SBOX[a>>>16&255]<<16|Bi.SBOX[a>>>8&255]<<8|Bi.SBOX[a&255]),n[o]=n[o-e]^a}for(var d=[],p=0;p<i;p++){var v=i-p,w=n[v-(p%4?0:4)];p<4||v<=4?d[p]=w:d[p]=Bi.INV_SUB_MIX[0][Bi.SBOX[w>>>24]]^Bi.INV_SUB_MIX[1][Bi.SBOX[w>>>16&255]]^Bi.INV_SUB_MIX[2][Bi.SBOX[w>>>8&255]]^Bi.INV_SUB_MIX[3][Bi.SBOX[w&255]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=d};cs.prototype.encryptBlockRaw=function(t){return t=mE(t),Fj(t,this._keySchedule,Bi.SUB_MIX,Bi.SBOX,this._nRounds)};cs.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=Rw.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};cs.prototype.decryptBlock=function(t){t=mE(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Fj(t,this._invKeySchedule,Bi.INV_SUB_MIX,Bi.INV_SBOX,this._nRounds),i=Rw.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i};cs.prototype.scrub=function(){pE(this._keySchedule),pE(this._invKeySchedule),pE(this._key)};$j.exports.AES=cs});var Vj=K((fke,Gj)=>{M();var N0=jt().Buffer,Pce=N0.alloc(16,0);function Rce(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function Wj(t){var e=N0.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function eg(t){this.h=t,this.state=N0.alloc(16,0),this.cache=N0.allocUnsafe(0)}eg.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};eg.prototype._multiply=function(){for(var t=Rce(this.h),e=[0,0,0,0],r,i,n,o=-1;++o<128;){for(i=(this.state[~~(o/8)]&1<<7-o%8)!==0,i&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),n=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,n&&(t[0]=t[0]^225<<24)}this.state=Wj(e)};eg.prototype.update=function(t){this.cache=N0.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};eg.prototype.final=function(t,e){return this.cache.length&&this.ghash(N0.concat([this.cache,Pce],16)),this.ghash(Wj([0,t,0,e])),this.state};Gj.exports=eg});var yE=K((cke,Zj)=>{M();var kce=Xy(),go=jt().Buffer,Kj=Zf(),Ice=rt(),Hj=Vj(),Dce=q0(),Bce=uE();function Oce(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}function Cce(t,e,r){if(e.length===12)return t._finID=go.concat([e,go.from([0,0,0,1])]),go.concat([e,go.from([0,0,0,2])]);var i=new Hj(r),n=e.length,o=n%16;i.update(e),o&&(o=16-o,i.update(go.alloc(o,0))),i.update(go.alloc(8,0));var a=n*8,d=go.alloc(8);d.writeUIntBE(a,0,8),i.update(d),t._finID=i.state;var p=go.from(t._finID);return Bce(p),p}function ad(t,e,r,i){Kj.call(this);var n=go.alloc(4,0);this._cipher=new kce.AES(e);var o=this._cipher.encryptBlock(n);this._ghash=new Hj(o),r=Cce(this,r,o),this._prev=go.from(r),this._cache=go.allocUnsafe(0),this._secCache=go.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Ice(ad,Kj);ad.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=go.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};ad.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Dce(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Oce(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};ad.prototype.getAuthTag=function(){if(this._decrypt||!go.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};ad.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};ad.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};Zj.exports=ad});var vE=K((dke,Jj)=>{M();var qce=Xy(),gE=jt().Buffer,Yj=Zf(),Nce=rt();function kw(t,e,r,i){Yj.call(this),this._cipher=new qce.AES(e),this._prev=gE.from(r),this._cache=gE.allocUnsafe(0),this._secCache=gE.allocUnsafe(0),this._decrypt=i,this._mode=t}Nce(kw,Yj);kw.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};kw.prototype._final=function(){this._cipher.scrub()};Jj.exports=kw});var tg=K((pke,Qj)=>{M();var fd=jt().Buffer,jce=Yb();function Lce(t,e,r,i){if(fd.isBuffer(t)||(t=fd.from(t,"binary")),e&&(fd.isBuffer(e)||(e=fd.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=r/8,o=fd.alloc(n),a=fd.alloc(i||0),d=fd.alloc(0);n>0||i>0;){var p=new jce;p.update(d),p.update(t),e&&p.update(e),d=p.digest();var v=0;if(n>0){var w=o.length-n;v=Math.min(n,d.length),d.copy(o,w,0,v),n-=v}if(v<d.length&&i>0){var x=a.length-i,E=Math.min(i,d.length-v);d.copy(a,x,v,v+E),i-=E}}return d.fill(0),{key:o,iv:a}}Qj.exports=Lce});var rL=K(bE=>{M();var Xj=Pw(),Uce=yE(),Jf=jt().Buffer,zce=vE(),eL=Zf(),Fce=Xy(),$ce=tg(),Wce=rt();function rg(t,e,r){eL.call(this),this._cache=new Iw,this._cipher=new Fce.AES(e),this._prev=Jf.from(r),this._mode=t,this._autopadding=!0}Wce(rg,eL);rg.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return Jf.concat(i)};var Gce=Jf.alloc(16,16);rg.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(Gce))throw this._cipher.scrub(),new Error("data not multiple of block length")};rg.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Iw(){this.cache=Jf.allocUnsafe(0)}Iw.prototype.add=function(t){this.cache=Jf.concat([this.cache,t])};Iw.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Iw.prototype.flush=function(){for(var t=16-this.cache.length,e=Jf.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Jf.concat([this.cache,e])};function tL(t,e,r){var i=Xj[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Jf.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Jf.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return i.type==="stream"?new zce(i.module,e,r):i.type==="auth"?new Uce(i.module,e,r):new rg(i.module,e,r)}function Vce(t,e){var r=Xj[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=$ce(e,!1,r.key,r.iv);return tL(t,i.key,i.iv)}bE.createCipheriv=tL;bE.createCipher=Vce});var sL=K(wE=>{M();var Kce=yE(),j0=jt().Buffer,iL=Pw(),Hce=vE(),nL=Zf(),Zce=Xy(),Yce=tg(),Jce=rt();function ig(t,e,r){nL.call(this),this._cache=new Dw,this._last=void 0,this._cipher=new Zce.AES(e),this._prev=j0.from(r),this._mode=t,this._autopadding=!0}Jce(ig,nL);ig.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return j0.concat(i)};ig.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return Qce(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};ig.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Dw(){this.cache=j0.allocUnsafe(0)}Dw.prototype.add=function(t){this.cache=j0.concat([this.cache,t])};Dw.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};Dw.prototype.flush=function(){if(this.cache.length)return this.cache};function Qce(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function oL(t,e,r){var i=iL[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=j0.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=j0.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new Hce(i.module,e,r,!0):i.type==="auth"?new Kce(i.module,e,r,!0):new ig(i.module,e,r)}function Xce(t,e){var r=iL[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=Yce(e,!1,r.key,r.iv);return oL(t,i.key,i.iv)}wE.createDecipher=Xce;wE.createDecipheriv=oL});var Bw=K(Vs=>{M();var aL=rL(),fL=sL(),ele=dE();function tle(){return Object.keys(ele)}Vs.createCipher=Vs.Cipher=aL.createCipher;Vs.createCipheriv=Vs.Cipheriv=aL.createCipheriv;Vs.createDecipher=Vs.Decipher=fL.createDecipher;Vs.createDecipheriv=Vs.Decipheriv=fL.createDecipheriv;Vs.listCiphers=Vs.getCiphers=tle});var uL=K(Qf=>{M();Qf["des-ecb"]={key:8,iv:0};Qf["des-cbc"]=Qf.des={key:8,iv:8};Qf["des-ede3-cbc"]=Qf.des3={key:24,iv:8};Qf["des-ede3"]={key:24,iv:0};Qf["des-ede-cbc"]={key:16,iv:8};Qf["des-ede"]={key:16,iv:0}});var pL=K(Ks=>{M();var cL=Ej(),_E=Bw(),oc=Pw(),Xf=uL(),lL=tg();function rle(t,e){t=t.toLowerCase();var r,i;if(oc[t])r=oc[t].key,i=oc[t].iv;else if(Xf[t])r=Xf[t].key*8,i=Xf[t].iv;else throw new TypeError("invalid suite type");var n=lL(e,!1,r,i);return dL(t,n.key,n.iv)}function ile(t,e){t=t.toLowerCase();var r,i;if(oc[t])r=oc[t].key,i=oc[t].iv;else if(Xf[t])r=Xf[t].key*8,i=Xf[t].iv;else throw new TypeError("invalid suite type");var n=lL(e,!1,r,i);return hL(t,n.key,n.iv)}function dL(t,e,r){if(t=t.toLowerCase(),oc[t])return _E.createCipheriv(t,e,r);if(Xf[t])return new cL({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function hL(t,e,r){if(t=t.toLowerCase(),oc[t])return _E.createDecipheriv(t,e,r);if(Xf[t])return new cL({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function nle(){return Object.keys(Xf).concat(_E.getCiphers())}Ks.createCipher=Ks.Cipher=rle;Ks.createCipheriv=Ks.Cipheriv=dL;Ks.createDecipher=Ks.Decipher=ile;Ks.createDecipheriv=Ks.Decipheriv=hL;Ks.listCiphers=Ks.getCiphers=nle});var ME=K((mL,xE)=>{M();(function(t,e){"use strict";function r(_,s){if(!_)throw new Error(s||"Assertion failed")}function i(_,s){_.super_=s;var u=function(){};u.prototype=s.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,s,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(_||0,s||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ut().Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,u){return s.cmp(u)>0?s:u},n.min=function(s,u){return s.cmp(u)<0?s:u},n.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var c=0;s[0]==="-"&&(c++,this.negative=1),c<s.length&&(u===16?this._parseHex(s,c,h):(this._parseBase(s,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,y,b=0;if(h==="be")for(c=s.length-1,l=0;c>=0;c-=3)y=s[c]|s[c-1]<<8|s[c-2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(h==="le")for(c=0,l=0;c<s.length;c+=3)y=s[c]|s[c+1]<<8|s[c+2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function a(_,s){var u=_.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,s,u){var h=a(_,u);return u-1>=s&&(h|=a(_,u-1)<<4),h}n.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,y=0,b;if(h==="be")for(c=s.length-1;c>=u;c-=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8;else{var m=s.length-u;for(c=m%2===0?u+1:u;c<s.length;c+=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8}this.strip()};function p(_,s,u,h){for(var c=0,l=Math.min(_.length,u),y=s;y<l;y++){var b=_.charCodeAt(y)-48;c*=h,b>=49?c+=b-49+10:b>=17?c+=b-17+10:c+=b}return c}n.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var y=s.length-h,b=y%c,m=Math.min(y,y-b)+h,f=0,g=h;g<m;g+=c)f=p(s,g,g+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(b!==0){var R=1;for(f=p(s,g,s.length,u),g=0;g<b;g++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var c=0,l=0,y=0;y<this.length;y++){var b=this.words[y],m=((b<<c|l)&16777215).toString(16);l=b>>>24-c&16777215,l!==0||y!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,y--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var f=w[s],g=x[s];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var S=R.modn(g).toString(s);R=R.idivn(g),R.isZero()?h=S+h:h=v[f-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(s,u){return r(typeof o<"u"),this.toArrayLike(o,s,u)},n.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},n.prototype.toArrayLike=function(s,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var y=u==="le",b=new s(l),m,f,g=this.clone();if(y){for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[f]=m;for(;f<l;f++)b[f]=0}else{for(f=0;f<l-c;f++)b[f]=0;for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[l-f-1]=m}return b},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function E(_){for(var s=new Array(_.bitLength()),u=0;u<s.length;u++){var h=u/26|0,c=u%26;s[u]=(_.words[h]&1<<c)>>>c}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},n.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,c=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,c;this.length>s.length?(h=this,c=s):(h=s,c=this);for(var l=0,y=0;y<c.length;y++)u=(h.words[y]|0)+(c.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;for(;l!==0&&y<h.length;y++)u=(h.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=s):(c=s,l=this);for(var y=0,b=0;b<l.length;b++)u=(c.words[b]|0)-(l.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;for(;y!==0&&b<c.length;b++)u=(c.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;if(y===0&&b<c.length&&c!==this)for(;b<c.length;b++)this.words[b]=c.words[b];return this.length=Math.max(this.length,b),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function T(_,s,u){u.negative=s.negative^_.negative;var h=_.length+s.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=s.words[0]|0,y=c*l,b=y&67108863,m=y/67108864|0;u.words[0]=b;for(var f=1;f<h;f++){for(var g=m>>>26,R=m&67108863,S=Math.min(f,s.length-1),B=Math.max(0,f-_.length+1);B<=S;B++){var z=f-B|0;c=_.words[z]|0,l=s.words[B]|0,y=c*l+R,g+=y/67108864|0,R=y&67108863}u.words[f]=R|0,m=g|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var A=function(s,u,h){var c=s.words,l=u.words,y=h.words,b=0,m,f,g,R=c[0]|0,S=R&8191,B=R>>>13,z=c[1]|0,G=z&8191,V=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Fe=c[3]|0,Q=Fe&8191,X=Fe>>>13,it=c[4]|0,te=it&8191,re=it>>>13,Ht=c[5]|0,ie=Ht&8191,ne=Ht>>>13,Cr=c[6]|0,se=Cr&8191,oe=Cr>>>13,vi=c[7]|0,ae=vi&8191,fe=vi>>>13,bi=c[8]|0,ue=bi&8191,ce=bi>>>13,wi=c[9]|0,le=wi&8191,de=wi>>>13,_i=l[0]|0,he=_i&8191,pe=_i>>>13,Ne=l[1]|0,me=Ne&8191,ye=Ne>>>13,xi=l[2]|0,ge=xi&8191,ve=xi>>>13,Mi=l[3]|0,be=Mi&8191,we=Mi>>>13,Ei=l[4]|0,_e=Ei&8191,xe=Ei>>>13,Si=l[5]|0,Me=Si&8191,Ee=Si>>>13,Ai=l[6]|0,Se=Ai&8191,Ae=Ai>>>13,Ti=l[7]|0,Te=Ti&8191,Pe=Ti>>>13,Pi=l[8]|0,Re=Pi&8191,ke=Pi>>>13,Ri=l[9]|0,Ie=Ri&8191,De=Ri>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul(S,he),f=Math.imul(S,pe),f=f+Math.imul(B,he)|0,g=Math.imul(B,pe);var Rr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(G,he),f=Math.imul(G,pe),f=f+Math.imul(V,he)|0,g=Math.imul(V,pe),m=m+Math.imul(S,me)|0,f=f+Math.imul(S,ye)|0,f=f+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var ht=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,g=Math.imul(Y,pe),m=m+Math.imul(G,me)|0,f=f+Math.imul(G,ye)|0,f=f+Math.imul(V,me)|0,g=g+Math.imul(V,ye)|0,m=m+Math.imul(S,ge)|0,f=f+Math.imul(S,ve)|0,f=f+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var pt=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,g=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,m=m+Math.imul(G,ge)|0,f=f+Math.imul(G,ve)|0,f=f+Math.imul(V,ge)|0,g=g+Math.imul(V,ve)|0,m=m+Math.imul(S,be)|0,f=f+Math.imul(S,we)|0,f=f+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var ur=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,g=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,g=g+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,m=m+Math.imul(G,be)|0,f=f+Math.imul(G,we)|0,f=f+Math.imul(V,be)|0,g=g+Math.imul(V,we)|0,m=m+Math.imul(S,_e)|0,f=f+Math.imul(S,xe)|0,f=f+Math.imul(B,_e)|0,g=g+Math.imul(B,xe)|0;var cr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,g=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,g=g+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,m=m+Math.imul(G,_e)|0,f=f+Math.imul(G,xe)|0,f=f+Math.imul(V,_e)|0,g=g+Math.imul(V,xe)|0,m=m+Math.imul(S,Me)|0,f=f+Math.imul(S,Ee)|0,f=f+Math.imul(B,Me)|0,g=g+Math.imul(B,Ee)|0;var lr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,g=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,g=g+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,g=g+Math.imul(Y,xe)|0,m=m+Math.imul(G,Me)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(V,Me)|0,g=g+Math.imul(V,Ee)|0,m=m+Math.imul(S,Se)|0,f=f+Math.imul(S,Ae)|0,f=f+Math.imul(B,Se)|0,g=g+Math.imul(B,Ae)|0;var dr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ae,he),f=Math.imul(ae,pe),f=f+Math.imul(fe,he)|0,g=Math.imul(fe,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,g=g+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,g=g+Math.imul(Y,Ee)|0,m=m+Math.imul(G,Se)|0,f=f+Math.imul(G,Ae)|0,f=f+Math.imul(V,Se)|0,g=g+Math.imul(V,Ae)|0,m=m+Math.imul(S,Te)|0,f=f+Math.imul(S,Pe)|0,f=f+Math.imul(B,Te)|0,g=g+Math.imul(B,Pe)|0;var hr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,g=Math.imul(ce,pe),m=m+Math.imul(ae,me)|0,f=f+Math.imul(ae,ye)|0,f=f+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,g=g+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,g=g+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,g=g+Math.imul(Y,Ae)|0,m=m+Math.imul(G,Te)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(V,Te)|0,g=g+Math.imul(V,Pe)|0,m=m+Math.imul(S,Re)|0,f=f+Math.imul(S,ke)|0,f=f+Math.imul(B,Re)|0,g=g+Math.imul(B,ke)|0;var pr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,g=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,g=g+Math.imul(ce,ye)|0,m=m+Math.imul(ae,ge)|0,f=f+Math.imul(ae,ve)|0,f=f+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,g=g+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,g=g+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,g=g+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Pe)|0,m=m+Math.imul(G,Re)|0,f=f+Math.imul(G,ke)|0,f=f+Math.imul(V,Re)|0,g=g+Math.imul(V,ke)|0,m=m+Math.imul(S,Ie)|0,f=f+Math.imul(S,De)|0,f=f+Math.imul(B,Ie)|0,g=g+Math.imul(B,De)|0;var mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,g=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,g=g+Math.imul(ce,ve)|0,m=m+Math.imul(ae,be)|0,f=f+Math.imul(ae,we)|0,f=f+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,g=g+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,g=g+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,g=g+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,g=g+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,g=g+Math.imul(Y,ke)|0,m=m+Math.imul(G,Ie)|0,f=f+Math.imul(G,De)|0,f=f+Math.imul(V,Ie)|0,g=g+Math.imul(V,De)|0;var yr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,g=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,g=g+Math.imul(ce,we)|0,m=m+Math.imul(ae,_e)|0,f=f+Math.imul(ae,xe)|0,f=f+Math.imul(fe,_e)|0,g=g+Math.imul(fe,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,g=g+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,g=g+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,g=g+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,g=g+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,De)|0,f=f+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,De)|0;var gr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,g=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,g=g+Math.imul(ce,xe)|0,m=m+Math.imul(ae,Me)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(fe,Me)|0,g=g+Math.imul(fe,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,g=g+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,g=g+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(X,Ie)|0,g=g+Math.imul(X,De)|0;var vr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,g=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,g=g+Math.imul(ce,Ee)|0,m=m+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ae)|0,f=f+Math.imul(fe,Se)|0,g=g+Math.imul(fe,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,g=g+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,De)|0,f=f+Math.imul(re,Ie)|0,g=g+Math.imul(re,De)|0;var br=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,g=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ae)|0,m=m+Math.imul(ae,Te)|0,f=f+Math.imul(ae,Pe)|0,f=f+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,g=g+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,De)|0,f=f+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,De)|0;var wr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,g=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Pe)|0,m=m+Math.imul(ae,Re)|0,f=f+Math.imul(ae,ke)|0,f=f+Math.imul(fe,Re)|0,g=g+Math.imul(fe,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,De)|0;var _r=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,g=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,g=g+Math.imul(ce,ke)|0,m=m+Math.imul(ae,Ie)|0,f=f+Math.imul(ae,De)|0,f=f+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,De)|0;var xr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,g=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,De)|0,f=f+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,De)|0;var Mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,De),f=f+Math.imul(de,Ie)|0,g=Math.imul(de,De);var Er=(b+m|0)+((f&8191)<<13)|0;return b=(g+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,y[0]=Rr,y[1]=ht,y[2]=pt,y[3]=ur,y[4]=cr,y[5]=lr,y[6]=dr,y[7]=hr,y[8]=pr,y[9]=mr,y[10]=yr,y[11]=gr,y[12]=vr,y[13]=br,y[14]=wr,y[15]=_r,y[16]=xr,y[17]=Mr,y[18]=Er,b!==0&&(y[19]=b,h.length++),h};Math.imul||(A=T);function k(_,s,u){u.negative=s.negative^_.negative,u.length=_.length+s.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var y=c;c=0;for(var b=h&67108863,m=Math.min(l,s.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var g=l-f,R=_.words[g]|0,S=s.words[f]|0,B=R*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+b|0,b=z&67108863,y=y+(z>>>26)|0,c+=y>>>26,y&=67108863}u.words[l]=b,h=y,y=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function D(_,s,u){var h=new I;return h.mulp(_,s,u)}n.prototype.mulTo=function(s,u){var h,c=this.length+s.length;return this.length===10&&s.length===10?h=A(this,s,u):c<63?h=T(this,s,u):c<1024?h=k(this,s,u):h=D(this,s,u),h};function I(_,s){this.x=_,this.y=s}I.prototype.makeRBT=function(s){for(var u=new Array(s),h=n.prototype._countBits(s)-1,c=0;c<s;c++)u[c]=this.revBin(c,h,s);return u},I.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var c=0,l=0;l<u;l++)c|=(s&1)<<u-l-1,s>>=1;return c},I.prototype.permute=function(s,u,h,c,l,y){for(var b=0;b<y;b++)c[b]=u[s[b]],l[b]=h[s[b]]},I.prototype.transform=function(s,u,h,c,l,y){this.permute(y,s,u,h,c,l);for(var b=1;b<l;b<<=1)for(var m=b<<1,f=Math.cos(2*Math.PI/m),g=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var S=f,B=g,z=0;z<b;z++){var G=h[R+z],V=c[R+z],J=h[R+z+b],Z=c[R+z+b],Y=S*J-B*Z;Z=S*Z+B*J,J=Y,h[R+z]=G+J,c[R+z]=V+Z,h[R+z+b]=G-J,c[R+z+b]=V-Z,z!==m&&(Y=f*S-g*B,B=f*B+g*S,S=Y)}},I.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=s[c];s[c]=s[h-c-1],s[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(s,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(s[2*c+1]/u)*8192+Math.round(s[2*c]/u)+h;s[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return s},I.prototype.convert13b=function(s,u,h,c){for(var l=0,y=0;y<u;y++)l=l+(s[y]|0),h[2*y]=l&8191,l=l>>>13,h[2*y+1]=l&8191,l=l>>>13;for(y=2*u;y<c;++y)h[y]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},I.prototype.mulp=function(s,u,h){var c=2*this.guessLen13b(s.length,u.length),l=this.makeRBT(c),y=this.stub(c),b=new Array(c),m=new Array(c),f=new Array(c),g=new Array(c),R=new Array(c),S=new Array(c),B=h.words;B.length=c,this.convert13b(s.words,s.length,b,c),this.convert13b(u.words,u.length,g,c),this.transform(b,y,m,f,c,l),this.transform(g,y,R,S,c,l);for(var z=0;z<c;z++){var G=m[z]*R[z]-f[z]*S[z];f[z]=m[z]*S[z]+f[z]*R[z],m[z]=G}return this.conjugate(m,f,c),this.transform(m,f,B,y,c,l),this.conjugate(B,y,c),this.normalize13b(B,c),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},n.prototype.mul=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},n.prototype.mulf=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),D(this,s,u)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){r(typeof s=="number"),r(s<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*s,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var u=E(s);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var y=0;for(l=0;l<this.length;l++){var b=this.words[l]&c,m=(this.words[l]|0)-b<<u;this.words[l]=m|y,y=b>>>26-u}y&&(this.words[l]=y,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var c;u?c=(u-u%26)/26:c=0;var l=s%26,y=Math.min((s-l)/26,this.length),b=67108863^67108863>>>l<<l,m=h;if(c-=y,c=Math.max(0,c),m){for(var f=0;f<y;f++)m.words[f]=this.words[f];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,f=0;f<this.length;f++)this.words[f]=this.words[f+y];else this.words[0]=0,this.length=1;var g=0;for(f=this.length-1;f>=0&&(g!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=g<<26-l|R>>>l,g=R&b}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,u,h){var c=s.length+h,l;this._expand(c);var y,b=0;for(l=0;l<s.length;l++){y=(this.words[l+h]|0)+b;var m=(s.words[l]|0)*u;y-=m&67108863,b=(y>>26)-(m/67108864|0),this.words[l+h]=y&67108863}for(;l<this.length-h;l++)y=(this.words[l+h]|0)+b,b=y>>26,this.words[l+h]=y&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,l=0;l<this.length;l++)y=-(this.words[l]|0)+b,b=y>>26,this.words[l]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(s,u){var h=this.length-s.length,c=this.clone(),l=s,y=l.words[l.length-1]|0,b=this._countBits(y);h=26-b,h!==0&&(l=l.ushln(h),c.iushln(h),y=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var g=0;g<f.length;g++)f.words[g]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var S=m-1;S>=0;S--){var B=(c.words[l.length+S]|0)*67108864+(c.words[l.length+S-1]|0);for(B=Math.min(B/y|0,67108863),c._ishlnsubmul(l,B,S);c.negative!==0;)B--,c.negative=0,c._ishlnsubmul(l,1,S),c.isZero()||(c.negative^=1);f&&(f.words[S]=B)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,u),u!=="mod"&&(c=y.div.neg()),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.iadd(s)),{div:c,mod:l}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),u),u!=="mod"&&(c=y.div.neg()),{div:c,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),u),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.isub(s)),{div:y.div,mod:l}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modn(s.words[0]))}:this._wordDiv(s,u)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,c=s.ushrn(1),l=s.andln(1),y=h.cmp(c);return y<0||l===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(s){r(s<=67108863);for(var u=(1<<26)%s,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%s;return h},n.prototype.idivn=function(s){r(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/s|0,u=c%s}return this.strip()},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=new n(0),b=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),g=u.clone();!u.isZero();){for(var R=0,S=1;!(u.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(g)),c.iushrn(1),l.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(f),b.isub(g)),y.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(y),l.isub(b)):(h.isub(u),y.isub(c),b.isub(l))}return{a:y,b,gcd:h.iushln(m)}},n.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);for(var f=0,g=1;!(h.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(s),R},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var y=u;u=h,h=y}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,y=h;l!==0&&y<this.length;y++){var b=this.words[y]|0;b+=l,l=b>>>26,b&=67108863,this.words[y]=b}return l!==0&&(this.words[y]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var c=this.words[0]|0;h=c===s?0:c<s?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=s.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new L(s)},n.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var C={k256:null,p224:null,p192:null,p25519:null};function q(_,s){this.name=_,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},q.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},q.prototype.split=function(s,u){s.iushrn(this.n,0,u)},q.prototype.imulK=function(s){return s.imul(this.k)};function U(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,q),U.prototype.split=function(s,u){for(var h=4194303,c=Math.min(s.length,9),l=0;l<c;l++)u.words[l]=s.words[l];if(u.length=c,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(u.words[u.length++]=y&h,l=10;l<s.length;l++){var b=s.words[l]|0;s.words[l-10]=(b&h)<<4|y>>>22,y=b}y>>>=22,s.words[l-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},U.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var c=s.words[h]|0;u+=c*977,s.words[h]=u&67108863,u=c*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function $(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,q);function W(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,q);function F(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,q),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var c=(s.words[h]|0)*19+u,l=c&67108863;c>>>=26,s.words[h]=l,u=c}return u!==0&&(s.words[s.length++]=u),s},n._prime=function(s){if(C[s])return C[s];var u;if(s==="k256")u=new U;else if(s==="p224")u=new $;else if(s==="p192")u=new W;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return C[s]=u,u};function L(_){if(typeof _=="string"){var s=n._prime(_);this.m=s.p,this.prime=s}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}L.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},L.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},L.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},L.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},L.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},L.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},L.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},L.prototype.isqr=function(s){return this.imul(s,s.clone())},L.prototype.sqr=function(s){return this.mul(s,s)},L.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(s,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var y=new n(1).toRed(this),b=y.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(b)!==0;)f.redIAdd(b);for(var g=this.pow(f,c),R=this.pow(s,c.addn(1).iushrn(1)),S=this.pow(s,c),B=l;S.cmp(y)!==0;){for(var z=S,G=0;z.cmp(y)!==0;G++)z=z.redSqr();r(G<B);var V=this.pow(g,new n(1).iushln(B-G-1));R=R.redMul(V),g=V.redSqr(),S=S.redMul(g),B=G}return R},L.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(s,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=s;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],s);var y=c[0],b=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],R=f-1;R>=0;R--){var S=g>>R&1;if(y!==c[0]&&(y=this.sqr(y)),S===0&&b===0){m=0;continue}b<<=1,b|=S,m++,!(m!==h&&(l!==0||R!==0))&&(y=this.mul(y,c[b]),m=0,b=0)}f=26}return y},L.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},L.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},n.mont=function(s){return new H(s)};function H(_){L.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,L),H.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},H.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},H.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new n(0)._forceRed(this);var h=s.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof xE>"u"||xE,mL)});var gL=K((yL,EE)=>{M();(function(t,e){"use strict";function r(_,s){if(!_)throw new Error(s||"Assertion failed")}function i(_,s){_.super_=s;var u=function(){};u.prototype=s.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,s,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(_||0,s||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ut().Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,u){return s.cmp(u)>0?s:u},n.min=function(s,u){return s.cmp(u)<0?s:u},n.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var c=0;s[0]==="-"&&(c++,this.negative=1),c<s.length&&(u===16?this._parseHex(s,c,h):(this._parseBase(s,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,y,b=0;if(h==="be")for(c=s.length-1,l=0;c>=0;c-=3)y=s[c]|s[c-1]<<8|s[c-2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(h==="le")for(c=0,l=0;c<s.length;c+=3)y=s[c]|s[c+1]<<8|s[c+2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function a(_,s){var u=_.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,s,u){var h=a(_,u);return u-1>=s&&(h|=a(_,u-1)<<4),h}n.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,y=0,b;if(h==="be")for(c=s.length-1;c>=u;c-=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8;else{var m=s.length-u;for(c=m%2===0?u+1:u;c<s.length;c+=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8}this.strip()};function p(_,s,u,h){for(var c=0,l=Math.min(_.length,u),y=s;y<l;y++){var b=_.charCodeAt(y)-48;c*=h,b>=49?c+=b-49+10:b>=17?c+=b-17+10:c+=b}return c}n.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var y=s.length-h,b=y%c,m=Math.min(y,y-b)+h,f=0,g=h;g<m;g+=c)f=p(s,g,g+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(b!==0){var R=1;for(f=p(s,g,s.length,u),g=0;g<b;g++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var c=0,l=0,y=0;y<this.length;y++){var b=this.words[y],m=((b<<c|l)&16777215).toString(16);l=b>>>24-c&16777215,l!==0||y!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,y--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var f=w[s],g=x[s];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var S=R.modn(g).toString(s);R=R.idivn(g),R.isZero()?h=S+h:h=v[f-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(s,u){return r(typeof o<"u"),this.toArrayLike(o,s,u)},n.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},n.prototype.toArrayLike=function(s,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var y=u==="le",b=new s(l),m,f,g=this.clone();if(y){for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[f]=m;for(;f<l;f++)b[f]=0}else{for(f=0;f<l-c;f++)b[f]=0;for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[l-f-1]=m}return b},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function E(_){for(var s=new Array(_.bitLength()),u=0;u<s.length;u++){var h=u/26|0,c=u%26;s[u]=(_.words[h]&1<<c)>>>c}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},n.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,c=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,c;this.length>s.length?(h=this,c=s):(h=s,c=this);for(var l=0,y=0;y<c.length;y++)u=(h.words[y]|0)+(c.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;for(;l!==0&&y<h.length;y++)u=(h.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=s):(c=s,l=this);for(var y=0,b=0;b<l.length;b++)u=(c.words[b]|0)-(l.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;for(;y!==0&&b<c.length;b++)u=(c.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;if(y===0&&b<c.length&&c!==this)for(;b<c.length;b++)this.words[b]=c.words[b];return this.length=Math.max(this.length,b),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function T(_,s,u){u.negative=s.negative^_.negative;var h=_.length+s.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=s.words[0]|0,y=c*l,b=y&67108863,m=y/67108864|0;u.words[0]=b;for(var f=1;f<h;f++){for(var g=m>>>26,R=m&67108863,S=Math.min(f,s.length-1),B=Math.max(0,f-_.length+1);B<=S;B++){var z=f-B|0;c=_.words[z]|0,l=s.words[B]|0,y=c*l+R,g+=y/67108864|0,R=y&67108863}u.words[f]=R|0,m=g|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var A=function(s,u,h){var c=s.words,l=u.words,y=h.words,b=0,m,f,g,R=c[0]|0,S=R&8191,B=R>>>13,z=c[1]|0,G=z&8191,V=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Fe=c[3]|0,Q=Fe&8191,X=Fe>>>13,it=c[4]|0,te=it&8191,re=it>>>13,Ht=c[5]|0,ie=Ht&8191,ne=Ht>>>13,Cr=c[6]|0,se=Cr&8191,oe=Cr>>>13,vi=c[7]|0,ae=vi&8191,fe=vi>>>13,bi=c[8]|0,ue=bi&8191,ce=bi>>>13,wi=c[9]|0,le=wi&8191,de=wi>>>13,_i=l[0]|0,he=_i&8191,pe=_i>>>13,Ne=l[1]|0,me=Ne&8191,ye=Ne>>>13,xi=l[2]|0,ge=xi&8191,ve=xi>>>13,Mi=l[3]|0,be=Mi&8191,we=Mi>>>13,Ei=l[4]|0,_e=Ei&8191,xe=Ei>>>13,Si=l[5]|0,Me=Si&8191,Ee=Si>>>13,Ai=l[6]|0,Se=Ai&8191,Ae=Ai>>>13,Ti=l[7]|0,Te=Ti&8191,Pe=Ti>>>13,Pi=l[8]|0,Re=Pi&8191,ke=Pi>>>13,Ri=l[9]|0,Ie=Ri&8191,De=Ri>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul(S,he),f=Math.imul(S,pe),f=f+Math.imul(B,he)|0,g=Math.imul(B,pe);var Rr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(G,he),f=Math.imul(G,pe),f=f+Math.imul(V,he)|0,g=Math.imul(V,pe),m=m+Math.imul(S,me)|0,f=f+Math.imul(S,ye)|0,f=f+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var ht=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,g=Math.imul(Y,pe),m=m+Math.imul(G,me)|0,f=f+Math.imul(G,ye)|0,f=f+Math.imul(V,me)|0,g=g+Math.imul(V,ye)|0,m=m+Math.imul(S,ge)|0,f=f+Math.imul(S,ve)|0,f=f+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var pt=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,g=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,m=m+Math.imul(G,ge)|0,f=f+Math.imul(G,ve)|0,f=f+Math.imul(V,ge)|0,g=g+Math.imul(V,ve)|0,m=m+Math.imul(S,be)|0,f=f+Math.imul(S,we)|0,f=f+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var ur=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,g=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,g=g+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,m=m+Math.imul(G,be)|0,f=f+Math.imul(G,we)|0,f=f+Math.imul(V,be)|0,g=g+Math.imul(V,we)|0,m=m+Math.imul(S,_e)|0,f=f+Math.imul(S,xe)|0,f=f+Math.imul(B,_e)|0,g=g+Math.imul(B,xe)|0;var cr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,g=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,g=g+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,m=m+Math.imul(G,_e)|0,f=f+Math.imul(G,xe)|0,f=f+Math.imul(V,_e)|0,g=g+Math.imul(V,xe)|0,m=m+Math.imul(S,Me)|0,f=f+Math.imul(S,Ee)|0,f=f+Math.imul(B,Me)|0,g=g+Math.imul(B,Ee)|0;var lr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,g=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,g=g+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,g=g+Math.imul(Y,xe)|0,m=m+Math.imul(G,Me)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(V,Me)|0,g=g+Math.imul(V,Ee)|0,m=m+Math.imul(S,Se)|0,f=f+Math.imul(S,Ae)|0,f=f+Math.imul(B,Se)|0,g=g+Math.imul(B,Ae)|0;var dr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ae,he),f=Math.imul(ae,pe),f=f+Math.imul(fe,he)|0,g=Math.imul(fe,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,g=g+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,g=g+Math.imul(Y,Ee)|0,m=m+Math.imul(G,Se)|0,f=f+Math.imul(G,Ae)|0,f=f+Math.imul(V,Se)|0,g=g+Math.imul(V,Ae)|0,m=m+Math.imul(S,Te)|0,f=f+Math.imul(S,Pe)|0,f=f+Math.imul(B,Te)|0,g=g+Math.imul(B,Pe)|0;var hr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,g=Math.imul(ce,pe),m=m+Math.imul(ae,me)|0,f=f+Math.imul(ae,ye)|0,f=f+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,g=g+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,g=g+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,g=g+Math.imul(Y,Ae)|0,m=m+Math.imul(G,Te)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(V,Te)|0,g=g+Math.imul(V,Pe)|0,m=m+Math.imul(S,Re)|0,f=f+Math.imul(S,ke)|0,f=f+Math.imul(B,Re)|0,g=g+Math.imul(B,ke)|0;var pr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,g=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,g=g+Math.imul(ce,ye)|0,m=m+Math.imul(ae,ge)|0,f=f+Math.imul(ae,ve)|0,f=f+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,g=g+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,g=g+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,g=g+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Pe)|0,m=m+Math.imul(G,Re)|0,f=f+Math.imul(G,ke)|0,f=f+Math.imul(V,Re)|0,g=g+Math.imul(V,ke)|0,m=m+Math.imul(S,Ie)|0,f=f+Math.imul(S,De)|0,f=f+Math.imul(B,Ie)|0,g=g+Math.imul(B,De)|0;var mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,g=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,g=g+Math.imul(ce,ve)|0,m=m+Math.imul(ae,be)|0,f=f+Math.imul(ae,we)|0,f=f+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,g=g+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,g=g+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,g=g+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,g=g+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,g=g+Math.imul(Y,ke)|0,m=m+Math.imul(G,Ie)|0,f=f+Math.imul(G,De)|0,f=f+Math.imul(V,Ie)|0,g=g+Math.imul(V,De)|0;var yr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,g=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,g=g+Math.imul(ce,we)|0,m=m+Math.imul(ae,_e)|0,f=f+Math.imul(ae,xe)|0,f=f+Math.imul(fe,_e)|0,g=g+Math.imul(fe,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,g=g+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,g=g+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,g=g+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,g=g+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,De)|0,f=f+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,De)|0;var gr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,g=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,g=g+Math.imul(ce,xe)|0,m=m+Math.imul(ae,Me)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(fe,Me)|0,g=g+Math.imul(fe,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,g=g+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,g=g+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(X,Ie)|0,g=g+Math.imul(X,De)|0;var vr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,g=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,g=g+Math.imul(ce,Ee)|0,m=m+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ae)|0,f=f+Math.imul(fe,Se)|0,g=g+Math.imul(fe,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,g=g+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,De)|0,f=f+Math.imul(re,Ie)|0,g=g+Math.imul(re,De)|0;var br=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,g=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ae)|0,m=m+Math.imul(ae,Te)|0,f=f+Math.imul(ae,Pe)|0,f=f+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,g=g+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,De)|0,f=f+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,De)|0;var wr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,g=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Pe)|0,m=m+Math.imul(ae,Re)|0,f=f+Math.imul(ae,ke)|0,f=f+Math.imul(fe,Re)|0,g=g+Math.imul(fe,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,De)|0;var _r=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,g=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,g=g+Math.imul(ce,ke)|0,m=m+Math.imul(ae,Ie)|0,f=f+Math.imul(ae,De)|0,f=f+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,De)|0;var xr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,g=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,De)|0,f=f+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,De)|0;var Mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,De),f=f+Math.imul(de,Ie)|0,g=Math.imul(de,De);var Er=(b+m|0)+((f&8191)<<13)|0;return b=(g+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,y[0]=Rr,y[1]=ht,y[2]=pt,y[3]=ur,y[4]=cr,y[5]=lr,y[6]=dr,y[7]=hr,y[8]=pr,y[9]=mr,y[10]=yr,y[11]=gr,y[12]=vr,y[13]=br,y[14]=wr,y[15]=_r,y[16]=xr,y[17]=Mr,y[18]=Er,b!==0&&(y[19]=b,h.length++),h};Math.imul||(A=T);function k(_,s,u){u.negative=s.negative^_.negative,u.length=_.length+s.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var y=c;c=0;for(var b=h&67108863,m=Math.min(l,s.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var g=l-f,R=_.words[g]|0,S=s.words[f]|0,B=R*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+b|0,b=z&67108863,y=y+(z>>>26)|0,c+=y>>>26,y&=67108863}u.words[l]=b,h=y,y=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function D(_,s,u){var h=new I;return h.mulp(_,s,u)}n.prototype.mulTo=function(s,u){var h,c=this.length+s.length;return this.length===10&&s.length===10?h=A(this,s,u):c<63?h=T(this,s,u):c<1024?h=k(this,s,u):h=D(this,s,u),h};function I(_,s){this.x=_,this.y=s}I.prototype.makeRBT=function(s){for(var u=new Array(s),h=n.prototype._countBits(s)-1,c=0;c<s;c++)u[c]=this.revBin(c,h,s);return u},I.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var c=0,l=0;l<u;l++)c|=(s&1)<<u-l-1,s>>=1;return c},I.prototype.permute=function(s,u,h,c,l,y){for(var b=0;b<y;b++)c[b]=u[s[b]],l[b]=h[s[b]]},I.prototype.transform=function(s,u,h,c,l,y){this.permute(y,s,u,h,c,l);for(var b=1;b<l;b<<=1)for(var m=b<<1,f=Math.cos(2*Math.PI/m),g=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var S=f,B=g,z=0;z<b;z++){var G=h[R+z],V=c[R+z],J=h[R+z+b],Z=c[R+z+b],Y=S*J-B*Z;Z=S*Z+B*J,J=Y,h[R+z]=G+J,c[R+z]=V+Z,h[R+z+b]=G-J,c[R+z+b]=V-Z,z!==m&&(Y=f*S-g*B,B=f*B+g*S,S=Y)}},I.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=s[c];s[c]=s[h-c-1],s[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(s,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(s[2*c+1]/u)*8192+Math.round(s[2*c]/u)+h;s[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return s},I.prototype.convert13b=function(s,u,h,c){for(var l=0,y=0;y<u;y++)l=l+(s[y]|0),h[2*y]=l&8191,l=l>>>13,h[2*y+1]=l&8191,l=l>>>13;for(y=2*u;y<c;++y)h[y]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},I.prototype.mulp=function(s,u,h){var c=2*this.guessLen13b(s.length,u.length),l=this.makeRBT(c),y=this.stub(c),b=new Array(c),m=new Array(c),f=new Array(c),g=new Array(c),R=new Array(c),S=new Array(c),B=h.words;B.length=c,this.convert13b(s.words,s.length,b,c),this.convert13b(u.words,u.length,g,c),this.transform(b,y,m,f,c,l),this.transform(g,y,R,S,c,l);for(var z=0;z<c;z++){var G=m[z]*R[z]-f[z]*S[z];f[z]=m[z]*S[z]+f[z]*R[z],m[z]=G}return this.conjugate(m,f,c),this.transform(m,f,B,y,c,l),this.conjugate(B,y,c),this.normalize13b(B,c),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},n.prototype.mul=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},n.prototype.mulf=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),D(this,s,u)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){r(typeof s=="number"),r(s<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*s,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var u=E(s);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var y=0;for(l=0;l<this.length;l++){var b=this.words[l]&c,m=(this.words[l]|0)-b<<u;this.words[l]=m|y,y=b>>>26-u}y&&(this.words[l]=y,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var c;u?c=(u-u%26)/26:c=0;var l=s%26,y=Math.min((s-l)/26,this.length),b=67108863^67108863>>>l<<l,m=h;if(c-=y,c=Math.max(0,c),m){for(var f=0;f<y;f++)m.words[f]=this.words[f];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,f=0;f<this.length;f++)this.words[f]=this.words[f+y];else this.words[0]=0,this.length=1;var g=0;for(f=this.length-1;f>=0&&(g!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=g<<26-l|R>>>l,g=R&b}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,u,h){var c=s.length+h,l;this._expand(c);var y,b=0;for(l=0;l<s.length;l++){y=(this.words[l+h]|0)+b;var m=(s.words[l]|0)*u;y-=m&67108863,b=(y>>26)-(m/67108864|0),this.words[l+h]=y&67108863}for(;l<this.length-h;l++)y=(this.words[l+h]|0)+b,b=y>>26,this.words[l+h]=y&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,l=0;l<this.length;l++)y=-(this.words[l]|0)+b,b=y>>26,this.words[l]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(s,u){var h=this.length-s.length,c=this.clone(),l=s,y=l.words[l.length-1]|0,b=this._countBits(y);h=26-b,h!==0&&(l=l.ushln(h),c.iushln(h),y=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var g=0;g<f.length;g++)f.words[g]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var S=m-1;S>=0;S--){var B=(c.words[l.length+S]|0)*67108864+(c.words[l.length+S-1]|0);for(B=Math.min(B/y|0,67108863),c._ishlnsubmul(l,B,S);c.negative!==0;)B--,c.negative=0,c._ishlnsubmul(l,1,S),c.isZero()||(c.negative^=1);f&&(f.words[S]=B)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,u),u!=="mod"&&(c=y.div.neg()),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.iadd(s)),{div:c,mod:l}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),u),u!=="mod"&&(c=y.div.neg()),{div:c,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),u),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.isub(s)),{div:y.div,mod:l}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modn(s.words[0]))}:this._wordDiv(s,u)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,c=s.ushrn(1),l=s.andln(1),y=h.cmp(c);return y<0||l===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(s){r(s<=67108863);for(var u=(1<<26)%s,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%s;return h},n.prototype.idivn=function(s){r(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/s|0,u=c%s}return this.strip()},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=new n(0),b=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),g=u.clone();!u.isZero();){for(var R=0,S=1;!(u.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(g)),c.iushrn(1),l.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(f),b.isub(g)),y.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(y),l.isub(b)):(h.isub(u),y.isub(c),b.isub(l))}return{a:y,b,gcd:h.iushln(m)}},n.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);for(var f=0,g=1;!(h.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(s),R},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var y=u;u=h,h=y}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,y=h;l!==0&&y<this.length;y++){var b=this.words[y]|0;b+=l,l=b>>>26,b&=67108863,this.words[y]=b}return l!==0&&(this.words[y]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var c=this.words[0]|0;h=c===s?0:c<s?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=s.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new L(s)},n.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var C={k256:null,p224:null,p192:null,p25519:null};function q(_,s){this.name=_,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},q.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},q.prototype.split=function(s,u){s.iushrn(this.n,0,u)},q.prototype.imulK=function(s){return s.imul(this.k)};function U(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,q),U.prototype.split=function(s,u){for(var h=4194303,c=Math.min(s.length,9),l=0;l<c;l++)u.words[l]=s.words[l];if(u.length=c,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(u.words[u.length++]=y&h,l=10;l<s.length;l++){var b=s.words[l]|0;s.words[l-10]=(b&h)<<4|y>>>22,y=b}y>>>=22,s.words[l-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},U.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var c=s.words[h]|0;u+=c*977,s.words[h]=u&67108863,u=c*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function $(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,q);function W(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,q);function F(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,q),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var c=(s.words[h]|0)*19+u,l=c&67108863;c>>>=26,s.words[h]=l,u=c}return u!==0&&(s.words[s.length++]=u),s},n._prime=function(s){if(C[s])return C[s];var u;if(s==="k256")u=new U;else if(s==="p224")u=new $;else if(s==="p192")u=new W;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return C[s]=u,u};function L(_){if(typeof _=="string"){var s=n._prime(_);this.m=s.p,this.prime=s}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}L.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},L.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},L.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},L.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},L.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},L.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},L.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},L.prototype.isqr=function(s){return this.imul(s,s.clone())},L.prototype.sqr=function(s){return this.mul(s,s)},L.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(s,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var y=new n(1).toRed(this),b=y.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(b)!==0;)f.redIAdd(b);for(var g=this.pow(f,c),R=this.pow(s,c.addn(1).iushrn(1)),S=this.pow(s,c),B=l;S.cmp(y)!==0;){for(var z=S,G=0;z.cmp(y)!==0;G++)z=z.redSqr();r(G<B);var V=this.pow(g,new n(1).iushln(B-G-1));R=R.redMul(V),g=V.redSqr(),S=S.redMul(g),B=G}return R},L.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(s,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=s;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],s);var y=c[0],b=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],R=f-1;R>=0;R--){var S=g>>R&1;if(y!==c[0]&&(y=this.sqr(y)),S===0&&b===0){m=0;continue}b<<=1,b|=S,m++,!(m!==h&&(l!==0||R!==0))&&(y=this.mul(y,c[b]),m=0,b=0)}f=26}return y},L.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},L.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},n.mont=function(s){return new H(s)};function H(_){L.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,L),H.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},H.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},H.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new n(0)._forceRed(this);var h=s.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof EE>"u"||EE,yL)});var Ow=K((Pke,TE)=>{M();var SE;TE.exports=function(e){return SE||(SE=new sc(null)),SE.generate(e)};function sc(t){this.rand=t}TE.exports.Rand=sc;sc.prototype.generate=function(e){return this._rand(e)};sc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?sc.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?sc.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(sc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(AE=Cw(),typeof AE.randomBytes!="function")throw new Error("Not supported");sc.prototype._rand=function(e){return AE.randomBytes(e)}}catch{}var AE});var PE=K((kke,vL)=>{M();var ud=gL(),ole=Ow();function cd(t){this.rand=t||new ole.Rand}vL.exports=cd;cd.create=function(e){return new cd(e)};cd.prototype._randbelow=function(e){var r=e.bitLength(),i=Math.ceil(r/8);do var n=new ud(this.rand.generate(i));while(n.cmp(e)>=0);return n};cd.prototype._randrange=function(e,r){var i=r.sub(e);return e.add(this._randbelow(i))};cd.prototype.test=function(e,r,i){var n=e.bitLength(),o=ud.mont(e),a=new ud(1).toRed(o);r||(r=Math.max(1,n/48|0));for(var d=e.subn(1),p=0;!d.testn(p);p++);for(var v=e.shrn(p),w=d.toRed(o),x=!0;r>0;r--){var E=this._randrange(new ud(2),d);i&&i(E);var T=E.toRed(o).redPow(v);if(!(T.cmp(a)===0||T.cmp(w)===0)){for(var A=1;A<p;A++){if(T=T.redSqr(),T.cmp(a)===0)return!1;if(T.cmp(w)===0)break}if(A===p)return!1}}return x};cd.prototype.getDivisor=function(e,r){var i=e.bitLength(),n=ud.mont(e),o=new ud(1).toRed(n);r||(r=Math.max(1,i/48|0));for(var a=e.subn(1),d=0;!a.testn(d);d++);for(var p=e.shrn(d),v=a.toRed(n);r>0;r--){var w=this._randrange(new ud(2),a),x=e.gcd(w);if(x.cmpn(1)!==0)return x;var E=w.toRed(n).redPow(p);if(!(E.cmp(o)===0||E.cmp(v)===0)){for(var T=1;T<d;T++){if(E=E.redSqr(),E.cmp(o)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(v)===0)break}if(T===d)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1}});var OE=K((qke,_L)=>{M();var sle=Cl();_L.exports=BE;BE.simpleSieve=IE;BE.fermatTest=DE;var Pn=ME(),ale=new Pn(24),fle=PE(),bL=new fle,ule=new Pn(1),kE=new Pn(2),cle=new Pn(5),Dke=new Pn(16),Bke=new Pn(8),lle=new Pn(10),dle=new Pn(3),Oke=new Pn(7),hle=new Pn(11),wL=new Pn(4),Cke=new Pn(12),RE=null;function ple(){if(RE!==null)return RE;var t=1048576,e=[];e[0]=2;for(var r=1,i=3;i<t;i+=2){for(var n=Math.ceil(Math.sqrt(i)),o=0;o<r&&e[o]<=n&&i%e[o]!==0;o++);r!==o&&e[o]<=n||(e[r++]=i)}return RE=e,e}function IE(t){for(var e=ple(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function DE(t){var e=Pn.mont(t);return kE.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function BE(t,e){if(t<16)return e===2||e===5?new Pn([140,123]):new Pn([140,39]);e=new Pn(e);for(var r,i;;){for(r=new Pn(sle(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(ule),r.testn(1)||r.iadd(kE),e.cmp(kE)){if(!e.cmp(cle))for(;r.mod(lle).cmp(dle);)r.iadd(wL)}else for(;r.mod(ale).cmp(hle);)r.iadd(wL);if(i=r.shrn(1),IE(i)&&IE(r)&&DE(i)&&DE(r)&&bL.test(i)&&bL.test(r))return r}}});var xL=K((jke,mle)=>{mle.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var AL=K((Lke,SL)=>{M();var ls=ME(),yle=PE(),ML=new yle,gle=new ls(24),vle=new ls(11),ble=new ls(10),wle=new ls(3),_le=new ls(7),EL=OE(),xle=Cl();SL.exports=eu;function Mle(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this._pub=new ls(t),this}function Ele(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this._priv=new ls(t),this}var qw={};function Sle(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in qw)return qw[i];var n=0;if(t.isEven()||!EL.simpleSieve||!EL.fermatTest(t)||!ML.test(t))return n+=1,r==="02"||r==="05"?n+=8:n+=4,qw[i]=n,n;ML.test(t.shrn(1))||(n+=2);var o;switch(r){case"02":t.mod(gle).cmp(vle)&&(n+=8);break;case"05":o=t.mod(ble),o.cmp(wle)&&o.cmp(_le)&&(n+=8);break;default:n+=4}return qw[i]=n,n}function eu(t,e,r){this.setGenerator(e),this.__prime=new ls(t),this._prime=ls.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Mle,this.setPrivateKey=Ele):this._primeCode=8}Object.defineProperty(eu.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Sle(this.__prime,this.__gen)),this._primeCode}});eu.prototype.generateKeys=function(){return this._priv||(this._priv=new ls(xle(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};eu.prototype.computeSecret=function(t){t=new ls(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new N.Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var n=new N.Buffer(i.length-r.length);n.fill(0),r=N.Buffer.concat([n,r])}return r};eu.prototype.getPublicKey=function(e){return Nw(this._pub,e)};eu.prototype.getPrivateKey=function(e){return Nw(this._priv,e)};eu.prototype.getPrime=function(t){return Nw(this.__prime,t)};eu.prototype.getGenerator=function(t){return Nw(this._gen,t)};eu.prototype.setGenerator=function(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this.__gen=t,this._gen=new ls(t),this};function Nw(t,e){var r=new N.Buffer(t.toArray());return e?r.toString(e):r}});var RL=K(L0=>{M();var Ale=OE(),TL=xL(),CE=AL();function Tle(t){var e=new N.Buffer(TL[t].prime,"hex"),r=new N.Buffer(TL[t].gen,"hex");return new CE(e,r)}var Ple={binary:!0,hex:!0,base64:!0};function PL(t,e,r,i){return N.Buffer.isBuffer(e)||Ple[e]===void 0?PL(t,"binary",e,r):(e=e||"binary",i=i||"binary",r=r||new N.Buffer([2]),N.Buffer.isBuffer(r)||(r=new N.Buffer(r,i)),typeof t=="number"?new CE(Ale(t,r),r,!0):(N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),new CE(t,r,!0)))}L0.DiffieHellmanGroup=L0.createDiffieHellmanGroup=L0.getDiffieHellman=Tle;L0.createDiffieHellman=L0.DiffieHellman=PL});var Lw=K((qE,IL)=>{M();var jw=Ut(),Ka=jw.Buffer;function kL(t,e){for(var r in t)e[r]=t[r]}Ka.from&&Ka.alloc&&Ka.allocUnsafe&&Ka.allocUnsafeSlow?IL.exports=jw:(kL(jw,qE),qE.Buffer=ld);function ld(t,e,r){return Ka(t,e,r)}ld.prototype=Object.create(Ka.prototype);kL(Ka,ld);ld.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ka(t,e,r)};ld.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Ka(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};ld.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ka(t)};ld.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return jw.SlowBuffer(t)}});var NE=K((Wke,DL)=>{M();DL.exports=rs().EventEmitter});var jL=K((Vke,NL)=>{"use strict";M();function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function OL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(i){Rle(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Rle(t,e,r){return e=qL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CL(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,qL(i.key),i)}}function Ile(t,e,r){return e&&CL(t.prototype,e),r&&CL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qL(t){var e=Dle(t,"string");return typeof e=="symbol"?e:String(e)}function Dle(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ble=Ut(),Uw=Ble.Buffer,Ole=Fl(),jE=Ole.inspect,Cle=jE&&jE.custom||"inspect";function qle(t,e,r){Uw.prototype.copy.call(t,e,r)}NL.exports=function(){function t(){kle(this,t),this.head=null,this.tail=null,this.length=0}return Ile(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Uw.alloc(0);for(var i=Uw.allocUnsafe(r>>>0),n=this.head,o=0;n;)qle(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var a=i.data,d=r>a.length?a.length:r;if(d===a.length?o+=a:o+=a.slice(0,r),r-=d,r===0){d===a.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(d));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=Uw.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var a=n.data,d=r>a.length?a.length:r;if(a.copy(i,i.length-r,0,d),r-=d,r===0){d===a.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(d));break}++o}return this.length-=o,i}},{key:Cle,value:function(r,i){return jE(this,OL(OL({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var UE=K((Hke,UL)=>{"use strict";M();function Nle(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,O.default.nextTick(LE,this,t)):O.default.nextTick(LE,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?O.default.nextTick(zw,r):(r._writableState.errorEmitted=!0,O.default.nextTick(LL,r,o)):O.default.nextTick(LL,r,o):e?(O.default.nextTick(zw,r),e(o)):O.default.nextTick(zw,r)}),this)}function LL(t,e){LE(t,e),zw(t)}function zw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function jle(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function LE(t,e){t.emit("error",e)}function Lle(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}UL.exports={destroy:Nle,undestroy:jle,errorOrDestroy:Lle}});var dd=K((Yke,$L)=>{"use strict";M();function Ule(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var FL={};function ds(t,e,r){r||(r=Error);function i(o,a,d){return typeof e=="string"?e:e(o,a,d)}var n=function(o){Ule(a,o);function a(d,p,v){return o.call(this,i(d,p,v))||this}return a}(r);n.prototype.name=r.name,n.prototype.code=t,FL[t]=n}function zL(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function zle(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Fle(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function $le(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ds("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ds("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&zle(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(Fle(t," argument"))n="The ".concat(t," ").concat(i," ").concat(zL(e,"type"));else{var o=$le(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(zL(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);ds("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ds("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ds("ERR_STREAM_PREMATURE_CLOSE","Premature close");ds("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ds("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ds("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ds("ERR_STREAM_WRITE_AFTER_END","write after end");ds("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ds("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ds("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");$L.exports.codes=FL});var zE=K((Qke,WL)=>{"use strict";M();var Wle=dd().codes.ERR_INVALID_OPT_VALUE;function Gle(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Vle(t,e,r,i){var n=Gle(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new Wle(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}WL.exports={getHighWaterMark:Vle}});var WE=K((eIe,YL)=>{"use strict";M();YL.exports=ii;function VL(t){var e=this;this.next=null,this.entry=null,this.finish=function(){bde(e,t)}}var U0;ii.WritableState=og;var Kle={deprecate:Bb()},KL=NE(),$w=Ut().Buffer,Hle=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Zle(t){return $w.from(t)}function Yle(t){return $w.isBuffer(t)||t instanceof Hle}var $E=UE(),Jle=zE(),Qle=Jle.getHighWaterMark,ac=dd().codes,Xle=ac.ERR_INVALID_ARG_TYPE,ede=ac.ERR_METHOD_NOT_IMPLEMENTED,tde=ac.ERR_MULTIPLE_CALLBACK,rde=ac.ERR_STREAM_CANNOT_PIPE,ide=ac.ERR_STREAM_DESTROYED,nde=ac.ERR_STREAM_NULL_VALUES,ode=ac.ERR_STREAM_WRITE_AFTER_END,sde=ac.ERR_UNKNOWN_ENCODING,z0=$E.errorOrDestroy;rt()(ii,KL);function ade(){}function og(t,e,r){U0=U0||hd(),t=t||{},typeof r!="boolean"&&(r=e instanceof U0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Qle(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){pde(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new VL(this)}og.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(og.prototype,"buffer",{get:Kle.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Fw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Fw=Function.prototype[Symbol.hasInstance],Object.defineProperty(ii,Symbol.hasInstance,{value:function(e){return Fw.call(this,e)?!0:this!==ii?!1:e&&e._writableState instanceof og}})):Fw=function(e){return e instanceof this};function ii(t){U0=U0||hd();var e=this instanceof U0;if(!e&&!Fw.call(ii,this))return new ii(t);this._writableState=new og(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),KL.call(this)}ii.prototype.pipe=function(){z0(this,new rde)};function fde(t,e){var r=new ode;z0(t,r),O.default.nextTick(e,r)}function ude(t,e,r,i){var n;return r===null?n=new nde:typeof r!="string"&&!e.objectMode&&(n=new Xle("chunk",["string","Buffer"],r)),n?(z0(t,n),O.default.nextTick(i,n),!1):!0}ii.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&Yle(t);return o&&!$w.isBuffer(t)&&(t=Zle(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=ade),i.ending?fde(this,r):(o||ude(this,i,t,r))&&(i.pendingcb++,n=lde(this,i,o,t,e,r)),n};ii.prototype.cork=function(){this._writableState.corked++};ii.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&HL(this,t))};ii.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new sde(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ii.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function cde(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=$w.from(e,r)),e}Object.defineProperty(ii.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lde(t,e,r,i,n,o){if(!r){var a=cde(e,i,n);i!==a&&(r=!0,n="buffer",i=a)}var d=e.objectMode?1:i.length;e.length+=d;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var v=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},v?v.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else FE(t,e,!1,d,i,n,o);return p}function FE(t,e,r,i,n,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ide("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function dde(t,e,r,i,n){--e.pendingcb,r?(O.default.nextTick(n,i),O.default.nextTick(ng,t,e),t._writableState.errorEmitted=!0,z0(t,i)):(n(i),t._writableState.errorEmitted=!0,z0(t,i),ng(t,e))}function hde(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function pde(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new tde;if(hde(r),e)dde(t,r,i,e,n);else{var o=ZL(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&HL(t,r),i?O.default.nextTick(GL,t,r,o,n):GL(t,r,o,n)}}function GL(t,e,r,i){r||mde(t,e),e.pendingcb--,i(),ng(t,e)}function mde(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function HL(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,d=!0;r;)n[a]=r,r.isBuf||(d=!1),r=r.next,a+=1;n.allBuffers=d,FE(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new VL(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,v=r.encoding,w=r.callback,x=e.objectMode?1:p.length;if(FE(t,e,!1,x,p,v,w),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ii.prototype._write=function(t,e,r){r(new ede("_write()"))};ii.prototype._writev=null;ii.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||vde(this,i,r),this};Object.defineProperty(ii.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ZL(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function yde(t,e){t._final(function(r){e.pendingcb--,r&&z0(t,r),e.prefinished=!0,t.emit("prefinish"),ng(t,e)})}function gde(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,O.default.nextTick(yde,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ng(t,e){var r=ZL(e);if(r&&(gde(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function vde(t,e,r){e.ending=!0,ng(t,e),r&&(e.finished?O.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function bde(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(ii.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ii.prototype.destroy=$E.destroy;ii.prototype._undestroy=$E.undestroy;ii.prototype._destroy=function(t,e){e(t)}});var hd=K((rIe,QL)=>{"use strict";M();var wde=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};QL.exports=Ha;var JL=KE(),VE=WE();rt()(Ha,JL);for(GE=wde(VE.prototype),Ww=0;Ww<GE.length;Ww++)Gw=GE[Ww],Ha.prototype[Gw]||(Ha.prototype[Gw]=VE.prototype[Gw]);var GE,Gw,Ww;function Ha(t){if(!(this instanceof Ha))return new Ha(t);JL.call(this,t),VE.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_de)))}Object.defineProperty(Ha.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ha.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ha.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _de(){this._writableState.ended||O.default.nextTick(xde,this)}function xde(t){t.end()}Object.defineProperty(Ha.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Vw=K((nIe,tU)=>{"use strict";M();var XL=dd().codes.ERR_STREAM_PREMATURE_CLOSE;function Mde(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Ede(){}function Sde(t){return t.setHeader&&typeof t.abort=="function"}function eU(t,e,r){if(typeof e=="function")return eU(t,null,e);e||(e={}),r=Mde(r||Ede);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||d()},a=t._writableState&&t._writableState.finished,d=function(){n=!1,a=!0,i||r.call(t)},p=t._readableState&&t._readableState.endEmitted,v=function(){i=!1,p=!0,n||r.call(t)},w=function(A){r.call(t,A)},x=function(){var A;if(i&&!p)return(!t._readableState||!t._readableState.ended)&&(A=new XL),r.call(t,A);if(n&&!a)return(!t._writableState||!t._writableState.ended)&&(A=new XL),r.call(t,A)},E=function(){t.req.on("finish",d)};return Sde(t)?(t.on("complete",d),t.on("abort",x),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",v),t.on("finish",d),e.error!==!1&&t.on("error",w),t.on("close",x),function(){t.removeListener("complete",d),t.removeListener("abort",x),t.removeListener("request",E),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",v),t.removeListener("error",w),t.removeListener("close",x)}}tU.exports=eU});var iU=K((sIe,rU)=>{"use strict";M();var Kw;function fc(t,e,r){return e=Ade(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ade(t){var e=Tde(t,"string");return typeof e=="symbol"?e:String(e)}function Tde(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pde=Vw(),uc=Symbol("lastResolve"),pd=Symbol("lastReject"),sg=Symbol("error"),Hw=Symbol("ended"),md=Symbol("lastPromise"),HE=Symbol("handlePromise"),yd=Symbol("stream");function cc(t,e){return{value:t,done:e}}function Rde(t){var e=t[uc];if(e!==null){var r=t[yd].read();r!==null&&(t[md]=null,t[uc]=null,t[pd]=null,e(cc(r,!1)))}}function kde(t){O.default.nextTick(Rde,t)}function Ide(t,e){return function(r,i){t.then(function(){if(e[Hw]){r(cc(void 0,!0));return}e[HE](r,i)},i)}}var Dde=Object.getPrototypeOf(function(){}),Bde=Object.setPrototypeOf((Kw={get stream(){return this[yd]},next:function(){var e=this,r=this[sg];if(r!==null)return Promise.reject(r);if(this[Hw])return Promise.resolve(cc(void 0,!0));if(this[yd].destroyed)return new Promise(function(a,d){O.default.nextTick(function(){e[sg]?d(e[sg]):a(cc(void 0,!0))})});var i=this[md],n;if(i)n=new Promise(Ide(i,this));else{var o=this[yd].read();if(o!==null)return Promise.resolve(cc(o,!1));n=new Promise(this[HE])}return this[md]=n,n}},fc(Kw,Symbol.asyncIterator,function(){return this}),fc(Kw,"return",function(){var e=this;return new Promise(function(r,i){e[yd].destroy(null,function(n){if(n){i(n);return}r(cc(void 0,!0))})})}),Kw),Dde),Ode=function(e){var r,i=Object.create(Bde,(r={},fc(r,yd,{value:e,writable:!0}),fc(r,uc,{value:null,writable:!0}),fc(r,pd,{value:null,writable:!0}),fc(r,sg,{value:null,writable:!0}),fc(r,Hw,{value:e._readableState.endEmitted,writable:!0}),fc(r,HE,{value:function(o,a){var d=i[yd].read();d?(i[md]=null,i[uc]=null,i[pd]=null,o(cc(d,!1))):(i[uc]=o,i[pd]=a)},writable:!0}),r));return i[md]=null,Pde(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[pd];o!==null&&(i[md]=null,i[uc]=null,i[pd]=null,o(n)),i[sg]=n;return}var a=i[uc];a!==null&&(i[md]=null,i[uc]=null,i[pd]=null,a(cc(void 0,!0))),i[Hw]=!0}),e.on("readable",kde.bind(null,i)),i};rU.exports=Ode});var oU=K((fIe,nU)=>{M();nU.exports=function(){throw new Error("Readable.from is not available in the browser")}});var KE=K((lIe,mU)=>{"use strict";M();mU.exports=Vt;var F0;Vt.ReadableState=uU;var cIe=rs().EventEmitter,fU=function(e,r){return e.listeners(r).length},fg=NE(),Zw=Ut().Buffer,Cde=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function qde(t){return Zw.from(t)}function Nde(t){return Zw.isBuffer(t)||t instanceof Cde}var ZE=Fl(),Pt;ZE&&ZE.debuglog?Pt=ZE.debuglog("stream"):Pt=function(){};var jde=jL(),rS=UE(),Lde=zE(),Ude=Lde.getHighWaterMark,Yw=dd().codes,zde=Yw.ERR_INVALID_ARG_TYPE,Fde=Yw.ERR_STREAM_PUSH_AFTER_EOF,$de=Yw.ERR_METHOD_NOT_IMPLEMENTED,Wde=Yw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,$0,YE,JE;rt()(Vt,fg);var ag=rS.errorOrDestroy,QE=["error","close","destroy","pause","resume"];function Gde(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function uU(t,e,r){F0=F0||hd(),t=t||{},typeof r!="boolean"&&(r=e instanceof F0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Ude(this,t,"readableHighWaterMark",r),this.buffer=new jde,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&($0||($0=Gf().StringDecoder),this.decoder=new $0(t.encoding),this.encoding=t.encoding)}function Vt(t){if(F0=F0||hd(),!(this instanceof Vt))return new Vt(t);var e=this instanceof F0;this._readableState=new uU(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),fg.call(this)}Object.defineProperty(Vt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Vt.prototype.destroy=rS.destroy;Vt.prototype._undestroy=rS.undestroy;Vt.prototype._destroy=function(t,e){e(t)};Vt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Zw.from(t,e),e=""),i=!0),cU(this,t,e,!1,i)};Vt.prototype.unshift=function(t){return cU(this,t,null,!0,!1)};function cU(t,e,r,i,n){Pt("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Hde(t,o);else{var a;if(n||(a=Vde(o,e)),a)ag(t,a);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Zw.prototype&&(e=qde(e)),i)o.endEmitted?ag(t,new Wde):XE(t,o,e,!0);else if(o.ended)ag(t,new Fde);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?XE(t,o,e,!1):tS(t,o)):XE(t,o,e,!1)}else i||(o.reading=!1,tS(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function XE(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Jw(t)),tS(t,e)}function Vde(t,e){var r;return!Nde(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new zde("chunk",["string","Buffer","Uint8Array"],e)),r}Vt.prototype.isPaused=function(){return this._readableState.flowing===!1};Vt.prototype.setEncoding=function(t){$0||($0=Gf().StringDecoder);var e=new $0(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var sU=1073741824;function Kde(t){return t>=sU?t=sU:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function aU(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Kde(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Vt.prototype.read=function(t){Pt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?eS(this):Jw(this),null;if(t=aU(t,e),t===0&&e.ended)return e.length===0&&eS(this),null;var i=e.needReadable;Pt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Pt("length less than watermark",i)),e.ended||e.reading?(i=!1,Pt("reading or ended",i)):i&&(Pt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=aU(r,e)));var n;return t>0?n=hU(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&eS(this)),n!==null&&this.emit("data",n),n};function Hde(t,e){if(Pt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Jw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,lU(t)))}}function Jw(t){var e=t._readableState;Pt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pt("emitReadable",e.flowing),e.emittedReadable=!0,O.default.nextTick(lU,t))}function lU(t){var e=t._readableState;Pt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,iS(t)}function tS(t,e){e.readingMore||(e.readingMore=!0,O.default.nextTick(Zde,t,e))}function Zde(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Pt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Vt.prototype._read=function(t){ag(this,new $de("_read()"))};Vt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Pt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==O.default.stdout&&t!==O.default.stderr,o=n?d:k;i.endEmitted?O.default.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(D,I){Pt("onunpipe"),D===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,w())}function d(){Pt("onend"),t.end()}var p=Yde(r);t.on("drain",p);var v=!1;function w(){Pt("cleanup"),t.removeListener("close",T),t.removeListener("finish",A),t.removeListener("drain",p),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",d),r.removeListener("end",k),r.removeListener("data",x),v=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on("data",x);function x(D){Pt("ondata");var I=t.write(D);Pt("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&pU(i.pipes,t)!==-1)&&!v&&(Pt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(D){Pt("onerror",D),k(),t.removeListener("error",E),fU(t,"error")===0&&ag(t,D)}Gde(t,"error",E);function T(){t.removeListener("finish",A),k()}t.once("close",T);function A(){Pt("onfinish"),t.removeListener("close",T),k()}t.once("finish",A);function k(){Pt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Pt("pipe resume"),r.resume()),t};function Yde(t){return function(){var r=t._readableState;Pt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&fU(t,"data")&&(r.flowing=!0,iS(t))}}Vt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=pU(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Vt.prototype.on=function(t,e){var r=fg.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Pt("on readable",i.length,i.reading),i.length?Jw(this):i.reading||O.default.nextTick(Jde,this)),r};Vt.prototype.addListener=Vt.prototype.on;Vt.prototype.removeListener=function(t,e){var r=fg.prototype.removeListener.call(this,t,e);return t==="readable"&&O.default.nextTick(dU,this),r};Vt.prototype.removeAllListeners=function(t){var e=fg.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&O.default.nextTick(dU,this),e};function dU(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Jde(t){Pt("readable nexttick read 0"),t.read(0)}Vt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Pt("resume"),t.flowing=!t.readableListening,Qde(this,t)),t.paused=!1,this};function Qde(t,e){e.resumeScheduled||(e.resumeScheduled=!0,O.default.nextTick(Xde,t,e))}function Xde(t,e){Pt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),iS(t),e.flowing&&!e.reading&&t.read(0)}Vt.prototype.pause=function(){return Pt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function iS(t){var e=t._readableState;for(Pt("flow",e.flowing);e.flowing&&t.read()!==null;);}Vt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Pt("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Pt("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var d=e.push(a);d||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(d){return function(){return t[d].apply(t,arguments)}}(n));for(var o=0;o<QE.length;o++)t.on(QE[o],this.emit.bind(this,QE[o]));return this._read=function(a){Pt("wrapped _read",a),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Vt.prototype[Symbol.asyncIterator]=function(){return YE===void 0&&(YE=iU()),YE(this)});Object.defineProperty(Vt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Vt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Vt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Vt._fromList=hU;Object.defineProperty(Vt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function hU(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function eS(t){var e=t._readableState;Pt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,O.default.nextTick(ehe,e,t))}function ehe(t,e){if(Pt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Vt.from=function(t,e){return JE===void 0&&(JE=oU()),JE(Vt,t,e)});function pU(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var nS=K((hIe,gU)=>{"use strict";M();gU.exports=tu;var Qw=dd().codes,the=Qw.ERR_METHOD_NOT_IMPLEMENTED,rhe=Qw.ERR_MULTIPLE_CALLBACK,ihe=Qw.ERR_TRANSFORM_ALREADY_TRANSFORMING,nhe=Qw.ERR_TRANSFORM_WITH_LENGTH_0,Xw=hd();rt()(tu,Xw);function ohe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new rhe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function tu(t){if(!(this instanceof tu))return new tu(t);Xw.call(this,t),this._transformState={afterTransform:ohe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",she)}function she(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){yU(t,e,r)}):yU(this,null,null)}tu.prototype.push=function(t,e){return this._transformState.needTransform=!1,Xw.prototype.push.call(this,t,e)};tu.prototype._transform=function(t,e,r){r(new the("_transform()"))};tu.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};tu.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};tu.prototype._destroy=function(t,e){Xw.prototype._destroy.call(this,t,function(r){e(r)})};function yU(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new nhe;if(t._transformState.transforming)throw new ihe;return t.push(null)}});var wU=K((mIe,bU)=>{"use strict";M();bU.exports=ug;var vU=nS();rt()(ug,vU);function ug(t){if(!(this instanceof ug))return new ug(t);vU.call(this,t)}ug.prototype._transform=function(t,e,r){r(null,t)}});var SU=K((gIe,EU)=>{"use strict";M();var oS;function ahe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var MU=dd().codes,fhe=MU.ERR_MISSING_ARGS,uhe=MU.ERR_STREAM_DESTROYED;function _U(t){if(t)throw t}function che(t){return t.setHeader&&typeof t.abort=="function"}function lhe(t,e,r,i){i=ahe(i);var n=!1;t.on("close",function(){n=!0}),oS===void 0&&(oS=Vw()),oS(t,{readable:e,writable:r},function(a){if(a)return i(a);n=!0,i()});var o=!1;return function(a){if(!n&&!o){if(o=!0,che(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(a||new uhe("pipe"))}}}function xU(t){t()}function dhe(t,e){return t.pipe(e)}function hhe(t){return!t.length||typeof t[t.length-1]!="function"?_U:t.pop()}function phe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=hhe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new fhe("streams");var n,o=e.map(function(a,d){var p=d<e.length-1,v=d>0;return lhe(a,p,v,function(w){n||(n=w),w&&o.forEach(xU),!p&&(o.forEach(xU),i(n))})});return e.reduce(dhe)}EU.exports=phe});var TU=K((hs,AU)=>{M();hs=AU.exports=KE();hs.Stream=hs;hs.Readable=hs;hs.Writable=WE();hs.Duplex=hd();hs.Transform=nS();hs.PassThrough=wU();hs.finished=Vw();hs.pipeline=SU()});var e2=K((PU,sS)=>{M();(function(t,e){"use strict";function r(h,c){if(!h)throw new Error(c||"Assertion failed")}function i(h,c){h.super_=c;var l=function(){};l.prototype=c.prototype,h.prototype=new l,h.prototype.constructor=h}function n(h,c,l){if(n.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((c==="le"||c==="be")&&(l=c,c=10),this._init(h||0,c||10,l||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ut().Buffer}catch{}n.isBN=function(c){return c instanceof n?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===n.wordSize&&Array.isArray(c.words)},n.max=function(c,l){return c.cmp(l)>0?c:l},n.min=function(c,l){return c.cmp(l)<0?c:l},n.prototype._init=function(c,l,y){if(typeof c=="number")return this._initNumber(c,l,y);if(typeof c=="object")return this._initArray(c,l,y);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),c=c.toString().replace(/\s+/g,"");var b=0;c[0]==="-"&&(b++,this.negative=1),b<c.length&&(l===16?this._parseHex(c,b,y):(this._parseBase(c,l,b),y==="le"&&this._initArray(this.toArray(),l,y)))},n.prototype._initNumber=function(c,l,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),l,y)},n.prototype._initArray=function(c,l,y){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var m,f,g=0;if(y==="be")for(b=c.length-1,m=0;b>=0;b-=3)f=c[b]|c[b-1]<<8|c[b-2]<<16,this.words[m]|=f<<g&67108863,this.words[m+1]=f>>>26-g&67108863,g+=24,g>=26&&(g-=26,m++);else if(y==="le")for(b=0,m=0;b<c.length;b+=3)f=c[b]|c[b+1]<<8|c[b+2]<<16,this.words[m]|=f<<g&67108863,this.words[m+1]=f>>>26-g&67108863,g+=24,g>=26&&(g-=26,m++);return this._strip()};function a(h,c){var l=h.charCodeAt(c);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+h)}function d(h,c,l){var y=a(h,l);return l-1>=c&&(y|=a(h,l-1)<<4),y}n.prototype._parseHex=function(c,l,y){this.length=Math.ceil((c.length-l)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var m=0,f=0,g;if(y==="be")for(b=c.length-1;b>=l;b-=2)g=d(c,l,b)<<m,this.words[f]|=g&67108863,m>=18?(m-=18,f+=1,this.words[f]|=g>>>26):m+=8;else{var R=c.length-l;for(b=R%2===0?l+1:l;b<c.length;b+=2)g=d(c,l,b)<<m,this.words[f]|=g&67108863,m>=18?(m-=18,f+=1,this.words[f]|=g>>>26):m+=8}this._strip()};function p(h,c,l,y){for(var b=0,m=0,f=Math.min(h.length,l),g=c;g<f;g++){var R=h.charCodeAt(g)-48;b*=y,R>=49?m=R-49+10:R>=17?m=R-17+10:m=R,r(R>=0&&m<y,"Invalid character"),b+=m}return b}n.prototype._parseBase=function(c,l,y){this.words=[0],this.length=1;for(var b=0,m=1;m<=67108863;m*=l)b++;b--,m=m/l|0;for(var f=c.length-y,g=f%b,R=Math.min(f,f-g)+y,S=0,B=y;B<R;B+=b)S=p(c,B,B+b,l),this.imuln(m),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(g!==0){var z=1;for(S=p(c,B,c.length,l),B=0;B<g;B++)z*=l;this.imuln(z),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},n.prototype.copy=function(c){c.words=new Array(this.length);for(var l=0;l<this.length;l++)c.words[l]=this.words[l];c.length=this.length,c.negative=this.negative,c.red=this.red};function v(h,c){h.words=c.words,h.length=c.length,h.negative=c.negative,h.red=c.red}if(n.prototype._move=function(c){v(c,this)},n.prototype.clone=function(){var c=new n(null);return this.copy(c),c},n.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=w}catch{n.prototype.inspect=w}else n.prototype.inspect=w;function w(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(c,l){c=c||10,l=l|0||1;var y;if(c===16||c==="hex"){y="";for(var b=0,m=0,f=0;f<this.length;f++){var g=this.words[f],R=((g<<b|m)&16777215).toString(16);m=g>>>24-b&16777215,b+=2,b>=26&&(b-=26,f--),m!==0||f!==this.length-1?y=x[6-R.length]+R+y:y=R+y}for(m!==0&&(y=m.toString(16)+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var S=E[c],B=T[c];y="";var z=this.clone();for(z.negative=0;!z.isZero();){var G=z.modrn(B).toString(c);z=z.idivn(B),z.isZero()?y=G+y:y=x[S-G.length]+G+y}for(this.isZero()&&(y="0"+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},n.prototype.toJSON=function(){return this.toString(16,2)},o&&(n.prototype.toBuffer=function(c,l){return this.toArrayLike(o,c,l)}),n.prototype.toArray=function(c,l){return this.toArrayLike(Array,c,l)};var A=function(c,l){return c.allocUnsafe?c.allocUnsafe(l):new c(l)};n.prototype.toArrayLike=function(c,l,y){this._strip();var b=this.byteLength(),m=y||Math.max(1,b);r(b<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0");var f=A(c,m),g=l==="le"?"LE":"BE";return this["_toArrayLike"+g](f,b),f},n.prototype._toArrayLikeLE=function(c,l){for(var y=0,b=0,m=0,f=0;m<this.length;m++){var g=this.words[m]<<f|b;c[y++]=g&255,y<c.length&&(c[y++]=g>>8&255),y<c.length&&(c[y++]=g>>16&255),f===6?(y<c.length&&(c[y++]=g>>24&255),b=0,f=0):(b=g>>>24,f+=2)}if(y<c.length)for(c[y++]=b;y<c.length;)c[y++]=0},n.prototype._toArrayLikeBE=function(c,l){for(var y=c.length-1,b=0,m=0,f=0;m<this.length;m++){var g=this.words[m]<<f|b;c[y--]=g&255,y>=0&&(c[y--]=g>>8&255),y>=0&&(c[y--]=g>>16&255),f===6?(y>=0&&(c[y--]=g>>24&255),b=0,f=0):(b=g>>>24,f+=2)}if(y>=0)for(c[y--]=b;y>=0;)c[y--]=0},Math.clz32?n.prototype._countBits=function(c){return 32-Math.clz32(c)}:n.prototype._countBits=function(c){var l=c,y=0;return l>=4096&&(y+=13,l>>>=13),l>=64&&(y+=7,l>>>=7),l>=8&&(y+=4,l>>>=4),l>=2&&(y+=2,l>>>=2),y+l},n.prototype._zeroBits=function(c){if(c===0)return 26;var l=c,y=0;return l&8191||(y+=13,l>>>=13),l&127||(y+=7,l>>>=7),l&15||(y+=4,l>>>=4),l&3||(y+=2,l>>>=2),l&1||y++,y},n.prototype.bitLength=function(){var c=this.words[this.length-1],l=this._countBits(c);return(this.length-1)*26+l};function k(h){for(var c=new Array(h.bitLength()),l=0;l<c.length;l++){var y=l/26|0,b=l%26;c[l]=h.words[y]>>>b&1}return c}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,l=0;l<this.length;l++){var y=this._zeroBits(this.words[l]);if(c+=y,y!==26)break}return c},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},n.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var l=0;l<c.length;l++)this.words[l]=this.words[l]|c.words[l];return this._strip()},n.prototype.ior=function(c){return r((this.negative|c.negative)===0),this.iuor(c)},n.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},n.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},n.prototype.iuand=function(c){var l;this.length>c.length?l=c:l=this;for(var y=0;y<l.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=l.length,this._strip()},n.prototype.iand=function(c){return r((this.negative|c.negative)===0),this.iuand(c)},n.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},n.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},n.prototype.iuxor=function(c){var l,y;this.length>c.length?(l=this,y=c):(l=c,y=this);for(var b=0;b<y.length;b++)this.words[b]=l.words[b]^y.words[b];if(this!==l)for(;b<l.length;b++)this.words[b]=l.words[b];return this.length=l.length,this._strip()},n.prototype.ixor=function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},n.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},n.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},n.prototype.inotn=function(c){r(typeof c=="number"&&c>=0);var l=Math.ceil(c/26)|0,y=c%26;this._expand(l),y>0&&l--;for(var b=0;b<l;b++)this.words[b]=~this.words[b]&67108863;return y>0&&(this.words[b]=~this.words[b]&67108863>>26-y),this._strip()},n.prototype.notn=function(c){return this.clone().inotn(c)},n.prototype.setn=function(c,l){r(typeof c=="number"&&c>=0);var y=c/26|0,b=c%26;return this._expand(y+1),l?this.words[y]=this.words[y]|1<<b:this.words[y]=this.words[y]&~(1<<b),this._strip()},n.prototype.iadd=function(c){var l;if(this.negative!==0&&c.negative===0)return this.negative=0,l=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,l=this.isub(c),c.negative=1,l._normSign();var y,b;this.length>c.length?(y=this,b=c):(y=c,b=this);for(var m=0,f=0;f<b.length;f++)l=(y.words[f]|0)+(b.words[f]|0)+m,this.words[f]=l&67108863,m=l>>>26;for(;m!==0&&f<y.length;f++)l=(y.words[f]|0)+m,this.words[f]=l&67108863,m=l>>>26;if(this.length=y.length,m!==0)this.words[this.length]=m,this.length++;else if(y!==this)for(;f<y.length;f++)this.words[f]=y.words[f];return this},n.prototype.add=function(c){var l;return c.negative!==0&&this.negative===0?(c.negative=0,l=this.sub(c),c.negative^=1,l):c.negative===0&&this.negative!==0?(this.negative=0,l=c.sub(this),this.negative=1,l):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},n.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var l=this.iadd(c);return c.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,m;y>0?(b=this,m=c):(b=c,m=this);for(var f=0,g=0;g<m.length;g++)l=(b.words[g]|0)-(m.words[g]|0)+f,f=l>>26,this.words[g]=l&67108863;for(;f!==0&&g<b.length;g++)l=(b.words[g]|0)+f,f=l>>26,this.words[g]=l&67108863;if(f===0&&g<b.length&&b!==this)for(;g<b.length;g++)this.words[g]=b.words[g];return this.length=Math.max(this.length,g),b!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(c){return this.clone().isub(c)};function D(h,c,l){l.negative=c.negative^h.negative;var y=h.length+c.length|0;l.length=y,y=y-1|0;var b=h.words[0]|0,m=c.words[0]|0,f=b*m,g=f&67108863,R=f/67108864|0;l.words[0]=g;for(var S=1;S<y;S++){for(var B=R>>>26,z=R&67108863,G=Math.min(S,c.length-1),V=Math.max(0,S-h.length+1);V<=G;V++){var J=S-V|0;b=h.words[J]|0,m=c.words[V]|0,f=b*m+z,B+=f/67108864|0,z=f&67108863}l.words[S]=z|0,R=B|0}return R!==0?l.words[S]=R|0:l.length--,l._strip()}var I=function(c,l,y){var b=c.words,m=l.words,f=y.words,g=0,R,S,B,z=b[0]|0,G=z&8191,V=z>>>13,J=b[1]|0,Z=J&8191,Y=J>>>13,Fe=b[2]|0,Q=Fe&8191,X=Fe>>>13,it=b[3]|0,te=it&8191,re=it>>>13,Ht=b[4]|0,ie=Ht&8191,ne=Ht>>>13,Cr=b[5]|0,se=Cr&8191,oe=Cr>>>13,vi=b[6]|0,ae=vi&8191,fe=vi>>>13,bi=b[7]|0,ue=bi&8191,ce=bi>>>13,wi=b[8]|0,le=wi&8191,de=wi>>>13,_i=b[9]|0,he=_i&8191,pe=_i>>>13,Ne=m[0]|0,me=Ne&8191,ye=Ne>>>13,xi=m[1]|0,ge=xi&8191,ve=xi>>>13,Mi=m[2]|0,be=Mi&8191,we=Mi>>>13,Ei=m[3]|0,_e=Ei&8191,xe=Ei>>>13,Si=m[4]|0,Me=Si&8191,Ee=Si>>>13,Ai=m[5]|0,Se=Ai&8191,Ae=Ai>>>13,Ti=m[6]|0,Te=Ti&8191,Pe=Ti>>>13,Pi=m[7]|0,Re=Pi&8191,ke=Pi>>>13,Ri=m[8]|0,Ie=Ri&8191,De=Ri>>>13,Rr=m[9]|0,ht=Rr&8191,pt=Rr>>>13;y.negative=c.negative^l.negative,y.length=19,R=Math.imul(G,me),S=Math.imul(G,ye),S=S+Math.imul(V,me)|0,B=Math.imul(V,ye);var ur=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(ur>>>26)|0,ur&=67108863,R=Math.imul(Z,me),S=Math.imul(Z,ye),S=S+Math.imul(Y,me)|0,B=Math.imul(Y,ye),R=R+Math.imul(G,ge)|0,S=S+Math.imul(G,ve)|0,S=S+Math.imul(V,ge)|0,B=B+Math.imul(V,ve)|0;var cr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(cr>>>26)|0,cr&=67108863,R=Math.imul(Q,me),S=Math.imul(Q,ye),S=S+Math.imul(X,me)|0,B=Math.imul(X,ye),R=R+Math.imul(Z,ge)|0,S=S+Math.imul(Z,ve)|0,S=S+Math.imul(Y,ge)|0,B=B+Math.imul(Y,ve)|0,R=R+Math.imul(G,be)|0,S=S+Math.imul(G,we)|0,S=S+Math.imul(V,be)|0,B=B+Math.imul(V,we)|0;var lr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863,R=Math.imul(te,me),S=Math.imul(te,ye),S=S+Math.imul(re,me)|0,B=Math.imul(re,ye),R=R+Math.imul(Q,ge)|0,S=S+Math.imul(Q,ve)|0,S=S+Math.imul(X,ge)|0,B=B+Math.imul(X,ve)|0,R=R+Math.imul(Z,be)|0,S=S+Math.imul(Z,we)|0,S=S+Math.imul(Y,be)|0,B=B+Math.imul(Y,we)|0,R=R+Math.imul(G,_e)|0,S=S+Math.imul(G,xe)|0,S=S+Math.imul(V,_e)|0,B=B+Math.imul(V,xe)|0;var dr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(dr>>>26)|0,dr&=67108863,R=Math.imul(ie,me),S=Math.imul(ie,ye),S=S+Math.imul(ne,me)|0,B=Math.imul(ne,ye),R=R+Math.imul(te,ge)|0,S=S+Math.imul(te,ve)|0,S=S+Math.imul(re,ge)|0,B=B+Math.imul(re,ve)|0,R=R+Math.imul(Q,be)|0,S=S+Math.imul(Q,we)|0,S=S+Math.imul(X,be)|0,B=B+Math.imul(X,we)|0,R=R+Math.imul(Z,_e)|0,S=S+Math.imul(Z,xe)|0,S=S+Math.imul(Y,_e)|0,B=B+Math.imul(Y,xe)|0,R=R+Math.imul(G,Me)|0,S=S+Math.imul(G,Ee)|0,S=S+Math.imul(V,Me)|0,B=B+Math.imul(V,Ee)|0;var hr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(hr>>>26)|0,hr&=67108863,R=Math.imul(se,me),S=Math.imul(se,ye),S=S+Math.imul(oe,me)|0,B=Math.imul(oe,ye),R=R+Math.imul(ie,ge)|0,S=S+Math.imul(ie,ve)|0,S=S+Math.imul(ne,ge)|0,B=B+Math.imul(ne,ve)|0,R=R+Math.imul(te,be)|0,S=S+Math.imul(te,we)|0,S=S+Math.imul(re,be)|0,B=B+Math.imul(re,we)|0,R=R+Math.imul(Q,_e)|0,S=S+Math.imul(Q,xe)|0,S=S+Math.imul(X,_e)|0,B=B+Math.imul(X,xe)|0,R=R+Math.imul(Z,Me)|0,S=S+Math.imul(Z,Ee)|0,S=S+Math.imul(Y,Me)|0,B=B+Math.imul(Y,Ee)|0,R=R+Math.imul(G,Se)|0,S=S+Math.imul(G,Ae)|0,S=S+Math.imul(V,Se)|0,B=B+Math.imul(V,Ae)|0;var pr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(pr>>>26)|0,pr&=67108863,R=Math.imul(ae,me),S=Math.imul(ae,ye),S=S+Math.imul(fe,me)|0,B=Math.imul(fe,ye),R=R+Math.imul(se,ge)|0,S=S+Math.imul(se,ve)|0,S=S+Math.imul(oe,ge)|0,B=B+Math.imul(oe,ve)|0,R=R+Math.imul(ie,be)|0,S=S+Math.imul(ie,we)|0,S=S+Math.imul(ne,be)|0,B=B+Math.imul(ne,we)|0,R=R+Math.imul(te,_e)|0,S=S+Math.imul(te,xe)|0,S=S+Math.imul(re,_e)|0,B=B+Math.imul(re,xe)|0,R=R+Math.imul(Q,Me)|0,S=S+Math.imul(Q,Ee)|0,S=S+Math.imul(X,Me)|0,B=B+Math.imul(X,Ee)|0,R=R+Math.imul(Z,Se)|0,S=S+Math.imul(Z,Ae)|0,S=S+Math.imul(Y,Se)|0,B=B+Math.imul(Y,Ae)|0,R=R+Math.imul(G,Te)|0,S=S+Math.imul(G,Pe)|0,S=S+Math.imul(V,Te)|0,B=B+Math.imul(V,Pe)|0;var mr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(mr>>>26)|0,mr&=67108863,R=Math.imul(ue,me),S=Math.imul(ue,ye),S=S+Math.imul(ce,me)|0,B=Math.imul(ce,ye),R=R+Math.imul(ae,ge)|0,S=S+Math.imul(ae,ve)|0,S=S+Math.imul(fe,ge)|0,B=B+Math.imul(fe,ve)|0,R=R+Math.imul(se,be)|0,S=S+Math.imul(se,we)|0,S=S+Math.imul(oe,be)|0,B=B+Math.imul(oe,we)|0,R=R+Math.imul(ie,_e)|0,S=S+Math.imul(ie,xe)|0,S=S+Math.imul(ne,_e)|0,B=B+Math.imul(ne,xe)|0,R=R+Math.imul(te,Me)|0,S=S+Math.imul(te,Ee)|0,S=S+Math.imul(re,Me)|0,B=B+Math.imul(re,Ee)|0,R=R+Math.imul(Q,Se)|0,S=S+Math.imul(Q,Ae)|0,S=S+Math.imul(X,Se)|0,B=B+Math.imul(X,Ae)|0,R=R+Math.imul(Z,Te)|0,S=S+Math.imul(Z,Pe)|0,S=S+Math.imul(Y,Te)|0,B=B+Math.imul(Y,Pe)|0,R=R+Math.imul(G,Re)|0,S=S+Math.imul(G,ke)|0,S=S+Math.imul(V,Re)|0,B=B+Math.imul(V,ke)|0;var yr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(yr>>>26)|0,yr&=67108863,R=Math.imul(le,me),S=Math.imul(le,ye),S=S+Math.imul(de,me)|0,B=Math.imul(de,ye),R=R+Math.imul(ue,ge)|0,S=S+Math.imul(ue,ve)|0,S=S+Math.imul(ce,ge)|0,B=B+Math.imul(ce,ve)|0,R=R+Math.imul(ae,be)|0,S=S+Math.imul(ae,we)|0,S=S+Math.imul(fe,be)|0,B=B+Math.imul(fe,we)|0,R=R+Math.imul(se,_e)|0,S=S+Math.imul(se,xe)|0,S=S+Math.imul(oe,_e)|0,B=B+Math.imul(oe,xe)|0,R=R+Math.imul(ie,Me)|0,S=S+Math.imul(ie,Ee)|0,S=S+Math.imul(ne,Me)|0,B=B+Math.imul(ne,Ee)|0,R=R+Math.imul(te,Se)|0,S=S+Math.imul(te,Ae)|0,S=S+Math.imul(re,Se)|0,B=B+Math.imul(re,Ae)|0,R=R+Math.imul(Q,Te)|0,S=S+Math.imul(Q,Pe)|0,S=S+Math.imul(X,Te)|0,B=B+Math.imul(X,Pe)|0,R=R+Math.imul(Z,Re)|0,S=S+Math.imul(Z,ke)|0,S=S+Math.imul(Y,Re)|0,B=B+Math.imul(Y,ke)|0,R=R+Math.imul(G,Ie)|0,S=S+Math.imul(G,De)|0,S=S+Math.imul(V,Ie)|0,B=B+Math.imul(V,De)|0;var gr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(gr>>>26)|0,gr&=67108863,R=Math.imul(he,me),S=Math.imul(he,ye),S=S+Math.imul(pe,me)|0,B=Math.imul(pe,ye),R=R+Math.imul(le,ge)|0,S=S+Math.imul(le,ve)|0,S=S+Math.imul(de,ge)|0,B=B+Math.imul(de,ve)|0,R=R+Math.imul(ue,be)|0,S=S+Math.imul(ue,we)|0,S=S+Math.imul(ce,be)|0,B=B+Math.imul(ce,we)|0,R=R+Math.imul(ae,_e)|0,S=S+Math.imul(ae,xe)|0,S=S+Math.imul(fe,_e)|0,B=B+Math.imul(fe,xe)|0,R=R+Math.imul(se,Me)|0,S=S+Math.imul(se,Ee)|0,S=S+Math.imul(oe,Me)|0,B=B+Math.imul(oe,Ee)|0,R=R+Math.imul(ie,Se)|0,S=S+Math.imul(ie,Ae)|0,S=S+Math.imul(ne,Se)|0,B=B+Math.imul(ne,Ae)|0,R=R+Math.imul(te,Te)|0,S=S+Math.imul(te,Pe)|0,S=S+Math.imul(re,Te)|0,B=B+Math.imul(re,Pe)|0,R=R+Math.imul(Q,Re)|0,S=S+Math.imul(Q,ke)|0,S=S+Math.imul(X,Re)|0,B=B+Math.imul(X,ke)|0,R=R+Math.imul(Z,Ie)|0,S=S+Math.imul(Z,De)|0,S=S+Math.imul(Y,Ie)|0,B=B+Math.imul(Y,De)|0,R=R+Math.imul(G,ht)|0,S=S+Math.imul(G,pt)|0,S=S+Math.imul(V,ht)|0,B=B+Math.imul(V,pt)|0;var vr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(vr>>>26)|0,vr&=67108863,R=Math.imul(he,ge),S=Math.imul(he,ve),S=S+Math.imul(pe,ge)|0,B=Math.imul(pe,ve),R=R+Math.imul(le,be)|0,S=S+Math.imul(le,we)|0,S=S+Math.imul(de,be)|0,B=B+Math.imul(de,we)|0,R=R+Math.imul(ue,_e)|0,S=S+Math.imul(ue,xe)|0,S=S+Math.imul(ce,_e)|0,B=B+Math.imul(ce,xe)|0,R=R+Math.imul(ae,Me)|0,S=S+Math.imul(ae,Ee)|0,S=S+Math.imul(fe,Me)|0,B=B+Math.imul(fe,Ee)|0,R=R+Math.imul(se,Se)|0,S=S+Math.imul(se,Ae)|0,S=S+Math.imul(oe,Se)|0,B=B+Math.imul(oe,Ae)|0,R=R+Math.imul(ie,Te)|0,S=S+Math.imul(ie,Pe)|0,S=S+Math.imul(ne,Te)|0,B=B+Math.imul(ne,Pe)|0,R=R+Math.imul(te,Re)|0,S=S+Math.imul(te,ke)|0,S=S+Math.imul(re,Re)|0,B=B+Math.imul(re,ke)|0,R=R+Math.imul(Q,Ie)|0,S=S+Math.imul(Q,De)|0,S=S+Math.imul(X,Ie)|0,B=B+Math.imul(X,De)|0,R=R+Math.imul(Z,ht)|0,S=S+Math.imul(Z,pt)|0,S=S+Math.imul(Y,ht)|0,B=B+Math.imul(Y,pt)|0;var br=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(br>>>26)|0,br&=67108863,R=Math.imul(he,be),S=Math.imul(he,we),S=S+Math.imul(pe,be)|0,B=Math.imul(pe,we),R=R+Math.imul(le,_e)|0,S=S+Math.imul(le,xe)|0,S=S+Math.imul(de,_e)|0,B=B+Math.imul(de,xe)|0,R=R+Math.imul(ue,Me)|0,S=S+Math.imul(ue,Ee)|0,S=S+Math.imul(ce,Me)|0,B=B+Math.imul(ce,Ee)|0,R=R+Math.imul(ae,Se)|0,S=S+Math.imul(ae,Ae)|0,S=S+Math.imul(fe,Se)|0,B=B+Math.imul(fe,Ae)|0,R=R+Math.imul(se,Te)|0,S=S+Math.imul(se,Pe)|0,S=S+Math.imul(oe,Te)|0,B=B+Math.imul(oe,Pe)|0,R=R+Math.imul(ie,Re)|0,S=S+Math.imul(ie,ke)|0,S=S+Math.imul(ne,Re)|0,B=B+Math.imul(ne,ke)|0,R=R+Math.imul(te,Ie)|0,S=S+Math.imul(te,De)|0,S=S+Math.imul(re,Ie)|0,B=B+Math.imul(re,De)|0,R=R+Math.imul(Q,ht)|0,S=S+Math.imul(Q,pt)|0,S=S+Math.imul(X,ht)|0,B=B+Math.imul(X,pt)|0;var wr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,R=Math.imul(he,_e),S=Math.imul(he,xe),S=S+Math.imul(pe,_e)|0,B=Math.imul(pe,xe),R=R+Math.imul(le,Me)|0,S=S+Math.imul(le,Ee)|0,S=S+Math.imul(de,Me)|0,B=B+Math.imul(de,Ee)|0,R=R+Math.imul(ue,Se)|0,S=S+Math.imul(ue,Ae)|0,S=S+Math.imul(ce,Se)|0,B=B+Math.imul(ce,Ae)|0,R=R+Math.imul(ae,Te)|0,S=S+Math.imul(ae,Pe)|0,S=S+Math.imul(fe,Te)|0,B=B+Math.imul(fe,Pe)|0,R=R+Math.imul(se,Re)|0,S=S+Math.imul(se,ke)|0,S=S+Math.imul(oe,Re)|0,B=B+Math.imul(oe,ke)|0,R=R+Math.imul(ie,Ie)|0,S=S+Math.imul(ie,De)|0,S=S+Math.imul(ne,Ie)|0,B=B+Math.imul(ne,De)|0,R=R+Math.imul(te,ht)|0,S=S+Math.imul(te,pt)|0,S=S+Math.imul(re,ht)|0,B=B+Math.imul(re,pt)|0;var _r=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(_r>>>26)|0,_r&=67108863,R=Math.imul(he,Me),S=Math.imul(he,Ee),S=S+Math.imul(pe,Me)|0,B=Math.imul(pe,Ee),R=R+Math.imul(le,Se)|0,S=S+Math.imul(le,Ae)|0,S=S+Math.imul(de,Se)|0,B=B+Math.imul(de,Ae)|0,R=R+Math.imul(ue,Te)|0,S=S+Math.imul(ue,Pe)|0,S=S+Math.imul(ce,Te)|0,B=B+Math.imul(ce,Pe)|0,R=R+Math.imul(ae,Re)|0,S=S+Math.imul(ae,ke)|0,S=S+Math.imul(fe,Re)|0,B=B+Math.imul(fe,ke)|0,R=R+Math.imul(se,Ie)|0,S=S+Math.imul(se,De)|0,S=S+Math.imul(oe,Ie)|0,B=B+Math.imul(oe,De)|0,R=R+Math.imul(ie,ht)|0,S=S+Math.imul(ie,pt)|0,S=S+Math.imul(ne,ht)|0,B=B+Math.imul(ne,pt)|0;var xr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(xr>>>26)|0,xr&=67108863,R=Math.imul(he,Se),S=Math.imul(he,Ae),S=S+Math.imul(pe,Se)|0,B=Math.imul(pe,Ae),R=R+Math.imul(le,Te)|0,S=S+Math.imul(le,Pe)|0,S=S+Math.imul(de,Te)|0,B=B+Math.imul(de,Pe)|0,R=R+Math.imul(ue,Re)|0,S=S+Math.imul(ue,ke)|0,S=S+Math.imul(ce,Re)|0,B=B+Math.imul(ce,ke)|0,R=R+Math.imul(ae,Ie)|0,S=S+Math.imul(ae,De)|0,S=S+Math.imul(fe,Ie)|0,B=B+Math.imul(fe,De)|0,R=R+Math.imul(se,ht)|0,S=S+Math.imul(se,pt)|0,S=S+Math.imul(oe,ht)|0,B=B+Math.imul(oe,pt)|0;var Mr=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,R=Math.imul(he,Te),S=Math.imul(he,Pe),S=S+Math.imul(pe,Te)|0,B=Math.imul(pe,Pe),R=R+Math.imul(le,Re)|0,S=S+Math.imul(le,ke)|0,S=S+Math.imul(de,Re)|0,B=B+Math.imul(de,ke)|0,R=R+Math.imul(ue,Ie)|0,S=S+Math.imul(ue,De)|0,S=S+Math.imul(ce,Ie)|0,B=B+Math.imul(ce,De)|0,R=R+Math.imul(ae,ht)|0,S=S+Math.imul(ae,pt)|0,S=S+Math.imul(fe,ht)|0,B=B+Math.imul(fe,pt)|0;var Er=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(Er>>>26)|0,Er&=67108863,R=Math.imul(he,Re),S=Math.imul(he,ke),S=S+Math.imul(pe,Re)|0,B=Math.imul(pe,ke),R=R+Math.imul(le,Ie)|0,S=S+Math.imul(le,De)|0,S=S+Math.imul(de,Ie)|0,B=B+Math.imul(de,De)|0,R=R+Math.imul(ue,ht)|0,S=S+Math.imul(ue,pt)|0,S=S+Math.imul(ce,ht)|0,B=B+Math.imul(ce,pt)|0;var D3=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(D3>>>26)|0,D3&=67108863,R=Math.imul(he,Ie),S=Math.imul(he,De),S=S+Math.imul(pe,Ie)|0,B=Math.imul(pe,De),R=R+Math.imul(le,ht)|0,S=S+Math.imul(le,pt)|0,S=S+Math.imul(de,ht)|0,B=B+Math.imul(de,pt)|0;var B3=(g+R|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(B3>>>26)|0,B3&=67108863,R=Math.imul(he,ht),S=Math.imul(he,pt),S=S+Math.imul(pe,ht)|0,B=Math.imul(pe,pt);var O3=(g+R|0)+((S&8191)<<13)|0;return g=(B+(S>>>13)|0)+(O3>>>26)|0,O3&=67108863,f[0]=ur,f[1]=cr,f[2]=lr,f[3]=dr,f[4]=hr,f[5]=pr,f[6]=mr,f[7]=yr,f[8]=gr,f[9]=vr,f[10]=br,f[11]=wr,f[12]=_r,f[13]=xr,f[14]=Mr,f[15]=Er,f[16]=D3,f[17]=B3,f[18]=O3,g!==0&&(f[19]=g,y.length++),y};Math.imul||(I=D);function C(h,c,l){l.negative=c.negative^h.negative,l.length=h.length+c.length;for(var y=0,b=0,m=0;m<l.length-1;m++){var f=b;b=0;for(var g=y&67108863,R=Math.min(m,c.length-1),S=Math.max(0,m-h.length+1);S<=R;S++){var B=m-S,z=h.words[B]|0,G=c.words[S]|0,V=z*G,J=V&67108863;f=f+(V/67108864|0)|0,J=J+g|0,g=J&67108863,f=f+(J>>>26)|0,b+=f>>>26,f&=67108863}l.words[m]=g,y=f,f=b}return y!==0?l.words[m]=y:l.length--,l._strip()}function q(h,c,l){return C(h,c,l)}n.prototype.mulTo=function(c,l){var y,b=this.length+c.length;return this.length===10&&c.length===10?y=I(this,c,l):b<63?y=D(this,c,l):b<1024?y=C(this,c,l):y=q(this,c,l),y};function U(h,c){this.x=h,this.y=c}U.prototype.makeRBT=function(c){for(var l=new Array(c),y=n.prototype._countBits(c)-1,b=0;b<c;b++)l[b]=this.revBin(b,y,c);return l},U.prototype.revBin=function(c,l,y){if(c===0||c===y-1)return c;for(var b=0,m=0;m<l;m++)b|=(c&1)<<l-m-1,c>>=1;return b},U.prototype.permute=function(c,l,y,b,m,f){for(var g=0;g<f;g++)b[g]=l[c[g]],m[g]=y[c[g]]},U.prototype.transform=function(c,l,y,b,m,f){this.permute(f,c,l,y,b,m);for(var g=1;g<m;g<<=1)for(var R=g<<1,S=Math.cos(2*Math.PI/R),B=Math.sin(2*Math.PI/R),z=0;z<m;z+=R)for(var G=S,V=B,J=0;J<g;J++){var Z=y[z+J],Y=b[z+J],Fe=y[z+J+g],Q=b[z+J+g],X=G*Fe-V*Q;Q=G*Q+V*Fe,Fe=X,y[z+J]=Z+Fe,b[z+J]=Y+Q,y[z+J+g]=Z-Fe,b[z+J+g]=Y-Q,J!==R&&(X=S*G-B*V,V=S*V+B*G,G=X)}},U.prototype.guessLen13b=function(c,l){var y=Math.max(l,c)|1,b=y&1,m=0;for(y=y/2|0;y;y=y>>>1)m++;return 1<<m+1+b},U.prototype.conjugate=function(c,l,y){if(!(y<=1))for(var b=0;b<y/2;b++){var m=c[b];c[b]=c[y-b-1],c[y-b-1]=m,m=l[b],l[b]=-l[y-b-1],l[y-b-1]=-m}},U.prototype.normalize13b=function(c,l){for(var y=0,b=0;b<l/2;b++){var m=Math.round(c[2*b+1]/l)*8192+Math.round(c[2*b]/l)+y;c[b]=m&67108863,m<67108864?y=0:y=m/67108864|0}return c},U.prototype.convert13b=function(c,l,y,b){for(var m=0,f=0;f<l;f++)m=m+(c[f]|0),y[2*f]=m&8191,m=m>>>13,y[2*f+1]=m&8191,m=m>>>13;for(f=2*l;f<b;++f)y[f]=0;r(m===0),r((m&-8192)===0)},U.prototype.stub=function(c){for(var l=new Array(c),y=0;y<c;y++)l[y]=0;return l},U.prototype.mulp=function(c,l,y){var b=2*this.guessLen13b(c.length,l.length),m=this.makeRBT(b),f=this.stub(b),g=new Array(b),R=new Array(b),S=new Array(b),B=new Array(b),z=new Array(b),G=new Array(b),V=y.words;V.length=b,this.convert13b(c.words,c.length,g,b),this.convert13b(l.words,l.length,B,b),this.transform(g,f,R,S,b,m),this.transform(B,f,z,G,b,m);for(var J=0;J<b;J++){var Z=R[J]*z[J]-S[J]*G[J];S[J]=R[J]*G[J]+S[J]*z[J],R[J]=Z}return this.conjugate(R,S,b),this.transform(R,S,V,f,b,m),this.conjugate(V,f,b),this.normalize13b(V,b),y.negative=c.negative^l.negative,y.length=c.length+l.length,y._strip()},n.prototype.mul=function(c){var l=new n(null);return l.words=new Array(this.length+c.length),this.mulTo(c,l)},n.prototype.mulf=function(c){var l=new n(null);return l.words=new Array(this.length+c.length),q(this,c,l)},n.prototype.imul=function(c){return this.clone().mulTo(c,this)},n.prototype.imuln=function(c){var l=c<0;l&&(c=-c),r(typeof c=="number"),r(c<67108864);for(var y=0,b=0;b<this.length;b++){var m=(this.words[b]|0)*c,f=(m&67108863)+(y&67108863);y>>=26,y+=m/67108864|0,y+=f>>>26,this.words[b]=f&67108863}return y!==0&&(this.words[b]=y,this.length++),l?this.ineg():this},n.prototype.muln=function(c){return this.clone().imuln(c)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(c){var l=k(c);if(l.length===0)return new n(1);for(var y=this,b=0;b<l.length&&l[b]===0;b++,y=y.sqr());if(++b<l.length)for(var m=y.sqr();b<l.length;b++,m=m.sqr())l[b]!==0&&(y=y.mul(m));return y},n.prototype.iushln=function(c){r(typeof c=="number"&&c>=0);var l=c%26,y=(c-l)/26,b=67108863>>>26-l<<26-l,m;if(l!==0){var f=0;for(m=0;m<this.length;m++){var g=this.words[m]&b,R=(this.words[m]|0)-g<<l;this.words[m]=R|f,f=g>>>26-l}f&&(this.words[m]=f,this.length++)}if(y!==0){for(m=this.length-1;m>=0;m--)this.words[m+y]=this.words[m];for(m=0;m<y;m++)this.words[m]=0;this.length+=y}return this._strip()},n.prototype.ishln=function(c){return r(this.negative===0),this.iushln(c)},n.prototype.iushrn=function(c,l,y){r(typeof c=="number"&&c>=0);var b;l?b=(l-l%26)/26:b=0;var m=c%26,f=Math.min((c-m)/26,this.length),g=67108863^67108863>>>m<<m,R=y;if(b-=f,b=Math.max(0,b),R){for(var S=0;S<f;S++)R.words[S]=this.words[S];R.length=f}if(f!==0)if(this.length>f)for(this.length-=f,S=0;S<this.length;S++)this.words[S]=this.words[S+f];else this.words[0]=0,this.length=1;var B=0;for(S=this.length-1;S>=0&&(B!==0||S>=b);S--){var z=this.words[S]|0;this.words[S]=B<<26-m|z>>>m,B=z&g}return R&&B!==0&&(R.words[R.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(c,l,y){return r(this.negative===0),this.iushrn(c,l,y)},n.prototype.shln=function(c){return this.clone().ishln(c)},n.prototype.ushln=function(c){return this.clone().iushln(c)},n.prototype.shrn=function(c){return this.clone().ishrn(c)},n.prototype.ushrn=function(c){return this.clone().iushrn(c)},n.prototype.testn=function(c){r(typeof c=="number"&&c>=0);var l=c%26,y=(c-l)/26,b=1<<l;if(this.length<=y)return!1;var m=this.words[y];return!!(m&b)},n.prototype.imaskn=function(c){r(typeof c=="number"&&c>=0);var l=c%26,y=(c-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(l!==0&&y++,this.length=Math.min(y,this.length),l!==0){var b=67108863^67108863>>>l<<l;this.words[this.length-1]&=b}return this._strip()},n.prototype.maskn=function(c){return this.clone().imaskn(c)},n.prototype.iaddn=function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},n.prototype._iaddn=function(c){this.words[0]+=c;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},n.prototype.isubn=function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},n.prototype.addn=function(c){return this.clone().iaddn(c)},n.prototype.subn=function(c){return this.clone().isubn(c)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(c,l,y){var b=c.length+y,m;this._expand(b);var f,g=0;for(m=0;m<c.length;m++){f=(this.words[m+y]|0)+g;var R=(c.words[m]|0)*l;f-=R&67108863,g=(f>>26)-(R/67108864|0),this.words[m+y]=f&67108863}for(;m<this.length-y;m++)f=(this.words[m+y]|0)+g,g=f>>26,this.words[m+y]=f&67108863;if(g===0)return this._strip();for(r(g===-1),g=0,m=0;m<this.length;m++)f=-(this.words[m]|0)+g,g=f>>26,this.words[m]=f&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(c,l){var y=this.length-c.length,b=this.clone(),m=c,f=m.words[m.length-1]|0,g=this._countBits(f);y=26-g,y!==0&&(m=m.ushln(y),b.iushln(y),f=m.words[m.length-1]|0);var R=b.length-m.length,S;if(l!=="mod"){S=new n(null),S.length=R+1,S.words=new Array(S.length);for(var B=0;B<S.length;B++)S.words[B]=0}var z=b.clone()._ishlnsubmul(m,1,R);z.negative===0&&(b=z,S&&(S.words[R]=1));for(var G=R-1;G>=0;G--){var V=(b.words[m.length+G]|0)*67108864+(b.words[m.length+G-1]|0);for(V=Math.min(V/f|0,67108863),b._ishlnsubmul(m,V,G);b.negative!==0;)V--,b.negative=0,b._ishlnsubmul(m,1,G),b.isZero()||(b.negative^=1);S&&(S.words[G]=V)}return S&&S._strip(),b._strip(),l!=="div"&&y!==0&&b.iushrn(y),{div:S||null,mod:b}},n.prototype.divmod=function(c,l,y){if(r(!c.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var b,m,f;return this.negative!==0&&c.negative===0?(f=this.neg().divmod(c,l),l!=="mod"&&(b=f.div.neg()),l!=="div"&&(m=f.mod.neg(),y&&m.negative!==0&&m.iadd(c)),{div:b,mod:m}):this.negative===0&&c.negative!==0?(f=this.divmod(c.neg(),l),l!=="mod"&&(b=f.div.neg()),{div:b,mod:f.mod}):this.negative&c.negative?(f=this.neg().divmod(c.neg(),l),l!=="div"&&(m=f.mod.neg(),y&&m.negative!==0&&m.isub(c)),{div:f.div,mod:m}):c.length>this.length||this.cmp(c)<0?{div:new n(0),mod:this}:c.length===1?l==="div"?{div:this.divn(c.words[0]),mod:null}:l==="mod"?{div:null,mod:new n(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new n(this.modrn(c.words[0]))}:this._wordDiv(c,l)},n.prototype.div=function(c){return this.divmod(c,"div",!1).div},n.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},n.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},n.prototype.divRound=function(c){var l=this.divmod(c);if(l.mod.isZero())return l.div;var y=l.div.negative!==0?l.mod.isub(c):l.mod,b=c.ushrn(1),m=c.andln(1),f=y.cmp(b);return f<0||m===1&&f===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},n.prototype.modrn=function(c){var l=c<0;l&&(c=-c),r(c<=67108863);for(var y=(1<<26)%c,b=0,m=this.length-1;m>=0;m--)b=(y*b+(this.words[m]|0))%c;return l?-b:b},n.prototype.modn=function(c){return this.modrn(c)},n.prototype.idivn=function(c){var l=c<0;l&&(c=-c),r(c<=67108863);for(var y=0,b=this.length-1;b>=0;b--){var m=(this.words[b]|0)+y*67108864;this.words[b]=m/c|0,y=m%c}return this._strip(),l?this.ineg():this},n.prototype.divn=function(c){return this.clone().idivn(c)},n.prototype.egcd=function(c){r(c.negative===0),r(!c.isZero());var l=this,y=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var b=new n(1),m=new n(0),f=new n(0),g=new n(1),R=0;l.isEven()&&y.isEven();)l.iushrn(1),y.iushrn(1),++R;for(var S=y.clone(),B=l.clone();!l.isZero();){for(var z=0,G=1;!(l.words[0]&G)&&z<26;++z,G<<=1);if(z>0)for(l.iushrn(z);z-- >0;)(b.isOdd()||m.isOdd())&&(b.iadd(S),m.isub(B)),b.iushrn(1),m.iushrn(1);for(var V=0,J=1;!(y.words[0]&J)&&V<26;++V,J<<=1);if(V>0)for(y.iushrn(V);V-- >0;)(f.isOdd()||g.isOdd())&&(f.iadd(S),g.isub(B)),f.iushrn(1),g.iushrn(1);l.cmp(y)>=0?(l.isub(y),b.isub(f),m.isub(g)):(y.isub(l),f.isub(b),g.isub(m))}return{a:f,b:g,gcd:y.iushln(R)}},n.prototype._invmp=function(c){r(c.negative===0),r(!c.isZero());var l=this,y=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var b=new n(1),m=new n(0),f=y.clone();l.cmpn(1)>0&&y.cmpn(1)>0;){for(var g=0,R=1;!(l.words[0]&R)&&g<26;++g,R<<=1);if(g>0)for(l.iushrn(g);g-- >0;)b.isOdd()&&b.iadd(f),b.iushrn(1);for(var S=0,B=1;!(y.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(y.iushrn(S);S-- >0;)m.isOdd()&&m.iadd(f),m.iushrn(1);l.cmp(y)>=0?(l.isub(y),b.isub(m)):(y.isub(l),m.isub(b))}var z;return l.cmpn(1)===0?z=b:z=m,z.cmpn(0)<0&&z.iadd(c),z},n.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var l=this.clone(),y=c.clone();l.negative=0,y.negative=0;for(var b=0;l.isEven()&&y.isEven();b++)l.iushrn(1),y.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;y.isEven();)y.iushrn(1);var m=l.cmp(y);if(m<0){var f=l;l=y,y=f}else if(m===0||y.cmpn(1)===0)break;l.isub(y)}while(!0);return y.iushln(b)},n.prototype.invm=function(c){return this.egcd(c).a.umod(c)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(c){return this.words[0]&c},n.prototype.bincn=function(c){r(typeof c=="number");var l=c%26,y=(c-l)/26,b=1<<l;if(this.length<=y)return this._expand(y+1),this.words[y]|=b,this;for(var m=b,f=y;m!==0&&f<this.length;f++){var g=this.words[f]|0;g+=m,m=g>>>26,g&=67108863,this.words[f]=g}return m!==0&&(this.words[f]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(c){var l=c<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var y;if(this.length>1)y=1;else{l&&(c=-c),r(c<=67108863,"Number is too big");var b=this.words[0]|0;y=b===c?0:b<c?-1:1}return this.negative!==0?-y|0:y},n.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var l=this.ucmp(c);return this.negative!==0?-l|0:l},n.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var l=0,y=this.length-1;y>=0;y--){var b=this.words[y]|0,m=c.words[y]|0;if(b!==m){b<m?l=-1:b>m&&(l=1);break}}return l},n.prototype.gtn=function(c){return this.cmpn(c)===1},n.prototype.gt=function(c){return this.cmp(c)===1},n.prototype.gten=function(c){return this.cmpn(c)>=0},n.prototype.gte=function(c){return this.cmp(c)>=0},n.prototype.ltn=function(c){return this.cmpn(c)===-1},n.prototype.lt=function(c){return this.cmp(c)===-1},n.prototype.lten=function(c){return this.cmpn(c)<=0},n.prototype.lte=function(c){return this.cmp(c)<=0},n.prototype.eqn=function(c){return this.cmpn(c)===0},n.prototype.eq=function(c){return this.cmp(c)===0},n.red=function(c){return new s(c)},n.prototype.toRed=function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(c){return this.red=c,this},n.prototype.forceRed=function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},n.prototype.redAdd=function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},n.prototype.redIAdd=function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},n.prototype.redSub=function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},n.prototype.redISub=function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},n.prototype.redShl=function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},n.prototype.redMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},n.prototype.redIMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var $={k256:null,p224:null,p192:null,p25519:null};function W(h,c){this.name=h,this.p=new n(c,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var c=new n(null);return c.words=new Array(Math.ceil(this.n/13)),c},W.prototype.ireduce=function(c){var l=c,y;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),y=l.bitLength();while(y>this.n);var b=y<this.n?-1:l.ucmp(this.p);return b===0?(l.words[0]=0,l.length=1):b>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},W.prototype.split=function(c,l){c.iushrn(this.n,0,l)},W.prototype.imulK=function(c){return c.imul(this.k)};function F(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,W),F.prototype.split=function(c,l){for(var y=4194303,b=Math.min(c.length,9),m=0;m<b;m++)l.words[m]=c.words[m];if(l.length=b,c.length<=9){c.words[0]=0,c.length=1;return}var f=c.words[9];for(l.words[l.length++]=f&y,m=10;m<c.length;m++){var g=c.words[m]|0;c.words[m-10]=(g&y)<<4|f>>>22,f=g}f>>>=22,c.words[m-10]=f,f===0&&c.length>10?c.length-=10:c.length-=9},F.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var l=0,y=0;y<c.length;y++){var b=c.words[y]|0;l+=b*977,c.words[y]=l&67108863,l=b*64+(l/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function L(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(L,W);function H(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(H,W);function _(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(_,W),_.prototype.imulK=function(c){for(var l=0,y=0;y<c.length;y++){var b=(c.words[y]|0)*19+l,m=b&67108863;b>>>=26,c.words[y]=m,l=b}return l!==0&&(c.words[c.length++]=l),c},n._prime=function(c){if($[c])return $[c];var l;if(c==="k256")l=new F;else if(c==="p224")l=new L;else if(c==="p192")l=new H;else if(c==="p25519")l=new _;else throw new Error("Unknown prime "+c);return $[c]=l,l};function s(h){if(typeof h=="string"){var c=n._prime(h);this.m=c.p,this.prime=c}else r(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}s.prototype._verify1=function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},s.prototype._verify2=function(c,l){r((c.negative|l.negative)===0,"red works only with positives"),r(c.red&&c.red===l.red,"red works only with red numbers")},s.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(v(c,c.umod(this.m)._forceRed(this)),c)},s.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},s.prototype.add=function(c,l){this._verify2(c,l);var y=c.add(l);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},s.prototype.iadd=function(c,l){this._verify2(c,l);var y=c.iadd(l);return y.cmp(this.m)>=0&&y.isub(this.m),y},s.prototype.sub=function(c,l){this._verify2(c,l);var y=c.sub(l);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},s.prototype.isub=function(c,l){this._verify2(c,l);var y=c.isub(l);return y.cmpn(0)<0&&y.iadd(this.m),y},s.prototype.shl=function(c,l){return this._verify1(c),this.imod(c.ushln(l))},s.prototype.imul=function(c,l){return this._verify2(c,l),this.imod(c.imul(l))},s.prototype.mul=function(c,l){return this._verify2(c,l),this.imod(c.mul(l))},s.prototype.isqr=function(c){return this.imul(c,c.clone())},s.prototype.sqr=function(c){return this.mul(c,c)},s.prototype.sqrt=function(c){if(c.isZero())return c.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var y=this.m.add(new n(1)).iushrn(2);return this.pow(c,y)}for(var b=this.m.subn(1),m=0;!b.isZero()&&b.andln(1)===0;)m++,b.iushrn(1);r(!b.isZero());var f=new n(1).toRed(this),g=f.redNeg(),R=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new n(2*S*S).toRed(this);this.pow(S,R).cmp(g)!==0;)S.redIAdd(g);for(var B=this.pow(S,b),z=this.pow(c,b.addn(1).iushrn(1)),G=this.pow(c,b),V=m;G.cmp(f)!==0;){for(var J=G,Z=0;J.cmp(f)!==0;Z++)J=J.redSqr();r(Z<V);var Y=this.pow(B,new n(1).iushln(V-Z-1));z=z.redMul(Y),B=Y.redSqr(),G=G.redMul(B),V=Z}return z},s.prototype.invm=function(c){var l=c._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},s.prototype.pow=function(c,l){if(l.isZero())return new n(1).toRed(this);if(l.cmpn(1)===0)return c.clone();var y=4,b=new Array(1<<y);b[0]=new n(1).toRed(this),b[1]=c;for(var m=2;m<b.length;m++)b[m]=this.mul(b[m-1],c);var f=b[0],g=0,R=0,S=l.bitLength()%26;for(S===0&&(S=26),m=l.length-1;m>=0;m--){for(var B=l.words[m],z=S-1;z>=0;z--){var G=B>>z&1;if(f!==b[0]&&(f=this.sqr(f)),G===0&&g===0){R=0;continue}g<<=1,g|=G,R++,!(R!==y&&(m!==0||z!==0))&&(f=this.mul(f,b[g]),R=0,g=0)}S=26}return f},s.prototype.convertTo=function(c){var l=c.umod(this.m);return l===c?l.clone():l},s.prototype.convertFrom=function(c){var l=c.clone();return l.red=null,l},n.mont=function(c){return new u(c)};function u(h){s.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(u,s),u.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},u.prototype.convertFrom=function(c){var l=this.imod(c.mul(this.rinv));return l.red=null,l},u.prototype.imul=function(c,l){if(c.isZero()||l.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(l),b=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(b).iushrn(this.shift),f=m;return m.cmp(this.m)>=0?f=m.isub(this.m):m.cmpn(0)<0&&(f=m.iadd(this.m)),f._forceRed(this)},u.prototype.mul=function(c,l){if(c.isZero()||l.isZero())return new n(0)._forceRed(this);var y=c.mul(l),b=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(b).iushrn(this.shift),f=m;return m.cmp(this.m)>=0?f=m.isub(this.m):m.cmpn(0)<0&&(f=m.iadd(this.m)),f._forceRed(this)},u.prototype.invm=function(c){var l=this.imod(c._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof sS>"u"||sS,PU)});var t2=K((_Ie,IU)=>{M();var W0=e2(),mhe=Cl();function yhe(t){var e=RU(t),r=e.toRed(W0.mont(t.modulus)).redPow(new W0(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function RU(t){var e=t.modulus.byteLength(),r;do r=new W0(mhe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function kU(t,e){var r=yhe(e),i=e.modulus.byteLength(),n=new W0(t).mul(r.blinder).umod(e.modulus),o=n.toRed(W0.mont(e.prime1)),a=n.toRed(W0.mont(e.prime2)),d=e.coefficient,p=e.prime1,v=e.prime2,w=o.redPow(e.exponent1).fromRed(),x=a.redPow(e.exponent2).fromRed(),E=w.isub(x).imul(d).umod(p).imul(v);return x.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(N.Buffer,"be",i)}kU.getr=RU;IU.exports=kU});var DU=K((MIe,ghe)=>{ghe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Za=K((BU,aS)=>{M();(function(t,e){"use strict";function r(_,s){if(!_)throw new Error(s||"Assertion failed")}function i(_,s){_.super_=s;var u=function(){};u.prototype=s.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,s,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(_||0,s||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ut().Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,u){return s.cmp(u)>0?s:u},n.min=function(s,u){return s.cmp(u)<0?s:u},n.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var c=0;s[0]==="-"&&(c++,this.negative=1),c<s.length&&(u===16?this._parseHex(s,c,h):(this._parseBase(s,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,y,b=0;if(h==="be")for(c=s.length-1,l=0;c>=0;c-=3)y=s[c]|s[c-1]<<8|s[c-2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(h==="le")for(c=0,l=0;c<s.length;c+=3)y=s[c]|s[c+1]<<8|s[c+2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function a(_,s){var u=_.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,s,u){var h=a(_,u);return u-1>=s&&(h|=a(_,u-1)<<4),h}n.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,y=0,b;if(h==="be")for(c=s.length-1;c>=u;c-=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8;else{var m=s.length-u;for(c=m%2===0?u+1:u;c<s.length;c+=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8}this.strip()};function p(_,s,u,h){for(var c=0,l=Math.min(_.length,u),y=s;y<l;y++){var b=_.charCodeAt(y)-48;c*=h,b>=49?c+=b-49+10:b>=17?c+=b-17+10:c+=b}return c}n.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var y=s.length-h,b=y%c,m=Math.min(y,y-b)+h,f=0,g=h;g<m;g+=c)f=p(s,g,g+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(b!==0){var R=1;for(f=p(s,g,s.length,u),g=0;g<b;g++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var c=0,l=0,y=0;y<this.length;y++){var b=this.words[y],m=((b<<c|l)&16777215).toString(16);l=b>>>24-c&16777215,l!==0||y!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,y--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var f=w[s],g=x[s];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var S=R.modn(g).toString(s);R=R.idivn(g),R.isZero()?h=S+h:h=v[f-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(s,u){return r(typeof o<"u"),this.toArrayLike(o,s,u)},n.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},n.prototype.toArrayLike=function(s,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var y=u==="le",b=new s(l),m,f,g=this.clone();if(y){for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[f]=m;for(;f<l;f++)b[f]=0}else{for(f=0;f<l-c;f++)b[f]=0;for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[l-f-1]=m}return b},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function E(_){for(var s=new Array(_.bitLength()),u=0;u<s.length;u++){var h=u/26|0,c=u%26;s[u]=(_.words[h]&1<<c)>>>c}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},n.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,c=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,c;this.length>s.length?(h=this,c=s):(h=s,c=this);for(var l=0,y=0;y<c.length;y++)u=(h.words[y]|0)+(c.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;for(;l!==0&&y<h.length;y++)u=(h.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=s):(c=s,l=this);for(var y=0,b=0;b<l.length;b++)u=(c.words[b]|0)-(l.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;for(;y!==0&&b<c.length;b++)u=(c.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;if(y===0&&b<c.length&&c!==this)for(;b<c.length;b++)this.words[b]=c.words[b];return this.length=Math.max(this.length,b),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function T(_,s,u){u.negative=s.negative^_.negative;var h=_.length+s.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=s.words[0]|0,y=c*l,b=y&67108863,m=y/67108864|0;u.words[0]=b;for(var f=1;f<h;f++){for(var g=m>>>26,R=m&67108863,S=Math.min(f,s.length-1),B=Math.max(0,f-_.length+1);B<=S;B++){var z=f-B|0;c=_.words[z]|0,l=s.words[B]|0,y=c*l+R,g+=y/67108864|0,R=y&67108863}u.words[f]=R|0,m=g|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var A=function(s,u,h){var c=s.words,l=u.words,y=h.words,b=0,m,f,g,R=c[0]|0,S=R&8191,B=R>>>13,z=c[1]|0,G=z&8191,V=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Fe=c[3]|0,Q=Fe&8191,X=Fe>>>13,it=c[4]|0,te=it&8191,re=it>>>13,Ht=c[5]|0,ie=Ht&8191,ne=Ht>>>13,Cr=c[6]|0,se=Cr&8191,oe=Cr>>>13,vi=c[7]|0,ae=vi&8191,fe=vi>>>13,bi=c[8]|0,ue=bi&8191,ce=bi>>>13,wi=c[9]|0,le=wi&8191,de=wi>>>13,_i=l[0]|0,he=_i&8191,pe=_i>>>13,Ne=l[1]|0,me=Ne&8191,ye=Ne>>>13,xi=l[2]|0,ge=xi&8191,ve=xi>>>13,Mi=l[3]|0,be=Mi&8191,we=Mi>>>13,Ei=l[4]|0,_e=Ei&8191,xe=Ei>>>13,Si=l[5]|0,Me=Si&8191,Ee=Si>>>13,Ai=l[6]|0,Se=Ai&8191,Ae=Ai>>>13,Ti=l[7]|0,Te=Ti&8191,Pe=Ti>>>13,Pi=l[8]|0,Re=Pi&8191,ke=Pi>>>13,Ri=l[9]|0,Ie=Ri&8191,De=Ri>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul(S,he),f=Math.imul(S,pe),f=f+Math.imul(B,he)|0,g=Math.imul(B,pe);var Rr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(G,he),f=Math.imul(G,pe),f=f+Math.imul(V,he)|0,g=Math.imul(V,pe),m=m+Math.imul(S,me)|0,f=f+Math.imul(S,ye)|0,f=f+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var ht=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,g=Math.imul(Y,pe),m=m+Math.imul(G,me)|0,f=f+Math.imul(G,ye)|0,f=f+Math.imul(V,me)|0,g=g+Math.imul(V,ye)|0,m=m+Math.imul(S,ge)|0,f=f+Math.imul(S,ve)|0,f=f+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var pt=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,g=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,m=m+Math.imul(G,ge)|0,f=f+Math.imul(G,ve)|0,f=f+Math.imul(V,ge)|0,g=g+Math.imul(V,ve)|0,m=m+Math.imul(S,be)|0,f=f+Math.imul(S,we)|0,f=f+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var ur=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,g=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,g=g+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,m=m+Math.imul(G,be)|0,f=f+Math.imul(G,we)|0,f=f+Math.imul(V,be)|0,g=g+Math.imul(V,we)|0,m=m+Math.imul(S,_e)|0,f=f+Math.imul(S,xe)|0,f=f+Math.imul(B,_e)|0,g=g+Math.imul(B,xe)|0;var cr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,g=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,g=g+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,m=m+Math.imul(G,_e)|0,f=f+Math.imul(G,xe)|0,f=f+Math.imul(V,_e)|0,g=g+Math.imul(V,xe)|0,m=m+Math.imul(S,Me)|0,f=f+Math.imul(S,Ee)|0,f=f+Math.imul(B,Me)|0,g=g+Math.imul(B,Ee)|0;var lr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,g=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,g=g+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,g=g+Math.imul(Y,xe)|0,m=m+Math.imul(G,Me)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(V,Me)|0,g=g+Math.imul(V,Ee)|0,m=m+Math.imul(S,Se)|0,f=f+Math.imul(S,Ae)|0,f=f+Math.imul(B,Se)|0,g=g+Math.imul(B,Ae)|0;var dr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ae,he),f=Math.imul(ae,pe),f=f+Math.imul(fe,he)|0,g=Math.imul(fe,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,g=g+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,g=g+Math.imul(Y,Ee)|0,m=m+Math.imul(G,Se)|0,f=f+Math.imul(G,Ae)|0,f=f+Math.imul(V,Se)|0,g=g+Math.imul(V,Ae)|0,m=m+Math.imul(S,Te)|0,f=f+Math.imul(S,Pe)|0,f=f+Math.imul(B,Te)|0,g=g+Math.imul(B,Pe)|0;var hr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,g=Math.imul(ce,pe),m=m+Math.imul(ae,me)|0,f=f+Math.imul(ae,ye)|0,f=f+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,g=g+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,g=g+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,g=g+Math.imul(Y,Ae)|0,m=m+Math.imul(G,Te)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(V,Te)|0,g=g+Math.imul(V,Pe)|0,m=m+Math.imul(S,Re)|0,f=f+Math.imul(S,ke)|0,f=f+Math.imul(B,Re)|0,g=g+Math.imul(B,ke)|0;var pr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,g=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,g=g+Math.imul(ce,ye)|0,m=m+Math.imul(ae,ge)|0,f=f+Math.imul(ae,ve)|0,f=f+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,g=g+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,g=g+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,g=g+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Pe)|0,m=m+Math.imul(G,Re)|0,f=f+Math.imul(G,ke)|0,f=f+Math.imul(V,Re)|0,g=g+Math.imul(V,ke)|0,m=m+Math.imul(S,Ie)|0,f=f+Math.imul(S,De)|0,f=f+Math.imul(B,Ie)|0,g=g+Math.imul(B,De)|0;var mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,g=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,g=g+Math.imul(ce,ve)|0,m=m+Math.imul(ae,be)|0,f=f+Math.imul(ae,we)|0,f=f+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,g=g+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,g=g+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,g=g+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,g=g+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,g=g+Math.imul(Y,ke)|0,m=m+Math.imul(G,Ie)|0,f=f+Math.imul(G,De)|0,f=f+Math.imul(V,Ie)|0,g=g+Math.imul(V,De)|0;var yr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,g=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,g=g+Math.imul(ce,we)|0,m=m+Math.imul(ae,_e)|0,f=f+Math.imul(ae,xe)|0,f=f+Math.imul(fe,_e)|0,g=g+Math.imul(fe,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,g=g+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,g=g+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,g=g+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,g=g+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,De)|0,f=f+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,De)|0;var gr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,g=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,g=g+Math.imul(ce,xe)|0,m=m+Math.imul(ae,Me)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(fe,Me)|0,g=g+Math.imul(fe,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,g=g+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,g=g+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(X,Ie)|0,g=g+Math.imul(X,De)|0;var vr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,g=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,g=g+Math.imul(ce,Ee)|0,m=m+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ae)|0,f=f+Math.imul(fe,Se)|0,g=g+Math.imul(fe,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,g=g+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,De)|0,f=f+Math.imul(re,Ie)|0,g=g+Math.imul(re,De)|0;var br=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,g=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ae)|0,m=m+Math.imul(ae,Te)|0,f=f+Math.imul(ae,Pe)|0,f=f+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,g=g+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,De)|0,f=f+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,De)|0;var wr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,g=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Pe)|0,m=m+Math.imul(ae,Re)|0,f=f+Math.imul(ae,ke)|0,f=f+Math.imul(fe,Re)|0,g=g+Math.imul(fe,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,De)|0;var _r=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,g=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,g=g+Math.imul(ce,ke)|0,m=m+Math.imul(ae,Ie)|0,f=f+Math.imul(ae,De)|0,f=f+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,De)|0;var xr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,g=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,De)|0,f=f+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,De)|0;var Mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,De),f=f+Math.imul(de,Ie)|0,g=Math.imul(de,De);var Er=(b+m|0)+((f&8191)<<13)|0;return b=(g+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,y[0]=Rr,y[1]=ht,y[2]=pt,y[3]=ur,y[4]=cr,y[5]=lr,y[6]=dr,y[7]=hr,y[8]=pr,y[9]=mr,y[10]=yr,y[11]=gr,y[12]=vr,y[13]=br,y[14]=wr,y[15]=_r,y[16]=xr,y[17]=Mr,y[18]=Er,b!==0&&(y[19]=b,h.length++),h};Math.imul||(A=T);function k(_,s,u){u.negative=s.negative^_.negative,u.length=_.length+s.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var y=c;c=0;for(var b=h&67108863,m=Math.min(l,s.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var g=l-f,R=_.words[g]|0,S=s.words[f]|0,B=R*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+b|0,b=z&67108863,y=y+(z>>>26)|0,c+=y>>>26,y&=67108863}u.words[l]=b,h=y,y=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function D(_,s,u){var h=new I;return h.mulp(_,s,u)}n.prototype.mulTo=function(s,u){var h,c=this.length+s.length;return this.length===10&&s.length===10?h=A(this,s,u):c<63?h=T(this,s,u):c<1024?h=k(this,s,u):h=D(this,s,u),h};function I(_,s){this.x=_,this.y=s}I.prototype.makeRBT=function(s){for(var u=new Array(s),h=n.prototype._countBits(s)-1,c=0;c<s;c++)u[c]=this.revBin(c,h,s);return u},I.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var c=0,l=0;l<u;l++)c|=(s&1)<<u-l-1,s>>=1;return c},I.prototype.permute=function(s,u,h,c,l,y){for(var b=0;b<y;b++)c[b]=u[s[b]],l[b]=h[s[b]]},I.prototype.transform=function(s,u,h,c,l,y){this.permute(y,s,u,h,c,l);for(var b=1;b<l;b<<=1)for(var m=b<<1,f=Math.cos(2*Math.PI/m),g=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var S=f,B=g,z=0;z<b;z++){var G=h[R+z],V=c[R+z],J=h[R+z+b],Z=c[R+z+b],Y=S*J-B*Z;Z=S*Z+B*J,J=Y,h[R+z]=G+J,c[R+z]=V+Z,h[R+z+b]=G-J,c[R+z+b]=V-Z,z!==m&&(Y=f*S-g*B,B=f*B+g*S,S=Y)}},I.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=s[c];s[c]=s[h-c-1],s[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(s,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(s[2*c+1]/u)*8192+Math.round(s[2*c]/u)+h;s[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return s},I.prototype.convert13b=function(s,u,h,c){for(var l=0,y=0;y<u;y++)l=l+(s[y]|0),h[2*y]=l&8191,l=l>>>13,h[2*y+1]=l&8191,l=l>>>13;for(y=2*u;y<c;++y)h[y]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},I.prototype.mulp=function(s,u,h){var c=2*this.guessLen13b(s.length,u.length),l=this.makeRBT(c),y=this.stub(c),b=new Array(c),m=new Array(c),f=new Array(c),g=new Array(c),R=new Array(c),S=new Array(c),B=h.words;B.length=c,this.convert13b(s.words,s.length,b,c),this.convert13b(u.words,u.length,g,c),this.transform(b,y,m,f,c,l),this.transform(g,y,R,S,c,l);for(var z=0;z<c;z++){var G=m[z]*R[z]-f[z]*S[z];f[z]=m[z]*S[z]+f[z]*R[z],m[z]=G}return this.conjugate(m,f,c),this.transform(m,f,B,y,c,l),this.conjugate(B,y,c),this.normalize13b(B,c),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},n.prototype.mul=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},n.prototype.mulf=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),D(this,s,u)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){r(typeof s=="number"),r(s<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*s,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var u=E(s);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var y=0;for(l=0;l<this.length;l++){var b=this.words[l]&c,m=(this.words[l]|0)-b<<u;this.words[l]=m|y,y=b>>>26-u}y&&(this.words[l]=y,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var c;u?c=(u-u%26)/26:c=0;var l=s%26,y=Math.min((s-l)/26,this.length),b=67108863^67108863>>>l<<l,m=h;if(c-=y,c=Math.max(0,c),m){for(var f=0;f<y;f++)m.words[f]=this.words[f];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,f=0;f<this.length;f++)this.words[f]=this.words[f+y];else this.words[0]=0,this.length=1;var g=0;for(f=this.length-1;f>=0&&(g!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=g<<26-l|R>>>l,g=R&b}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,u,h){var c=s.length+h,l;this._expand(c);var y,b=0;for(l=0;l<s.length;l++){y=(this.words[l+h]|0)+b;var m=(s.words[l]|0)*u;y-=m&67108863,b=(y>>26)-(m/67108864|0),this.words[l+h]=y&67108863}for(;l<this.length-h;l++)y=(this.words[l+h]|0)+b,b=y>>26,this.words[l+h]=y&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,l=0;l<this.length;l++)y=-(this.words[l]|0)+b,b=y>>26,this.words[l]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(s,u){var h=this.length-s.length,c=this.clone(),l=s,y=l.words[l.length-1]|0,b=this._countBits(y);h=26-b,h!==0&&(l=l.ushln(h),c.iushln(h),y=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var g=0;g<f.length;g++)f.words[g]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var S=m-1;S>=0;S--){var B=(c.words[l.length+S]|0)*67108864+(c.words[l.length+S-1]|0);for(B=Math.min(B/y|0,67108863),c._ishlnsubmul(l,B,S);c.negative!==0;)B--,c.negative=0,c._ishlnsubmul(l,1,S),c.isZero()||(c.negative^=1);f&&(f.words[S]=B)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,u),u!=="mod"&&(c=y.div.neg()),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.iadd(s)),{div:c,mod:l}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),u),u!=="mod"&&(c=y.div.neg()),{div:c,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),u),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.isub(s)),{div:y.div,mod:l}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modn(s.words[0]))}:this._wordDiv(s,u)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,c=s.ushrn(1),l=s.andln(1),y=h.cmp(c);return y<0||l===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(s){r(s<=67108863);for(var u=(1<<26)%s,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%s;return h},n.prototype.idivn=function(s){r(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/s|0,u=c%s}return this.strip()},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=new n(0),b=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),g=u.clone();!u.isZero();){for(var R=0,S=1;!(u.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(g)),c.iushrn(1),l.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(f),b.isub(g)),y.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(y),l.isub(b)):(h.isub(u),y.isub(c),b.isub(l))}return{a:y,b,gcd:h.iushln(m)}},n.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);for(var f=0,g=1;!(h.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(s),R},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var y=u;u=h,h=y}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,y=h;l!==0&&y<this.length;y++){var b=this.words[y]|0;b+=l,l=b>>>26,b&=67108863,this.words[y]=b}return l!==0&&(this.words[y]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var c=this.words[0]|0;h=c===s?0:c<s?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=s.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new L(s)},n.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var C={k256:null,p224:null,p192:null,p25519:null};function q(_,s){this.name=_,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},q.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},q.prototype.split=function(s,u){s.iushrn(this.n,0,u)},q.prototype.imulK=function(s){return s.imul(this.k)};function U(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,q),U.prototype.split=function(s,u){for(var h=4194303,c=Math.min(s.length,9),l=0;l<c;l++)u.words[l]=s.words[l];if(u.length=c,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(u.words[u.length++]=y&h,l=10;l<s.length;l++){var b=s.words[l]|0;s.words[l-10]=(b&h)<<4|y>>>22,y=b}y>>>=22,s.words[l-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},U.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var c=s.words[h]|0;u+=c*977,s.words[h]=u&67108863,u=c*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function $(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,q);function W(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,q);function F(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,q),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var c=(s.words[h]|0)*19+u,l=c&67108863;c>>>=26,s.words[h]=l,u=c}return u!==0&&(s.words[s.length++]=u),s},n._prime=function(s){if(C[s])return C[s];var u;if(s==="k256")u=new U;else if(s==="p224")u=new $;else if(s==="p192")u=new W;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return C[s]=u,u};function L(_){if(typeof _=="string"){var s=n._prime(_);this.m=s.p,this.prime=s}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}L.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},L.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},L.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},L.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},L.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},L.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},L.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},L.prototype.isqr=function(s){return this.imul(s,s.clone())},L.prototype.sqr=function(s){return this.mul(s,s)},L.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(s,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var y=new n(1).toRed(this),b=y.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(b)!==0;)f.redIAdd(b);for(var g=this.pow(f,c),R=this.pow(s,c.addn(1).iushrn(1)),S=this.pow(s,c),B=l;S.cmp(y)!==0;){for(var z=S,G=0;z.cmp(y)!==0;G++)z=z.redSqr();r(G<B);var V=this.pow(g,new n(1).iushln(B-G-1));R=R.redMul(V),g=V.redSqr(),S=S.redMul(g),B=G}return R},L.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(s,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=s;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],s);var y=c[0],b=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],R=f-1;R>=0;R--){var S=g>>R&1;if(y!==c[0]&&(y=this.sqr(y)),S===0&&b===0){m=0;continue}b<<=1,b|=S,m++,!(m!==h&&(l!==0||R!==0))&&(y=this.mul(y,c[b]),m=0,b=0)}f=26}return y},L.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},L.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},n.mont=function(s){return new H(s)};function H(_){L.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,L),H.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},H.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},H.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new n(0)._forceRed(this);var h=s.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof aS>"u"||aS,BU)});var fS=K(qU=>{"use strict";M();var r2=qU;function vhe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),o=n>>8,a=n&255;o?r.push(o,a):r.push(a)}return r}r2.toArray=vhe;function OU(t){return t.length===1?"0"+t:t}r2.zero2=OU;function CU(t){for(var e="",r=0;r<t.length;r++)e+=OU(t[r].toString(16));return e}r2.toHex=CU;r2.encode=function(e,r){return r==="hex"?CU(e):e}});var Uo=K(NU=>{"use strict";M();var Hs=NU,bhe=Za(),whe=Lo(),i2=fS();Hs.assert=whe;Hs.toArray=i2.toArray;Hs.zero2=i2.zero2;Hs.toHex=i2.toHex;Hs.encode=i2.encode;function _he(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,o=t.clone(),a=0;a<i.length;a++){var d,p=o.andln(n-1);o.isOdd()?(p>(n>>1)-1?d=(n>>1)-p:d=p,o.isubn(d)):d=0,i[a]=d,o.iushrn(1)}return i}Hs.getNAF=_he;function xhe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,o;t.cmpn(-i)>0||e.cmpn(-n)>0;){var a=t.andln(3)+i&3,d=e.andln(3)+n&3;a===3&&(a=-1),d===3&&(d=-1);var p;a&1?(o=t.andln(7)+i&7,(o===3||o===5)&&d===2?p=-a:p=a):p=0,r[0].push(p);var v;d&1?(o=e.andln(7)+n&7,(o===3||o===5)&&a===2?v=-d:v=d):v=0,r[1].push(v),2*i===p+1&&(i=1-i),2*n===v+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}Hs.getJSF=xhe;function Mhe(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}Hs.cachedProperty=Mhe;function Ehe(t){return typeof t=="string"?Hs.toArray(t,"hex"):t}Hs.parseBytes=Ehe;function She(t){return new bhe(t,"hex","le")}Hs.intFromLE=She});var lg=K((RIe,jU)=>{"use strict";M();var gd=Za(),cg=Uo(),n2=cg.getNAF,Ahe=cg.getJSF,o2=cg.assert;function lc(t,e){this.type=t,this.p=new gd(e.p,16),this.red=e.prime?gd.red(e.prime):gd.mont(this.p),this.zero=new gd(0).toRed(this.red),this.one=new gd(1).toRed(this.red),this.two=new gd(2).toRed(this.red),this.n=e.n&&new gd(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}jU.exports=lc;lc.prototype.point=function(){throw new Error("Not implemented")};lc.prototype.validate=function(){throw new Error("Not implemented")};lc.prototype._fixedNafMul=function(e,r){o2(e.precomputed);var i=e._getDoubles(),n=n2(r,1,this._bitLength),o=(1<<i.step+1)-(i.step%2===0?2:1);o/=3;var a=[],d,p;for(d=0;d<n.length;d+=i.step){p=0;for(var v=d+i.step-1;v>=d;v--)p=(p<<1)+n[v];a.push(p)}for(var w=this.jpoint(null,null,null),x=this.jpoint(null,null,null),E=o;E>0;E--){for(d=0;d<a.length;d++)p=a[d],p===E?x=x.mixedAdd(i.points[d]):p===-E&&(x=x.mixedAdd(i.points[d].neg()));w=w.add(x)}return w.toP()};lc.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var o=n.points,a=n2(r,i,this._bitLength),d=this.jpoint(null,null,null),p=a.length-1;p>=0;p--){for(var v=0;p>=0&&a[p]===0;p--)v++;if(p>=0&&v++,d=d.dblp(v),p<0)break;var w=a[p];o2(w!==0),e.type==="affine"?w>0?d=d.mixedAdd(o[w-1>>1]):d=d.mixedAdd(o[-w-1>>1].neg()):w>0?d=d.add(o[w-1>>1]):d=d.add(o[-w-1>>1].neg())}return e.type==="affine"?d.toP():d};lc.prototype._wnafMulAdd=function(e,r,i,n,o){var a=this._wnafT1,d=this._wnafT2,p=this._wnafT3,v=0,w,x,E;for(w=0;w<n;w++){E=r[w];var T=E._getNAFPoints(e);a[w]=T.wnd,d[w]=T.points}for(w=n-1;w>=1;w-=2){var A=w-1,k=w;if(a[A]!==1||a[k]!==1){p[A]=n2(i[A],a[A],this._bitLength),p[k]=n2(i[k],a[k],this._bitLength),v=Math.max(p[A].length,v),v=Math.max(p[k].length,v);continue}var D=[r[A],null,null,r[k]];r[A].y.cmp(r[k].y)===0?(D[1]=r[A].add(r[k]),D[2]=r[A].toJ().mixedAdd(r[k].neg())):r[A].y.cmp(r[k].y.redNeg())===0?(D[1]=r[A].toJ().mixedAdd(r[k]),D[2]=r[A].add(r[k].neg())):(D[1]=r[A].toJ().mixedAdd(r[k]),D[2]=r[A].toJ().mixedAdd(r[k].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],C=Ahe(i[A],i[k]);for(v=Math.max(C[0].length,v),p[A]=new Array(v),p[k]=new Array(v),x=0;x<v;x++){var q=C[0][x]|0,U=C[1][x]|0;p[A][x]=I[(q+1)*3+(U+1)],p[k][x]=0,d[A]=D}}var $=this.jpoint(null,null,null),W=this._wnafT4;for(w=v;w>=0;w--){for(var F=0;w>=0;){var L=!0;for(x=0;x<n;x++)W[x]=p[x][w]|0,W[x]!==0&&(L=!1);if(!L)break;F++,w--}if(w>=0&&F++,$=$.dblp(F),w<0)break;for(x=0;x<n;x++){var H=W[x];H!==0&&(H>0?E=d[x][H-1>>1]:H<0&&(E=d[x][-H-1>>1].neg()),E.type==="affine"?$=$.mixedAdd(E):$=$.add(E))}}for(w=0;w<n;w++)d[w]=null;return o?$:$.toP()};function ps(t,e){this.curve=t,this.type=e,this.precomputed=null}lc.BasePoint=ps;ps.prototype.eq=function(){throw new Error("Not implemented")};ps.prototype.validate=function(){return this.curve.validate(this)};lc.prototype.decodePoint=function(e,r){e=cg.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?o2(e[e.length-1]%2===0):e[0]===7&&o2(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};ps.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ps.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};ps.prototype.encode=function(e,r){return cg.encode(this._encode(r),e)};ps.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};ps.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};ps.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,o=0;o<r;o+=e){for(var a=0;a<e;a++)n=n.dbl();i.push(n)}return{step:e,points:i}};ps.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),o=1;o<i;o++)r[o]=r[o-1].add(n);return{wnd:e,points:r}};ps.prototype._getBeta=function(){return null};ps.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var UU=K((IIe,LU)=>{"use strict";M();var The=Uo(),ni=Za(),uS=rt(),G0=lg(),Phe=The.assert;function ms(t){G0.call(this,"short",t),this.a=new ni(t.a,16).toRed(this.red),this.b=new ni(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}uS(ms,G0);LU.exports=ms;ms.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new ni(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new ni(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?i=o[0]:(i=o[1],Phe(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(d){return{a:new ni(d.a,16),b:new ni(d.b,16)}}):a=this._getEndoBasis(i),{beta:r,lambda:i,basis:a}}};ms.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ni.mont(e),i=new ni(2).toRed(r).redInvm(),n=i.redNeg(),o=new ni(3).toRed(r).redNeg().redSqrt().redMul(i),a=n.redAdd(o).fromRed(),d=n.redSub(o).fromRed();return[a,d]};ms.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),o=new ni(1),a=new ni(0),d=new ni(0),p=new ni(1),v,w,x,E,T,A,k,D=0,I,C;i.cmpn(0)!==0;){var q=n.div(i);I=n.sub(q.mul(i)),C=d.sub(q.mul(o));var U=p.sub(q.mul(a));if(!x&&I.cmp(r)<0)v=k.neg(),w=o,x=I.neg(),E=C;else if(x&&++D===2)break;k=I,n=i,i=I,d=o,o=C,p=a,a=U}T=I.neg(),A=C;var $=x.sqr().add(E.sqr()),W=T.sqr().add(A.sqr());return W.cmp($)>=0&&(T=v,A=w),x.negative&&(x=x.neg(),E=E.neg()),T.negative&&(T=T.neg(),A=A.neg()),[{a:x,b:E},{a:T,b:A}]};ms.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],o=n.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),d=o.mul(i.a),p=a.mul(n.a),v=o.mul(i.b),w=a.mul(n.b),x=e.sub(d).sub(p),E=v.add(w).neg();return{k1:x,k2:E}};ms.prototype.pointFromX=function(e,r){e=new ni(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var o=n.fromRed().isOdd();return(r&&!o||!r&&o)&&(n=n.redNeg()),this.point(e,n)};ms.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(o).cmpn(0)===0};ms.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,o=this._endoWnafT2,a=0;a<e.length;a++){var d=this._endoSplit(r[a]),p=e[a],v=p._getBeta();d.k1.negative&&(d.k1.ineg(),p=p.neg(!0)),d.k2.negative&&(d.k2.ineg(),v=v.neg(!0)),n[a*2]=p,n[a*2+1]=v,o[a*2]=d.k1,o[a*2+1]=d.k2}for(var w=this._wnafMulAdd(1,n,o,a*2,i),x=0;x<a*2;x++)n[x]=null,o[x]=null;return w};function cn(t,e,r,i){G0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ni(e,16),this.y=new ni(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}uS(cn,G0.BasePoint);ms.prototype.point=function(e,r,i){return new cn(this,e,r,i)};ms.prototype.pointFromJSON=function(e,r){return cn.fromJSON(this,e,r)};cn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(o){return i.point(o.x.redMul(i.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};cn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};cn.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function o(d){return e.point(d[0],d[1],i)}var a=r[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(o))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(o))}},n};cn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};cn.prototype.isInfinity=function(){return this.inf};cn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};cn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),o=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),a=o.redSqr().redISub(this.x.redAdd(this.x)),d=o.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,d)};cn.prototype.getX=function(){return this.x.fromRed()};cn.prototype.getY=function(){return this.y.fromRed()};cn.prototype.mul=function(e){return e=new ni(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};cn.prototype.mulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o):this.curve._wnafMulAdd(1,n,o,2)};cn.prototype.jmulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o,!0):this.curve._wnafMulAdd(1,n,o,2,!0)};cn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};cn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(o){return o.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};cn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Rn(t,e,r,i){G0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ni(0)):(this.x=new ni(e,16),this.y=new ni(r,16),this.z=new ni(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}uS(Rn,G0.BasePoint);ms.prototype.jpoint=function(e,r,i){return new Rn(this,e,r,i)};Rn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Rn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Rn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),o=e.x.redMul(i),a=this.y.redMul(r.redMul(e.z)),d=e.y.redMul(i.redMul(this.z)),p=n.redSub(o),v=a.redSub(d);if(p.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=p.redSqr(),x=w.redMul(p),E=n.redMul(w),T=v.redSqr().redIAdd(x).redISub(E).redISub(E),A=v.redMul(E.redISub(T)).redISub(a.redMul(x)),k=this.z.redMul(e.z).redMul(p);return this.curve.jpoint(T,A,k)};Rn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),o=this.y,a=e.y.redMul(r).redMul(this.z),d=i.redSub(n),p=o.redSub(a);if(d.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=d.redSqr(),w=v.redMul(d),x=i.redMul(v),E=p.redSqr().redIAdd(w).redISub(x).redISub(x),T=p.redMul(x.redISub(E)).redISub(o.redMul(w)),A=this.z.redMul(d);return this.curve.jpoint(E,T,A)};Rn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,o=this.curve.tinv,a=this.x,d=this.y,p=this.z,v=p.redSqr().redSqr(),w=d.redAdd(d);for(r=0;r<e;r++){var x=a.redSqr(),E=w.redSqr(),T=E.redSqr(),A=x.redAdd(x).redIAdd(x).redIAdd(n.redMul(v)),k=a.redMul(E),D=A.redSqr().redISub(k.redAdd(k)),I=k.redISub(D),C=A.redMul(I);C=C.redIAdd(C).redISub(T);var q=w.redMul(p);r+1<e&&(v=v.redMul(T)),a=D,p=q,w=C}return this.curve.jpoint(a,w.redMul(o),p)};Rn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Rn.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),d=this.x.redAdd(o).redSqr().redISub(n).redISub(a);d=d.redIAdd(d);var p=n.redAdd(n).redIAdd(n),v=p.redSqr().redISub(d).redISub(d),w=a.redIAdd(a);w=w.redIAdd(w),w=w.redIAdd(w),e=v,r=p.redMul(d.redISub(v)).redISub(w),i=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),E=this.y.redSqr(),T=E.redSqr(),A=this.x.redAdd(E).redSqr().redISub(x).redISub(T);A=A.redIAdd(A);var k=x.redAdd(x).redIAdd(x),D=k.redSqr(),I=T.redIAdd(T);I=I.redIAdd(I),I=I.redIAdd(I),e=D.redISub(A).redISub(A),r=k.redMul(A.redISub(e)).redISub(I),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Rn.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),d=this.x.redAdd(o).redSqr().redISub(n).redISub(a);d=d.redIAdd(d);var p=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),v=p.redSqr().redISub(d).redISub(d);e=v;var w=a.redIAdd(a);w=w.redIAdd(w),w=w.redIAdd(w),r=p.redMul(d.redISub(v)).redISub(w),i=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),E=this.y.redSqr(),T=this.x.redMul(E),A=this.x.redSub(x).redMul(this.x.redAdd(x));A=A.redAdd(A).redIAdd(A);var k=T.redIAdd(T);k=k.redIAdd(k);var D=k.redAdd(k);e=A.redSqr().redISub(D),i=this.y.redAdd(this.z).redSqr().redISub(E).redISub(x);var I=E.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=A.redMul(k.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,i)};Rn.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,o=n.redSqr().redSqr(),a=r.redSqr(),d=i.redSqr(),p=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(o)),v=r.redAdd(r);v=v.redIAdd(v);var w=v.redMul(d),x=p.redSqr().redISub(w.redAdd(w)),E=w.redISub(x),T=d.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var A=p.redMul(E).redISub(T),k=i.redAdd(i).redMul(n);return this.curve.jpoint(x,A,k)};Rn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),o=e.redAdd(e).redIAdd(e),a=o.redSqr(),d=this.x.redAdd(r).redSqr().redISub(e).redISub(n);d=d.redIAdd(d),d=d.redAdd(d).redIAdd(d),d=d.redISub(a);var p=d.redSqr(),v=n.redIAdd(n);v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var w=o.redIAdd(d).redSqr().redISub(a).redISub(p).redISub(v),x=r.redMul(w);x=x.redIAdd(x),x=x.redIAdd(x);var E=this.x.redMul(p).redISub(x);E=E.redIAdd(E),E=E.redIAdd(E);var T=this.y.redMul(w.redMul(v.redISub(w)).redISub(d.redMul(p)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var A=this.z.redAdd(d).redSqr().redISub(i).redISub(p);return this.curve.jpoint(E,T,A)};Rn.prototype.mul=function(e,r){return e=new ni(e,r),this.curve._wnafMul(this,e)};Rn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),o=i.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(n)).cmpn(0)===0};Rn.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(o),this.x.cmp(i)===0)return!0}};Rn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Rn.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var $U=K((BIe,FU)=>{"use strict";M();var V0=Za(),zU=rt(),s2=lg(),Rhe=Uo();function K0(t){s2.call(this,"mont",t),this.a=new V0(t.a,16).toRed(this.red),this.b=new V0(t.b,16).toRed(this.red),this.i4=new V0(4).toRed(this.red).redInvm(),this.two=new V0(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}zU(K0,s2);FU.exports=K0;K0.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),o=n.redSqrt();return o.redSqr().cmp(n)===0};function ln(t,e,r){s2.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new V0(e,16),this.z=new V0(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}zU(ln,s2.BasePoint);K0.prototype.decodePoint=function(e,r){return this.point(Rhe.toArray(e,r),1)};K0.prototype.point=function(e,r){return new ln(this,e,r)};K0.prototype.pointFromJSON=function(e){return ln.fromJSON(this,e)};ln.prototype.precompute=function(){};ln.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ln.fromJSON=function(e,r){return new ln(e,r[0],r[1]||e.one)};ln.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ln.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ln.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),o=r.redSub(n),a=r.redMul(n),d=o.redMul(n.redAdd(this.curve.a24.redMul(o)));return this.curve.point(a,d)};ln.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ln.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),o=e.x.redAdd(e.z),a=e.x.redSub(e.z),d=a.redMul(i),p=o.redMul(n),v=r.z.redMul(d.redAdd(p).redSqr()),w=r.x.redMul(d.redISub(p).redSqr());return this.curve.point(v,w)};ln.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),o=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var d=a.length-1;d>=0;d--)a[d]===0?(i=i.diffAdd(n,o),n=n.dbl()):(n=i.diffAdd(n,o),i=i.dbl());return n};ln.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ln.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ln.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ln.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ln.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var VU=K((CIe,GU)=>{"use strict";M();var khe=Uo(),ru=Za(),WU=rt(),a2=lg(),Ihe=khe.assert;function Ya(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,a2.call(this,"edwards",t),this.a=new ru(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ru(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ru(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Ihe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}WU(Ya,a2);GU.exports=Ya;Ya.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ya.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ya.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Ya.prototype.pointFromX=function(e,r){e=new ru(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),o=this.one.redSub(this.c2.redMul(this.d).redMul(i)),a=n.redMul(o.redInvm()),d=a.redSqrt();if(d.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var p=d.fromRed().isOdd();return(r&&!p||!r&&p)&&(d=d.redNeg()),this.point(e,d)};Ya.prototype.pointFromY=function(e,r){e=new ru(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),o=i.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var d=a.redSqrt();if(d.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return d.fromRed().isOdd()!==r&&(d=d.redNeg()),this.point(d,e)};Ya.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(o)===0};function Or(t,e,r,i,n){a2.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ru(e,16),this.y=new ru(r,16),this.z=i?new ru(i,16):this.curve.one,this.t=n&&new ru(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}WU(Or,a2.BasePoint);Ya.prototype.pointFromJSON=function(e){return Or.fromJSON(this,e)};Ya.prototype.point=function(e,r,i,n){return new Or(this,e,r,i,n)};Or.fromJSON=function(e,r){return new Or(e,r[0],r[1],r[2])};Or.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Or.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Or.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=n.redAdd(r),d=a.redSub(i),p=n.redSub(r),v=o.redMul(d),w=a.redMul(p),x=o.redMul(p),E=d.redMul(a);return this.curve.point(v,w,E,x)};Or.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,o,a,d,p,v;if(this.curve.twisted){d=this.curve._mulA(r);var w=d.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(w.redSub(this.curve.two)),o=w.redMul(d.redSub(i)),a=w.redSqr().redSub(w).redSub(w)):(p=this.z.redSqr(),v=w.redSub(p).redISub(p),n=e.redSub(r).redISub(i).redMul(v),o=w.redMul(d.redSub(i)),a=w.redMul(v))}else d=r.redAdd(i),p=this.curve._mulC(this.z).redSqr(),v=d.redSub(p).redSub(p),n=this.curve._mulC(e.redISub(d)).redMul(v),o=this.curve._mulC(d).redMul(r.redISub(i)),a=d.redMul(v);return this.curve.point(n,o,a)};Or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Or.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(r),d=o.redSub(n),p=o.redAdd(n),v=i.redAdd(r),w=a.redMul(d),x=p.redMul(v),E=a.redMul(v),T=d.redMul(p);return this.curve.point(w,x,T,E)};Or.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(n).redMul(o),d=i.redSub(a),p=i.redAdd(a),v=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(o),w=r.redMul(d).redMul(v),x,E;return this.curve.twisted?(x=r.redMul(p).redMul(o.redSub(this.curve._mulA(n))),E=d.redMul(p)):(x=r.redMul(p).redMul(o.redSub(n)),E=this.curve._mulC(d).redMul(p)),this.curve.point(w,x,E)};Or.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Or.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Or.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Or.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Or.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Or.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Or.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Or.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Or.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Or.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Or.prototype.toP=Or.prototype.normalize;Or.prototype.mixedAdd=Or.prototype.add});var cS=K(KU=>{"use strict";M();var f2=KU;f2.base=lg();f2.short=UU();f2.mont=$U();f2.edwards=VU()});var Zs=K(Pr=>{"use strict";M();var Dhe=Lo(),Bhe=rt();Pr.inherits=Bhe;function Ohe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Che(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):Ohe(t,n)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Pr.toArray=Che;function qhe(t){for(var e="",r=0;r<t.length;r++)e+=ZU(t[r].toString(16));return e}Pr.toHex=qhe;function HU(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Pr.htonl=HU;function Nhe(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=HU(n)),r+=YU(n.toString(16))}return r}Pr.toHex32=Nhe;function ZU(t){return t.length===1?"0"+t:t}Pr.zero2=ZU;function YU(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Pr.zero8=YU;function jhe(t,e,r,i){var n=r-e;Dhe(n%4===0);for(var o=new Array(n/4),a=0,d=e;a<o.length;a++,d+=4){var p;i==="big"?p=t[d]<<24|t[d+1]<<16|t[d+2]<<8|t[d+3]:p=t[d+3]<<24|t[d+2]<<16|t[d+1]<<8|t[d],o[a]=p>>>0}return o}Pr.join32=jhe;function Lhe(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var o=t[i];e==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}Pr.split32=Lhe;function Uhe(t,e){return t>>>e|t<<32-e}Pr.rotr32=Uhe;function zhe(t,e){return t<<e|t>>>32-e}Pr.rotl32=zhe;function Fhe(t,e){return t+e>>>0}Pr.sum32=Fhe;function $he(t,e,r){return t+e+r>>>0}Pr.sum32_3=$he;function Whe(t,e,r,i){return t+e+r+i>>>0}Pr.sum32_4=Whe;function Ghe(t,e,r,i,n){return t+e+r+i+n>>>0}Pr.sum32_5=Ghe;function Vhe(t,e,r,i){var n=t[e],o=t[e+1],a=i+o>>>0,d=(a<i?1:0)+r+n;t[e]=d>>>0,t[e+1]=a}Pr.sum64=Vhe;function Khe(t,e,r,i){var n=e+i>>>0,o=(n<e?1:0)+t+r;return o>>>0}Pr.sum64_hi=Khe;function Hhe(t,e,r,i){var n=e+i;return n>>>0}Pr.sum64_lo=Hhe;function Zhe(t,e,r,i,n,o,a,d){var p=0,v=e;v=v+i>>>0,p+=v<e?1:0,v=v+o>>>0,p+=v<o?1:0,v=v+d>>>0,p+=v<d?1:0;var w=t+r+n+a+p;return w>>>0}Pr.sum64_4_hi=Zhe;function Yhe(t,e,r,i,n,o,a,d){var p=e+i+o+d;return p>>>0}Pr.sum64_4_lo=Yhe;function Jhe(t,e,r,i,n,o,a,d,p,v){var w=0,x=e;x=x+i>>>0,w+=x<e?1:0,x=x+o>>>0,w+=x<o?1:0,x=x+d>>>0,w+=x<d?1:0,x=x+v>>>0,w+=x<v?1:0;var E=t+r+n+a+p+w;return E>>>0}Pr.sum64_5_hi=Jhe;function Qhe(t,e,r,i,n,o,a,d,p,v){var w=e+i+o+d+v;return w>>>0}Pr.sum64_5_lo=Qhe;function Xhe(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Pr.rotr64_hi=Xhe;function e0e(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Pr.rotr64_lo=e0e;function t0e(t,e,r){return t>>>r}Pr.shr64_hi=t0e;function r0e(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Pr.shr64_lo=r0e});var H0=K(QU=>{"use strict";M();var JU=Zs(),i0e=Lo();function u2(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}QU.BlockHash=u2;u2.prototype.update=function(e,r){if(e=JU.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=JU.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};u2.prototype.digest=function(e){return this.update(this._pad()),i0e(this.pending===null),this._digest(e)};u2.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var o=1;o<i;o++)n[o]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=e&255}else for(n[o++]=e&255,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,a=8;a<this.padLength;a++)n[o++]=0;return n}});var lS=K(iu=>{"use strict";M();var n0e=Zs(),Ja=n0e.rotr32;function o0e(t,e,r,i){if(t===0)return XU(e,r,i);if(t===1||t===3)return tz(e,r,i);if(t===2)return ez(e,r,i)}iu.ft_1=o0e;function XU(t,e,r){return t&e^~t&r}iu.ch32=XU;function ez(t,e,r){return t&e^t&r^e&r}iu.maj32=ez;function tz(t,e,r){return t^e^r}iu.p32=tz;function s0e(t){return Ja(t,2)^Ja(t,13)^Ja(t,22)}iu.s0_256=s0e;function a0e(t){return Ja(t,6)^Ja(t,11)^Ja(t,25)}iu.s1_256=a0e;function f0e(t){return Ja(t,7)^Ja(t,18)^t>>>3}iu.g0_256=f0e;function u0e(t){return Ja(t,17)^Ja(t,19)^t>>>10}iu.g1_256=u0e});var nz=K((GIe,iz)=>{"use strict";M();var Z0=Zs(),c0e=H0(),l0e=lS(),dS=Z0.rotl32,dg=Z0.sum32,d0e=Z0.sum32_5,h0e=l0e.ft_1,rz=c0e.BlockHash,p0e=[1518500249,1859775393,2400959708,3395469782];function Qa(){if(!(this instanceof Qa))return new Qa;rz.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Z0.inherits(Qa,rz);iz.exports=Qa;Qa.blockSize=512;Qa.outSize=160;Qa.hmacStrength=80;Qa.padLength=64;Qa.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=dS(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var o=this.h[0],a=this.h[1],d=this.h[2],p=this.h[3],v=this.h[4];for(n=0;n<i.length;n++){var w=~~(n/20),x=d0e(dS(o,5),h0e(w,a,d,p),v,i[n],p0e[w]);v=p,p=d,d=dS(a,30),a=o,o=x}this.h[0]=dg(this.h[0],o),this.h[1]=dg(this.h[1],a),this.h[2]=dg(this.h[2],d),this.h[3]=dg(this.h[3],p),this.h[4]=dg(this.h[4],v)};Qa.prototype._digest=function(e){return e==="hex"?Z0.toHex32(this.h,"big"):Z0.split32(this.h,"big")}});var hS=K((KIe,sz)=>{"use strict";M();var Y0=Zs(),m0e=H0(),J0=lS(),y0e=Lo(),Ys=Y0.sum32,g0e=Y0.sum32_4,v0e=Y0.sum32_5,b0e=J0.ch32,w0e=J0.maj32,_0e=J0.s0_256,x0e=J0.s1_256,M0e=J0.g0_256,E0e=J0.g1_256,oz=m0e.BlockHash,S0e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xa(){if(!(this instanceof Xa))return new Xa;oz.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S0e,this.W=new Array(64)}Y0.inherits(Xa,oz);sz.exports=Xa;Xa.blockSize=512;Xa.outSize=256;Xa.hmacStrength=192;Xa.padLength=64;Xa.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=g0e(E0e(i[n-2]),i[n-7],M0e(i[n-15]),i[n-16]);var o=this.h[0],a=this.h[1],d=this.h[2],p=this.h[3],v=this.h[4],w=this.h[5],x=this.h[6],E=this.h[7];for(y0e(this.k.length===i.length),n=0;n<i.length;n++){var T=v0e(E,x0e(v),b0e(v,w,x),this.k[n],i[n]),A=Ys(_0e(o),w0e(o,a,d));E=x,x=w,w=v,v=Ys(p,T),p=d,d=a,a=o,o=Ys(T,A)}this.h[0]=Ys(this.h[0],o),this.h[1]=Ys(this.h[1],a),this.h[2]=Ys(this.h[2],d),this.h[3]=Ys(this.h[3],p),this.h[4]=Ys(this.h[4],v),this.h[5]=Ys(this.h[5],w),this.h[6]=Ys(this.h[6],x),this.h[7]=Ys(this.h[7],E)};Xa.prototype._digest=function(e){return e==="hex"?Y0.toHex32(this.h,"big"):Y0.split32(this.h,"big")}});var uz=K((ZIe,fz)=>{"use strict";M();var pS=Zs(),az=hS();function nu(){if(!(this instanceof nu))return new nu;az.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}pS.inherits(nu,az);fz.exports=nu;nu.blockSize=512;nu.outSize=224;nu.hmacStrength=192;nu.padLength=64;nu.prototype._digest=function(e){return e==="hex"?pS.toHex32(this.h.slice(0,7),"big"):pS.split32(this.h.slice(0,7),"big")}});var gS=K((JIe,hz)=>{"use strict";M();var vo=Zs(),A0e=H0(),T0e=Lo(),ef=vo.rotr64_hi,tf=vo.rotr64_lo,cz=vo.shr64_hi,lz=vo.shr64_lo,dc=vo.sum64,mS=vo.sum64_hi,yS=vo.sum64_lo,P0e=vo.sum64_4_hi,R0e=vo.sum64_4_lo,k0e=vo.sum64_5_hi,I0e=vo.sum64_5_lo,dz=A0e.BlockHash,D0e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Js(){if(!(this instanceof Js))return new Js;dz.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D0e,this.W=new Array(160)}vo.inherits(Js,dz);hz.exports=Js;Js.blockSize=1024;Js.outSize=512;Js.hmacStrength=192;Js.padLength=128;Js.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var o=$0e(i[n-4],i[n-3]),a=W0e(i[n-4],i[n-3]),d=i[n-14],p=i[n-13],v=z0e(i[n-30],i[n-29]),w=F0e(i[n-30],i[n-29]),x=i[n-32],E=i[n-31];i[n]=P0e(o,a,d,p,v,w,x,E),i[n+1]=R0e(o,a,d,p,v,w,x,E)}};Js.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],o=this.h[1],a=this.h[2],d=this.h[3],p=this.h[4],v=this.h[5],w=this.h[6],x=this.h[7],E=this.h[8],T=this.h[9],A=this.h[10],k=this.h[11],D=this.h[12],I=this.h[13],C=this.h[14],q=this.h[15];T0e(this.k.length===i.length);for(var U=0;U<i.length;U+=2){var $=C,W=q,F=L0e(E,T),L=U0e(E,T),H=B0e(E,T,A,k,D,I),_=O0e(E,T,A,k,D,I),s=this.k[U],u=this.k[U+1],h=i[U],c=i[U+1],l=k0e($,W,F,L,H,_,s,u,h,c),y=I0e($,W,F,L,H,_,s,u,h,c);$=N0e(n,o),W=j0e(n,o),F=C0e(n,o,a,d,p,v),L=q0e(n,o,a,d,p,v);var b=mS($,W,F,L),m=yS($,W,F,L);C=D,q=I,D=A,I=k,A=E,k=T,E=mS(w,x,l,y),T=yS(x,x,l,y),w=p,x=v,p=a,v=d,a=n,d=o,n=mS(l,y,b,m),o=yS(l,y,b,m)}dc(this.h,0,n,o),dc(this.h,2,a,d),dc(this.h,4,p,v),dc(this.h,6,w,x),dc(this.h,8,E,T),dc(this.h,10,A,k),dc(this.h,12,D,I),dc(this.h,14,C,q)};Js.prototype._digest=function(e){return e==="hex"?vo.toHex32(this.h,"big"):vo.split32(this.h,"big")};function B0e(t,e,r,i,n){var o=t&r^~t&n;return o<0&&(o+=4294967296),o}function O0e(t,e,r,i,n,o){var a=e&i^~e&o;return a<0&&(a+=4294967296),a}function C0e(t,e,r,i,n){var o=t&r^t&n^r&n;return o<0&&(o+=4294967296),o}function q0e(t,e,r,i,n,o){var a=e&i^e&o^i&o;return a<0&&(a+=4294967296),a}function N0e(t,e){var r=ef(t,e,28),i=ef(e,t,2),n=ef(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function j0e(t,e){var r=tf(t,e,28),i=tf(e,t,2),n=tf(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function L0e(t,e){var r=ef(t,e,14),i=ef(t,e,18),n=ef(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function U0e(t,e){var r=tf(t,e,14),i=tf(t,e,18),n=tf(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function z0e(t,e){var r=ef(t,e,1),i=ef(t,e,8),n=cz(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function F0e(t,e){var r=tf(t,e,1),i=tf(t,e,8),n=lz(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function $0e(t,e){var r=ef(t,e,19),i=ef(e,t,29),n=cz(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}function W0e(t,e){var r=tf(t,e,19),i=tf(e,t,29),n=lz(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}});var yz=K((XIe,mz)=>{"use strict";M();var vS=Zs(),pz=gS();function ou(){if(!(this instanceof ou))return new ou;pz.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}vS.inherits(ou,pz);mz.exports=ou;ou.blockSize=1024;ou.outSize=384;ou.hmacStrength=192;ou.padLength=128;ou.prototype._digest=function(e){return e==="hex"?vS.toHex32(this.h.slice(0,12),"big"):vS.split32(this.h.slice(0,12),"big")}});var gz=K(Q0=>{"use strict";M();Q0.sha1=nz();Q0.sha224=uz();Q0.sha256=hS();Q0.sha384=yz();Q0.sha512=gS()});var Mz=K(xz=>{"use strict";M();var vd=Zs(),G0e=H0(),c2=vd.rotl32,vz=vd.sum32,hg=vd.sum32_3,bz=vd.sum32_4,_z=G0e.BlockHash;function rf(){if(!(this instanceof rf))return new rf;_z.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}vd.inherits(rf,_z);xz.ripemd160=rf;rf.blockSize=512;rf.outSize=160;rf.hmacStrength=192;rf.padLength=64;rf.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],o=this.h[2],a=this.h[3],d=this.h[4],p=i,v=n,w=o,x=a,E=d,T=0;T<80;T++){var A=vz(c2(bz(i,wz(T,n,o,a),e[H0e[T]+r],V0e(T)),Y0e[T]),d);i=d,d=a,a=c2(o,10),o=n,n=A,A=vz(c2(bz(p,wz(79-T,v,w,x),e[Z0e[T]+r],K0e(T)),J0e[T]),E),p=E,E=x,x=c2(w,10),w=v,v=A}A=hg(this.h[1],o,x),this.h[1]=hg(this.h[2],a,E),this.h[2]=hg(this.h[3],d,p),this.h[3]=hg(this.h[4],i,v),this.h[4]=hg(this.h[0],n,w),this.h[0]=A};rf.prototype._digest=function(e){return e==="hex"?vd.toHex32(this.h,"little"):vd.split32(this.h,"little")};function wz(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function V0e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function K0e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var H0e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Z0e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Y0e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],J0e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Sz=K((oDe,Ez)=>{"use strict";M();var Q0e=Zs(),X0e=Lo();function X0(t,e,r){if(!(this instanceof X0))return new X0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Q0e.toArray(e,r))}Ez.exports=X0;X0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),X0e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};X0.prototype.update=function(e,r){return this.inner.update(e,r),this};X0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var l2=K(Az=>{M();var kn=Az;kn.utils=Zs();kn.common=H0();kn.sha=gz();kn.ripemd=Mz();kn.hmac=Sz();kn.sha1=kn.sha.sha1;kn.sha256=kn.sha.sha256;kn.sha224=kn.sha.sha224;kn.sha384=kn.sha.sha384;kn.sha512=kn.sha.sha512;kn.ripemd160=kn.ripemd.ripemd160});var Pz=K((uDe,Tz)=>{M();Tz.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var d2=K(Iz=>{"use strict";M();var wS=Iz,hc=l2(),bS=cS(),epe=Uo(),Rz=epe.assert;function kz(t){t.type==="short"?this.curve=new bS.short(t):t.type==="edwards"?this.curve=new bS.edwards(t):this.curve=new bS.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Rz(this.g.validate(),"Invalid curve"),Rz(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}wS.PresetCurve=kz;function pc(t,e){Object.defineProperty(wS,t,{configurable:!0,enumerable:!0,get:function(){var r=new kz(e);return Object.defineProperty(wS,t,{configurable:!0,enumerable:!0,value:r}),r}})}pc("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hc.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});pc("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hc.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});pc("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hc.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});pc("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hc.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});pc("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hc.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});pc("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hc.sha256,gRed:!1,g:["9"]});pc("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hc.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var _S;try{_S=Pz()}catch{_S=void 0}pc("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hc.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",_S]})});var Oz=K((hDe,Bz)=>{"use strict";M();var tpe=l2(),bd=fS(),Dz=Lo();function mc(t){if(!(this instanceof mc))return new mc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=bd.toArray(t.entropy,t.entropyEnc||"hex"),r=bd.toArray(t.nonce,t.nonceEnc||"hex"),i=bd.toArray(t.pers,t.persEnc||"hex");Dz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}Bz.exports=mc;mc.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};mc.prototype._hmac=function(){return new tpe.hmac(this.hash,this.K)};mc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};mc.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=bd.toArray(e,r),i=bd.toArray(i,n),Dz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};mc.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=bd.toArray(i,n||"hex"),this._update(i));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(i),this._reseed++,bd.encode(a,r)}});var qz=K((mDe,Cz)=>{"use strict";M();var rpe=Za(),ipe=Uo(),xS=ipe.assert;function zn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Cz.exports=zn;zn.fromPublic=function(e,r,i){return r instanceof zn?r:new zn(e,{pub:r,pubEnc:i})};zn.fromPrivate=function(e,r,i){return r instanceof zn?r:new zn(e,{priv:r,privEnc:i})};zn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};zn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};zn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};zn.prototype._importPrivate=function(e,r){this.priv=new rpe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};zn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?xS(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&xS(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};zn.prototype.derive=function(e){return e.validate()||xS(e.validate(),"public point not validated"),e.mul(this.priv).getX()};zn.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};zn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};zn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Lz=K((gDe,jz)=>{"use strict";M();var h2=Za(),SS=Uo(),npe=SS.assert;function p2(t,e){if(t instanceof p2)return t;this._importDER(t,e)||(npe(t.r&&t.s,"Signature without r or s"),this.r=new h2(t.r,16),this.s=new h2(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}jz.exports=p2;function ope(){this.place=0}function MS(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,a=e.place;o<i;o++,a++)n<<=8,n|=t[a],n>>>=0;return n<=127?!1:(e.place=a,n)}function Nz(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}p2.prototype._importDER=function(e,r){e=SS.toArray(e,r);var i=new ope;if(e[i.place++]!==48)return!1;var n=MS(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var o=MS(e,i);if(o===!1)return!1;var a=e.slice(i.place,o+i.place);if(i.place+=o,e[i.place++]!==2)return!1;var d=MS(e,i);if(d===!1||e.length!==d+i.place)return!1;var p=e.slice(i.place,d+i.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new h2(a),this.s=new h2(p),this.recoveryParam=null,!0};function ES(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}p2.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=Nz(r),i=Nz(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];ES(n,r.length),n=n.concat(r),n.push(2),ES(n,i.length);var o=n.concat(i),a=[48];return ES(a,o.length),a=a.concat(o),SS.encode(a,e)}});var $z=K((bDe,Fz)=>{"use strict";M();var wd=Za(),Uz=Oz(),spe=Uo(),AS=d2(),ape=Ow(),zz=spe.assert,TS=qz(),m2=Lz();function ys(t){if(!(this instanceof ys))return new ys(t);typeof t=="string"&&(zz(Object.prototype.hasOwnProperty.call(AS,t),"Unknown curve "+t),t=AS[t]),t instanceof AS.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Fz.exports=ys;ys.prototype.keyPair=function(e){return new TS(this,e)};ys.prototype.keyFromPrivate=function(e,r){return TS.fromPrivate(this,e,r)};ys.prototype.keyFromPublic=function(e,r){return TS.fromPublic(this,e,r)};ys.prototype.genKeyPair=function(e){e||(e={});for(var r=new Uz({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ape(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new wd(2));;){var o=new wd(r.generate(i));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}};ys.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ys.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new wd(e,16));for(var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),d=e.toArray("be",o),p=new Uz({hash:this.hash,entropy:a,nonce:d,pers:n.pers,persEnc:n.persEnc||"utf8"}),v=this.n.sub(new wd(1)),w=0;;w++){var x=n.k?n.k(w):new wd(p.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(v)>=0)){var E=this.g.mul(x);if(!E.isInfinity()){var T=E.getX(),A=T.umod(this.n);if(A.cmpn(0)!==0){var k=x.invm(this.n).mul(A.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var D=(E.getY().isOdd()?1:0)|(T.cmp(A)!==0?2:0);return n.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),D^=1),new m2({r:A,s:k,recoveryParam:D})}}}}}};ys.prototype.verify=function(e,r,i,n){e=this._truncateToN(new wd(e,16)),i=this.keyFromPublic(i,n),r=new m2(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var d=a.invm(this.n),p=d.mul(e).umod(this.n),v=d.mul(o).umod(this.n),w;return this.curve._maxwellTrick?(w=this.g.jmulAdd(p,i.getPublic(),v),w.isInfinity()?!1:w.eqXToP(o)):(w=this.g.mulAdd(p,i.getPublic(),v),w.isInfinity()?!1:w.getX().umod(this.n).cmp(o)===0)};ys.prototype.recoverPubKey=function(t,e,r,i){zz((3&r)===r,"The recovery param is more than two bits"),e=new m2(e,i);var n=this.n,o=new wd(t),a=e.r,d=e.s,p=r&1,v=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&v)throw new Error("Unable to find sencond key candinate");v?a=this.curve.pointFromX(a.add(this.curve.n),p):a=this.curve.pointFromX(a,p);var w=e.r.invm(n),x=n.sub(o).mul(w).umod(n),E=d.mul(w).umod(n);return this.g.mulAdd(x,a,E)};ys.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new m2(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(t,e,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var Kz=K((_De,Vz)=>{"use strict";M();var pg=Uo(),Gz=pg.assert,Wz=pg.parseBytes,ep=pg.cachedProperty;function dn(t,e){this.eddsa=t,this._secret=Wz(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Wz(e.pub)}dn.fromPublic=function(e,r){return r instanceof dn?r:new dn(e,{pub:r})};dn.fromSecret=function(e,r){return r instanceof dn?r:new dn(e,{secret:r})};dn.prototype.secret=function(){return this._secret};ep(dn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ep(dn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ep(dn,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});ep(dn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ep(dn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ep(dn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});dn.prototype.sign=function(e){return Gz(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};dn.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};dn.prototype.getSecret=function(e){return Gz(this._secret,"KeyPair is public only"),pg.encode(this.secret(),e)};dn.prototype.getPublic=function(e){return pg.encode(this.pubBytes(),e)};Vz.exports=dn});var Zz=K((MDe,Hz)=>{"use strict";M();var fpe=Za(),y2=Uo(),upe=y2.assert,g2=y2.cachedProperty,cpe=y2.parseBytes;function _d(t,e){this.eddsa=t,typeof e!="object"&&(e=cpe(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),upe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof fpe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}g2(_d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});g2(_d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});g2(_d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});g2(_d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});_d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};_d.prototype.toHex=function(){return y2.encode(this.toBytes(),"hex").toUpperCase()};Hz.exports=_d});var eF=K((SDe,Xz)=>{"use strict";M();var lpe=l2(),dpe=d2(),tp=Uo(),hpe=tp.assert,Jz=tp.parseBytes,Qz=Kz(),Yz=Zz();function bo(t){if(hpe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof bo))return new bo(t);t=dpe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=lpe.sha512}Xz.exports=bo;bo.prototype.sign=function(e,r){e=Jz(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),o=this.g.mul(n),a=this.encodePoint(o),d=this.hashInt(a,i.pubBytes(),e).mul(i.priv()),p=n.add(d).umod(this.curve.n);return this.makeSignature({R:o,S:p,Rencoded:a})};bo.prototype.verify=function(e,r,i){e=Jz(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),o=this.hashInt(r.Rencoded(),n.pubBytes(),e),a=this.g.mul(r.S()),d=r.R().add(n.pub().mul(o));return d.eq(a)};bo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return tp.intFromLE(e.digest()).umod(this.curve.n)};bo.prototype.keyFromPublic=function(e){return Qz.fromPublic(this,e)};bo.prototype.keyFromSecret=function(e){return Qz.fromSecret(this,e)};bo.prototype.makeSignature=function(e){return e instanceof Yz?e:new Yz(this,e)};bo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};bo.prototype.decodePoint=function(e){e=tp.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,o=tp.intFromLE(i);return this.curve.pointFromY(o,n)};bo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};bo.prototype.decodeInt=function(e){return tp.intFromLE(e)};bo.prototype.isPoint=function(e){return e instanceof this.pointClass}});var v2=K(tF=>{"use strict";M();var xd=tF;xd.version=DU().version;xd.utils=Uo();xd.rand=Ow();xd.curve=cS();xd.curves=d2();xd.ec=$z();xd.eddsa=eF()});var RS=K((rF,PS)=>{M();(function(t,e){"use strict";function r(_,s){if(!_)throw new Error(s||"Assertion failed")}function i(_,s){_.super_=s;var u=function(){};u.prototype=s.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,s,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(_||0,s||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ut().Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,u){return s.cmp(u)>0?s:u},n.min=function(s,u){return s.cmp(u)<0?s:u},n.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var c=0;s[0]==="-"&&(c++,this.negative=1),c<s.length&&(u===16?this._parseHex(s,c,h):(this._parseBase(s,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,y,b=0;if(h==="be")for(c=s.length-1,l=0;c>=0;c-=3)y=s[c]|s[c-1]<<8|s[c-2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(h==="le")for(c=0,l=0;c<s.length;c+=3)y=s[c]|s[c+1]<<8|s[c+2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function a(_,s){var u=_.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,s,u){var h=a(_,u);return u-1>=s&&(h|=a(_,u-1)<<4),h}n.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,y=0,b;if(h==="be")for(c=s.length-1;c>=u;c-=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8;else{var m=s.length-u;for(c=m%2===0?u+1:u;c<s.length;c+=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8}this.strip()};function p(_,s,u,h){for(var c=0,l=Math.min(_.length,u),y=s;y<l;y++){var b=_.charCodeAt(y)-48;c*=h,b>=49?c+=b-49+10:b>=17?c+=b-17+10:c+=b}return c}n.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var y=s.length-h,b=y%c,m=Math.min(y,y-b)+h,f=0,g=h;g<m;g+=c)f=p(s,g,g+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(b!==0){var R=1;for(f=p(s,g,s.length,u),g=0;g<b;g++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var c=0,l=0,y=0;y<this.length;y++){var b=this.words[y],m=((b<<c|l)&16777215).toString(16);l=b>>>24-c&16777215,l!==0||y!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,y--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var f=w[s],g=x[s];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var S=R.modn(g).toString(s);R=R.idivn(g),R.isZero()?h=S+h:h=v[f-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(s,u){return r(typeof o<"u"),this.toArrayLike(o,s,u)},n.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},n.prototype.toArrayLike=function(s,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var y=u==="le",b=new s(l),m,f,g=this.clone();if(y){for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[f]=m;for(;f<l;f++)b[f]=0}else{for(f=0;f<l-c;f++)b[f]=0;for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[l-f-1]=m}return b},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function E(_){for(var s=new Array(_.bitLength()),u=0;u<s.length;u++){var h=u/26|0,c=u%26;s[u]=(_.words[h]&1<<c)>>>c}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},n.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,c=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,c;this.length>s.length?(h=this,c=s):(h=s,c=this);for(var l=0,y=0;y<c.length;y++)u=(h.words[y]|0)+(c.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;for(;l!==0&&y<h.length;y++)u=(h.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=s):(c=s,l=this);for(var y=0,b=0;b<l.length;b++)u=(c.words[b]|0)-(l.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;for(;y!==0&&b<c.length;b++)u=(c.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;if(y===0&&b<c.length&&c!==this)for(;b<c.length;b++)this.words[b]=c.words[b];return this.length=Math.max(this.length,b),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function T(_,s,u){u.negative=s.negative^_.negative;var h=_.length+s.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=s.words[0]|0,y=c*l,b=y&67108863,m=y/67108864|0;u.words[0]=b;for(var f=1;f<h;f++){for(var g=m>>>26,R=m&67108863,S=Math.min(f,s.length-1),B=Math.max(0,f-_.length+1);B<=S;B++){var z=f-B|0;c=_.words[z]|0,l=s.words[B]|0,y=c*l+R,g+=y/67108864|0,R=y&67108863}u.words[f]=R|0,m=g|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var A=function(s,u,h){var c=s.words,l=u.words,y=h.words,b=0,m,f,g,R=c[0]|0,S=R&8191,B=R>>>13,z=c[1]|0,G=z&8191,V=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Fe=c[3]|0,Q=Fe&8191,X=Fe>>>13,it=c[4]|0,te=it&8191,re=it>>>13,Ht=c[5]|0,ie=Ht&8191,ne=Ht>>>13,Cr=c[6]|0,se=Cr&8191,oe=Cr>>>13,vi=c[7]|0,ae=vi&8191,fe=vi>>>13,bi=c[8]|0,ue=bi&8191,ce=bi>>>13,wi=c[9]|0,le=wi&8191,de=wi>>>13,_i=l[0]|0,he=_i&8191,pe=_i>>>13,Ne=l[1]|0,me=Ne&8191,ye=Ne>>>13,xi=l[2]|0,ge=xi&8191,ve=xi>>>13,Mi=l[3]|0,be=Mi&8191,we=Mi>>>13,Ei=l[4]|0,_e=Ei&8191,xe=Ei>>>13,Si=l[5]|0,Me=Si&8191,Ee=Si>>>13,Ai=l[6]|0,Se=Ai&8191,Ae=Ai>>>13,Ti=l[7]|0,Te=Ti&8191,Pe=Ti>>>13,Pi=l[8]|0,Re=Pi&8191,ke=Pi>>>13,Ri=l[9]|0,Ie=Ri&8191,De=Ri>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul(S,he),f=Math.imul(S,pe),f=f+Math.imul(B,he)|0,g=Math.imul(B,pe);var Rr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(G,he),f=Math.imul(G,pe),f=f+Math.imul(V,he)|0,g=Math.imul(V,pe),m=m+Math.imul(S,me)|0,f=f+Math.imul(S,ye)|0,f=f+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var ht=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,g=Math.imul(Y,pe),m=m+Math.imul(G,me)|0,f=f+Math.imul(G,ye)|0,f=f+Math.imul(V,me)|0,g=g+Math.imul(V,ye)|0,m=m+Math.imul(S,ge)|0,f=f+Math.imul(S,ve)|0,f=f+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var pt=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,g=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,m=m+Math.imul(G,ge)|0,f=f+Math.imul(G,ve)|0,f=f+Math.imul(V,ge)|0,g=g+Math.imul(V,ve)|0,m=m+Math.imul(S,be)|0,f=f+Math.imul(S,we)|0,f=f+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var ur=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,g=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,g=g+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,m=m+Math.imul(G,be)|0,f=f+Math.imul(G,we)|0,f=f+Math.imul(V,be)|0,g=g+Math.imul(V,we)|0,m=m+Math.imul(S,_e)|0,f=f+Math.imul(S,xe)|0,f=f+Math.imul(B,_e)|0,g=g+Math.imul(B,xe)|0;var cr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,g=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,g=g+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,m=m+Math.imul(G,_e)|0,f=f+Math.imul(G,xe)|0,f=f+Math.imul(V,_e)|0,g=g+Math.imul(V,xe)|0,m=m+Math.imul(S,Me)|0,f=f+Math.imul(S,Ee)|0,f=f+Math.imul(B,Me)|0,g=g+Math.imul(B,Ee)|0;var lr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,g=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,g=g+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,g=g+Math.imul(Y,xe)|0,m=m+Math.imul(G,Me)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(V,Me)|0,g=g+Math.imul(V,Ee)|0,m=m+Math.imul(S,Se)|0,f=f+Math.imul(S,Ae)|0,f=f+Math.imul(B,Se)|0,g=g+Math.imul(B,Ae)|0;var dr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ae,he),f=Math.imul(ae,pe),f=f+Math.imul(fe,he)|0,g=Math.imul(fe,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,g=g+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,g=g+Math.imul(Y,Ee)|0,m=m+Math.imul(G,Se)|0,f=f+Math.imul(G,Ae)|0,f=f+Math.imul(V,Se)|0,g=g+Math.imul(V,Ae)|0,m=m+Math.imul(S,Te)|0,f=f+Math.imul(S,Pe)|0,f=f+Math.imul(B,Te)|0,g=g+Math.imul(B,Pe)|0;var hr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,g=Math.imul(ce,pe),m=m+Math.imul(ae,me)|0,f=f+Math.imul(ae,ye)|0,f=f+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,g=g+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,g=g+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,g=g+Math.imul(Y,Ae)|0,m=m+Math.imul(G,Te)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(V,Te)|0,g=g+Math.imul(V,Pe)|0,m=m+Math.imul(S,Re)|0,f=f+Math.imul(S,ke)|0,f=f+Math.imul(B,Re)|0,g=g+Math.imul(B,ke)|0;var pr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,g=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,g=g+Math.imul(ce,ye)|0,m=m+Math.imul(ae,ge)|0,f=f+Math.imul(ae,ve)|0,f=f+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,g=g+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,g=g+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,g=g+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Pe)|0,m=m+Math.imul(G,Re)|0,f=f+Math.imul(G,ke)|0,f=f+Math.imul(V,Re)|0,g=g+Math.imul(V,ke)|0,m=m+Math.imul(S,Ie)|0,f=f+Math.imul(S,De)|0,f=f+Math.imul(B,Ie)|0,g=g+Math.imul(B,De)|0;var mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,g=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,g=g+Math.imul(ce,ve)|0,m=m+Math.imul(ae,be)|0,f=f+Math.imul(ae,we)|0,f=f+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,g=g+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,g=g+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,g=g+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,g=g+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,g=g+Math.imul(Y,ke)|0,m=m+Math.imul(G,Ie)|0,f=f+Math.imul(G,De)|0,f=f+Math.imul(V,Ie)|0,g=g+Math.imul(V,De)|0;var yr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,g=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,g=g+Math.imul(ce,we)|0,m=m+Math.imul(ae,_e)|0,f=f+Math.imul(ae,xe)|0,f=f+Math.imul(fe,_e)|0,g=g+Math.imul(fe,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,g=g+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,g=g+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,g=g+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,g=g+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,De)|0,f=f+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,De)|0;var gr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,g=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,g=g+Math.imul(ce,xe)|0,m=m+Math.imul(ae,Me)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(fe,Me)|0,g=g+Math.imul(fe,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,g=g+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,g=g+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(X,Ie)|0,g=g+Math.imul(X,De)|0;var vr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,g=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,g=g+Math.imul(ce,Ee)|0,m=m+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ae)|0,f=f+Math.imul(fe,Se)|0,g=g+Math.imul(fe,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,g=g+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,De)|0,f=f+Math.imul(re,Ie)|0,g=g+Math.imul(re,De)|0;var br=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,g=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ae)|0,m=m+Math.imul(ae,Te)|0,f=f+Math.imul(ae,Pe)|0,f=f+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,g=g+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,De)|0,f=f+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,De)|0;var wr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,g=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Pe)|0,m=m+Math.imul(ae,Re)|0,f=f+Math.imul(ae,ke)|0,f=f+Math.imul(fe,Re)|0,g=g+Math.imul(fe,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,De)|0;var _r=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,g=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,g=g+Math.imul(ce,ke)|0,m=m+Math.imul(ae,Ie)|0,f=f+Math.imul(ae,De)|0,f=f+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,De)|0;var xr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,g=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,De)|0,f=f+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,De)|0;var Mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,De),f=f+Math.imul(de,Ie)|0,g=Math.imul(de,De);var Er=(b+m|0)+((f&8191)<<13)|0;return b=(g+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,y[0]=Rr,y[1]=ht,y[2]=pt,y[3]=ur,y[4]=cr,y[5]=lr,y[6]=dr,y[7]=hr,y[8]=pr,y[9]=mr,y[10]=yr,y[11]=gr,y[12]=vr,y[13]=br,y[14]=wr,y[15]=_r,y[16]=xr,y[17]=Mr,y[18]=Er,b!==0&&(y[19]=b,h.length++),h};Math.imul||(A=T);function k(_,s,u){u.negative=s.negative^_.negative,u.length=_.length+s.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var y=c;c=0;for(var b=h&67108863,m=Math.min(l,s.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var g=l-f,R=_.words[g]|0,S=s.words[f]|0,B=R*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+b|0,b=z&67108863,y=y+(z>>>26)|0,c+=y>>>26,y&=67108863}u.words[l]=b,h=y,y=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function D(_,s,u){var h=new I;return h.mulp(_,s,u)}n.prototype.mulTo=function(s,u){var h,c=this.length+s.length;return this.length===10&&s.length===10?h=A(this,s,u):c<63?h=T(this,s,u):c<1024?h=k(this,s,u):h=D(this,s,u),h};function I(_,s){this.x=_,this.y=s}I.prototype.makeRBT=function(s){for(var u=new Array(s),h=n.prototype._countBits(s)-1,c=0;c<s;c++)u[c]=this.revBin(c,h,s);return u},I.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var c=0,l=0;l<u;l++)c|=(s&1)<<u-l-1,s>>=1;return c},I.prototype.permute=function(s,u,h,c,l,y){for(var b=0;b<y;b++)c[b]=u[s[b]],l[b]=h[s[b]]},I.prototype.transform=function(s,u,h,c,l,y){this.permute(y,s,u,h,c,l);for(var b=1;b<l;b<<=1)for(var m=b<<1,f=Math.cos(2*Math.PI/m),g=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var S=f,B=g,z=0;z<b;z++){var G=h[R+z],V=c[R+z],J=h[R+z+b],Z=c[R+z+b],Y=S*J-B*Z;Z=S*Z+B*J,J=Y,h[R+z]=G+J,c[R+z]=V+Z,h[R+z+b]=G-J,c[R+z+b]=V-Z,z!==m&&(Y=f*S-g*B,B=f*B+g*S,S=Y)}},I.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=s[c];s[c]=s[h-c-1],s[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(s,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(s[2*c+1]/u)*8192+Math.round(s[2*c]/u)+h;s[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return s},I.prototype.convert13b=function(s,u,h,c){for(var l=0,y=0;y<u;y++)l=l+(s[y]|0),h[2*y]=l&8191,l=l>>>13,h[2*y+1]=l&8191,l=l>>>13;for(y=2*u;y<c;++y)h[y]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},I.prototype.mulp=function(s,u,h){var c=2*this.guessLen13b(s.length,u.length),l=this.makeRBT(c),y=this.stub(c),b=new Array(c),m=new Array(c),f=new Array(c),g=new Array(c),R=new Array(c),S=new Array(c),B=h.words;B.length=c,this.convert13b(s.words,s.length,b,c),this.convert13b(u.words,u.length,g,c),this.transform(b,y,m,f,c,l),this.transform(g,y,R,S,c,l);for(var z=0;z<c;z++){var G=m[z]*R[z]-f[z]*S[z];f[z]=m[z]*S[z]+f[z]*R[z],m[z]=G}return this.conjugate(m,f,c),this.transform(m,f,B,y,c,l),this.conjugate(B,y,c),this.normalize13b(B,c),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},n.prototype.mul=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},n.prototype.mulf=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),D(this,s,u)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){r(typeof s=="number"),r(s<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*s,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var u=E(s);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var y=0;for(l=0;l<this.length;l++){var b=this.words[l]&c,m=(this.words[l]|0)-b<<u;this.words[l]=m|y,y=b>>>26-u}y&&(this.words[l]=y,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var c;u?c=(u-u%26)/26:c=0;var l=s%26,y=Math.min((s-l)/26,this.length),b=67108863^67108863>>>l<<l,m=h;if(c-=y,c=Math.max(0,c),m){for(var f=0;f<y;f++)m.words[f]=this.words[f];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,f=0;f<this.length;f++)this.words[f]=this.words[f+y];else this.words[0]=0,this.length=1;var g=0;for(f=this.length-1;f>=0&&(g!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=g<<26-l|R>>>l,g=R&b}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,u,h){var c=s.length+h,l;this._expand(c);var y,b=0;for(l=0;l<s.length;l++){y=(this.words[l+h]|0)+b;var m=(s.words[l]|0)*u;y-=m&67108863,b=(y>>26)-(m/67108864|0),this.words[l+h]=y&67108863}for(;l<this.length-h;l++)y=(this.words[l+h]|0)+b,b=y>>26,this.words[l+h]=y&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,l=0;l<this.length;l++)y=-(this.words[l]|0)+b,b=y>>26,this.words[l]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(s,u){var h=this.length-s.length,c=this.clone(),l=s,y=l.words[l.length-1]|0,b=this._countBits(y);h=26-b,h!==0&&(l=l.ushln(h),c.iushln(h),y=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var g=0;g<f.length;g++)f.words[g]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var S=m-1;S>=0;S--){var B=(c.words[l.length+S]|0)*67108864+(c.words[l.length+S-1]|0);for(B=Math.min(B/y|0,67108863),c._ishlnsubmul(l,B,S);c.negative!==0;)B--,c.negative=0,c._ishlnsubmul(l,1,S),c.isZero()||(c.negative^=1);f&&(f.words[S]=B)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,u),u!=="mod"&&(c=y.div.neg()),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.iadd(s)),{div:c,mod:l}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),u),u!=="mod"&&(c=y.div.neg()),{div:c,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),u),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.isub(s)),{div:y.div,mod:l}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modn(s.words[0]))}:this._wordDiv(s,u)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,c=s.ushrn(1),l=s.andln(1),y=h.cmp(c);return y<0||l===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(s){r(s<=67108863);for(var u=(1<<26)%s,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%s;return h},n.prototype.idivn=function(s){r(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/s|0,u=c%s}return this.strip()},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=new n(0),b=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),g=u.clone();!u.isZero();){for(var R=0,S=1;!(u.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(g)),c.iushrn(1),l.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(f),b.isub(g)),y.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(y),l.isub(b)):(h.isub(u),y.isub(c),b.isub(l))}return{a:y,b,gcd:h.iushln(m)}},n.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);for(var f=0,g=1;!(h.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(s),R},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var y=u;u=h,h=y}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,y=h;l!==0&&y<this.length;y++){var b=this.words[y]|0;b+=l,l=b>>>26,b&=67108863,this.words[y]=b}return l!==0&&(this.words[y]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var c=this.words[0]|0;h=c===s?0:c<s?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=s.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new L(s)},n.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var C={k256:null,p224:null,p192:null,p25519:null};function q(_,s){this.name=_,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},q.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},q.prototype.split=function(s,u){s.iushrn(this.n,0,u)},q.prototype.imulK=function(s){return s.imul(this.k)};function U(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,q),U.prototype.split=function(s,u){for(var h=4194303,c=Math.min(s.length,9),l=0;l<c;l++)u.words[l]=s.words[l];if(u.length=c,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(u.words[u.length++]=y&h,l=10;l<s.length;l++){var b=s.words[l]|0;s.words[l-10]=(b&h)<<4|y>>>22,y=b}y>>>=22,s.words[l-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},U.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var c=s.words[h]|0;u+=c*977,s.words[h]=u&67108863,u=c*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function $(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,q);function W(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,q);function F(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,q),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var c=(s.words[h]|0)*19+u,l=c&67108863;c>>>=26,s.words[h]=l,u=c}return u!==0&&(s.words[s.length++]=u),s},n._prime=function(s){if(C[s])return C[s];var u;if(s==="k256")u=new U;else if(s==="p224")u=new $;else if(s==="p192")u=new W;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return C[s]=u,u};function L(_){if(typeof _=="string"){var s=n._prime(_);this.m=s.p,this.prime=s}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}L.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},L.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},L.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},L.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},L.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},L.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},L.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},L.prototype.isqr=function(s){return this.imul(s,s.clone())},L.prototype.sqr=function(s){return this.mul(s,s)},L.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(s,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var y=new n(1).toRed(this),b=y.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(b)!==0;)f.redIAdd(b);for(var g=this.pow(f,c),R=this.pow(s,c.addn(1).iushrn(1)),S=this.pow(s,c),B=l;S.cmp(y)!==0;){for(var z=S,G=0;z.cmp(y)!==0;G++)z=z.redSqr();r(G<B);var V=this.pow(g,new n(1).iushln(B-G-1));R=R.redMul(V),g=V.redSqr(),S=S.redMul(g),B=G}return R},L.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(s,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=s;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],s);var y=c[0],b=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],R=f-1;R>=0;R--){var S=g>>R&1;if(y!==c[0]&&(y=this.sqr(y)),S===0&&b===0){m=0;continue}b<<=1,b|=S,m++,!(m!==h&&(l!==0||R!==0))&&(y=this.mul(y,c[b]),m=0,b=0)}f=26}return y},L.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},L.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},n.mont=function(s){return new H(s)};function H(_){L.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,L),H.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},H.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},H.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new n(0)._forceRed(this);var h=s.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof PS>"u"||PS,rF)});var w2=K((kDe,iF)=>{"use strict";M();var b2=Ut(),rp=b2.Buffer,gs={},vs;for(vs in b2)b2.hasOwnProperty(vs)&&(vs==="SlowBuffer"||vs==="Buffer"||(gs[vs]=b2[vs]));var ip=gs.Buffer={};for(vs in rp)rp.hasOwnProperty(vs)&&(vs==="allocUnsafe"||vs==="allocUnsafeSlow"||(ip[vs]=rp[vs]));gs.Buffer.prototype=rp.prototype;(!ip.from||ip.from===Uint8Array.from)&&(ip.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return rp(t,e,r)});ip.alloc||(ip.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=rp(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!gs.kStringMaxLength)try{gs.kStringMaxLength=O.default.binding("buffer").kStringMaxLength}catch{}gs.constants||(gs.constants={MAX_LENGTH:gs.kMaxLength},gs.kStringMaxLength&&(gs.constants.MAX_STRING_LENGTH=gs.kStringMaxLength));iF.exports=gs});var _2=K(nF=>{"use strict";M();var ppe=rt();function bs(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}nF.Reporter=bs;bs.prototype.isError=function(e){return e instanceof np};bs.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};bs.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};bs.prototype.enterKey=function(e){return this._reporterState.path.push(e)};bs.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};bs.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};bs.prototype.path=function(){return this._reporterState.path.join("/")};bs.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};bs.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};bs.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof np;if(n?r=e:r=new np(i.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};bs.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function np(t,e){this.path=t,this.rethrow(e)}ppe(np,Error);np.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,np),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var ap=K(kS=>{"use strict";M();var mpe=rt(),x2=_2().Reporter,op=w2().Buffer;function ws(t,e){if(x2.call(this,e),!op.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}mpe(ws,x2);kS.DecoderBuffer=ws;ws.isDecoderBuffer=function(e){return e instanceof ws?!0:typeof e=="object"&&op.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};ws.prototype.save=function(){return{offset:this.offset,reporter:x2.prototype.save.call(this)}};ws.prototype.restore=function(e){let r=new ws(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,x2.prototype.restore.call(this,e.reporter),r};ws.prototype.isEmpty=function(){return this.offset===this.length};ws.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};ws.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new ws(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};ws.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function sp(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return sp.isEncoderBuffer(r)||(r=new sp(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=op.byteLength(t);else if(op.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}kS.EncoderBuffer=sp;sp.isEncoderBuffer=function(e){return e instanceof sp?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};sp.prototype.join=function(e,r){return e||(e=op.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):op.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var M2=K((qDe,sF)=>{"use strict";M();var ype=_2().Reporter,gpe=ap().EncoderBuffer,vpe=ap().DecoderBuffer,ro=Lo(),oF=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],bpe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(oF),wpe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function fr(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}sF.exports=fr;var _pe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];fr.prototype.clone=function(){let e=this._baseState,r={};_pe.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};fr.prototype._wrap=function(){let e=this._baseState;bpe.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};fr.prototype._init=function(e){let r=this._baseState;ro(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),ro.equal(r.children.length,1,"Root node can have only one child")};fr.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(ro(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(ro(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let o={};return Object.keys(n).forEach(function(a){a==(a|0)&&(a|=0);let d=n[a];o[d]=a}),o}))};wpe.forEach(function(t){fr.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});oF.forEach(function(t){fr.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return ro(r.tag===null),r.tag=t,this._useArgs(i),this}});fr.prototype.use=function(e){ro(e);let r=this._baseState;return ro(r.use===null),r.use=e,this};fr.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};fr.prototype.def=function(e){let r=this._baseState;return ro(r.default===null),r.default=e,r.optional=!0,this};fr.prototype.explicit=function(e){let r=this._baseState;return ro(r.explicit===null&&r.implicit===null),r.explicit=e,this};fr.prototype.implicit=function(e){let r=this._baseState;return ro(r.explicit===null&&r.implicit===null),r.implicit=e,this};fr.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};fr.prototype.key=function(e){let r=this._baseState;return ro(r.key===null),r.key=e,this};fr.prototype.any=function(){let e=this._baseState;return e.any=!0,this};fr.prototype.choice=function(e){let r=this._baseState;return ro(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};fr.prototype.contains=function(e){let r=this._baseState;return ro(r.use===null),r.contains=e,this};fr.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,o=!0,a=null;if(i.key!==null&&(a=e.enterKey(i.key)),i.optional){let p=null;if(i.explicit!==null?p=i.explicit:i.implicit!==null?p=i.implicit:i.tag!==null&&(p=i.tag),p===null&&!i.any){let v=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(v)}else if(o=this._peekTag(e,p,i.any),e.isError(o))return o}let d;if(i.obj&&o&&(d=e.enterObject()),o){if(i.explicit!==null){let v=this._decodeTag(e,i.explicit);if(e.isError(v))return v;e=v}let p=e.offset;if(i.use===null&&i.choice===null){let v;i.any&&(v=e.save());let w=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(w))return w;i.any?n=e.raw(v):e=w}if(r&&r.track&&i.tag!==null&&r.track(e.path(),p,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(w){w._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let v=new vpe(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(v,r)}}return i.obj&&o&&(n=e.leaveObject(d)),i.key!==null&&(n!==null||o===!0)?e.leaveKey(a,i.key,n):a!==null&&e.exitKey(a),n};fr.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};fr.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),ro(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};fr.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,o=!1;return Object.keys(i.choice).some(function(a){let d=e.save(),p=i.choice[a];try{let v=p._decode(e,r);if(e.isError(v))return!1;n={type:a,value:v},o=!0}catch{return e.restore(d),!1}return!0},this),o?n:e.error("Choice not matched")};fr.prototype._createEncoderBuffer=function(e){return new gpe(e,this.reporter)};fr.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let o=this._encodeValue(e,r,i);if(o!==void 0&&!this._skipDefault(o,r,i))return o};fr.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new ype);let o=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let a=null,d=!1;if(n.any)o=this._createEncoderBuffer(e);else if(n.choice)o=this._encodeChoice(e,r);else if(n.contains)a=this._getUse(n.contains,i)._encode(e,r),d=!0;else if(n.children)a=n.children.map(function(p){if(p._baseState.tag==="null_")return p._encode(null,r,e);if(p._baseState.key===null)return r.error("Child should have a key");let v=r.enterKey(p._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let w=p._encode(e[p._baseState.key],r,e);return r.leaveKey(v),w},this).filter(function(p){return p}),a=this._createEncoderBuffer(a);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let p=this.clone();p._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(v){let w=this._baseState;return this._getUse(w.args[0],e)._encode(v,r)},p))}else n.use!==null?o=this._getUse(n.use,i)._encode(e,r):(a=this._encodePrimitive(n.tag,e),d=!0);if(!n.any&&n.choice===null){let p=n.implicit!==null?n.implicit:n.tag,v=n.implicit===null?"universal":"context";p===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(o=this._encodeComposite(p,d,v,a))}return n.explicit!==null&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o};fr.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||ro(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};fr.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};fr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};fr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var E2=K(Md=>{"use strict";M();function aF(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}Md.tagClass={0:"universal",1:"application",2:"context",3:"private"};Md.tagClassByName=aF(Md.tagClass);Md.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Md.tagByName=aF(Md.tag)});var DS=K((UDe,cF)=>{"use strict";M();var xpe=rt(),su=w2().Buffer,fF=M2(),IS=E2();function uF(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Qs,this.tree._init(t.body)}cF.exports=uF;uF.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function Qs(t){fF.call(this,"der",t)}xpe(Qs,fF);Qs.prototype._encodeComposite=function(e,r,i,n){let o=Mpe(e,r,i,this.reporter);if(n.length<128){let p=su.alloc(2);return p[0]=o,p[1]=n.length,this._createEncoderBuffer([p,n])}let a=1;for(let p=n.length;p>=256;p>>=8)a++;let d=su.alloc(1+1+a);d[0]=o,d[1]=128|a;for(let p=1+a,v=n.length;v>0;p--,v>>=8)d[p]=v&255;return this._createEncoderBuffer([d,n])};Qs.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=su.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};Qs.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let d=0;d<e.length;d++)e[d]|=0}else if(Array.isArray(e)){e=e.slice();for(let d=0;d<e.length;d++)e[d]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let d=0;d<e.length;d++){let p=e[d];for(n++;p>=128;p>>=7)n++}let o=su.alloc(n),a=o.length-1;for(let d=e.length-1;d>=0;d--){let p=e[d];for(o[a--]=p&127;(p>>=7)>0;)o[a--]=128|p&127}return this._createEncoderBuffer(o)};function _s(t){return t<10?"0"+t:t}Qs.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[_s(n.getUTCFullYear()),_s(n.getUTCMonth()+1),_s(n.getUTCDate()),_s(n.getUTCHours()),_s(n.getUTCMinutes()),_s(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[_s(n.getUTCFullYear()%100),_s(n.getUTCMonth()+1),_s(n.getUTCDate()),_s(n.getUTCHours()),_s(n.getUTCMinutes()),_s(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};Qs.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Qs.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!su.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=su.from(o)}if(su.isBuffer(e)){let o=e.length;e.length===0&&o++;let a=su.alloc(o);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let o=e;o>=256;o>>=8)i++;let n=new Array(i);for(let o=n.length-1;o>=0;o--)n[o]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(su.from(n))};Qs.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Qs.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};Qs.prototype._skipDefault=function(e,r,i){let n=this._baseState,o;if(n.default===null)return!1;let a=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),a.length!==n.defaultBuffer.length)return!1;for(o=0;o<a.length;o++)if(a[o]!==n.defaultBuffer[o])return!1;return!0};function Mpe(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),IS.tagByName.hasOwnProperty(t))n=IS.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=IS.tagClassByName[r||"universal"]<<6,n)}});var dF=K((FDe,lF)=>{"use strict";M();var Epe=rt(),BS=DS();function OS(t){BS.call(this,t),this.enc="pem"}Epe(OS,BS);lF.exports=OS;OS.prototype.encode=function(e,r){let n=BS.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let a=0;a<n.length;a+=64)o.push(n.slice(a,a+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var CS=K(pF=>{"use strict";M();var hF=pF;hF.der=DS();hF.pem=dF()});var NS=K((VDe,wF)=>{"use strict";M();var Spe=rt(),Ape=RS(),mF=ap().DecoderBuffer,gF=M2(),yF=E2();function vF(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new zo,this.tree._init(t.body)}wF.exports=vF;vF.prototype.decode=function(e,r){return mF.isDecoderBuffer(e)||(e=new mF(e,r)),this.tree._decode(e,r)};function zo(t){gF.call(this,"der",t)}Spe(zo,gF);zo.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),o=qS(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(n),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||i)};zo.prototype._decodeTag=function(e,r,i){let n=qS(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let o=bF(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let a=e.save(),d=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(d)?d:(o=e.offset-a.offset,e.restore(a),e.skip(o,'Failed to match body of: "'+r+'"'))};zo.prototype._skipUntilEnd=function(e,r){for(;;){let i=qS(e,r);if(e.isError(i))return i;let n=bF(e,i.primitive,r);if(e.isError(n))return n;let o;if(i.primitive||n!==null?o=e.skip(n):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(i.tagStr==="end")break}};zo.prototype._decodeList=function(e,r,i,n){let o=[];for(;!e.isEmpty();){let a=this._peekTag(e,"end");if(e.isError(a))return a;let d=i.decode(e,"der",n);if(e.isError(d)&&a)break;o.push(d)}return o};zo.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let o=0;o<i.length/2;o++)n+=String.fromCharCode(i.readUInt16BE(o*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};zo.prototype._decodeObjid=function(e,r,i){let n,o=[],a=0,d=0;for(;!e.isEmpty();)d=e.readUInt8(),a<<=7,a|=d&127,d&128||(o.push(a),a=0);d&128&&o.push(a);let p=o[0]/40|0,v=o[0]%40;if(i?n=o:n=[p,v].concat(o.slice(1)),r){let w=r[n.join(" ")];w===void 0&&(w=r[n.join(".")]),w!==void 0&&(n=w)}return n};zo.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,o,a,d,p,v;if(r==="gentime")n=i.slice(0,4)|0,o=i.slice(4,6)|0,a=i.slice(6,8)|0,d=i.slice(8,10)|0,p=i.slice(10,12)|0,v=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,o=i.slice(2,4)|0,a=i.slice(4,6)|0,d=i.slice(6,8)|0,p=i.slice(8,10)|0,v=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,o-1,a,d,p,v,0)};zo.prototype._decodeNull=function(){return null};zo.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};zo.prototype._decodeInt=function(e,r){let i=e.raw(),n=new Ape(i);return r&&(n=r[n.toString(10)]||n),n};zo.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function qS(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=yF.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let a=r;for(r=0;(a&128)===128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let o=yF.tag[r];return{cls:i,primitive:n,tag:r,tagStr:o}}function bF(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let o=0;o<n;o++){i<<=8;let a=t.readUInt8(r);if(t.isError(a))return a;i|=a}return i}});var xF=K((HDe,_F)=>{"use strict";M();var Tpe=rt(),Ppe=w2().Buffer,jS=NS();function LS(t){jS.call(this,t),this.enc="pem"}Tpe(LS,jS);_F.exports=LS;LS.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,d=-1;for(let w=0;w<i.length;w++){let x=i[w].match(o);if(x!==null&&x[2]===n)if(a===-1){if(x[1]!=="BEGIN")break;a=w}else{if(x[1]!=="END")break;d=w;break}}if(a===-1||d===-1)throw new Error("PEM section not found for: "+n);let p=i.slice(a+1,d).join("");p.replace(/[^a-z0-9+/=]+/gi,"");let v=Ppe.from(p,"base64");return jS.prototype.decode.call(this,v,r)}});var US=K(EF=>{"use strict";M();var MF=EF;MF.der=NS();MF.pem=xF()});var AF=K(SF=>{"use strict";M();var Rpe=CS(),kpe=US(),Ipe=rt(),Dpe=SF;Dpe.define=function(e,r){return new fp(e,r)};function fp(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}fp.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return Ipe(i,e),i.prototype._initNamed=function(o,a){e.call(this,o,a)},new i(this)};fp.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(kpe[e])),this.decoders[e]};fp.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};fp.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(Rpe[e])),this.encoders[e]};fp.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var PF=K(TF=>{"use strict";M();var S2=TF;S2.Reporter=_2().Reporter;S2.DecoderBuffer=ap().DecoderBuffer;S2.EncoderBuffer=ap().EncoderBuffer;S2.Node=M2()});var IF=K(kF=>{"use strict";M();var RF=kF;RF._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};RF.der=E2()});var zS=K(DF=>{"use strict";M();var up=DF;up.bignum=RS();up.define=AF().define;up.base=PF();up.constants=IF();up.decoders=US();up.encoders=CS()});var qF=K((sBe,CF)=>{"use strict";M();var Xs=zS(),BF=Xs.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Bpe=Xs.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),FS=Xs.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Ope=Xs.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(FS),this.key("subjectPublicKey").bitstr())}),Cpe=Xs.define("RelativeDistinguishedName",function(){this.setof(Bpe)}),qpe=Xs.define("RDNSequence",function(){this.seqof(Cpe)}),OF=Xs.define("Name",function(){this.choice({rdnSequence:this.use(qpe)})}),Npe=Xs.define("Validity",function(){this.seq().obj(this.key("notBefore").use(BF),this.key("notAfter").use(BF))}),jpe=Xs.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Lpe=Xs.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(FS),this.key("issuer").use(OF),this.key("validity").use(Npe),this.key("subject").use(OF),this.key("subjectPublicKeyInfo").use(Ope),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(jpe).optional())}),Upe=Xs.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Lpe),this.key("signatureAlgorithm").use(FS),this.key("signatureValue").bitstr())});CF.exports=Upe});var jF=K(ta=>{"use strict";M();var ea=zS();ta.certificate=qF();var zpe=ea.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ta.RSAPrivateKey=zpe;var Fpe=ea.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ta.RSAPublicKey=Fpe;var $pe=ea.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(NF),this.key("subjectPublicKey").bitstr())});ta.PublicKey=$pe;var NF=ea.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Wpe=ea.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(NF),this.key("subjectPrivateKey").octstr())});ta.PrivateKey=Wpe;var Gpe=ea.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ta.EncryptedPrivateKey=Gpe;var Vpe=ea.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ta.DSAPrivateKey=Vpe;ta.DSAparam=ea.define("DSAparam",function(){this.int()});var Kpe=ea.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Hpe),this.key("publicKey").optional().explicit(1).bitstr())});ta.ECPrivateKey=Kpe;var Hpe=ea.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ta.signature=ea.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var LF=K((cBe,Zpe)=>{Zpe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var zF=K((lBe,UF)=>{M();var Ype=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Jpe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Qpe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Xpe=tg(),eme=Bw(),A2=jt().Buffer;UF.exports=function(t,e){var r=t.toString(),i=r.match(Ype),n;if(i){var a="aes"+i[1],d=A2.from(i[2],"hex"),p=A2.from(i[3].replace(/[\r\n]/g,""),"base64"),v=Xpe(e,d.slice(0,8),parseInt(i[1],10)).key,w=[],x=eme.createDecipheriv(a,v,d);w.push(x.update(p)),w.push(x.final()),n=A2.concat(w)}else{var o=r.match(Qpe);n=A2.from(o[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(Jpe)[1];return{tag:E,data:n}}});var mg=K((hBe,$F)=>{M();var wo=jF(),tme=LF(),rme=zF(),ime=Bw(),nme=iE(),$S=jt().Buffer;$F.exports=FF;function FF(t){var e;typeof t=="object"&&!$S.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=$S.from(t));var r=rme(t,e),i=r.tag,n=r.data,o,a;switch(i){case"CERTIFICATE":a=wo.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=wo.PublicKey.decode(n,"der")),o=a.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return wo.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=wo.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":n=wo.EncryptedPrivateKey.decode(n,"der"),n=ome(n,e);case"PRIVATE KEY":switch(a=wo.PrivateKey.decode(n,"der"),o=a.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return wo.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:wo.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=wo.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return wo.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return wo.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:wo.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=wo.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}FF.signature=wo.signature;function ome(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=tme[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,d=parseInt(n.split("-")[1],10)/8,p=nme.pbkdf2Sync(e,r,i,d,"sha1"),v=ime.createDecipheriv(n,p,o),w=[];return w.push(v.update(a)),w.push(v.final()),$S.concat(w)}});var WS=K((mBe,sme)=>{sme.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var VF=K((yBe,P2)=>{M();var Fn=Lw().Buffer,Ed=K8(),ame=t2(),fme=v2().ec,T2=e2(),ume=mg(),cme=WS();function lme(t,e,r,i,n){var o=ume(e);if(o.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return dme(t,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return hme(t,o,r)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");t=Fn.concat([n,t]);for(var a=o.modulus.byteLength(),d=[0,1];t.length+d.length+1<a;)d.push(255);d.push(0);for(var p=-1;++p<t.length;)d.push(t[p]);var v=ame(d,o);return v}function dme(t,e){var r=cme[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new fme(r),n=i.keyFromPrivate(e.privateKey),o=n.sign(t);return Fn.from(o.toDER())}function hme(t,e,r){for(var i=e.params.priv_key,n=e.params.p,o=e.params.q,a=e.params.g,d=new T2(0),p,v=GS(t,o).mod(o),w=!1,x=WF(i,o,t,r);w===!1;)p=GF(o,x,r),d=yme(a,p,n,o),w=p.invm(o).imul(v.add(i.mul(d))).mod(o),w.cmpn(0)===0&&(w=!1,d=new T2(0));return pme(d,w)}function pme(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),Fn.from(i)}function WF(t,e,r,i){if(t=Fn.from(t.toArray()),t.length<e.byteLength()){var n=Fn.alloc(e.byteLength()-t.length);t=Fn.concat([n,t])}var o=r.length,a=mme(r,e),d=Fn.alloc(o);d.fill(1);var p=Fn.alloc(o);return p=Ed(i,p).update(d).update(Fn.from([0])).update(t).update(a).digest(),d=Ed(i,p).update(d).digest(),p=Ed(i,p).update(d).update(Fn.from([1])).update(t).update(a).digest(),d=Ed(i,p).update(d).digest(),{k:p,v:d}}function GS(t,e){var r=new T2(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function mme(t,e){t=GS(t,e),t=t.mod(e);var r=Fn.from(t.toArray());if(r.length<e.byteLength()){var i=Fn.alloc(e.byteLength()-r.length);r=Fn.concat([i,r])}return r}function GF(t,e,r){var i,n;do{for(i=Fn.alloc(0);i.length*8<t.bitLength();)e.v=Ed(r,e.k).update(e.v).digest(),i=Fn.concat([i,e.v]);n=GS(i,t),e.k=Ed(r,e.k).update(e.v).update(Fn.from([0])).digest(),e.v=Ed(r,e.k).update(e.v).digest()}while(n.cmp(t)!==-1);return n}function yme(t,e,r,i){return t.toRed(T2.mont(r)).redPow(e).fromRed().mod(i)}P2.exports=lme;P2.exports.getKey=WF;P2.exports.makeKey=GF});var YF=K((vBe,ZF)=>{M();var VS=Lw().Buffer,yg=e2(),gme=v2().ec,HF=mg(),vme=WS();function bme(t,e,r,i,n){var o=HF(r);if(o.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return wme(t,e,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return _me(t,e,o)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=VS.concat([n,e]);for(var a=o.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<a;)d.push(255),p++;d.push(0);for(var v=-1;++v<e.length;)d.push(e[v]);d=VS.from(d);var w=yg.mont(o.modulus);t=new yg(t).toRed(w),t=t.redPow(new yg(o.publicExponent)),t=VS.from(t.fromRed().toArray());var x=p<8?1:0;for(a=Math.min(t.length,d.length),t.length!==d.length&&(x=1),v=-1;++v<a;)x|=t[v]^d[v];return x===0}function wme(t,e,r){var i=vme[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new gme(i),o=r.data.subjectPrivateKey.data;return n.verify(e,t,o)}function _me(t,e,r){var i=r.data.p,n=r.data.q,o=r.data.g,a=r.data.pub_key,d=HF.signature.decode(t,"der"),p=d.s,v=d.r;KF(p,n),KF(v,n);var w=yg.mont(i),x=p.invm(n),E=o.toRed(w).redPow(new yg(e).mul(x).mod(n)).fromRed().mul(a.toRed(w).redPow(v.mul(x).mod(n)).fromRed()).mod(i).mod(n);return E.cmp(v)===0}function KF(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}ZF.exports=bme});var r$=K((wBe,t$)=>{M();var R2=Lw().Buffer,XF=B0(),k2=TU(),e$=rt(),xme=VF(),Mme=YF(),Sd=H8();Object.keys(Sd).forEach(function(t){Sd[t].id=R2.from(Sd[t].id,"hex"),Sd[t.toLowerCase()]=Sd[t]});function gg(t){k2.Writable.call(this);var e=Sd[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=XF(e.hash),this._tag=e.id,this._signType=e.sign}e$(gg,k2.Writable);gg.prototype._write=function(e,r,i){this._hash.update(e),i()};gg.prototype.update=function(e,r){return typeof e=="string"&&(e=R2.from(e,r)),this._hash.update(e),this};gg.prototype.sign=function(e,r){this.end();var i=this._hash.digest(),n=xme(i,e,this._hashType,this._signType,this._tag);return r?n.toString(r):n};function vg(t){k2.Writable.call(this);var e=Sd[t];if(!e)throw new Error("Unknown message digest");this._hash=XF(e.hash),this._tag=e.id,this._signType=e.sign}e$(vg,k2.Writable);vg.prototype._write=function(e,r,i){this._hash.update(e),i()};vg.prototype.update=function(e,r){return typeof e=="string"&&(e=R2.from(e,r)),this._hash.update(e),this};vg.prototype.verify=function(e,r,i){typeof r=="string"&&(r=R2.from(r,i)),this.end();var n=this._hash.digest();return Mme(r,n,e,this._signType,this._tag)};function JF(t){return new gg(t)}function QF(t){return new vg(t)}t$.exports={Sign:JF,Verify:QF,createSign:JF,createVerify:QF}});var n$=K((i$,KS)=>{M();(function(t,e){"use strict";function r(_,s){if(!_)throw new Error(s||"Assertion failed")}function i(_,s){_.super_=s;var u=function(){};u.prototype=s.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,s,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(_||0,s||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ut().Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,u){return s.cmp(u)>0?s:u},n.min=function(s,u){return s.cmp(u)<0?s:u},n.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var c=0;s[0]==="-"&&(c++,this.negative=1),c<s.length&&(u===16?this._parseHex(s,c,h):(this._parseBase(s,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,y,b=0;if(h==="be")for(c=s.length-1,l=0;c>=0;c-=3)y=s[c]|s[c-1]<<8|s[c-2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(h==="le")for(c=0,l=0;c<s.length;c+=3)y=s[c]|s[c+1]<<8|s[c+2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function a(_,s){var u=_.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,s,u){var h=a(_,u);return u-1>=s&&(h|=a(_,u-1)<<4),h}n.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,y=0,b;if(h==="be")for(c=s.length-1;c>=u;c-=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8;else{var m=s.length-u;for(c=m%2===0?u+1:u;c<s.length;c+=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8}this.strip()};function p(_,s,u,h){for(var c=0,l=Math.min(_.length,u),y=s;y<l;y++){var b=_.charCodeAt(y)-48;c*=h,b>=49?c+=b-49+10:b>=17?c+=b-17+10:c+=b}return c}n.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var y=s.length-h,b=y%c,m=Math.min(y,y-b)+h,f=0,g=h;g<m;g+=c)f=p(s,g,g+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(b!==0){var R=1;for(f=p(s,g,s.length,u),g=0;g<b;g++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var c=0,l=0,y=0;y<this.length;y++){var b=this.words[y],m=((b<<c|l)&16777215).toString(16);l=b>>>24-c&16777215,l!==0||y!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,y--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var f=w[s],g=x[s];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var S=R.modn(g).toString(s);R=R.idivn(g),R.isZero()?h=S+h:h=v[f-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(s,u){return r(typeof o<"u"),this.toArrayLike(o,s,u)},n.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},n.prototype.toArrayLike=function(s,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var y=u==="le",b=new s(l),m,f,g=this.clone();if(y){for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[f]=m;for(;f<l;f++)b[f]=0}else{for(f=0;f<l-c;f++)b[f]=0;for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[l-f-1]=m}return b},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function E(_){for(var s=new Array(_.bitLength()),u=0;u<s.length;u++){var h=u/26|0,c=u%26;s[u]=(_.words[h]&1<<c)>>>c}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},n.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,c=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,c;this.length>s.length?(h=this,c=s):(h=s,c=this);for(var l=0,y=0;y<c.length;y++)u=(h.words[y]|0)+(c.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;for(;l!==0&&y<h.length;y++)u=(h.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=s):(c=s,l=this);for(var y=0,b=0;b<l.length;b++)u=(c.words[b]|0)-(l.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;for(;y!==0&&b<c.length;b++)u=(c.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;if(y===0&&b<c.length&&c!==this)for(;b<c.length;b++)this.words[b]=c.words[b];return this.length=Math.max(this.length,b),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function T(_,s,u){u.negative=s.negative^_.negative;var h=_.length+s.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=s.words[0]|0,y=c*l,b=y&67108863,m=y/67108864|0;u.words[0]=b;for(var f=1;f<h;f++){for(var g=m>>>26,R=m&67108863,S=Math.min(f,s.length-1),B=Math.max(0,f-_.length+1);B<=S;B++){var z=f-B|0;c=_.words[z]|0,l=s.words[B]|0,y=c*l+R,g+=y/67108864|0,R=y&67108863}u.words[f]=R|0,m=g|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var A=function(s,u,h){var c=s.words,l=u.words,y=h.words,b=0,m,f,g,R=c[0]|0,S=R&8191,B=R>>>13,z=c[1]|0,G=z&8191,V=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Fe=c[3]|0,Q=Fe&8191,X=Fe>>>13,it=c[4]|0,te=it&8191,re=it>>>13,Ht=c[5]|0,ie=Ht&8191,ne=Ht>>>13,Cr=c[6]|0,se=Cr&8191,oe=Cr>>>13,vi=c[7]|0,ae=vi&8191,fe=vi>>>13,bi=c[8]|0,ue=bi&8191,ce=bi>>>13,wi=c[9]|0,le=wi&8191,de=wi>>>13,_i=l[0]|0,he=_i&8191,pe=_i>>>13,Ne=l[1]|0,me=Ne&8191,ye=Ne>>>13,xi=l[2]|0,ge=xi&8191,ve=xi>>>13,Mi=l[3]|0,be=Mi&8191,we=Mi>>>13,Ei=l[4]|0,_e=Ei&8191,xe=Ei>>>13,Si=l[5]|0,Me=Si&8191,Ee=Si>>>13,Ai=l[6]|0,Se=Ai&8191,Ae=Ai>>>13,Ti=l[7]|0,Te=Ti&8191,Pe=Ti>>>13,Pi=l[8]|0,Re=Pi&8191,ke=Pi>>>13,Ri=l[9]|0,Ie=Ri&8191,De=Ri>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul(S,he),f=Math.imul(S,pe),f=f+Math.imul(B,he)|0,g=Math.imul(B,pe);var Rr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(G,he),f=Math.imul(G,pe),f=f+Math.imul(V,he)|0,g=Math.imul(V,pe),m=m+Math.imul(S,me)|0,f=f+Math.imul(S,ye)|0,f=f+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var ht=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,g=Math.imul(Y,pe),m=m+Math.imul(G,me)|0,f=f+Math.imul(G,ye)|0,f=f+Math.imul(V,me)|0,g=g+Math.imul(V,ye)|0,m=m+Math.imul(S,ge)|0,f=f+Math.imul(S,ve)|0,f=f+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var pt=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,g=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,m=m+Math.imul(G,ge)|0,f=f+Math.imul(G,ve)|0,f=f+Math.imul(V,ge)|0,g=g+Math.imul(V,ve)|0,m=m+Math.imul(S,be)|0,f=f+Math.imul(S,we)|0,f=f+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var ur=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,g=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,g=g+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,m=m+Math.imul(G,be)|0,f=f+Math.imul(G,we)|0,f=f+Math.imul(V,be)|0,g=g+Math.imul(V,we)|0,m=m+Math.imul(S,_e)|0,f=f+Math.imul(S,xe)|0,f=f+Math.imul(B,_e)|0,g=g+Math.imul(B,xe)|0;var cr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,g=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,g=g+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,m=m+Math.imul(G,_e)|0,f=f+Math.imul(G,xe)|0,f=f+Math.imul(V,_e)|0,g=g+Math.imul(V,xe)|0,m=m+Math.imul(S,Me)|0,f=f+Math.imul(S,Ee)|0,f=f+Math.imul(B,Me)|0,g=g+Math.imul(B,Ee)|0;var lr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,g=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,g=g+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,g=g+Math.imul(Y,xe)|0,m=m+Math.imul(G,Me)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(V,Me)|0,g=g+Math.imul(V,Ee)|0,m=m+Math.imul(S,Se)|0,f=f+Math.imul(S,Ae)|0,f=f+Math.imul(B,Se)|0,g=g+Math.imul(B,Ae)|0;var dr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ae,he),f=Math.imul(ae,pe),f=f+Math.imul(fe,he)|0,g=Math.imul(fe,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,g=g+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,g=g+Math.imul(Y,Ee)|0,m=m+Math.imul(G,Se)|0,f=f+Math.imul(G,Ae)|0,f=f+Math.imul(V,Se)|0,g=g+Math.imul(V,Ae)|0,m=m+Math.imul(S,Te)|0,f=f+Math.imul(S,Pe)|0,f=f+Math.imul(B,Te)|0,g=g+Math.imul(B,Pe)|0;var hr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,g=Math.imul(ce,pe),m=m+Math.imul(ae,me)|0,f=f+Math.imul(ae,ye)|0,f=f+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,g=g+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,g=g+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,g=g+Math.imul(Y,Ae)|0,m=m+Math.imul(G,Te)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(V,Te)|0,g=g+Math.imul(V,Pe)|0,m=m+Math.imul(S,Re)|0,f=f+Math.imul(S,ke)|0,f=f+Math.imul(B,Re)|0,g=g+Math.imul(B,ke)|0;var pr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,g=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,g=g+Math.imul(ce,ye)|0,m=m+Math.imul(ae,ge)|0,f=f+Math.imul(ae,ve)|0,f=f+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,g=g+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,g=g+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,g=g+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Pe)|0,m=m+Math.imul(G,Re)|0,f=f+Math.imul(G,ke)|0,f=f+Math.imul(V,Re)|0,g=g+Math.imul(V,ke)|0,m=m+Math.imul(S,Ie)|0,f=f+Math.imul(S,De)|0,f=f+Math.imul(B,Ie)|0,g=g+Math.imul(B,De)|0;var mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,g=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,g=g+Math.imul(ce,ve)|0,m=m+Math.imul(ae,be)|0,f=f+Math.imul(ae,we)|0,f=f+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,g=g+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,g=g+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,g=g+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,g=g+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,g=g+Math.imul(Y,ke)|0,m=m+Math.imul(G,Ie)|0,f=f+Math.imul(G,De)|0,f=f+Math.imul(V,Ie)|0,g=g+Math.imul(V,De)|0;var yr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,g=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,g=g+Math.imul(ce,we)|0,m=m+Math.imul(ae,_e)|0,f=f+Math.imul(ae,xe)|0,f=f+Math.imul(fe,_e)|0,g=g+Math.imul(fe,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,g=g+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,g=g+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,g=g+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,g=g+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,De)|0,f=f+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,De)|0;var gr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,g=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,g=g+Math.imul(ce,xe)|0,m=m+Math.imul(ae,Me)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(fe,Me)|0,g=g+Math.imul(fe,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,g=g+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,g=g+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(X,Ie)|0,g=g+Math.imul(X,De)|0;var vr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,g=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,g=g+Math.imul(ce,Ee)|0,m=m+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ae)|0,f=f+Math.imul(fe,Se)|0,g=g+Math.imul(fe,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,g=g+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,De)|0,f=f+Math.imul(re,Ie)|0,g=g+Math.imul(re,De)|0;var br=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,g=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ae)|0,m=m+Math.imul(ae,Te)|0,f=f+Math.imul(ae,Pe)|0,f=f+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,g=g+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,De)|0,f=f+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,De)|0;var wr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,g=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Pe)|0,m=m+Math.imul(ae,Re)|0,f=f+Math.imul(ae,ke)|0,f=f+Math.imul(fe,Re)|0,g=g+Math.imul(fe,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,De)|0;var _r=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,g=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,g=g+Math.imul(ce,ke)|0,m=m+Math.imul(ae,Ie)|0,f=f+Math.imul(ae,De)|0,f=f+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,De)|0;var xr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,g=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,De)|0,f=f+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,De)|0;var Mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,De),f=f+Math.imul(de,Ie)|0,g=Math.imul(de,De);var Er=(b+m|0)+((f&8191)<<13)|0;return b=(g+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,y[0]=Rr,y[1]=ht,y[2]=pt,y[3]=ur,y[4]=cr,y[5]=lr,y[6]=dr,y[7]=hr,y[8]=pr,y[9]=mr,y[10]=yr,y[11]=gr,y[12]=vr,y[13]=br,y[14]=wr,y[15]=_r,y[16]=xr,y[17]=Mr,y[18]=Er,b!==0&&(y[19]=b,h.length++),h};Math.imul||(A=T);function k(_,s,u){u.negative=s.negative^_.negative,u.length=_.length+s.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var y=c;c=0;for(var b=h&67108863,m=Math.min(l,s.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var g=l-f,R=_.words[g]|0,S=s.words[f]|0,B=R*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+b|0,b=z&67108863,y=y+(z>>>26)|0,c+=y>>>26,y&=67108863}u.words[l]=b,h=y,y=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function D(_,s,u){var h=new I;return h.mulp(_,s,u)}n.prototype.mulTo=function(s,u){var h,c=this.length+s.length;return this.length===10&&s.length===10?h=A(this,s,u):c<63?h=T(this,s,u):c<1024?h=k(this,s,u):h=D(this,s,u),h};function I(_,s){this.x=_,this.y=s}I.prototype.makeRBT=function(s){for(var u=new Array(s),h=n.prototype._countBits(s)-1,c=0;c<s;c++)u[c]=this.revBin(c,h,s);return u},I.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var c=0,l=0;l<u;l++)c|=(s&1)<<u-l-1,s>>=1;return c},I.prototype.permute=function(s,u,h,c,l,y){for(var b=0;b<y;b++)c[b]=u[s[b]],l[b]=h[s[b]]},I.prototype.transform=function(s,u,h,c,l,y){this.permute(y,s,u,h,c,l);for(var b=1;b<l;b<<=1)for(var m=b<<1,f=Math.cos(2*Math.PI/m),g=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var S=f,B=g,z=0;z<b;z++){var G=h[R+z],V=c[R+z],J=h[R+z+b],Z=c[R+z+b],Y=S*J-B*Z;Z=S*Z+B*J,J=Y,h[R+z]=G+J,c[R+z]=V+Z,h[R+z+b]=G-J,c[R+z+b]=V-Z,z!==m&&(Y=f*S-g*B,B=f*B+g*S,S=Y)}},I.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=s[c];s[c]=s[h-c-1],s[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(s,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(s[2*c+1]/u)*8192+Math.round(s[2*c]/u)+h;s[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return s},I.prototype.convert13b=function(s,u,h,c){for(var l=0,y=0;y<u;y++)l=l+(s[y]|0),h[2*y]=l&8191,l=l>>>13,h[2*y+1]=l&8191,l=l>>>13;for(y=2*u;y<c;++y)h[y]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},I.prototype.mulp=function(s,u,h){var c=2*this.guessLen13b(s.length,u.length),l=this.makeRBT(c),y=this.stub(c),b=new Array(c),m=new Array(c),f=new Array(c),g=new Array(c),R=new Array(c),S=new Array(c),B=h.words;B.length=c,this.convert13b(s.words,s.length,b,c),this.convert13b(u.words,u.length,g,c),this.transform(b,y,m,f,c,l),this.transform(g,y,R,S,c,l);for(var z=0;z<c;z++){var G=m[z]*R[z]-f[z]*S[z];f[z]=m[z]*S[z]+f[z]*R[z],m[z]=G}return this.conjugate(m,f,c),this.transform(m,f,B,y,c,l),this.conjugate(B,y,c),this.normalize13b(B,c),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},n.prototype.mul=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},n.prototype.mulf=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),D(this,s,u)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){r(typeof s=="number"),r(s<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*s,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var u=E(s);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var y=0;for(l=0;l<this.length;l++){var b=this.words[l]&c,m=(this.words[l]|0)-b<<u;this.words[l]=m|y,y=b>>>26-u}y&&(this.words[l]=y,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var c;u?c=(u-u%26)/26:c=0;var l=s%26,y=Math.min((s-l)/26,this.length),b=67108863^67108863>>>l<<l,m=h;if(c-=y,c=Math.max(0,c),m){for(var f=0;f<y;f++)m.words[f]=this.words[f];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,f=0;f<this.length;f++)this.words[f]=this.words[f+y];else this.words[0]=0,this.length=1;var g=0;for(f=this.length-1;f>=0&&(g!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=g<<26-l|R>>>l,g=R&b}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,u,h){var c=s.length+h,l;this._expand(c);var y,b=0;for(l=0;l<s.length;l++){y=(this.words[l+h]|0)+b;var m=(s.words[l]|0)*u;y-=m&67108863,b=(y>>26)-(m/67108864|0),this.words[l+h]=y&67108863}for(;l<this.length-h;l++)y=(this.words[l+h]|0)+b,b=y>>26,this.words[l+h]=y&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,l=0;l<this.length;l++)y=-(this.words[l]|0)+b,b=y>>26,this.words[l]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(s,u){var h=this.length-s.length,c=this.clone(),l=s,y=l.words[l.length-1]|0,b=this._countBits(y);h=26-b,h!==0&&(l=l.ushln(h),c.iushln(h),y=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var g=0;g<f.length;g++)f.words[g]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var S=m-1;S>=0;S--){var B=(c.words[l.length+S]|0)*67108864+(c.words[l.length+S-1]|0);for(B=Math.min(B/y|0,67108863),c._ishlnsubmul(l,B,S);c.negative!==0;)B--,c.negative=0,c._ishlnsubmul(l,1,S),c.isZero()||(c.negative^=1);f&&(f.words[S]=B)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,u),u!=="mod"&&(c=y.div.neg()),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.iadd(s)),{div:c,mod:l}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),u),u!=="mod"&&(c=y.div.neg()),{div:c,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),u),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.isub(s)),{div:y.div,mod:l}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modn(s.words[0]))}:this._wordDiv(s,u)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,c=s.ushrn(1),l=s.andln(1),y=h.cmp(c);return y<0||l===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(s){r(s<=67108863);for(var u=(1<<26)%s,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%s;return h},n.prototype.idivn=function(s){r(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/s|0,u=c%s}return this.strip()},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=new n(0),b=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),g=u.clone();!u.isZero();){for(var R=0,S=1;!(u.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(g)),c.iushrn(1),l.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(f),b.isub(g)),y.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(y),l.isub(b)):(h.isub(u),y.isub(c),b.isub(l))}return{a:y,b,gcd:h.iushln(m)}},n.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);for(var f=0,g=1;!(h.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(s),R},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var y=u;u=h,h=y}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,y=h;l!==0&&y<this.length;y++){var b=this.words[y]|0;b+=l,l=b>>>26,b&=67108863,this.words[y]=b}return l!==0&&(this.words[y]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var c=this.words[0]|0;h=c===s?0:c<s?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=s.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new L(s)},n.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var C={k256:null,p224:null,p192:null,p25519:null};function q(_,s){this.name=_,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},q.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},q.prototype.split=function(s,u){s.iushrn(this.n,0,u)},q.prototype.imulK=function(s){return s.imul(this.k)};function U(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,q),U.prototype.split=function(s,u){for(var h=4194303,c=Math.min(s.length,9),l=0;l<c;l++)u.words[l]=s.words[l];if(u.length=c,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(u.words[u.length++]=y&h,l=10;l<s.length;l++){var b=s.words[l]|0;s.words[l-10]=(b&h)<<4|y>>>22,y=b}y>>>=22,s.words[l-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},U.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var c=s.words[h]|0;u+=c*977,s.words[h]=u&67108863,u=c*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function $(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,q);function W(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,q);function F(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,q),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var c=(s.words[h]|0)*19+u,l=c&67108863;c>>>=26,s.words[h]=l,u=c}return u!==0&&(s.words[s.length++]=u),s},n._prime=function(s){if(C[s])return C[s];var u;if(s==="k256")u=new U;else if(s==="p224")u=new $;else if(s==="p192")u=new W;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return C[s]=u,u};function L(_){if(typeof _=="string"){var s=n._prime(_);this.m=s.p,this.prime=s}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}L.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},L.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},L.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},L.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},L.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},L.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},L.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},L.prototype.isqr=function(s){return this.imul(s,s.clone())},L.prototype.sqr=function(s){return this.mul(s,s)},L.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(s,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var y=new n(1).toRed(this),b=y.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(b)!==0;)f.redIAdd(b);for(var g=this.pow(f,c),R=this.pow(s,c.addn(1).iushrn(1)),S=this.pow(s,c),B=l;S.cmp(y)!==0;){for(var z=S,G=0;z.cmp(y)!==0;G++)z=z.redSqr();r(G<B);var V=this.pow(g,new n(1).iushln(B-G-1));R=R.redMul(V),g=V.redSqr(),S=S.redMul(g),B=G}return R},L.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(s,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=s;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],s);var y=c[0],b=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],R=f-1;R>=0;R--){var S=g>>R&1;if(y!==c[0]&&(y=this.sqr(y)),S===0&&b===0){m=0;continue}b<<=1,b|=S,m++,!(m!==h&&(l!==0||R!==0))&&(y=this.mul(y,c[b]),m=0,b=0)}f=26}return y},L.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},L.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},n.mont=function(s){return new H(s)};function H(_){L.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,L),H.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},H.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},H.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new n(0)._forceRed(this);var h=s.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof KS>"u"||KS,i$)});var s$=K((MBe,o$)=>{M();var Eme=v2(),Sme=n$();o$.exports=function(e){return new Ad(e)};var Fo={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Fo.p224=Fo.secp224r1;Fo.p256=Fo.secp256r1=Fo.prime256v1;Fo.p192=Fo.secp192r1=Fo.prime192v1;Fo.p384=Fo.secp384r1;Fo.p521=Fo.secp521r1;function Ad(t){this.curveType=Fo[t],this.curveType||(this.curveType={name:t}),this.curve=new Eme.ec(this.curveType.name),this.keys=void 0}Ad.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Ad.prototype.computeSecret=function(t,e,r){e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e));var i=this.curve.keyFromPublic(t).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return HS(n,r,this.curveType.byteLength)};Ad.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),HS(r,t)};Ad.prototype.getPrivateKey=function(t){return HS(this.keys.getPrivate(),t)};Ad.prototype.setPublicKey=function(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this.keys._importPublic(t),this};Ad.prototype.setPrivateKey=function(t,e){e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e));var r=new Sme(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function HS(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new N.Buffer(t);if(r&&i.length<r){var n=new N.Buffer(r-i.length);n.fill(0),i=N.Buffer.concat([n,i])}return e?i.toString(e):i}});var YS=K((SBe,a$)=>{M();var Ame=B0(),ZS=jt().Buffer;a$.exports=function(t,e){for(var r=ZS.alloc(0),i=0,n;r.length<e;)n=Tme(i++),r=ZS.concat([r,Ame("sha1").update(t).update(n).digest()]);return r.slice(0,e)};function Tme(t){var e=ZS.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var JS=K((TBe,f$)=>{M();f$.exports=function(e,r){for(var i=e.length,n=-1;++n<i;)e[n]^=r[n];return e}});var I2=K((u$,QS)=>{M();(function(t,e){"use strict";function r(_,s){if(!_)throw new Error(s||"Assertion failed")}function i(_,s){_.super_=s;var u=function(){};u.prototype=s.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,s,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(_||0,s||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ut().Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,u){return s.cmp(u)>0?s:u},n.min=function(s,u){return s.cmp(u)<0?s:u},n.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var c=0;s[0]==="-"&&(c++,this.negative=1),c<s.length&&(u===16?this._parseHex(s,c,h):(this._parseBase(s,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,y,b=0;if(h==="be")for(c=s.length-1,l=0;c>=0;c-=3)y=s[c]|s[c-1]<<8|s[c-2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(h==="le")for(c=0,l=0;c<s.length;c+=3)y=s[c]|s[c+1]<<8|s[c+2]<<16,this.words[l]|=y<<b&67108863,this.words[l+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function a(_,s){var u=_.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,s,u){var h=a(_,u);return u-1>=s&&(h|=a(_,u-1)<<4),h}n.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,y=0,b;if(h==="be")for(c=s.length-1;c>=u;c-=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8;else{var m=s.length-u;for(c=m%2===0?u+1:u;c<s.length;c+=2)b=d(s,u,c)<<l,this.words[y]|=b&67108863,l>=18?(l-=18,y+=1,this.words[y]|=b>>>26):l+=8}this.strip()};function p(_,s,u,h){for(var c=0,l=Math.min(_.length,u),y=s;y<l;y++){var b=_.charCodeAt(y)-48;c*=h,b>=49?c+=b-49+10:b>=17?c+=b-17+10:c+=b}return c}n.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var y=s.length-h,b=y%c,m=Math.min(y,y-b)+h,f=0,g=h;g<m;g+=c)f=p(s,g,g+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(b!==0){var R=1;for(f=p(s,g,s.length,u),g=0;g<b;g++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var c=0,l=0,y=0;y<this.length;y++){var b=this.words[y],m=((b<<c|l)&16777215).toString(16);l=b>>>24-c&16777215,l!==0||y!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,y--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var f=w[s],g=x[s];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var S=R.modn(g).toString(s);R=R.idivn(g),R.isZero()?h=S+h:h=v[f-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(s,u){return r(typeof o<"u"),this.toArrayLike(o,s,u)},n.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},n.prototype.toArrayLike=function(s,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var y=u==="le",b=new s(l),m,f,g=this.clone();if(y){for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[f]=m;for(;f<l;f++)b[f]=0}else{for(f=0;f<l-c;f++)b[f]=0;for(f=0;!g.isZero();f++)m=g.andln(255),g.iushrn(8),b[l-f-1]=m}return b},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function E(_){for(var s=new Array(_.bitLength()),u=0;u<s.length;u++){var h=u/26|0,c=u%26;s[u]=(_.words[h]&1<<c)>>>c}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},n.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,c=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,c;this.length>s.length?(h=this,c=s):(h=s,c=this);for(var l=0,y=0;y<c.length;y++)u=(h.words[y]|0)+(c.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;for(;l!==0&&y<h.length;y++)u=(h.words[y]|0)+l,this.words[y]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=s):(c=s,l=this);for(var y=0,b=0;b<l.length;b++)u=(c.words[b]|0)-(l.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;for(;y!==0&&b<c.length;b++)u=(c.words[b]|0)+y,y=u>>26,this.words[b]=u&67108863;if(y===0&&b<c.length&&c!==this)for(;b<c.length;b++)this.words[b]=c.words[b];return this.length=Math.max(this.length,b),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function T(_,s,u){u.negative=s.negative^_.negative;var h=_.length+s.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=s.words[0]|0,y=c*l,b=y&67108863,m=y/67108864|0;u.words[0]=b;for(var f=1;f<h;f++){for(var g=m>>>26,R=m&67108863,S=Math.min(f,s.length-1),B=Math.max(0,f-_.length+1);B<=S;B++){var z=f-B|0;c=_.words[z]|0,l=s.words[B]|0,y=c*l+R,g+=y/67108864|0,R=y&67108863}u.words[f]=R|0,m=g|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var A=function(s,u,h){var c=s.words,l=u.words,y=h.words,b=0,m,f,g,R=c[0]|0,S=R&8191,B=R>>>13,z=c[1]|0,G=z&8191,V=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Fe=c[3]|0,Q=Fe&8191,X=Fe>>>13,it=c[4]|0,te=it&8191,re=it>>>13,Ht=c[5]|0,ie=Ht&8191,ne=Ht>>>13,Cr=c[6]|0,se=Cr&8191,oe=Cr>>>13,vi=c[7]|0,ae=vi&8191,fe=vi>>>13,bi=c[8]|0,ue=bi&8191,ce=bi>>>13,wi=c[9]|0,le=wi&8191,de=wi>>>13,_i=l[0]|0,he=_i&8191,pe=_i>>>13,Ne=l[1]|0,me=Ne&8191,ye=Ne>>>13,xi=l[2]|0,ge=xi&8191,ve=xi>>>13,Mi=l[3]|0,be=Mi&8191,we=Mi>>>13,Ei=l[4]|0,_e=Ei&8191,xe=Ei>>>13,Si=l[5]|0,Me=Si&8191,Ee=Si>>>13,Ai=l[6]|0,Se=Ai&8191,Ae=Ai>>>13,Ti=l[7]|0,Te=Ti&8191,Pe=Ti>>>13,Pi=l[8]|0,Re=Pi&8191,ke=Pi>>>13,Ri=l[9]|0,Ie=Ri&8191,De=Ri>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul(S,he),f=Math.imul(S,pe),f=f+Math.imul(B,he)|0,g=Math.imul(B,pe);var Rr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(G,he),f=Math.imul(G,pe),f=f+Math.imul(V,he)|0,g=Math.imul(V,pe),m=m+Math.imul(S,me)|0,f=f+Math.imul(S,ye)|0,f=f+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var ht=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,g=Math.imul(Y,pe),m=m+Math.imul(G,me)|0,f=f+Math.imul(G,ye)|0,f=f+Math.imul(V,me)|0,g=g+Math.imul(V,ye)|0,m=m+Math.imul(S,ge)|0,f=f+Math.imul(S,ve)|0,f=f+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var pt=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,g=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,m=m+Math.imul(G,ge)|0,f=f+Math.imul(G,ve)|0,f=f+Math.imul(V,ge)|0,g=g+Math.imul(V,ve)|0,m=m+Math.imul(S,be)|0,f=f+Math.imul(S,we)|0,f=f+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var ur=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,g=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,g=g+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,m=m+Math.imul(G,be)|0,f=f+Math.imul(G,we)|0,f=f+Math.imul(V,be)|0,g=g+Math.imul(V,we)|0,m=m+Math.imul(S,_e)|0,f=f+Math.imul(S,xe)|0,f=f+Math.imul(B,_e)|0,g=g+Math.imul(B,xe)|0;var cr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,g=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,g=g+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,m=m+Math.imul(G,_e)|0,f=f+Math.imul(G,xe)|0,f=f+Math.imul(V,_e)|0,g=g+Math.imul(V,xe)|0,m=m+Math.imul(S,Me)|0,f=f+Math.imul(S,Ee)|0,f=f+Math.imul(B,Me)|0,g=g+Math.imul(B,Ee)|0;var lr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,g=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,g=g+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,g=g+Math.imul(Y,xe)|0,m=m+Math.imul(G,Me)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(V,Me)|0,g=g+Math.imul(V,Ee)|0,m=m+Math.imul(S,Se)|0,f=f+Math.imul(S,Ae)|0,f=f+Math.imul(B,Se)|0,g=g+Math.imul(B,Ae)|0;var dr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ae,he),f=Math.imul(ae,pe),f=f+Math.imul(fe,he)|0,g=Math.imul(fe,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,g=g+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,g=g+Math.imul(Y,Ee)|0,m=m+Math.imul(G,Se)|0,f=f+Math.imul(G,Ae)|0,f=f+Math.imul(V,Se)|0,g=g+Math.imul(V,Ae)|0,m=m+Math.imul(S,Te)|0,f=f+Math.imul(S,Pe)|0,f=f+Math.imul(B,Te)|0,g=g+Math.imul(B,Pe)|0;var hr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,g=Math.imul(ce,pe),m=m+Math.imul(ae,me)|0,f=f+Math.imul(ae,ye)|0,f=f+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,g=g+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,g=g+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,g=g+Math.imul(Y,Ae)|0,m=m+Math.imul(G,Te)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(V,Te)|0,g=g+Math.imul(V,Pe)|0,m=m+Math.imul(S,Re)|0,f=f+Math.imul(S,ke)|0,f=f+Math.imul(B,Re)|0,g=g+Math.imul(B,ke)|0;var pr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,g=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,g=g+Math.imul(ce,ye)|0,m=m+Math.imul(ae,ge)|0,f=f+Math.imul(ae,ve)|0,f=f+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,g=g+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,g=g+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,g=g+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Pe)|0,m=m+Math.imul(G,Re)|0,f=f+Math.imul(G,ke)|0,f=f+Math.imul(V,Re)|0,g=g+Math.imul(V,ke)|0,m=m+Math.imul(S,Ie)|0,f=f+Math.imul(S,De)|0,f=f+Math.imul(B,Ie)|0,g=g+Math.imul(B,De)|0;var mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,g=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,g=g+Math.imul(ce,ve)|0,m=m+Math.imul(ae,be)|0,f=f+Math.imul(ae,we)|0,f=f+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,g=g+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,g=g+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,g=g+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,g=g+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,g=g+Math.imul(Y,ke)|0,m=m+Math.imul(G,Ie)|0,f=f+Math.imul(G,De)|0,f=f+Math.imul(V,Ie)|0,g=g+Math.imul(V,De)|0;var yr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,g=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,g=g+Math.imul(ce,we)|0,m=m+Math.imul(ae,_e)|0,f=f+Math.imul(ae,xe)|0,f=f+Math.imul(fe,_e)|0,g=g+Math.imul(fe,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,g=g+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,g=g+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,g=g+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,g=g+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,De)|0,f=f+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,De)|0;var gr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,g=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,g=g+Math.imul(ce,xe)|0,m=m+Math.imul(ae,Me)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(fe,Me)|0,g=g+Math.imul(fe,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,g=g+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,g=g+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(X,Ie)|0,g=g+Math.imul(X,De)|0;var vr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,g=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,g=g+Math.imul(ce,Ee)|0,m=m+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ae)|0,f=f+Math.imul(fe,Se)|0,g=g+Math.imul(fe,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,g=g+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,De)|0,f=f+Math.imul(re,Ie)|0,g=g+Math.imul(re,De)|0;var br=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,g=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ae)|0,m=m+Math.imul(ae,Te)|0,f=f+Math.imul(ae,Pe)|0,f=f+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,g=g+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,De)|0,f=f+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,De)|0;var wr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,g=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Pe)|0,m=m+Math.imul(ae,Re)|0,f=f+Math.imul(ae,ke)|0,f=f+Math.imul(fe,Re)|0,g=g+Math.imul(fe,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,De)|0;var _r=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,g=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,g=g+Math.imul(ce,ke)|0,m=m+Math.imul(ae,Ie)|0,f=f+Math.imul(ae,De)|0,f=f+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,De)|0;var xr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,g=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,De)|0,f=f+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,De)|0;var Mr=(b+m|0)+((f&8191)<<13)|0;b=(g+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,De),f=f+Math.imul(de,Ie)|0,g=Math.imul(de,De);var Er=(b+m|0)+((f&8191)<<13)|0;return b=(g+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,y[0]=Rr,y[1]=ht,y[2]=pt,y[3]=ur,y[4]=cr,y[5]=lr,y[6]=dr,y[7]=hr,y[8]=pr,y[9]=mr,y[10]=yr,y[11]=gr,y[12]=vr,y[13]=br,y[14]=wr,y[15]=_r,y[16]=xr,y[17]=Mr,y[18]=Er,b!==0&&(y[19]=b,h.length++),h};Math.imul||(A=T);function k(_,s,u){u.negative=s.negative^_.negative,u.length=_.length+s.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var y=c;c=0;for(var b=h&67108863,m=Math.min(l,s.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var g=l-f,R=_.words[g]|0,S=s.words[f]|0,B=R*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+b|0,b=z&67108863,y=y+(z>>>26)|0,c+=y>>>26,y&=67108863}u.words[l]=b,h=y,y=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function D(_,s,u){var h=new I;return h.mulp(_,s,u)}n.prototype.mulTo=function(s,u){var h,c=this.length+s.length;return this.length===10&&s.length===10?h=A(this,s,u):c<63?h=T(this,s,u):c<1024?h=k(this,s,u):h=D(this,s,u),h};function I(_,s){this.x=_,this.y=s}I.prototype.makeRBT=function(s){for(var u=new Array(s),h=n.prototype._countBits(s)-1,c=0;c<s;c++)u[c]=this.revBin(c,h,s);return u},I.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var c=0,l=0;l<u;l++)c|=(s&1)<<u-l-1,s>>=1;return c},I.prototype.permute=function(s,u,h,c,l,y){for(var b=0;b<y;b++)c[b]=u[s[b]],l[b]=h[s[b]]},I.prototype.transform=function(s,u,h,c,l,y){this.permute(y,s,u,h,c,l);for(var b=1;b<l;b<<=1)for(var m=b<<1,f=Math.cos(2*Math.PI/m),g=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var S=f,B=g,z=0;z<b;z++){var G=h[R+z],V=c[R+z],J=h[R+z+b],Z=c[R+z+b],Y=S*J-B*Z;Z=S*Z+B*J,J=Y,h[R+z]=G+J,c[R+z]=V+Z,h[R+z+b]=G-J,c[R+z+b]=V-Z,z!==m&&(Y=f*S-g*B,B=f*B+g*S,S=Y)}},I.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=s[c];s[c]=s[h-c-1],s[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(s,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(s[2*c+1]/u)*8192+Math.round(s[2*c]/u)+h;s[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return s},I.prototype.convert13b=function(s,u,h,c){for(var l=0,y=0;y<u;y++)l=l+(s[y]|0),h[2*y]=l&8191,l=l>>>13,h[2*y+1]=l&8191,l=l>>>13;for(y=2*u;y<c;++y)h[y]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},I.prototype.mulp=function(s,u,h){var c=2*this.guessLen13b(s.length,u.length),l=this.makeRBT(c),y=this.stub(c),b=new Array(c),m=new Array(c),f=new Array(c),g=new Array(c),R=new Array(c),S=new Array(c),B=h.words;B.length=c,this.convert13b(s.words,s.length,b,c),this.convert13b(u.words,u.length,g,c),this.transform(b,y,m,f,c,l),this.transform(g,y,R,S,c,l);for(var z=0;z<c;z++){var G=m[z]*R[z]-f[z]*S[z];f[z]=m[z]*S[z]+f[z]*R[z],m[z]=G}return this.conjugate(m,f,c),this.transform(m,f,B,y,c,l),this.conjugate(B,y,c),this.normalize13b(B,c),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},n.prototype.mul=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},n.prototype.mulf=function(s){var u=new n(null);return u.words=new Array(this.length+s.length),D(this,s,u)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){r(typeof s=="number"),r(s<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*s,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var u=E(s);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var y=0;for(l=0;l<this.length;l++){var b=this.words[l]&c,m=(this.words[l]|0)-b<<u;this.words[l]=m|y,y=b>>>26-u}y&&(this.words[l]=y,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var c;u?c=(u-u%26)/26:c=0;var l=s%26,y=Math.min((s-l)/26,this.length),b=67108863^67108863>>>l<<l,m=h;if(c-=y,c=Math.max(0,c),m){for(var f=0;f<y;f++)m.words[f]=this.words[f];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,f=0;f<this.length;f++)this.words[f]=this.words[f+y];else this.words[0]=0,this.length=1;var g=0;for(f=this.length-1;f>=0&&(g!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=g<<26-l|R>>>l,g=R&b}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,u,h){var c=s.length+h,l;this._expand(c);var y,b=0;for(l=0;l<s.length;l++){y=(this.words[l+h]|0)+b;var m=(s.words[l]|0)*u;y-=m&67108863,b=(y>>26)-(m/67108864|0),this.words[l+h]=y&67108863}for(;l<this.length-h;l++)y=(this.words[l+h]|0)+b,b=y>>26,this.words[l+h]=y&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,l=0;l<this.length;l++)y=-(this.words[l]|0)+b,b=y>>26,this.words[l]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(s,u){var h=this.length-s.length,c=this.clone(),l=s,y=l.words[l.length-1]|0,b=this._countBits(y);h=26-b,h!==0&&(l=l.ushln(h),c.iushln(h),y=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var g=0;g<f.length;g++)f.words[g]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var S=m-1;S>=0;S--){var B=(c.words[l.length+S]|0)*67108864+(c.words[l.length+S-1]|0);for(B=Math.min(B/y|0,67108863),c._ishlnsubmul(l,B,S);c.negative!==0;)B--,c.negative=0,c._ishlnsubmul(l,1,S),c.isZero()||(c.negative^=1);f&&(f.words[S]=B)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,u),u!=="mod"&&(c=y.div.neg()),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.iadd(s)),{div:c,mod:l}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),u),u!=="mod"&&(c=y.div.neg()),{div:c,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),u),u!=="div"&&(l=y.mod.neg(),h&&l.negative!==0&&l.isub(s)),{div:y.div,mod:l}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modn(s.words[0]))}:this._wordDiv(s,u)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,c=s.ushrn(1),l=s.andln(1),y=h.cmp(c);return y<0||l===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(s){r(s<=67108863);for(var u=(1<<26)%s,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%s;return h},n.prototype.idivn=function(s){r(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/s|0,u=c%s}return this.strip()},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=new n(0),b=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),g=u.clone();!u.isZero();){for(var R=0,S=1;!(u.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(g)),c.iushrn(1),l.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(f),b.isub(g)),y.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(y),l.isub(b)):(h.isub(u),y.isub(c),b.isub(l))}return{a:y,b,gcd:h.iushln(m)}},n.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var c=new n(1),l=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);for(var f=0,g=1;!(h.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(s),R},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var y=u;u=h,h=y}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,y=h;l!==0&&y<this.length;y++){var b=this.words[y]|0;b+=l,l=b>>>26,b&=67108863,this.words[y]=b}return l!==0&&(this.words[y]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var c=this.words[0]|0;h=c===s?0:c<s?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=s.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new L(s)},n.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var C={k256:null,p224:null,p192:null,p25519:null};function q(_,s){this.name=_,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},q.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},q.prototype.split=function(s,u){s.iushrn(this.n,0,u)},q.prototype.imulK=function(s){return s.imul(this.k)};function U(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,q),U.prototype.split=function(s,u){for(var h=4194303,c=Math.min(s.length,9),l=0;l<c;l++)u.words[l]=s.words[l];if(u.length=c,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(u.words[u.length++]=y&h,l=10;l<s.length;l++){var b=s.words[l]|0;s.words[l-10]=(b&h)<<4|y>>>22,y=b}y>>>=22,s.words[l-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},U.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var c=s.words[h]|0;u+=c*977,s.words[h]=u&67108863,u=c*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function $(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,q);function W(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,q);function F(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,q),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var c=(s.words[h]|0)*19+u,l=c&67108863;c>>>=26,s.words[h]=l,u=c}return u!==0&&(s.words[s.length++]=u),s},n._prime=function(s){if(C[s])return C[s];var u;if(s==="k256")u=new U;else if(s==="p224")u=new $;else if(s==="p192")u=new W;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return C[s]=u,u};function L(_){if(typeof _=="string"){var s=n._prime(_);this.m=s.p,this.prime=s}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}L.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},L.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},L.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},L.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},L.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},L.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},L.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},L.prototype.isqr=function(s){return this.imul(s,s.clone())},L.prototype.sqr=function(s){return this.mul(s,s)},L.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(s,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var y=new n(1).toRed(this),b=y.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(b)!==0;)f.redIAdd(b);for(var g=this.pow(f,c),R=this.pow(s,c.addn(1).iushrn(1)),S=this.pow(s,c),B=l;S.cmp(y)!==0;){for(var z=S,G=0;z.cmp(y)!==0;G++)z=z.redSqr();r(G<B);var V=this.pow(g,new n(1).iushln(B-G-1));R=R.redMul(V),g=V.redSqr(),S=S.redMul(g),B=G}return R},L.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},L.prototype.pow=function(s,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=s;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],s);var y=c[0],b=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],R=f-1;R>=0;R--){var S=g>>R&1;if(y!==c[0]&&(y=this.sqr(y)),S===0&&b===0){m=0;continue}b<<=1,b|=S,m++,!(m!==h&&(l!==0||R!==0))&&(y=this.mul(y,c[b]),m=0,b=0)}f=26}return y},L.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},L.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},n.mont=function(s){return new H(s)};function H(_){L.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,L),H.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},H.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},H.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new n(0)._forceRed(this);var h=s.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),y=l;return l.cmp(this.m)>=0?y=l.isub(this.m):l.cmpn(0)<0&&(y=l.iadd(this.m)),y._forceRed(this)},H.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof QS>"u"||QS,u$)});var XS=K((kBe,l$)=>{M();var c$=I2(),Pme=jt().Buffer;function Rme(t,e){return Pme.from(t.toRed(c$.mont(e.modulus)).redPow(new c$(e.publicExponent)).fromRed().toArray())}l$.exports=Rme});var m$=K((DBe,p$)=>{M();var kme=mg(),e5=Cl(),Ime=B0(),d$=YS(),h$=JS(),t5=I2(),Dme=XS(),Bme=t2(),ra=jt().Buffer;p$.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=kme(e),a;if(n===4)a=Ome(o,r);else if(n===1)a=Cme(o,r,i);else if(n===3){if(a=new t5(r),a.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?Bme(a,o):Dme(a,o)};function Ome(t,e){var r=t.modulus.byteLength(),i=e.length,n=Ime("sha1").update(ra.alloc(0)).digest(),o=n.length,a=2*o;if(i>r-a-2)throw new Error("message too long");var d=ra.alloc(r-i-a-2),p=r-o-1,v=e5(o),w=h$(ra.concat([n,d,ra.alloc(1,1),e],p),d$(v,p)),x=h$(v,d$(w,o));return new t5(ra.concat([ra.alloc(1),x,w],r))}function Cme(t,e,r){var i=e.length,n=t.modulus.byteLength();if(i>n-11)throw new Error("message too long");var o;return r?o=ra.alloc(n-i-3,255):o=qme(n-i-3),new t5(ra.concat([ra.from([0,r?1:2]),o,ra.alloc(1),e],n))}function qme(t){for(var e=ra.allocUnsafe(t),r=0,i=e5(t*2),n=0,o;r<t;)n===i.length&&(i=e5(t*2),n=0),o=i[n++],o&&(e[r++]=o);return e}});var w$=K((OBe,b$)=>{M();var Nme=mg(),y$=YS(),g$=JS(),v$=I2(),jme=t2(),Lme=B0(),Ume=XS(),bg=jt().Buffer;b$.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=Nme(e),a=o.modulus.byteLength();if(r.length>a||new v$(r).cmp(o.modulus)>=0)throw new Error("decryption error");var d;i?d=Ume(new v$(r),o):d=jme(r,o);var p=bg.alloc(a-d.length);if(d=bg.concat([p,d],a),n===4)return zme(o,d);if(n===1)return Fme(o,d,i);if(n===3)return d;throw new Error("unknown padding")};function zme(t,e){var r=t.modulus.byteLength(),i=Lme("sha1").update(bg.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,n+1),a=e.slice(n+1),d=g$(o,y$(a,n)),p=g$(a,y$(d,r-n-1));if($me(i,p.slice(0,n)))throw new Error("decryption error");for(var v=n;p[v]===0;)v++;if(p[v++]!==1)throw new Error("decryption error");return p.slice(v)}function Fme(t,e,r){for(var i=e.slice(0,2),n=2,o=0;e[n++]!==0;)if(n>=e.length){o++;break}var a=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!r||i.toString("hex")!=="0001"&&r)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return e.slice(n)}function $me(t,e){t=bg.from(t),e=bg.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}});var _$=K(Td=>{M();Td.publicEncrypt=m$();Td.privateDecrypt=w$();Td.privateEncrypt=function(e,r){return Td.publicEncrypt(e,r,!0)};Td.publicDecrypt=function(e,r){return Td.privateDecrypt(e,r,!0)}});var I$=K(wg=>{"use strict";M();function x$(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var E$=jt(),M$=Cl(),S$=E$.Buffer,A$=E$.kMaxLength,r5=globalThis.crypto||globalThis.msCrypto,T$=Math.pow(2,32)-1;function P$(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>T$||t<0)throw new TypeError("offset must be a uint32");if(t>A$||t>e)throw new RangeError("offset out of range")}function R$(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>T$||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>A$)throw new RangeError("buffer too small")}r5&&r5.getRandomValues||!O.default.browser?(wg.randomFill=Wme,wg.randomFillSync=Gme):(wg.randomFill=x$,wg.randomFillSync=x$);function Wme(t,e,r,i){if(!S$.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,r=t.length;else if(typeof r=="function")i=r,r=t.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return P$(e,t.length),R$(r,e,t.length),k$(t,e,r,i)}function k$(t,e,r,i){if(O.default.browser){var n=t.buffer,o=new Uint8Array(n,e,r);if(r5.getRandomValues(o),i){O.default.nextTick(function(){i(null,t)});return}return t}if(i){M$(r,function(d,p){if(d)return i(d);p.copy(t,e),i(null,t)});return}var a=M$(r);return a.copy(t,e),t}function Gme(t,e,r){if(typeof e>"u"&&(e=0),!S$.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return P$(e,t.length),r===void 0&&(r=t.length-e),R$(r,e,t.length),k$(t,e,r)}});var Cw=K(vt=>{"use strict";M();vt.randomBytes=vt.rng=vt.pseudoRandomBytes=vt.prng=Cl();vt.createHash=vt.Hash=B0();vt.createHmac=vt.Hmac=K8();var Vme=VN(),Kme=Object.keys(Vme),Hme=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Kme);vt.getHashes=function(){return Hme};var D$=iE();vt.pbkdf2=D$.pbkdf2;vt.pbkdf2Sync=D$.pbkdf2Sync;var nf=pL();vt.Cipher=nf.Cipher;vt.createCipher=nf.createCipher;vt.Cipheriv=nf.Cipheriv;vt.createCipheriv=nf.createCipheriv;vt.Decipher=nf.Decipher;vt.createDecipher=nf.createDecipher;vt.Decipheriv=nf.Decipheriv;vt.createDecipheriv=nf.createDecipheriv;vt.getCiphers=nf.getCiphers;vt.listCiphers=nf.listCiphers;var _g=RL();vt.DiffieHellmanGroup=_g.DiffieHellmanGroup;vt.createDiffieHellmanGroup=_g.createDiffieHellmanGroup;vt.getDiffieHellman=_g.getDiffieHellman;vt.createDiffieHellman=_g.createDiffieHellman;vt.DiffieHellman=_g.DiffieHellman;var D2=r$();vt.createSign=D2.createSign;vt.Sign=D2.Sign;vt.createVerify=D2.createVerify;vt.Verify=D2.Verify;vt.createECDH=s$();var B2=_$();vt.publicEncrypt=B2.publicEncrypt;vt.privateEncrypt=B2.privateEncrypt;vt.publicDecrypt=B2.publicDecrypt;vt.privateDecrypt=B2.privateDecrypt;var B$=I$();vt.randomFill=B$.randomFill;vt.randomFillSync=B$.randomFillSync;vt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};vt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var O2=K($n=>{"use strict";M();Object.defineProperty($n,"__esModule",{value:!0});$n.ONE=$n.SECRET_KEY_LENGTH=$n.AES_IV_PLUS_TAG_LENGTH=$n.AES_TAG_LENGTH=$n.AES_IV_LENGTH=$n.UNCOMPRESSED_PUBLIC_KEY_SIZE=void 0;$n.UNCOMPRESSED_PUBLIC_KEY_SIZE=65;$n.AES_IV_LENGTH=16;$n.AES_TAG_LENGTH=16;$n.AES_IV_PLUS_TAG_LENGTH=$n.AES_IV_LENGTH+$n.AES_TAG_LENGTH;$n.SECRET_KEY_LENGTH=32;$n.ONE=BigInt(1)});var q2=K(io=>{"use strict";M();Object.defineProperty(io,"__esModule",{value:!0});io.output=io.exists=io.hash=io.bytes=io.bool=io.number=void 0;function C2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}io.number=C2;function O$(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}io.bool=O$;function i5(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}io.bytes=i5;function C$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");C2(t.outputLen),C2(t.blockLen)}io.hash=C$;function q$(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}io.exists=q$;function N$(t,e){i5(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}io.output=N$;var Zme={number:C2,bool:O$,bytes:i5,hash:C$,exists:q$,output:N$};io.default=Zme});var j$=K(N2=>{"use strict";M();Object.defineProperty(N2,"__esModule",{value:!0});N2.crypto=void 0;N2.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Pd=K(bt=>{"use strict";M();Object.defineProperty(bt,"__esModule",{value:!0});bt.randomBytes=bt.wrapXOFConstructorWithOpts=bt.wrapConstructorWithOpts=bt.wrapConstructor=bt.checkOpts=bt.Hash=bt.concatBytes=bt.toBytes=bt.utf8ToBytes=bt.asyncLoop=bt.nextTick=bt.hexToBytes=bt.bytesToHex=bt.isLE=bt.rotr=bt.createView=bt.u32=bt.u8=void 0;var n5=j$(),s5=t=>t instanceof Uint8Array,Yme=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);bt.u8=Yme;var Jme=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));bt.u32=Jme;var Qme=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);bt.createView=Qme;var Xme=(t,e)=>t<<32-e|t>>>e;bt.rotr=Xme;bt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!bt.isLE)throw new Error("Non little-endian hardware is not supported");var eye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tye(t){if(!s5(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=eye[t[r]];return e}bt.bytesToHex=tye;function rye(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}bt.hexToBytes=rye;var iye=async()=>{};bt.nextTick=iye;async function nye(t,e,r){let i=Date.now();for(let n=0;n<t;n++){r(n);let o=Date.now()-i;o>=0&&o<e||(await(0,bt.nextTick)(),i+=o)}}bt.asyncLoop=nye;function L$(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}bt.utf8ToBytes=L$;function j2(t){if(typeof t=="string"&&(t=L$(t)),!s5(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}bt.toBytes=j2;function oye(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!s5(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}bt.concatBytes=oye;var o5=class{clone(){return this._cloneInto()}};bt.Hash=o5;var sye=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function aye(t,e){if(e!==void 0&&(typeof e!="object"||!sye(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}bt.checkOpts=aye;function fye(t){let e=i=>t().update(j2(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}bt.wrapConstructor=fye;function uye(t){let e=(i,n)=>t(n).update(j2(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}bt.wrapConstructorWithOpts=uye;function cye(t){let e=(i,n)=>t(n).update(j2(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}bt.wrapXOFConstructorWithOpts=cye;function lye(t=32){if(n5.crypto&&typeof n5.crypto.getRandomValues=="function")return n5.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}bt.randomBytes=lye});var U$=K(L2=>{"use strict";M();Object.defineProperty(L2,"__esModule",{value:!0});L2.SHA2=void 0;var a5=q2(),xg=Pd();function dye(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),a=Number(r>>n&o),d=Number(r&o),p=i?4:0,v=i?0:4;t.setUint32(e+p,a,i),t.setUint32(e+v,d,i)}var f5=class extends xg.Hash{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,xg.createView)(this.buffer)}update(e){a5.default.exists(this);let{view:r,buffer:i,blockLen:n}=this;e=(0,xg.toBytes)(e);let o=e.length;for(let a=0;a<o;){let d=Math.min(n-this.pos,o-a);if(d===n){let p=(0,xg.createView)(e);for(;n<=o-a;a+=n)this.process(p,a);continue}i.set(e.subarray(a,a+d),this.pos),this.pos+=d,a+=d,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a5.default.exists(this),a5.default.output(e,this),this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(i,0),a=0);for(let x=a;x<n;x++)r[x]=0;dye(i,n-8,BigInt(this.length*8),o),this.process(i,0);let d=(0,xg.createView)(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let v=p/4,w=this.get();if(v>w.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<v;x++)d.setUint32(4*x,w[x],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:i,length:n,finished:o,destroyed:a,pos:d}=this;return e.length=n,e.pos=d,e.finished=o,e.destroyed=a,n%r&&e.buffer.set(i),e}};L2.SHA2=f5});var z2=K(cp=>{"use strict";M();Object.defineProperty(cp,"__esModule",{value:!0});cp.sha224=cp.sha256=void 0;var hye=U$(),xs=Pd(),pye=(t,e,r)=>t&e^~t&r,mye=(t,e,r)=>t&e^t&r^e&r,yye=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gc=new Uint32Array(64),U2=class extends hye.SHA2{constructor(){super(64,32,8,!1),this.A=yc[0]|0,this.B=yc[1]|0,this.C=yc[2]|0,this.D=yc[3]|0,this.E=yc[4]|0,this.F=yc[5]|0,this.G=yc[6]|0,this.H=yc[7]|0}get(){let{A:e,B:r,C:i,D:n,E:o,F:a,G:d,H:p}=this;return[e,r,i,n,o,a,d,p]}set(e,r,i,n,o,a,d,p){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=o|0,this.F=a|0,this.G=d|0,this.H=p|0}process(e,r){for(let x=0;x<16;x++,r+=4)gc[x]=e.getUint32(r,!1);for(let x=16;x<64;x++){let E=gc[x-15],T=gc[x-2],A=(0,xs.rotr)(E,7)^(0,xs.rotr)(E,18)^E>>>3,k=(0,xs.rotr)(T,17)^(0,xs.rotr)(T,19)^T>>>10;gc[x]=k+gc[x-7]+A+gc[x-16]|0}let{A:i,B:n,C:o,D:a,E:d,F:p,G:v,H:w}=this;for(let x=0;x<64;x++){let E=(0,xs.rotr)(d,6)^(0,xs.rotr)(d,11)^(0,xs.rotr)(d,25),T=w+E+pye(d,p,v)+yye[x]+gc[x]|0,k=((0,xs.rotr)(i,2)^(0,xs.rotr)(i,13)^(0,xs.rotr)(i,22))+mye(i,n,o)|0;w=v,v=p,p=d,d=a+T|0,a=o,o=n,n=i,i=T+k|0}i=i+this.A|0,n=n+this.B|0,o=o+this.C|0,a=a+this.D|0,d=d+this.E|0,p=p+this.F|0,v=v+this.G|0,w=w+this.H|0,this.set(i,n,o,a,d,p,v,w)}roundClean(){gc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},u5=class extends U2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};cp.sha256=(0,xs.wrapConstructor)(()=>new U2);cp.sha224=(0,xs.wrapConstructor)(()=>new u5)});var Rd=K(wt=>{"use strict";M();Object.defineProperty(wt,"__esModule",{value:!0});wt.validateObject=wt.createHmacDrbg=wt.bitMask=wt.bitSet=wt.bitGet=wt.bitLen=wt.utf8ToBytes=wt.equalBytes=wt.concatBytes=wt.ensureBytes=wt.numberToVarBytesBE=wt.numberToBytesLE=wt.numberToBytesBE=wt.bytesToNumberLE=wt.bytesToNumberBE=wt.hexToBytes=wt.hexToNumber=wt.numberToHexUnpadded=wt.bytesToHex=void 0;var F$=BigInt(0),F2=BigInt(1),gye=BigInt(2),$2=t=>t instanceof Uint8Array,vye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function l5(t){if(!$2(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=vye[t[r]];return e}wt.bytesToHex=l5;function $$(t){let e=t.toString(16);return e.length&1?`0${e}`:e}wt.numberToHexUnpadded=$$;function d5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}wt.hexToNumber=d5;function W2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}wt.hexToBytes=W2;function bye(t){return d5(l5(t))}wt.bytesToNumberBE=bye;function wye(t){if(!$2(t))throw new Error("Uint8Array expected");return d5(l5(Uint8Array.from(t).reverse()))}wt.bytesToNumberLE=wye;function W$(t,e){return W2(t.toString(16).padStart(e*2,"0"))}wt.numberToBytesBE=W$;function _ye(t,e){return W$(t,e).reverse()}wt.numberToBytesLE=_ye;function xye(t){return W2($$(t))}wt.numberToVarBytesBE=xye;function Mye(t,e,r){let i;if(typeof e=="string")try{i=W2(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if($2(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}wt.ensureBytes=Mye;function G$(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!$2(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}wt.concatBytes=G$;function Eye(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}wt.equalBytes=Eye;function Sye(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}wt.utf8ToBytes=Sye;function Aye(t){let e;for(e=0;t>F$;t>>=F2,e+=1);return e}wt.bitLen=Aye;function Tye(t,e){return t>>BigInt(e)&F2}wt.bitGet=Tye;var Pye=(t,e,r)=>t|(r?F2:F$)<<BigInt(e);wt.bitSet=Pye;var Rye=t=>(gye<<BigInt(t-1))-F2;wt.bitMask=Rye;var c5=t=>new Uint8Array(t),z$=t=>Uint8Array.from(t);function kye(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=c5(t),n=c5(t),o=0,a=()=>{i.fill(1),n.fill(0),o=0},d=(...x)=>r(n,i,...x),p=(x=c5())=>{n=d(z$([0]),x),i=d(),x.length!==0&&(n=d(z$([1]),x),i=d())},v=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let x=0,E=[];for(;x<e;){i=d();let T=i.slice();E.push(T),x+=i.length}return G$(...E)};return(x,E)=>{a(),p(x);let T;for(;!(T=E(v()));)p();return a(),T}}wt.createHmacDrbg=kye;var Iye={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Dye(t,e,r={}){let i=(n,o,a)=>{let d=Iye[o];if(typeof d!="function")throw new Error(`Invalid validator "${o}", expected function`);let p=t[n];if(!(a&&p===void 0)&&!d(p,t))throw new Error(`Invalid param ${String(n)}=${p} (${typeof p}), expected ${o}`)};for(let[n,o]of Object.entries(e))i(n,o,!1);for(let[n,o]of Object.entries(r))i(n,o,!0);return t}wt.validateObject=Dye});var Mg=K(Ct=>{"use strict";M();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.hashToPrivateScalar=Ct.FpSqrtEven=Ct.FpSqrtOdd=Ct.Field=Ct.nLength=Ct.FpIsSquare=Ct.FpDiv=Ct.FpInvertBatch=Ct.FpPow=Ct.validateField=Ct.isNegativeLE=Ct.FpSqrt=Ct.tonelliShanks=Ct.invert=Ct.pow2=Ct.pow=Ct.mod=void 0;var au=Rd(),Gi=BigInt(0),jr=BigInt(1),vc=BigInt(2),Bye=BigInt(3),h5=BigInt(4),V$=BigInt(5),K$=BigInt(8),Oye=BigInt(9),Cye=BigInt(16);function Ms(t,e){let r=t%e;return r>=Gi?r:e+r}Ct.mod=Ms;function H$(t,e,r){if(r<=Gi||e<Gi)throw new Error("Expected power/modulo > 0");if(r===jr)return Gi;let i=jr;for(;e>Gi;)e&jr&&(i=i*t%r),t=t*t%r,e>>=jr;return i}Ct.pow=H$;function qye(t,e,r){let i=t;for(;e-- >Gi;)i*=i,i%=r;return i}Ct.pow2=qye;function G2(t,e){if(t===Gi||e<=Gi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ms(t,e),i=e,n=Gi,o=jr,a=jr,d=Gi;for(;r!==Gi;){let v=i/r,w=i%r,x=n-a*v,E=o-d*v;i=r,r=w,n=a,o=d,a=x,d=E}if(i!==jr)throw new Error("invert: does not exist");return Ms(n,e)}Ct.invert=G2;function Z$(t){let e=(t-jr)/vc,r,i,n;for(r=t-jr,i=0;r%vc===Gi;r/=vc,i++);for(n=vc;n<t&&H$(n,e,t)!==t-jr;n++);if(i===1){let a=(t+jr)/h5;return function(p,v){let w=p.pow(v,a);if(!p.eql(p.sqr(w),v))throw new Error("Cannot find square root");return w}}let o=(r+jr)/vc;return function(d,p){if(d.pow(p,e)===d.neg(d.ONE))throw new Error("Cannot find square root");let v=i,w=d.pow(d.mul(d.ONE,n),r),x=d.pow(p,o),E=d.pow(p,r);for(;!d.eql(E,d.ONE);){if(d.eql(E,d.ZERO))return d.ZERO;let T=1;for(let k=d.sqr(E);T<v&&!d.eql(k,d.ONE);T++)k=d.sqr(k);let A=d.pow(w,jr<<BigInt(v-T-1));w=d.sqr(A),x=d.mul(x,A),E=d.mul(E,w),v=T}return x}}Ct.tonelliShanks=Z$;function Y$(t){if(t%h5===Bye){let e=(t+jr)/h5;return function(i,n){let o=i.pow(n,e);if(!i.eql(i.sqr(o),n))throw new Error("Cannot find square root");return o}}if(t%K$===V$){let e=(t-V$)/K$;return function(i,n){let o=i.mul(n,vc),a=i.pow(o,e),d=i.mul(n,a),p=i.mul(i.mul(d,vc),a),v=i.mul(d,i.sub(p,i.ONE));if(!i.eql(i.sqr(v),n))throw new Error("Cannot find square root");return v}}return t%Cye,Z$(t)}Ct.FpSqrt=Y$;var Nye=(t,e)=>(Ms(t,e)&jr)===jr;Ct.isNegativeLE=Nye;var jye=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lye(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=jye.reduce((i,n)=>(i[n]="function",i),e);return(0,au.validateObject)(t,r)}Ct.validateField=Lye;function J$(t,e,r){if(r<Gi)throw new Error("Expected power > 0");if(r===Gi)return t.ONE;if(r===jr)return e;let i=t.ONE,n=e;for(;r>Gi;)r&jr&&(i=t.mul(i,n)),n=t.sqr(n),r>>=jr;return i}Ct.FpPow=J$;function Q$(t,e){let r=new Array(e.length),i=e.reduce((o,a,d)=>t.is0(a)?o:(r[d]=o,t.mul(o,a)),t.ONE),n=t.inv(i);return e.reduceRight((o,a,d)=>t.is0(a)?o:(r[d]=t.mul(o,r[d]),t.mul(o,a)),n),r}Ct.FpInvertBatch=Q$;function Uye(t,e,r){return t.mul(e,typeof r=="bigint"?G2(r,t.ORDER):t.inv(r))}Ct.FpDiv=Uye;function zye(t){let e=(t.ORDER-jr)/vc;return r=>{let i=t.pow(r,e);return t.eql(i,t.ZERO)||t.eql(i,t.ONE)}}Ct.FpIsSquare=zye;function p5(t,e){let r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}Ct.nLength=p5;function Fye(t,e,r=!1,i={}){if(t<=Gi)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:n,nByteLength:o}=p5(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=Y$(t),d=Object.freeze({ORDER:t,BITS:n,BYTES:o,MASK:(0,au.bitMask)(n),ZERO:Gi,ONE:jr,create:p=>Ms(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return Gi<=p&&p<t},is0:p=>p===Gi,isOdd:p=>(p&jr)===jr,neg:p=>Ms(-p,t),eql:(p,v)=>p===v,sqr:p=>Ms(p*p,t),add:(p,v)=>Ms(p+v,t),sub:(p,v)=>Ms(p-v,t),mul:(p,v)=>Ms(p*v,t),pow:(p,v)=>J$(d,p,v),div:(p,v)=>Ms(p*G2(v,t),t),sqrN:p=>p*p,addN:(p,v)=>p+v,subN:(p,v)=>p-v,mulN:(p,v)=>p*v,inv:p=>G2(p,t),sqrt:i.sqrt||(p=>a(d,p)),invertBatch:p=>Q$(d,p),cmov:(p,v,w)=>w?v:p,toBytes:p=>r?(0,au.numberToBytesLE)(p,o):(0,au.numberToBytesBE)(p,o),fromBytes:p=>{if(p.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${p.length}`);return r?(0,au.bytesToNumberLE)(p):(0,au.bytesToNumberBE)(p)}});return Object.freeze(d)}Ct.Field=Fye;function $ye(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}Ct.FpSqrtOdd=$ye;function Wye(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}Ct.FpSqrtEven=Wye;function Gye(t,e,r=!1){t=(0,au.ensureBytes)("privateHash",t);let i=t.length,n=p5(e).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);let o=r?(0,au.bytesToNumberLE)(t):(0,au.bytesToNumberBE)(t);return Ms(o,e-jr)+jr}Ct.hashToPrivateScalar=Gye});var eW=K(lp=>{"use strict";M();Object.defineProperty(lp,"__esModule",{value:!0});lp.validateBasic=lp.wNAF=void 0;var X$=Mg(),Vye=Rd(),Kye=BigInt(0),m5=BigInt(1);function Hye(t,e){let r=(n,o)=>{let a=o.negate();return n?a:o},i=n=>{let o=Math.ceil(e/n)+1,a=2**(n-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(n,o){let a=t.ZERO,d=n;for(;o>Kye;)o&m5&&(a=a.add(d)),d=d.double(),o>>=m5;return a},precomputeWindow(n,o){let{windows:a,windowSize:d}=i(o),p=[],v=n,w=v;for(let x=0;x<a;x++){w=v,p.push(w);for(let E=1;E<d;E++)w=w.add(v),p.push(w);v=w.double()}return p},wNAF(n,o,a){let{windows:d,windowSize:p}=i(n),v=t.ZERO,w=t.BASE,x=BigInt(2**n-1),E=2**n,T=BigInt(n);for(let A=0;A<d;A++){let k=A*p,D=Number(a&x);a>>=T,D>p&&(D-=E,a+=m5);let I=k,C=k+Math.abs(D)-1,q=A%2!==0,U=D<0;D===0?w=w.add(r(q,o[I])):v=v.add(r(U,o[C]))}return{p:v,f:w}},wNAFCached(n,o,a,d){let p=n._WINDOW_SIZE||1,v=o.get(n);return v||(v=this.precomputeWindow(n,p),p!==1&&o.set(n,d(v))),this.wNAF(p,v,a)}}}lp.wNAF=Hye;function Zye(t){return(0,X$.validateField)(t.Fp),(0,Vye.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,X$.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}lp.validateBasic=Zye});var g5=K(Vi=>{"use strict";M();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.mapToCurveSimpleSWU=Vi.SWUFpSqrtRatio=Vi.weierstrass=Vi.weierstrassPoints=Vi.DER=void 0;var Eg=Mg(),Oi=Rd(),of=Rd(),y5=eW();function Yye(t){let e=(0,y5.validateBasic)(t);Oi.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Jye,hexToBytes:Qye}=Oi;Vi.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Vi.DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Jye(i),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Vi.DER,r=typeof t=="string"?Qye(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");let{d:n,l:o}=Vi.DER._parseInt(r.subarray(2)),{d:a,l:d}=Vi.DER._parseInt(o);if(d.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s:a}},hexFromSig(t){let e=v=>Number.parseInt(v[0],16)&8?"00"+v:v,r=v=>{let w=v.toString(16);return w.length&1?`0${w}`:w},i=e(r(t.s)),n=e(r(t.r)),o=i.length/2,a=n.length/2,d=r(o),p=r(a);return`30${r(a+o+4)}02${p}${n}02${d}${i}`}};var ia=BigInt(0),oi=BigInt(1),bc=BigInt(2),V2=BigInt(3),tW=BigInt(4);function rW(t){let e=Yye(t),{Fp:r}=e,i=e.toBytes||((A,k,D)=>{let I=k.toAffine();return Oi.concatBytes(Uint8Array.from([4]),r.toBytes(I.x),r.toBytes(I.y))}),n=e.fromBytes||(A=>{let k=A.subarray(1),D=r.fromBytes(k.subarray(0,r.BYTES)),I=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:D,y:I}});function o(A){let{a:k,b:D}=e,I=r.sqr(A),C=r.mul(I,A);return r.add(r.add(C,r.mul(A,k)),D)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(A){return typeof A=="bigint"&&ia<A&&A<e.n}function d(A){if(!a(A))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(A){let{allowedPrivateKeyLengths:k,nByteLength:D,wrapPrivateKey:I,n:C}=e;if(k&&typeof A!="bigint"){if(A instanceof Uint8Array&&(A=Oi.bytesToHex(A)),typeof A!="string"||!k.includes(A.length))throw new Error("Invalid key");A=A.padStart(D*2,"0")}let q;try{q=typeof A=="bigint"?A:Oi.bytesToNumberBE((0,of.ensureBytes)("private key",A,D))}catch{throw new Error(`private key must be ${D} bytes, hex or bigint, not ${typeof A}`)}return I&&(q=Eg.mod(q,C)),d(q),q}let v=new Map;function w(A){if(!(A instanceof x))throw new Error("ProjectivePoint expected")}class x{constructor(k,D,I){if(this.px=k,this.py=D,this.pz=I,k==null||!r.isValid(k))throw new Error("x required");if(D==null||!r.isValid(D))throw new Error("y required");if(I==null||!r.isValid(I))throw new Error("z required")}static fromAffine(k){let{x:D,y:I}=k||{};if(!k||!r.isValid(D)||!r.isValid(I))throw new Error("invalid affine point");if(k instanceof x)throw new Error("projective point not allowed");let C=q=>r.eql(q,r.ZERO);return C(D)&&C(I)?x.ZERO:new x(D,I,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let D=r.invertBatch(k.map(I=>I.pz));return k.map((I,C)=>I.toAffine(D[C])).map(x.fromAffine)}static fromHex(k){let D=x.fromAffine(n((0,of.ensureBytes)("pointHex",k)));return D.assertValidity(),D}static fromPrivateKey(k){return x.BASE.multiply(p(k))}_setWindowSize(k){this._WINDOW_SIZE=k,v.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:k,y:D}=this.toAffine();if(!r.isValid(k)||!r.isValid(D))throw new Error("bad point: x or y not FE");let I=r.sqr(D),C=o(k);if(!r.eql(I,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){w(k);let{px:D,py:I,pz:C}=this,{px:q,py:U,pz:$}=k,W=r.eql(r.mul(D,$),r.mul(q,C)),F=r.eql(r.mul(I,$),r.mul(U,C));return W&&F}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:D}=e,I=r.mul(D,V2),{px:C,py:q,pz:U}=this,$=r.ZERO,W=r.ZERO,F=r.ZERO,L=r.mul(C,C),H=r.mul(q,q),_=r.mul(U,U),s=r.mul(C,q);return s=r.add(s,s),F=r.mul(C,U),F=r.add(F,F),$=r.mul(k,F),W=r.mul(I,_),W=r.add($,W),$=r.sub(H,W),W=r.add(H,W),W=r.mul($,W),$=r.mul(s,$),F=r.mul(I,F),_=r.mul(k,_),s=r.sub(L,_),s=r.mul(k,s),s=r.add(s,F),F=r.add(L,L),L=r.add(F,L),L=r.add(L,_),L=r.mul(L,s),W=r.add(W,L),_=r.mul(q,U),_=r.add(_,_),L=r.mul(_,s),$=r.sub($,L),F=r.mul(_,H),F=r.add(F,F),F=r.add(F,F),new x($,W,F)}add(k){w(k);let{px:D,py:I,pz:C}=this,{px:q,py:U,pz:$}=k,W=r.ZERO,F=r.ZERO,L=r.ZERO,H=e.a,_=r.mul(e.b,V2),s=r.mul(D,q),u=r.mul(I,U),h=r.mul(C,$),c=r.add(D,I),l=r.add(q,U);c=r.mul(c,l),l=r.add(s,u),c=r.sub(c,l),l=r.add(D,C);let y=r.add(q,$);return l=r.mul(l,y),y=r.add(s,h),l=r.sub(l,y),y=r.add(I,C),W=r.add(U,$),y=r.mul(y,W),W=r.add(u,h),y=r.sub(y,W),L=r.mul(H,l),W=r.mul(_,h),L=r.add(W,L),W=r.sub(u,L),L=r.add(u,L),F=r.mul(W,L),u=r.add(s,s),u=r.add(u,s),h=r.mul(H,h),l=r.mul(_,l),u=r.add(u,h),h=r.sub(s,h),h=r.mul(H,h),l=r.add(l,h),s=r.mul(u,l),F=r.add(F,s),s=r.mul(y,l),W=r.mul(c,W),W=r.sub(W,s),s=r.mul(c,u),L=r.mul(y,L),L=r.add(L,s),new x(W,F,L)}subtract(k){return this.add(k.negate())}is0(){return this.equals(x.ZERO)}wNAF(k){return T.wNAFCached(this,v,k,D=>{let I=r.invertBatch(D.map(C=>C.pz));return D.map((C,q)=>C.toAffine(I[q])).map(x.fromAffine)})}multiplyUnsafe(k){let D=x.ZERO;if(k===ia)return D;if(d(k),k===oi)return this;let{endo:I}=e;if(!I)return T.unsafeLadder(this,k);let{k1neg:C,k1:q,k2neg:U,k2:$}=I.splitScalar(k),W=D,F=D,L=this;for(;q>ia||$>ia;)q&oi&&(W=W.add(L)),$&oi&&(F=F.add(L)),L=L.double(),q>>=oi,$>>=oi;return C&&(W=W.negate()),U&&(F=F.negate()),F=new x(r.mul(F.px,I.beta),F.py,F.pz),W.add(F)}multiply(k){d(k);let D=k,I,C,{endo:q}=e;if(q){let{k1neg:U,k1:$,k2neg:W,k2:F}=q.splitScalar(D),{p:L,f:H}=this.wNAF($),{p:_,f:s}=this.wNAF(F);L=T.constTimeNegate(U,L),_=T.constTimeNegate(W,_),_=new x(r.mul(_.px,q.beta),_.py,_.pz),I=L.add(_),C=H.add(s)}else{let{p:U,f:$}=this.wNAF(D);I=U,C=$}return x.normalizeZ([I,C])[0]}multiplyAndAddUnsafe(k,D,I){let C=x.BASE,q=($,W)=>W===ia||W===oi||!$.equals(C)?$.multiplyUnsafe(W):$.multiply(W),U=q(this,D).add(q(k,I));return U.is0()?void 0:U}toAffine(k){let{px:D,py:I,pz:C}=this,q=this.is0();k==null&&(k=q?r.ONE:r.inv(C));let U=r.mul(D,k),$=r.mul(I,k),W=r.mul(C,k);if(q)return{x:r.ZERO,y:r.ZERO};if(!r.eql(W,r.ONE))throw new Error("invZ was invalid");return{x:U,y:$}}isTorsionFree(){let{h:k,isTorsionFree:D}=e;if(k===oi)return!0;if(D)return D(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:D}=e;return k===oi?this:D?D(x,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),i(x,this,k)}toHex(k=!0){return Oi.bytesToHex(this.toRawBytes(k))}}x.BASE=new x(e.Gx,e.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,T=(0,y5.wNAF)(x,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:p,weierstrassEquation:o,isWithinCurveOrder:a}}Vi.weierstrassPoints=rW;function Xye(t){let e=(0,y5.validateBasic)(t);return Oi.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ege(t){let e=Xye(t),{Fp:r,n:i}=e,n=r.BYTES+1,o=2*r.BYTES+1;function a(l){return ia<l&&l<r.ORDER}function d(l){return Eg.mod(l,i)}function p(l){return Eg.invert(l,i)}let{ProjectivePoint:v,normPrivateKeyToScalar:w,weierstrassEquation:x,isWithinCurveOrder:E}=rW({...e,toBytes(l,y,b){let m=y.toAffine(),f=r.toBytes(m.x),g=Oi.concatBytes;return b?g(Uint8Array.from([y.hasEvenY()?2:3]),f):g(Uint8Array.from([4]),f,r.toBytes(m.y))},fromBytes(l){let y=l.length,b=l[0],m=l.subarray(1);if(y===n&&(b===2||b===3)){let f=Oi.bytesToNumberBE(m);if(!a(f))throw new Error("Point is not on curve");let g=x(f),R=r.sqrt(g),S=(R&oi)===oi;return(b&1)===1!==S&&(R=r.neg(R)),{x:f,y:R}}else if(y===o&&b===4){let f=r.fromBytes(m.subarray(0,r.BYTES)),g=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:f,y:g}}else throw new Error(`Point of length ${y} was invalid. Expected ${n} compressed bytes or ${o} uncompressed bytes`)}}),T=l=>Oi.bytesToHex(Oi.numberToBytesBE(l,e.nByteLength));function A(l){let y=i>>oi;return l>y}function k(l){return A(l)?d(-l):l}let D=(l,y,b)=>Oi.bytesToNumberBE(l.slice(y,b));class I{constructor(y,b,m){this.r=y,this.s=b,this.recovery=m,this.assertValidity()}static fromCompact(y){let b=e.nByteLength;return y=(0,of.ensureBytes)("compactSignature",y,b*2),new I(D(y,0,b),D(y,b,2*b))}static fromDER(y){let{r:b,s:m}=Vi.DER.toSig((0,of.ensureBytes)("DER",y));return new I(b,m)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(y){return new I(this.r,this.s,y)}recoverPublicKey(y){let{r:b,s:m,recovery:f}=this,g=F((0,of.ensureBytes)("msgHash",y));if(f==null||![0,1,2,3].includes(f))throw new Error("recovery id invalid");let R=f===2||f===3?b+e.n:b;if(R>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let S=f&1?"03":"02",B=v.fromHex(S+T(R)),z=p(R),G=d(-g*z),V=d(m*z),J=v.BASE.multiplyAndAddUnsafe(B,G,V);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return Oi.hexToBytes(this.toDERHex())}toDERHex(){return Vi.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Oi.hexToBytes(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let C={isValidPrivateKey(l){try{return w(l),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{let l=e.randomBytes(r.BYTES+8),y=Eg.hashToPrivateScalar(l,i);return Oi.numberToBytesBE(y,e.nByteLength)},precompute(l=8,y=v.BASE){return y._setWindowSize(l),y.multiply(BigInt(3)),y}};function q(l,y=!0){return v.fromPrivateKey(l).toRawBytes(y)}function U(l){let y=l instanceof Uint8Array,b=typeof l=="string",m=(y||b)&&l.length;return y?m===n||m===o:b?m===2*n||m===2*o:l instanceof v}function $(l,y,b=!0){if(U(l))throw new Error("first arg must be private key");if(!U(y))throw new Error("second arg must be public key");return v.fromHex(y).multiply(w(l)).toRawBytes(b)}let W=e.bits2int||function(l){let y=Oi.bytesToNumberBE(l),b=l.length*8-e.nBitLength;return b>0?y>>BigInt(b):y},F=e.bits2int_modN||function(l){return d(W(l))},L=Oi.bitMask(e.nBitLength);function H(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(ia<=l&&l<L))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Oi.numberToBytesBE(l,e.nByteLength)}function _(l,y,b=s){if(["recovered","canonical"].some(Y=>Y in b))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:f}=e,{lowS:g,prehash:R,extraEntropy:S}=b;g==null&&(g=!0),l=(0,of.ensureBytes)("msgHash",l),R&&(l=(0,of.ensureBytes)("prehashed msgHash",m(l)));let B=F(l),z=w(y),G=[H(z),H(B)];if(S!=null){let Y=S===!0?f(r.BYTES):S;G.push((0,of.ensureBytes)("extraEntropy",Y,r.BYTES))}let V=Oi.concatBytes(...G),J=B;function Z(Y){let Fe=W(Y);if(!E(Fe))return;let Q=p(Fe),X=v.BASE.multiply(Fe).toAffine(),it=d(X.x);if(it===ia)return;let te=d(Q*d(J+it*z));if(te===ia)return;let re=(X.x===it?0:2)|Number(X.y&oi),Ht=te;return g&&A(te)&&(Ht=k(te),re^=1),new I(it,Ht,re)}return{seed:V,k2sig:Z}}let s={lowS:e.lowS,prehash:!1},u={lowS:e.lowS,prehash:!1};function h(l,y,b=s){let{seed:m,k2sig:f}=_(l,y,b),g=e;return Oi.createHmacDrbg(g.hash.outputLen,g.nByteLength,g.hmac)(m,f)}v.BASE._setWindowSize(8);function c(l,y,b,m=u){let f=l;if(y=(0,of.ensureBytes)("msgHash",y),b=(0,of.ensureBytes)("publicKey",b),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:g,prehash:R}=m,S,B;try{if(typeof f=="string"||f instanceof Uint8Array)try{S=I.fromDER(f)}catch(X){if(!(X instanceof Vi.DER.Err))throw X;S=I.fromCompact(f)}else if(typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint"){let{r:X,s:it}=f;S=new I(X,it)}else throw new Error("PARSE");B=v.fromHex(b)}catch(X){if(X.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(g&&S.hasHighS())return!1;R&&(y=e.hash(y));let{r:z,s:G}=S,V=F(y),J=p(G),Z=d(V*J),Y=d(z*J),Fe=v.BASE.multiplyAndAddUnsafe(B,Z,Y)?.toAffine();return Fe?d(Fe.x)===z:!1}return{CURVE:e,getPublicKey:q,getSharedSecret:$,sign:h,verify:c,ProjectivePoint:v,Signature:I,utils:C}}Vi.weierstrass=ege;function iW(t,e){let r=t.ORDER,i=ia;for(let A=r-oi;A%bc===ia;A/=bc)i+=oi;let n=i,o=bc<<n-oi-oi,a=o*bc,d=(r-oi)/a,p=(d-oi)/bc,v=a-oi,w=o,x=t.pow(e,d),E=t.pow(e,(d+oi)/bc),T=(A,k)=>{let D=x,I=t.pow(k,v),C=t.sqr(I);C=t.mul(C,k);let q=t.mul(A,C);q=t.pow(q,p),q=t.mul(q,I),I=t.mul(q,k),C=t.mul(q,A);let U=t.mul(C,I);q=t.pow(U,w);let $=t.eql(q,t.ONE);I=t.mul(C,E),q=t.mul(U,D),C=t.cmov(I,C,$),U=t.cmov(q,U,$);for(let W=n;W>oi;W--){let F=W-bc;F=bc<<F-oi;let L=t.pow(U,F),H=t.eql(L,t.ONE);I=t.mul(C,D),D=t.mul(D,D),L=t.mul(U,D),C=t.cmov(I,C,H),U=t.cmov(L,U,H)}return{isValid:$,value:C}};if(t.ORDER%tW===V2){let A=(t.ORDER-V2)/tW,k=t.sqrt(t.neg(e));T=(D,I)=>{let C=t.sqr(I),q=t.mul(D,I);C=t.mul(C,q);let U=t.pow(C,A);U=t.mul(U,q);let $=t.mul(U,k),W=t.mul(t.sqr(U),I),F=t.eql(W,D),L=t.cmov($,U,F);return{isValid:F,value:L}}}return T}Vi.SWUFpSqrtRatio=iW;function tge(t,e){if(Eg.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=iW(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return i=>{let n,o,a,d,p,v,w,x;n=t.sqr(i),n=t.mul(n,e.Z),o=t.sqr(n),o=t.add(o,n),a=t.add(o,t.ONE),a=t.mul(a,e.B),d=t.cmov(e.Z,t.neg(o),!t.eql(o,t.ZERO)),d=t.mul(d,e.A),o=t.sqr(a),v=t.sqr(d),p=t.mul(v,e.A),o=t.add(o,p),o=t.mul(o,a),v=t.mul(v,d),p=t.mul(v,e.B),o=t.add(o,p),w=t.mul(n,a);let{isValid:E,value:T}=r(o,v);x=t.mul(n,i),x=t.mul(x,T),w=t.cmov(w,a,E),x=t.cmov(x,T,E);let A=t.isOdd(i)===t.isOdd(x);return x=t.cmov(t.neg(x),x,A),w=t.div(w,d),{x:w,y:x}}}Vi.mapToCurveSimpleSWU=tge});var sW=K(Es=>{"use strict";M();Object.defineProperty(Es,"__esModule",{value:!0});Es.createHasher=Es.isogenyMap=Es.hash_to_field=Es.expand_message_xof=Es.expand_message_xmd=void 0;var rge=Mg(),na=Rd();function ige(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,na.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}var nge=na.bytesToNumberBE;function wc(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let i=e-1;i>=0;i--)r[i]=t&255,t>>>=8;return new Uint8Array(r)}function oge(t,e){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t[i]^e[i];return r}function Sg(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function b5(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function nW(t,e,r,i){Sg(t),Sg(e),b5(r),e.length>255&&(e=i((0,na.concatBytes)((0,na.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:n,blockLen:o}=i,a=Math.ceil(r/n);if(a>255)throw new Error("Invalid xmd length");let d=(0,na.concatBytes)(e,wc(e.length,1)),p=wc(0,o),v=wc(r,2),w=new Array(a),x=i((0,na.concatBytes)(p,t,v,wc(0,1),d));w[0]=i((0,na.concatBytes)(x,wc(1,1),d));for(let T=1;T<=a;T++){let A=[oge(x,w[T-1]),wc(T+1,1),d];w[T]=i((0,na.concatBytes)(...A))}return(0,na.concatBytes)(...w).slice(0,r)}Es.expand_message_xmd=nW;function oW(t,e,r,i,n){if(Sg(t),Sg(e),b5(r),e.length>255){let o=Math.ceil(2*i/8);e=n.create({dkLen:o}).update((0,na.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:r}).update(t).update(wc(r,2)).update(e).update(wc(e.length,1)).digest()}Es.expand_message_xof=oW;function v5(t,e,r){(0,na.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:n,m:o,hash:a,expand:d,DST:p}=r;Sg(t),b5(e);let v=ige(p),w=i.toString(2).length,x=Math.ceil((w+n)/8),E=e*o*x,T;if(d==="xmd")T=nW(t,v,E,a);else if(d==="xof")T=oW(t,v,E,n,a);else if(d==="_internal_pass")T=t;else throw new Error('expand must be "xmd" or "xof"');let A=new Array(e);for(let k=0;k<e;k++){let D=new Array(o);for(let I=0;I<o;I++){let C=x*(I+k*o),q=T.subarray(C,C+x);D[I]=(0,rge.mod)(nge(q),i)}A[k]=D}return A}Es.hash_to_field=v5;function sge(t,e){let r=e.map(i=>Array.from(i).reverse());return(i,n)=>{let[o,a,d,p]=r.map(v=>v.reduce((w,x)=>t.add(t.mul(w,i),x)));return i=t.div(o,a),n=t.mul(n,t.div(d,p)),{x:i,y:n}}}Es.isogenyMap=sge;function age(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(i,n){let o=v5(i,2,{...r,DST:r.DST,...n}),a=t.fromAffine(e(o[0])),d=t.fromAffine(e(o[1])),p=a.add(d).clearCofactor();return p.assertValidity(),p},encodeToCurve(i,n){let o=v5(i,1,{...r,DST:r.encodeDST,...n}),a=t.fromAffine(e(o[0])).clearCofactor();return a.assertValidity(),a}}}Es.createHasher=age});var w5=K(kd=>{"use strict";M();Object.defineProperty(kd,"__esModule",{value:!0});kd.hmac=kd.HMAC=void 0;var K2=q2(),aW=Pd(),Ag=class extends aW.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,K2.default.hash(e);let i=(0,aW.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(i.length>n?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return K2.default.exists(this),this.iHash.update(e),this}digestInto(e){K2.default.exists(this),K2.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:i,finished:n,destroyed:o,blockLen:a,outputLen:d}=this;return e=e,e.finished=n,e.destroyed=o,e.blockLen=a,e.outputLen=d,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};kd.HMAC=Ag;var fge=(t,e,r)=>new Ag(t,e).update(r).digest();kd.hmac=fge;kd.hmac.create=(t,e)=>new Ag(t,e)});var cW=K(dp=>{"use strict";M();Object.defineProperty(dp,"__esModule",{value:!0});dp.createCurve=dp.getHash=void 0;var uge=w5(),fW=Pd(),cge=g5();function uW(t){return{hash:t,hmac:(e,...r)=>(0,uge.hmac)(t,e,(0,fW.concatBytes)(...r)),randomBytes:fW.randomBytes}}dp.getHash=uW;function lge(t,e){let r=i=>(0,cge.weierstrass)({...t,...uW(i)});return Object.freeze({...r(e),create:r})}dp.createCurve=lge});var e_=K(_o=>{"use strict";M();Object.defineProperty(_o,"__esModule",{value:!0});_o.encodeToCurve=_o.hashToCurve=_o.schnorr=_o.secp256k1=void 0;var H2=z2(),dge=Pd(),hn=Mg(),hge=g5(),Wn=Rd(),hW=sW(),pge=cW(),Q2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Z2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pW=BigInt(1),Y2=BigInt(2),lW=(t,e)=>(t+e/Y2)/e;function mW(t){let e=Q2,r=BigInt(3),i=BigInt(6),n=BigInt(11),o=BigInt(22),a=BigInt(23),d=BigInt(44),p=BigInt(88),v=t*t*t%e,w=v*v*t%e,x=(0,hn.pow2)(w,r,e)*w%e,E=(0,hn.pow2)(x,r,e)*w%e,T=(0,hn.pow2)(E,Y2,e)*v%e,A=(0,hn.pow2)(T,n,e)*T%e,k=(0,hn.pow2)(A,o,e)*A%e,D=(0,hn.pow2)(k,d,e)*k%e,I=(0,hn.pow2)(D,p,e)*D%e,C=(0,hn.pow2)(I,d,e)*k%e,q=(0,hn.pow2)(C,r,e)*w%e,U=(0,hn.pow2)(q,a,e)*A%e,$=(0,hn.pow2)(U,i,e)*v%e,W=(0,hn.pow2)($,Y2,e);if(!_c.eql(_c.sqr(W),t))throw new Error("Cannot find square root");return W}var _c=(0,hn.Field)(Q2,void 0,void 0,{sqrt:mW});_o.secp256k1=(0,pge.createCurve)({a:BigInt(0),b:BigInt(7),Fp:_c,n:Z2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Z2,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-pW*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),d=lW(o*t,e),p=lW(-i*t,e),v=(0,hn.mod)(t-d*r-p*n,e),w=(0,hn.mod)(-d*i-p*o,e),x=v>a,E=w>a;if(x&&(v=e-v),E&&(w=e-w),v>a||w>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:x,k1:v,k2neg:E,k2:w}}}},H2.sha256);var X2=BigInt(0),yW=t=>typeof t=="bigint"&&X2<t&&t<Q2,mge=t=>typeof t=="bigint"&&X2<t&&t<Z2,dW={};function J2(t,...e){let r=dW[t];if(r===void 0){let i=(0,H2.sha256)(Uint8Array.from(t,n=>n.charCodeAt(0)));r=(0,Wn.concatBytes)(i,i),dW[t]=r}return(0,H2.sha256)((0,Wn.concatBytes)(r,...e))}var E5=t=>t.toRawBytes(!0).slice(1),x5=t=>(0,Wn.numberToBytesBE)(t,32),_5=t=>(0,hn.mod)(t,Q2),Tg=t=>(0,hn.mod)(t,Z2),S5=_o.secp256k1.ProjectivePoint,yge=(t,e,r)=>S5.BASE.multiplyAndAddUnsafe(t,e,r);function M5(t){let e=_o.secp256k1.utils.normPrivateKeyToScalar(t),r=S5.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Tg(-e),bytes:E5(r)}}function gW(t){if(!yW(t))throw new Error("bad x: need 0 < x < p");let e=_5(t*t),r=_5(e*t+BigInt(7)),i=mW(r);i%Y2!==X2&&(i=_5(-i));let n=new S5(t,i,pW);return n.assertValidity(),n}function vW(...t){return Tg((0,Wn.bytesToNumberBE)(J2("BIP0340/challenge",...t)))}function gge(t){return M5(t).bytes}function vge(t,e,r=(0,dge.randomBytes)(32)){let i=(0,Wn.ensureBytes)("message",t),{bytes:n,scalar:o}=M5(e),a=(0,Wn.ensureBytes)("auxRand",r,32),d=x5(o^(0,Wn.bytesToNumberBE)(J2("BIP0340/aux",a))),p=J2("BIP0340/nonce",d,n,i),v=Tg((0,Wn.bytesToNumberBE)(p));if(v===X2)throw new Error("sign failed: k is zero");let{bytes:w,scalar:x}=M5(v),E=vW(w,n,i),T=new Uint8Array(64);if(T.set(w,0),T.set(x5(Tg(x+E*o)),32),!bW(T,i,n))throw new Error("sign: Invalid signature produced");return T}function bW(t,e,r){let i=(0,Wn.ensureBytes)("signature",t,64),n=(0,Wn.ensureBytes)("message",e),o=(0,Wn.ensureBytes)("publicKey",r,32);try{let a=gW((0,Wn.bytesToNumberBE)(o)),d=(0,Wn.bytesToNumberBE)(i.subarray(0,32));if(!yW(d))return!1;let p=(0,Wn.bytesToNumberBE)(i.subarray(32,64));if(!mge(p))return!1;let v=vW(x5(d),E5(a),n),w=yge(a,p,Tg(-v));return!(!w||!w.hasEvenY()||w.toAffine().x!==d)}catch{return!1}}_o.schnorr=(()=>({getPublicKey:gge,sign:vge,verify:bW,utils:{randomPrivateKey:_o.secp256k1.utils.randomPrivateKey,lift_x:gW,pointToBytes:E5,numberToBytesBE:Wn.numberToBytesBE,bytesToNumberBE:Wn.bytesToNumberBE,taggedHash:J2,mod:hn.mod}}))();var bge=(()=>(0,hW.isogenyMap)(_c,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))))(),wge=(()=>(0,hge.mapToCurveSimpleSWU)(_c,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:_c.create(BigInt("-11"))}))(),wW=(()=>(0,hW.createHasher)(_o.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=wge(_c.create(t[0]));return bge(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:_c.ORDER,m:1,k:128,expand:"xmd",hash:H2.sha256}))();_o.hashToCurve=(()=>wW.hashToCurve)();_o.encodeToCurve=(()=>wW.encodeToCurve)()});var P5=K(xc=>{"use strict";M();Object.defineProperty(xc,"__esModule",{value:!0});xc.hkdf=xc.expand=xc.extract=void 0;var T5=q2(),_W=Pd(),MW=w5();function EW(t,e,r){return T5.default.hash(t),r===void 0&&(r=new Uint8Array(t.outputLen)),(0,MW.hmac)(t,(0,_W.toBytes)(r),(0,_W.toBytes)(e))}xc.extract=EW;var A5=new Uint8Array([0]),xW=new Uint8Array;function SW(t,e,r,i=32){if(T5.default.hash(t),T5.default.number(i),i>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");let n=Math.ceil(i/t.outputLen);r===void 0&&(r=xW);let o=new Uint8Array(n*t.outputLen),a=MW.hmac.create(t,e),d=a._cloneInto(),p=new Uint8Array(a.outputLen);for(let v=0;v<n;v++)A5[0]=v+1,d.update(v===0?xW:p).update(r).update(A5).digestInto(p),o.set(p,t.outputLen*v),a._cloneInto(d);return a.destroy(),d.destroy(),p.fill(0),A5.fill(0),o.slice(0,i)}xc.expand=SW;var _ge=(t,e,r,i,n)=>SW(t,EW(t,e,r),i,n);xc.hkdf=_ge});var r_=K(Ss=>{"use strict";M();Object.defineProperty(Ss,"__esModule",{value:!0});Ss.aesDecrypt=Ss.aesEncrypt=Ss.getValidSecret=Ss.decodeHex=Ss.remove0x=void 0;var xge=e_(),t_=Cw(),hp=O2();function AW(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}Ss.remove0x=AW;function Mge(t){return N.Buffer.from(AW(t),"hex")}Ss.decodeHex=Mge;function Ege(){var t;do t=(0,t_.randomBytes)(hp.SECRET_KEY_LENGTH);while(!xge.secp256k1.utils.isValidPrivateKey(t));return t}Ss.getValidSecret=Ege;function Sge(t,e){var r=(0,t_.randomBytes)(hp.AES_IV_LENGTH),i=(0,t_.createCipheriv)("aes-256-gcm",t,r),n=N.Buffer.concat([i.update(e),i.final()]),o=i.getAuthTag();return N.Buffer.concat([r,o,n])}Ss.aesEncrypt=Sge;function Age(t,e){var r=e.subarray(0,hp.AES_IV_LENGTH),i=e.subarray(hp.AES_IV_LENGTH,hp.AES_IV_PLUS_TAG_LENGTH),n=e.subarray(hp.AES_IV_PLUS_TAG_LENGTH),o=(0,t_.createDecipheriv)("aes-256-gcm",t,r);return o.setAuthTag(i),N.Buffer.concat([o.update(n),o.final()])}Ss.aesDecrypt=Age});var I5=K(k5=>{"use strict";M();Object.defineProperty(k5,"__esModule",{value:!0});var TW=e_(),Tge=P5(),Pge=z2(),R5=O2(),Rge=r_(),kge=function(){function t(e){this.uncompressed=N.Buffer.from(TW.secp256k1.getSharedSecret(R5.ONE,e,!1)),this.compressed=N.Buffer.from(TW.secp256k1.getSharedSecret(R5.ONE,e,!0))}return t.fromHex=function(e){var r=(0,Rge.decodeHex)(e);if(r.length===R5.UNCOMPRESSED_PUBLIC_KEY_SIZE-1){var i=N.Buffer.from([4]),n=N.Buffer.concat([i,r]);return new t(n)}return new t(r)},t.prototype.toHex=function(e){return e===void 0&&(e=!0),e?this.compressed.toString("hex"):this.uncompressed.toString("hex")},t.prototype.decapsulate=function(e){var r=N.Buffer.concat([this.uncompressed,e.multiply(this)]);return N.Buffer.from((0,Tge.hkdf)(Pge.sha256,r,void 0,void 0,32))},t.prototype.equals=function(e){return this.uncompressed.equals(e.uncompressed)},t}();k5.default=kge});var RW=K(Pg=>{"use strict";M();var Ige=Pg&&Pg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pg,"__esModule",{value:!0});var D5=e_(),Dge=P5(),Bge=z2(),PW=r_(),Oge=Ige(I5()),Cge=function(){function t(e){if(this.secret=e||(0,PW.getValidSecret)(),!D5.secp256k1.utils.isValidPrivateKey(this.secret))throw new Error("Invalid private key");this.publicKey=new Oge.default(N.Buffer.from(D5.secp256k1.getPublicKey(this.secret)))}return t.fromHex=function(e){return new t((0,PW.decodeHex)(e))},t.prototype.toHex=function(){return this.secret.toString("hex")},t.prototype.encapsulate=function(e){var r=N.Buffer.concat([this.publicKey.uncompressed,this.multiply(e)]);return N.Buffer.from((0,Dge.hkdf)(Bge.sha256,r,void 0,void 0,32))},t.prototype.multiply=function(e){return N.Buffer.from(D5.secp256k1.getSharedSecret(this.secret,e.compressed,!1))},t.prototype.equals=function(e){return this.secret.equals(e.secret)},t}();Pg.default=Cge});var B5=K(Mc=>{"use strict";M();var kW=Mc&&Mc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.PublicKey=Mc.PrivateKey=void 0;var qge=RW();Object.defineProperty(Mc,"PrivateKey",{enumerable:!0,get:function(){return kW(qge).default}});var Nge=I5();Object.defineProperty(Mc,"PublicKey",{enumerable:!0,get:function(){return kW(Nge).default}})});var BW=K(As=>{"use strict";M();Object.defineProperty(As,"__esModule",{value:!0});As.utils=As.PublicKey=As.PrivateKey=As.decrypt=As.encrypt=void 0;var IW=O2(),pp=B5(),Id=r_();function jge(t,e){var r=new pp.PrivateKey,i=t instanceof N.Buffer?new pp.PublicKey(t):pp.PublicKey.fromHex(t),n=r.encapsulate(i),o=(0,Id.aesEncrypt)(n,e);return N.Buffer.concat([r.publicKey.uncompressed,o])}As.encrypt=jge;function Lge(t,e){var r=t instanceof N.Buffer?new pp.PrivateKey(t):pp.PrivateKey.fromHex(t),i=new pp.PublicKey(e.subarray(0,IW.UNCOMPRESSED_PUBLIC_KEY_SIZE)),n=e.subarray(IW.UNCOMPRESSED_PUBLIC_KEY_SIZE),o=i.decapsulate(r);return(0,Id.aesDecrypt)(o,n)}As.decrypt=Lge;var DW=B5();Object.defineProperty(As,"PrivateKey",{enumerable:!0,get:function(){return DW.PrivateKey}});Object.defineProperty(As,"PublicKey",{enumerable:!0,get:function(){return DW.PublicKey}});As.utils={aesDecrypt:Id.aesDecrypt,aesEncrypt:Id.aesEncrypt,decodeHex:Id.decodeHex,getValidSecret:Id.getValidSecret,remove0x:Id.remove0x}});var Ci=K((ROe,OW)=>{"use strict";M();OW.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var sf=K((IOe,C5)=>{"use strict";M();var Uge=Ut(),zge=Object.getPrototypeOf(async function(){}).constructor,CW=globalThis.Blob||Uge.Blob,Fge=typeof CW<"u"?function(e){return e instanceof CW}:function(e){return!1},O5=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e}};C5.exports={AggregateError:O5,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((i,n)=>{t=i,e=n}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof zge},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Fge};C5.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var n_=K((BOe,i_)=>{"use strict";M();var{AbortController:qW,AbortSignal:$ge}=typeof self<"u"?self:typeof window<"u"?window:void 0;i_.exports=qW;i_.exports.AbortSignal=$ge;i_.exports.default=qW});var no=K((COe,LW)=>{"use strict";M();var{format:Wge,inspect:o_,AggregateError:Gge}=sf(),Vge=globalThis.AggregateError||Gge,Kge=Symbol("kIsNodeError"),Hge=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Zge=/^([A-Z][a-z0-9]*)+$/,Yge="__node_internal_",s_={};function Dd(t,e){if(!t)throw new s_.ERR_INTERNAL_ASSERTION(e)}function NW(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Jge(t,e,r){if(typeof e=="function")return Dd(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return Dd(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:Wge(e,...r)}function In(t,e,r){r||(r=Error);class i extends r{constructor(...o){super(Jge(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[Kge]=!0,s_[t]=i}function jW(t){let e=Yge+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Qge(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Vge([e,t],e.message);return r.code=e.code,r}return t||e}var q5=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new s_.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};In("ERR_ASSERTION","%s",Error);In("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Dd(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],o=[],a=[];for(let p of e)Dd(typeof p=="string","All expected entries have to be of type string"),Hge.includes(p)?n.push(p.toLowerCase()):Zge.test(p)?o.push(p):(Dd(p!=="object",'The value "object" should be written as "Object"'),a.push(p));if(o.length>0){let p=n.indexOf("object");p!==-1&&(n.splice(n,p,1),o.push("Object"))}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let p=n.pop();i+=`one of type ${n.join(", ")}, or ${p}`}}(o.length>0||a.length>0)&&(i+=" or ")}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let p=o.pop();i+=`an instance of ${o.join(", ")}, or ${p}`}}a.length>0&&(i+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(i+="an "),i+=`${a[0]}`;break;case 2:i+=`one of ${a[0]} or ${a[1]}`;break;default:{let p=a.pop();i+=`one of ${a.join(", ")}, or ${p}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var d;if((d=r.constructor)!==null&&d!==void 0&&d.name)i+=`. Received an instance of ${r.constructor.name}`;else{let p=o_(r,{depth:-1});i+=`. Received ${p}`}}else{let p=o_(r,{colors:!1});p.length>25&&(p=`${p.slice(0,25)}...`),i+=`. Received type ${typeof r} (${p})`}return i},TypeError);In("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=o_(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);In("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);In("ERR_MISSING_ARGS",(...t)=>{Dd(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);In("ERR_OUT_OF_RANGE",(t,e,r)=>{Dd(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=NW(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=NW(i)),i+="n"):i=o_(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);In("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);In("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);In("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);In("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);In("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);In("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);In("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);In("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);In("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);In("ERR_STREAM_WRITE_AFTER_END","write after end",Error);In("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);LW.exports={AbortError:q5,aggregateTwoErrors:jW(Qge),hideStackFrames:jW,codes:s_}});var Rg=K((NOe,HW)=>{"use strict";M();var{ArrayIsArray:j5,ArrayPrototypeIncludes:$W,ArrayPrototypeJoin:WW,ArrayPrototypeMap:Xge,NumberIsInteger:L5,NumberIsNaN:eve,NumberMAX_SAFE_INTEGER:tve,NumberMIN_SAFE_INTEGER:rve,NumberParseInt:ive,ObjectPrototypeHasOwnProperty:nve,RegExpPrototypeExec:GW,String:ove,StringPrototypeToUpperCase:sve,StringPrototypeTrim:ave}=Ci(),{hideStackFrames:Ts,codes:{ERR_SOCKET_BAD_PORT:fve,ERR_INVALID_ARG_TYPE:oo,ERR_INVALID_ARG_VALUE:mp,ERR_OUT_OF_RANGE:Bd,ERR_UNKNOWN_SIGNAL:UW}}=no(),{normalizeEncoding:uve}=sf(),{isAsyncFunction:cve,isArrayBufferView:lve}=sf().types,zW={};function dve(t){return t===(t|0)}function hve(t){return t===t>>>0}var pve=/^[0-7]+$/,mve="must be a 32-bit unsigned integer or an octal string";function yve(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(GW(pve,t)===null)throw new mp(e,t,mve);t=ive(t,8)}return VW(t,e),t}var gve=Ts((t,e,r=rve,i=tve)=>{if(typeof t!="number")throw new oo(e,"number",t);if(!L5(t))throw new Bd(e,"an integer",t);if(t<r||t>i)throw new Bd(e,`>= ${r} && <= ${i}`,t)}),vve=Ts((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new oo(e,"number",t);if(!L5(t))throw new Bd(e,"an integer",t);if(t<r||t>i)throw new Bd(e,`>= ${r} && <= ${i}`,t)}),VW=Ts((t,e,r=!1)=>{if(typeof t!="number")throw new oo(e,"number",t);if(!L5(t))throw new Bd(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new Bd(e,`>= ${i} && <= ${n}`,t)});function U5(t,e){if(typeof t!="string")throw new oo(e,"string",t)}function bve(t,e,r=void 0,i){if(typeof t!="number")throw new oo(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&eve(t))throw new Bd(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var wve=Ts((t,e,r)=>{if(!$W(r,t)){let n="must be one of: "+WW(Xge(r,o=>typeof o=="string"?`'${o}'`:ove(o)),", ");throw new mp(e,t,n)}});function KW(t,e){if(typeof t!="boolean")throw new oo(e,"boolean",t)}function N5(t,e,r){return t==null||!nve(t,e)?r:t[e]}var _ve=Ts((t,e,r=null)=>{let i=N5(r,"allowArray",!1),n=N5(r,"allowFunction",!1);if(!N5(r,"nullable",!1)&&t===null||!i&&j5(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new oo(e,"Object",t)}),xve=Ts((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new oo(e,"a dictionary",t)}),z5=Ts((t,e,r=0)=>{if(!j5(t))throw new oo(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new mp(e,t,i)}});function Mve(t,e){z5(t,e);for(let r=0;r<t.length;r++)U5(t[r],`${e}[${r}]`)}function Eve(t,e){z5(t,e);for(let r=0;r<t.length;r++)KW(t[r],`${e}[${r}]`)}function Sve(t,e="signal"){if(U5(t,e),zW[t]===void 0)throw zW[sve(t)]!==void 0?new UW(t+" (signals must use all capital letters)"):new UW(t)}var Ave=Ts((t,e="buffer")=>{if(!lve(t))throw new oo(e,["Buffer","TypedArray","DataView"],t)});function Tve(t,e){let r=uve(e),i=t.length;if(r==="hex"&&i%2!==0)throw new mp("encoding",e,`is invalid for data of length ${i}`)}function Pve(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&ave(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new fve(e,t,r);return t|0}var Rve=Ts((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new oo(e,"AbortSignal",t)}),kve=Ts((t,e)=>{if(typeof t!="function")throw new oo(e,"Function",t)}),Ive=Ts((t,e)=>{if(typeof t!="function"||cve(t))throw new oo(e,"Function",t)}),Dve=Ts((t,e)=>{if(t!==void 0)throw new oo(e,"undefined",t)});function Bve(t,e,r){if(!$W(r,t))throw new oo(e,`('${WW(r,"|")}')`,t)}var Ove=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function FW(t,e){if(typeof t>"u"||!GW(Ove,t))throw new mp(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Cve(t){if(typeof t=="string")return FW(t,"hints"),t;if(j5(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];FW(n,"hints"),r+=n,i!==e-1&&(r+=", ")}return r}throw new mp("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}HW.exports={isInt32:dve,isUint32:hve,parseFileMode:yve,validateArray:z5,validateStringArray:Mve,validateBooleanArray:Eve,validateBoolean:KW,validateBuffer:Ave,validateDictionary:xve,validateEncoding:Tve,validateFunction:kve,validateInt32:vve,validateInteger:gve,validateNumber:bve,validateObject:_ve,validateOneOf:wve,validatePlainFunction:Ive,validatePort:Pve,validateSignalName:Sve,validateString:U5,validateUint32:VW,validateUndefined:Dve,validateUnion:Bve,validateAbortSignal:Rve,validateLinkHeaderValue:Cve}});var ff=K((LOe,cG)=>{"use strict";M();var{Symbol:a_,SymbolAsyncIterator:ZW,SymbolIterator:YW,SymbolFor:JW}=Ci(),QW=a_("kDestroyed"),XW=a_("kIsErrored"),F5=a_("kIsReadable"),eG=a_("kIsDisturbed"),qve=JW("nodejs.webstream.isClosedPromise"),Nve=JW("nodejs.webstream.controllerErrorFunction");function f_(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function u_(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function jve(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function af(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function tG(t){return!!(t&&!af(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function rG(t){return!!(t&&!af(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function iG(t){return!!(t&&!af(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Lve(t){return tG(t)||rG(t)||iG(t)}function Uve(t,e){return t==null?!1:e===!0?typeof t[ZW]=="function":e===!1?typeof t[YW]=="function":typeof t[ZW]=="function"||typeof t[YW]=="function"}function c_(t){if(!af(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[QW]||i!=null&&i.destroyed)}function nG(t){if(!u_(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function zve(t,e){if(!u_(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Fve(t){if(!f_(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function oG(t,e){if(!f_(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function sG(t){return t&&t[F5]!=null?t[F5]:typeof t?.readable!="boolean"?null:c_(t)?!1:f_(t)&&t.readable&&!oG(t)}function aG(t){return typeof t?.writable!="boolean"?null:c_(t)?!1:u_(t)&&t.writable&&!nG(t)}function $ve(t,e){return af(t)?c_(t)?!0:!(e?.readable!==!1&&sG(t)||e?.writable!==!1&&aG(t)):null}function Wve(t){var e,r;return af(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Gve(t){var e,r;return af(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Vve(t){if(!af(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&fG(t)?t._closed:null}function fG(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function uG(t){return typeof t._sent100=="boolean"&&fG(t)}function Kve(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Hve(t){if(!af(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!i&&uG(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function Zve(t){var e;return!!(t&&((e=t[eG])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Yve(t){var e,r,i,n,o,a,d,p,v,w;return!!(t&&((e=(r=(i=(n=(o=(a=t[XW])!==null&&a!==void 0?a:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(d=t._readableState)===null||d===void 0?void 0:d.errorEmitted)!==null&&i!==void 0?i:(p=t._writableState)===null||p===void 0?void 0:p.errorEmitted)!==null&&r!==void 0?r:(v=t._readableState)===null||v===void 0?void 0:v.errored)!==null&&e!==void 0?e:!((w=t._writableState)===null||w===void 0)&&w.errored))}cG.exports={kDestroyed:QW,isDisturbed:Zve,kIsDisturbed:eG,isErrored:Yve,kIsErrored:XW,isReadable:sG,kIsReadable:F5,kIsClosedPromise:qve,kControllerErrorFunction:Nve,isClosed:Vve,isDestroyed:c_,isDuplexNodeStream:jve,isFinished:$ve,isIterable:Uve,isReadableNodeStream:f_,isReadableStream:tG,isReadableEnded:Fve,isReadableFinished:oG,isReadableErrored:Gve,isNodeStream:af,isWebStream:Lve,isWritable:aG,isWritableNodeStream:u_,isWritableStream:rG,isWritableEnded:nG,isWritableFinished:zve,isWritableErrored:Wve,isServerRequest:Kve,isServerResponse:uG,willEmitClose:Hve,isTransformStream:iG}});var fu=K((zOe,K5)=>{M();var Ec=wf(),{AbortError:bG,codes:Jve}=no(),{ERR_INVALID_ARG_TYPE:Qve,ERR_STREAM_PREMATURE_CLOSE:lG}=Jve,{kEmptyObject:W5,once:G5}=sf(),{validateAbortSignal:Xve,validateFunction:e1e,validateObject:t1e,validateBoolean:r1e}=Rg(),{Promise:i1e,PromisePrototypeThen:n1e}=Ci(),{isClosed:o1e,isReadable:dG,isReadableNodeStream:$5,isReadableStream:s1e,isReadableFinished:hG,isReadableErrored:pG,isWritable:mG,isWritableNodeStream:yG,isWritableStream:a1e,isWritableFinished:gG,isWritableErrored:vG,isNodeStream:f1e,willEmitClose:u1e,kIsClosedPromise:c1e}=ff();function l1e(t){return t.setHeader&&typeof t.abort=="function"}var V5=()=>{};function wG(t,e,r){var i,n;if(arguments.length===2?(r=e,e=W5):e==null?e=W5:t1e(e,"options"),e1e(r,"callback"),Xve(e.signal,"options.signal"),r=G5(r),s1e(t)||a1e(t))return d1e(t,e,r);if(!f1e(t))throw new Qve("stream",["ReadableStream","WritableStream","Stream"],t);let o=(i=e.readable)!==null&&i!==void 0?i:$5(t),a=(n=e.writable)!==null&&n!==void 0?n:yG(t),d=t._writableState,p=t._readableState,v=()=>{t.writable||E()},w=u1e(t)&&$5(t)===o&&yG(t)===a,x=gG(t,!1),E=()=>{x=!0,t.destroyed&&(w=!1),!(w&&(!t.readable||o))&&(!o||T)&&r.call(t)},T=hG(t,!1),A=()=>{T=!0,t.destroyed&&(w=!1),!(w&&(!t.writable||a))&&(!a||x)&&r.call(t)},k=$=>{r.call(t,$)},D=o1e(t),I=()=>{D=!0;let $=vG(t)||pG(t);if($&&typeof $!="boolean")return r.call(t,$);if(o&&!T&&$5(t,!0)&&!hG(t,!1))return r.call(t,new lG);if(a&&!x&&!gG(t,!1))return r.call(t,new lG);r.call(t)},C=()=>{D=!0;let $=vG(t)||pG(t);if($&&typeof $!="boolean")return r.call(t,$);r.call(t)},q=()=>{t.req.on("finish",E)};l1e(t)?(t.on("complete",E),w||t.on("abort",I),t.req?q():t.on("request",q)):a&&!d&&(t.on("end",v),t.on("close",v)),!w&&typeof t.aborted=="boolean"&&t.on("aborted",I),t.on("end",A),t.on("finish",E),e.error!==!1&&t.on("error",k),t.on("close",I),D?Ec.nextTick(I):d!=null&&d.errorEmitted||p!=null&&p.errorEmitted?w||Ec.nextTick(C):(!o&&(!w||dG(t))&&(x||mG(t)===!1)||!a&&(!w||mG(t))&&(T||dG(t)===!1)||p&&t.req&&t.aborted)&&Ec.nextTick(C);let U=()=>{r=V5,t.removeListener("aborted",I),t.removeListener("complete",E),t.removeListener("abort",I),t.removeListener("request",q),t.req&&t.req.removeListener("finish",E),t.removeListener("end",v),t.removeListener("close",v),t.removeListener("finish",E),t.removeListener("end",A),t.removeListener("error",k),t.removeListener("close",I)};if(e.signal&&!D){let $=()=>{let W=r;U(),W.call(t,new bG(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ec.nextTick($);else{let W=r;r=G5((...F)=>{e.signal.removeEventListener("abort",$),W.apply(t,F)}),e.signal.addEventListener("abort",$)}}return U}function d1e(t,e,r){let i=!1,n=V5;if(e.signal)if(n=()=>{i=!0,r.call(t,new bG(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ec.nextTick(n);else{let a=r;r=G5((...d)=>{e.signal.removeEventListener("abort",n),a.apply(t,d)}),e.signal.addEventListener("abort",n)}let o=(...a)=>{i||Ec.nextTick(()=>r.apply(t,a))};return n1e(t[c1e].promise,o,o),V5}function h1e(t,e){var r;let i=!1;return e===null&&(e=W5),(r=e)!==null&&r!==void 0&&r.cleanup&&(r1e(e.cleanup,"cleanup"),i=e.cleanup),new i1e((n,o)=>{let a=wG(t,e,d=>{i&&a(),d?o(d):n()})})}K5.exports=wG;K5.exports.finished=h1e});var Od=K(($Oe,PG)=>{"use strict";M();var uf=wf(),{aggregateTwoErrors:p1e,codes:{ERR_MULTIPLE_CALLBACK:m1e},AbortError:y1e}=no(),{Symbol:MG}=Ci(),{kDestroyed:g1e,isDestroyed:v1e,isFinished:b1e,isServerRequest:w1e}=ff(),EG=MG("kDestroy"),H5=MG("kConstruct");function SG(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function _1e(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(SG(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?_G(this,t,e):this.once(EG,function(o){_G(this,p1e(o,t),e)}),this)}function _G(t,e,r){let i=!1;function n(o){if(i)return;i=!0;let a=t._readableState,d=t._writableState;SG(o,d,a),d&&(d.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(o),o?uf.nextTick(x1e,t,o):uf.nextTick(AG,t)}try{t._destroy(e||null,n)}catch(o){n(o)}}function x1e(t,e){Z5(t,e),AG(t)}function AG(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Z5(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function M1e(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Y5(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?uf.nextTick(Z5,t,e):Z5(t,e))}function E1e(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(H5,e),!(t.listenerCount(H5)>1)&&uf.nextTick(S1e,t)}function S1e(t){let e=!1;function r(i){if(e){Y5(t,i??new m1e);return}e=!0;let n=t._readableState,o=t._writableState,a=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),a.destroyed?t.emit(EG,i):i?Y5(t,i,!0):uf.nextTick(A1e,t)}try{t._construct(i=>{uf.nextTick(r,i)})}catch(i){uf.nextTick(r,i)}}function A1e(t){t.emit(H5)}function xG(t){return t?.setHeader&&typeof t.abort=="function"}function TG(t){t.emit("close")}function T1e(t,e){t.emit("error",e),uf.nextTick(TG,t)}function P1e(t,e){!t||v1e(t)||(!e&&!b1e(t)&&(e=new y1e),w1e(t)?(t.socket=null,t.destroy(e)):xG(t)?t.abort():xG(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?uf.nextTick(T1e,t,e):uf.nextTick(TG,t),t.destroyed||(t[g1e]=!0))}PG.exports={construct:E1e,destroyer:P1e,destroy:_1e,undestroy:M1e,errorOrDestroy:Y5}});var h_=K((GOe,kG)=>{"use strict";M();var{ArrayIsArray:R1e,ObjectSetPrototypeOf:RG}=Ci(),{EventEmitter:l_}=rs();function d_(t){l_.call(this,t)}RG(d_.prototype,l_.prototype);RG(d_,l_);d_.prototype.pipe=function(t,e){let r=this;function i(w){t.writable&&t.write(w)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",d));let o=!1;function a(){o||(o=!0,t.end())}function d(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function p(w){v(),l_.listenerCount(this,"error")===0&&this.emit("error",w)}J5(r,"error",p),J5(t,"error",p);function v(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",a),r.removeListener("close",d),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",v),r.removeListener("close",v),t.removeListener("close",v)}return r.on("end",v),r.on("close",v),t.on("close",v),t.emit("pipe",r),t};function J5(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):R1e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}kG.exports={Stream:d_,prependListener:J5}});var kg=K((KOe,p_)=>{"use strict";M();var{AbortError:IG,codes:k1e}=no(),{isNodeStream:DG,isWebStream:I1e,kControllerErrorFunction:D1e}=ff(),B1e=fu(),{ERR_INVALID_ARG_TYPE:BG}=k1e,O1e=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new BG(e,"AbortSignal",t)};p_.exports.addAbortSignal=function(e,r){if(O1e(e,"signal"),!DG(r)&&!I1e(r))throw new BG("stream",["ReadableStream","WritableStream","Stream"],r);return p_.exports.addAbortSignalNoValidate(e,r)};p_.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=DG(e)?()=>{e.destroy(new IG(void 0,{cause:t.reason}))}:()=>{e[D1e](new IG(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),B1e(e,()=>t.removeEventListener("abort",r))),e}});var qG=K((YOe,CG)=>{"use strict";M();var{StringPrototypeSlice:OG,SymbolIterator:C1e,TypedArrayPrototypeSet:m_,Uint8Array:q1e}=Ci(),{Buffer:Q5}=Ut(),{inspect:N1e}=sf();CG.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return Q5.alloc(0);let r=Q5.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)m_(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[C1e](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,n=0;do{let o=i.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=OG(o,0,e),this.head=i,i.data=OG(o,e));break}++n}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=Q5.allocUnsafe(e),i=e,n=this.head,o=0;do{let a=n.data;if(e>a.length)m_(r,a,i-e),e-=a.length;else{e===a.length?(m_(r,a,i-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(m_(r,new q1e(a.buffer,a.byteOffset,e),i-e),this.head=n,n.data=a.slice(e));break}++o}while((n=n.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return N1e(this,{...r,depth:0,customInspect:!1})}}});var y_=K((QOe,jG)=>{"use strict";M();var{MathFloor:j1e,NumberIsInteger:L1e}=Ci(),{ERR_INVALID_ARG_VALUE:U1e}=no().codes;function z1e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function NG(t){return t?16:16*1024}function F1e(t,e,r,i){let n=z1e(e,i,r);if(n!=null){if(!L1e(n)||n<0){let o=i?`options.${r}`:"options.highWaterMark";throw new U1e(o,n)}return j1e(n)}return NG(t.objectMode)}jG.exports={getHighWaterMark:F1e,getDefaultHighWaterMark:NG}});var X5=K((eCe,FG)=>{"use strict";M();var LG=wf(),{PromisePrototypeThen:$1e,SymbolAsyncIterator:UG,SymbolIterator:zG}=Ci(),{Buffer:W1e}=Ut(),{ERR_INVALID_ARG_TYPE:G1e,ERR_STREAM_NULL_VALUES:V1e}=no().codes;function K1e(t,e,r){let i;if(typeof e=="string"||e instanceof W1e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let n;if(e&&e[UG])n=!0,i=e[UG]();else if(e&&e[zG])n=!1,i=e[zG]();else throw new G1e("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),a=!1;o._read=function(){a||(a=!0,p())},o._destroy=function(v,w){$1e(d(v),()=>LG.nextTick(w,v),x=>LG.nextTick(w,x||v))};async function d(v){let w=v!=null,x=typeof i.throw=="function";if(w&&x){let{value:E,done:T}=await i.throw(v);if(await E,T)return}if(typeof i.return=="function"){let{value:E}=await i.return();await E}}async function p(){for(;;){try{let{value:v,done:w}=n?await i.next():i.next();if(w)o.push(null);else{let x=v&&typeof v.then=="function"?await v:v;if(x===null)throw a=!1,new V1e;if(o.push(x))continue;a=!1}}catch(v){o.destroy(v)}break}}return o}FG.exports=K1e});var Ig=K((rCe,tV)=>{M();var oa=wf(),{ArrayPrototypeIndexOf:H1e,NumberIsInteger:Z1e,NumberIsNaN:Y1e,NumberParseInt:J1e,ObjectDefineProperties:GG,ObjectKeys:Q1e,ObjectSetPrototypeOf:VG,Promise:X1e,SafeSet:ebe,SymbolAsyncIterator:tbe,Symbol:rbe}=Ci();tV.exports=Mt;Mt.ReadableState=oA;var{EventEmitter:ibe}=rs(),{Stream:Sc,prependListener:nbe}=h_(),{Buffer:eA}=Ut(),{addAbortSignal:obe}=kg(),sbe=fu(),qt=sf().debuglog("stream",t=>{qt=t}),abe=qG(),gp=Od(),{getHighWaterMark:fbe,getDefaultHighWaterMark:ube}=y_(),{aggregateTwoErrors:$G,codes:{ERR_INVALID_ARG_TYPE:cbe,ERR_METHOD_NOT_IMPLEMENTED:lbe,ERR_OUT_OF_RANGE:dbe,ERR_STREAM_PUSH_AFTER_EOF:hbe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:pbe}}=no(),{validateObject:mbe}=Rg(),Cd=rbe("kPaused"),{StringDecoder:KG}=Gf(),ybe=X5();VG(Mt.prototype,Sc.prototype);VG(Mt,Sc);var tA=()=>{},{errorOrDestroy:yp}=gp;function oA(t,e,r){typeof r!="boolean"&&(r=e instanceof cf()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?fbe(this,t,"readableHighWaterMark",r):ube(!1),this.buffer=new abe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Cd]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new KG(t.encoding),this.encoding=t.encoding)}function Mt(t){if(!(this instanceof Mt))return new Mt(t);let e=this instanceof cf();this._readableState=new oA(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&obe(t.signal,this)),Sc.call(this,t),gp.construct(this,()=>{this._readableState.needReadable&&g_(this,this._readableState)})}Mt.prototype.destroy=gp.destroy;Mt.prototype._undestroy=gp.undestroy;Mt.prototype._destroy=function(t,e){e(t)};Mt.prototype[ibe.captureRejectionSymbol]=function(t){this.destroy(t)};Mt.prototype.push=function(t,e){return HG(this,t,e,!1)};Mt.prototype.unshift=function(t,e){return HG(this,t,e,!0)};function HG(t,e,r,i){qt("readableAddChunk",e);let n=t._readableState,o;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=eA.from(e,r).toString(n.encoding):(e=eA.from(e,r),r=""))):e instanceof eA?r="":Sc._isUint8Array(e)?(e=Sc._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new cbe("chunk",["string","Buffer","Uint8Array"],e))),o)yp(t,o);else if(e===null)n.reading=!1,bbe(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)yp(t,new pbe);else{if(n.destroyed||n.errored)return!1;rA(t,n,e,!0)}else if(n.ended)yp(t,new hbe);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?rA(t,n,e,!1):g_(t,n)):rA(t,n,e,!1)}else i||(n.reading=!1,g_(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function rA(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&v_(t)),g_(t,e)}Mt.prototype.isPaused=function(){let t=this._readableState;return t[Cd]===!0||t.flowing===!1};Mt.prototype.setEncoding=function(t){let e=new KG(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var gbe=1073741824;function vbe(t){if(t>gbe)throw new dbe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function WG(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:Y1e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Mt.prototype.read=function(t){qt("read",t),t===void 0?t=NaN:Z1e(t)||(t=J1e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=vbe(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return qt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?iA(this):v_(this),null;if(t=WG(t,e),t===0&&e.ended)return e.length===0&&iA(this),null;let i=e.needReadable;if(qt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,qt("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,qt("reading, ended or constructing",i);else if(i){qt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(o){yp(this,o)}e.sync=!1,e.reading||(t=WG(r,e))}let n;return t>0?n=XG(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&iA(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function bbe(t,e){if(qt("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?v_(t):(e.needReadable=!1,e.emittedReadable=!0,ZG(t))}}function v_(t){let e=t._readableState;qt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(qt("emitReadable",e.flowing),e.emittedReadable=!0,oa.nextTick(ZG,t))}function ZG(t){let e=t._readableState;qt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,JG(t)}function g_(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,oa.nextTick(wbe,t,e))}function wbe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(qt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Mt.prototype._read=function(t){throw new lbe("_read()")};Mt.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new ebe(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),qt("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&t!==oa.stdout&&t!==oa.stderr?d:D;i.endEmitted?oa.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(I,C){qt("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,w())}function d(){qt("onend"),t.end()}let p,v=!1;function w(){qt("cleanup"),t.removeListener("close",A),t.removeListener("finish",k),p&&t.removeListener("drain",p),t.removeListener("error",T),t.removeListener("unpipe",a),r.removeListener("end",d),r.removeListener("end",D),r.removeListener("data",E),v=!0,p&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&p()}function x(){v||(i.pipes.length===1&&i.pipes[0]===t?(qt("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(qt("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),p||(p=_be(r,t),t.on("drain",p))}r.on("data",E);function E(I){qt("ondata");let C=t.write(I);qt("dest.write",C),C===!1&&x()}function T(I){if(qt("onerror",I),D(),t.removeListener("error",T),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?yp(t,I):t.emit("error",I)}}nbe(t,"error",T);function A(){t.removeListener("finish",k),D()}t.once("close",A);function k(){qt("onfinish"),t.removeListener("close",A),D()}t.once("finish",k);function D(){qt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&x():i.flowing||(qt("pipe resume"),r.resume()),t};function _be(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(qt("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(qt("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Mt.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=H1e(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Mt.prototype.on=function(t,e){let r=Sc.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,qt("on readable",i.length,i.reading),i.length?v_(this):i.reading||oa.nextTick(xbe,this)),r};Mt.prototype.addListener=Mt.prototype.on;Mt.prototype.removeListener=function(t,e){let r=Sc.prototype.removeListener.call(this,t,e);return t==="readable"&&oa.nextTick(YG,this),r};Mt.prototype.off=Mt.prototype.removeListener;Mt.prototype.removeAllListeners=function(t){let e=Sc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&oa.nextTick(YG,this),e};function YG(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Cd]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function xbe(t){qt("readable nexttick read 0"),t.read(0)}Mt.prototype.resume=function(){let t=this._readableState;return t.flowing||(qt("resume"),t.flowing=!t.readableListening,Mbe(this,t)),t[Cd]=!1,this};function Mbe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,oa.nextTick(Ebe,t,e))}function Ebe(t,e){qt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),JG(t),e.flowing&&!e.reading&&t.read(0)}Mt.prototype.pause=function(){return qt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Cd]=!0,this};function JG(t){let e=t._readableState;for(qt("flow",e.flowing);e.flowing&&t.read()!==null;);}Mt.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",i=>{yp(this,i)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Q1e(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};Mt.prototype[tbe]=function(){return QG(this)};Mt.prototype.iterator=function(t){return t!==void 0&&mbe(t,"options"),QG(this,t)};function QG(t,e){typeof t.read!="function"&&(t=Mt.wrap(t,{objectMode:!0}));let r=Sbe(t,e);return r.stream=t,r}async function*Sbe(t,e){let r=tA;function i(a){this===t?(r(),r=tA):r=a}t.on("readable",i);let n,o=sbe(t,{writable:!1},a=>{n=a?$G(n,a):null,r(),r=tA});try{for(;;){let a=t.destroyed?null:t.read();if(a!==null)yield a;else{if(n)throw n;if(n===null)return;await new X1e(i)}}}catch(a){throw n=$G(n,a),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?gp.destroyer(t,null):(t.off("readable",i),o())}}GG(Mt.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});GG(oA.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Cd]!==!1},set(t){this[Cd]=!!t}}});Mt._fromList=XG;function XG(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function iA(t){let e=t._readableState;qt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,oa.nextTick(Abe,e,t))}function Abe(t,e){if(qt("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)oa.nextTick(Tbe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Tbe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Mt.from=function(t,e){return ybe(Mt,t,e)};var nA;function eV(){return nA===void 0&&(nA={}),nA}Mt.fromWeb=function(t,e){return eV().newStreamReadableFromReadableStream(t,e)};Mt.toWeb=function(t,e){return eV().newReadableStreamFromStreamReadable(t,e)};Mt.wrap=function(t,e){var r,i;return new Mt({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,o){gp.destroyer(t,n),o(n)}}).wrap(t)}});var dA=K((nCe,hV)=>{M();var qd=wf(),{ArrayPrototypeSlice:nV,Error:Pbe,FunctionPrototypeSymbolHasInstance:oV,ObjectDefineProperty:sV,ObjectDefineProperties:Rbe,ObjectSetPrototypeOf:aV,StringPrototypeToLowerCase:kbe,Symbol:Ibe,SymbolHasInstance:Dbe}=Ci();hV.exports=Hr;Hr.WritableState=Og;var{EventEmitter:Bbe}=rs(),Dg=h_().Stream,{Buffer:b_}=Ut(),x_=Od(),{addAbortSignal:Obe}=kg(),{getHighWaterMark:Cbe,getDefaultHighWaterMark:qbe}=y_(),{ERR_INVALID_ARG_TYPE:Nbe,ERR_METHOD_NOT_IMPLEMENTED:jbe,ERR_MULTIPLE_CALLBACK:fV,ERR_STREAM_CANNOT_PIPE:Lbe,ERR_STREAM_DESTROYED:Bg,ERR_STREAM_ALREADY_FINISHED:Ube,ERR_STREAM_NULL_VALUES:zbe,ERR_STREAM_WRITE_AFTER_END:Fbe,ERR_UNKNOWN_ENCODING:uV}=no().codes,{errorOrDestroy:vp}=x_;aV(Hr.prototype,Dg.prototype);aV(Hr,Dg);function fA(){}var bp=Ibe("kOnFinished");function Og(t,e,r){typeof r!="boolean"&&(r=e instanceof cf()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Cbe(this,t,"writableHighWaterMark",r):qbe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Wbe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,__(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[bp]=[]}function __(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Og.prototype.getBuffer=function(){return nV(this.buffered,this.bufferedIndex)};sV(Og.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Hr(t){let e=this instanceof cf();if(!e&&!oV(Hr,this))return new Hr(t);this._writableState=new Og(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Obe(t.signal,this)),Dg.call(this,t),x_.construct(this,()=>{let r=this._writableState;r.writing||cA(this,r),lA(this,r)})}sV(Hr,Dbe,{__proto__:null,value:function(t){return oV(this,t)?!0:this!==Hr?!1:t&&t._writableState instanceof Og}});Hr.prototype.pipe=function(){vp(this,new Lbe)};function cV(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!b_.isEncoding(r))throw new uV(r);typeof i!="function"&&(i=fA)}if(e===null)throw new zbe;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=b_.from(e,r),r="buffer");else if(e instanceof b_)r="buffer";else if(Dg._isUint8Array(e))e=Dg._uint8ArrayToBuffer(e),r="buffer";else throw new Nbe("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new Fbe:n.destroyed&&(o=new Bg("write")),o?(qd.nextTick(i,o),vp(t,o,!0),o):(n.pendingcb++,$be(t,n,e,r,i))}Hr.prototype.write=function(t,e,r){return cV(this,t,e,r)===!0};Hr.prototype.cork=function(){this._writableState.corked++};Hr.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||cA(this,t))};Hr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=kbe(e)),!b_.isEncoding(e))throw new uV(e);return this._writableState.defaultEncoding=e,this};function $be(t,e,r,i,n){let o=e.objectMode?1:r.length;e.length+=o;let a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==fA&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),a&&!e.errored&&!e.destroyed}function rV(t,e,r,i,n,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Bg("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function iV(t,e,r,i){--e.pendingcb,i(r),uA(e),vp(t,r)}function Wbe(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){vp(t,new fV);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?qd.nextTick(iV,t,r,e,n):iV(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&cA(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},qd.nextTick(Gbe,r.afterWriteTickInfo)):lV(t,r,1,n))}function Gbe({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,lV(t,e,r,i)}function lV(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&uA(e),lA(t,e)}function uA(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:a}=t.buffered[n],d=t.objectMode?1:o.length;t.length-=d,a((e=t.errored)!==null&&e!==void 0?e:new Bg("write"))}let r=t[bp].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new Bg("end"))}__(t)}function cA(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,o=r.length-i;if(!o)return;let a=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let d=e.allNoop?fA:v=>{for(let w=a;w<r.length;++w)r[w].callback(v)},p=e.allNoop&&a===0?r:nV(r,a);p.allBuffers=e.allBuffers,rV(t,e,!0,e.length,p,"",d),__(e)}else{do{let{chunk:d,encoding:p,callback:v}=r[a];r[a++]=null;let w=n?1:d.length;rV(t,e,!1,w,d,p,v)}while(a<r.length&&!e.writing);a===r.length?__(e):a>256?(r.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}Hr.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new jbe("_write()")};Hr.prototype._writev=null;Hr.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let o=cV(this,t,e);o instanceof Pbe&&(n=o)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,lA(this,i,!0),i.ended=!0):i.finished?n=new Ube("end"):i.destroyed&&(n=new Bg("end"))),typeof r=="function"&&(n||i.finished?qd.nextTick(r,n):i[bp].push(r)),this};function w_(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Vbe(t,e){let r=!1;function i(n){if(r){vp(t,n??fV());return}if(r=!0,e.pendingcb--,n){let o=e[bp].splice(0);for(let a=0;a<o.length;a++)o[a](n);vp(t,n,e.sync)}else w_(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,qd.nextTick(aA,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(n){i(n)}e.sync=!1}function Kbe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Vbe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function lA(t,e,r){w_(e)&&(Kbe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,qd.nextTick((i,n)=>{w_(n)?aA(i,n):n.pendingcb--},t,e)):w_(e)&&(e.pendingcb++,aA(t,e))))}function aA(t,e){e.pendingcb--,e.finished=!0;let r=e[bp].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy()}}Rbe(Hr.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Hbe=x_.destroy;Hr.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[bp].length)&&qd.nextTick(uA,r),Hbe.call(this,t,e),this};Hr.prototype._undestroy=x_.undestroy;Hr.prototype._destroy=function(t,e){e(t)};Hr.prototype[Bbe.captureRejectionSymbol]=function(t){this.destroy(t)};var sA;function dV(){return sA===void 0&&(sA={}),sA}Hr.fromWeb=function(t,e){return dV().newStreamWritableFromWritableStream(t,e)};Hr.toWeb=function(t){return dV().newWritableStreamFromStreamWritable(t)}});var SV=K((sCe,EV)=>{M();var hA=wf(),Zbe=Ut(),{isReadable:Ybe,isWritable:Jbe,isIterable:pV,isNodeStream:Qbe,isReadableNodeStream:mV,isWritableNodeStream:yV,isDuplexNodeStream:Xbe}=ff(),gV=fu(),{AbortError:MV,codes:{ERR_INVALID_ARG_TYPE:ewe,ERR_INVALID_RETURN_VALUE:vV}}=no(),{destroyer:wp}=Od(),twe=cf(),rwe=Ig(),{createDeferredPromise:bV}=sf(),wV=X5(),_V=globalThis.Blob||Zbe.Blob,iwe=typeof _V<"u"?function(e){return e instanceof _V}:function(e){return!1},nwe=globalThis.AbortController||n_().AbortController,{FunctionPrototypeCall:xV}=Ci(),Nd=class extends twe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};EV.exports=function t(e,r){if(Xbe(e))return e;if(mV(e))return M_({readable:e});if(yV(e))return M_({writable:e});if(Qbe(e))return M_({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:o,final:a,destroy:d}=owe(e);if(pV(n))return wV(Nd,n,{objectMode:!0,write:o,final:a,destroy:d});let p=n?.then;if(typeof p=="function"){let v,w=xV(p,n,x=>{if(x!=null)throw new vV("nully","body",x)},x=>{wp(v,x)});return v=new Nd({objectMode:!0,readable:!1,write:o,final(x){a(async()=>{try{await w,hA.nextTick(x,null)}catch(E){hA.nextTick(x,E)}})},destroy:d})}throw new vV("Iterable, AsyncIterable or AsyncFunction",r,n)}if(iwe(e))return t(e.arrayBuffer());if(pV(e))return wV(Nd,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?mV(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?yV(e?.writable)?e?.writable:t(e.writable):void 0;return M_({readable:n,writable:o})}let i=e?.then;if(typeof i=="function"){let n;return xV(i,e,o=>{o!=null&&n.push(o),n.push(null)},o=>{wp(n,o)}),n=new Nd({objectMode:!0,writable:!1,read(){}})}throw new ewe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function owe(t){let{promise:e,resolve:r}=bV(),i=new nwe,n=i.signal;return{value:t(async function*(){for(;;){let a=e;e=null;let{chunk:d,done:p,cb:v}=await a;if(hA.nextTick(v),p)return;if(n.aborted)throw new MV(void 0,{cause:n.reason});({promise:e,resolve:r}=bV()),yield d}}(),{signal:n}),write(a,d,p){let v=r;r=null,v({chunk:a,done:!1,cb:p})},final(a){let d=r;r=null,d({done:!0,cb:a})},destroy(a,d){i.abort(),d(a)}}}function M_(t){let e=t.readable&&typeof t.readable.read!="function"?rwe.wrap(t.readable):t.readable,r=t.writable,i=!!Ybe(e),n=!!Jbe(r),o,a,d,p,v;function w(x){let E=p;p=null,E?E(x):x&&v.destroy(x)}return v=new Nd({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(gV(r,x=>{n=!1,x&&wp(e,x),w(x)}),v._write=function(x,E,T){r.write(x,E)?T():o=T},v._final=function(x){r.end(),a=x},r.on("drain",function(){if(o){let x=o;o=null,x()}}),r.on("finish",function(){if(a){let x=a;a=null,x()}})),i&&(gV(e,x=>{i=!1,x&&wp(e,x),w(x)}),e.on("readable",function(){if(d){let x=d;d=null,x()}}),e.on("end",function(){v.push(null)}),v._read=function(){for(;;){let x=e.read();if(x===null){d=v._read;return}if(!v.push(x))return}}),v._destroy=function(x,E){!x&&p!==null&&(x=new MV),d=null,o=null,a=null,p===null?E(x):(p=E,wp(r,x),wp(e,x))},v}});var cf=K((fCe,PV)=>{"use strict";M();var{ObjectDefineProperties:swe,ObjectGetOwnPropertyDescriptor:uu,ObjectKeys:awe,ObjectSetPrototypeOf:AV}=Ci();PV.exports=sa;var yA=Ig(),Ps=dA();AV(sa.prototype,yA.prototype);AV(sa,yA);{let t=awe(Ps.prototype);for(let e=0;e<t.length;e++){let r=t[e];sa.prototype[r]||(sa.prototype[r]=Ps.prototype[r])}}function sa(t){if(!(this instanceof sa))return new sa(t);yA.call(this,t),Ps.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}swe(sa.prototype,{writable:{__proto__:null,...uu(Ps.prototype,"writable")},writableHighWaterMark:{__proto__:null,...uu(Ps.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...uu(Ps.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...uu(Ps.prototype,"writableBuffer")},writableLength:{__proto__:null,...uu(Ps.prototype,"writableLength")},writableFinished:{__proto__:null,...uu(Ps.prototype,"writableFinished")},writableCorked:{__proto__:null,...uu(Ps.prototype,"writableCorked")},writableEnded:{__proto__:null,...uu(Ps.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...uu(Ps.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var pA;function TV(){return pA===void 0&&(pA={}),pA}sa.fromWeb=function(t,e){return TV().newStreamDuplexFromReadableWritablePair(t,e)};sa.toWeb=function(t){return TV().newReadableWritablePairFromDuplex(t)};var mA;sa.from=function(t){return mA||(mA=SV()),mA(t,"body")}});var bA=K((cCe,kV)=>{"use strict";M();var{ObjectSetPrototypeOf:RV,Symbol:fwe}=Ci();kV.exports=cu;var{ERR_METHOD_NOT_IMPLEMENTED:uwe}=no().codes,vA=cf(),{getHighWaterMark:cwe}=y_();RV(cu.prototype,vA.prototype);RV(cu,vA);var Cg=fwe("kCallback");function cu(t){if(!(this instanceof cu))return new cu(t);let e=t?cwe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),vA.call(this,t),this._readableState.sync=!1,this[Cg]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",lwe)}function gA(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function lwe(){this._final!==gA&&gA.call(this)}cu.prototype._final=gA;cu.prototype._transform=function(t,e,r){throw new uwe("_transform()")};cu.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,(a,d)=>{if(a){r(a);return}d!=null&&this.push(d),n.ended||o===i.length||i.length<i.highWaterMark?r():this[Cg]=r})};cu.prototype._read=function(){if(this[Cg]){let t=this[Cg];this[Cg]=null,t()}}});var _A=K((dCe,DV)=>{"use strict";M();var{ObjectSetPrototypeOf:IV}=Ci();DV.exports=_p;var wA=bA();IV(_p.prototype,wA.prototype);IV(_p,wA);function _p(t){if(!(this instanceof _p))return new _p(t);wA.call(this,t)}_p.prototype._transform=function(t,e,r){r(null,t)}});var T_=K((pCe,NV)=>{M();var qg=wf(),{ArrayIsArray:dwe,Promise:hwe,SymbolAsyncIterator:pwe}=Ci(),A_=fu(),{once:mwe}=sf(),ywe=Od(),BV=cf(),{aggregateTwoErrors:gwe,codes:{ERR_INVALID_ARG_TYPE:RA,ERR_INVALID_RETURN_VALUE:xA,ERR_MISSING_ARGS:vwe,ERR_STREAM_DESTROYED:bwe,ERR_STREAM_PREMATURE_CLOSE:wwe},AbortError:_we}=no(),{validateFunction:xwe,validateAbortSignal:Mwe}=Rg(),{isIterable:jd,isReadable:MA,isReadableNodeStream:S_,isNodeStream:OV,isTransformStream:xp,isWebStream:Ewe,isReadableStream:EA,isReadableEnded:Swe}=ff(),Awe=globalThis.AbortController||n_().AbortController,SA,AA;function CV(t,e,r){let i=!1;t.on("close",()=>{i=!0});let n=A_(t,{readable:e,writable:r},o=>{i=!o});return{destroy:o=>{i||(i=!0,ywe.destroyer(t,o||new bwe("pipe")))},cleanup:n}}function Twe(t){return xwe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function TA(t){if(jd(t))return t;if(S_(t))return Pwe(t);throw new RA("val",["Readable","Iterable","AsyncIterable"],t)}async function*Pwe(t){AA||(AA=Ig()),yield*AA.prototype[pwe].call(t)}async function E_(t,e,r,{end:i}){let n,o=null,a=v=>{if(v&&(n=v),o){let w=o;o=null,w()}},d=()=>new hwe((v,w)=>{n?w(n):o=()=>{n?w(n):v()}});e.on("drain",a);let p=A_(e,{readable:!1},a);try{e.writableNeedDrain&&await d();for await(let v of t)e.write(v)||await d();i&&e.end(),await d(),r()}catch(v){r(n!==v?gwe(n,v):v)}finally{p(),e.off("drain",a)}}async function PA(t,e,r,{end:i}){xp(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,i&&await n.close(),r()}catch(o){try{await n.abort(o),r(o)}catch(a){r(a)}}}function Rwe(...t){return qV(t,mwe(Twe(t)))}function qV(t,e,r){if(t.length===1&&dwe(t[0])&&(t=t[0]),t.length<2)throw new vwe("streams");let i=new Awe,n=i.signal,o=r?.signal,a=[];Mwe(o,"options.signal");function d(){T(new _we)}o?.addEventListener("abort",d);let p,v,w=[],x=0;function E(C){T(C,--x===0)}function T(C,q){if(C&&(!p||p.code==="ERR_STREAM_PREMATURE_CLOSE")&&(p=C),!(!p&&!q)){for(;w.length;)w.shift()(p);o?.removeEventListener("abort",d),i.abort(),q&&(p||a.forEach(U=>U()),qg.nextTick(e,p,v))}}let A;for(let C=0;C<t.length;C++){let q=t[C],U=C<t.length-1,$=C>0,W=U||r?.end!==!1,F=C===t.length-1;if(OV(q)){let L=function(H){H&&H.name!=="AbortError"&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(H)};var I=L;if(W){let{destroy:H,cleanup:_}=CV(q,U,$);w.push(H),MA(q)&&F&&a.push(_)}q.on("error",L),MA(q)&&F&&a.push(()=>{q.removeListener("error",L)})}if(C===0)if(typeof q=="function"){if(A=q({signal:n}),!jd(A))throw new xA("Iterable, AsyncIterable or Stream","source",A)}else jd(q)||S_(q)||xp(q)?A=q:A=BV.from(q);else if(typeof q=="function"){if(xp(A)){var k;A=TA((k=A)===null||k===void 0?void 0:k.readable)}else A=TA(A);if(A=q(A,{signal:n}),U){if(!jd(A,!0))throw new xA("AsyncIterable",`transform[${C-1}]`,A)}else{var D;SA||(SA=_A());let L=new SA({objectMode:!0}),H=(D=A)===null||D===void 0?void 0:D.then;if(typeof H=="function")x++,H.call(A,u=>{v=u,u!=null&&L.write(u),W&&L.end(),qg.nextTick(E)},u=>{L.destroy(u),qg.nextTick(E,u)});else if(jd(A,!0))x++,E_(A,L,E,{end:W});else if(EA(A)||xp(A)){let u=A.readable||A;x++,E_(u,L,E,{end:W})}else throw new xA("AsyncIterable or Promise","destination",A);A=L;let{destroy:_,cleanup:s}=CV(A,!1,!0);w.push(_),F&&a.push(s)}}else if(OV(q)){if(S_(A)){x+=2;let L=kwe(A,q,E,{end:W});MA(q)&&F&&a.push(L)}else if(xp(A)||EA(A)){let L=A.readable||A;x++,E_(L,q,E,{end:W})}else if(jd(A))x++,E_(A,q,E,{end:W});else throw new RA("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=q}else if(Ewe(q)){if(S_(A))x++,PA(TA(A),q,E,{end:W});else if(EA(A)||jd(A))x++,PA(A,q,E,{end:W});else if(xp(A))x++,PA(A.readable,q,E,{end:W});else throw new RA("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=q}else A=BV.from(q)}return(n!=null&&n.aborted||o!=null&&o.aborted)&&qg.nextTick(d),A}function kwe(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new wwe)}),t.pipe(e,{end:!1}),i){let a=function(){n=!0,e.end()};var o=a;Swe(t)?qg.nextTick(a):t.once("end",a)}else r();return A_(t,{readable:!0,writable:!1},a=>{let d=t._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&d&&d.ended&&!d.errored&&!d.errorEmitted?t.once("end",r).once("error",r):r(a)}),A_(e,{readable:!1,writable:!0},r)}NV.exports={pipelineImpl:qV,pipeline:Rwe}});var IA=K((yCe,$V)=>{"use strict";M();var{pipeline:Iwe}=T_(),P_=cf(),{destroyer:Dwe}=Od(),{isNodeStream:R_,isReadable:jV,isWritable:LV,isWebStream:kA,isTransformStream:Ld,isWritableStream:UV,isReadableStream:zV}=ff(),{AbortError:Bwe,codes:{ERR_INVALID_ARG_VALUE:FV,ERR_MISSING_ARGS:Owe}}=no(),Cwe=fu();$V.exports=function(...e){if(e.length===0)throw new Owe("streams");if(e.length===1)return P_.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=P_.from(e[0])),typeof e[e.length-1]=="function"){let T=e.length-1;e[T]=P_.from(e[T])}for(let T=0;T<e.length;++T)if(!(!R_(e[T])&&!kA(e[T]))){if(T<e.length-1&&!(jV(e[T])||zV(e[T])||Ld(e[T])))throw new FV(`streams[${T}]`,r[T],"must be readable");if(T>0&&!(LV(e[T])||UV(e[T])||Ld(e[T])))throw new FV(`streams[${T}]`,r[T],"must be writable")}let i,n,o,a,d;function p(T){let A=a;a=null,A?A(T):T?d.destroy(T):!E&&!x&&d.destroy()}let v=e[0],w=Iwe(e,p),x=!!(LV(v)||UV(v)||Ld(v)),E=!!(jV(w)||zV(w)||Ld(w));if(d=new P_({writableObjectMode:!!(v!=null&&v.writableObjectMode),readableObjectMode:!!(w!=null&&w.writableObjectMode),writable:x,readable:E}),x){if(R_(v))d._write=function(A,k,D){v.write(A,k)?D():i=D},d._final=function(A){v.end(),n=A},v.on("drain",function(){if(i){let A=i;i=null,A()}});else if(kA(v)){let k=(Ld(v)?v.writable:v).getWriter();d._write=async function(D,I,C){try{await k.ready,k.write(D).catch(()=>{}),C()}catch(q){C(q)}},d._final=async function(D){try{await k.ready,k.close().catch(()=>{}),n=D}catch(I){D(I)}}}let T=Ld(w)?w.readable:w;Cwe(T,()=>{if(n){let A=n;n=null,A()}})}if(E){if(R_(w))w.on("readable",function(){if(o){let T=o;o=null,T()}}),w.on("end",function(){d.push(null)}),d._read=function(){for(;;){let T=w.read();if(T===null){o=d._read;return}if(!d.push(T))return}};else if(kA(w)){let A=(Ld(w)?w.readable:w).getReader();d._read=async function(){for(;;)try{let{value:k,done:D}=await A.read();if(!d.push(k))return;if(D){d.push(null);return}}catch{return}}}}return d._destroy=function(T,A){!T&&a!==null&&(T=new Bwe),o=null,i=null,n=null,a===null?A(T):(a=A,R_(w)&&Dwe(w,T))},d}});var JV=K((vCe,OA)=>{"use strict";M();var KV=globalThis.AbortController||n_().AbortController,{codes:{ERR_INVALID_ARG_VALUE:qwe,ERR_INVALID_ARG_TYPE:Ng,ERR_MISSING_ARGS:Nwe,ERR_OUT_OF_RANGE:jwe},AbortError:lf}=no(),{validateAbortSignal:Ud,validateInteger:Lwe,validateObject:zd}=Rg(),Uwe=Ci().Symbol("kWeak"),{finished:zwe}=fu(),Fwe=IA(),{addAbortSignalNoValidate:$we}=kg(),{isWritable:Wwe,isNodeStream:Gwe}=ff(),{ArrayPrototypePush:Vwe,MathFloor:Kwe,Number:Hwe,NumberIsNaN:Zwe,Promise:WV,PromiseReject:GV,PromisePrototypeThen:Ywe,Symbol:HV}=Ci(),k_=HV("kEmpty"),VV=HV("kEof");function Jwe(t,e){if(e!=null&&zd(e,"options"),e?.signal!=null&&Ud(e.signal,"options.signal"),Gwe(t)&&!Wwe(t))throw new qwe("stream",t,"must be writable");let r=Fwe(this,t);return e!=null&&e.signal&&$we(e.signal,r),r}function I_(t,e){if(typeof t!="function")throw new Ng("fn",["Function","AsyncFunction"],t);e!=null&&zd(e,"options"),e?.signal!=null&&Ud(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=Kwe(e.concurrency)),Lwe(r,"concurrency",1),async function*(){var n,o;let a=new KV,d=this,p=[],v=a.signal,w={signal:v},x=()=>a.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&x(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",x);let E,T,A=!1;function k(){A=!0}async function D(){try{for await(let q of d){var I;if(A)return;if(v.aborted)throw new lf;try{q=t(q,w)}catch(U){q=GV(U)}q!==k_&&(typeof((I=q)===null||I===void 0?void 0:I.catch)=="function"&&q.catch(k),p.push(q),E&&(E(),E=null),!A&&p.length&&p.length>=r&&await new WV(U=>{T=U}))}p.push(VV)}catch(q){let U=GV(q);Ywe(U,void 0,k),p.push(U)}finally{var C;A=!0,E&&(E(),E=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",x)}}D();try{for(;;){for(;p.length>0;){let I=await p[0];if(I===VV)return;if(v.aborted)throw new lf;I!==k_&&(yield I),p.shift(),T&&(T(),T=null)}await new WV(I=>{E=I})}}finally{a.abort(),A=!0,T&&(T(),T=null)}}.call(this)}function Qwe(t=void 0){return t!=null&&zd(t,"options"),t?.signal!=null&&Ud(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new lf({cause:t.signal.reason});yield[r++,n]}}.call(this)}async function ZV(t,e=void 0){for await(let r of BA.call(this,t,e))return!0;return!1}async function Xwe(t,e=void 0){if(typeof t!="function")throw new Ng("fn",["Function","AsyncFunction"],t);return!await ZV.call(this,async(...r)=>!await t(...r),e)}async function e2e(t,e){for await(let r of BA.call(this,t,e))return r}async function t2e(t,e){if(typeof t!="function")throw new Ng("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),k_}for await(let i of I_.call(this,r,e));}function BA(t,e){if(typeof t!="function")throw new Ng("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:k_}return I_.call(this,r,e)}var DA=class extends Nwe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function r2e(t,e,r){var i;if(typeof t!="function")throw new Ng("reducer",["Function","AsyncFunction"],t);r!=null&&zd(r,"options"),r?.signal!=null&&Ud(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let v=new lf(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await zwe(this.destroy(v)),v}let o=new KV,a=o.signal;if(r!=null&&r.signal){let v={once:!0,[Uwe]:this};r.signal.addEventListener("abort",()=>o.abort(),v)}let d=!1;try{for await(let v of this){var p;if(d=!0,r!=null&&(p=r.signal)!==null&&p!==void 0&&p.aborted)throw new lf;n?e=await t(e,v,{signal:a}):(e=v,n=!0)}if(!d&&!n)throw new DA}finally{o.abort()}return e}async function i2e(t){t!=null&&zd(t,"options"),t?.signal!=null&&Ud(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new lf(void 0,{cause:t.signal.reason});Vwe(e,i)}return e}function n2e(t,e){let r=I_.call(this,t,e);return async function*(){for await(let n of r)yield*n}.call(this)}function YV(t){if(t=Hwe(t),Zwe(t))return 0;if(t<0)throw new jwe("number",">= 0",t);return t}function o2e(t,e=void 0){return e!=null&&zd(e,"options"),e?.signal!=null&&Ud(e.signal,"options.signal"),t=YV(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new lf;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new lf;t--<=0&&(yield o)}}.call(this)}function s2e(t,e=void 0){return e!=null&&zd(e,"options"),e?.signal!=null&&Ud(e.signal,"options.signal"),t=YV(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new lf;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new lf;if(t-- >0)yield o;else return}}.call(this)}OA.exports.streamReturningOperators={asIndexedPairs:Qwe,drop:o2e,filter:BA,flatMap:n2e,map:I_,take:s2e,compose:Jwe};OA.exports.promiseReturningOperators={every:Xwe,forEach:t2e,reduce:r2e,toArray:i2e,some:ZV,find:e2e}});var CA=K((wCe,QV)=>{"use strict";M();var{ArrayPrototypePop:a2e,Promise:f2e}=Ci(),{isIterable:u2e,isNodeStream:c2e,isWebStream:l2e}=ff(),{pipelineImpl:d2e}=T_(),{finished:h2e}=fu();$8();function p2e(...t){return new f2e((e,r)=>{let i,n,o=t[t.length-1];if(o&&typeof o=="object"&&!c2e(o)&&!u2e(o)&&!l2e(o)){let a=a2e(t);i=a.signal,n=a.end}d2e(t,(a,d)=>{a?r(a):e(d)},{signal:i,end:n})})}QV.exports={finished:h2e,pipeline:p2e}});var fK=K((xCe,aK)=>{M();var{Buffer:m2e}=Ut(),{ObjectDefineProperty:lu,ObjectKeys:tK,ReflectApply:rK}=Ci(),{promisify:{custom:iK}}=sf(),{streamReturningOperators:XV,promiseReturningOperators:eK}=JV(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:nK}}=no(),y2e=IA(),{pipeline:oK}=T_(),{destroyer:g2e}=Od(),sK=fu(),qA=CA(),NA=ff(),mi=aK.exports=h_().Stream;mi.isDisturbed=NA.isDisturbed;mi.isErrored=NA.isErrored;mi.isReadable=NA.isReadable;mi.Readable=Ig();for(let t of tK(XV)){let r=function(...i){if(new.target)throw nK();return mi.Readable.from(rK(e,this,i))};b2e=r;let e=XV[t];lu(r,"name",{__proto__:null,value:e.name}),lu(r,"length",{__proto__:null,value:e.length}),lu(mi.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var b2e;for(let t of tK(eK)){let r=function(...n){if(new.target)throw nK();return rK(e,this,n)};b2e=r;let e=eK[t];lu(r,"name",{__proto__:null,value:e.name}),lu(r,"length",{__proto__:null,value:e.length}),lu(mi.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var b2e;mi.Writable=dA();mi.Duplex=cf();mi.Transform=bA();mi.PassThrough=_A();mi.pipeline=oK;var{addAbortSignal:v2e}=kg();mi.addAbortSignal=v2e;mi.finished=sK;mi.destroy=g2e;mi.compose=y2e;lu(mi,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return qA}});lu(oK,iK,{__proto__:null,enumerable:!0,get(){return qA.pipeline}});lu(sK,iK,{__proto__:null,enumerable:!0,get(){return qA.finished}});mi.Stream=mi;mi._isUint8Array=function(e){return e instanceof Uint8Array};mi._uint8ArrayToBuffer=function(e){return m2e.from(e.buffer,e.byteOffset,e.byteLength)}});var D_=K((ECe,yi)=>{"use strict";M();var Ki=fK(),w2e=CA(),_2e=Ki.Readable.destroy;yi.exports=Ki.Readable;yi.exports._uint8ArrayToBuffer=Ki._uint8ArrayToBuffer;yi.exports._isUint8Array=Ki._isUint8Array;yi.exports.isDisturbed=Ki.isDisturbed;yi.exports.isErrored=Ki.isErrored;yi.exports.isReadable=Ki.isReadable;yi.exports.Readable=Ki.Readable;yi.exports.Writable=Ki.Writable;yi.exports.Duplex=Ki.Duplex;yi.exports.Transform=Ki.Transform;yi.exports.PassThrough=Ki.PassThrough;yi.exports.addAbortSignal=Ki.addAbortSignal;yi.exports.finished=Ki.finished;yi.exports.destroy=Ki.destroy;yi.exports.destroy=_2e;yi.exports.pipeline=Ki.pipeline;yi.exports.compose=Ki.compose;Object.defineProperty(Ki,"promises",{configurable:!0,enumerable:!0,get(){return w2e}});yi.exports.Stream=Ki.Stream;yi.exports.default=yi.exports});var gK=K((Mqe,yK)=>{M();yK.exports=FA;var mK=128,E2e=127,S2e=~E2e,A2e=Math.pow(2,31);function FA(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw FA.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=A2e;)e[r++]=t&255|mK,t/=128;for(;t&S2e;)e[r++]=t&255|mK,t>>>=7;return e[r]=t|0,FA.bytes=r-i+1,e}});var wK=K((Sqe,bK)=>{M();bK.exports=$A;var T2e=128,vK=127;function $A(t,i){var r=0,i=i||0,n=0,o=i,a,d=t.length;do{if(o>=d||n>49)throw $A.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=n<28?(a&vK)<<n:(a&vK)*Math.pow(2,n),n+=7}while(a>=T2e);return $A.bytes=o-i,r}});var xK=K((Tqe,_K)=>{M();var P2e=Math.pow(2,7),R2e=Math.pow(2,14),k2e=Math.pow(2,21),I2e=Math.pow(2,28),D2e=Math.pow(2,35),B2e=Math.pow(2,42),O2e=Math.pow(2,49),C2e=Math.pow(2,56),q2e=Math.pow(2,63);_K.exports=function(t){return t<P2e?1:t<R2e?2:t<k2e?3:t<I2e?4:t<D2e?5:t<B2e?6:t<O2e?7:t<C2e?8:t<q2e?9:10}});var EK=K((Rqe,MK)=>{M();MK.exports={encode:gK(),decode:wK(),encodingLength:xK()}});var AK=K((Bc,SK)=>{M();var N_=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,j_=function(){function t(){this.fetch=!1,this.DOMException=N_.DOMException}return t.prototype=N_,new t}();(function(t){var e=function(r){var i=typeof t<"u"&&t||typeof self<"u"&&self||typeof i<"u"&&i,n={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function o(s){return s&&DataView.prototype.isPrototypeOf(s)}if(n.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(s){return s&&a.indexOf(Object.prototype.toString.call(s))>-1};function p(s){if(typeof s!="string"&&(s=String(s)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(s)||s==="")throw new TypeError('Invalid character in header field name: "'+s+'"');return s.toLowerCase()}function v(s){return typeof s!="string"&&(s=String(s)),s}function w(s){var u={next:function(){var h=s.shift();return{done:h===void 0,value:h}}};return n.iterable&&(u[Symbol.iterator]=function(){return u}),u}function x(s){this.map={},s instanceof x?s.forEach(function(u,h){this.append(h,u)},this):Array.isArray(s)?s.forEach(function(u){this.append(u[0],u[1])},this):s&&Object.getOwnPropertyNames(s).forEach(function(u){this.append(u,s[u])},this)}x.prototype.append=function(s,u){s=p(s),u=v(u);var h=this.map[s];this.map[s]=h?h+", "+u:u},x.prototype.delete=function(s){delete this.map[p(s)]},x.prototype.get=function(s){return s=p(s),this.has(s)?this.map[s]:null},x.prototype.has=function(s){return this.map.hasOwnProperty(p(s))},x.prototype.set=function(s,u){this.map[p(s)]=v(u)},x.prototype.forEach=function(s,u){for(var h in this.map)this.map.hasOwnProperty(h)&&s.call(u,this.map[h],h,this)},x.prototype.keys=function(){var s=[];return this.forEach(function(u,h){s.push(h)}),w(s)},x.prototype.values=function(){var s=[];return this.forEach(function(u){s.push(u)}),w(s)},x.prototype.entries=function(){var s=[];return this.forEach(function(u,h){s.push([h,u])}),w(s)},n.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function E(s){if(s.bodyUsed)return Promise.reject(new TypeError("Already read"));s.bodyUsed=!0}function T(s){return new Promise(function(u,h){s.onload=function(){u(s.result)},s.onerror=function(){h(s.error)}})}function A(s){var u=new FileReader,h=T(u);return u.readAsArrayBuffer(s),h}function k(s){var u=new FileReader,h=T(u);return u.readAsText(s),h}function D(s){for(var u=new Uint8Array(s),h=new Array(u.length),c=0;c<u.length;c++)h[c]=String.fromCharCode(u[c]);return h.join("")}function I(s){if(s.slice)return s.slice(0);var u=new Uint8Array(s.byteLength);return u.set(new Uint8Array(s)),u.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(s){this.bodyUsed=this.bodyUsed,this._bodyInit=s,s?typeof s=="string"?this._bodyText=s:n.blob&&Blob.prototype.isPrototypeOf(s)?this._bodyBlob=s:n.formData&&FormData.prototype.isPrototypeOf(s)?this._bodyFormData=s:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)?this._bodyText=s.toString():n.arrayBuffer&&n.blob&&o(s)?(this._bodyArrayBuffer=I(s.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(s)||d(s))?this._bodyArrayBuffer=I(s):this._bodyText=s=Object.prototype.toString.call(s):this._bodyText="",this.headers.get("content-type")||(typeof s=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var s=E(this);if(s)return s;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var s=E(this);return s||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(A)}),this.text=function(){var s=E(this);if(s)return s;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(s){var u=s.toUpperCase();return q.indexOf(u)>-1?u:s}function $(s,u){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');u=u||{};var h=u.body;if(s instanceof $){if(s.bodyUsed)throw new TypeError("Already read");this.url=s.url,this.credentials=s.credentials,u.headers||(this.headers=new x(s.headers)),this.method=s.method,this.mode=s.mode,this.signal=s.signal,!h&&s._bodyInit!=null&&(h=s._bodyInit,s.bodyUsed=!0)}else this.url=String(s);if(this.credentials=u.credentials||this.credentials||"same-origin",(u.headers||!this.headers)&&(this.headers=new x(u.headers)),this.method=U(u.method||this.method||"GET"),this.mode=u.mode||this.mode||null,this.signal=u.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&h)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(h),(this.method==="GET"||this.method==="HEAD")&&(u.cache==="no-store"||u.cache==="no-cache")){var c=/([?&])_=[^&]*/;if(c.test(this.url))this.url=this.url.replace(c,"$1_="+new Date().getTime());else{var l=/\?/;this.url+=(l.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function W(s){var u=new FormData;return s.trim().split("&").forEach(function(h){if(h){var c=h.split("="),l=c.shift().replace(/\+/g," "),y=c.join("=").replace(/\+/g," ");u.append(decodeURIComponent(l),decodeURIComponent(y))}}),u}function F(s){var u=new x,h=s.replace(/\r?\n[\t ]+/g," ");return h.split("\r").map(function(c){return c.indexOf(`
`)===0?c.substr(1,c.length):c}).forEach(function(c){var l=c.split(":"),y=l.shift().trim();if(y){var b=l.join(":").trim();u.append(y,b)}}),u}C.call($.prototype);function L(s,u){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');u||(u={}),this.type="default",this.status=u.status===void 0?200:u.status,this.ok=this.status>=200&&this.status<300,this.statusText=u.statusText===void 0?"":""+u.statusText,this.headers=new x(u.headers),this.url=u.url||"",this._initBody(s)}C.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},L.error=function(){var s=new L(null,{status:0,statusText:""});return s.type="error",s};var H=[301,302,303,307,308];L.redirect=function(s,u){if(H.indexOf(u)===-1)throw new RangeError("Invalid status code");return new L(null,{status:u,headers:{location:s}})},r.DOMException=i.DOMException;try{new r.DOMException}catch{r.DOMException=function(u,h){this.message=u,this.name=h;var c=Error(u);this.stack=c.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function _(s,u){return new Promise(function(h,c){var l=new $(s,u);if(l.signal&&l.signal.aborted)return c(new r.DOMException("Aborted","AbortError"));var y=new XMLHttpRequest;function b(){y.abort()}y.onload=function(){var f={status:y.status,statusText:y.statusText,headers:F(y.getAllResponseHeaders()||"")};f.url="responseURL"in y?y.responseURL:f.headers.get("X-Request-URL");var g="response"in y?y.response:y.responseText;setTimeout(function(){h(new L(g,f))},0)},y.onerror=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},y.ontimeout=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},y.onabort=function(){setTimeout(function(){c(new r.DOMException("Aborted","AbortError"))},0)};function m(f){try{return f===""&&i.location.href?i.location.href:f}catch{return f}}y.open(l.method,m(l.url),!0),l.credentials==="include"?y.withCredentials=!0:l.credentials==="omit"&&(y.withCredentials=!1),"responseType"in y&&(n.blob?y.responseType="blob":n.arrayBuffer&&l.headers.get("Content-Type")&&l.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(y.responseType="arraybuffer")),u&&typeof u.headers=="object"&&!(u.headers instanceof x)?Object.getOwnPropertyNames(u.headers).forEach(function(f){y.setRequestHeader(f,v(u.headers[f]))}):l.headers.forEach(function(f,g){y.setRequestHeader(g,f)}),l.signal&&(l.signal.addEventListener("abort",b),y.onreadystatechange=function(){y.readyState===4&&l.signal.removeEventListener("abort",b)}),y.send(typeof l._bodyInit>"u"?null:l._bodyInit)})}return _.polyfill=!0,i.fetch||(i.fetch=_,i.Headers=x,i.Request=$,i.Response=L),r.Headers=x,r.Request=$,r.Response=L,r.fetch=_,r}({})})(j_);j_.fetch.ponyfill=!0;delete j_.fetch.polyfill;var kp=N_.fetch?N_:j_;Bc=kp.fetch;Bc.default=kp.fetch;Bc.fetch=kp.fetch;Bc.Headers=kp.Headers;Bc.Request=kp.Request;Bc.Response=kp.Response;SK.exports=Bc});var RK=K(PK=>{"use strict";M();PK.supports=function(...e){let r=e.reduce((i,n)=>Object.assign(i,n),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var ua=K((XUe,kK)=>{"use strict";M();kK.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var HA=K((tze,IK)=>{"use strict";M();var KA=null;IK.exports=function(){return KA===null&&(KA={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),KA}});var JA=K(DK=>{"use strict";M();var ZA=ua(),z2e=new Set(["buffer","view","utf8"]),YA=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!z2e.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ZA(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ZA(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ZA(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};DK.Encoding=YA});var tT=K(G_=>{"use strict";M();var{Buffer:XA}=Ut()||{},{Encoding:eT}=JA(),F2e=HA(),Gg=class extends eT{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new Vg({encode:this.encode,decode:e=>this.decode(XA.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},Vg=class extends eT{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new Gg({encode:e=>{let r=this.encode(e);return XA.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},QA=class extends eT{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new Gg({encode:e=>XA.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=F2e();return new Vg({encode:i=>e.encode(this.encode(i)),decode:i=>this.decode(r.decode(i)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};G_.BufferFormat=Gg;G_.ViewFormat=Vg;G_.UTF8Format=QA});var qK=K($d=>{"use strict";M();var{Buffer:Vn}=Ut()||{Buffer:{isBuffer:()=>!1}},{textEncoder:OK,textDecoder:BK}=HA()(),{BufferFormat:Kg,ViewFormat:rT,UTF8Format:CK}=tT(),V_=t=>t;$d.utf8=new CK({encode:function(t){return Vn.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?BK.decode(t):String(t)},decode:V_,name:"utf8",createViewTranscoder(){return new rT({encode:function(t){return ArrayBuffer.isView(t)?t:OK.encode(t)},decode:function(t){return BK.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new Kg({encode:function(t){return Vn.isBuffer(t)?t:ArrayBuffer.isView(t)?Vn.from(t.buffer,t.byteOffset,t.byteLength):Vn.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});$d.json=new CK({encode:JSON.stringify,decode:JSON.parse,name:"json"});$d.buffer=new Kg({encode:function(t){return Vn.isBuffer(t)?t:ArrayBuffer.isView(t)?Vn.from(t.buffer,t.byteOffset,t.byteLength):Vn.from(String(t),"utf8")},decode:V_,name:"buffer",createViewTranscoder(){return new rT({encode:function(t){return ArrayBuffer.isView(t)?t:Vn.from(String(t),"utf8")},decode:function(t){return Vn.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});$d.view=new rT({encode:function(t){return ArrayBuffer.isView(t)?t:OK.encode(t)},decode:V_,name:"view",createBufferTranscoder(){return new Kg({encode:function(t){return Vn.isBuffer(t)?t:ArrayBuffer.isView(t)?Vn.from(t.buffer,t.byteOffset,t.byteLength):Vn.from(String(t),"utf8")},decode:V_,name:`${this.name}+buffer`})}});$d.hex=new Kg({encode:function(t){return Vn.isBuffer(t)?t:Vn.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});$d.base64=new Kg({encode:function(t){return Vn.isBuffer(t)?t:Vn.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var LK=K(jK=>{"use strict";M();var NK=ua(),H_=qK(),{Encoding:$2e}=JA(),{BufferFormat:W2e,ViewFormat:G2e,UTF8Format:V2e}=tT(),Hg=Symbol("formats"),K_=Symbol("encodings"),K2e=new Set(["buffer","view","utf8"]),iT=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>K2e.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[K_]=new Map,this[Hg]=new Set(e);for(let r in H_)try{this.encoding(r)}catch(i){if(i.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw i}}encodings(){return Array.from(new Set(this[K_].values()))}encoding(e){let r=this[K_].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=J2e[e],!r)throw new NK(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=H2e(e)}let{name:i,format:n}=r;if(!this[Hg].has(n))if(this[Hg].has("view"))r=r.createViewTranscoder();else if(this[Hg].has("buffer"))r=r.createBufferTranscoder();else if(this[Hg].has("utf8"))r=r.createUTF8Transcoder();else throw new NK(`Encoding '${i}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let o of[e,i,r.name,r.commonName])this[K_].set(o,r)}return r}};jK.Transcoder=iT;function H2e(t){if(t instanceof $2e)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${Q2e++}`;switch(Z2e(t)){case"view":return new G2e({...t,name:r});case"utf8":return new V2e({...t,name:r});case"buffer":return new W2e({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function Z2e(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var Y2e={binary:H_.buffer,"utf-8":H_.utf8},J2e={...H_,...Y2e},Q2e=0});var zK=K((lze,UK)=>{M();UK.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var Zg=K(nT=>{"use strict";M();var FK=zK();nT.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(i,n){t=function(o,a){o?n(o):i(a)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};nT.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){FK(()=>e(null,r))}).catch(function(r){FK(()=>e(r))})}});var Z_=K(oT=>{"use strict";M();oT.getCallback=function(t,e){return typeof t=="function"?t:e};oT.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var Kc=K(X_=>{"use strict";M();var{fromCallback:sT}=Zg(),$o=ua(),{getOptions:aT,getCallback:$K}=Z_(),Wd=Symbol("promise"),Dp=Symbol("callback"),pf=Symbol("working"),Gd=Symbol("handleOne"),mu=Symbol("handleMany"),fT=Symbol("autoClose"),Gc=Symbol("finishWork"),mf=Symbol("returnMany"),Fc=Symbol("closing"),Yg=Symbol("handleClose"),Y_=Symbol("closed"),Jg=Symbol("closeCallbacks"),Wc=Symbol("keyEncoding"),Vd=Symbol("valueEncoding"),uT=Symbol("abortOnClose"),J_=Symbol("legacy"),cT=Symbol("keys"),lT=Symbol("values"),$c=Symbol("limit"),ks=Symbol("count"),Q_=Object.freeze({}),X2e=()=>{},WK=!1,Qg=class{constructor(e,r,i){if(typeof e!="object"||e===null){let n=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${n}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[Y_]=!1,this[Jg]=[],this[pf]=!1,this[Fc]=!1,this[fT]=!1,this[Dp]=null,this[Gd]=this[Gd].bind(this),this[mu]=this[mu].bind(this),this[Yg]=this[Yg].bind(this),this[Wc]=r[Wc],this[Vd]=r[Vd],this[J_]=i,this[$c]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[ks]=0,this[uT]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[ks]}get limit(){return this[$c]}next(e){let r;if(e===void 0)r=new Promise((i,n)=>{e=(o,a,d)=>{o?n(o):this[J_]?a===void 0&&d===void 0?i():i([a,d]):i(a)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[Fc]?this.nextTick(e,new $o("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[pf]?this.nextTick(e,new $o("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[pf]=!0,this[Dp]=e,this[ks]>=this[$c]?this.nextTick(this[Gd],null):this._next(this[Gd])),r}_next(e){this.nextTick(e)}nextv(e,r,i){return i=$K(r,i),i=sT(i,Wd),r=aT(r,Q_),Number.isInteger(e)?(this[Fc]?this.nextTick(i,new $o("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[pf]?this.nextTick(i,new $o("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[$c]<1/0&&(e=Math.min(e,this[$c]-this[ks])),this[pf]=!0,this[Dp]=i,e<=0?this.nextTick(this[mu],null,[]):this._nextv(e,r,this[mu])),i[Wd]):(this.nextTick(i,new TypeError("The first argument 'size' must be an integer")),i[Wd])}_nextv(e,r,i){let n=[],o=(a,d,p)=>{if(a)return i(a);if(this[J_]?d===void 0&&p===void 0:d===void 0)return i(null,n);n.push(this[J_]?[d,p]:d),n.length===e?i(null,n):this._next(o)};this._next(o)}all(e,r){return r=$K(e,r),r=sT(r,Wd),e=aT(e,Q_),this[Fc]?this.nextTick(r,new $o("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[pf]?this.nextTick(r,new $o("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[pf]=!0,this[Dp]=r,this[fT]=!0,this[ks]>=this[$c]?this.nextTick(this[mu],null,[]):this._all(e,this[mu])),r[Wd]}_all(e,r){let i=this[ks],n=[],o=()=>{let d=this[$c]<1/0?Math.min(1e3,this[$c]-i):1e3;d<=0?this.nextTick(r,null,n):this._nextv(d,Q_,a)},a=(d,p)=>{d?r(d):p.length===0?r(null,n):(n.push.apply(n,p),i+=p.length,o())};o()}[Gc](){let e=this[Dp];return this[uT]&&e===null?X2e:(this[pf]=!1,this[Dp]=null,this[Fc]&&this._close(this[Yg]),e)}[mf](e,r,i){this[fT]?this.close(e.bind(null,r,i)):e(r,i)}seek(e,r){if(r=aT(r,Q_),!this[Fc]){if(this[pf])throw new $o("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let i=this.db.keyEncoding(r.keyEncoding||this[Wc]),n=i.format;r.keyEncoding!==n&&(r={...r,keyEncoding:n});let o=this.db.prefixKey(i.encode(e),n);this._seek(o,r)}}}_seek(e,r){throw new $o("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=sT(e,Wd),this[Y_]?this.nextTick(e):this[Fc]?this[Jg].push(e):(this[Fc]=!0,this[Jg].push(e),this[pf]?this[uT]&&this[Gc]()(new $o("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Yg])),e[Wd]}_close(e){this.nextTick(e)}[Yg](){this[Y_]=!0,this.db.detachResource(this);let e=this[Jg];this[Jg]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[Y_]||await this.close()}}},Bp=class extends Qg{constructor(e,r){super(e,r,!0),this[cT]=r.keys!==!1,this[lT]=r.values!==!1}[Gd](e,r,i){let n=this[Gc]();if(e)return n(e);try{r=this[cT]&&r!==void 0?this[Wc].decode(r):void 0,i=this[lT]&&i!==void 0?this[Vd].decode(i):void 0}catch(o){return n(new Vc("entry",o))}r===void 0&&i===void 0||this[ks]++,n(null,r,i)}[mu](e,r){let i=this[Gc]();if(e)return this[mf](i,e);try{for(let n of r){let o=n[0],a=n[1];n[0]=this[cT]&&o!==void 0?this[Wc].decode(o):void 0,n[1]=this[lT]&&a!==void 0?this[Vd].decode(a):void 0}}catch(n){return this[mf](i,new Vc("entries",n))}this[ks]+=r.length,this[mf](i,null,r)}end(e){return!WK&&typeof console<"u"&&(WK=!0,console.warn(new $o("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},dT=class extends Qg{constructor(e,r){super(e,r,!1)}[Gd](e,r){let i=this[Gc]();if(e)return i(e);try{r=r!==void 0?this[Wc].decode(r):void 0}catch(n){return i(new Vc("key",n))}r!==void 0&&this[ks]++,i(null,r)}[mu](e,r){let i=this[Gc]();if(e)return this[mf](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[Wc].decode(o):void 0}}catch(n){return this[mf](i,new Vc("keys",n))}this[ks]+=r.length,this[mf](i,null,r)}},hT=class extends Qg{constructor(e,r){super(e,r,!1)}[Gd](e,r){let i=this[Gc]();if(e)return i(e);try{r=r!==void 0?this[Vd].decode(r):void 0}catch(n){return i(new Vc("value",n))}r!==void 0&&this[ks]++,i(null,r)}[mu](e,r){let i=this[Gc]();if(e)return this[mf](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[Vd].decode(o):void 0}}catch(n){return this[mf](i,new Vc("values",n))}this[ks]+=r.length,this[mf](i,null,r)}},Vc=class extends $o{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(Bp.prototype,t.split(" ")[0],{get(){throw new $o(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new $o(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});Bp.keyEncoding=Wc;Bp.valueEncoding=Vd;X_.AbstractIterator=Bp;X_.AbstractKeyIterator=dT;X_.AbstractValueIterator=hT});var GK=K(pT=>{"use strict";M();var{AbstractKeyIterator:e_e,AbstractValueIterator:t_e}=Kc(),Kd=Symbol("iterator"),Xg=Symbol("callback"),Op=Symbol("handleOne"),Hd=Symbol("handleMany"),ev=class extends e_e{constructor(e,r){super(e,r),this[Kd]=e.iterator({...r,keys:!0,values:!1}),this[Op]=this[Op].bind(this),this[Hd]=this[Hd].bind(this)}},e3=class extends t_e{constructor(e,r){super(e,r),this[Kd]=e.iterator({...r,keys:!1,values:!0}),this[Op]=this[Op].bind(this),this[Hd]=this[Hd].bind(this)}};for(let t of[ev,e3]){let e=t===ev,r=e?i=>i[0]:i=>i[1];t.prototype._next=function(i){this[Xg]=i,this[Kd].next(this[Op])},t.prototype[Op]=function(i,n,o){let a=this[Xg];i?a(i):a(null,e?n:o)},t.prototype._nextv=function(i,n,o){this[Xg]=o,this[Kd].nextv(i,n,this[Hd])},t.prototype._all=function(i,n){this[Xg]=n,this[Kd].all(i,this[Hd])},t.prototype[Hd]=function(i,n){let o=this[Xg];i?o(i):o(null,n.map(r))},t.prototype._seek=function(i,n){this[Kd].seek(i,n)},t.prototype._close=function(i){this[Kd].close(i)}}pT.DefaultKeyIterator=ev;pT.DefaultValueIterator=e3});var VK=K(s3=>{"use strict";M();var{AbstractIterator:r_e,AbstractKeyIterator:i_e,AbstractValueIterator:n_e}=Kc(),mT=ua(),Mo=Symbol("nut"),n3=Symbol("undefer"),o3=Symbol("factory"),t3=class extends r_e{constructor(e,r){super(e,r),this[Mo]=null,this[o3]=()=>e.iterator(r),this.db.defer(()=>this[n3]())}},r3=class extends i_e{constructor(e,r){super(e,r),this[Mo]=null,this[o3]=()=>e.keys(r),this.db.defer(()=>this[n3]())}},i3=class extends n_e{constructor(e,r){super(e,r),this[Mo]=null,this[o3]=()=>e.values(r),this.db.defer(()=>this[n3]())}};for(let t of[t3,r3,i3])t.prototype[n3]=function(){this.db.status==="open"&&(this[Mo]=this[o3]())},t.prototype._next=function(e){this[Mo]!==null?this[Mo].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new mT("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,i){this[Mo]!==null?this[Mo].nextv(e,r,i):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,i)):this.nextTick(i,new mT("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[Mo]!==null?this[Mo].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new mT("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[Mo]!==null?this[Mo]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[Mo]!==null?this[Mo].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};s3.DeferredIterator=t3;s3.DeferredKeyIterator=r3;s3.DeferredValueIterator=i3});var gT=K(HK=>{"use strict";M();var{fromCallback:KK}=Zg(),a3=ua(),{getCallback:o_e,getOptions:s_e}=Z_(),f3=Symbol("promise"),Is=Symbol("status"),Cp=Symbol("operations"),tv=Symbol("finishClose"),qp=Symbol("closeCallbacks"),yT=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[Cp]=[],this[qp]=[],this[Is]="open",this[tv]=this[tv].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[Cp].length}put(e,r,i){if(this[Is]!=="open")throw new a3("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e)||this.db._checkValue(r);if(n)throw n;let o=i&&i.sublevel!=null?i.sublevel:this.db,a=i,d=o.keyEncoding(i&&i.keyEncoding),p=o.valueEncoding(i&&i.valueEncoding),v=d.format;i={...i,keyEncoding:v,valueEncoding:p.format},o!==this.db&&(i.sublevel=null);let w=o.prefixKey(d.encode(e),v),x=p.encode(r);return this._put(w,x,i),this[Cp].push({...a,type:"put",key:e,value:r}),this}_put(e,r,i){}del(e,r){if(this[Is]!=="open")throw new a3("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e);if(i)throw i;let n=r&&r.sublevel!=null?r.sublevel:this.db,o=r,a=n.keyEncoding(r&&r.keyEncoding),d=a.format;return r={...r,keyEncoding:d},n!==this.db&&(r.sublevel=null),this._del(n.prefixKey(a.encode(e),d),r),this[Cp].push({...o,type:"del",key:e}),this}_del(e,r){}clear(){if(this[Is]!=="open")throw new a3("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[Cp]=[],this}_clear(){}write(e,r){return r=o_e(e,r),r=KK(r,f3),e=s_e(e),this[Is]!=="open"?this.nextTick(r,new a3("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[Is]="writing",this._write(e,i=>{this[Is]="closing",this[qp].push(()=>r(i)),i||this.db.emit("batch",this[Cp]),this._close(this[tv])})),r[f3]}_write(e,r){}close(e){return e=KK(e,f3),this[Is]==="closing"?this[qp].push(e):this[Is]==="closed"?this.nextTick(e):(this[qp].push(e),this[Is]!=="writing"&&(this[Is]="closing",this._close(this[tv]))),e[f3]}_close(e){this.nextTick(e)}[tv](){this[Is]="closed",this.db.detachResource(this);let e=this[qp];this[qp]=[];for(let r of e)r()}};HK.AbstractChainedBatch=yT});var YK=K(ZK=>{"use strict";M();var{AbstractChainedBatch:a_e}=gT(),f_e=ua(),Np=Symbol("encoded"),vT=class extends a_e{constructor(e){super(e),this[Np]=[]}_put(e,r,i){this[Np].push({...i,type:"put",key:e,value:r})}_del(e,r){this[Np].push({...r,type:"del",key:e})}_clear(){this[Np]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[Np].length===0?this.nextTick(r):this.db._batch(this[Np],e,r):this.nextTick(r,new f_e("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};ZK.DefaultChainedBatch=vT});var XK=K((Tze,QK)=>{"use strict";M();var JK=ua(),u_e=Object.prototype.hasOwnProperty,c_e=new Set(["lt","lte","gt","gte"]);QK.exports=function(t,e){let r={};for(let i in t)if(u_e.call(t,i)&&!(i==="keyEncoding"||i==="valueEncoding")){if(i==="start"||i==="end")throw new JK(`The legacy range option '${i}' has been removed`,{code:"LEVEL_LEGACY"});if(i==="encoding")throw new JK("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});c_e.has(i)?r[i]=e.encode(t[i]):r[i]=t[i]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var bT=K((Rze,tH)=>{M();var eH;tH.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(eH||(eH=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var nH=K((Ize,iH)=>{"use strict";M();var rH=bT();iH.exports=function(t,...e){e.length===0?rH(t):rH(()=>t(...e))}});var oH=K(u3=>{"use strict";M();var{AbstractIterator:l_e,AbstractKeyIterator:d_e,AbstractValueIterator:h_e}=Kc(),jp=Symbol("unfix"),ca=Symbol("iterator"),Zd=Symbol("handleOne"),Hc=Symbol("handleMany"),yu=Symbol("callback"),rv=class extends l_e{constructor(e,r,i,n){super(e,r),this[ca]=i,this[jp]=n,this[Zd]=this[Zd].bind(this),this[Hc]=this[Hc].bind(this),this[yu]=null}[Zd](e,r,i){let n=this[yu];if(e)return n(e);r!==void 0&&(r=this[jp](r)),n(e,r,i)}[Hc](e,r){let i=this[yu];if(e)return i(e);for(let n of r){let o=n[0];o!==void 0&&(n[0]=this[jp](o))}i(e,r)}},iv=class extends d_e{constructor(e,r,i,n){super(e,r),this[ca]=i,this[jp]=n,this[Zd]=this[Zd].bind(this),this[Hc]=this[Hc].bind(this),this[yu]=null}[Zd](e,r){let i=this[yu];if(e)return i(e);r!==void 0&&(r=this[jp](r)),i(e,r)}[Hc](e,r){let i=this[yu];if(e)return i(e);for(let n=0;n<r.length;n++){let o=r[n];o!==void 0&&(r[n]=this[jp](o))}i(e,r)}},nv=class extends h_e{constructor(e,r,i){super(e,r),this[ca]=i}};for(let t of[rv,iv])t.prototype._next=function(e){this[yu]=e,this[ca].next(this[Zd])},t.prototype._nextv=function(e,r,i){this[yu]=i,this[ca].nextv(e,r,this[Hc])},t.prototype._all=function(e,r){this[yu]=r,this[ca].all(e,this[Hc])};for(let t of[nv])t.prototype._next=function(e){this[ca].next(e)},t.prototype._nextv=function(e,r,i){this[ca].nextv(e,r,i)},t.prototype._all=function(e,r){this[ca].all(e,r)};for(let t of[rv,iv,nv])t.prototype._seek=function(e,r){this[ca].seek(e,r)},t.prototype._close=function(e){this[ca].close(e)};u3.AbstractSublevelIterator=rv;u3.AbstractSublevelKeyIterator=iv;u3.AbstractSublevelValueIterator=nv});var uH=K((Cze,fH)=>{"use strict";M();var wT=ua(),{Buffer:MT}=Ut()||{},{AbstractSublevelIterator:p_e,AbstractSublevelKeyIterator:m_e,AbstractSublevelValueIterator:y_e}=oH(),gu=Symbol("prefix"),sH=Symbol("upperBound"),ov=Symbol("prefixRange"),Wo=Symbol("parent"),_T=Symbol("unfix"),aH=new TextEncoder,g_e={separator:"!"};fH.exports=function({AbstractLevel:t}){class e extends t{static defaults(i){if(typeof i=="string")throw new wT("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(i&&i.open)throw new wT("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return i==null?g_e:i.separator?i:{...i,separator:"!"}}constructor(i,n,o){let{separator:a,manifest:d,...p}=e.defaults(o);n=b_e(n,a);let v=a.charCodeAt(0)+1,w=i[Wo]||i;if(!aH.encode(n).every(T=>T>v&&T<127))throw new wT(`Prefix must use bytes > ${v} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(v_e(w,d),p);let x=(i.prefix||"")+a+n+a,E=x.slice(0,-1)+String.fromCharCode(v);this[Wo]=w,this[gu]=new c3(x),this[sH]=new c3(E),this[_T]=new ET,this.nextTick=w.nextTick}prefixKey(i,n){if(n==="utf8")return this[gu].utf8+i;if(i.byteLength===0)return this[gu][n];if(n==="view"){let o=this[gu].view,a=new Uint8Array(o.byteLength+i.byteLength);return a.set(o,0),a.set(i,o.byteLength),a}else{let o=this[gu].buffer;return MT.concat([o,i],o.byteLength+i.byteLength)}}[ov](i,n){i.gte!==void 0?i.gte=this.prefixKey(i.gte,n):i.gt!==void 0?i.gt=this.prefixKey(i.gt,n):i.gte=this[gu][n],i.lte!==void 0?i.lte=this.prefixKey(i.lte,n):i.lt!==void 0?i.lt=this.prefixKey(i.lt,n):i.lte=this[sH][n]}get prefix(){return this[gu].utf8}get db(){return this[Wo]}_open(i,n){this[Wo].open({passive:!0},n)}_put(i,n,o,a){this[Wo].put(i,n,o,a)}_get(i,n,o){this[Wo].get(i,n,o)}_getMany(i,n,o){this[Wo].getMany(i,n,o)}_del(i,n,o){this[Wo].del(i,n,o)}_batch(i,n,o){this[Wo].batch(i,n,o)}_clear(i,n){this[ov](i,i.keyEncoding),this[Wo].clear(i,n)}_iterator(i){this[ov](i,i.keyEncoding);let n=this[Wo].iterator(i),o=this[_T].get(this[gu].utf8.length,i.keyEncoding);return new p_e(this,i,n,o)}_keys(i){this[ov](i,i.keyEncoding);let n=this[Wo].keys(i),o=this[_T].get(this[gu].utf8.length,i.keyEncoding);return new m_e(this,i,n,o)}_values(i){this[ov](i,i.keyEncoding);let n=this[Wo].values(i);return new y_e(this,i,n)}}return{AbstractSublevel:e}};var v_e=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:xT(t,"utf8"),buffer:xT(t,"buffer"),view:xT(t,"view")}}},xT=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},c3=class{constructor(e){this.utf8=e,this.view=aH.encode(e),this.buffer=MT?MT.from(this.view.buffer,0,this.view.byteLength):{}}},ET=class{constructor(){this.cache=new Map}get(e,r){let i=this.cache.get(r);return i===void 0&&(r==="view"?i=function(n,o){return o.subarray(n)}.bind(null,e):i=function(n,o){return o.slice(n)}.bind(null,e),this.cache.set(r,i)),i}},b_e=function(t,e){let r=0,i=t.length;for(;r<i&&t[r]===e;)r++;for(;i>r&&t[i-1]===e;)i--;return t.slice(r,i)}});var RT=K(PT=>{"use strict";M();var{supports:w_e}=RK(),{Transcoder:__e}=LK(),{EventEmitter:x_e}=rs(),{fromCallback:Zc}=Zg(),la=ua(),{AbstractIterator:Yd}=Kc(),{DefaultKeyIterator:M_e,DefaultValueIterator:E_e}=GK(),{DeferredIterator:S_e,DeferredKeyIterator:A_e,DeferredValueIterator:T_e}=VK(),{DefaultChainedBatch:cH}=YK(),{getCallback:Jd,getOptions:Yc}=Z_(),l3=XK(),_t=Symbol("promise"),vu=Symbol("landed"),Qd=Symbol("resources"),ST=Symbol("closeResources"),sv=Symbol("operations"),av=Symbol("undefer"),d3=Symbol("deferOpen"),lH=Symbol("options"),Bt=Symbol("status"),Xd=Symbol("defaultOptions"),Lp=Symbol("transcoder"),h3=Symbol("keyEncoding"),AT=Symbol("valueEncoding"),P_e=()=>{},fv=class extends x_e{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=Yc(r);let{keyEncoding:i,valueEncoding:n,passive:o,...a}=r;this[Qd]=new Set,this[sv]=[],this[d3]=!0,this[lH]=a,this[Bt]="opening",this.supports=w_e(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Lp]=new __e(R_e(this)),this[h3]=this[Lp].encoding(i||"utf8"),this[AT]=this[Lp].encoding(n||"utf8");for(let d of this[Lp].encodings())this.supports.encodings[d.commonName]||(this.supports.encodings[d.commonName]=!0);this[Xd]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[h3].commonName,valueEncoding:this[AT].commonName}),key:Object.freeze({keyEncoding:this[h3].commonName})},this.nextTick(()=>{this[d3]&&this.open({passive:!1},P_e)})}get status(){return this[Bt]}keyEncoding(e){return this[Lp].encoding(e??this[h3])}valueEncoding(e){return this[Lp].encoding(e??this[AT])}open(e,r){r=Jd(e,r),r=Zc(r,_t),e={...this[lH],...Yc(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let i=n=>{this[Bt]==="closing"||this[Bt]==="opening"?this.once(vu,n?()=>i(n):i):this[Bt]!=="open"?r(new la("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:n})):r()};return e.passive?this[Bt]==="opening"?this.once(vu,i):this.nextTick(i):this[Bt]==="closed"||this[d3]?(this[d3]=!1,this[Bt]="opening",this.emit("opening"),this._open(e,n=>{if(n){this[Bt]="closed",this[ST](()=>{this.emit(vu),i(n)}),this[av]();return}this[Bt]="open",this[av](),this.emit(vu),this[Bt]==="open"&&this.emit("open"),this[Bt]==="open"&&this.emit("ready"),i()})):this[Bt]==="open"?this.nextTick(i):this.once(vu,()=>this.open(e,r)),r[_t]}_open(e,r){this.nextTick(r)}close(e){e=Zc(e,_t);let r=i=>{this[Bt]==="opening"||this[Bt]==="closing"?this.once(vu,i?r(i):r):this[Bt]!=="closed"?e(new la("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:i})):e()};if(this[Bt]==="open"){this[Bt]="closing",this.emit("closing");let i=n=>{this[Bt]="open",this[av](),this.emit(vu),r(n)};this[ST](()=>{this._close(n=>{if(n)return i(n);this[Bt]="closed",this[av](),this.emit(vu),this[Bt]==="closed"&&this.emit("closed"),r()})})}else this[Bt]==="closed"?this.nextTick(r):this.once(vu,()=>this.close(e));return e[_t]}[ST](e){if(this[Qd].size===0)return this.nextTick(e);let r=this[Qd].size,i=!0,n=()=>{--r===0&&(i?this.nextTick(e):e())};for(let o of this[Qd])o.close(n);i=!1,this[Qd].clear()}_close(e){this.nextTick(e)}get(e,r,i){if(i=Jd(r,i),i=Zc(i,_t),r=Yc(r,this[Xd].entry),this[Bt]==="opening")return this.defer(()=>this.get(e,r,i)),i[_t];if(Up(this,i))return i[_t];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[_t];let o=this.keyEncoding(r.keyEncoding),a=this.valueEncoding(r.valueEncoding),d=o.format,p=a.format;return(r.keyEncoding!==d||r.valueEncoding!==p)&&(r=Object.assign({},r,{keyEncoding:d,valueEncoding:p})),this._get(this.prefixKey(o.encode(e),d),r,(v,w)=>{if(v)return(v.code==="LEVEL_NOT_FOUND"||v.notFound||/NotFound/i.test(v))&&(v.code||(v.code="LEVEL_NOT_FOUND"),v.notFound||(v.notFound=!0),v.status||(v.status=404)),i(v);try{w=a.decode(w)}catch(x){return i(new la("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:x}))}i(null,w)}),i[_t]}_get(e,r,i){this.nextTick(i,new Error("NotFound"))}getMany(e,r,i){if(i=Jd(r,i),i=Zc(i,_t),r=Yc(r,this[Xd].entry),this[Bt]==="opening")return this.defer(()=>this.getMany(e,r,i)),i[_t];if(Up(this,i))return i[_t];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'keys' must be an array")),i[_t];if(e.length===0)return this.nextTick(i,null,[]),i[_t];let n=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),a=n.format,d=o.format;(r.keyEncoding!==a||r.valueEncoding!==d)&&(r=Object.assign({},r,{keyEncoding:a,valueEncoding:d}));let p=new Array(e.length);for(let v=0;v<e.length;v++){let w=e[v],x=this._checkKey(w);if(x)return this.nextTick(i,x),i[_t];p[v]=this.prefixKey(n.encode(w),a)}return this._getMany(p,r,(v,w)=>{if(v)return i(v);try{for(let x=0;x<w.length;x++)w[x]!==void 0&&(w[x]=o.decode(w[x]))}catch(x){return i(new la(`Could not decode one or more of ${w.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:x}))}i(null,w)}),i[_t]}_getMany(e,r,i){this.nextTick(i,null,new Array(e.length).fill(void 0))}put(e,r,i,n){if(n=Jd(i,n),n=Zc(n,_t),i=Yc(i,this[Xd].entry),this[Bt]==="opening")return this.defer(()=>this.put(e,r,i,n)),n[_t];if(Up(this,n))return n[_t];let o=this._checkKey(e)||this._checkValue(r);if(o)return this.nextTick(n,o),n[_t];let a=this.keyEncoding(i.keyEncoding),d=this.valueEncoding(i.valueEncoding),p=a.format,v=d.format;(i.keyEncoding!==p||i.valueEncoding!==v)&&(i=Object.assign({},i,{keyEncoding:p,valueEncoding:v}));let w=this.prefixKey(a.encode(e),p),x=d.encode(r);return this._put(w,x,i,E=>{if(E)return n(E);this.emit("put",e,r),n()}),n[_t]}_put(e,r,i,n){this.nextTick(n)}del(e,r,i){if(i=Jd(r,i),i=Zc(i,_t),r=Yc(r,this[Xd].key),this[Bt]==="opening")return this.defer(()=>this.del(e,r,i)),i[_t];if(Up(this,i))return i[_t];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[_t];let o=this.keyEncoding(r.keyEncoding),a=o.format;return r.keyEncoding!==a&&(r=Object.assign({},r,{keyEncoding:a})),this._del(this.prefixKey(o.encode(e),a),r,d=>{if(d)return i(d);this.emit("del",e),i()}),i[_t]}_del(e,r,i){this.nextTick(i)}batch(e,r,i){if(!arguments.length){if(this[Bt]==="opening")return new cH(this);if(this[Bt]!=="open")throw new la("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?i=e:i=Jd(r,i),i=Zc(i,_t),r=Yc(r,this[Xd].empty),this[Bt]==="opening")return this.defer(()=>this.batch(e,r,i)),i[_t];if(Up(this,i))return i[_t];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'operations' must be an array")),i[_t];if(e.length===0)return this.nextTick(i),i[_t];let n=new Array(e.length),{keyEncoding:o,valueEncoding:a,...d}=r;for(let p=0;p<e.length;p++){if(typeof e[p]!="object"||e[p]===null)return this.nextTick(i,new TypeError("A batch operation must be an object")),i[_t];let v=Object.assign({},e[p]);if(v.type!=="put"&&v.type!=="del")return this.nextTick(i,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),i[_t];let w=this._checkKey(v.key);if(w)return this.nextTick(i,w),i[_t];let x=v.sublevel!=null?v.sublevel:this,E=x.keyEncoding(v.keyEncoding||o),T=E.format;if(v.key=x.prefixKey(E.encode(v.key),T),v.keyEncoding=T,v.type==="put"){let A=this._checkValue(v.value);if(A)return this.nextTick(i,A),i[_t];let k=x.valueEncoding(v.valueEncoding||a);v.value=k.encode(v.value),v.valueEncoding=k.format}x!==this&&(v.sublevel=null),n[p]=v}return this._batch(n,d,p=>{if(p)return i(p);this.emit("batch",e),i()}),i[_t]}_batch(e,r,i){this.nextTick(i)}sublevel(e,r){return this._sublevel(e,TT.defaults(r))}_sublevel(e,r){return new TT(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=Jd(e,r),r=Zc(r,_t),e=Yc(e,this[Xd].empty),this[Bt]==="opening")return this.defer(()=>this.clear(e,r)),r[_t];if(Up(this,r))return r[_t];let i=e,n=this.keyEncoding(e.keyEncoding);return e=l3(e,n),e.keyEncoding=n.format,e.limit===0?this.nextTick(r):this._clear(e,o=>{if(o)return r(o);this.emit("clear",i),r()}),r[_t]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=l3(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[Yd.keyEncoding]=r,e[Yd.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Bt]==="opening")return new S_e(this,e);if(this[Bt]!=="open")throw new la("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new Yd(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=l3(e,r),e[Yd.keyEncoding]=r,e[Yd.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Bt]==="opening")return new A_e(this,e);if(this[Bt]!=="open")throw new la("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new M_e(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=l3(e,r),e[Yd.keyEncoding]=r,e[Yd.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Bt]==="opening")return new T_e(this,e);if(this[Bt]!=="open")throw new la("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new E_e(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[sv].push(e)}[av](){if(this[sv].length===0)return;let e=this[sv];this[sv]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[Qd].add(e)}detachResource(e){this[Qd].delete(e)}_chainedBatch(){return new cH(this)}_checkKey(e){if(e==null)return new la("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new la("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};fv.prototype.nextTick=nH();var{AbstractSublevel:TT}=uH()({AbstractLevel:fv});PT.AbstractLevel=fv;PT.AbstractSublevel=TT;var Up=function(t,e){return t[Bt]!=="open"?(t.nextTick(e,new la("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},R_e=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var kT=K(eh=>{"use strict";M();eh.AbstractLevel=RT().AbstractLevel;eh.AbstractSublevel=RT().AbstractSublevel;eh.AbstractIterator=Kc().AbstractIterator;eh.AbstractKeyIterator=Kc().AbstractKeyIterator;eh.AbstractValueIterator=Kc().AbstractValueIterator;eh.AbstractChainedBatch=gT().AbstractChainedBatch});var hH=K((zze,dH)=>{M();dH.exports=I_e;var k_e=bT();function I_e(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let i,n,o,a,d,p=!0,v;Array.isArray(t)?(i=[],o=n=t.length):(a=Object.keys(t),i={},o=n=a.length);function w(E){function T(){r&&r(E,i),r=null}p?k_e(T):T()}function x(E,T,A){if(i[E]=A,T&&(d=!0),--o===0||T)w(T);else if(!d&&v<n){let k;a?(k=a[v],v+=1,t[k](function(D,I){x(k,D,I)})):(k=v,v+=1,t[k](function(D,I){x(k,D,I)}))}}v=e,o?a?a.some(function(E,T){return t[E](function(A,k){x(E,A,k)}),T===e-1}):t.some(function(E,T){return E(function(A,k){x(T,A,k)}),T===e-1}):w(null),p=!1}});var IT=K(($ze,pH)=>{"use strict";M();pH.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,i=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,n=e.gte===void 0,o=e.lte===void 0;return r!==void 0&&i!==void 0?IDBKeyRange.bound(r,i,n,o):r!==void 0?IDBKeyRange.lowerBound(r,n):i!==void 0?IDBKeyRange.upperBound(i,o):null}});var DT=K((Gze,mH)=>{"use strict";M();var D_e=new TextEncoder;mH.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):D_e.encode(t)}});var wH=K(bH=>{"use strict";M();var{AbstractIterator:B_e}=kT(),yH=IT(),p3=DT(),yf=Symbol("cache"),bu=Symbol("finished"),Go=Symbol("options"),wu=Symbol("currentOptions"),th=Symbol("position"),BT=Symbol("location"),zp=Symbol("first"),gH={},OT=class extends B_e{constructor(e,r,i){super(e,i),this[yf]=[],this[bu]=this.limit===0,this[Go]=i,this[wu]={...i},this[th]=void 0,this[BT]=r,this[zp]=!0}_nextv(e,r,i){if(this[zp]=!1,this[bu])return this.nextTick(i,null,[]);if(this[yf].length>0)return e=Math.min(e,this[yf].length),this.nextTick(i,null,this[yf].splice(0,e));this[th]!==void 0&&(this[Go].reverse?(this[wu].lt=this[th],this[wu].lte=void 0):(this[wu].gt=this[th],this[wu].gte=void 0));let n;try{n=yH(this[wu])}catch{return this[bu]=!0,this.nextTick(i,null,[])}let o=this.db.db.transaction([this[BT]],"readonly"),a=o.objectStore(this[BT]),d=[];if(this[Go].reverse){let p=!this[Go].values&&a.openKeyCursor?"openKeyCursor":"openCursor";a[p](n,"prev").onsuccess=v=>{let w=v.target.result;if(w){let{key:x,value:E}=w;this[th]=x,d.push([this[Go].keys&&x!==void 0?p3(x):void 0,this[Go].values&&E!==void 0?p3(E):void 0]),d.length<e?w.continue():vH(o)}else this[bu]=!0}}else{let p,v,w=()=>{if(p===void 0||v===void 0)return;let x=Math.max(p.length,v.length);x===0||e===1/0?this[bu]=!0:this[th]=p[x-1],d.length=x;for(let E=0;E<x;E++){let T=p[E],A=v[E];d[E]=[this[Go].keys&&T!==void 0?p3(T):void 0,this[Go].values&&A!==void 0?p3(A):void 0]}vH(o)};this[Go].keys||e<1/0?a.getAllKeys(n,e<1/0?e:void 0).onsuccess=x=>{p=x.target.result,w()}:(p=[],this.nextTick(w)),this[Go].values?a.getAll(n,e<1/0?e:void 0).onsuccess=x=>{v=x.target.result,w()}:(v=[],this.nextTick(w))}o.onabort=()=>{i(o.error||new Error("aborted by user")),i=null},o.oncomplete=()=>{i(null,d),i=null}}_next(e){if(this[yf].length>0){let[r,i]=this[yf].shift();this.nextTick(e,null,r,i)}else if(this[bu])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[zp]&&(this[zp]=!1,r=1),this._nextv(r,gH,(i,n)=>{if(i)return e(i);this[yf]=n,this._next(e)})}}_all(e,r){this[zp]=!1;let i=this[yf].splice(0,this[yf].length),n=this.limit-this.count-i.length;if(n<=0)return this.nextTick(r,null,i);this._nextv(n,gH,(o,a)=>{if(o)return r(o);i.length>0&&(a=i.concat(a)),r(null,a)})}_seek(e,r){this[zp]=!0,this[yf]=[],this[bu]=!1,this[th]=void 0,this[wu]={...this[Go]};let i;try{i=yH(this[Go])}catch{this[bu]=!0;return}i!==null&&!i.includes(e)?this[bu]=!0:this[Go].reverse?this[wu].lte=e:this[wu].gte=e}};bH.Iterator=OT;function vH(t){typeof t.commit=="function"&&t.commit()}});var xH=K((Zze,_H)=>{"use strict";M();_H.exports=function(e,r,i,n,o){if(n.limit===0)return e.nextTick(o);let a=e.db.transaction([r],"readwrite"),d=a.objectStore(r),p=0;a.oncomplete=function(){o()},a.onabort=function(){o(a.error||new Error("aborted by user"))};let v=d.openKeyCursor?"openKeyCursor":"openCursor",w=n.reverse?"prev":"next";d[v](i,w).onsuccess=function(x){let E=x.target.result;E&&(d.delete(E.key).onsuccess=function(){(n.limit<=0||++p<n.limit)&&E.continue()})}}});var PH=K(TH=>{"use strict";M();var{AbstractLevel:O_e}=kT(),MH=ua(),C_e=hH(),{fromCallback:q_e}=Zg(),{Iterator:N_e}=wH(),EH=DT(),j_e=xH(),L_e=IT(),AH="level-js-",uv=Symbol("idb"),CT=Symbol("namePrefix"),_u=Symbol("location"),qT=Symbol("version"),rh=Symbol("store"),cv=Symbol("onComplete"),SH=Symbol("promise"),m3=class extends O_e{constructor(e,r,i){if(typeof r=="function"||typeof i=="function")throw new MH("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:n,version:o,...a}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},a),typeof e!="string")throw new Error("constructor requires a location string argument");this[_u]=e,this[CT]=n??AH,this[qT]=parseInt(o||1,10),this[uv]=null}get location(){return this[_u]}get namePrefix(){return this[CT]}get version(){return this[qT]}get db(){return this[uv]}get type(){return"browser-level"}_open(e,r){let i=indexedDB.open(this[CT]+this[_u],this[qT]);i.onerror=function(){r(i.error||new Error("unknown error"))},i.onsuccess=()=>{this[uv]=i.result,r()},i.onupgradeneeded=n=>{let o=n.target.result;o.objectStoreNames.contains(this[_u])||o.createObjectStore(this[_u])}}[rh](e){return this[uv].transaction([this[_u]],e).objectStore(this[_u])}[cv](e,r){let i=e.transaction;i.onabort=function(){r(i.error||new Error("aborted by user"))},i.oncomplete=function(){r(null,e.result)}}_get(e,r,i){let n=this[rh]("readonly"),o;try{o=n.get(e)}catch(a){return this.nextTick(i,a)}this[cv](o,function(a,d){if(a)return i(a);if(d===void 0)return i(new MH("Entry not found",{code:"LEVEL_NOT_FOUND"}));i(null,EH(d))})}_getMany(e,r,i){let n=this[rh]("readonly"),o=e.map(a=>d=>{let p;try{p=n.get(a)}catch(v){return d(v)}p.onsuccess=()=>{let v=p.result;d(null,v===void 0?v:EH(v))},p.onerror=v=>{v.stopPropagation(),d(p.error)}});C_e(o,16,i)}_del(e,r,i){let n=this[rh]("readwrite"),o;try{o=n.delete(e)}catch(a){return this.nextTick(i,a)}this[cv](o,i)}_put(e,r,i,n){let o=this[rh]("readwrite"),a;try{a=o.put(r,e)}catch(d){return this.nextTick(n,d)}this[cv](a,n)}_iterator(e){return new N_e(this,this[_u],e)}_batch(e,r,i){let n=this[rh]("readwrite"),o=n.transaction,a=0,d;o.onabort=function(){i(d||o.error||new Error("aborted by user"))},o.oncomplete=function(){i()};function p(){let v=e[a++],w=v.key,x;try{x=v.type==="del"?n.delete(w):n.put(v.value,w)}catch(E){d=E,o.abort();return}a<e.length?x.onsuccess=p:typeof o.commit=="function"&&o.commit()}p()}_clear(e,r){let i,n;try{i=L_e(e)}catch{return this.nextTick(r)}if(e.limit>=0)return j_e(this,this[_u],i,e,r);try{let o=this[rh]("readwrite");n=i?o.delete(i):o.clear()}catch(o){return this.nextTick(r,o)}this[cv](n,r)}_close(e){this[uv].close(),this.nextTick(e)}};m3.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=AH),r=q_e(r,SH);let i=indexedDB.deleteDatabase(e+t);return i.onsuccess=function(){r()},i.onerror=function(n){r(n)},r[SH]};TH.BrowserLevel=m3});var kH=K(RH=>{M();RH.Level=PH().BrowserLevel});var HH=K((d$e,LT)=>{"use strict";M();var u3e=Object.prototype.hasOwnProperty,so="~";function dv(){}Object.create&&(dv.prototype=Object.create(null),new dv().__proto__||(so=!1));function c3e(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function KH(t,e,r,i,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new c3e(r,i||t,n),a=so?so+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],o]:t._events[a].push(o):(t._events[a]=o,t._eventsCount++),t}function b3(t,e){--t._eventsCount===0?t._events=new dv:delete t._events[e]}function Kn(){this._events=new dv,this._eventsCount=0}Kn.prototype.eventNames=function(){var e=[],r,i;if(this._eventsCount===0)return e;for(i in r=this._events)u3e.call(r,i)&&e.push(so?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Kn.prototype.listeners=function(e){var r=so?so+e:e,i=this._events[r];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,a=new Array(o);n<o;n++)a[n]=i[n].fn;return a};Kn.prototype.listenerCount=function(e){var r=so?so+e:e,i=this._events[r];return i?i.fn?1:i.length:0};Kn.prototype.emit=function(e,r,i,n,o,a){var d=so?so+e:e;if(!this._events[d])return!1;var p=this._events[d],v=arguments.length,w,x;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,r),!0;case 3:return p.fn.call(p.context,r,i),!0;case 4:return p.fn.call(p.context,r,i,n),!0;case 5:return p.fn.call(p.context,r,i,n,o),!0;case 6:return p.fn.call(p.context,r,i,n,o,a),!0}for(x=1,w=new Array(v-1);x<v;x++)w[x-1]=arguments[x];p.fn.apply(p.context,w)}else{var E=p.length,T;for(x=0;x<E;x++)switch(p[x].once&&this.removeListener(e,p[x].fn,void 0,!0),v){case 1:p[x].fn.call(p[x].context);break;case 2:p[x].fn.call(p[x].context,r);break;case 3:p[x].fn.call(p[x].context,r,i);break;case 4:p[x].fn.call(p[x].context,r,i,n);break;default:if(!w)for(T=1,w=new Array(v-1);T<v;T++)w[T-1]=arguments[T];p[x].fn.apply(p[x].context,w)}}return!0};Kn.prototype.on=function(e,r,i){return KH(this,e,r,i,!1)};Kn.prototype.once=function(e,r,i){return KH(this,e,r,i,!0)};Kn.prototype.removeListener=function(e,r,i,n){var o=so?so+e:e;if(!this._events[o])return this;if(!r)return b3(this,o),this;var a=this._events[o];if(a.fn)a.fn===r&&(!n||a.once)&&(!i||a.context===i)&&b3(this,o);else{for(var d=0,p=[],v=a.length;d<v;d++)(a[d].fn!==r||n&&!a[d].once||i&&a[d].context!==i)&&p.push(a[d]);p.length?this._events[o]=p.length===1?p[0]:p:b3(this,o)}return this};Kn.prototype.removeAllListeners=function(e){var r;return e?(r=so?so+e:e,this._events[r]&&b3(this,r)):(this._events=new dv,this._eventsCount=0),this};Kn.prototype.off=Kn.prototype.removeListener;Kn.prototype.addListener=Kn.prototype.on;Kn.prefixed=so;Kn.EventEmitter=Kn;typeof LT<"u"&&(LT.exports=Kn)});M();M();var kv=(r=>(r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r))(kv||{});M();var Yp=class{async isTenant(e){return!0}};M();var Au={};Hi(Au,{code:()=>_h,decode:()=>l6,encode:()=>bJ,name:()=>vJ});M();M();M();M();var fY=["string","number","bigint","symbol"],uY=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function w7(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(fY.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(cY(t))return"Buffer";let r=lY(t);return r||"Object"}function cY(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function lY(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(uY.includes(e))return e}M();var Be=class{constructor(e,r,i){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Be.uint=new Be(0,"uint",!0);Be.negint=new Be(1,"negint",!0);Be.bytes=new Be(2,"bytes",!0);Be.string=new Be(3,"string",!0);Be.array=new Be(4,"array",!1);Be.map=new Be(5,"map",!1);Be.tag=new Be(6,"tag",!1);Be.float=new Be(7,"float",!0);Be.false=new Be(7,"false",!0);Be.true=new Be(7,"true",!0);Be.null=new Be(7,"null",!0);Be.undefined=new Be(7,"undefined",!0);Be.break=new Be(7,"break",!0);var Ge=class{constructor(e,r,i){this.type=e,this.value=r,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};M();M();var lh=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",dY=new TextDecoder,hY=new TextEncoder;function Iv(t){return lh&&globalThis.Buffer.isBuffer(t)}function H3(t){return t instanceof Uint8Array?Iv(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var E7=lh?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):x7(t,e,r):(t,e,r)=>r-e>64?dY.decode(t.subarray(e,r)):x7(t,e,r),S7=lh?t=>t.length>64?globalThis.Buffer.from(t):_7(t):t=>t.length>64?hY.encode(t):_7(t),ba=t=>Uint8Array.from(t),dh=lh?(t,e,r)=>Iv(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),A7=lh?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),H3(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),i=0;for(let n of t)i+n.length>r.length&&(n=n.subarray(0,r.length-i)),r.set(n,i),i+=n.length;return r},T7=lh?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function P7(t,e){if(Iv(t)&&Iv(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function _7(t,e=1/0){let r,i=t.length,n=null,o=[];for(let a=0;a<i;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function x7(t,e,r){let i=[];for(;e<r;){let n=t[e],o=null,a=n>239?4:n>223?3:n>191?2:1;if(e+a<=r){let d,p,v,w;switch(a){case 1:n<128&&(o=n);break;case 2:d=t[e+1],(d&192)===128&&(w=(n&31)<<6|d&63,w>127&&(o=w));break;case 3:d=t[e+1],p=t[e+2],(d&192)===128&&(p&192)===128&&(w=(n&15)<<12|(d&63)<<6|p&63,w>2047&&(w<55296||w>57343)&&(o=w));break;case 4:d=t[e+1],p=t[e+2],v=t[e+3],(d&192)===128&&(p&192)===128&&(v&192)===128&&(w=(n&15)<<18|(d&63)<<12|(p&63)<<6|v&63,w>65535&&w<1114112&&(o=w))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),e+=a}return pY(i)}var M7=4096;function pY(t){let e=t.length;if(e<=M7)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=M7));return r}var mY=256,Jp=class{constructor(e=mY){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let n=r.length-(this.maxCursor-this.cursor)-1;r.set(e,n)}else{if(r){let n=r.length-(this.maxCursor-this.cursor)-1;n<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=T7(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let i=this.chunks[0];e&&this.cursor>i.length/2?(r=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=dh(i,0,this.cursor)}else r=A7(this.chunks,this.cursor);return e&&this.reset(),r}};M();var dt="CBOR decode error:",Z3="CBOR encode error:",Qp=[];Qp[23]=1;Qp[24]=2;Qp[25]=3;Qp[26]=5;Qp[27]=9;function _f(t,e,r){if(t.length-e<r)throw new Error(`${dt} not enough data for type`)}M();M();var Yi=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Eo(t,e,r){_f(t,e,1);let i=t[e];if(r.strict===!0&&i<Yi[0])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);return i}function So(t,e,r){_f(t,e,2);let i=t[e]<<8|t[e+1];if(r.strict===!0&&i<Yi[1])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);return i}function Ao(t,e,r){_f(t,e,4);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&i<Yi[2])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);return i}function To(t,e,r){_f(t,e,8);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],n=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(i)<<BigInt(32))+BigInt(n);if(r.strict===!0&&o<Yi[3])throw new Error(`${dt} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${dt} integers outside of the safe integer range are not supported`)}function R7(t,e,r,i){return new Ge(Be.uint,Eo(t,e+1,i),2)}function k7(t,e,r,i){return new Ge(Be.uint,So(t,e+1,i),3)}function I7(t,e,r,i){return new Ge(Be.uint,Ao(t,e+1,i),5)}function D7(t,e,r,i){return new Ge(Be.uint,To(t,e+1,i),9)}function Zo(t,e){return pn(t,0,e.value)}function pn(t,e,r){if(r<Yi[0]){let i=Number(r);t.push([e|i])}else if(r<Yi[1]){let i=Number(r);t.push([e|24,i])}else if(r<Yi[2]){let i=Number(r);t.push([e|25,i>>>8,i&255])}else if(r<Yi[3]){let i=Number(r);t.push([e|26,i>>>24&255,i>>>16&255,i>>>8&255,i&255])}else{let i=BigInt(r);if(i<Yi[4]){let n=[e|27,0,0,0,0,0,0,0],o=Number(i&BigInt(4294967295)),a=Number(i>>BigInt(32)&BigInt(4294967295));n[8]=o&255,o=o>>8,n[7]=o&255,o=o>>8,n[6]=o&255,o=o>>8,n[5]=o&255,n[4]=a&255,a=a>>8,n[3]=a&255,a=a>>8,n[2]=a&255,a=a>>8,n[1]=a&255,t.push(n)}else throw new Error(`${dt} encountered BigInt larger than allowable range`)}}Zo.encodedSize=function(e){return pn.encodedSize(e.value)};pn.encodedSize=function(e){return e<Yi[0]?1:e<Yi[1]?2:e<Yi[2]?3:e<Yi[3]?5:9};Zo.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};M();function B7(t,e,r,i){return new Ge(Be.negint,-1-Eo(t,e+1,i),2)}function O7(t,e,r,i){return new Ge(Be.negint,-1-So(t,e+1,i),3)}function C7(t,e,r,i){return new Ge(Be.negint,-1-Ao(t,e+1,i),5)}var Y3=BigInt(-1),q7=BigInt(1);function N7(t,e,r,i){let n=To(t,e+1,i);if(typeof n!="bigint"){let o=-1-n;if(o>=Number.MIN_SAFE_INTEGER)return new Ge(Be.negint,o,9)}if(i.allowBigInt!==!0)throw new Error(`${dt} integers outside of the safe integer range are not supported`);return new Ge(Be.negint,Y3-BigInt(n),9)}function Dv(t,e){let r=e.value,i=typeof r=="bigint"?r*Y3-q7:r*-1-1;pn(t,e.type.majorEncoded,i)}Dv.encodedSize=function(e){let r=e.value,i=typeof r=="bigint"?r*Y3-q7:r*-1-1;return i<Yi[0]?1:i<Yi[1]?2:i<Yi[2]?3:i<Yi[3]?5:9};Dv.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};M();function Xp(t,e,r,i){_f(t,e,r+i);let n=dh(t,e+r,e+r+i);return new Ge(Be.bytes,n,r+i)}function j7(t,e,r,i){return Xp(t,e,1,r)}function L7(t,e,r,i){return Xp(t,e,2,Eo(t,e+1,i))}function U7(t,e,r,i){return Xp(t,e,3,So(t,e+1,i))}function z7(t,e,r,i){return Xp(t,e,5,Ao(t,e+1,i))}function F7(t,e,r,i){let n=To(t,e+1,i);if(typeof n=="bigint")throw new Error(`${dt} 64-bit integer bytes lengths not supported`);return Xp(t,e,9,n)}function Bv(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Be.string?S7(t.value):t.value),t.encodedBytes}function hh(t,e){let r=Bv(e);pn(t,e.type.majorEncoded,r.length),t.push(r)}hh.encodedSize=function(e){let r=Bv(e);return pn.encodedSize(r.length)+r.length};hh.compareTokens=function(e,r){return gY(Bv(e),Bv(r))};function gY(t,e){return t.length<e.length?-1:t.length>e.length?1:P7(t,e)}M();function em(t,e,r,i,n){let o=r+i;_f(t,e,o);let a=new Ge(Be.string,E7(t,e+r,e+o),o);return n.retainStringBytes===!0&&(a.byteValue=dh(t,e+r,e+o)),a}function $7(t,e,r,i){return em(t,e,1,r,i)}function W7(t,e,r,i){return em(t,e,2,Eo(t,e+1,i),i)}function G7(t,e,r,i){return em(t,e,3,So(t,e+1,i),i)}function V7(t,e,r,i){return em(t,e,5,Ao(t,e+1,i),i)}function K7(t,e,r,i){let n=To(t,e+1,i);if(typeof n=="bigint")throw new Error(`${dt} 64-bit integer string lengths not supported`);return em(t,e,9,n,i)}var H7=hh;M();function ph(t,e,r,i){return new Ge(Be.array,i,r)}function Z7(t,e,r,i){return ph(t,e,1,r)}function Y7(t,e,r,i){return ph(t,e,2,Eo(t,e+1,i))}function J7(t,e,r,i){return ph(t,e,3,So(t,e+1,i))}function Q7(t,e,r,i){return ph(t,e,5,Ao(t,e+1,i))}function X7(t,e,r,i){let n=To(t,e+1,i);if(typeof n=="bigint")throw new Error(`${dt} 64-bit integer array lengths not supported`);return ph(t,e,9,n)}function e9(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${dt} indefinite length items not allowed`);return ph(t,e,1,1/0)}function Ov(t,e){pn(t,Be.array.majorEncoded,e.value)}Ov.compareTokens=Zo.compareTokens;Ov.encodedSize=function(e){return pn.encodedSize(e.value)};M();function mh(t,e,r,i){return new Ge(Be.map,i,r)}function t9(t,e,r,i){return mh(t,e,1,r)}function r9(t,e,r,i){return mh(t,e,2,Eo(t,e+1,i))}function i9(t,e,r,i){return mh(t,e,3,So(t,e+1,i))}function n9(t,e,r,i){return mh(t,e,5,Ao(t,e+1,i))}function o9(t,e,r,i){let n=To(t,e+1,i);if(typeof n=="bigint")throw new Error(`${dt} 64-bit integer map lengths not supported`);return mh(t,e,9,n)}function s9(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${dt} indefinite length items not allowed`);return mh(t,e,1,1/0)}function Cv(t,e){pn(t,Be.map.majorEncoded,e.value)}Cv.compareTokens=Zo.compareTokens;Cv.encodedSize=function(e){return pn.encodedSize(e.value)};M();function a9(t,e,r,i){return new Ge(Be.tag,r,1)}function f9(t,e,r,i){return new Ge(Be.tag,Eo(t,e+1,i),2)}function u9(t,e,r,i){return new Ge(Be.tag,So(t,e+1,i),3)}function c9(t,e,r,i){return new Ge(Be.tag,Ao(t,e+1,i),5)}function l9(t,e,r,i){return new Ge(Be.tag,To(t,e+1,i),9)}function qv(t,e){pn(t,Be.tag.majorEncoded,e.value)}qv.compareTokens=Zo.compareTokens;qv.encodedSize=function(e){return pn.encodedSize(e.value)};M();var MY=20,EY=21,SY=22,AY=23;function d9(t,e,r,i){if(i.allowUndefined===!1)throw new Error(`${dt} undefined values are not supported`);return i.coerceUndefinedToNull===!0?new Ge(Be.null,null,1):new Ge(Be.undefined,void 0,1)}function h9(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${dt} indefinite length items not allowed`);return new Ge(Be.break,void 0,1)}function J3(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${dt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${dt} Infinity values are not supported`)}return new Ge(Be.float,t,e)}function p9(t,e,r,i){return J3(Q3(t,e+1),3,i)}function m9(t,e,r,i){return J3(X3(t,e+1),5,i)}function y9(t,e,r,i){return J3(w9(t,e+1),9,i)}function Nv(t,e,r){let i=e.value;if(i===!1)t.push([Be.float.majorEncoded|MY]);else if(i===!0)t.push([Be.float.majorEncoded|EY]);else if(i===null)t.push([Be.float.majorEncoded|SY]);else if(i===void 0)t.push([Be.float.majorEncoded|AY]);else{let n,o=!1;(!r||r.float64!==!0)&&(v9(i),n=Q3(Ds,1),i===n||Number.isNaN(i)?(Ds[0]=249,t.push(Ds.slice(0,3)),o=!0):(b9(i),n=X3(Ds,1),i===n&&(Ds[0]=250,t.push(Ds.slice(0,5)),o=!0))),o||(TY(i),n=w9(Ds,1),Ds[0]=251,t.push(Ds.slice(0,9)))}}Nv.encodedSize=function(e,r){let i=e.value;if(i===!1||i===!0||i===null||i===void 0)return 1;if(!r||r.float64!==!0){v9(i);let n=Q3(Ds,1);if(i===n||Number.isNaN(i))return 3;if(b9(i),n=X3(Ds,1),i===n)return 5}return 9};var g9=new ArrayBuffer(9),Yo=new DataView(g9,1),Ds=new Uint8Array(g9,0);function v9(t){if(t===1/0)Yo.setUint16(0,31744,!1);else if(t===-1/0)Yo.setUint16(0,64512,!1);else if(Number.isNaN(t))Yo.setUint16(0,32256,!1);else{Yo.setFloat32(0,t);let e=Yo.getUint32(0),r=(e&2139095040)>>23,i=e&8388607;if(r===255)Yo.setUint16(0,31744,!1);else if(r===0)Yo.setUint16(0,(t&2147483648)>>16|i>>13,!1);else{let n=r-127;n<-24?Yo.setUint16(0,0):n<-14?Yo.setUint16(0,(e&2147483648)>>16|1<<24+n,!1):Yo.setUint16(0,(e&2147483648)>>16|n+15<<10|i>>13,!1)}}}function Q3(t,e){if(t.length-e<2)throw new Error(`${dt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let i=r>>10&31,n=r&1023,o;return i===0?o=n*2**-24:i!==31?o=(n+1024)*2**(i-25):o=n===0?1/0:NaN,r&32768?-o:o}function b9(t){Yo.setFloat32(0,t,!1)}function X3(t,e){if(t.length-e<4)throw new Error(`${dt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function TY(t){Yo.setFloat64(0,t,!1)}function w9(t,e){if(t.length-e<8)throw new Error(`${dt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}Nv.compareTokens=Zo.compareTokens;function Kt(t,e,r){throw new Error(`${dt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function jv(t){return()=>{throw new Error(`${dt} ${t}`)}}var ze=[];for(let t=0;t<=23;t++)ze[t]=Kt;ze[24]=R7;ze[25]=k7;ze[26]=I7;ze[27]=D7;ze[28]=Kt;ze[29]=Kt;ze[30]=Kt;ze[31]=Kt;for(let t=32;t<=55;t++)ze[t]=Kt;ze[56]=B7;ze[57]=O7;ze[58]=C7;ze[59]=N7;ze[60]=Kt;ze[61]=Kt;ze[62]=Kt;ze[63]=Kt;for(let t=64;t<=87;t++)ze[t]=j7;ze[88]=L7;ze[89]=U7;ze[90]=z7;ze[91]=F7;ze[92]=Kt;ze[93]=Kt;ze[94]=Kt;ze[95]=jv("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)ze[t]=$7;ze[120]=W7;ze[121]=G7;ze[122]=V7;ze[123]=K7;ze[124]=Kt;ze[125]=Kt;ze[126]=Kt;ze[127]=jv("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)ze[t]=Z7;ze[152]=Y7;ze[153]=J7;ze[154]=Q7;ze[155]=X7;ze[156]=Kt;ze[157]=Kt;ze[158]=Kt;ze[159]=e9;for(let t=160;t<=183;t++)ze[t]=t9;ze[184]=r9;ze[185]=i9;ze[186]=n9;ze[187]=o9;ze[188]=Kt;ze[189]=Kt;ze[190]=Kt;ze[191]=s9;for(let t=192;t<=215;t++)ze[t]=a9;ze[216]=f9;ze[217]=u9;ze[218]=c9;ze[219]=l9;ze[220]=Kt;ze[221]=Kt;ze[222]=Kt;ze[223]=Kt;for(let t=224;t<=243;t++)ze[t]=jv("simple values are not supported");ze[244]=Kt;ze[245]=Kt;ze[246]=Kt;ze[247]=d9;ze[248]=jv("simple values are not supported");ze[249]=p9;ze[250]=m9;ze[251]=y9;ze[252]=Kt;ze[253]=Kt;ze[254]=Kt;ze[255]=h9;var Bs=[];for(let t=0;t<24;t++)Bs[t]=new Ge(Be.uint,t,1);for(let t=-1;t>=-24;t--)Bs[31-t]=new Ge(Be.negint,t,1);Bs[64]=new Ge(Be.bytes,new Uint8Array(0),1);Bs[96]=new Ge(Be.string,"",1);Bs[128]=new Ge(Be.array,0,1);Bs[160]=new Ge(Be.map,0,1);Bs[244]=new Ge(Be.false,!1,1);Bs[245]=new Ge(Be.true,!0,1);Bs[246]=new Ge(Be.null,null,1);function _9(t){switch(t.type){case Be.false:return ba([244]);case Be.true:return ba([245]);case Be.null:return ba([246]);case Be.bytes:return t.value.length?void 0:ba([64]);case Be.string:return t.value===""?ba([96]):void 0;case Be.array:return t.value===0?ba([128]):void 0;case Be.map:return t.value===0?ba([160]):void 0;case Be.uint:return t.value<24?ba([Number(t.value)]):void 0;case Be.negint:if(t.value>=-24)return ba([31-Number(t.value)])}}var RY={float64:!1,mapSorter:DY,quickEncodeToken:_9};function kY(){let t=[];return t[Be.uint.major]=Zo,t[Be.negint.major]=Dv,t[Be.bytes.major]=hh,t[Be.string.major]=H7,t[Be.array.major]=Ov,t[Be.map.major]=Cv,t[Be.tag.major]=qv,t[Be.float.major]=Nv,t}var x9=kY(),e6=new Jp,yh=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${Z3} object contains circular references`);return new yh(r,e)}},Eu={null:new Ge(Be.null,null),undefined:new Ge(Be.undefined,void 0),true:new Ge(Be.true,!0),false:new Ge(Be.false,!1),emptyArray:new Ge(Be.array,0),emptyMap:new Ge(Be.map,0)},Su={number(t,e,r,i){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Ge(Be.float,t):t>=0?new Ge(Be.uint,t):new Ge(Be.negint,t)},bigint(t,e,r,i){return t>=BigInt(0)?new Ge(Be.uint,t):new Ge(Be.negint,t)},Uint8Array(t,e,r,i){return new Ge(Be.bytes,t)},string(t,e,r,i){return new Ge(Be.string,t)},boolean(t,e,r,i){return t?Eu.true:Eu.false},null(t,e,r,i){return Eu.null},undefined(t,e,r,i){return Eu.undefined},ArrayBuffer(t,e,r,i){return new Ge(Be.bytes,new Uint8Array(t))},DataView(t,e,r,i){return new Ge(Be.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,i){if(!t.length)return r.addBreakTokens===!0?[Eu.emptyArray,new Ge(Be.break)]:Eu.emptyArray;i=yh.createCheck(i,t);let n=[],o=0;for(let a of t)n[o++]=Lv(a,r,i);return r.addBreakTokens?[new Ge(Be.array,t.length),n,new Ge(Be.break)]:[new Ge(Be.array,t.length),n]},Object(t,e,r,i){let n=e!=="Object",o=n?t.keys():Object.keys(t),a=n?t.size:o.length;if(!a)return r.addBreakTokens===!0?[Eu.emptyMap,new Ge(Be.break)]:Eu.emptyMap;i=yh.createCheck(i,t);let d=[],p=0;for(let v of o)d[p++]=[Lv(v,r,i),Lv(n?t.get(v):t[v],r,i)];return IY(d,r),r.addBreakTokens?[new Ge(Be.map,a),d,new Ge(Be.break)]:[new Ge(Be.map,a),d]}};Su.Map=Su.Object;Su.Buffer=Su.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Su[`${t}Array`]=Su.DataView;function Lv(t,e={},r){let i=w7(t),n=e&&e.typeEncoders&&e.typeEncoders[i]||Su[i];if(typeof n=="function"){let a=n(t,i,e,r);if(a!=null)return a}let o=Su[i];if(!o)throw new Error(`${Z3} unsupported type: ${i}`);return o(t,i,e,r)}function IY(t,e){e.mapSorter&&t.sort(e.mapSorter)}function DY(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],i=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==i.type)return r.type.compare(i.type);let n=r.type.major,o=x9[n].compareTokens(r,i);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function M9(t,e,r,i){if(Array.isArray(e))for(let n of e)M9(t,n,r,i);else r[e.type.major](t,e,i)}function BY(t,e,r){let i=Lv(t,r);if(!Array.isArray(i)&&r.quickEncodeToken){let n=r.quickEncodeToken(i);if(n)return n;let o=e[i.type.major];if(o.encodedSize){let a=o.encodedSize(i,r),d=new Jp(a);if(o(d,i,r),d.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return H3(d.chunks[0])}}return e6.reset(),M9(e6,i,e,r),e6.toBytes(!0)}function t6(t,e){return e=Object.assign({},RY,e),BY(t,x9,e)}M();var OY={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},r6=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=Bs[e];if(r===void 0){let i=ze[e];if(!i)throw new Error(`${dt} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;r=i(this.data,this.pos,n,this.options)}return this.pos+=r.encodedLength,r}},tm=Symbol.for("DONE"),Uv=Symbol.for("BREAK");function CY(t,e,r){let i=[];for(let n=0;n<t.value;n++){let o=rm(e,r);if(o===Uv){if(t.value===1/0)break;throw new Error(`${dt} got unexpected break to lengthed array`)}if(o===tm)throw new Error(`${dt} found array but not enough entries (got ${n}, expected ${t.value})`);i[n]=o}return i}function qY(t,e,r){let i=r.useMaps===!0,n=i?void 0:{},o=i?new Map:void 0;for(let a=0;a<t.value;a++){let d=rm(e,r);if(d===Uv){if(t.value===1/0)break;throw new Error(`${dt} got unexpected break to lengthed map`)}if(d===tm)throw new Error(`${dt} found map but not enough entries (got ${a} [no key], expected ${t.value})`);if(i!==!0&&typeof d!="string")throw new Error(`${dt} non-string keys not supported (got ${typeof d})`);if(r.rejectDuplicateMapKeys===!0&&(i&&o.has(d)||!i&&d in n))throw new Error(`${dt} found repeat map key "${d}"`);let p=rm(e,r);if(p===tm)throw new Error(`${dt} found map but not enough entries (got ${a} [no value], expected ${t.value})`);i?o.set(d,p):n[d]=p}return i?o:n}function rm(t,e){if(t.done())return tm;let r=t.next();if(r.type===Be.break)return Uv;if(r.type.terminal)return r.value;if(r.type===Be.array)return CY(r,t,e);if(r.type===Be.map)return qY(r,t,e);if(r.type===Be.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let i=rm(t,e);return e.tags[r.value](i)}throw new Error(`${dt} tag not supported (${r.value})`)}throw new Error("unsupported")}function i6(t,e){if(!(t instanceof Uint8Array))throw new Error(`${dt} data to decode must be a Uint8Array`);e=Object.assign({},OY,e);let r=e.tokenizer||new r6(t,e),i=rm(r,e);if(i===tm)throw new Error(`${dt} did not find any content to decode`);if(i===Uv)throw new Error(`${dt} got unexpected break`);if(!r.done())throw new Error(`${dt} too many terminals, data makes no sense`);return i}M();M();M();var jY=A9,E9=128,LY=127,UY=~LY,zY=Math.pow(2,31);function A9(t,e,r){e=e||[],r=r||0;for(var i=r;t>=zY;)e[r++]=t&255|E9,t/=128;for(;t&UY;)e[r++]=t&255|E9,t>>>=7;return e[r]=t|0,A9.bytes=r-i+1,e}var FY=n6,$Y=128,S9=127;function n6(t,i){var r=0,i=i||0,n=0,o=i,a,d=t.length;do{if(o>=d)throw n6.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=n<28?(a&S9)<<n:(a&S9)*Math.pow(2,n),n+=7}while(a>=$Y);return n6.bytes=o-i,r}var WY=Math.pow(2,7),GY=Math.pow(2,14),VY=Math.pow(2,21),KY=Math.pow(2,28),HY=Math.pow(2,35),ZY=Math.pow(2,42),YY=Math.pow(2,49),JY=Math.pow(2,56),QY=Math.pow(2,63),XY=function(t){return t<WY?1:t<GY?2:t<VY?3:t<KY?4:t<HY?5:t<ZY?6:t<YY?7:t<JY?8:t<QY?9:10},eJ={encode:jY,decode:FY,encodingLength:XY},tJ=eJ,im=tJ;var nm=(t,e=0)=>[im.decode(t,e),im.decode.bytes],gh=(t,e,r=0)=>(im.encode(t,e,r),e),vh=t=>im.encodingLength(t);M();M();var lxe=new Uint8Array(0);var P9=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},bh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var R9=(t,e)=>{let r=e.byteLength,i=vh(t),n=i+vh(r),o=new Uint8Array(n+r);return gh(t,o,0),gh(r,o,i),o.set(e,n),new wh(t,r,e,o)},k9=t=>{let e=bh(t),[r,i]=nm(e),[n,o]=nm(e.subarray(i)),a=e.subarray(i+o);if(a.byteLength!==n)throw new Error("Incorrect length");return new wh(r,n,a,e)},I9=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&P9(t.bytes,r.bytes)}},wh=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};M();M();M();function iJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),w=Math.log(256)/Math.log(d);function x(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var k=0,D=0,I=0,C=A.length;I!==C&&A[I]===0;)I++,k++;for(var q=(C-I)*w+1>>>0,U=new Uint8Array(q);I!==C;){for(var $=A[I],W=0,F=q-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%d>>>0,$=$/d>>>0;if($!==0)throw new Error("Non-zero carry");D=W,I++}for(var L=q-D;L!==q&&U[L]===0;)L++;for(var H=p.repeat(k);L<q;++L)H+=t.charAt(U[L]);return H}function E(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var k=0;if(A[k]!==" "){for(var D=0,I=0;A[k]===p;)D++,k++;for(var C=(A.length-k)*v+1>>>0,q=new Uint8Array(C);A[k];){var U=r[A.charCodeAt(k)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<I)&&W!==-1;W--,$++)U+=d*q[W]>>>0,q[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=$,k++}if(A[k]!==" "){for(var F=C-I;F!==C&&q[F]===0;)F++;for(var L=new Uint8Array(D+(C-F)),H=D;F!==C;)L[H++]=q[F++];return L}}}function T(A){var k=E(A);if(k)return k;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var nJ=iJ,oJ=nJ,D9=oJ;M();var o6=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},s6=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return B9(this,e)}},a6=class{constructor(e){this.decoders=e}or(e){return B9(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},B9=(t,e)=>new a6({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),f6=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new o6(e,r,i),this.decoder=new s6(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},O9=({name:t,prefix:e,encode:r,decode:i})=>new f6(t,e,r,i),u6=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=D9(r,e);return O9({prefix:t,name:e,encode:i,decode:o=>bh(n(o))})},sJ=(t,e,r,i)=>{let n={};for(let w=0;w<e.length;++w)n[e[w]]=w;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let w=0;w<o;++w){let x=n[t[w]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,a[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return a},aJ=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",a=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],a+=8;a>r;)a-=r,o+=e[n&d>>a];if(a&&(o+=e[n&d<<r-a]),i)for(;o.length*r&7;)o+="=";return o},wa=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>O9({prefix:e,name:t,encode(n){return aJ(n,i,r)},decode(n){return sJ(n,i,r,t)}});var xf=u6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sxe=u6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});M();var om=wa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Rxe=wa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kxe=wa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ixe=wa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Dxe=wa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bxe=wa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Oxe=wa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Cxe=wa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qxe=wa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var C9=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return uJ(r,c6(t),e||xf.encoder);default:return cJ(r,c6(t),e||om.encoder)}};var q9=new WeakMap,c6=t=>{let e=q9.get(t);if(e==null){let r=new Map;return q9.set(t,r),r}return e},ui=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==sm)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==lJ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ui.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=R9(e,r);return ui.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return ui.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&I9(e.multihash,i.multihash)}toString(e){return C9(this,e)}toJSON(){return{"/":C9(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof ui)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:a}=r;return new ui(i,n,o,a||N9(i,n,o.bytes))}else if(r[dJ]===!0){let{version:i,multihash:n,code:o}=r,a=k9(n);return ui.create(i,o,a)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==sm)throw new Error(`Version 0 CID must use dag-pb (code: ${sm}) block encoding`);return new ui(e,r,i,i.bytes)}case 1:{let n=N9(e,r,i.bytes);return new ui(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return ui.create(0,sm,e)}static createV1(e,r){return ui.create(1,e,r)}static decode(e){let[r,i]=ui.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=ui.inspectBytes(e),i=r.size-r.multihashSize,n=bh(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),a=new wh(r.multihashCode,r.digestSize,o,n);return[r.version===0?ui.createV0(a):ui.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=nm(e.subarray(r));return r+=E,x},n=i(),o=sm;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let a=r,d=i(),p=i(),v=r+p,w=v-a;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:w,size:v}}static parse(e,r){let[i,n]=fJ(e,r),o=ui.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return c6(o).set(i,e),o}},fJ=(t,e)=>{switch(t[0]){case"Q":{let r=e||xf;return[xf.prefix,r.decode(`${xf.prefix}${t}`)]}case xf.prefix:{let r=e||xf;return[xf.prefix,r.decode(t)]}case om.prefix:{let r=e||om;return[om.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},uJ=(t,e,r)=>{let{prefix:i}=r;if(i!==xf.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},cJ=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},sm=112,lJ=18,N9=(t,e,r)=>{let i=vh(t),n=i+vh(e),o=new Uint8Array(n+r.byteLength);return gh(t,o,0),gh(e,o,i),o.set(r,n),o},dJ=Symbol.for("@ipld/js-cid/CID");var j9=42;function hJ(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=ui.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Ge(Be.tag,j9),new Ge(Be.bytes,r)]}function pJ(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function mJ(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var yJ={float64:!0,typeEncoders:{Object:hJ,undefined:pJ,number:mJ}};function gJ(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ui.decode(t.subarray(1))}var L9={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};L9.tags[j9]=gJ;var vJ="dag-cbor",_h=113,bJ=t=>t6(t,yJ),l6=t=>i6(t,L9);M();M();M();var wJ=F9,U9=128,_J=127,xJ=~_J,MJ=Math.pow(2,31);function F9(t,e,r){e=e||[],r=r||0;for(var i=r;t>=MJ;)e[r++]=t&255|U9,t/=128;for(;t&xJ;)e[r++]=t&255|U9,t>>>=7;return e[r]=t|0,F9.bytes=r-i+1,e}var EJ=d6,SJ=128,z9=127;function d6(t,i){var r=0,i=i||0,n=0,o=i,a,d=t.length;do{if(o>=d)throw d6.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=n<28?(a&z9)<<n:(a&z9)*Math.pow(2,n),n+=7}while(a>=SJ);return d6.bytes=o-i,r}var AJ=Math.pow(2,7),TJ=Math.pow(2,14),PJ=Math.pow(2,21),RJ=Math.pow(2,28),kJ=Math.pow(2,35),IJ=Math.pow(2,42),DJ=Math.pow(2,49),BJ=Math.pow(2,56),OJ=Math.pow(2,63),CJ=function(t){return t<AJ?1:t<TJ?2:t<PJ?3:t<RJ?4:t<kJ?5:t<IJ?6:t<DJ?7:t<BJ?8:t<OJ?9:10},qJ={encode:wJ,decode:EJ,encodingLength:CJ},NJ=qJ,am=NJ;var fm=(t,e=0)=>[am.decode(t,e),am.decode.bytes],xh=(t,e,r=0)=>(am.encode(t,e,r),e),Mh=t=>am.encodingLength(t);M();M();var Xxe=new Uint8Array(0);var $9=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Os=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var W9=t=>new TextEncoder().encode(t),G9=t=>new TextDecoder().decode(t);var nl=(t,e)=>{let r=e.byteLength,i=Mh(t),n=i+Mh(r),o=new Uint8Array(n+r);return xh(t,o,0),xh(r,o,i),o.set(e,n),new Eh(t,r,e,o)},Sh=t=>{let e=Os(t),[r,i]=fm(e),[n,o]=fm(e.subarray(i)),a=e.subarray(i+o);if(a.byteLength!==n)throw new Error("Incorrect length");return new Eh(r,n,a,e)},V9=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&$9(t.bytes,r.bytes)}},Eh=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var v6={};Hi(v6,{base58btc:()=>Po,base58flickr:()=>$J});M();M();M();function jJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),w=Math.log(256)/Math.log(d);function x(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var k=0,D=0,I=0,C=A.length;I!==C&&A[I]===0;)I++,k++;for(var q=(C-I)*w+1>>>0,U=new Uint8Array(q);I!==C;){for(var $=A[I],W=0,F=q-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%d>>>0,$=$/d>>>0;if($!==0)throw new Error("Non-zero carry");D=W,I++}for(var L=q-D;L!==q&&U[L]===0;)L++;for(var H=p.repeat(k);L<q;++L)H+=t.charAt(U[L]);return H}function E(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var k=0;if(A[k]!==" "){for(var D=0,I=0;A[k]===p;)D++,k++;for(var C=(A.length-k)*v+1>>>0,q=new Uint8Array(C);A[k];){var U=r[A.charCodeAt(k)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<I)&&W!==-1;W--,$++)U+=d*q[W]>>>0,q[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=$,k++}if(A[k]!==" "){for(var F=C-I;F!==C&&q[F]===0;)F++;for(var L=new Uint8Array(D+(C-F)),H=D;F!==C;)L[H++]=q[F++];return L}}}function T(A){var k=E(A);if(k)return k;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var LJ=jJ,UJ=LJ,K9=UJ;M();var p6=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},m6=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return H9(this,e)}},y6=class{constructor(e){this.decoders=e}or(e){return H9(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},H9=(t,e)=>new y6({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),g6=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new p6(e,r,i),this.decoder=new m6(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ah=({name:t,prefix:e,encode:r,decode:i})=>new g6(t,e,r,i),Tu=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=K9(r,e);return Ah({prefix:t,name:e,encode:i,decode:o=>Os(n(o))})},zJ=(t,e,r,i)=>{let n={};for(let w=0;w<e.length;++w)n[e[w]]=w;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let w=0;w<o;++w){let x=n[t[w]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,a[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return a},FJ=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",a=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],a+=8;a>r;)a-=r,o+=e[n&d>>a];if(a&&(o+=e[n&d<<r-a]),i)for(;o.length*r&7;)o+="=";return o},Qr=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Ah({prefix:e,name:t,encode(n){return FJ(n,i,r)},decode(n){return zJ(n,i,r,t)}});var Po=Tu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$J=Tu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var b6={};Hi(b6,{base32:()=>Jo,base32hex:()=>KJ,base32hexpad:()=>ZJ,base32hexpadupper:()=>YJ,base32hexupper:()=>HJ,base32pad:()=>GJ,base32padupper:()=>VJ,base32upper:()=>WJ,base32z:()=>JJ});M();var Jo=Qr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),WJ=Qr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),GJ=Qr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),VJ=Qr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KJ=Qr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),HJ=Qr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ZJ=Qr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),YJ=Qr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),JJ=Qr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var Z9=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return XJ(r,w6(t),e||Po.encoder);default:return eQ(r,w6(t),e||Jo.encoder)}};var Y9=new WeakMap,w6=t=>{let e=Y9.get(t);if(e==null){let r=new Map;return Y9.set(t,r),r}return e},et=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==um)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==tQ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return et.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=nl(e,r);return et.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return et.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&V9(e.multihash,i.multihash)}toString(e){return Z9(this,e)}toJSON(){return{"/":Z9(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof et)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:a}=r;return new et(i,n,o,a||J9(i,n,o.bytes))}else if(r[rQ]===!0){let{version:i,multihash:n,code:o}=r,a=Sh(n);return et.create(i,o,a)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==um)throw new Error(`Version 0 CID must use dag-pb (code: ${um}) block encoding`);return new et(e,r,i,i.bytes)}case 1:{let n=J9(e,r,i.bytes);return new et(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return et.create(0,um,e)}static createV1(e,r){return et.create(1,e,r)}static decode(e){let[r,i]=et.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=et.inspectBytes(e),i=r.size-r.multihashSize,n=Os(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),a=new Eh(r.multihashCode,r.digestSize,o,n);return[r.version===0?et.createV0(a):et.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=fm(e.subarray(r));return r+=E,x},n=i(),o=um;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let a=r,d=i(),p=i(),v=r+p,w=v-a;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:w,size:v}}static parse(e,r){let[i,n]=QJ(e,r),o=et.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return w6(o).set(i,e),o}},QJ=(t,e)=>{switch(t[0]){case"Q":{let r=e||Po;return[Po.prefix,r.decode(`${Po.prefix}${t}`)]}case Po.prefix:{let r=e||Po;return[Po.prefix,r.decode(t)]}case Jo.prefix:{let r=e||Jo;return[Jo.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},XJ=(t,e,r)=>{let{prefix:i}=r;if(i!==Po.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},eQ=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},um=112,tQ=18,J9=(t,e,r)=>{let i=Mh(t),n=i+Mh(e),o=new Uint8Array(n+r.byteLength);return xh(t,o,0),xh(e,o,i),o.set(r,n),o},rQ=Symbol.for("@ipld/js-cid/CID");M();var Iee=Lt(fo(),1);M();M();M();function nQ(t){return t[Symbol.asyncIterator]!=null}function oQ(t,e=1){return e=Number(e),nQ(t)?async function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for await(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}():function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}()}var cm=oQ;async function*lm(t,e=1){for await(let r of cm(t,e)){let i=r.map(async n=>n().then(o=>({ok:!0,value:o}),o=>({ok:!1,err:o})));for(let n=0;n<i.length;n++){let o=await i[n];if(o.ok)yield o.value;else throw o.err}}}M();M();M();M();M();function sl(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Mf(t=0){return globalThis.Buffer?.alloc!=null?sl(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function al(t=0){return globalThis.Buffer?.allocUnsafe!=null?sl(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function dm(t,e){e==null&&(e=t.reduce((n,o)=>n+o.length,0));let r=al(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return sl(r)}M();function eP(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var rP=Symbol.for("@achingbrain/uint8arraylist");function tP(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let i of t){let n=r+i.byteLength;if(e<n)return{buf:i,index:e-r};r=n}throw new RangeError("index is out of bounds")}function Fv(t){return Boolean(t?.[rP])}var _a=class{constructor(...e){Object.defineProperty(this,rP,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let i of e)if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.push(i);else if(Fv(i))r+=i.byteLength,this.bufs.push(...i.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let i of e.reverse())if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.unshift(i);else if(Fv(i))r+=i.byteLength,this.bufs.unshift(...i.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=tP(this.bufs,e);return r.buf[r.index]}set(e,r){let i=tP(this.bufs,e);i.buf[i.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let i=0;i<e.length;i++)this.set(r+i,e[i]);else if(Fv(e))for(let i=0;i<e.length;i++)this.set(r+i,e.get(i));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){let{bufs:i,length:n}=this._subList(e,r);return dm(i,n)}subarray(e,r){let{bufs:i,length:n}=this._subList(e,r);return i.length===1?i[0]:dm(i,n)}sublist(e,r){let{bufs:i,length:n}=this._subList(e,r),o=new _a;return o.length=n,o.bufs=i,o}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let i=[],n=0;for(let o=0;o<this.bufs.length;o++){let a=this.bufs[o],d=n,p=d+a.byteLength;if(n=p,e>=p)continue;let v=e>=d&&e<p,w=r>d&&r<=p;if(v&&w){if(e===d&&r===p){i.push(a);break}let x=e-d;i.push(a.subarray(x,x+(r-e)));break}if(v){if(e===0){i.push(a);continue}i.push(a.subarray(e-d));continue}if(w){if(r===p){i.push(a);break}i.push(a.subarray(0,r-d));break}i.push(a)}return{bufs:i,length:r-e}}indexOf(e,r=0){if(!Fv(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let i=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let n=i.byteLength;if(n===0)throw new TypeError("search must be at least 1 byte long");let o=256,a=new Int32Array(o);for(let x=0;x<o;x++)a[x]=-1;for(let x=0;x<n;x++)a[i[x]]=x;let d=a,p=this.byteLength-i.byteLength,v=i.byteLength-1,w;for(let x=r;x<=p;x+=w){w=0;for(let E=v;E>=0;E--){let T=this.get(x+E);if(i[E]!==T){w=Math.max(1,E-d[T]);break}}if(w===0)return x}return-1}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let i=al(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,r),this.write(i,e)}getInt16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,r)}setInt16(e,r,i){let n=Mf(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,r,i),this.write(n,e)}getInt32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,r)}setInt32(e,r,i){let n=Mf(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,r,i),this.write(n,e)}getBigInt64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,r)}setBigInt64(e,r,i){let n=Mf(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,r,i),this.write(n,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let i=al(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,r),this.write(i,e)}getUint16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,r)}setUint16(e,r,i){let n=Mf(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,r,i),this.write(n,e)}getUint32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,r)}setUint32(e,r,i){let n=Mf(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,r,i),this.write(n,e)}getBigUint64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,r)}setBigUint64(e,r,i){let n=Mf(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,r,i),this.write(n,e)}getFloat32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,r)}setFloat32(e,r,i){let n=Mf(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,r,i),this.write(n,e)}getFloat64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,r)}setFloat64(e,r,i){let n=Mf(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,r,i),this.write(n,e)}equals(e){if(e==null||!(e instanceof _a)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!eP(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let i=new _a;return i.bufs=e,r==null&&(r=e.reduce((n,o)=>n+o.byteLength,0)),i.length=r,i}};var sQ=262144,iP=(t={})=>{let e=t.chunkSize??sQ;return async function*(i){let n=new _a,o=0,a=!1;for await(let d of i)for(n.append(d),o+=d.length;o>=e;)if(yield n.slice(0,e),a=!0,e===n.length)n=new _a,o=0;else{let p=new _a;p.append(n.sublist(e)),n=p,o-=e}(!a||o>0)&&(yield n.subarray(0,o))}};M();var fl={};Hi(fl,{code:()=>vm,createLink:()=>TP,createNode:()=>AP,decode:()=>Sf,encode:()=>ko,name:()=>VQ,prepare:()=>Ro,validate:()=>k6});M();M();M();M();var aQ=sP,nP=128,fQ=127,uQ=~fQ,cQ=Math.pow(2,31);function sP(t,e,r){e=e||[],r=r||0;for(var i=r;t>=cQ;)e[r++]=t&255|nP,t/=128;for(;t&uQ;)e[r++]=t&255|nP,t>>>=7;return e[r]=t|0,sP.bytes=r-i+1,e}var lQ=_6,dQ=128,oP=127;function _6(t,i){var r=0,i=i||0,n=0,o=i,a,d=t.length;do{if(o>=d)throw _6.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=n<28?(a&oP)<<n:(a&oP)*Math.pow(2,n),n+=7}while(a>=dQ);return _6.bytes=o-i,r}var hQ=Math.pow(2,7),pQ=Math.pow(2,14),mQ=Math.pow(2,21),yQ=Math.pow(2,28),gQ=Math.pow(2,35),vQ=Math.pow(2,42),bQ=Math.pow(2,49),wQ=Math.pow(2,56),_Q=Math.pow(2,63),xQ=function(t){return t<hQ?1:t<pQ?2:t<mQ?3:t<yQ?4:t<gQ?5:t<vQ?6:t<bQ?7:t<wQ?8:t<_Q?9:10},MQ={encode:aQ,decode:lQ,encodingLength:xQ},EQ=MQ,hm=EQ;var pm=(t,e=0)=>[hm.decode(t,e),hm.decode.bytes],Th=(t,e,r=0)=>(hm.encode(t,e,r),e),Ph=t=>hm.encodingLength(t);M();M();var t4e=new Uint8Array(0);var fP=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Rh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var uP=(t,e)=>{let r=e.byteLength,i=Ph(t),n=i+Ph(r),o=new Uint8Array(n+r);return Th(t,o,0),Th(r,o,i),o.set(e,n),new kh(t,r,e,o)},cP=t=>{let e=Rh(t),[r,i]=pm(e),[n,o]=pm(e.subarray(i)),a=e.subarray(i+o);if(a.byteLength!==n)throw new Error("Incorrect length");return new kh(r,n,a,e)},lP=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&fP(t.bytes,r.bytes)}},kh=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};M();M();M();function AQ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),w=Math.log(256)/Math.log(d);function x(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var k=0,D=0,I=0,C=A.length;I!==C&&A[I]===0;)I++,k++;for(var q=(C-I)*w+1>>>0,U=new Uint8Array(q);I!==C;){for(var $=A[I],W=0,F=q-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%d>>>0,$=$/d>>>0;if($!==0)throw new Error("Non-zero carry");D=W,I++}for(var L=q-D;L!==q&&U[L]===0;)L++;for(var H=p.repeat(k);L<q;++L)H+=t.charAt(U[L]);return H}function E(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var k=0;if(A[k]!==" "){for(var D=0,I=0;A[k]===p;)D++,k++;for(var C=(A.length-k)*v+1>>>0,q=new Uint8Array(C);A[k];){var U=r[A.charCodeAt(k)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<I)&&W!==-1;W--,$++)U+=d*q[W]>>>0,q[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=$,k++}if(A[k]!==" "){for(var F=C-I;F!==C&&q[F]===0;)F++;for(var L=new Uint8Array(D+(C-F)),H=D;F!==C;)L[H++]=q[F++];return L}}}function T(A){var k=E(A);if(k)return k;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var TQ=AQ,PQ=TQ,dP=PQ;M();var x6=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},M6=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hP(this,e)}},E6=class{constructor(e){this.decoders=e}or(e){return hP(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},hP=(t,e)=>new E6({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),S6=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new x6(e,r,i),this.decoder=new M6(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},pP=({name:t,prefix:e,encode:r,decode:i})=>new S6(t,e,r,i),A6=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=dP(r,e);return pP({prefix:t,name:e,encode:i,decode:o=>Rh(n(o))})},RQ=(t,e,r,i)=>{let n={};for(let w=0;w<e.length;++w)n[e[w]]=w;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let w=0;w<o;++w){let x=n[t[w]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,a[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return a},kQ=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",a=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],a+=8;a>r;)a-=r,o+=e[n&d>>a];if(a&&(o+=e[n&d<<r-a]),i)for(;o.length*r&7;)o+="=";return o},xa=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>pP({prefix:e,name:t,encode(n){return kQ(n,i,r)},decode(n){return RQ(n,i,r,t)}});var Ef=A6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),m4e=A6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});M();var mm=xa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),b4e=xa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),w4e=xa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_4e=xa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),x4e=xa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),M4e=xa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),E4e=xa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),S4e=xa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),A4e=xa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var mP=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return DQ(r,T6(t),e||Ef.encoder);default:return BQ(r,T6(t),e||mm.encoder)}};var yP=new WeakMap,T6=t=>{let e=yP.get(t);if(e==null){let r=new Map;return yP.set(t,r),r}return e},qr=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==ym)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==OQ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return qr.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=uP(e,r);return qr.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return qr.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&lP(e.multihash,i.multihash)}toString(e){return mP(this,e)}toJSON(){return{"/":mP(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof qr)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:a}=r;return new qr(i,n,o,a||gP(i,n,o.bytes))}else if(r[CQ]===!0){let{version:i,multihash:n,code:o}=r,a=cP(n);return qr.create(i,o,a)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==ym)throw new Error(`Version 0 CID must use dag-pb (code: ${ym}) block encoding`);return new qr(e,r,i,i.bytes)}case 1:{let n=gP(e,r,i.bytes);return new qr(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return qr.create(0,ym,e)}static createV1(e,r){return qr.create(1,e,r)}static decode(e){let[r,i]=qr.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=qr.inspectBytes(e),i=r.size-r.multihashSize,n=Rh(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),a=new kh(r.multihashCode,r.digestSize,o,n);return[r.version===0?qr.createV0(a):qr.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=pm(e.subarray(r));return r+=E,x},n=i(),o=ym;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let a=r,d=i(),p=i(),v=r+p,w=v-a;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:w,size:v}}static parse(e,r){let[i,n]=IQ(e,r),o=qr.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return T6(o).set(i,e),o}},IQ=(t,e)=>{switch(t[0]){case"Q":{let r=e||Ef;return[Ef.prefix,r.decode(`${Ef.prefix}${t}`)]}case Ef.prefix:{let r=e||Ef;return[Ef.prefix,r.decode(t)]}case mm.prefix:{let r=e||mm;return[mm.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},DQ=(t,e,r)=>{let{prefix:i}=r;if(i!==Ef.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},BQ=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},ym=112,OQ=18,gP=(t,e,r)=>{let i=Ph(t),n=i+Ph(e),o=new Uint8Array(n+r.byteLength);return Th(t,o,0),Th(e,o,i),o.set(r,n),o},CQ=Symbol.for("@ipld/js-cid/CID");M();var qQ=new TextDecoder;function P6(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function $v(t,e){let r;[r,e]=P6(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function vP(t,e){let r;return[r,e]=P6(t,e),[r&7,r>>3,e]}function NQ(t){let e={},r=t.length,i=0;for(;i<r;){let n,o;if([n,o,i]=vP(t,i),o===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=$v(t,i)}else if(o===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,i]=$v(t,i),e.Name=qQ.decode(a)}else if(o===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=P6(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function bP(t){let e=t.length,r=0,i,n=!1,o;for(;r<e;){let d,p;if([d,p,r]=vP(t,r),d!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${d}`);if(p===1){if(o)throw new Error("protobuf: (PBNode) duplicate Data section");[o,r]=$v(t,r),i&&(n=!0)}else if(p===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let v;[v,r]=$v(t,r),i.push(NQ(v))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${p}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let a={};return o&&(a.Data=o),a.Links=i||[],a}M();var _P=new TextEncoder,wP=2**32,jQ=2**31;function LQ(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=gm(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){let i=_P.encode(t.Name);r-=i.length,e.set(i,r),r=gm(e,r,i.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=gm(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function xP(t){let e=zQ(t),r=new Uint8Array(e),i=e;if(t.Data&&(i-=t.Data.length,r.set(t.Data,i),i=gm(r,i,t.Data.length)-1,r[i]=10),t.Links)for(let n=t.Links.length-1;n>=0;n--){let o=LQ(t.Links[n],r.subarray(0,i));i-=o,i=gm(r,i,o)-1,r[i]=18}return r}function UQ(t){let e=0;if(t.Hash){let r=t.Hash.length;e+=1+r+Ih(r)}if(typeof t.Name=="string"){let r=_P.encode(t.Name).length;e+=1+r+Ih(r)}return typeof t.Tsize=="number"&&(e+=1+Ih(t.Tsize)),e}function zQ(t){let e=0;if(t.Data){let r=t.Data.length;e+=1+r+Ih(r)}if(t.Links)for(let r of t.Links){let i=UQ(r);e+=1+i+Ih(i)}return e}function gm(t,e,r){e-=Ih(r);let i=e;for(;r>=jQ;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,i}function Ih(t){return t%2===0&&t++,Math.floor((FQ(t)+6)/7)}function FQ(t){let e=0;return t>=wP&&(t=Math.floor(t/wP),e=32),t>=1<<16&&(t>>>=16,e+=16),t>=1<<8&&(t>>>=8,e+=8),e+$Q[t]}var $Q=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];M();var WQ=["Data","Links"],GQ=["Hash","Name","Tsize"],R6=new TextEncoder;function EP(t,e){if(t===e)return 0;let r=t.Name?R6.encode(t.Name):[],i=e.Name?R6.encode(e.Name):[],n=r.length,o=i.length;for(let a=0,d=Math.min(n,o);a<d;++a)if(r[a]!==i[a]){n=r[a],o=i[a];break}return n<o?-1:o<n?1:0}function MP(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function SP(t){if(typeof t.asCID=="object"){let r=qr.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Hash){let r=qr.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=qr.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=qr.decode(t.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function Ro(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=R6.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(SP),e.Links.sort(EP);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function k6(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!MP(t,WQ))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){let r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!MP(r,GQ))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&EP(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function AP(t,e=[]){return Ro({Data:t,Links:e})}function TP(t,e,r){return SP({Hash:r,Name:t,Tsize:e})}var VQ="dag-pb",vm=112;function ko(t){k6(t);let e={};return t.Links&&(e.Links=t.Links.map(r=>{let i={};return r.Hash&&(i.Hash=r.Hash.bytes),r.Name!==void 0&&(i.Name=r.Name),r.Tsize!==void 0&&(i.Tsize=r.Tsize),i})),t.Data&&(e.Data=t.Data),xP(e)}function Sf(t){let e=bP(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=qr.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}M();var H6=Lt(fo(),1);M();M();M();M();var $6=Lt(C6(),1),pR=Lt(sR(),1),mR=Lt(cl(),1),W6=Lt(F6(),1),yR=Lt(hR(),1);function tX(){mR.default._configure(),$6.default._configure(pR.default),W6.default._configure(yR.default)}tX();var gR=["uint64","int64","sint64","fixed64","sfixed64"];function rX(t){for(let e of gR){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function G6(t){return rX(new $6.default(t))}function iX(t){for(let e of gR){if(t[e]==null)continue;let r=t[e];t[e]=function(i){return r.call(this,i.toString())}}return t}function V6(){return iX(W6.default.create())}function _m(t,e){let r=G6(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}M();function xm(t,e){let r=V6();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}M();M();var Bh;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(Bh||(Bh={}));function Hv(t,e,r,i){return{name:t,type:e,encode:r,decode:i}}function K6(t){function e(n){if(t[n.toString()]==null)throw new Error("Invalid enum value");return t[n]}let r=function(o,a){let d=e(o);a.int32(d)},i=function(o){let a=o.int32();return e(a)};return Hv("enum",Bh.VARINT,r,i)}M();function Mm(t,e){return Hv("message",Bh.LENGTH_DELIMITED,t,e)}var Ns;(function(t){let e;(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(e=t.DataType||(t.DataType={}));let r;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(r||(r={})),function(n){n.codec=()=>K6(r)}(e=t.DataType||(t.DataType={}));let i;t.codec=()=>(i==null&&(i=Mm((n,o,a={})=>{if(a.lengthDelimited!==!1&&o.fork(),n.Type!=null&&(o.uint32(8),t.DataType.codec().encode(n.Type,o)),n.Data!=null&&(o.uint32(18),o.bytes(n.Data)),n.filesize!=null&&(o.uint32(24),o.uint64(n.filesize)),n.blocksizes!=null)for(let d of n.blocksizes)o.uint32(32),o.uint64(d);n.hashType!=null&&(o.uint32(40),o.uint64(n.hashType)),n.fanout!=null&&(o.uint32(48),o.uint64(n.fanout)),n.mode!=null&&(o.uint32(56),o.uint32(n.mode)),n.mtime!=null&&(o.uint32(66),Zv.codec().encode(n.mtime,o)),a.lengthDelimited!==!1&&o.ldelim()},(n,o)=>{let a={blocksizes:[]},d=o==null?n.len:n.pos+o;for(;n.pos<d;){let p=n.uint32();switch(p>>>3){case 1:a.Type=t.DataType.codec().decode(n);break;case 2:a.Data=n.bytes();break;case 3:a.filesize=n.uint64();break;case 4:a.blocksizes.push(n.uint64());break;case 5:a.hashType=n.uint64();break;case 6:a.fanout=n.uint64();break;case 7:a.mode=n.uint32();break;case 8:a.mtime=Zv.codec().decode(n,n.uint32());break;default:n.skipType(p&7);break}}return a})),i),t.encode=n=>xm(n,t.codec()),t.decode=n=>_m(n,t.codec())})(Ns||(Ns={}));var Zv;(function(t){let e;t.codec=()=>(e==null&&(e=Mm((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.Seconds!=null&&(i.uint32(8),i.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(i.uint32(21),i.fixed32(r.FractionalNanoseconds)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:n.Seconds=r.int64();break;case 2:n.FractionalNanoseconds=r.fixed32();break;default:r.skipType(a&7);break}}return n})),e),t.encode=r=>xm(r,t.codec()),t.decode=r=>_m(r,t.codec())})(Zv||(Zv={}));var vR;(function(t){let e;t.codec=()=>(e==null&&(e=Mm((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.MimeType!=null&&(i.uint32(10),i.string(r.MimeType)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:n.MimeType=r.string();break;default:r.skipType(a&7);break}}return n})),e),t.encode=r=>xm(r,t.codec()),t.decode=r=>_m(r,t.codec())})(vR||(vR={}));var bR={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},nX=["directory","hamt-sharded-directory"],wR=parseInt("0644",8),_R=parseInt("0755",8),ki=class{static unmarshal(e){let r=Ns.decode(e),i=new ki({type:bR[r.Type!=null?r.Type.toString():"File"],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime!=null?{secs:r.mtime.Seconds??0n,nsecs:r.mtime.FractionalNanoseconds}:void 0});return i._originalMode=r.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){let{type:r,data:i,blockSizes:n,hashType:o,fanout:a,mtime:d,mode:p}=e;if(r!=null&&!Object.values(bR).includes(r))throw(0,H6.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r??"file",this.data=i,this.hashType=o,this.fanout=a,this.blockSizes=n??[],this._originalMode=0,this.mode=p,this.mtime=d}set mode(e){e==null?this._mode=this.isDirectory()?_R:wR:this._mode=e&4095}get mode(){return this._mode}isDirectory(){return nX.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach(r=>{e+=r}),this.data!=null&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=Ns.DataType.Raw;break;case"directory":e=Ns.DataType.Directory;break;case"file":e=Ns.DataType.File;break;case"metadata":e=Ns.DataType.Metadata;break;case"symlink":e=Ns.DataType.Symlink;break;case"hamt-sharded-directory":e=Ns.DataType.HAMTShard;break;default:throw(0,H6.default)(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let r=this.data;(this.data==null||this.data.length===0)&&(r=void 0);let i;this.mode!=null&&(i=this._originalMode&4294963200|(this.mode??0),i===wR&&!this.isDirectory()&&(i=void 0),i===_R&&this.isDirectory()&&(i=void 0));let n;return this.mtime!=null&&(n={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Ns.encode({Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:n})}};var ku={};Hi(ku,{code:()=>Sa,decode:()=>aX,encode:()=>sX,name:()=>oX});M();var oX="raw",Sa=85,sX=t=>Os(t),aX=t=>Os(t);M();var Xr=class extends Event{constructor(e,r){super(e),this.detail=r}};M();var J6={};Hi(J6,{sha256:()=>Hn,sha512:()=>fX});M();M();var Y6=({name:t,code:e,encode:r})=>new Z6(t,e,r),Z6=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?nl(this.code,r):r.then(i=>nl(this.code,i))}else throw Error("Unknown type, must be binary type")}};var MR=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Hn=Y6({name:"sha2-256",code:18,encode:MR("SHA-256")}),fX=Y6({name:"sha2-512",code:19,encode:MR("SHA-512")});var js=async(t,e,r)=>{r.codec==null&&(r.codec=fl);let i=await Hn.digest(t),n=et.create(r.cidVersion,r.codec.code,i);return await e.put(n,t,r),n};function ER(t){return async function*(r,i){let n=0n;for await(let o of r.content)yield async()=>{let a,d={codec:fl,cidVersion:t.cidVersion,onProgress:t.onProgress};t.rawLeaves?(d.codec=ku,d.cidVersion=1):(a=new ki({type:t.leafType,data:o}),o=ko({Data:a.marshal(),Links:[]}));let p=await js(o,i,d);return n+=BigInt(o.byteLength),t.onProgress?.(new Xr("unixfs:importer:progress:file:write",{bytesWritten:n,cid:p,path:r.path})),{cid:p,unixfs:a,size:BigInt(o.length),block:o}}}}M();var Q6=Lt(fo(),1);M();var SR=async(t,e,r)=>{let i=new ki({type:"directory",mtime:t.mtime,mode:t.mode}),n=ko(Ro({Data:i.marshal()})),o=await js(n,e,r),a=t.path;return{cid:o,path:a,unixfs:i,size:BigInt(n.length),originalPath:t.originalPath,block:n}};M();async function*uX(t,e,r){let i=-1,n;for await(let o of lm(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(i++,i===0){n={...o,single:!0};continue}else i===1&&n!=null&&(yield{...n,block:void 0,single:void 0},n=void 0);yield{...o,block:void 0}}n!=null&&(yield n)}function AR(t){return t.single===!0}var cX=(t,e,r)=>async function(n){if(n.length===1&&AR(n[0])&&r.reduceSingleLeafToSelf){let w=n[0],x=w.block;return AR(w)&&(t.mtime!==void 0||t.mode!==void 0)&&(w.unixfs=new ki({type:"file",mtime:t.mtime,mode:t.mode,data:w.block}),x={Data:w.unixfs.marshal(),Links:[]},w.block=ko(Ro(x)),w.cid=await js(w.block,e,{...r,cidVersion:r.cidVersion}),w.size=BigInt(w.block.length)),r.onProgress?.(new Xr("unixfs:importer:progress:file:layout",{cid:w.cid,path:w.originalPath})),{cid:w.cid,path:t.path,unixfs:w.unixfs,size:w.size,originalPath:w.originalPath}}let o=new ki({type:"file",mtime:t.mtime,mode:t.mode}),a=n.filter(w=>w.cid.code===Sa&&w.size>0||w.unixfs!=null&&w.unixfs.data==null&&w.unixfs.fileSize()>0n?!0:Boolean(w.unixfs?.data?.length)).map(w=>w.cid.code===Sa?(o.addBlockSize(w.size),{Name:"",Tsize:Number(w.size),Hash:w.cid}):(w.unixfs==null||w.unixfs.data==null?o.addBlockSize(w.unixfs?.fileSize()??0n):o.addBlockSize(BigInt(w.unixfs.data.length)),{Name:"",Tsize:Number(w.size),Hash:w.cid})),d={Data:o.marshal(),Links:a},p=ko(Ro(d)),v=await js(p,e,r);return r.onProgress?.(new Xr("unixfs:importer:progress:file:layout",{cid:v,path:t.originalPath})),{cid:v,path:t.path,unixfs:o,size:BigInt(p.length+d.Links.reduce((w,x)=>w+(x.Tsize??0),0)),originalPath:t.originalPath,block:p}},TR=async(t,e,r)=>r.layout(uX(t,e,r),cX(t,e,r));function lX(t){return Symbol.iterator in t}function dX(t){return Symbol.asyncIterator in t}function hX(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(lX(t))return async function*(){yield*t}();if(dX(t))return t}catch{throw(0,Q6.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,Q6.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function PR(t){return async function*(r,i){for await(let n of r){let o;if(n.path!=null&&(o=n.path,n.path=n.path.split("/").filter(a=>a!=null&&a!==".").join("/")),pX(n)){let a={path:n.path,mtime:n.mtime,mode:n.mode,content:async function*(){let d=0n;for await(let p of t.chunker(t.chunkValidator(hX(n.content)))){let v=BigInt(p.byteLength);d+=v,t.onProgress?.(new Xr("unixfs:importer:progress:file:read",{bytesRead:d,chunkSize:v,path:n.path})),yield p}}(),originalPath:o};yield async()=>TR(a,i,t)}else if(n.path!=null){let a={path:n.path,mtime:n.mtime,mode:n.mode,originalPath:o};yield async()=>SR(a,i,t)}else throw new Error("Import candidate must have content or path or both")}}}function pX(t){return t.content!=null}M();var lx=Lt(fo(),1);M();M();M();var X6={};Hi(X6,{identity:()=>mX});M();var mX=Ah({prefix:"\0",name:"identity",encode:t=>G9(t),decode:t=>W9(t)});var ex={};Hi(ex,{base2:()=>yX});M();var yX=Qr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var tx={};Hi(tx,{base8:()=>gX});M();var gX=Qr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var rx={};Hi(rx,{base10:()=>vX});M();var vX=Tu({prefix:"9",name:"base10",alphabet:"0123456789"});var ix={};Hi(ix,{base16:()=>bX,base16upper:()=>wX});M();var bX=Qr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wX=Qr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nx={};Hi(nx,{base36:()=>_X,base36upper:()=>xX});M();var _X=Tu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),xX=Tu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ox={};Hi(ox,{base64:()=>MX,base64pad:()=>EX,base64url:()=>Oh,base64urlpad:()=>SX});M();var MX=Qr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),EX=Qr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Oh=Qr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),SX=Qr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var sx={};Hi(sx,{base256emoji:()=>kX});M();var RR=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),AX=RR.reduce((t,e,r)=>(t[r]=e,t),[]),TX=RR.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function PX(t){return t.reduce((e,r)=>(e+=AX[r],e),"")}function RX(t){let e=[];for(let r of t){let i=TX[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var kX=Ah({prefix:"\u{1F680}",name:"base256emoji",encode:PX,decode:RX});var fx={};Hi(fx,{identity:()=>ax});M();var kR=0,IX="identity",IR=Os,DX=t=>nl(kR,IR(t)),ax={code:kR,name:IX,encode:IR,digest:DX};M();var KEe=new TextEncoder,HEe=new TextDecoder;M();M();var ux={...X6,...ex,...tx,...rx,...ix,...b6,...nx,...v6,...ox,...sx},rSe={...J6,...fx};function BR(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var DR=BR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),cx=BR("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=al(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),OX={utf8:DR,"utf-8":DR,hex:ux.base16,latin1:cx,ascii:cx,binary:cx,...ux},OR=OX;function Yv(t,e="utf8"){let r=OR[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?sl(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var CR=()=>async function*(e){for await(let r of e){if(r.length===void 0)throw(0,lx.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof r=="string"||r instanceof String)yield Yv(r.toString());else if(Array.isArray(r))yield Uint8Array.from(r);else if(r instanceof Uint8Array)yield r;else throw(0,lx.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}};M();M();var CX=174;function dx(t){let e=t?.maxChildrenPerNode??CX;return async function r(i,n){let o=[];for await(let a of cm(i,e))o.push(await n(a));return o.length>1?r(o,n):o[0]}}M();M();M();M();M();M();var Aa=class{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,r){this.options=r??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}},Em=et.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),Sm=et.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");var dl=class extends Aa{_children;constructor(e,r){super(e,r),this._children=new Map}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,r)}async get(e){return Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[e,r]of this._children.entries())yield{key:e,child:r}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(let[e,r]of this._children.entries())r.size!=null&&r.cid!=null&&(this.nodeSize+=e.length+(this.options.cidVersion===1?Sm.bytes.byteLength:Em.bytes.byteLength));return this.nodeSize}async*flush(e){let r=[];for(let[p,v]of this._children.entries()){let w=v;if(v instanceof Aa)for await(let x of v.flush(e))w=x,yield x;w.size!=null&&w.cid!=null&&r.push({Name:p,Tsize:Number(w.size),Hash:w.cid})}let i=new ki({type:"directory",mtime:this.mtime,mode:this.mode}),n={Data:i.marshal(),Links:r},o=ko(Ro(n)),a=await js(o,e,this.options),d=o.length+n.Links.reduce((p,v)=>p+(v.Tsize==null?0:v.Tsize),0);this.cid=a,this.size=d,yield{cid:a,unixfs:i,path:this.path,size:BigInt(d)}}};M();M();M();M();M();M();M();var qX=jR,qR=128,NX=127,jX=~NX,LX=Math.pow(2,31);function jR(t,e,r){e=e||[],r=r||0;for(var i=r;t>=LX;)e[r++]=t&255|qR,t/=128;for(;t&jX;)e[r++]=t&255|qR,t>>>=7;return e[r]=t|0,jR.bytes=r-i+1,e}var UX=hx,zX=128,NR=127;function hx(t,i){var r=0,i=i||0,n=0,o=i,a,d=t.length;do{if(o>=d)throw hx.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=n<28?(a&NR)<<n:(a&NR)*Math.pow(2,n),n+=7}while(a>=zX);return hx.bytes=o-i,r}var FX=Math.pow(2,7),$X=Math.pow(2,14),WX=Math.pow(2,21),GX=Math.pow(2,28),VX=Math.pow(2,35),KX=Math.pow(2,42),HX=Math.pow(2,49),ZX=Math.pow(2,56),YX=Math.pow(2,63),JX=function(t){return t<FX?1:t<$X?2:t<WX?3:t<GX?4:t<VX?5:t<KX?6:t<HX?7:t<ZX?8:t<YX?9:10},QX={encode:qX,decode:UX,encodingLength:JX},XX=QX,Am=XX;var Tm=(t,e=0)=>[Am.decode(t,e),Am.decode.bytes],Ch=(t,e,r=0)=>(Am.encode(t,e,r),e),qh=t=>Am.encodingLength(t);M();var Pm={};Hi(Pm,{coerce:()=>hl,empty:()=>LR,equals:()=>mx,fromHex:()=>tee,fromString:()=>iee,isBinary:()=>ree,toHex:()=>eee,toString:()=>nee});M();var LR=new Uint8Array(0),eee=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),tee=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):LR},mx=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},hl=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ree=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),iee=t=>new TextEncoder().encode(t),nee=t=>new TextDecoder().decode(t);var Rm=(t,e)=>{let r=e.byteLength,i=qh(t),n=i+qh(r),o=new Uint8Array(n+r);return Ch(t,o,0),Ch(r,o,i),o.set(e,n),new Nh(t,r,e,o)},UR=t=>{let e=hl(t),[r,i]=Tm(e),[n,o]=Tm(e.subarray(i)),a=e.subarray(i+o);if(a.byteLength!==n)throw new Error("Incorrect length");return new Nh(r,n,a,e)},zR=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&mx(t.bytes,r.bytes)}},Nh=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};M();M();M();function oee(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),w=Math.log(256)/Math.log(d);function x(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var k=0,D=0,I=0,C=A.length;I!==C&&A[I]===0;)I++,k++;for(var q=(C-I)*w+1>>>0,U=new Uint8Array(q);I!==C;){for(var $=A[I],W=0,F=q-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%d>>>0,$=$/d>>>0;if($!==0)throw new Error("Non-zero carry");D=W,I++}for(var L=q-D;L!==q&&U[L]===0;)L++;for(var H=p.repeat(k);L<q;++L)H+=t.charAt(U[L]);return H}function E(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var k=0;if(A[k]!==" "){for(var D=0,I=0;A[k]===p;)D++,k++;for(var C=(A.length-k)*v+1>>>0,q=new Uint8Array(C);A[k];){var U=r[A.charCodeAt(k)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<I)&&W!==-1;W--,$++)U+=d*q[W]>>>0,q[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=$,k++}if(A[k]!==" "){for(var F=C-I;F!==C&&q[F]===0;)F++;for(var L=new Uint8Array(D+(C-F)),H=D;F!==C;)L[H++]=q[F++];return L}}}function T(A){var k=E(A);if(k)return k;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var see=oee,aee=see,FR=aee;M();var gx=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},vx=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return $R(this,e)}},bx=class{constructor(e){this.decoders=e}or(e){return $R(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},$R=(t,e)=>new bx({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),wx=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new gx(e,r,i),this.decoder=new vx(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},WR=({name:t,prefix:e,encode:r,decode:i})=>new wx(t,e,r,i),_x=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=FR(r,e);return WR({prefix:t,name:e,encode:i,decode:o=>hl(n(o))})},fee=(t,e,r,i)=>{let n={};for(let w=0;w<e.length;++w)n[e[w]]=w;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let w=0;w<o;++w){let x=n[t[w]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,a[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return a},uee=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",a=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],a+=8;a>r;)a-=r,o+=e[n&d>>a];if(a&&(o+=e[n&d<<r-a]),i)for(;o.length*r&7;)o+="=";return o},Ta=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>WR({prefix:e,name:t,encode(n){return uee(n,i,r)},decode(n){return fee(n,i,r,t)}});var Af=_x({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s5e=_x({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});M();var km=Ta({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),c5e=Ta({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),l5e=Ta({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),d5e=Ta({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),h5e=Ta({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),p5e=Ta({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),m5e=Ta({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),y5e=Ta({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),g5e=Ta({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var GR=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return lee(r,xx(t),e||Af.encoder);default:return dee(r,xx(t),e||km.encoder)}};var VR=new WeakMap,xx=t=>{let e=VR.get(t);if(e==null){let r=new Map;return VR.set(t,r),r}return e},Ni=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Im)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==hee)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ni.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Rm(e,r);return Ni.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Ni.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&zR(e.multihash,i.multihash)}toString(e){return GR(this,e)}toJSON(){return{"/":GR(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof Ni)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:a}=r;return new Ni(i,n,o,a||KR(i,n,o.bytes))}else if(r[pee]===!0){let{version:i,multihash:n,code:o}=r,a=UR(n);return Ni.create(i,o,a)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Im)throw new Error(`Version 0 CID must use dag-pb (code: ${Im}) block encoding`);return new Ni(e,r,i,i.bytes)}case 1:{let n=KR(e,r,i.bytes);return new Ni(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Ni.create(0,Im,e)}static createV1(e,r){return Ni.create(1,e,r)}static decode(e){let[r,i]=Ni.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Ni.inspectBytes(e),i=r.size-r.multihashSize,n=hl(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),a=new Nh(r.multihashCode,r.digestSize,o,n);return[r.version===0?Ni.createV0(a):Ni.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=Tm(e.subarray(r));return r+=E,x},n=i(),o=Im;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let a=r,d=i(),p=i(),v=r+p,w=v-a;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:w,size:v}}static parse(e,r){let[i,n]=cee(e,r),o=Ni.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return xx(o).set(i,e),o}},cee=(t,e)=>{switch(t[0]){case"Q":{let r=e||Af;return[Af.prefix,r.decode(`${Af.prefix}${t}`)]}case Af.prefix:{let r=e||Af;return[Af.prefix,r.decode(t)]}case km.prefix:{let r=e||km;return[km.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},lee=(t,e,r)=>{let{prefix:i}=r;if(i!==Af.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},dee=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},Im=112,hee=18,KR=(t,e,r)=>{let i=qh(t),n=i+qh(e),o=new Uint8Array(n+r.byteLength);return Ch(t,o,0),Ch(e,o,i),o.set(r,n),o},pee=Symbol.for("@ipld/js-cid/CID");M();var Jv=({name:t,code:e,encode:r})=>new Mx(t,e,r),Mx=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Rm(this.code,r):r.then(i=>Rm(this.code,i))}else throw Error("Unknown type, must be binary type")}};M();var Xv=Lt(YR(),1);function yee(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var L5e=Jv({name:"murmur3-32",code:35,encode:t=>yee(Xv.default.x86.hash32(t))}),e1=Jv({name:"murmur3-128",code:34,encode:t=>Pm.fromHex(Xv.default.x64.hash128(t))}),U5e=Jv({name:"murmur3-x64-64",code:34,encode:t=>Pm.fromHex(Xv.default.x64.hash128(t)).subarray(0,8)});M();M();var ek=Lt(XR(),1);var Qi=class{constructor(e,r,i=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=i,this._children=new ek.default,this.key=null}async put(e,r){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,r)}async get(e){let r=await this._findChild(e);if(r!=null)return r.value}async del(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);i!=null&&i.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,i)=>i instanceof Qi?r+i.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let r of e)r instanceof Qi?yield*r.eachLeafSeries():yield r}serialize(e,r){let i=[];return r(this._children.reduce((n,o,a)=>(o!=null&&(o instanceof Qi?n.push(o.serialize(e,r)):n.push(e(o,a))),n),i))}async asyncTransform(e,r){return await tk(this,e,r)}toJSON(){return this.serialize(_ee,xee)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);if(!(i instanceof Qi)&&i!=null&&i.key===e)return i}async _findPlace(e){let r=this._options.hash(typeof e=="string"?Yv(e):e),i=await r.take(this._options.bits),n=this._children.get(i);return n instanceof Qi?await n._findPlace(r):{bucket:this,pos:i,hash:r,existingChild:n}}async _findNewBucketAndPos(e){let r=await this._findPlace(e);if(r.existingChild!=null&&r.existingChild.key!==e){let i=new Qi(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,i);let n=await i._findPlace(r.existingChild.hash);return n.bucket._putAt(n,r.existingChild.key,r.existingChild.value),await i._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,i){this._putObjectAt(e.pos,{key:r,value:i,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)==null&&this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)!=null&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(wee);if(e!=null&&!(e instanceof Qi)){let r=e.hash;r.untake(this._options.bits);let i={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function wee(t){return Boolean(t)}function _ee(t,e){return t.key}function xee(t){return t}async function tk(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof Qi)await tk(n,e,r);else{let o=await e(n);i.push({bitField:t._children.bitField(),children:o})}return await r(i)}M();M();var Mee=[255,254,252,248,240,224,192,128],Eee=[1,3,7,15,31,63,127,255],t1=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,i=0;for(;r>0&&this._haveBits();){let n=this._value[this._currentBytePos],o=this._currentBitPos+1,a=Math.min(o,r),d=See(n,o-a,a);i=(i<<a)+d,r-=a,this._currentBitPos-=a,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function See(t,e,r){let i=Aee(e,r);return(t&i)>>>e}function Aee(t,e){return Mee[t]&Eee[Math.min(e+t-1,7)]}function rk(t){function e(r){return r instanceof r1?r:new r1(r,t)}return e}var r1=class{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let i=0;for(;r>0;){let n=this._buffers[this._currentBufferIndex],o=Math.min(n.availableBits(),r),a=n.take(o);i=(i<<o)+a,r-=o,this._availableBits-=o,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let r=e;for(;r>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),r);i.untake(n),r-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth>0?dm([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),i=new t1(r);this._buffers.push(i),this._availableBits+=i.availableBits()}};function i1(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");let e={bits:t.bits??8,hash:rk(t.hashFn)};return new Qi(e)}async function Tee(t){return(await e1.encode(t)).slice(0,8).reverse()}var ik=BigInt(34),Ex=class extends Aa{_bucket;constructor(e,r){super(e,r),this._bucket=i1({hashFn:Tee,bits:8})}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,r)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=sk(this._bucket,this,this.options),this.nodeSize)}async*flush(e){for await(let r of ok(this._bucket,e,this,this.options))yield{...r,path:this.path}}},nk=Ex;async function*ok(t,e,r,i){let n=t._children,o=[],a=0n;for(let T=0;T<n.length;T++){let A=n.get(T);if(A==null)continue;let k=T.toString(16).toUpperCase().padStart(2,"0");if(A instanceof Qi){let D;for await(let I of ok(A,e,null,i))D=I;if(D==null)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:k,Tsize:Number(D.size),Hash:D.cid}),a+=D.size}else if(Pee(A.value)){let D=A.value,I;for await(let q of D.flush(e))I=q,yield I;if(I==null)throw new Error("Did not flush dir");let C=k+A.key;o.push({Name:C,Tsize:Number(I.size),Hash:I.cid}),a+=I.size}else{let D=A.value;if(D.cid==null)continue;let I=k+A.key,C=D.size;o.push({Name:I,Tsize:Number(C),Hash:D.cid}),a+=BigInt(C??0)}}let d=Uint8Array.from(n.bitField().reverse()),p=new ki({type:"hamt-sharded-directory",data:d,fanout:BigInt(t.tableSize()),hashType:ik,mtime:r?.mtime,mode:r?.mode}),v={Data:p.marshal(),Links:o},w=ko(Ro(v)),x=await js(w,e,i),E=BigInt(w.byteLength)+a;yield{cid:x,unixfs:p,size:E}}function Pee(t){return typeof t.flush=="function"}function sk(t,e,r){let i=t._children,n=[];for(let p=0;p<i.length;p++){let v=i.get(p);if(v==null)continue;let w=p.toString(16).toUpperCase().padStart(2,"0");if(v instanceof Qi){let x=sk(v,null,r);n.push({Name:w,Tsize:Number(x),Hash:r.cidVersion===0?Em:Sm})}else if(typeof v.value.flush=="function"){let E=v.value.nodeSize();n.push({Name:w+v.key,Tsize:Number(E),Hash:r.cidVersion===0?Em:Sm})}else{let x=v.value;if(x.cid==null)continue;let E=w+v.key,T=x.size;n.push({Name:E,Tsize:Number(T),Hash:x.cid})}}let o=Uint8Array.from(i.bitField().reverse()),a=new ki({type:"hamt-sharded-directory",data:o,fanout:BigInt(t.tableSize()),hashType:ik,mtime:e?.mtime,mode:e?.mode});return ko(Ro({Data:a.marshal(),Links:n})).length}async function Sx(t,e,r,i){let n=e;e instanceof dl&&e.estimateNodeSize()>r&&(n=await Ree(e,i));let o=n.parent;if(o!=null){if(n!==e){if(t!=null&&(t.parent=n),n.parentKey==null)throw new Error("No parent key found");await o.put(n.parentKey,n)}return Sx(n,o,r,i)}return n}async function Ree(t,e){let r=new nk({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(let{key:i,child:n}of t.eachChildSeries())await r.put(i,n);return r}M();var ak=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function kee(t,e,r){let i=ak(t.path??""),n=i.length-1,o=e,a="";for(let d=0;d<i.length;d++){let p=i[d];a+=`${a!==""?"/":""}${p}`;let v=d===n;if(o.dirty=!0,o.cid=void 0,o.size=void 0,v)await o.put(p,t),e=await Sx(null,o,r.shardSplitThresholdBytes,r);else{let w=await o.get(p);(w==null||!(w instanceof Aa))&&(w=new dl({root:!1,dir:!0,parent:o,parentKey:p,path:a,dirty:!0,flat:!0,mtime:w?.unixfs?.mtime,mode:w?.unixfs?.mode},r)),await o.put(p,w),o=w}}return e}async function*fk(t,e){if(!(t instanceof Aa)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function uk(t){return async function*(r,i){let n=new dl({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),o,a=!1;for await(let d of r){if(d==null)continue;let p=`${d.originalPath??""}`.split("/")[0];p!=null&&p!==""&&(o==null?(o=p,a=!0):o!==p&&(a=!1)),n=await kee(d,n,t),(d.unixfs==null||!d.unixfs.isDirectory())&&(yield d)}if(t.wrapWithDirectory||a&&n.childCount()>1)yield*fk(n,i);else for await(let d of n.eachChildSeries())d!=null&&(yield*fk(d.child,i))}}async function*Bm(t,e,r={}){let i;Symbol.asyncIterator in t||Symbol.iterator in t?i=t:i=[t];let n=r.wrapWithDirectory??!1,o=r.shardSplitThresholdBytes??262144,a=r.cidVersion??1,d=r.rawLeaves??!0,p=r.leafType??"file",v=r.fileImportConcurrency??50,w=r.blockWriteConcurrency??10,x=r.reduceSingleLeafToSelf??!0,E=r.chunker??iP(),T=r.chunkValidator??CR(),A=r.dagBuilder??PR({chunker:E,chunkValidator:T,wrapWithDirectory:n,layout:r.layout??dx(),bufferImporter:r.bufferImporter??ER({cidVersion:a,rawLeaves:d,leafType:p,onProgress:r.onProgress}),blockWriteConcurrency:w,reduceSingleLeafToSelf:x,cidVersion:a,onProgress:r.onProgress}),k=r.treeBuilder??uk({wrapWithDirectory:n,shardSplitThresholdBytes:o,cidVersion:a,onProgress:r.onProgress});for await(let D of k(lm(A(i,e),v),e))yield{cid:D.cid,path:D.path,unixfs:D.unixfs,size:D.size}}M();var n1={};Hi(n1,{abortedError:()=>jee,closeFailedError:()=>Bee,deleteFailedError:()=>qee,getFailedError:()=>Cee,hasFailedError:()=>Nee,notFoundError:()=>Ax,openFailedError:()=>Dee,putFailedError:()=>Oee});M();var Tf=Lt(fo(),1);function Dee(t){return t=t??new Error("Open failed"),(0,Tf.default)(t,"ERR_OPEN_FAILED")}function Bee(t){return t=t??new Error("Close failed"),(0,Tf.default)(t,"ERR_CLOSE_FAILED")}function Oee(t){return t=t??new Error("Put failed"),(0,Tf.default)(t,"ERR_PUT_FAILED")}function Cee(t){return t=t??new Error("Get failed"),(0,Tf.default)(t,"ERR_GET_FAILED")}function qee(t){return t=t??new Error("Delete failed"),(0,Tf.default)(t,"ERR_DELETE_FAILED")}function Nee(t){return t=t??new Error("Has failed"),(0,Tf.default)(t,"ERR_HAS_FAILED")}function Ax(t){return t=t??new Error("Not Found"),(0,Tf.default)(t,"ERR_NOT_FOUND")}function jee(t){return t=t??new Error("Aborted"),(0,Tf.default)(t,"ERR_ABORTED")}M();var Om=class{has(e,r){return Promise.reject(new Error(".has is not implemented"))}put(e,r,i){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,r){for await(let{cid:i,block:n}of e)await this.put(i,n,r),yield i}get(e,r){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async delete(e,r){await Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async*getAll(e){throw new Error(".getAll is not implemented")}};M();var jh=class extends Om{data;constructor(){super(),this.data=new Map}put(e,r){return this.data.set(Jo.encode(e.multihash.bytes),r),e}get(e){let r=this.data.get(Jo.encode(e.multihash.bytes));if(r==null)throw Ax();return r}has(e){return this.data.has(Jo.encode(e.multihash.bytes))}async delete(e){this.data.delete(Jo.encode(e.multihash.bytes))}async*getAll(){for(let[e,r]of this.data.entries())yield{cid:et.createV1(Sa,Sh(Jo.decode(e))),block:r}}};var WAe={...n1};var ck={[Hn.code]:Hn},lk={[_h]:Au},Lr=class{static async computeCid(e,r=_h,i=Hn.code){let n=lk[r];if(!n)throw new Error(`codec [${r}] not supported`);let o=ck[i];if(!o)throw new Error(`multihash code [${i}] not supported`);let a=n.encode(e),d=await o.digest(a);return(await et.createV1(n.code,d)).toString()}static parseCid(e){let r=et.parse(e).toV1();if(!lk[r.code])throw new Error(`codec [${r.code}] not supported`);if(!ck[r.multihash.code])throw new Error(`multihash code [${r.multihash.code}] not supported`);return r}static async computeDagPbCidFromBytes(e){let r=Bm([{content:e}],new jh,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}static async computeDagPbCidFromStream(e){let r=Bm([{content:e}],new jh,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}};M();M();M();var j=Lt(dk(),1),Cx={};function Na(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,r,i))}for(let r of Object.getOwnPropertyNames(t.prototype)){let i=Object.getOwnPropertyDescriptor(t.prototype,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t.prototype,r,i))}Ar(e,t),Ar(`${e}.prototype`,t.prototype)}function Ar(t,e){let r=`%${t}%`;if(Cx[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);Cx[r]=e}function Ce(t){return Cx[t]}var hk,pk,Ze="slot-epochNanoSeconds",Ra="slot-timezone-identifier",Le="slot-year",Ue="slot-month",$e="slot-day",nt="slot-hour",ot="slot-minute",st="slot-second",at="slot-millisecond",ft="slot-microsecond",ut="slot-nanosecond",ee="slot-calendar",Zk="slot-date-brand",Yk="slot-year-month-brand",Jk="slot-month-day-brand",tn="slot-cached-instant",Nt="slot-time-zone",mn="slot-years",Ii="slot-months",Bn="slot-weeks",yn="slot-days",gn="slot-hours",vn="slot-minutes",bn="slot-seconds",wn="slot-milliseconds",_n="slot-microseconds",xn="slot-nanoseconds",Sr="slot-calendar-identifier",Qk=new WeakMap,qx=Symbol.for("@@Temporal__GetSlots");(hk=globalThis)[qx]||(hk[qx]=function(e){return Qk.get(e)});var lM=globalThis[qx],Nx=Symbol.for("@@Temporal__CreateSlots");(pk=globalThis)[Nx]||(pk[Nx]=function(e){Qk.set(e,Object.create(null))});var ja=globalThis[Nx];function hi(t,...e){if(!t||typeof t!="object")return!1;let r=lM(t);return!!r&&e.every(i=>i in r)}function P(t,e){let r=lM(t)?.[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function ct(t,e,r){let i=lM(t);if(i===void 0)throw new TypeError("Missing slots for the given container");if(i[e])throw new TypeError(`${e} already has set`);i[e]=r}var mk=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Km=new RegExp("(?:"+[`(?:${mk.source})(?:\\/(?:${mk.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),Xk=/(?:[+\u2212-]\d{6}|\d{4})/,c1=/(?:0[1-9]|1[0-2])/,jx=/(?:0[1-9]|[12]\d|3[01])/,Lee=new RegExp(`(${Xk.source})(?:-(${c1.source})-(${jx.source})|(${c1.source})(${jx.source}))`),eI=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,tI=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,rI=new RegExp(`([zZ])|${tI.source}?`),Uu=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,Uee=new RegExp([`^${Lee.source}`,`(?:(?:T|\\s+)${eI.source}(?:${rI.source})?)?`,`(?:\\[!?(${Km.source})\\])?`,`((?:${Uu.source})*)$`].join(""),"i"),zee=new RegExp([`^T?${eI.source}`,`(?:${rI.source})?`,`(?:\\[!?${Km.source}\\])?`,`((?:${Uu.source})*)$`].join(""),"i"),Fee=new RegExp(`^(${Xk.source})-?(${c1.source})(?:\\[!?${Km.source}\\])?((?:${Uu.source})*)$`),$ee=new RegExp(`^(?:--)?(${c1.source})-?(${jx.source})(?:\\[!?${Km.source}\\])?((?:${Uu.source})*)$`),Rx=/(\d+)(?:[.,](\d{1,9}))?/,Wee=new RegExp(`(?:${Rx.source}H)?(?:${Rx.source}M)?(?:${Rx.source}S)?`),Gee=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Wee.source})?$`,"i"),Vee=Array.prototype.includes,iI=Array.prototype.push,nI=globalThis.Intl.DateTimeFormat,Kee=Math.min,Hee=Math.max,Xt=Math.abs,Jn=Math.floor,Zh=Math.sign,yl=Math.trunc,A1=Number.isNaN,Mn=Number.isFinite,Zee=Number,Hm=String,Yee=Number.MAX_SAFE_INTEGER,nn=Object.create,Jee=Object.getOwnPropertyDescriptor,T1=Reflect.apply,Qee=Reflect.ownKeys,Br=j.default.BigInt(0),n0=j.default.BigInt(1),Ia=j.default.BigInt(60),oI=j.default.BigInt(24),St=j.default.BigInt(1e3),Oo=j.default.BigInt(1e6),Da=j.default.BigInt(1e9),Xee=j.default.BigInt(-1),sI=j.default.multiply(j.default.BigInt(3600),Da),aI=j.default.multiply(Ia,Da),Oa=j.default.multiply(sI,oI),Lm=j.default.multiply(j.default.BigInt(-86400),j.default.BigInt(1e17)),Yh=j.default.multiply(j.default.BigInt(86400),j.default.BigInt(1e17)),l1=-271821,d1=275760,Fh=j.default.multiply(j.default.BigInt(-388152),j.default.BigInt(1e13)),ete=j.default.multiply(Oa,j.default.BigInt(3660)),fI=j.default.multiply(Oa,j.default.BigInt(366)),uI=j.default.multiply(Oa,j.default.BigInt(14)),tte=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Do(t){return j.default.equal(t,Br)}function Rt(t,e){let r=t[e];if(r!==void 0)return r}function Ke(t,e,r){let i=arguments.length>2?r:[];return T1(t,e,i)}function er(t){return typeof t=="object"&&t!==null||typeof t=="function"}function Jh(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return Zee(t)}function Gr(t){let e=Jh(t);if(A1(e)||e===0)return 0;if(!Mn(e))return e;let r=Jn(Xt(e));return r===0?0:Zh(e)*r}function lo(t){if(typeof t!="number"||A1(t)||!Mn(t))return!1;let e=Xt(t);return Jn(e)===e}function Sn(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Hm(t)}function xt(t){let e=Jh(t);if(e===0)return 0;if(A1(e)||!Mn(e))throw new RangeError("invalid number value");let r=yl(e);return r===0?0:r}function yk(t,e){let r=xt(t);if(r<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function di(t){let e=Jh(t);if(!Mn(e))throw new RangeError("infinity is out of range");if(!lo(e))throw new RangeError(`unsupported fractional value ${t}`);return e===0?0:e}function Ur(t,e){return{quotient:j.default.divide(t,e),remainder:j.default.remainder(t,e)}}function h1(t){return j.default.lessThan(t,Br)}function gk(t){return Do(t)?0:h1(t)?-1:1}function Ls(t){return j.default.lessThan(t,Br)?j.default.multiply(t,Xee):t}var vk=new Map([["year",xt],["month",yk],["monthCode",Sn],["day",yk],["hour",xt],["minute",xt],["second",xt],["millisecond",xt],["microsecond",xt],["nanosecond",xt],["years",di],["months",di],["weeks",di],["days",di],["hours",di],["minutes",di],["seconds",di],["milliseconds",di],["microseconds",di],["nanoseconds",di],["era",Sn],["eraYear",Gr],["offset",Sn]]),rte=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Zm=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],p1=new Map(Zm.map(t=>[t[0],t[1]])),ite=new Map(Zm.map(([t,e])=>[e,t])),bk=Zm.map(([,t])=>t),wk=Array.from(p1.keys()).sort(),_k=new Map;function cI(t){let e=_k.get(t);return e===void 0&&(e=new nI("en-us",{timeZone:Hm(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),_k.set(t,e)),e}function xk(t){if(t==null)throw new TypeError(`Expected object not ${t}`);return Object(t)}function $h(t,e,r,i){if(e==null)return;let n=Qee(e);for(let o of n)if(!r.some(a=>Object.is(a,o))&&Object.prototype.propertyIsEnumerable.call(e,o)){let a=e[o];if(i&&i.some(d=>Object.is(d,a)))continue;t[o]=a}}function ei(t){return hi(t,Ze)&&!hi(t,Nt,ee)}function Io(t){return hi(t,Ra)}function kr(t){return hi(t,Sr)}function Ir(t){return hi(t,mn,Ii,yn,gn,vn,bn,wn,_n,xn)}function mt(t){return hi(t,Zk)}function Dr(t){return hi(t,nt,ot,st,at,ft,ut)&&!hi(t,Le,Ue,$e)}function tt(t){return hi(t,Le,Ue,$e,nt,ot,st,at,ft,ut)}function Et(t){return hi(t,Yk)}function li(t){return hi(t,Jk)}function We(t){return hi(t,Ze,Nt,ee)}function o0(t){if(hi(t,ee)||hi(t,Nt))throw new TypeError("with() does not support a calendar or timeZone property");if(Dr(t))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function nte(t){let{ianaName:e,offset:r,z:i}=function(o){if(new RegExp(`^${Km.source}$`,"i").test(o))return{ianaName:o};try{let a=La(o);if(a.z||a.offset||a.ianaName)return a}catch{}throw new RangeError(`Invalid time zone: ${o}`)}(t);return e?xM(e):i?"UTC":L1(Ou(r))}function dM(t,e){return e==="never"?"":hM(zi(t),e)}function hM(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${t}]`}function La(t){let e=Uee.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]==="\u2212"&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);let i=Gr(r),n=Gr(e[2]||e[4]),o=Gr(e[3]||e[5]),a=Gr(e[6]),d=e[6]!==void 0,p=Gr(e[7]||e[10]),v=Gr(e[8]||e[11]);v===60&&(v=59);let w=(e[9]||e[12])+"000000000",x=Gr(w.slice(0,3)),E=Gr(w.slice(3,6)),T=Gr(w.slice(6,9)),A,k=!1;if(e[13])A=void 0,k=!0;else if(e[14]&&e[15]){let q=e[14]==="-"||e[14]==="\u2212"?"-":"+",U=e[15]||"00",$=e[16]||"00",W=e[17]||"00",F=e[18]||"0";if(A=`${q}${U}:${$}`,+F){for(;F.endsWith("0");)F=F.slice(0,-1);A+=`:${W}.${F}`}else+W&&(A+=`:${W}`);A==="-00:00"&&(A="+00:00")}let D=e[19],I=e[20],C;for(let[,q,U,$]of I.matchAll(Uu))if(U==="u-ca")C===void 0&&(C=$);else if(q==="!")throw new RangeError(`Unrecognized annotation: !${U}=${$}`);return SM(i,n,o,a,p,v,x,E,T),{year:i,month:n,day:o,hasTime:d,hour:a,minute:p,second:v,millisecond:x,microsecond:E,nanosecond:T,ianaName:D,offset:A,z:k,calendar:C}}function pM(t){let e=Fee.exec(t),r,i,n,o;if(e){let a=e[1];if(a[0]==="\u2212"&&(a=`-${a.slice(1)}`),a==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=Gr(a),i=Gr(e[2]);let d=e[3];for(let[,p,v,w]of d.matchAll(Uu))if(v==="u-ca")n===void 0&&(n=w);else if(p==="!")throw new RangeError(`Unrecognized annotation: !${v}=${w}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let a;if({year:r,month:i,calendar:n,day:o,z:a}=La(t),a)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:o}}function mM(t){let e=$ee.exec(t),r,i,n,o;if(e){r=Gr(e[1]),i=Gr(e[2]);let a=e[3];for(let[,d,p,v]of a.matchAll(Uu))if(p==="u-ca")n===void 0&&(n=v);else if(d==="!")throw new RangeError(`Unrecognized annotation: !${p}=${v}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let a;if({month:r,day:i,calendar:n,year:o,z:a}=La(t),a)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:o}}function ote(t){let{year:e,month:r,day:i,hour:n,minute:o,second:a,millisecond:d,microsecond:p,nanosecond:v,offset:w,z:x}=function(k){let D=La(k);if(!D.z&&!D.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return D}(t);if(!x&&!w)throw new RangeError("Temporal.Instant requires a time zone offset");let E=x?0:Ou(w);({year:e,month:r,day:i,hour:n,minute:o,second:a,millisecond:d,microsecond:p,nanosecond:v}=MM(e,r,i,n,o,a,d,p,v-E));let T=Cu(e,r,i,n,o,a,d,p,v);if(T===null)throw new RangeError("DateTime outside of supported range");return T}function m1(t,e,r,i){let n=t,o=e,a=r;switch(i){case"reject":Ca(n,o,a);break;case"constrain":({year:n,month:o,day:a}=TI(n,o,a))}return{year:n,month:o,day:a}}function P1(t,e,r,i,n,o,a){let d=t,p=e,v=r,w=i,x=n,E=o;switch(a){case"reject":z1(d,p,v,w,x,E);break;case"constrain":({hour:d,minute:p,second:v,millisecond:w,microsecond:x,nanosecond:E}=function(A,k,D,I,C,q){let U=Yn(A,0,23),$=Yn(k,0,59),W=Yn(D,0,59),F=Yn(I,0,999),L=Yn(C,0,999),H=Yn(q,0,999);return{hour:U,minute:$,second:W,millisecond:F,microsecond:L,nanosecond:H}}(d,p,v,w,x,E))}return{hour:d,minute:p,second:v,millisecond:w,microsecond:x,nanosecond:E}}function Rl(t){if(!er(t))return function(A){let k=Gee.exec(A);if(!k)throw new RangeError(`invalid duration: ${A}`);if(k.slice(2).every(b=>b===void 0))throw new RangeError(`invalid duration: ${A}`);let D=k[1]==="-"||k[1]==="\u2212"?-1:1,I=k[2]===void 0?0:xt(k[2])*D,C=k[3]===void 0?0:xt(k[3])*D,q=k[4]===void 0?0:xt(k[4])*D,U=k[5]===void 0?0:xt(k[5])*D,$=k[6]===void 0?0:xt(k[6])*D,W=k[7],F=k[8],L=k[9],H=k[10],_=k[11],s=0,u=0,h=0;if(W!==void 0){if(F??L??H??_)throw new RangeError("only the smallest unit can be fractional");h=3600*Gr((W+"000000000").slice(0,9))*D}else if(s=F===void 0?0:xt(F)*D,L!==void 0){if(H??_)throw new RangeError("only the smallest unit can be fractional");h=60*Gr((L+"000000000").slice(0,9))*D}else u=H===void 0?0:xt(H)*D,_!==void 0&&(h=Gr((_+"000000000").slice(0,9))*D);let c=h%1e3,l=yl(h/1e3)%1e3,y=yl(h/1e6)%1e3;return u+=yl(h/1e9)%60,s+=yl(h/6e10),_1(I,C,q,U,$,s,u,y,l,c),{years:I,months:C,weeks:q,days:U,hours:$,minutes:s,seconds:u,milliseconds:y,microseconds:l,nanoseconds:c}}(Sn(t));if(Ir(t))return{years:P(t,mn),months:P(t,Ii),weeks:P(t,Bn),days:P(t,yn),hours:P(t,gn),minutes:P(t,vn),seconds:P(t,bn),milliseconds:P(t,wn),microseconds:P(t,_n),nanoseconds:P(t,xn)};let e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(A){if(!er(A))throw new TypeError("invalid duration-like");let k={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},D=!1;for(let I of wk){let C=A[I];C!==void 0&&(D=!0,k[I]=di(C))}if(!D)throw new TypeError("invalid duration-like");return k}(t);for(let T of wk){let A=r[T];A!==void 0&&(e[T]=A)}let{years:i,months:n,weeks:o,days:a,hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:x,nanoseconds:E}=e;return _1(i,n,o,a,d,p,v,w,x,E),{years:i,months:n,weeks:o,days:a,hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:x,nanoseconds:E}}function zr(t){return t===void 0?"constrain":Nu(t,"overflow",["constrain","reject"],"constrain")}function Qh(t){return t===void 0?"compatible":Nu(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function zs(t,e){return Nu(t,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function y1(t,e){return t===void 0?e:Nu(t,"offset",["prefer","use","ignore","reject"],e)}function Ym(t){return Nu(t,"calendarName",["auto","always","never","critical"],"auto")}function s0(t){let e=t.roundingIncrement;if(e===void 0)return 1;if(e=Jh(e),!Mn(e))throw new RangeError("roundingIncrement must be finite");let r=yl(e);if(r<1||r>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return r}function a0(t,e,r){let i=r?e:e-1;if(t>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${t}`);if(e%t!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function Jm(t){let e=t.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(Sn(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}let r=Jn(e);if(!Mn(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return r}function Qm(t,e){switch(t){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}var _l=Symbol("~required~");function Qn(t,e,r,i,n=[]){let o=[];for(let[,v,w]of Zm)r!=="datetime"&&r!==w||o.push(v);o.push(...n);let a=i;a===_l?a=void 0:a!==void 0&&o.push(a);let d=[...o];for(let v of o){let w=ite.get(v);w!==void 0&&d.push(w)}let p=Nu(t,e,d,a);if(p===void 0&&i===_l)throw new RangeError(`${e} is required`);return p1.has(p)?p1.get(p):p}function s1(t){let e=t.relativeTo;if(e===void 0)return e;let r,i,n,o,a,d,p,v,w,x,E,T,A="option",k=!1;if(er(e)){if(We(e)||mt(e))return e;if(tt(e))return e0(e);x=ry(e);let D=Vr(x,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);D.push("timeZone","offset");let I=lt(e,D,[]),C=nn(null);C.overflow="constrain",{year:r,month:i,day:n,hour:o,minute:a,second:d,millisecond:p,microsecond:v,nanosecond:w}=Xm(x,I,C),T=I.offset,T===void 0&&(A="wall"),E=I.timeZone,E!==void 0&&(E=rn(E))}else{let D,I;if({year:r,month:i,day:n,hour:o,minute:a,second:d,millisecond:p,microsecond:v,nanosecond:w,calendar:x,ianaName:D,offset:T,z:I}=La(Sn(e)),D)E=rn(D),I?A="exact":T||(A="wall"),k=!0;else if(I)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(x||(x="iso8601"),!qf(x))throw new RangeError(`invalid calendar identifier ${x}`);x=qa(x)}return E===void 0?qo(r,i,n,x):ji(v1(r,i,n,o,a,d,p,v,w,A,A==="option"?Ou(T):0,E,"compatible","reject",k),E,x)}function Lx(t,e,r,i,n,o,a,d,p,v){for(let[w,x]of[["years",t],["months",e],["weeks",r],["days",i],["hours",n],["minutes",o],["seconds",a],["milliseconds",d],["microseconds",p],["nanoseconds",v]])if(x!==0)return p1.get(w);return"nanosecond"}function xl(t,e){return bk.indexOf(t)>bk.indexOf(e)?e:t}function lt(t,e,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){let n=nn(null),o=!1;e.sort();for(let a of e){let d=t[a];if(d!==void 0)o=!0,vk.has(a)&&(d=vk.get(a)(d)),n[a]=d;else if(r!=="partial"){if(Vee.call(r,a))throw new TypeError(`required property '${a}' missing or undefined`);d=rte.get(a),n[a]=d}}if(r==="partial"&&!o)throw new TypeError(i);return n}function g1(t,e="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=lt(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(let o of r){let a=Jee(i,o);a!==void 0?n[o]=a.value:e==="complete"&&(n[o]=0)}return n}function zt(t,e){let r=t;if(er(r)){if(mt(r))return r;if(We(r)&&(zr(e),r=co(P(r,Nt),P(r,tn),P(r,ee))),tt(r))return zr(e),qo(P(r,Le),P(r,Ue),P(r,$e),P(r,ee));let p=ry(r);return Of(p,lt(r,Vr(p,["day","month","monthCode","year"]),[]),e)}zr(e);let{year:i,month:n,day:o,calendar:a,z:d}=function(v){return La(v)}(Sn(r));if(d)throw new RangeError("Z designator not supported for PlainDate");if(a||(a="iso8601"),!qf(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=qa(a),qo(i,n,o,a)}function Xm(t,e,r){let{hour:i,minute:n,second:o,millisecond:a,microsecond:d,nanosecond:p}=g1(e),v=zr(r),w=Of(t,e,r),x=P(w,Le),E=P(w,Ue),T=P(w,$e);return{hour:i,minute:n,second:o,millisecond:a,microsecond:d,nanosecond:p}=P1(i,n,o,a,d,p,v),{year:x,month:E,day:T,hour:i,minute:n,second:o,millisecond:a,microsecond:d,nanosecond:p}}function gl(t,e){let r,i,n,o,a,d,p,v,w,x;if(er(t)){if(tt(t))return t;if(We(t))return zr(e),co(P(t,Nt),P(t,tn),P(t,ee));if(mt(t))return zr(e),Zn(P(t,Le),P(t,Ue),P(t,$e),0,0,0,0,0,0,P(t,ee));x=ry(t);let E=lt(t,Vr(x,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:o,minute:a,second:d,millisecond:p,microsecond:v,nanosecond:w}=Xm(x,E,e))}else{let E;if(zr(e),{year:r,month:i,day:n,hour:o,minute:a,second:d,millisecond:p,microsecond:v,nanosecond:w,calendar:x,z:E}=function(A){return La(A)}(Sn(t)),E)throw new RangeError("Z designator not supported for PlainDateTime");if(SM(r,i,n,o,a,d,p,v,w),x||(x="iso8601"),!qf(x))throw new RangeError(`invalid calendar identifier ${x}`);x=qa(x)}return Zn(r,i,n,o,a,d,p,v,w,x)}function Wh(t){if(Ir(t))return t;let{years:e,months:r,weeks:i,days:n,hours:o,minutes:a,seconds:d,milliseconds:p,microseconds:v,nanoseconds:w}=Rl(t);return new(Ce("%Temporal.Duration%"))(e,r,i,n,o,a,d,p,v,w)}function Us(t){if(ei(t))return t;if(We(t))return new(Ce("%Temporal.Instant%"))(P(t,Ze));let e=ote(Sn(t));return new(Ce("%Temporal.Instant%"))(e)}function Mk(t,e){let r=t;if(er(r)){if(li(r))return r;let d,p;if(hi(r,ee))d=P(r,ee),p=!1;else{let w=r.calendar;p=w===void 0,w===void 0&&(w="iso8601"),d=Xn(w)}let v=lt(r,Vr(d,["day","month","monthCode","year"]),[]);return p&&v.month!==void 0&&v.monthCode===void 0&&v.year===void 0&&(v.year=1972),Xh(d,v,e)}zr(e);let{month:i,day:n,referenceISOYear:o,calendar:a}=mM(Sn(r));if(a===void 0&&(a="iso8601"),!qf(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=qa(a),o===void 0?(Ca(1972,i,n),Um(i,n,a)):Xh(a,Um(i,n,a,o))}function Rf(t,e="constrain"){let r,i,n,o,a,d,p=t;if(er(p)){if(Dr(p))return p;if(We(p)&&(p=co(P(p,Nt),P(p,tn),P(p,ee))),tt(p))return new(Ce("%Temporal.PlainTime%"))(P(p,nt),P(p,ot),P(p,st),P(p,at),P(p,ft),P(p,ut));({hour:r,minute:i,second:n,millisecond:o,microsecond:a,nanosecond:d}=g1(p)),{hour:r,minute:i,second:n,millisecond:o,microsecond:a,nanosecond:d}=P1(r,i,n,o,a,d,e)}else({hour:r,minute:i,second:n,millisecond:o,microsecond:a,nanosecond:d}=function(w){let x=zee.exec(w),E,T,A,k,D,I,C;if(x){E=Gr(x[1]),T=Gr(x[2]||x[5]),A=Gr(x[3]||x[6]),A===60&&(A=59);let q=(x[4]||x[7])+"000000000";k=Gr(q.slice(0,3)),D=Gr(q.slice(3,6)),I=Gr(q.slice(6,9)),C=x[14];for(let[,U,$,W]of C.matchAll(Uu))if($!=="u-ca"&&U==="!")throw new RangeError(`Unrecognized annotation: !${$}=${W}`);if(x[8])throw new RangeError("Z designator not supported for PlainTime")}else{let q,U;if({hasTime:U,hour:E,minute:T,second:A,millisecond:k,microsecond:D,nanosecond:I,z:q}=La(w),!U)throw new RangeError(`time is missing in string: ${w}`);if(q)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(w))return{hour:E,minute:T,second:A,millisecond:k,microsecond:D,nanosecond:I};try{let{month:q,day:U}=mM(w);Ca(1972,q,U)}catch{try{let{year:q,month:U}=pM(w);Ca(q,U,1)}catch{return{hour:E,minute:T,second:A,millisecond:k,microsecond:D,nanosecond:I}}}throw new RangeError(`invalid ISO 8601 time-only string ${w}; may need a T prefix`)}(Sn(p))),z1(r,i,n,o,a,d);return new(Ce("%Temporal.PlainTime%"))(r,i,n,o,a,d)}function Cm(t,e){if(er(t)){if(Et(t))return t;let a=ry(t);return El(a,lt(t,Vr(a,["month","monthCode","year"]),[]),e)}zr(e);let{year:r,month:i,referenceISODay:n,calendar:o}=pM(Sn(t));if(o===void 0&&(o="iso8601"),!qf(o))throw new RangeError(`invalid calendar identifier ${o}`);return o=qa(o),n===void 0?(Ca(r,i,1),zm(r,i,o)):El(o,zm(r,i,o,n))}function v1(t,e,r,i,n,o,a,d,p,v,w,x,E,T,A){let k=new(Ce("%Temporal.PlainDateTime%"))(t,e,r,i,n,o,a,d,p);if(v==="wall"||T==="ignore")return P(En(x,k,E),Ze);if(v==="exact"||T==="use"){let I=Cu(t,e,r,i,n,o,a,d,p);if(I===null)throw new RangeError("ZonedDateTime outside of supported range");return j.default.subtract(I,j.default.BigInt(w))}let D=b1(x,k);for(let I of D){let C=Fs(x,I),q=j.default.toNumber(uo(j.default.BigInt(C),aI,"halfExpand"));if(C===w||A&&q===w)return P(I,Ze)}if(T==="reject"){let I=L1(w),C=Io(x)?P(x,Ra):"time zone";throw new RangeError(`Offset ${I} is invalid for ${k.toString()} in ${C}`)}return P(bI(D,x,k,E),Ze)}function qm(t,e){let r,i,n,o,a,d,p,v,w,x,E,T,A,k,D=!1,I="option";if(er(t)){if(We(t))return t;T=ry(t);let q=Vr(T,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);q.push("timeZone","offset");let U=lt(t,q,["timeZone"]);x=rn(U.timeZone),E=U.offset,E===void 0&&(I="wall"),A=Qh(e),k=y1(e,"reject"),{year:r,month:i,day:n,hour:o,minute:a,second:d,millisecond:p,microsecond:v,nanosecond:w}=Xm(T,U,e)}else{let q,U;if({year:r,month:i,day:n,hour:o,minute:a,second:d,millisecond:p,microsecond:v,nanosecond:w,ianaName:q,offset:E,z:U,calendar:T}=function(W){let F=La(W);if(!F.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return F}(Sn(t)),x=rn(q),U?I="exact":E||(I="wall"),T||(T="iso8601"),!qf(T))throw new RangeError(`invalid calendar identifier ${T}`);T=qa(T),D=!0,A=Qh(e),k=y1(e,"reject"),zr(e)}let C=0;return I==="option"&&(C=Ou(E)),ji(v1(r,i,n,o,a,d,p,v,w,I,C,x,A,k,D),x,T)}function lI(t,e,r,i,n){Ca(e,r,i),PI(e,r,i),ja(t),ct(t,Le,e),ct(t,Ue,r),ct(t,$e,i),ct(t,ee,n),ct(t,Zk,!0)}function qo(t,e,r,i="iso8601"){let n=Ce("%Temporal.PlainDate%"),o=nn(n.prototype);return lI(o,t,e,r,i),o}function dI(t,e,r,i,n,o,a,d,p,v,w){SM(e,r,i,n,o,a,d,p,v),RI(e,r,i,n,o,a,d,p,v),ja(t),ct(t,Le,e),ct(t,Ue,r),ct(t,$e,i),ct(t,nt,n),ct(t,ot,o),ct(t,st,a),ct(t,at,d),ct(t,ft,p),ct(t,ut,v),ct(t,ee,w)}function Zn(t,e,r,i,n,o,a,d,p,v="iso8601"){let w=Ce("%Temporal.PlainDateTime%"),x=nn(w.prototype);return dI(x,t,e,r,i,n,o,a,d,p,v),x}function hI(t,e,r,i,n){Ca(n,e,r),PI(n,e,r),ja(t),ct(t,Ue,e),ct(t,$e,r),ct(t,Le,n),ct(t,ee,i),ct(t,Jk,!0)}function Um(t,e,r="iso8601",i=1972){let n=Ce("%Temporal.PlainMonthDay%"),o=nn(n.prototype);return hI(o,t,e,r,i),o}function pI(t,e,r,i,n){Ca(e,r,n),function(a,d){Ui(a,l1,d1),a===l1?Ui(d,4,12):a===d1&&Ui(d,1,9)}(e,r),ja(t),ct(t,Le,e),ct(t,Ue,r),ct(t,$e,n),ct(t,ee,i),ct(t,Yk,!0)}function zm(t,e,r="iso8601",i=1){let n=Ce("%Temporal.PlainYearMonth%"),o=nn(n.prototype);return pI(o,t,e,r,i),o}function mI(t,e,r,i){ml(e),ja(t),ct(t,Ze,e),ct(t,Nt,r),ct(t,ee,i);let n=new(Ce("%Temporal.Instant%"))(P(t,Ze));ct(t,tn,n)}function ji(t,e,r="iso8601"){let i=Ce("%Temporal.ZonedDateTime%"),n=nn(i.prototype);return mI(n,t,e,r),n}function Vr(t,e){if(typeof t=="string"){let n=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.fields%"),n,[e])}let r=Ke(Rt(t,"fields"),t,[e]),i=[];for(let n of r){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");iI.call(i,n)}return i}function Ml(t,e,r){if(typeof t=="string"){let n=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.mergeFields%"),n,[e,r])}let i=Ke(Rt(t,"mergeFields"),t,[e,r]);if(!er(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Li(t,e,r,i,n){let o=n;if(typeof t=="string"){let d=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.dateAdd%"),d,[e,r,i])}o===void 0&&(o=Rt(t,"dateAdd"));let a=T1(o,t,[e,r,i]);if(!mt(a))throw new TypeError("invalid result");return a}function Bu(t,e,r,i,n){let o=n;if(typeof t=="string"){let d=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.dateUntil%"),d,[e,r,i])}o===void 0&&(o=Rt(t,"dateUntil"));let a=T1(o,t,[e,r,i]);if(!Ir(a))throw new TypeError("invalid result");return a}function R1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.year%"),i,[e])}let r=Ke(Rt(t,"year"),t,[e]);if(typeof r!="number")throw new TypeError("calendar year result must be an integer");if(!lo(r))throw new RangeError("calendar year result must be an integer");return r}function k1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.month%"),i,[e])}let r=Ke(Rt(t,"month"),t,[e]);if(typeof r!="number")throw new TypeError("calendar month result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar month result must be a positive integer");return r}function ey(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.monthCode%"),i,[e])}let r=Ke(Rt(t,"monthCode"),t,[e]);if(typeof r!="string")throw new TypeError("calendar monthCode result must be a string");return r}function ty(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.day%"),i,[e])}let r=Ke(Rt(t,"day"),t,[e]);if(typeof r!="number")throw new TypeError("calendar day result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar day result must be a positive integer");return r}function I1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.era%"),i,[e])}let r=Ke(Rt(t,"era"),t,[e]);if(r===void 0)return r;if(typeof r!="string")throw new TypeError("calendar era result must be a string or undefined");return r}function D1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.eraYear%"),i,[e])}let r=Ke(Rt(t,"eraYear"),t,[e]);if(r===void 0)return r;if(typeof r!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!lo(r))throw new RangeError("calendar eraYear result must be an integer or undefined");return r}function yM(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.dayOfWeek%"),i,[e])}let r=Ke(Rt(t,"dayOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return r}function gM(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.dayOfYear%"),i,[e])}let r=Ke(Rt(t,"dayOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return r}function vM(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.weekOfYear%"),i,[e])}let r=Ke(Rt(t,"weekOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return r}function bM(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.yearOfWeek%"),i,[e])}let r=Ke(Rt(t,"yearOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!lo(r))throw new RangeError("calendar yearOfWeek result must be an integer");return r}function wM(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.daysInWeek%"),i,[e])}let r=Ke(Rt(t,"daysInWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return r}function B1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.daysInMonth%"),i,[e])}let r=Ke(Rt(t,"daysInMonth"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return r}function O1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.daysInYear%"),i,[e])}let r=Ke(Rt(t,"daysInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar daysInYear result must be a positive integer");return r}function C1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.monthsInYear%"),i,[e])}let r=Ke(Rt(t,"monthsInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!lo(r)||r<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return r}function q1(t,e){if(typeof t=="string"){let i=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.inLeapYear%"),i,[e])}let r=Ke(Rt(t,"inLeapYear"),t,[e]);if(typeof r!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return r}function Xn(t){if(er(t)){if(hi(t,ee))return P(t,ee);if(!function(n){return!!kr(n)||"dateAdd"in n&&"dateFromFields"in n&&"dateUntil"in n&&"day"in n&&"dayOfWeek"in n&&"dayOfYear"in n&&"daysInMonth"in n&&"daysInWeek"in n&&"daysInYear"in n&&"fields"in n&&"id"in n&&"inLeapYear"in n&&"mergeFields"in n&&"month"in n&&"monthCode"in n&&"monthDayFromFields"in n&&"monthsInYear"in n&&"weekOfYear"in n&&"year"in n&&"yearMonthFromFields"in n&&"yearOfWeek"in n}(t))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return t}let e=Sn(t);if(qf(e))return qa(e);let r;try{({calendar:r}=La(e))}catch{try{({calendar:r}=pM(e))}catch{({calendar:r}=mM(e))}}if(r||(r="iso8601"),!qf(r))throw new RangeError(`invalid calendar identifier ${r}`);return qa(r)}function ry(t){if(hi(t,ee))return P(t,ee);let{calendar:e}=t;return e===void 0?"iso8601":Xn(e)}function zi(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function f0(t){return er(t)?t:new(Ce("%Temporal.Calendar%"))(t)}function iy(t,e){return t===e?!0:zi(t)===zi(e)}function N1(t,e,r){if(t===e)return;let i=zi(t),n=zi(e);if(i!==n)throw new RangeError(`cannot ${r} of ${i} and ${n} calendars`)}function yI(t,e){if(t===e)return e;let r=zi(t),i=zi(e);if(r===i||r==="iso8601")return e;if(i==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function Of(t,e,r,i){if(typeof t=="string"){let o=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.dateFromFields%"),o,[e,r])}let n=Ke(i??Rt(t,"dateFromFields"),t,[e,r]);if(!mt(n))throw new TypeError("invalid result");return n}function El(t,e,r){if(typeof t=="string"){let n=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.yearMonthFromFields%"),n,[e,r])}let i=Ke(Rt(t,"yearMonthFromFields"),t,[e,r]);if(!Et(i))throw new TypeError("invalid result");return i}function Xh(t,e,r){if(typeof t=="string"){let n=new(Ce("%Temporal.Calendar%"))(t);return Ke(Ce("%Temporal.Calendar.prototype.monthDayFromFields%"),n,[e,r])}let i=Ke(Rt(t,"monthDayFromFields"),t,[e,r]);if(!li(i))throw new TypeError("invalid result");return i}function rn(t){if(er(t)){if(We(t))return P(t,Nt);if(!function(r){return!!Io(r)||"getOffsetNanosecondsFor"in r&&"getPossibleInstantsFor"in r&&"id"in r}(t))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return t}return nte(Sn(t))}function Fm(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function gI(t){return er(t)?t:new(Ce("%Temporal.TimeZone%"))(t)}function vI(t,e){return t===e?!0:Fm(t)===Fm(e)}function e0(t){return qo(P(t,Le),P(t,Ue),P(t,$e),P(t,ee))}function _M(t){return new(Ce("%Temporal.PlainTime%"))(P(t,nt),P(t,ot),P(t,st),P(t,at),P(t,ft),P(t,ut))}function Fs(t,e,r){if(typeof t=="string"){let n=new(Ce("%Temporal.TimeZone%"))(t);return Ke(Ce("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),n,[e])}let i=Ke(r??Rt(t,"getOffsetNanosecondsFor"),t,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!lo(i)||Xt(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function Ux(t,e){return L1(Fs(t,e))}function co(t,e,r){let i=P(e,Ze),n=Fs(t,e),{year:o,month:a,day:d,hour:p,minute:v,second:w,millisecond:x,microsecond:E,nanosecond:T}=_I(i);return{year:o,month:a,day:d,hour:p,minute:v,second:w,millisecond:x,microsecond:E,nanosecond:T}=MM(o,a,d,p,v,w,x,E,T+n),Zn(o,a,d,p,v,w,x,E,T,r)}function En(t,e,r){return bI(b1(t,e),t,e,r)}function bI(t,e,r,i){let n=Ce("%Temporal.Instant%"),o=t.length;if(o===1)return t[0];if(o)switch(i){case"compatible":case"earlier":return t[0];case"later":return t[o-1];case"reject":throw new RangeError("multiple instants found")}let a=P(r,Le),d=P(r,Ue),p=P(r,$e),v=P(r,nt),w=P(r,ot),x=P(r,st),E=P(r,at),T=P(r,ft),A=P(r,ut),k=Cu(a,d,p,v,w,x,E,T,A);if(k===null)throw new RangeError("DateTime outside of supported range");let D=new n(j.default.subtract(k,Oa)),I=new n(j.default.add(k,Oa)),C=Fs(e,D),q=Fs(e,I)-C;switch(i){case"earlier":{let U=P(r,ee),$=Ce("%Temporal.PlainDateTime%"),W=Wx(a,d,p,v,w,x,E,T,A,U,0,0,0,0,0,0,0,0,0,-q,void 0);return b1(e,new $(W.year,W.month,W.day,W.hour,W.minute,W.second,W.millisecond,W.microsecond,W.nanosecond,U))[0]}case"compatible":case"later":{let U=P(r,ee),$=Ce("%Temporal.PlainDateTime%"),W=Wx(a,d,p,v,w,x,E,T,A,U,0,0,0,0,0,0,0,0,0,q,void 0),F=b1(e,new $(W.year,W.month,W.day,W.hour,W.minute,W.second,W.millisecond,W.microsecond,W.nanosecond,U));return F[F.length-1]}case"reject":throw new RangeError("no such instant found")}}function b1(t,e,r){if(typeof t=="string"){let o=new(Ce("%Temporal.TimeZone%"))(t);return Ke(Ce("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),o,[e])}let i=Ke(r??Rt(t,"getPossibleInstantsFor"),t,[e]),n=[];for(let o of i){if(!ei(o))throw new TypeError("bad return from getPossibleInstantsFor");iI.call(n,o)}return n}function kl(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${Xt(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function nr(t){return`00${t}`.slice(-2)}function j1(t,e,r,i,n){if(n==="minute")return"";let o=`:${nr(t)}`,a,d=1e6*e+1e3*r+i;if(n==="auto"){if(d===0)return o;for(a=`${d}`.padStart(9,"0");a[a.length-1]==="0";)a=a.slice(0,-1)}else{if(n===0)return o;a=`${d}`.padStart(9,"0").slice(0,n)}return`${o}.${a}`}function Ek(t,e,r){let i=e;i===void 0&&(i="UTC");let n=co(i,t,"iso8601"),o=kl(P(n,Le)),a=nr(P(n,Ue)),d=nr(P(n,$e)),p=nr(P(n,nt)),v=nr(P(n,ot)),w=j1(P(n,st),P(n,at),P(n,ft),P(n,ut),r),x="Z";return e!==void 0&&(x=wI(Fs(i,t))),`${o}-${a}-${d}T${p}:${v}${w}${x}`}function kx(t,e="auto",r){function i(H){return H<=Yee?H.toString(10):j.default.BigInt(H).toString(10)}let n=P(t,mn),o=P(t,Ii),a=P(t,Bn),d=P(t,yn),p=P(t,gn),v=P(t,vn),w=P(t,bn),x=P(t,wn),E=P(t,_n),T=P(t,xn),A=Ba(n,o,a,d,p,v,w,x,E,T);if(r){let{unit:H,increment:_,roundingMode:s}=r;({seconds:w,milliseconds:x,microseconds:E,nanoseconds:T}=Cf(0,0,0,0,0,0,w,x,E,T,_,H,s))}let k=[];n&&k.push(`${i(Xt(n))}Y`),o&&k.push(`${i(Xt(o))}M`),a&&k.push(`${i(Xt(a))}W`),d&&k.push(`${i(Xt(d))}D`);let D=[];p&&D.push(`${i(Xt(p))}H`),v&&D.push(`${i(Xt(v))}M`);let I=[],C,q,U,$,W=t0(0,0,0,w,x,E,T,0);({quotient:W,remainder:C}=Ur(W,St)),{quotient:W,remainder:q}=Ur(W,St),{quotient:$,remainder:U}=Ur(W,St);let F=1e6*Xt(j.default.toNumber(U))+1e3*Xt(j.default.toNumber(q))+Xt(j.default.toNumber(C)),L;if(e==="auto"){if(F!==0)for(L=`${F}`.padStart(9,"0");L[L.length-1]==="0";)L=L.slice(0,-1)}else e!==0&&(L=`${F}`.padStart(9,"0").slice(0,e));return L&&I.unshift(".",L),j.default.equal($,Br)&&!I.length&&e==="auto"||I.unshift(Ls($).toString()),I.length&&D.push(`${I.join("")}S`),D.length&&D.unshift("T"),k.length||D.length?`${A<0?"-":""}P${k.join("")}${D.join("")}`:"PT0S"}function Sk(t,e="auto"){return`${kl(P(t,Le))}-${nr(P(t,Ue))}-${nr(P(t,$e))}${dM(P(t,ee),e)}`}function Ak(t,e,r="auto",i){let n=P(t,Le),o=P(t,Ue),a=P(t,$e),d=P(t,nt),p=P(t,ot),v=P(t,st),w=P(t,at),x=P(t,ft),E=P(t,ut);if(i){let{unit:T,increment:A,roundingMode:k}=i;({year:n,month:o,day:a,hour:d,minute:p,second:v,millisecond:w,microsecond:x,nanosecond:E}=RM(n,o,a,d,p,v,w,x,E,A,T,k))}return`${kl(n)}-${nr(o)}-${nr(a)}T${nr(d)}:${nr(p)}${j1(v,w,x,E,e)}${dM(P(t,ee),r)}`}function Tk(t,e="auto"){let r=`${nr(P(t,Ue))}-${nr(P(t,$e))}`,i=zi(P(t,ee));(e==="always"||e==="critical"||i!=="iso8601")&&(r=`${kl(P(t,Le))}-${r}`);let n=hM(i,e);return n&&(r+=n),r}function Pk(t,e="auto"){let r=`${kl(P(t,Le))}-${nr(P(t,Ue))}`,i=zi(P(t,ee));(e==="always"||e==="critical"||i!=="iso8601")&&(r+=`-${nr(P(t,$e))}`);let n=hM(i,e);return n&&(r+=n),r}function Rk(t,e,r="auto",i="auto",n="auto",o){let a=P(t,tn);if(o){let{unit:w,increment:x,roundingMode:E}=o,T=x1(P(t,Ze),x,w,E);a=new(Ce("%Temporal.Instant%"))(T)}let d=P(t,Nt),p=co(d,a,"iso8601"),v=`${kl(P(p,Le))}-${nr(P(p,Ue))}-${nr(P(p,$e))}T${nr(P(p,nt))}:${nr(P(p,ot))}${j1(P(p,st),P(p,at),P(p,ft),P(p,ut),e)}`;return n!=="never"&&(v+=wI(Fs(d,a))),i!=="never"&&(v+=`[${i==="critical"?"!":""}${Fm(d)}]`),v+=dM(P(t,ee),r),v}function zh(t){return qI.test(Hm(t))}function Ou(t){let e=qI.exec(Hm(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function xM(t){return zh(t)?L1(Ou(t)):cI(Hm(t)).resolvedOptions().timeZone}function kf(t,e){let{year:r,month:i,day:n,hour:o,minute:a,second:d,millisecond:p,microsecond:v,nanosecond:w}=xI(t,e),x=r%400,E=(r-x)/400,T=j.default.multiply(j.default.BigInt(146097),Oa),A=Cu(x,i,n,o,a,d,p,v,w),k=j.default.add(A,j.default.multiply(T,j.default.BigInt(E)));return j.default.toNumber(j.default.subtract(k,e))}function L1(t){let e=t<0?"-":"+",r=Xt(t),i=r%1e9,n=Jn(r/1e9)%60,o=Jn(r/6e10)%60,a=nr(Jn(r/36e11)),d=nr(o),p=nr(n),v="";if(i){let w=`${i}`.padStart(9,"0");for(;w[w.length-1]==="0";)w=w.slice(0,-1);v=`:${p}.${w}`}else n&&(v=`:${p}`);return`${e}${a}:${d}${v}`}function wI(t){let e=j.default.toNumber(uo(j.default.BigInt(t),aI,"halfExpand")),r=e<0?"-":"+";e=Xt(e);let i=e/6e10%60;return`${r}${nr(Jn(e/36e11))}:${nr(i)}`}function Cu(t,e,r,i,n,o,a,d,p){let v=new Date;v.setUTCHours(i,n,o,a),v.setUTCFullYear(t,e-1,r);let w=v.getTime();if(A1(w))return null;let x=j.default.multiply(j.default.BigInt(w),Oo);return x=j.default.add(x,j.default.multiply(j.default.BigInt(d),St)),x=j.default.add(x,j.default.BigInt(p)),j.default.lessThan(x,Lm)||j.default.greaterThan(x,Yh)?null:x}function _I(t){let{quotient:e,remainder:r}=Ur(t,Oo),i=j.default.toNumber(e),n=j.default.toNumber(r);n<0&&(n+=1e6,i-=1);let o=Jn(n/1e3)%1e3,a=n%1e3,d=new Date(i);return{epochMilliseconds:i,year:d.getUTCFullYear(),month:d.getUTCMonth()+1,day:d.getUTCDate(),hour:d.getUTCHours(),minute:d.getUTCMinutes(),second:d.getUTCSeconds(),millisecond:d.getUTCMilliseconds(),microsecond:o,nanosecond:a}}function xI(t,e){let{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:o}=_I(e),{year:a,month:d,day:p,hour:v,minute:w,second:x}=function(T,A){let k=cI(T).format(new Date(A));return function(I){let C=I.split(/[^\w]+/);if(C.length!==7)throw new RangeError(`expected 7 parts in "${I}`);let q=+C[0],U=+C[1],$=+C[2],W=C[3].toUpperCase();if(W==="B"||W==="BC")$=1-$;else if(W!=="A"&&W!=="AD")throw new RangeError(`Unknown era ${W} in "${I}`);let F=+C[4];F===24&&(F=0);let L=+C[5],H=+C[6];if(!(Mn($)&&Mn(q)&&Mn(U)&&Mn(F)&&Mn(L)&&Mn(H)))throw new RangeError(`Invalid number in "${I}`);return{year:$,month:q,day:U,hour:F,minute:L,second:H}}(k)}(t,r);return MM(a,d,p,v,w,x,i,n,o)}function kk(t,e){return j.default.lessThan(t,e)?e:t}function MI(){return j.default.add(IM(),ete)}function EI(t,e){if(j.default.lessThan(e,Fh))return EI(t,Fh);let r=j.default.add(e,fI),i=kk(MI(),r),n=kk(Fh,e),o=kf(t,n),a=n,d=o;for(;o===d&&j.default.lessThan(j.default.BigInt(n),i);){if(a=j.default.add(n,uI),j.default.greaterThan(a,Yh))return null;d=kf(t,a),o===d&&(n=a)}return o===d?null:NI(p=>kf(t,p),n,a,o,d)}function zx(t,e){let r=MI(),i=j.default.greaterThan(e,r),n=i?j.default.subtract(e,fI):Fh;if(t==="Africa/Casablanca"||t==="Africa/El_Aaiun"){let v=P(Us("2088-01-01T00Z"),Ze);if(j.default.lessThan(v,e))return zx(t,v)}let o=j.default.subtract(e,n0);if(j.default.lessThan(o,Fh))return null;let a=kf(t,o),d=o,p=a;for(;a===p&&j.default.greaterThan(o,n);){if(d=j.default.subtract(o,uI),j.default.lessThan(d,Fh))return null;p=kf(t,d),a===p&&(o=d)}if(a===p){if(i){let v=j.default.subtract(r,Oa);return zx(t,v)}return null}return NI(v=>kf(t,v),d,o,p,a)}function qu(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function If(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[qu(t)?"leapyear":"standard"][e-1]}function Fx(t,e,r){let i=e+(e<3?10:-2),n=t-(e<3?1:0),o=Jn(n/100),a=n-100*o,d=(r+Jn(2.6*i-.2)+(a+Jn(a/4))+(Jn(o/4)-2*o))%7;return d+(d<=0?7:0)}function w1(t,e,r){let i=r;for(let n=e-1;n>0;n--)i+=If(t,n);return i}function Ik(t,e,r){let i=w1(t,e,r),n=Fx(t,e,r)||7,o=Fx(t,1,1),a=Jn((i-n+10)/7);return a<1?o===5||o===6&&qu(t-1)?{week:53,year:t-1}:{week:52,year:t-1}:a===53&&(qu(t)?366:365)-i<4-n?{week:1,year:t+1}:{week:a,year:t}}function Ba(t,e,r,i,n,o,a,d,p,v){for(let w of[t,e,r,i,n,o,a,d,p,v])if(w!==0)return w<0?-1:1;return 0}function a1(t,e){let r=t,i=e;if(!Mn(r)||!Mn(i))throw new RangeError("infinity is out of range");return i-=1,r+=Jn(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function U1(t,e,r){let i=t,n=e,o=r;if(!Mn(o))throw new RangeError("infinity is out of range");({year:i,month:n}=a1(i,n));let a=146097;if(Xt(o)>a){let v=yl(o/a);i+=400*v,o-=v*a}let d=0,p=n>2?i:i-1;for(;d=qu(p)?366:365,o<-d;)i-=1,p-=1,o+=d;for(p+=1;d=qu(p)?366:365,o>d;)i+=1,p+=1,o-=d;for(;o<1;)({year:i,month:n}=a1(i,n-1)),o+=If(i,n);for(;o>If(i,n);)o-=If(i,n),{year:i,month:n}=a1(i,n+1);return{year:i,month:n,day:o}}function MM(t,e,r,i,n,o,a,d,p){let{deltaDays:v,hour:w,minute:x,second:E,millisecond:T,microsecond:A,nanosecond:k}=Pf(i,n,o,a,d,p),{year:D,month:I,day:C}=U1(t,e,r+v);return{year:D,month:I,day:C,hour:w,minute:x,second:E,millisecond:T,microsecond:A,nanosecond:k}}function Pf(t,e,r,i,n,o){let a,d=j.default.BigInt(t),p=j.default.BigInt(e),v=j.default.BigInt(r),w=j.default.BigInt(i),x=j.default.BigInt(n),E=j.default.BigInt(o);return{quotient:a,remainder:E}=pl(E,St),x=j.default.add(x,a),{quotient:a,remainder:x}=pl(x,St),w=j.default.add(w,a),{quotient:a,remainder:w}=pl(w,St),v=j.default.add(v,a),{quotient:a,remainder:v}=pl(v,Ia),p=j.default.add(p,a),{quotient:a,remainder:p}=pl(p,Ia),d=j.default.add(d,a),{quotient:a,remainder:d}=pl(d,oI),{deltaDays:j.default.toNumber(a),hour:j.default.toNumber(d),minute:j.default.toNumber(p),second:j.default.toNumber(v),millisecond:j.default.toNumber(w),microsecond:j.default.toNumber(x),nanosecond:j.default.toNumber(E)}}function t0(t,e,r,i,n,o,a,d){let p=j.default.BigInt(t),v=j.default.BigInt(a);t!==0&&(v=j.default.subtract(j.default.BigInt(a),j.default.BigInt(d)));let w=j.default.add(j.default.BigInt(e),j.default.multiply(p,j.default.BigInt(24))),x=j.default.add(j.default.BigInt(r),j.default.multiply(w,Ia)),E=j.default.add(j.default.BigInt(i),j.default.multiply(x,Ia)),T=j.default.add(j.default.BigInt(n),j.default.multiply(E,St)),A=j.default.add(j.default.BigInt(o),j.default.multiply(T,St));return j.default.add(j.default.BigInt(v),j.default.multiply(A,St))}function EM(t,e){let r=Ce("%Temporal.Instant%"),i=Zh(j.default.toNumber(t)),n=j.default.BigInt(t),o=864e11;if(i===0)return{days:0,nanoseconds:Br,dayLengthNs:o};if(!We(e)){let q;return{quotient:q,remainder:n}=Ur(n,j.default.BigInt(o)),{days:j.default.toNumber(q),nanoseconds:n,dayLengthNs:o}}let a=P(e,Ze),d=P(e,tn),p=j.default.add(a,n),v=new r(p),w=P(e,Nt),x=P(e,ee),E=co(w,d,x),T=co(w,v,x),{days:A}=PM(P(E,Le),P(E,Ue),P(E,$e),P(E,nt),P(E,ot),P(E,st),P(E,at),P(E,ft),P(E,ut),P(T,Le),P(T,Ue),P(T,$e),P(T,nt),P(T,ot),P(T,st),P(T,at),P(T,ft),P(T,ut),x,"day",nn(null)),k=Co(d,w,x,0,0,0,A,0,0,0,0,0,0),D=j.default.BigInt(A);if(i===1)for(;j.default.greaterThan(D,Br)&&j.default.greaterThan(k,p);)D=j.default.subtract(D,n0),k=Co(d,w,x,0,0,0,j.default.toNumber(D),0,0,0,0,0,0);n=j.default.subtract(p,k);let I=!1,C=new r(k);do{let q=Co(C,w,x,0,0,0,i,0,0,0,0,0,0),U=P(C,Ze);o=j.default.toNumber(j.default.subtract(q,U)),I=j.default.greaterThanOrEqual(j.default.multiply(j.default.subtract(n,j.default.BigInt(o)),j.default.BigInt(i)),Br),I&&(n=j.default.subtract(n,j.default.BigInt(o)),C=new r(q),D=j.default.add(D,j.default.BigInt(i)))}while(I);if(!Do(D)&&gk(D)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Do(n)&&gk(n)!==i)throw h1(n)&&i===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(j.default.greaterThanOrEqual(Ls(n),Ls(j.default.BigInt(o))))throw new Error("assert not reached");return{days:j.default.toNumber(D),nanoseconds:n,dayLengthNs:Xt(o)}}function es(t,e,r,i,n,o,a,d,p){let v=SI(t,e,r,i,n,o,a,d,p);if(v==="positive overflow"||v==="negative overflow")throw new RangeError("Duration out of range");return v}function SI(t,e,r,i,n,o,a,d,p){let v,w,x,E,T,A,k=t;if(We(p)){let F=Co(P(p,tn),P(p,Nt),P(p,ee),0,0,0,k,e,r,i,n,o,a),L=P(p,Ze);v=j.default.subtract(F,L)}else v=t0(k,e,r,i,n,o,a,0);d==="year"||d==="month"||d==="week"||d==="day"?{days:k,nanoseconds:v}=EM(v,p):k=0;let D=j.default.lessThan(v,Br)?-1:1;switch(v=Ls(v),w=x=E=T=A=Br,d){case"year":case"month":case"week":case"day":case"hour":({quotient:w,remainder:v}=Ur(v,St)),{quotient:x,remainder:w}=Ur(w,St),{quotient:E,remainder:x}=Ur(x,St),{quotient:T,remainder:E}=Ur(E,Ia),{quotient:A,remainder:T}=Ur(T,Ia);break;case"minute":({quotient:w,remainder:v}=Ur(v,St)),{quotient:x,remainder:w}=Ur(w,St),{quotient:E,remainder:x}=Ur(x,St),{quotient:T,remainder:E}=Ur(E,Ia);break;case"second":({quotient:w,remainder:v}=Ur(v,St)),{quotient:x,remainder:w}=Ur(w,St),{quotient:E,remainder:x}=Ur(x,St);break;case"millisecond":({quotient:w,remainder:v}=Ur(v,St)),{quotient:x,remainder:w}=Ur(w,St);break;case"microsecond":({quotient:w,remainder:v}=Ur(v,St));break;case"nanosecond":break;default:throw new Error("assert not reached")}let I=j.default.toNumber(A)*D,C=j.default.toNumber(T)*D,q=j.default.toNumber(E)*D,U=j.default.toNumber(x)*D,$=j.default.toNumber(w)*D,W=j.default.toNumber(v)*D;for(let F of[k,I,C,q,U,$,W])if(!Mn(F))return D===1?"positive overflow":"negative overflow";return{days:k,hours:I,minutes:C,seconds:q,milliseconds:U,microseconds:$,nanoseconds:W}}function o1(t,e,r,i,n,o){let a=Ce("%Temporal.Duration%"),d=Ba(t,e,r,i,0,0,0,0,0,0);if(d===0)return{years:t,months:e,weeks:r,days:i};let p=j.default.BigInt(d),v,w,x=j.default.BigInt(t),E=j.default.BigInt(e),T=j.default.BigInt(r),A=j.default.BigInt(i);o&&(w=zt(o),v=P(w,ee));let k=new a(d),D=new a(0,d),I=new a(0,0,d);switch(n){case"year":break;case"month":{if(!v)throw new RangeError("a starting point is required for months balancing");let C,q;for(typeof v!="string"&&(C=Rt(v,"dateAdd"),q=Rt(v,"dateUntil"));!Do(x);){let U=Li(v,w,k,void 0,C),$=nn(null);$.largestUnit="month";let W=Bu(v,w,U,$,q),F=j.default.BigInt(P(W,Ii));w=U,E=j.default.add(E,F),x=j.default.subtract(x,p)}}break;case"week":{if(!v)throw new RangeError("a starting point is required for weeks balancing");let C=typeof v!="string"?Rt(v,"dateAdd"):void 0;for(;!Do(x);){let q;({relativeTo:w,days:q}=en(v,w,k,C)),A=j.default.add(A,j.default.BigInt(q)),x=j.default.subtract(x,p)}for(;!Do(E);){let q;({relativeTo:w,days:q}=en(v,w,D,C)),A=j.default.add(A,j.default.BigInt(q)),E=j.default.subtract(E,p)}break}default:{if(Do(x)&&Do(E)&&Do(T))break;if(!v)throw new RangeError("a starting point is required for balancing calendar units");let C=typeof v!="string"?Rt(v,"dateAdd"):void 0;for(;!Do(x);){let q;({relativeTo:w,days:q}=en(v,w,k,C)),A=j.default.add(A,j.default.BigInt(q)),x=j.default.subtract(x,p)}for(;!Do(E);){let q;({relativeTo:w,days:q}=en(v,w,D,C)),A=j.default.add(A,j.default.BigInt(q)),E=j.default.subtract(E,p)}for(;!Do(T);){let q;({relativeTo:w,days:q}=en(v,w,I,C)),A=j.default.add(A,j.default.BigInt(q)),T=j.default.subtract(T,p)}break}}return{years:j.default.toNumber(x),months:j.default.toNumber(E),weeks:j.default.toNumber(T),days:j.default.toNumber(A)}}function Dk(t,e,r,i,n){if(We(t)){let o=P(t,tn),a=P(t,Nt),d=P(t,ee),p=Fs(a,o),v=Co(o,a,d,e,r,i,n,0,0,0,0,0,0);return Fs(a,new(Ce("%Temporal.Instant%"))(v))-p}return 0}function AI(t){return new(Ce("%Temporal.Duration%"))(-P(t,mn),-P(t,Ii),-P(t,Bn),-P(t,yn),-P(t,gn),-P(t,vn),-P(t,bn),-P(t,wn),-P(t,_n),-P(t,xn))}function Yn(t,e,r){return Kee(r,Hee(e,t))}function TI(t,e,r){let i=Yn(e,1,12);return{year:t,month:i,day:Yn(r,1,If(t,i))}}function Ui(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function Ca(t,e,r){Ui(e,1,12),Ui(r,1,If(t,e))}function PI(t,e,r){RI(t,e,r,12,0,0,0,0,0)}function z1(t,e,r,i,n,o){Ui(t,0,23),Ui(e,0,59),Ui(r,0,59),Ui(i,0,999),Ui(n,0,999),Ui(o,0,999)}function SM(t,e,r,i,n,o,a,d,p){Ca(t,e,r),z1(i,n,o,a,d,p)}function RI(t,e,r,i,n,o,a,d,p){if(Ui(t,l1,d1),t===l1&&Cu(t,e,r+1,i,n,o,a,d,p-1)==null||t===d1&&Cu(t,e,r-1,i,n,o,a,d,p+1)==null)throw new RangeError("DateTime outside of supported range")}function ml(t){if(j.default.lessThan(t,Lm)||j.default.greaterThan(t,Yh))throw new RangeError("Instant outside of supported range")}function _1(t,e,r,i,n,o,a,d,p,v){let w=Ba(t,e,r,i,n,o,a,d,p,v);for(let x of[t,e,r,i,n,o,a,d,p,v]){if(!Mn(x))throw new RangeError("infinite values not allowed as duration fields");let E=Zh(x);if(E!==0&&E!==w)throw new RangeError("mixed-sign values not allowed as duration fields")}}function AM(t,e,r,i,n,o,a){switch(a){case"year":case"month":{let d=-Du(t,e,r,i,n,o);if(d===0)return{years:0,months:0,weeks:0,days:0};let p={year:t,month:e,day:r},v={year:i,month:n,day:o},w=v.year-p.year,x=vl(t,e,r,w,0,0,0,"constrain"),E=-Du(x.year,x.month,x.day,i,n,o);if(E===0)return a==="year"?{years:w,months:0,weeks:0,days:0}:{years:0,months:12*w,weeks:0,days:0};let T=v.month-p.month;if(E!==d&&(w-=d,T+=12*d),x=vl(t,e,r,w,T,0,0,"constrain"),E=-Du(x.year,x.month,x.day,i,n,o),E===0)return a==="year"?{years:w,months:T,weeks:0,days:0}:{years:0,months:T+12*w,weeks:0,days:0};E!==d&&(T-=d,T===-d&&(w-=d,T=11*d),x=vl(t,e,r,w,T,0,0,"constrain"));let A=0;return A=x.month===v.month?v.day-x.day:d<0?-x.day-(If(v.year,v.month)-v.day):v.day+(If(x.year,x.month)-x.day),a==="month"&&(T+=12*w,w=0),{years:w,months:T,weeks:0,days:A}}case"week":case"day":{let d,p,v;Du(t,e,r,i,n,o)<0?(p={year:t,month:e,day:r},d={year:i,month:n,day:o},v=1):(p={year:i,month:n,day:o},d={year:t,month:e,day:r},v=-1);let w=w1(d.year,d.month,d.day)-w1(p.year,p.month,p.day);for(let E=p.year;E<d.year;++E)w+=qu(E)?366:365;let x=0;return a==="week"&&(x=Jn(w/7),w%=7),x*=v,w*=v,{years:0,months:0,weeks:x,days:w}}default:throw new Error("assert not reached")}}function kI(t,e,r,i,n,o,a,d,p,v,w,x){let E=a-t,T=d-e,A=p-r,k=v-i,D=w-n,I=x-o,C=Ba(0,0,0,0,E,T,A,k,D,I);E*=C,T*=C,A*=C,k*=C,D*=C,I*=C;let q=0;if({deltaDays:q,hour:E,minute:T,second:A,millisecond:k,microsecond:D,nanosecond:I}=Pf(E,T,A,k,D,I),q!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return E*=C,T*=C,A*=C,k*=C,D*=C,I*=C,{hours:E,minutes:T,seconds:A,milliseconds:k,microseconds:D,nanoseconds:I}}function TM(t,e,r,i,n,o){let a=j.default.subtract(e,t),d=0,p=0,v=j.default.toNumber(j.default.remainder(a,St)),w=j.default.toNumber(j.default.remainder(j.default.divide(a,St),St)),x=j.default.toNumber(j.default.remainder(j.default.divide(a,Oo),St)),E=j.default.toNumber(j.default.divide(a,Da));return{hours:d,minutes:p,seconds:E,milliseconds:x,microseconds:w,nanoseconds:v}=Cf(0,0,0,0,0,0,E,x,w,v,r,i,o),es(0,d,p,E,x,w,v,n)}function PM(t,e,r,i,n,o,a,d,p,v,w,x,E,T,A,k,D,I,C,q,U){let $=t,W=e,F=r,{hours:L,minutes:H,seconds:_,milliseconds:s,microseconds:u,nanoseconds:h}=kI(i,n,o,a,d,p,E,T,A,k,D,I),c=Ba(0,0,0,0,L,H,_,s,u,h);Du(v,w,x,$,W,F)===-c&&({year:$,month:W,day:F}=U1($,W,F-c),{hours:L,minutes:H,seconds:_,milliseconds:s,microseconds:u,nanoseconds:h}=es(-c,L,H,_,s,u,h,q));let l=qo($,W,F,C),y=qo(v,w,x,C),b=xl("day",q),m=zu(U);m.largestUnit=b;let{years:f,months:g,weeks:R,days:S}=Bu(C,l,y,m);return{days:S,hours:L,minutes:H,seconds:_,milliseconds:s,microseconds:u,nanoseconds:h}=es(S,L,H,_,s,u,h,q),{years:f,months:g,weeks:R,days:S,hours:L,minutes:H,seconds:_,milliseconds:s,microseconds:u,nanoseconds:h}}function II(t,e,r,i,n,o){let a=j.default.subtract(e,t);if(j.default.equal(a,Br))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let d=Ce("%Temporal.Instant%"),p=new d(t),v=new d(e),w=co(r,p,i),x=co(r,v,i),{years:E,months:T,weeks:A,days:k}=PM(P(w,Le),P(w,Ue),P(w,$e),P(w,nt),P(w,ot),P(w,st),P(w,at),P(w,ft),P(w,ut),P(x,Le),P(x,Ue),P(x,$e),P(x,nt),P(x,ot),P(x,st),P(x,at),P(x,ft),P(x,ut),i,n,o),D=Co(p,r,i,E,T,A,0,0,0,0,0,0,0),I=j.default.subtract(e,D),C=ji(D,r,i);({nanoseconds:I,days:k}=EM(I,C));let{hours:q,minutes:U,seconds:$,milliseconds:W,microseconds:F,nanoseconds:L}=es(0,0,0,0,0,0,j.default.toNumber(I),"hour");return{years:E,months:T,weeks:A,days:k,hours:q,minutes:U,seconds:$,milliseconds:W,microseconds:F,nanoseconds:L}}function u0(t,e,r,i,n,o){let a=Zm.reduce((T,A)=>{let k=A[0],D=A[1],I=A[2];return r!=="datetime"&&I!==r||i.includes(D)||T.push(D,k),T},[]),d=Qn(e,"largestUnit",r,"auto");if(i.includes(d))throw new RangeError(`largestUnit must be one of ${a.join(", ")}, not ${d}`);let p=s0(e),v=zs(e,"trunc");t==="since"&&(v=function(A){switch(A){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return A}}(v));let w=Qn(e,"smallestUnit",r,n);if(i.includes(w))throw new RangeError(`smallestUnit must be one of ${a.join(", ")}, not ${w}`);let x=xl(o,w);if(d==="auto"&&(d=x),xl(d,w)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${w}`);let E={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[w];return E!==void 0&&a0(p,E,!1),{largestUnit:d,roundingIncrement:p,roundingMode:v,smallestUnit:w}}function Bk(t,e,r,i){let n=t==="since"?-1:1,o=Us(r),a=u0(t,zu(i),"time",[],"nanosecond","second"),d=P(e,Ze),p=P(o,Ze),{hours:v,minutes:w,seconds:x,milliseconds:E,microseconds:T,nanoseconds:A}=TM(d,p,a.roundingIncrement,a.smallestUnit,a.largestUnit,a.roundingMode);return new(Ce("%Temporal.Duration%"))(0,0,0,0,n*v,n*w,n*x,n*E,n*T,n*A)}function Ok(t,e,r,i){let n=t==="since"?-1:1,o=zt(r),a=P(e,ee);N1(a,P(o,ee),"compute difference between dates");let d=zu(i),p=u0(t,d,"date",[],"day","day");d.largestUnit=p.largestUnit;let{years:v,months:w,weeks:x,days:E}=Bu(a,e,o,d);return p.smallestUnit==="day"&&p.roundingIncrement===1||({years:v,months:w,weeks:x,days:E}=Cf(v,w,x,E,0,0,0,0,0,0,p.roundingIncrement,p.smallestUnit,p.roundingMode,e)),new(Ce("%Temporal.Duration%"))(n*v,n*w,n*x,n*E,0,0,0,0,0,0)}function Ck(t,e,r,i){let n=t==="since"?-1:1,o=gl(r),a=P(e,ee);N1(a,P(o,ee),"compute difference between dates");let d=zu(i),p=u0(t,d,"datetime",[],"nanosecond","day"),{years:v,months:w,weeks:x,days:E,hours:T,minutes:A,seconds:k,milliseconds:D,microseconds:I,nanoseconds:C}=PM(P(e,Le),P(e,Ue),P(e,$e),P(e,nt),P(e,ot),P(e,st),P(e,at),P(e,ft),P(e,ut),P(o,Le),P(o,Ue),P(o,$e),P(o,nt),P(o,ot),P(o,st),P(o,at),P(o,ft),P(o,ut),a,p.largestUnit,d),q=e0(e);return{years:v,months:w,weeks:x,days:E,hours:T,minutes:A,seconds:k,milliseconds:D,microseconds:I,nanoseconds:C}=Cf(v,w,x,E,T,A,k,D,I,C,p.roundingIncrement,p.smallestUnit,p.roundingMode,q),{days:E,hours:T,minutes:A,seconds:k,milliseconds:D,microseconds:I,nanoseconds:C}=es(E,T,A,k,D,I,C,p.largestUnit),new(Ce("%Temporal.Duration%"))(n*v,n*w,n*x,n*E,n*T,n*A,n*k,n*D,n*I,n*C)}function qk(t,e,r,i){let n=t==="since"?-1:1,o=Rf(r),a=u0(t,zu(i),"time",[],"nanosecond","hour"),{hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:x,nanoseconds:E}=kI(P(e,nt),P(e,ot),P(e,st),P(e,at),P(e,ft),P(e,ut),P(o,nt),P(o,ot),P(o,st),P(o,at),P(o,ft),P(o,ut));return{hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:x,nanoseconds:E}=Cf(0,0,0,0,d,p,v,w,x,E,a.roundingIncrement,a.smallestUnit,a.roundingMode),{hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:x,nanoseconds:E}=es(0,d,p,v,w,x,E,a.largestUnit),new(Ce("%Temporal.Duration%"))(0,0,0,0,n*d,n*p,n*v,n*w,n*x,n*E)}function Nk(t,e,r,i){let n=t==="since"?-1:1,o=Cm(r),a=P(e,ee);N1(a,P(o,ee),"compute difference between months");let d=zu(i),p=u0(t,d,"date",["week","day"],"month","year");d.largestUnit=p.largestUnit;let v=Vr(a,["monthCode","year"]),w=lt(e,v,[]);w.day=1;let x=Of(a,w),E=lt(o,v,[]);E.day=1;let T=Of(a,E),{years:A,months:k}=Bu(a,x,T,d);return p.smallestUnit==="month"&&p.roundingIncrement===1||({years:A,months:k}=Cf(A,k,0,0,0,0,0,0,0,0,p.roundingIncrement,p.smallestUnit,p.roundingMode,x)),new(Ce("%Temporal.Duration%"))(n*A,n*k,0,0,0,0,0,0,0,0)}function jk(t,e,r,i){let n=t==="since"?-1:1,o=qm(r),a=P(e,ee);N1(a,P(o,ee),"compute difference between dates");let d=zu(i),p=u0(t,d,"datetime",[],"nanosecond","hour");d.largestUnit=p.largestUnit;let v=P(e,Ze),w=P(o,Ze),x,E,T,A,k,D,I,C,q,U;if(p.largestUnit!=="year"&&p.largestUnit!=="month"&&p.largestUnit!=="week"&&p.largestUnit!=="day")x=0,E=0,T=0,A=0,{hours:k,minutes:D,seconds:I,milliseconds:C,microseconds:q,nanoseconds:U}=TM(v,w,p.roundingIncrement,p.smallestUnit,p.largestUnit,p.roundingMode);else{let $=P(e,Nt);if(!vI($,P(o,Nt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:x,months:E,weeks:T,days:A,hours:k,minutes:D,seconds:I,milliseconds:C,microseconds:q,nanoseconds:U}=II(v,w,$,a,p.largestUnit,d)),{years:x,months:E,weeks:T,days:A,hours:k,minutes:D,seconds:I,milliseconds:C,microseconds:q,nanoseconds:U}=Cf(x,E,T,A,k,D,I,C,q,U,p.roundingIncrement,p.smallestUnit,p.roundingMode,e),{years:x,months:E,weeks:T,days:A,hours:k,minutes:D,seconds:I,milliseconds:C,microseconds:q,nanoseconds:U}=CI(x,E,T,A,k,D,I,C,q,U,p.roundingIncrement,p.smallestUnit,p.roundingMode,e)}return new(Ce("%Temporal.Duration%"))(n*x,n*E,n*T,n*A,n*k,n*D,n*I,n*C,n*q,n*U)}function vl(t,e,r,i,n,o,a,d){let p=t,v=e,w=r,x=o,E=a;return p+=i,v+=n,{year:p,month:v}=a1(p,v),{year:p,month:v,day:w}=m1(p,v,w,d),E+=7*x,w+=E,{year:p,month:v,day:w}=U1(p,v,w),{year:p,month:v,day:w}}function DI(t,e,r,i,n,o,a,d,p,v,w,x){let E=t,T=e,A=r,k=i,D=n,I=o;E+=a,T+=d,A+=p,k+=v,D+=w,I+=x;let C=0;return{deltaDays:C,hour:E,minute:T,second:A,millisecond:k,microsecond:D,nanosecond:I}=Pf(E,T,A,k,D,I),{deltaDays:C,hour:E,minute:T,second:A,millisecond:k,microsecond:D,nanosecond:I}}function BI(t,e,r,i,n,o,a,d,p,v,w,x,E,T,A,k,D,I,C,q,U){let $=xl(Lx(t,e,r,i,n,o,a,d,p,v),Lx(w,x,E,T,A,k,D,I,C,q)),W,F,L,H,_,s,u,h,c,l;if(U)if(mt(U)){let y=Ce("%Temporal.Duration%"),b=P(U,ee),m=new y(t,e,r,i,0,0,0,0,0,0),f=new y(w,x,E,T,0,0,0,0,0,0),g=typeof b!="string"?Rt(b,"dateAdd"):void 0,R=Li(b,U,m,void 0,g),S=Li(b,R,f,void 0,g),B=xl("day",$),z=nn(null);z.largestUnit=B,{years:W,months:F,weeks:L,days:H}=Bu(b,U,S,z),{days:H,hours:_,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=es(H,j.default.add(j.default.BigInt(n),j.default.BigInt(A)),j.default.add(j.default.BigInt(o),j.default.BigInt(k)),j.default.add(j.default.BigInt(a),j.default.BigInt(D)),j.default.add(j.default.BigInt(d),j.default.BigInt(I)),j.default.add(j.default.BigInt(p),j.default.BigInt(C)),j.default.add(j.default.BigInt(v),j.default.BigInt(q)),$)}else{let y=Ce("%Temporal.Instant%"),b=P(U,Nt),m=P(U,ee),f=Co(P(U,tn),b,m,t,e,r,i,n,o,a,d,p,v),g=Co(new y(f),b,m,w,x,E,T,A,k,D,I,C,q);$!=="year"&&$!=="month"&&$!=="week"&&$!=="day"?(W=0,F=0,L=0,H=0,{hours:_,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=TM(P(U,Ze),g,1,"nanosecond",$,"halfExpand")):{years:W,months:F,weeks:L,days:H,hours:_,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=II(P(U,Ze),g,b,m,$,nn(null))}else{if($==="year"||$==="month"||$==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");W=F=L=0,{days:H,hours:_,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=es(i+T,j.default.add(j.default.BigInt(n),j.default.BigInt(A)),j.default.add(j.default.BigInt(o),j.default.BigInt(k)),j.default.add(j.default.BigInt(a),j.default.BigInt(D)),j.default.add(j.default.BigInt(d),j.default.BigInt(I)),j.default.add(j.default.BigInt(p),j.default.BigInt(C)),j.default.add(j.default.BigInt(v),j.default.BigInt(q)),$)}return _1(W,F,L,H,_,s,u,h,c,l),{years:W,months:F,weeks:L,days:H,hours:_,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}}function $x(t,e,r,i,n,o,a){let d=Br;d=j.default.add(d,j.default.BigInt(a)),d=j.default.add(d,j.default.multiply(j.default.BigInt(o),St)),d=j.default.add(d,j.default.multiply(j.default.BigInt(n),Oo)),d=j.default.add(d,j.default.multiply(j.default.BigInt(i),Da)),d=j.default.add(d,j.default.multiply(j.default.BigInt(r),j.default.BigInt(6e10))),d=j.default.add(d,j.default.multiply(j.default.BigInt(e),j.default.BigInt(36e11)));let p=j.default.add(t,d);return ml(p),p}function Wx(t,e,r,i,n,o,a,d,p,v,w,x,E,T,A,k,D,I,C,q,U){let $=T,{deltaDays:W,hour:F,minute:L,second:H,millisecond:_,microsecond:s,nanosecond:u}=DI(i,n,o,a,d,p,A,k,D,I,C,q);$+=W;let h=Ce("%Temporal.Duration%"),c=Li(v,qo(t,e,r,v),new h(w,x,E,$,0,0,0,0,0,0),U);return{year:P(c,Le),month:P(c,Ue),day:P(c,$e),hour:F,minute:L,second:H,millisecond:_,microsecond:s,nanosecond:u}}function Co(t,e,r,i,n,o,a,d,p,v,w,x,E,T){let A=Ce("%Temporal.Duration%");if(Ba(i,n,o,a,0,0,0,0,0,0)===0)return $x(P(t,Ze),d,p,v,w,x,E);let k=co(e,t,r),D=Li(r,qo(P(k,Le),P(k,Ue),P(k,$e),r),new A(i,n,o,a,0,0,0,0,0,0),T),I=Zn(P(D,Le),P(D,Ue),P(D,$e),P(k,nt),P(k,ot),P(k,st),P(k,at),P(k,ft),P(k,ut),r);return $x(P(En(e,I,"compatible"),Ze),d,p,v,w,x,E)}function Lk(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:a,weeks:d,days:p,hours:v,minutes:w,seconds:x,milliseconds:E,microseconds:T,nanoseconds:A}=Rl(r),k=s1(yt(i));return{years:o,months:a,weeks:d,days:p,hours:v,minutes:w,seconds:x,milliseconds:E,microseconds:T,nanoseconds:A}=BI(P(e,mn),P(e,Ii),P(e,Bn),P(e,yn),P(e,gn),P(e,vn),P(e,bn),P(e,wn),P(e,_n),P(e,xn),n*o,n*a,n*d,n*p,n*v,n*w,n*x,n*E,n*T,n*A,k),new(Ce("%Temporal.Duration%"))(o,a,d,p,v,w,x,E,T,A)}function Uk(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:a,milliseconds:d,microseconds:p,nanoseconds:v}=function(E,T){let A=Rl(E);for(let k of T)if(A[k]!==0)throw new RangeError(`Duration field ${k} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return A}(r,["years","months","weeks","days"]),w=$x(P(e,Ze),i*n,i*o,i*a,i*d,i*p,i*v);return new(Ce("%Temporal.Instant%"))(w)}function zk(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:a,weeks:d,days:p,hours:v,minutes:w,seconds:x,milliseconds:E,microseconds:T,nanoseconds:A}=Rl(r),k=yt(i),D=P(e,ee),{year:I,month:C,day:q,hour:U,minute:$,second:W,millisecond:F,microsecond:L,nanosecond:H}=Wx(P(e,Le),P(e,Ue),P(e,$e),P(e,nt),P(e,ot),P(e,st),P(e,at),P(e,ft),P(e,ut),D,n*o,n*a,n*d,n*p,n*v,n*w,n*x,n*E,n*T,n*A,k);return Zn(I,C,q,U,$,W,F,L,H,D)}function Fk(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:a,milliseconds:d,microseconds:p,nanoseconds:v}=Rl(r),{hour:w,minute:x,second:E,millisecond:T,microsecond:A,nanosecond:k}=DI(P(e,nt),P(e,ot),P(e,st),P(e,at),P(e,ft),P(e,ut),i*n,i*o,i*a,i*d,i*p,i*v);return{hour:w,minute:x,second:E,millisecond:T,microsecond:A,nanosecond:k}=P1(w,x,E,T,A,k,"reject"),new(Ce("%Temporal.PlainTime%"))(w,x,E,T,A,k)}function $k(t,e,r,i){let n=Rl(r);t==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:o,months:a,weeks:d,days:p,hours:v,minutes:w,seconds:x,milliseconds:E,microseconds:T,nanoseconds:A}=n;({days:p}=es(p,v,w,x,E,T,A,"day"));let k=yt(i),D=P(e,ee),I=Vr(D,["monthCode","year"]),C=lt(e,I,[]),q=nn(null);$h(q,C,[]),C.day=1;let U=Of(D,C),$=Ba(o,a,d,p,0,0,0,0,0,0),W=Rt(D,"dateAdd"),F=Ce("%Temporal.Duration%");if($<0){let _=Li(D,U,new F(0,1,0,0,0,0,0,0,0,0),void 0,W),s=Li(D,_,new F(0,0,0,-1,0,0,0,0,0,0),void 0,W);q.day=ty(D,s),U=Of(D,q)}let L=new F(o,a,d,p,0,0,0,0,0,0),H=zu(k);return El(D,lt(Li(D,U,L,k,W),I,[]),H)}function Wk(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:a,weeks:d,days:p,hours:v,minutes:w,seconds:x,milliseconds:E,microseconds:T,nanoseconds:A}=Rl(r),k=yt(i),D=P(e,Nt),I=P(e,ee);return ji(Co(P(e,tn),D,I,n*o,n*a,n*d,n*p,n*v,n*w,n*x,n*E,n*T,n*A,k),D,I)}function uo(t,e,r){if(j.default.equal(e,n0))return t;let{quotient:i,remainder:n}=Ur(t,e);if(j.default.equal(n,Br))return t;let o=j.default.lessThan(n,Br)?-1:1,a=Ls(j.default.multiply(n,j.default.BigInt(2))),d=j.default.equal(a,e),p=j.default.greaterThan(a,e);switch(r){case"ceil":o>0&&(i=j.default.add(i,j.default.BigInt(o)));break;case"floor":o<0&&(i=j.default.add(i,j.default.BigInt(o)));break;case"expand":i=j.default.add(i,j.default.BigInt(o));break;case"trunc":break;case"halfCeil":(p||d&&o>0)&&(i=j.default.add(i,j.default.BigInt(o)));break;case"halfFloor":(p||d&&o<0)&&(i=j.default.add(i,j.default.BigInt(o)));break;case"halfExpand":(p||d)&&(i=j.default.add(i,j.default.BigInt(o)));break;case"halfTrunc":p&&(i=j.default.add(i,j.default.BigInt(o)));break;case"halfEven":(p||d&&j.default.toNumber(j.default.remainder(Ls(i),j.default.BigInt(2)))===1)&&(i=j.default.add(i,j.default.BigInt(o)))}return j.default.multiply(i,e)}function x1(t,e,r,i){let{remainder:n}=pl(t,Oa),o=j.default.subtract(t,n),a=uo(n,j.default.BigInt(jI[r]*e),i);return j.default.add(o,a)}function RM(t,e,r,i,n,o,a,d,p,v,w,x,E=864e11){let{deltaDays:T,hour:A,minute:k,second:D,millisecond:I,microsecond:C,nanosecond:q}=kM(i,n,o,a,d,p,v,w,x,E),{year:U,month:$,day:W}=U1(t,e,r+T);return{year:U,month:$,day:W,hour:A,minute:k,second:D,millisecond:I,microsecond:C,nanosecond:q}}function kM(t,e,r,i,n,o,a,d,p,v=864e11){let w=Br;switch(d){case"day":case"hour":w=j.default.BigInt(t);case"minute":w=j.default.add(j.default.multiply(w,Ia),j.default.BigInt(e));case"second":w=j.default.add(j.default.multiply(w,Ia),j.default.BigInt(r));case"millisecond":w=j.default.add(j.default.multiply(w,St),j.default.BigInt(i));case"microsecond":w=j.default.add(j.default.multiply(w,St),j.default.BigInt(n));case"nanosecond":w=j.default.add(j.default.multiply(w,St),j.default.BigInt(o))}let x=d==="day"?v:jI[d],E=uo(w,j.default.BigInt(x*a),p),T=j.default.toNumber(j.default.divide(E,j.default.BigInt(x)));switch(d){case"day":return{deltaDays:T,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Pf(T,0,0,0,0,0);case"minute":return Pf(t,T,0,0,0,0);case"second":return Pf(t,e,T,0,0,0);case"millisecond":return Pf(t,e,r,T,0,0);case"microsecond":return Pf(t,e,r,i,T,0);case"nanosecond":return Pf(t,e,r,i,n,T);default:throw new Error(`Invalid unit ${d}`)}}function f1(t,e){return AM(P(t,Le),P(t,Ue),P(t,$e),P(e,Le),P(e,Ue),P(e,$e),"day").days}function en(t,e,r,i){let n=Li(t,e,r,void 0,i);return{relativeTo:n,days:f1(e,n)}}function OI(t,e,r,i,n){let o=P(t,Nt),a=P(t,ee);return ji(Co(P(t,tn),o,a,e,r,i,n,0,0,0,0,0,0),o,a)}function CI(t,e,r,i,n,o,a,d,p,v,w,x,E,T){let A=t,k=e,D=r,I=i,C=n,q=o,U=a,$=d,W=p,F=v;if(!We(T)||x==="year"||x==="month"||x==="week"||x==="day"||x==="nanosecond"&&w===1)return{years:A,months:k,weeks:D,days:I,hours:C,minutes:q,seconds:U,milliseconds:$,microseconds:W,nanoseconds:F};let L=t0(0,C,q,U,$,W,F,0),H=Zh(j.default.toNumber(L)),_=P(T,Nt),s=P(T,ee),u=Co(P(T,tn),_,s,A,k,D,I,0,0,0,0,0,0),h=Co(new(Ce("%Temporal.Instant%"))(u),_,s,0,0,0,H,0,0,0,0,0,0),c=j.default.subtract(h,u);return j.default.greaterThanOrEqual(j.default.multiply(j.default.subtract(L,c),j.default.BigInt(H)),Br)&&({years:A,months:k,weeks:D,days:I}=BI(A,k,D,I,0,0,0,0,0,0,0,0,0,H,0,0,0,0,0,0,T),L=x1(j.default.subtract(L,c),w,x,E),{hours:C,minutes:q,seconds:U,milliseconds:$,microseconds:W,nanoseconds:F}=es(0,0,0,0,0,0,j.default.toNumber(L),"hour")),{years:A,months:k,weeks:D,days:I,hours:C,minutes:q,seconds:U,milliseconds:$,microseconds:W,nanoseconds:F}}function Cf(t,e,r,i,n,o,a,d,p,v,w,x,E,T){let A=t,k=e,D=r,I=i,C=n,q=o,U=a,$=d,W=p,F=j.default.BigInt(v),L=Ce("%Temporal.Duration%"),H,_,s,u,h=T;if(h){if(We(h))_=h,h=zt(h);else if(!mt(h))throw new TypeError("starting point must be PlainDate or ZonedDateTime");H=P(h,ee)}if(x==="year"||x==="month"||x==="week"||x==="day"){let c,l,y;F=t0(0,C,q,U,$,W,v,0),_&&(c=OI(_,A,k,D,I)),{days:l,nanoseconds:F,dayLengthNs:y}=EM(F,c),s=j.default.BigInt(y),I+=l,C=q=U=$=W=0}switch(x){case"year":{if(!H)throw new RangeError("A starting point is required for years rounding");let c=new L(A),l=typeof H!="string"?Rt(H,"dateAdd"):void 0,y=Li(H,h,c,void 0,l),b=Li(H,h,new L(A,k,D),void 0,l);h=y,I+=f1(y,b);let m=Li(H,h,new L(0,0,0,I),void 0,l),f=nn(null);f.largestUnit="year";let g=Bu(H,h,m,f).years;A+=g;let R=h;h=Li(H,h,new L(g),void 0,l),I-=f1(R,h);let S=new L(I<0?-1:1),{days:B}=en(H,h,S,l);B=Xt(B);let z=j.default.multiply(j.default.BigInt(B),s);F=j.default.add(j.default.add(j.default.multiply(z,j.default.BigInt(A)),j.default.multiply(j.default.BigInt(I),s)),F);let G=uo(F,j.default.multiply(z,j.default.BigInt(w)),E);u=Pa(F,z),A=j.default.toNumber(j.default.divide(G,z)),F=Br,k=D=I=0;break}case"month":{if(!H)throw new RangeError("A starting point is required for months rounding");let c=new L(A,k),l=typeof H!="string"?Rt(H,"dateAdd"):void 0,y=Li(H,h,c,void 0,l),b=Li(H,h,new L(A,k,D),void 0,l);h=y,I+=f1(y,b);let m=Zh(I),f=new L(0,I<0?-1:1),g;for({relativeTo:h,days:g}=en(H,h,f,l);Xt(I)>=Xt(g);)k+=m,I-=g,{relativeTo:h,days:g}=en(H,h,f,l);g=Xt(g);let R=j.default.multiply(j.default.BigInt(g),s);F=j.default.add(j.default.add(j.default.multiply(R,j.default.BigInt(k)),j.default.multiply(j.default.BigInt(I),s)),F);let S=uo(F,j.default.multiply(R,j.default.BigInt(w)),E);u=Pa(F,R),k=j.default.toNumber(j.default.divide(S,R)),F=Br,D=I=0;break}case"week":{if(!H)throw new RangeError("A starting point is required for weeks rounding");let c=Zh(I),l=new L(0,0,I<0?-1:1),y=typeof H!="string"?Rt(H,"dateAdd"):void 0,b;for({relativeTo:h,days:b}=en(H,h,l,y);Xt(I)>=Xt(b);)D+=c,I-=b,{relativeTo:h,days:b}=en(H,h,l,y);b=Xt(b);let m=j.default.multiply(j.default.BigInt(b),s);F=j.default.add(j.default.add(j.default.multiply(m,j.default.BigInt(D)),j.default.multiply(j.default.BigInt(I),s)),F);let f=uo(F,j.default.multiply(m,j.default.BigInt(w)),E);u=Pa(F,m),D=j.default.toNumber(j.default.divide(f,m)),F=Br,I=0;break}case"day":{let c=s;F=j.default.add(j.default.multiply(c,j.default.BigInt(I)),F);let l=uo(F,j.default.multiply(c,j.default.BigInt(w)),E);u=Pa(F,c),I=j.default.toNumber(j.default.divide(l,c)),F=Br;break}case"hour":{let l=j.default.multiply(j.default.BigInt(C),j.default.BigInt(36e11));l=j.default.add(l,j.default.multiply(j.default.BigInt(q),j.default.BigInt(6e10))),l=j.default.add(l,j.default.multiply(j.default.BigInt(U),Da)),l=j.default.add(l,j.default.multiply(j.default.BigInt($),Oo)),l=j.default.add(l,j.default.multiply(j.default.BigInt(W),St)),l=j.default.add(l,F),u=Pa(l,j.default.BigInt(36e11));let y=uo(l,j.default.BigInt(36e11*w),E);C=j.default.toNumber(j.default.divide(y,j.default.BigInt(36e11))),F=Br,q=U=$=W=0;break}case"minute":{let l=j.default.multiply(j.default.BigInt(q),j.default.BigInt(6e10));l=j.default.add(l,j.default.multiply(j.default.BigInt(U),Da)),l=j.default.add(l,j.default.multiply(j.default.BigInt($),Oo)),l=j.default.add(l,j.default.multiply(j.default.BigInt(W),St)),l=j.default.add(l,F),u=Pa(l,j.default.BigInt(6e10));let y=uo(l,j.default.BigInt(6e10*w),E);q=j.default.toNumber(j.default.divide(y,j.default.BigInt(6e10))),F=Br,U=$=W=0;break}case"second":{let l=j.default.multiply(j.default.BigInt(U),Da);l=j.default.add(l,j.default.multiply(j.default.BigInt($),Oo)),l=j.default.add(l,j.default.multiply(j.default.BigInt(W),St)),l=j.default.add(l,F),u=Pa(l,j.default.BigInt(1e9));let y=uo(l,j.default.BigInt(1e9*w),E);U=j.default.toNumber(j.default.divide(y,j.default.BigInt(1e9))),F=Br,$=W=0;break}case"millisecond":{let l=j.default.multiply(j.default.BigInt($),Oo);l=j.default.add(l,j.default.multiply(j.default.BigInt(W),St)),l=j.default.add(l,F),u=Pa(l,j.default.BigInt(1e6));let y=uo(l,j.default.BigInt(1e6*w),E);$=j.default.toNumber(j.default.divide(y,j.default.BigInt(1e6))),F=Br,W=0;break}case"microsecond":{let l=j.default.multiply(j.default.BigInt(W),St);l=j.default.add(l,F),u=Pa(l,j.default.BigInt(1e3));let y=uo(l,j.default.BigInt(1e3*w),E);W=j.default.toNumber(j.default.divide(y,j.default.BigInt(1e3))),F=Br;break}case"nanosecond":u=j.default.toNumber(F),F=uo(j.default.BigInt(F),j.default.BigInt(w),E)}return{years:A,months:k,weeks:D,days:I,hours:C,minutes:q,seconds:U,milliseconds:$,microseconds:W,nanoseconds:j.default.toNumber(F),total:u}}function Du(t,e,r,i,n,o){for(let[a,d]of[[t,i],[e,n],[r,o]])if(a!==d)return bl(a-d);return 0}function pl(t,e){let{quotient:r,remainder:i}=Ur(t,e);return j.default.lessThan(i,Br)&&(r=j.default.subtract(r,n0),i=j.default.add(i,e)),{quotient:r,remainder:i}}function Gh(t,e){let{quotient:r,remainder:i}=Ur(t,e);return Do(i)||!h1(t)==!h1(e)?r:j.default.subtract(r,n0)}function Pa(t,e){let{quotient:r,remainder:i}=Ur(t,e);return j.default.toNumber(r)+j.default.toNumber(i)/j.default.toNumber(e)}function M1(t){let e=Nm(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Nm(t){let e=t;if(typeof t=="object"){let r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=T1(r,t,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?j.default.BigInt(e.toString(10)):j.default.BigInt(e)}var IM=(()=>{let t=j.default.BigInt(Date.now()%1e6);return()=>{let e=j.default.BigInt(Date.now()),r=j.default.add(j.default.multiply(e,Oo),t);return t=j.default.remainder(e,Oo),j.default.greaterThan(r,Yh)?Yh:j.default.lessThan(r,Lm)?Lm:r}})();function Iu(){return new nI().resolvedOptions().timeZone}function bl(t){return t<0?-1:t>0?1:t}function yt(t){if(t===void 0)return nn(null);if(er(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function r0(t,e){let r=nn(null);return r[t]=e,r}function zu(t){let e=nn(null);return $h(e,yt(t),[]),e}function Nu(t,e,r,i){let n=t[e];if(n!==void 0){if(n=Sn(n),!r.includes(n))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function qf(t){return tte.includes(qa(t))}function qa(t){return t.replace(/[A-Z]/g,e=>{let r=e.charCodeAt(0);return String.fromCharCode(r+32)})}var qI=new RegExp(`^${tI.source}$`);function NI(t,e,r,i=t(e),n=t(r)){let o=j.default.BigInt(e),a=j.default.BigInt(r),d=i,p=n;for(;j.default.greaterThan(j.default.subtract(a,o),n0);){let v=j.default.divide(j.default.add(o,a),j.default.BigInt(2)),w=t(v);if(w===d)o=v,d=w;else{if(w!==p)throw new Error(`invalid state in bisection ${d} - ${w} - ${p}`);a=v,p=w}}return a}var jI={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},LI=Symbol("date"),UI=Symbol("ym"),zI=Symbol("md"),FI=Symbol("time"),$I=Symbol("datetime"),WI=Symbol("instant"),Vh=Symbol("original"),Uh=Symbol("timezone"),Xo=Symbol("calendar-id"),GI=Symbol("locale"),Gx=Symbol("options"),jm=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),Kh=globalThis.Intl.DateTimeFormat,Nf=Object.assign,ste=Object.prototype.hasOwnProperty,ate=Reflect.apply;function Lh(t,e){let r=t[e];return typeof r=="function"&&(r=new Kh(t[GI],r(t[Gx])),t[e]=r),r}function Sl(t,e={}){if(!(this instanceof Sl))return new Sl(t,e);let r=e!==void 0,i=r?Nf({},e):{},n=new Kh(t,i),o=n.resolvedOptions();if(r){let a=Nf({},o);for(let d in a)ate(ste,i,[d])||delete a[d];this[Gx]=a}else this[Gx]=i;this[GI]=o.locale,this[Vh]=n,this[Uh]=o.timeZone,this[Xo]=o.calendar,this[LI]=lte,this[UI]=ute,this[zI]=cte,this[FI]=fte,this[$I]=dte,this[WI]=hte}Object.defineProperty(Sl,"name",{writable:!0,value:"DateTimeFormat"}),Sl.supportedLocalesOf=function(t,e){return Kh.supportedLocalesOf(t,e)};var Ix={resolvedOptions:jm(function(){return this[Vh].resolvedOptions()}),format:jm(function(e,...r){let{instant:i,formatter:n}=Hh(e,this);return i&&n?n.format(i.epochMilliseconds):this[Vh].format(e,...r)}),formatRange:jm(function(e,r){if(i0(e)||i0(r)){if(!VI(e,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:i,formatter:n}=Hh(e,this),{instant:o,formatter:a}=Hh(r,this);if(i&&o&&n&&a&&n===a)return n.formatRange(i.epochMilliseconds,o.epochMilliseconds)}return this[Vh].formatRange(e,r)})};"formatToParts"in Kh.prototype&&(Ix.formatToParts=jm(function(e,...r){let{instant:i,formatter:n}=Hh(e,this);return i&&n?n.formatToParts(i.epochMilliseconds):this[Vh].formatToParts(e,...r)})),"formatRangeToParts"in Kh.prototype&&(Ix.formatRangeToParts=jm(function(e,r){if(i0(e)||i0(r)){if(!VI(e,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:i,formatter:n}=Hh(e,this),{instant:o,formatter:a}=Hh(r,this);if(i&&o&&n&&a&&n===a)return n.formatRangeToParts(i.epochMilliseconds,o.epochMilliseconds)}return this[Vh].formatRangeToParts(e,r)})),Sl.prototype=Object.create(Kh.prototype,Ix),Object.defineProperty(Sl,"prototype",{writable:!1,enumerable:!1,configurable:!1});var jf=Sl;function ny(t={},e={}){let r=Nf({},t);for(let i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[i]=i in e?e[i]:r[i],r[i]!==!1&&r[i]!==void 0||delete r[i];return r}function fte(t){let e=ny(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return BM(e)||(e=Nf({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function ute(t){let e=ny(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=Nf(e,{year:"numeric",month:"numeric"})),e}function cte(t){let e=ny(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=Nf({},e,{month:"numeric",day:"numeric"})),e}function lte(t){let e=ny(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return DM(e)||(e=Nf({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function dte(t){let e=ny(t,{timeZoneName:!1});return BM(e)||DM(e)||(e=Nf({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function hte(t){let e=t;return BM(e)||DM(e)||(e=Nf({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function DM(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function BM(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function i0(t){return mt(t)||Dr(t)||tt(t)||We(t)||Et(t)||li(t)||ei(t)}function VI(t,e){return!(!i0(t)||!i0(e))&&!(Dr(t)&&!Dr(e))&&!(mt(t)&&!mt(e))&&!(tt(t)&&!tt(e))&&!(We(t)&&!We(e))&&!(Et(t)&&!Et(e))&&!(li(t)&&!li(e))&&!(ei(t)&&!ei(e))}function Hh(t,e){let r=Ce("%Temporal.PlainDateTime%");if(Dr(t)){let i=new r(1970,1,1,P(t,nt),P(t,ot),P(t,st),P(t,at),P(t,ft),P(t,ut),e[Xo]);return{instant:En(e[Uh],i,"compatible"),formatter:Lh(e,FI)}}if(Et(t)){let i=P(t,Le),n=P(t,Ue),o=P(t,$e),a=zi(P(t,ee));if(a!==e[Xo])throw new RangeError(`cannot format PlainYearMonth with calendar ${a} in locale with calendar ${e[Xo]}`);let d=new r(i,n,o,12,0,0,0,0,0,a);return{instant:En(e[Uh],d,"compatible"),formatter:Lh(e,UI)}}if(li(t)){let i=P(t,Le),n=P(t,Ue),o=P(t,$e),a=zi(P(t,ee));if(a!==e[Xo])throw new RangeError(`cannot format PlainMonthDay with calendar ${a} in locale with calendar ${e[Xo]}`);let d=new r(i,n,o,12,0,0,0,0,0,a);return{instant:En(e[Uh],d,"compatible"),formatter:Lh(e,zI)}}if(mt(t)){let i=P(t,Le),n=P(t,Ue),o=P(t,$e),a=zi(P(t,ee));if(a!=="iso8601"&&a!==e[Xo])throw new RangeError(`cannot format PlainDate with calendar ${a} in locale with calendar ${e[Xo]}`);let d=new r(i,n,o,12,0,0,0,0,0,e[Xo]);return{instant:En(e[Uh],d,"compatible"),formatter:Lh(e,LI)}}if(tt(t)){let i=P(t,Le),n=P(t,Ue),o=P(t,$e),a=P(t,nt),d=P(t,ot),p=P(t,st),v=P(t,at),w=P(t,ft),x=P(t,ut),E=zi(P(t,ee));if(E!=="iso8601"&&E!==e[Xo])throw new RangeError(`cannot format PlainDateTime with calendar ${E} in locale with calendar ${e[Xo]}`);let T=t;return E==="iso8601"&&(T=new r(i,n,o,a,d,p,v,w,x,e[Xo])),{instant:En(e[Uh],T,"compatible"),formatter:Lh(e,$I)}}if(We(t))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return ei(t)?{instant:t,formatter:Lh(e,WI)}:{}}var rTe=Object.freeze({__proto__:null,DateTimeFormat:jf}),Bo=class{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let r=Nm(e);ml(r),ja(this),ct(this,Ze,r)}get epochSeconds(){if(!ei(this))throw new TypeError("invalid receiver");let e=P(this,Ze);return j.default.toNumber(Gh(e,Da))}get epochMilliseconds(){if(!ei(this))throw new TypeError("invalid receiver");let e=j.default.BigInt(P(this,Ze));return j.default.toNumber(Gh(e,Oo))}get epochMicroseconds(){if(!ei(this))throw new TypeError("invalid receiver");return M1(Gh(j.default.BigInt(P(this,Ze)),St))}get epochNanoseconds(){if(!ei(this))throw new TypeError("invalid receiver");return M1(j.default.BigInt(P(this,Ze)))}add(e){if(!ei(this))throw new TypeError("invalid receiver");return Uk("add",this,e)}subtract(e){if(!ei(this))throw new TypeError("invalid receiver");return Uk("subtract",this,e)}until(e,r){if(!ei(this))throw new TypeError("invalid receiver");return Bk("until",this,e,r)}since(e,r){if(!ei(this))throw new TypeError("invalid receiver");return Bk("since",this,e,r)}round(e){if(!ei(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?r0("smallestUnit",e):yt(e),i=s0(r),n=zs(r,"halfExpand"),o=Qn(r,"smallestUnit","time",_l);a0(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[o],!0);let a=x1(P(this,Ze),i,o,n);return new Bo(a)}equals(e){if(!ei(this))throw new TypeError("invalid receiver");let r=Us(e),i=P(this,Ze),n=P(r,Ze);return j.default.equal(j.default.BigInt(i),j.default.BigInt(n))}toString(e){if(!ei(this))throw new TypeError("invalid receiver");let r=yt(e),i=Jm(r),n=zs(r,"trunc"),o=Qn(r,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let a=r.timeZone;a!==void 0&&(a=rn(a));let{precision:d,unit:p,increment:v}=Qm(o,i),w=x1(P(this,Ze),v,p,n);return Ek(new Bo(w),a,d)}toJSON(){if(!ei(this))throw new TypeError("invalid receiver");return Ek(this,void 0,"auto")}toLocaleString(e,r){if(!ei(this))throw new TypeError("invalid receiver");return new jf(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!ei(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid argument in toZonedDateTime");let r=e.calendar;if(r===void 0)throw new TypeError("missing calendar property in toZonedDateTime");let i=Xn(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");let o=rn(n);return ji(P(this,Ze),o,i)}toZonedDateTimeISO(e){if(!ei(this))throw new TypeError("invalid receiver");let r=rn(e);return ji(P(this,Ze),r,"iso8601")}static fromEpochSeconds(e){let r=Jh(e),i=j.default.multiply(j.default.BigInt(r),Da);return ml(i),new Bo(i)}static fromEpochMilliseconds(e){let r=Jh(e),i=j.default.multiply(j.default.BigInt(r),Oo);return ml(i),new Bo(i)}static fromEpochMicroseconds(e){let r=Nm(e),i=j.default.multiply(r,St);return ml(i),new Bo(i)}static fromEpochNanoseconds(e){let r=Nm(e);return ml(r),new Bo(r)}static from(e){return ei(e)?new Bo(P(e,Ze)):Us(e)}static compare(e,r){let i=Us(e),n=Us(r),o=P(i,Ze),a=P(n,Ze);return j.default.lessThan(o,a)?-1:j.default.greaterThan(o,a)?1:0}};Na(Bo,"Temporal.Instant");var KI=Array.prototype.includes,pte=Array.prototype.push,mte=globalThis.Intl.DateTimeFormat,yte=Array.prototype.sort,gte=Math.abs,vte=Math.floor,Dx=Object.create,Vx=Object.entries,HI=Set,Gk=Reflect.ownKeys,Xi=Set.prototype.add,ZI=Set.prototype.values,ir={},rr=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");let r=Sn(e);if(!qf(r))throw new RangeError(`invalid calendar identifier ${r}`);ja(this),ct(this,Sr,qa(r))}get id(){if(!kr(this))throw new TypeError("invalid receiver");return P(this,Sr)}dateFromFields(e,r){if(!kr(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid fields");let i=yt(r),n=P(this,Sr);return ir[n].dateFromFields(e,i,n)}yearMonthFromFields(e,r){if(!kr(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid fields");let i=yt(r),n=P(this,Sr);return ir[n].yearMonthFromFields(e,i,n)}monthDayFromFields(e,r){if(!kr(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid fields");let i=yt(r),n=P(this,Sr);return ir[n].monthDayFromFields(e,i,n)}fields(e){if(!kr(this))throw new TypeError("invalid receiver");let r=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let n of e){if(typeof n!="string")throw new TypeError("invalid fields");if(!i.has(n))throw new RangeError(`invalid field name ${n}`);i.delete(n),pte.call(r,n)}return ir[P(this,Sr)].fields(r)}mergeFields(e,r){if(!kr(this))throw new TypeError("invalid receiver");let i=xk(e),n=Dx(null);$h(n,i,[],[void 0]);let o=xk(r),a=Dx(null);$h(a,o,[],[void 0]);let d=Gk(a),p=ir[P(this,Sr)].fieldKeysToIgnore(d),v=Dx(null),w=Gk(n);for(let x of w){let E;E=Ke(KI,p,[x])?a[x]:n[x],E!==void 0&&(v[x]=E)}return $h(v,a,[]),v}dateAdd(e,r,i){if(!kr(this))throw new TypeError("invalid receiver");let n=zt(e),o=Wh(r),a=zr(yt(i)),{days:d}=es(P(o,yn),P(o,gn),P(o,vn),P(o,bn),P(o,wn),P(o,_n),P(o,xn),"day"),p=P(this,Sr);return ir[p].dateAdd(n,P(o,mn),P(o,Ii),P(o,Bn),d,a,p)}dateUntil(e,r,i){if(!kr(this))throw new TypeError("invalid receiver");let n=zt(e),o=zt(r),a=Qn(yt(i),"largestUnit","date","auto");a==="auto"&&(a="day");let{years:d,months:p,weeks:v,days:w}=ir[P(this,Sr)].dateUntil(n,o,a);return new(Ce("%Temporal.Duration%"))(d,p,v,w,0,0,0,0,0,0)}year(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||(r=zt(r)),ir[P(this,Sr)].year(r)}month(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");if(li(r))throw new TypeError("use monthCode on PlainMonthDay instead");return Et(r)||(r=zt(r)),ir[P(this,Sr)].month(r)}monthCode(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||li(r)||(r=zt(r)),ir[P(this,Sr)].monthCode(r)}day(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return li(r)||(r=zt(r)),ir[P(this,Sr)].day(r)}era(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||(r=zt(r)),ir[P(this,Sr)].era(r)}eraYear(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||(r=zt(r)),ir[P(this,Sr)].eraYear(r)}dayOfWeek(e){if(!kr(this))throw new TypeError("invalid receiver");let r=zt(e);return ir[P(this,Sr)].dayOfWeek(r)}dayOfYear(e){if(!kr(this))throw new TypeError("invalid receiver");let r=zt(e);return ir[P(this,Sr)].dayOfYear(r)}weekOfYear(e){if(!kr(this))throw new TypeError("invalid receiver");let r=zt(e);return ir[P(this,Sr)].weekOfYear(r)}yearOfWeek(e){if(!kr(this))throw new TypeError("invalid receiver");let r=zt(e);return ir[P(this,Sr)].yearOfWeek(r)}daysInWeek(e){if(!kr(this))throw new TypeError("invalid receiver");let r=zt(e);return ir[P(this,Sr)].daysInWeek(r)}daysInMonth(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||(r=zt(r)),ir[P(this,Sr)].daysInMonth(r)}daysInYear(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||(r=zt(r)),ir[P(this,Sr)].daysInYear(r)}monthsInYear(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||(r=zt(r)),ir[P(this,Sr)].monthsInYear(r)}inLeapYear(e){let r=e;if(!kr(this))throw new TypeError("invalid receiver");return Et(r)||(r=zt(r)),ir[P(this,Sr)].inLeapYear(r)}toString(){if(!kr(this))throw new TypeError("invalid receiver");return P(this,Sr)}toJSON(){if(!kr(this))throw new TypeError("invalid receiver");return P(this,Sr)}static from(e){return f0(Xn(e))}};function OM(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function Df(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function u1(t,e,r=12){let{month:i,monthCode:n}=t;if(n===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Ui(i,1,r),e==="constrain"&&(i=Yn(i,1,r)),n=Df(i)}else{let o=OM(n);if(i!==void 0&&i!==o)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==Df(o))throw new RangeError(`Invalid month code: ${n}`);if(i=o,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...t,month:i,monthCode:n}}Na(rr,"Temporal.Calendar"),Ar("Temporal.Calendar.from",rr.from),Ar("Temporal.Calendar.prototype.dateAdd",rr.prototype.dateAdd),Ar("Temporal.Calendar.prototype.dateFromFields",rr.prototype.dateFromFields),Ar("Temporal.Calendar.prototype.dateUntil",rr.prototype.dateUntil),Ar("Temporal.Calendar.prototype.day",rr.prototype.day),Ar("Temporal.Calendar.prototype.dayOfWeek",rr.prototype.dayOfWeek),Ar("Temporal.Calendar.prototype.dayOfYear",rr.prototype.dayOfYear),Ar("Temporal.Calendar.prototype.daysInMonth",rr.prototype.daysInMonth),Ar("Temporal.Calendar.prototype.daysInWeek",rr.prototype.daysInWeek),Ar("Temporal.Calendar.prototype.daysInYear",rr.prototype.daysInYear),Ar("Temporal.Calendar.prototype.era",rr.prototype.era),Ar("Temporal.Calendar.prototype.eraYear",rr.prototype.eraYear),Ar("Temporal.Calendar.prototype.fields",rr.prototype.fields),Ar("Temporal.Calendar.prototype.inLeapYear",rr.prototype.inLeapYear),Ar("Temporal.Calendar.prototype.mergeFields",rr.prototype.mergeFields),Ar("Temporal.Calendar.prototype.month",rr.prototype.month),Ar("Temporal.Calendar.prototype.monthCode",rr.prototype.monthCode),Ar("Temporal.Calendar.prototype.monthDayFromFields",rr.prototype.monthDayFromFields),Ar("Temporal.Calendar.prototype.monthsInYear",rr.prototype.monthsInYear),Ar("Temporal.Calendar.prototype.weekOfYear",rr.prototype.weekOfYear),Ar("Temporal.Calendar.prototype.year",rr.prototype.year),Ar("Temporal.Calendar.prototype.yearMonthFromFields",rr.prototype.yearMonthFromFields),Ar("Temporal.Calendar.prototype.yearOfWeek",rr.prototype.yearOfWeek),ir.iso8601={dateFromFields(t,e,r){let i=lt(t,["day","month","monthCode","year"],["year","day"]),n=zr(e);i=u1(i);let{year:o,month:a,day:d}=i;return{year:o,month:a,day:d}=m1(o,a,d,n),qo(o,a,d,r)},yearMonthFromFields(t,e,r){let i=lt(t,["month","monthCode","year"],["year"]),n=zr(e);i=u1(i);let{year:o,month:a}=i;return{year:o,month:a}=function(p,v,w){let x=p,E=v;switch(w){case"reject":Ca(x,E,1);break;case"constrain":({year:x,month:E}=TI(x,E))}return{year:x,month:E}}(o,a,n),zm(o,a,r,1)},monthDayFromFields(t,e,r){let i=lt(t,["day","month","monthCode","year"],["day"]),n=zr(e);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");let o=i.monthCode===void 0;i=u1(i);let{month:a,day:d,year:p}=i;return{month:a,day:d}=m1(o?p:1972,a,d,n),Um(a,d,r,1972)},fields:t=>t,fieldKeysToIgnore(t){let e=new HI;for(let r=0;r<t.length;r++){let i=t[r];Ke(Xi,e,[i]),i==="month"?Ke(Xi,e,["monthCode"]):i==="monthCode"&&Ke(Xi,e,["month"])}return[...Ke(ZI,e,[])]},dateAdd(t,e,r,i,n,o,a){let d=P(t,Le),p=P(t,Ue),v=P(t,$e);return{year:d,month:p,day:v}=vl(d,p,v,e,r,i,n,o),qo(d,p,v,a)},dateUntil:(t,e,r)=>AM(P(t,Le),P(t,Ue),P(t,$e),P(e,Le),P(e,Ue),P(e,$e),r),year:t=>P(t,Le),era(){},eraYear(){},month:t=>P(t,Ue),monthCode:t=>Df(P(t,Ue)),day:t=>P(t,$e),dayOfWeek:t=>Fx(P(t,Le),P(t,Ue),P(t,$e)),dayOfYear:t=>w1(P(t,Le),P(t,Ue),P(t,$e)),weekOfYear:t=>Ik(P(t,Le),P(t,Ue),P(t,$e)).week,yearOfWeek:t=>Ik(P(t,Le),P(t,Ue),P(t,$e)).year,daysInWeek:()=>7,daysInMonth:t=>If(P(t,Le),P(t,Ue)),daysInYear(t){let e=t;return hi(e,Le)||(e=zt(e)),qu(P(e,Le))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return hi(e,Le)||(e=zt(e)),qu(P(e,Le))}};var Qt=class{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let r=0;for(let i of e.map.entries()){if(++r>Qt.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){let r=this.map.get(e);return r&&(this.hits++,this.report()),this.calls++,r}set(e,r){this.map.set(e,r),this.misses++,this.report()}report(){}setObject(e){if(Qt.objectMap.get(e))throw new RangeError("object already cached");Qt.objectMap.set(e,this),this.report()}static getCacheForObject(e){let r=Qt.objectMap.get(e);return r||(r=new Qt,Qt.objectMap.set(e,r)),r}};function YI({isoYear:t,isoMonth:e,isoDay:r}){return`${kl(t)}-${nr(e)}-${nr(r)}T00:00Z`}function Bx(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}Qt.objectMap=new WeakMap,Qt.MAX_CACHE_ENTRIES=1e3;var ju=class{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new mte(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,r){let{year:i,month:n,day:o}=e,a=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:n,isoDay:o,id:this.id}),d=r.get(a);if(d)return d;let p=this.getFormatter(),v,w;try{w=YI({isoYear:i,isoMonth:n,isoDay:o}),v=p.formatToParts(new Date(w))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:n,isoDay:o})}`)}let x={};for(let{type:T,value:A}of v){if(T==="year"&&(x.eraYear=+A),T==="relatedYear"&&(x.eraYear=+A),T==="month"){let k=/^([0-9]*)(.*?)$/.exec(A);if(!k||k.length!=3||!k[1]&&!k[2])throw new RangeError(`Unexpected month: ${A}`);if(x.month=k[1]?+k[1]:1,x.month<1)throw new RangeError(`Invalid month ${A} from ${w}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(x.month>13)throw new RangeError(`Invalid month ${A} from ${w}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);k[2]&&(x.monthExtra=k[2])}T==="day"&&(x.day=+A),this.hasEra&&T==="era"&&A!=null&&A!==""&&(A=A.split(" (")[0],x.era=A.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(x.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:T,eraYear:A}=this.reviseIntlEra(x,e);x.era=T,x.eraYear=A}this.checkIcuBugs&&this.checkIcuBugs(e);let E=this.adjustCalendarDate(x,r,"constrain",!0);if(E.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(E.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(E.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return r.set(a,E),["constrain","reject"].forEach(T=>{let A=JSON.stringify({func:"calendarToIsoDate",year:E.year,month:E.month,day:E.day,overflow:T,id:this.id});r.set(A,e)}),E}validateCalendarDate(e){let{era:r,month:i,year:n,day:o,eraYear:a,monthCode:d,monthExtra:p}=e;if(p!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(n===void 0&&a===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&d===void 0)throw new TypeError("month or monthCode is required");if(o===void 0)throw new RangeError("Missing day");if(d!==void 0){if(typeof d!="string")throw new RangeError("monthCode must be a string, not "+typeof d);if(!/^M([01]?\d)(L?)$/.test(d))throw new RangeError(`Invalid monthCode: ${d}`)}if(this.constantEra){if(r!==void 0&&r!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${r}`);if(a!==void 0&&n!==void 0&&a!==n)throw new RangeError(`eraYear ${a} does not match year ${n}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,r,i="constrain",n=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let o=e;if(this.validateCalendarDate(o),this.constantEra){let{year:v,eraYear:w}=o;o={...o,era:this.constantEra,year:v!==void 0?v:w,eraYear:w!==void 0?w:v}}let a=this.monthsInYear(o,r),{month:d,monthCode:p}=o;return{month:d,monthCode:p}=u1(o,i,a),{...o,month:d,monthCode:p}}regulateMonthDayNaive(e,r,i){let n=this.monthsInYear(e,i),{month:o,day:a}=e;return r==="reject"?(Ui(o,1,n),Ui(a,1,this.maximumMonthLength(e))):(o=Yn(o,1,n),a=Yn(a,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:a}}calendarToIsoDate(e,r="constrain",i){let n=e,o=this.adjustCalendarDate(e,i,r,!1);o=this.regulateMonthDayNaive(o,r,i);let{year:a,month:d,day:p}=o,v=JSON.stringify({func:"calendarToIsoDate",year:a,month:d,day:p,overflow:r,id:this.id}),w,x=i.get(v);if(x||n.year!==void 0&&n.month!==void 0&&n.day!==void 0&&(n.year!==o.year||n.month!==o.month||n.day!==o.day)&&(w=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:r,id:this.id}),x=i.get(w),x))return x;let E=this.estimateIsoDate({year:a,month:d,day:p}),T=C=>{let q=this.addDaysIso(E,C);if(o.day>this.minimumMonthLength(o)){let U=this.isoToCalendarDate(q,i);for(;U.month!==d||U.year!==a;){if(r==="reject")throw new RangeError(`day ${p} does not exist in month ${d} of year ${a}`);q=this.addDaysIso(q,-1),U=this.isoToCalendarDate(q,i)}}return q},A=0,k=this.isoToCalendarDate(E,i),D=Bx(o,k);if(D.years!==0||D.months!==0||D.days!==0){let C=365*D.years+30*D.months+D.days;E=this.addDaysIso(E,C),k=this.isoToCalendarDate(E,i),D=Bx(o,k),D.years===0&&D.months===0?E=T(D.days):A=this.compareCalendarDates(o,k)}let I=8;for(;A;){E=this.addDaysIso(E,A*I);let C=k;k=this.isoToCalendarDate(E,i);let q=A;if(A=this.compareCalendarDates(o,k),A){if(D=Bx(o,k),D.years===0&&D.months===0)E=T(D.days),A=0;else if(q&&A!==q)if(I>1)I/=2;else{if(r==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(k,C)>0&&(E=this.addDaysIso(E,-1)),A=0}}}if(i.set(v,E),w&&i.set(w,E),o.year===void 0||o.month===void 0||o.day===void 0||o.monthCode===void 0||this.hasEra&&(o.era===void 0||o.eraYear===void 0))throw new RangeError("Unexpected missing property");return E}temporalToCalendarDate(e,r){let i={year:P(e,Le),month:P(e,Ue),day:P(e,$e)};return this.isoToCalendarDate(i,r)}compareCalendarDates(e,r){let i=lt(e,["day","month","year"],["day","month","year"]),n=lt(r,["day","month","year"],["day","month","year"]);return i.year!==n.year?bl(i.year-n.year):i.month!==n.month?bl(i.month-n.month):i.day!==n.day?bl(i.day-n.day):0}regulateDate(e,r="constrain",i){let n=this.calendarToIsoDate(e,r,i);return this.isoToCalendarDate(n,i)}addDaysIso(e,r){return vl(e.year,e.month,e.day,0,0,0,r,"constrain")}addDaysCalendar(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.addDaysIso(n,r);return this.isoToCalendarDate(o,i)}addMonthsCalendar(e,r,i,n){let o=e,{day:a}=o;for(let d=0,p=gte(r);d<p;d++){let{month:v}=o,w=o,x=r<0?-Math.max(a,this.daysInPreviousMonth(o,n)):this.daysInMonth(o,n),E=this.calendarToIsoDate(o,"constrain",n),T=this.addDaysIso(E,x);if(o=this.isoToCalendarDate(T,n),r>0){let A=this.monthsInYear(w,n);for(;o.month-1!=v%A;)T=this.addDaysIso(T,-1),o=this.isoToCalendarDate(T,n)}o.day!==a&&(o=this.regulateDate({...o,day:a},"constrain",n))}if(i==="reject"&&o.day!==a)throw new RangeError(`Day ${a} does not exist in resulting calendar month`);return o}addCalendar(e,{years:r=0,months:i=0,weeks:n=0,days:o=0},a,d){let{year:p,day:v,monthCode:w}=e,x=this.adjustCalendarDate({year:p+r,monthCode:w,day:v},d),E=this.addMonthsCalendar(x,i,a,d),T=o+7*n;return this.addDaysCalendar(E,T,d)}untilCalendar(e,r,i,n){let o=0,a=0,d=0,p=0;switch(i){case"day":o=this.calendarDaysUntil(e,r,n);break;case"week":{let v=this.calendarDaysUntil(e,r,n);o=v%7,a=(v-o)/7;break}case"month":case"year":{let v=this.compareCalendarDates(r,e);if(!v)return{years:0,months:0,weeks:0,days:0};let w=r.year-e.year,x=r.day-e.day;if(i==="year"&&w){let A=0;r.monthCode>e.monthCode&&(A=1),r.monthCode<e.monthCode&&(A=-1),A||(A=Math.sign(x)),p=A*v<0?w-v:w}let E,T=p?this.addCalendar(e,{years:p},"constrain",n):e;do d+=v,E=T,T=this.addMonthsCalendar(E,v,"constrain",n),T.day!==e.day&&(T=this.regulateDate({...T,day:e.day},"constrain",n));while(this.compareCalendarDates(r,T)*v>=0);d-=v,o=this.calendarDaysUntil(E,r,n);break}}return{years:p,months:d,weeks:a,days:o}}daysInMonth(e,r){let{day:i}=e,n=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===n)return o;let a=i<=n-o?n:o,d=this.calendarToIsoDate(e,"constrain",r),p=this.addDaysIso(d,a),v=this.isoToCalendarDate(p,r),w=this.addDaysIso(p,-v.day);return this.isoToCalendarDate(w,r).day}daysInPreviousMonth(e,r){let{day:i,month:n,year:o}=e,a={year:n>1?o:o-1,month:n,day:1},d=n>1?n-1:this.monthsInYear(a,r);a={...a,month:d};let p=this.minimumMonthLength(a),v=this.maximumMonthLength(a);if(p===v)return v;let w=this.calendarToIsoDate(e,"constrain",r),x=this.addDaysIso(w,-i);return this.isoToCalendarDate(x,r).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.calendarToIsoDate(r,"constrain",i);return this.isoDaysUntil(n,o)}isoDaysUntil(e,r){return AM(e.year,e.month,e.day,r.year,r.month,r.day,"day").days}monthDayFromFields(e,r,i){let n,o,a,d,p,{monthCode:v,day:w}=e;if(v===void 0){let{year:T,era:A,eraYear:k}=e;if(T===void 0&&(A===void 0||k===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:v,day:w}=this.isoToCalendarDate(this.calendarToIsoDate(e,r,i),i))}let x=this.isoToCalendarDate({year:1972,month:12,day:31},i),E=x.monthCode>v||x.monthCode===v&&x.day>=w?x.year:x.year-1;for(let T=0;T<100;T++){let A=this.adjustCalendarDate({day:w,monthCode:v,year:E-T},i),k=this.calendarToIsoDate(A,"constrain",i),D=this.isoToCalendarDate(k,i);if({year:n,month:o,day:a}=k,D.monthCode===v&&D.day===w)return{month:o,day:a,year:n};r==="constrain"&&(d===void 0||D.monthCode===d.monthCode&&D.day>d.day)&&(d=D,p=k)}if(r==="constrain"&&p!==void 0)return p;throw new RangeError(`No recent ${this.id} year with monthCode ${v} and day ${w}`)}},Kx=class extends ju{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){let{year:r}=e;return(7*r+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,r){let{month:i,year:n}=e,o=this.getMonthCode(n,i),a=Vx(this.months).find(p=>p[1].monthCode===o);if(a===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);let d=a[1].days;return typeof d=="number"?d:d[r]}estimateIsoDate(e){let{year:r}=e;return{year:r-3760,month:1,day:1}}getMonthCode(e,r){return this.inLeapYear({year:e})?r===6?Df(5,!0):Df(r<6?r:r-1):Df(r)}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,eraYear:a,month:d,monthCode:p,day:v,monthExtra:w}=e;if(o===void 0&&a!==void 0&&(o=a),a===void 0&&o!==void 0&&(a=o),n){if(w){let x=this.months[w];if(!x)throw new RangeError(`Unrecognized month from formatToParts: ${w}`);d=this.inLeapYear({year:o})?x.leap:x.regular}return p=this.getMonthCode(o,d),{year:o,month:d,day:v,era:void 0,eraYear:a,monthCode:p}}if(this.validateCalendarDate(e),d===void 0)if(p.endsWith("L")){if(p!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${p}`);if(d=6,!this.inLeapYear({year:o})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);d=6,p="M06"}}else{d=OM(p),this.inLeapYear({year:o})&&d>=6&&d++;let x=this.monthsInYear({year:o});if(d<1||d>x)throw new RangeError(`Invalid monthCode: ${p}`)}else if(i==="reject"?(Ui(d,1,this.monthsInYear({year:o})),Ui(v,1,this.maximumMonthLength({year:o,month:d}))):(d=Yn(d,1,this.monthsInYear({year:o})),v=Yn(v,1,this.maximumMonthLength({year:o,month:d}))),p===void 0)p=this.getMonthCode(o,d);else if(this.getMonthCode(o,d)!==p)throw new RangeError(`monthCode ${p} doesn't correspond to month ${d} in Hebrew year ${o}`);return{...e,day:v,month:d,monthCode:p,year:o,eraYear:a}}},Lu=class extends ju{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,r){return this.daysInMonth({year:e.year,month:12,day:1},r)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:vte(r*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},E1=class extends Lu{constructor(){super(...arguments),this.id="islamic"}},Hx=class extends Lu{constructor(){super(...arguments),this.id="islamic-umalqura"}},Zx=class extends Lu{constructor(){super(...arguments),this.id="islamic-tbla"}},Yx=class extends Lu{constructor(){super(...arguments),this.id="islamic-civil"}},Jx=class extends Lu{constructor(){super(...arguments),this.id="islamic-rgsa"}},Qx=class extends Lu{constructor(){super(...arguments),this.id="islamicc"}},Xx=class extends ju{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,r){return E1.prototype.inLeapYear.call(this,e,r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===12?29:r<=6?31:30}maximumMonthLength(e){let{month:r}=e;return r===12?30:r<=6?31:30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:r+621,month:1,day:1}}},eM=class extends ju{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return JI(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){let{month:r}=e,i=this.months[r];if(i===void 0)throw new RangeError(`Invalid month: ${r}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){let r=this.adjustCalendarDate(e),i=this.getMonthInfo(r);return vl(r.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,r.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function JI(t){return t%4==0&&(t%100!=0||t%400==0)}var Al=class extends ju{constructor(e,r){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;let{eras:i,anchorEra:n}=function(a){let d,p=a;if(p.length===0)throw new RangeError("Invalid era data: eras are required");if(p.length===1&&p[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(p.length===1&&!p[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(p.filter(w=>w.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");p.forEach(w=>{if(w.isAnchor||!w.anchorEpoch&&!w.reverseOf){if(d)throw new RangeError("Invalid era data: cannot have multiple anchor eras");d=w,w.anchorEpoch={year:w.hasYearZero?0:1}}else if(!w.name)throw new RangeError("If era name is blank, it must be the anchor era")}),p=p.filter(w=>w.name),p.forEach(w=>{let{reverseOf:x}=w;if(x){let E=p.find(T=>T.name===x);if(E===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${x}`);w.reverseOf=E,w.anchorEpoch=E.anchorEpoch,w.isoEpoch=E.isoEpoch}w.anchorEpoch.month===void 0&&(w.anchorEpoch.month=1),w.anchorEpoch.day===void 0&&(w.anchorEpoch.day=1)}),yte.call(p,(w,x)=>{if(w.reverseOf)return 1;if(x.reverseOf)return-1;if(!w.isoEpoch||!x.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return x.isoEpoch.year-w.isoEpoch.year});let v=p[p.length-1].reverseOf;if(v&&v!==p[p.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return p.forEach((w,x)=>{w.genericName="era"+(p.length-1-x)}),{eras:p,anchorEra:d||p[0]}}(r);this.anchorEra=n,this.eras=i}inLeapYear(e){let{year:r}=this.estimateIsoDate({month:1,day:1,year:e.year});return JI(r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(r)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){let r=(d,p)=>{let v=e[d];if(v!=null&&v!=p)throw new RangeError(`Input ${d} ${v} doesn't match calculated value ${p}`)},i=d=>{let p,v={...e,year:d},w=this.eras.find((x,E)=>{if(E===this.eras.length-1){if(x.reverseOf){if(d>0)throw new RangeError(`Signed year ${d} is invalid for era ${x.name}`);return p=x.anchorEpoch.year-d,!0}return p=d-x.anchorEpoch.year+(x.hasYearZero?0:1),!0}return this.compareCalendarDates(v,x.anchorEpoch)>=0&&(p=d-x.anchorEpoch.year+(x.hasYearZero?0:1),!0)});if(!w)throw new RangeError(`Year ${d} was not matched by any era`);return{eraYear:p,era:w.name}},{year:n,eraYear:o,era:a}=e;if(n!=null)({eraYear:o,era:a}=i(n)),r("era",a),r("eraYear",o);else{if(o==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let d=a===void 0?void 0:this.eras.find(p=>p.name===a||p.genericName===a);if(!d)throw new RangeError(`Era ${a} (ISO year ${o}) was not matched by any era`);if(o<1&&d.reverseOf)throw new RangeError(`Years in ${a} era must be positive, not ${n}`);n=d.reverseOf?d.anchorEpoch.year-o:o+d.anchorEpoch.year-(d.hasYearZero?0:1),r("year",n),{eraYear:o,era:a}=i(n)}}return{...e,year:n,eraYear:o,era:a}}adjustCalendarDate(e,r,i="constrain"){let n=e,{month:o,monthCode:a}=n;return o===void 0&&(n={...n,month:OM(a)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,r,i)}estimateIsoDate(e){let r=this.adjustCalendarDate(e),{year:i,month:n,day:o}=r,{anchorEra:a}=this;return m1(i+a.isoEpoch.year-(a.hasYearZero?0:1),n,o,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Du(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},$m=class extends Al{constructor(e,r){super(e,r)}inLeapYear(e){let{year:r}=e;return(r+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){let{month:r}=e;return r===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}},tM=class extends $m{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},rM=class extends $m{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},iM=class extends $m{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},nM=class extends Al{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},oM=class extends Al{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},sM=class extends Al{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:r,eraYear:i}=e;return r!=="bc"&&r!=="b"||(r="bce"),r!=="ad"&&r!=="a"||(r="ce"),{era:r,eraYear:i}}},aM=class extends Al{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,r){let{era:i,eraYear:n}=e,{year:o}=r;return this.eras.find(a=>a.name===i)?{era:i,eraYear:n}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}},S1=class extends ju{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,r){let i=this.getMonthList(e.year,r);return Vx(i).length===13}monthsInYear(e,r){return this.inLeapYear(e,r)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,r){if(e===void 0)throw new TypeError("Missing year");let i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=r.get(i);if(n)return n;let o=this.getFormatter(),a=(D,I)=>{let C=YI({isoYear:D,isoMonth:2,isoDay:1}),q=new Date(C);q.setUTCDate(I+1);let U=o.formatToParts(q),$=U.find(L=>L.type==="month").value,W=+U.find(L=>L.type==="day").value,F=U.find(L=>L.type==="relatedYear");if(F===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return F=+F.value,{calendarMonthString:$,calendarDay:W,calendarYearToVerify:F}},d=17,{calendarMonthString:p,calendarDay:v,calendarYearToVerify:w}=a(e,d);p!=="1"&&(d+=29,{calendarMonthString:p,calendarDay:v}=a(e,d)),d-=v-5;let x={},E,T,A=1,k=!1;do({calendarMonthString:p,calendarDay:v,calendarYearToVerify:w}=a(e,d)),E&&(x[T].daysInMonth=E+30-v),w!==e?k=!0:(x[p]={monthIndex:A++},d+=30),E=v,T=p;while(!k);return x[T].daysInMonth=E+30-v,r.set(i,x),x}estimateIsoDate(e){let{year:r,month:i}=e;return{year:r,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,month:a,monthExtra:d,day:p,monthCode:v,eraYear:w}=e;if(n){if(o=w,d&&d!=="bis")throw new RangeError(`Unexpected leap month suffix: ${d}`);let x=Df(a,d!==void 0),E=`${a}${d||""}`,T=this.getMonthList(o,r)[E];if(T===void 0)throw new RangeError(`Unmatched month ${E} in Chinese year ${o}`);return a=T.monthIndex,{year:o,month:a,day:p,era:void 0,eraYear:w,monthCode:x}}if(this.validateCalendarDate(e),o===void 0&&(o=w),w===void 0&&(w=o),a===void 0){let x=this.getMonthList(o,r),E=v.replace("L","bis").slice(1);E[0]==="0"&&(E=E.slice(1));let T=x[E];if(a=T&&T.monthIndex,a===void 0&&v.endsWith("L")&&v!="M13L"&&i==="constrain"){let A=v.slice(1,-1);A[0]==="0"&&(A=A.slice(1)),T=x[A],T&&(a=T.monthIndex,v=Df(A))}if(a===void 0)throw new RangeError(`Unmatched month ${v} in Chinese year ${o}`)}else if(v===void 0){let x=this.getMonthList(o,r),E=Vx(x),T=E.length;i==="reject"?(Ui(a,1,T),Ui(p,1,this.maximumMonthLength())):(a=Yn(a,1,T),p=Yn(p,1,this.maximumMonthLength()));let A=E.find(([,k])=>k.monthIndex===a);if(A===void 0)throw new RangeError(`Invalid month ${a} in Chinese year ${o}`);v=Df(A[0].replace("bis",""),A[0].indexOf("bis")!==-1)}else{let x=this.getMonthList(o,r),E=v.replace("L","bis").slice(1);E[0]==="0"&&(E=E.slice(1));let T=x[E];if(!T)throw new RangeError(`Unmatched monthCode ${v} in Chinese year ${o}`);if(a!==T.monthIndex)throw new RangeError(`monthCode ${v} doesn't correspond to month ${a} in Chinese year ${o}`)}return{...e,year:o,eraYear:w,month:a,monthCode:v,day:p}}},fM=class extends S1{constructor(){super(...arguments),this.id="chinese"}},uM=class extends S1{constructor(){super(...arguments),this.id="dangi"}},cM=class{constructor(e){this.helper=e}dateFromFields(e,r,i){let n=new Qt,o=lt(e,this.fields(["day","month","monthCode","year"]),[]),a=zr(r),{year:d,month:p,day:v}=this.helper.calendarToIsoDate(o,a,n),w=qo(d,p,v,i);return n.setObject(w),w}yearMonthFromFields(e,r,i){let n=new Qt,o=lt(e,this.fields(["month","monthCode","year"]),[]),a=zr(r),{year:d,month:p,day:v}=this.helper.calendarToIsoDate({...o,day:1},a,n),w=zm(d,p,i,v);return n.setObject(w),w}monthDayFromFields(e,r,i){let n=new Qt,o=lt(e,this.fields(["day","month","monthCode","year"]),[]),a=zr(r),{year:d,month:p,day:v}=this.helper.monthDayFromFields(o,a,n),w=Um(p,v,i,d);return n.setObject(w),w}fields(e){let r=e;return KI.call(r,"year")&&(r=[...r,"era","eraYear"]),r}fieldKeysToIgnore(e){let r=new HI;for(let i=0;i<e.length;i++){let n=e[i];switch(Ke(Xi,r,[n]),n){case"era":Ke(Xi,r,["eraYear"]),Ke(Xi,r,["year"]);break;case"eraYear":Ke(Xi,r,["era"]),Ke(Xi,r,["year"]);break;case"year":Ke(Xi,r,["era"]),Ke(Xi,r,["eraYear"]);break;case"month":Ke(Xi,r,["monthCode"]),this.helper.erasBeginMidYear&&(Ke(Xi,r,["era"]),Ke(Xi,r,["eraYear"]));break;case"monthCode":Ke(Xi,r,["month"]),this.helper.erasBeginMidYear&&(Ke(Xi,r,["era"]),Ke(Xi,r,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Ke(Xi,r,["era"]),Ke(Xi,r,["eraYear"]))}}return[...Ke(ZI,r,[])]}dateAdd(e,r,i,n,o,a,d){let p=Qt.getCacheForObject(e),v=this.helper.temporalToCalendarDate(e,p),w=this.helper.addCalendar(v,{years:r,months:i,weeks:n,days:o},a,p),x=this.helper.calendarToIsoDate(w,"constrain",p),{year:E,month:T,day:A}=x,k=qo(E,T,A,d);return new Qt(p).setObject(k),k}dateUntil(e,r,i){let n=Qt.getCacheForObject(e),o=Qt.getCacheForObject(r),a=this.helper.temporalToCalendarDate(e,n),d=this.helper.temporalToCalendarDate(r,o);return this.helper.untilCalendar(a,d,i,n)}year(e){let r=Qt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).year}month(e){let r=Qt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).month}day(e){let r=Qt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).day}era(e){if(!this.helper.hasEra)return;let r=Qt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).era}eraYear(e){if(!this.helper.hasEra)return;let r=Qt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).eraYear}monthCode(e){let r=Qt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).monthCode}dayOfWeek(e){return ir.iso8601.dayOfWeek(e)}dayOfYear(e){let r=Qt.getCacheForObject(e),i=this.helper.isoToCalendarDate(e,r),n=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(n,i,r)+1}weekOfYear(e){return ir.iso8601.weekOfYear(e)}yearOfWeek(e){return ir.iso8601.yearOfWeek(e)}daysInWeek(e){return ir.iso8601.daysInWeek(e)}daysInMonth(e){let r=Qt.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r),n=this.helper.maximumMonthLength(i);if(n===this.helper.minimumMonthLength(i))return n;let o=this.helper.startOfCalendarMonth(i),a=this.helper.addMonthsCalendar(o,1,"constrain",r);return this.helper.calendarDaysUntil(o,a,r)}daysInYear(e){let r=e;hi(r,Le)||(r=zt(r));let i=Qt.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i),o=this.helper.startOfCalendarYear(n),a=this.helper.addCalendar(o,{years:1},"constrain",i);return this.helper.calendarDaysUntil(o,a,i)}monthsInYear(e){let r=Qt.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r);return this.helper.monthsInYear(i,r)}inLeapYear(e){let r=e;hi(r,Le)||(r=zt(r));let i=Qt.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i);return this.helper.inLeapYear(n,i)}};for(let t of[Kx,Xx,iM,tM,rM,fM,uM,nM,eM,oM,sM,aM,E1,Hx,Zx,Yx,Jx,Qx]){let e=new t;ir[e.id]=new cM(e)}var Tl=class{constructor(e,r,i,n="iso8601"){lI(this,xt(e),xt(r),xt(i),Xn(n))}get calendarId(){if(!mt(this))throw new TypeError("invalid receiver");return zi(P(this,ee))}get era(){if(!mt(this))throw new TypeError("invalid receiver");return I1(P(this,ee),this)}get eraYear(){if(!mt(this))throw new TypeError("invalid receiver");return D1(P(this,ee),this)}get year(){if(!mt(this))throw new TypeError("invalid receiver");return R1(P(this,ee),this)}get month(){if(!mt(this))throw new TypeError("invalid receiver");return k1(P(this,ee),this)}get monthCode(){if(!mt(this))throw new TypeError("invalid receiver");return ey(P(this,ee),this)}get day(){if(!mt(this))throw new TypeError("invalid receiver");return ty(P(this,ee),this)}get dayOfWeek(){if(!mt(this))throw new TypeError("invalid receiver");return yM(P(this,ee),this)}get dayOfYear(){if(!mt(this))throw new TypeError("invalid receiver");return gM(P(this,ee),this)}get weekOfYear(){if(!mt(this))throw new TypeError("invalid receiver");return vM(P(this,ee),this)}get yearOfWeek(){if(!mt(this))throw new TypeError("invalid receiver");return bM(P(this,ee),this)}get daysInWeek(){if(!mt(this))throw new TypeError("invalid receiver");return wM(P(this,ee),this)}get daysInMonth(){if(!mt(this))throw new TypeError("invalid receiver");return B1(P(this,ee),this)}get daysInYear(){if(!mt(this))throw new TypeError("invalid receiver");return O1(P(this,ee),this)}get monthsInYear(){if(!mt(this))throw new TypeError("invalid receiver");return C1(P(this,ee),this)}get inLeapYear(){if(!mt(this))throw new TypeError("invalid receiver");return q1(P(this,ee),this)}with(e,r){if(!mt(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid argument");o0(e);let i=yt(r),n=P(this,ee),o=Vr(n,["day","month","monthCode","year"]),a=lt(this,o,[]);return a=Ml(n,a,lt(e,o,"partial")),a=lt(a,o,[]),Of(n,a,i)}withCalendar(e){if(!mt(this))throw new TypeError("invalid receiver");let r=Xn(e);return new Tl(P(this,Le),P(this,Ue),P(this,$e),r)}add(e,r){if(!mt(this))throw new TypeError("invalid receiver");let i=Wh(e),n=yt(r);return Li(P(this,ee),this,i,n)}subtract(e,r){if(!mt(this))throw new TypeError("invalid receiver");let i=AI(Wh(e)),n=yt(r);return Li(P(this,ee),this,i,n)}until(e,r){if(!mt(this))throw new TypeError("invalid receiver");return Ok("until",this,e,r)}since(e,r){if(!mt(this))throw new TypeError("invalid receiver");return Ok("since",this,e,r)}equals(e){if(!mt(this))throw new TypeError("invalid receiver");let r=zt(e);for(let i of[Le,Ue,$e])if(P(this,i)!==P(r,i))return!1;return iy(P(this,ee),P(r,ee))}toString(e){if(!mt(this))throw new TypeError("invalid receiver");return Sk(this,Ym(yt(e)))}toJSON(){if(!mt(this))throw new TypeError("invalid receiver");return Sk(this)}toLocaleString(e,r){if(!mt(this))throw new TypeError("invalid receiver");return new jf(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!mt(this))throw new TypeError("invalid receiver");let r=P(this,Le),i=P(this,Ue),n=P(this,$e),o=P(this,ee);if(e===void 0)return Zn(r,i,n,0,0,0,0,0,0,o);let a=Rf(e);return Zn(r,i,n,P(a,nt),P(a,ot),P(a,st),P(a,at),P(a,ft),P(a,ut),o)}toZonedDateTime(e){if(!mt(this))throw new TypeError("invalid receiver");let r,i;if(er(e))if(Io(e))r=e;else{let A=e.timeZone;A===void 0?r=rn(e):(r=rn(A),i=e.plainTime)}else r=rn(e);let n=P(this,Le),o=P(this,Ue),a=P(this,$e),d=P(this,ee),p=0,v=0,w=0,x=0,E=0,T=0;return i!==void 0&&(i=Rf(i),p=P(i,nt),v=P(i,ot),w=P(i,st),x=P(i,at),E=P(i,ft),T=P(i,ut)),ji(P(En(r,Zn(n,o,a,p,v,w,x,E,T,d),"compatible"),Ze),r,d)}toPlainYearMonth(){if(!mt(this))throw new TypeError("invalid receiver");let e=P(this,ee);return El(e,lt(this,Vr(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!mt(this))throw new TypeError("invalid receiver");let e=P(this,ee);return Xh(e,lt(this,Vr(e,["day","monthCode"]),[]))}getISOFields(){if(!mt(this))throw new TypeError("invalid receiver");return{calendar:P(this,ee),isoDay:P(this,$e),isoMonth:P(this,Ue),isoYear:P(this,Le)}}getCalendar(){if(!mt(this))throw new TypeError("invalid receiver");return f0(P(this,ee))}static from(e,r){let i=yt(r);return mt(e)?(zr(i),qo(P(e,Le),P(e,Ue),P(e,$e),P(e,ee))):zt(e,i)}static compare(e,r){let i=zt(e),n=zt(r);return Du(P(i,Le),P(i,Ue),P(i,$e),P(n,Le),P(n,Ue),P(n,$e))}};Na(Tl,"Temporal.PlainDate");var Pl=class{constructor(e,r,i,n=0,o=0,a=0,d=0,p=0,v=0,w="iso8601"){dI(this,xt(e),xt(r),xt(i),n===void 0?0:xt(n),o===void 0?0:xt(o),a===void 0?0:xt(a),d===void 0?0:xt(d),p===void 0?0:xt(p),v===void 0?0:xt(v),Xn(w))}get calendarId(){if(!tt(this))throw new TypeError("invalid receiver");return zi(P(this,ee))}get year(){if(!tt(this))throw new TypeError("invalid receiver");return R1(P(this,ee),this)}get month(){if(!tt(this))throw new TypeError("invalid receiver");return k1(P(this,ee),this)}get monthCode(){if(!tt(this))throw new TypeError("invalid receiver");return ey(P(this,ee),this)}get day(){if(!tt(this))throw new TypeError("invalid receiver");return ty(P(this,ee),this)}get hour(){if(!tt(this))throw new TypeError("invalid receiver");return P(this,nt)}get minute(){if(!tt(this))throw new TypeError("invalid receiver");return P(this,ot)}get second(){if(!tt(this))throw new TypeError("invalid receiver");return P(this,st)}get millisecond(){if(!tt(this))throw new TypeError("invalid receiver");return P(this,at)}get microsecond(){if(!tt(this))throw new TypeError("invalid receiver");return P(this,ft)}get nanosecond(){if(!tt(this))throw new TypeError("invalid receiver");return P(this,ut)}get era(){if(!tt(this))throw new TypeError("invalid receiver");return I1(P(this,ee),this)}get eraYear(){if(!tt(this))throw new TypeError("invalid receiver");return D1(P(this,ee),this)}get dayOfWeek(){if(!tt(this))throw new TypeError("invalid receiver");return yM(P(this,ee),this)}get dayOfYear(){if(!tt(this))throw new TypeError("invalid receiver");return gM(P(this,ee),this)}get weekOfYear(){if(!tt(this))throw new TypeError("invalid receiver");return vM(P(this,ee),this)}get yearOfWeek(){if(!tt(this))throw new TypeError("invalid receiver");return bM(P(this,ee),this)}get daysInWeek(){if(!tt(this))throw new TypeError("invalid receiver");return wM(P(this,ee),this)}get daysInYear(){if(!tt(this))throw new TypeError("invalid receiver");return O1(P(this,ee),this)}get daysInMonth(){if(!tt(this))throw new TypeError("invalid receiver");return B1(P(this,ee),this)}get monthsInYear(){if(!tt(this))throw new TypeError("invalid receiver");return C1(P(this,ee),this)}get inLeapYear(){if(!tt(this))throw new TypeError("invalid receiver");return q1(P(this,ee),this)}with(e,r){if(!tt(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid argument");o0(e);let i=yt(r),n=P(this,ee),o=Vr(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),a=lt(this,o,[]);a=Ml(n,a,lt(e,o,"partial")),a=lt(a,o,[]);let{year:d,month:p,day:v,hour:w,minute:x,second:E,millisecond:T,microsecond:A,nanosecond:k}=Xm(n,a,i);return Zn(d,p,v,w,x,E,T,A,k,n)}withPlainTime(e){if(!tt(this))throw new TypeError("invalid receiver");let r=P(this,Le),i=P(this,Ue),n=P(this,$e),o=P(this,ee);if(e===void 0)return Zn(r,i,n,0,0,0,0,0,0,o);let a=Rf(e);return Zn(r,i,n,P(a,nt),P(a,ot),P(a,st),P(a,at),P(a,ft),P(a,ut),o)}withPlainDate(e){if(!tt(this))throw new TypeError("invalid receiver");let r=zt(e),i=P(r,Le),n=P(r,Ue),o=P(r,$e),a=P(r,ee),d=P(this,nt),p=P(this,ot),v=P(this,st),w=P(this,at),x=P(this,ft),E=P(this,ut);return a=yI(P(this,ee),a),Zn(i,n,o,d,p,v,w,x,E,a)}withCalendar(e){if(!tt(this))throw new TypeError("invalid receiver");let r=Xn(e);return new Pl(P(this,Le),P(this,Ue),P(this,$e),P(this,nt),P(this,ot),P(this,st),P(this,at),P(this,ft),P(this,ut),r)}add(e,r){if(!tt(this))throw new TypeError("invalid receiver");return zk("add",this,e,r)}subtract(e,r){if(!tt(this))throw new TypeError("invalid receiver");return zk("subtract",this,e,r)}until(e,r){if(!tt(this))throw new TypeError("invalid receiver");return Ck("until",this,e,r)}since(e,r){if(!tt(this))throw new TypeError("invalid receiver");return Ck("since",this,e,r)}round(e){if(!tt(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?r0("smallestUnit",e):yt(e),i=s0(r),n=zs(r,"halfExpand"),o=Qn(r,"smallestUnit","time",_l,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];a0(i,a,a===1);let d=P(this,Le),p=P(this,Ue),v=P(this,$e),w=P(this,nt),x=P(this,ot),E=P(this,st),T=P(this,at),A=P(this,ft),k=P(this,ut);return{year:d,month:p,day:v,hour:w,minute:x,second:E,millisecond:T,microsecond:A,nanosecond:k}=RM(d,p,v,w,x,E,T,A,k,i,o,n),Zn(d,p,v,w,x,E,T,A,k,P(this,ee))}equals(e){if(!tt(this))throw new TypeError("invalid receiver");let r=gl(e);for(let i of[Le,Ue,$e,nt,ot,st,at,ft,ut])if(P(this,i)!==P(r,i))return!1;return iy(P(this,ee),P(r,ee))}toString(e){if(!tt(this))throw new TypeError("invalid receiver");let r=yt(e),i=Ym(r),n=Jm(r),o=zs(r,"trunc"),a=Qn(r,"smallestUnit","time",void 0);if(a==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:d,unit:p,increment:v}=Qm(a,n);return Ak(this,d,i,{unit:p,increment:v,roundingMode:o})}toJSON(){if(!tt(this))throw new TypeError("invalid receiver");return Ak(this,"auto")}toLocaleString(e,r){if(!tt(this))throw new TypeError("invalid receiver");return new jf(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,r){if(!tt(this))throw new TypeError("invalid receiver");let i=rn(e);return ji(P(En(i,this,Qh(yt(r))),Ze),i,P(this,ee))}toPlainDate(){if(!tt(this))throw new TypeError("invalid receiver");return e0(this)}toPlainYearMonth(){if(!tt(this))throw new TypeError("invalid receiver");let e=P(this,ee);return El(e,lt(this,Vr(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!tt(this))throw new TypeError("invalid receiver");let e=P(this,ee);return Xh(e,lt(this,Vr(e,["day","monthCode"]),[]))}toPlainTime(){if(!tt(this))throw new TypeError("invalid receiver");return _M(this)}getISOFields(){if(!tt(this))throw new TypeError("invalid receiver");return{calendar:P(this,ee),isoDay:P(this,$e),isoHour:P(this,nt),isoMicrosecond:P(this,ft),isoMillisecond:P(this,at),isoMinute:P(this,ot),isoMonth:P(this,Ue),isoNanosecond:P(this,ut),isoSecond:P(this,st),isoYear:P(this,Le)}}getCalendar(){if(!tt(this))throw new TypeError("invalid receiver");return f0(P(this,ee))}static from(e,r){let i=yt(r);return tt(e)?(zr(i),Zn(P(e,Le),P(e,Ue),P(e,$e),P(e,nt),P(e,ot),P(e,st),P(e,at),P(e,ft),P(e,ut),P(e,ee))):gl(e,i)}static compare(e,r){let i=gl(e),n=gl(r);for(let o of[Le,Ue,$e,nt,ot,st,at,ft,ut]){let a=P(i,o),d=P(n,o);if(a!==d)return bl(a-d)}return 0}};Na(Pl,"Temporal.PlainDateTime");var ka=class{constructor(e=0,r=0,i=0,n=0,o=0,a=0,d=0,p=0,v=0,w=0){let x=e===void 0?0:di(e),E=r===void 0?0:di(r),T=i===void 0?0:di(i),A=n===void 0?0:di(n),k=o===void 0?0:di(o),D=a===void 0?0:di(a),I=d===void 0?0:di(d),C=p===void 0?0:di(p),q=v===void 0?0:di(v),U=w===void 0?0:di(w);_1(x,E,T,A,k,D,I,C,q,U),ja(this),ct(this,mn,x),ct(this,Ii,E),ct(this,Bn,T),ct(this,yn,A),ct(this,gn,k),ct(this,vn,D),ct(this,bn,I),ct(this,wn,C),ct(this,_n,q),ct(this,xn,U)}get years(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,mn)}get months(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,Ii)}get weeks(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,Bn)}get days(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,yn)}get hours(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,gn)}get minutes(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,vn)}get seconds(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,bn)}get milliseconds(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,wn)}get microseconds(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,_n)}get nanoseconds(){if(!Ir(this))throw new TypeError("invalid receiver");return P(this,xn)}get sign(){if(!Ir(this))throw new TypeError("invalid receiver");return Ba(P(this,mn),P(this,Ii),P(this,Bn),P(this,yn),P(this,gn),P(this,vn),P(this,bn),P(this,wn),P(this,_n),P(this,xn))}get blank(){if(!Ir(this))throw new TypeError("invalid receiver");return Ba(P(this,mn),P(this,Ii),P(this,Bn),P(this,yn),P(this,gn),P(this,vn),P(this,bn),P(this,wn),P(this,_n),P(this,xn))===0}with(e){if(!Ir(this))throw new TypeError("invalid receiver");let r=lt(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=P(this,mn),months:n=P(this,Ii),weeks:o=P(this,Bn),days:a=P(this,yn),hours:d=P(this,gn),minutes:p=P(this,vn),seconds:v=P(this,bn),milliseconds:w=P(this,wn),microseconds:x=P(this,_n),nanoseconds:E=P(this,xn)}=r;return new ka(i,n,o,a,d,p,v,w,x,E)}negated(){if(!Ir(this))throw new TypeError("invalid receiver");return AI(this)}abs(){if(!Ir(this))throw new TypeError("invalid receiver");return new ka(Math.abs(P(this,mn)),Math.abs(P(this,Ii)),Math.abs(P(this,Bn)),Math.abs(P(this,yn)),Math.abs(P(this,gn)),Math.abs(P(this,vn)),Math.abs(P(this,bn)),Math.abs(P(this,wn)),Math.abs(P(this,_n)),Math.abs(P(this,xn)))}add(e,r){if(!Ir(this))throw new TypeError("invalid receiver");return Lk("add",this,e,r)}subtract(e,r){if(!Ir(this))throw new TypeError("invalid receiver");return Lk("subtract",this,e,r)}round(e){if(!Ir(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=P(this,mn),i=P(this,Ii),n=P(this,Bn),o=P(this,yn),a=P(this,gn),d=P(this,vn),p=P(this,bn),v=P(this,wn),w=P(this,_n),x=P(this,xn),E=Lx(r,i,n,o,a,d,p,v,w,x),T=typeof e=="string"?r0("smallestUnit",e):yt(e),A=Qn(T,"largestUnit","datetime",void 0,["auto"]),k=s1(T),D=s0(T),I=zs(T,"halfExpand"),C=Qn(T,"smallestUnit","datetime",void 0),q=!0;C||(q=!1,C="nanosecond"),E=xl(E,C);let U=!0;if(A||(U=!1,A=E),A==="auto"&&(A=E),!q&&!U)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(xl(A,C)!==A)throw new RangeError(`largestUnit ${A} cannot be smaller than smallestUnit ${C}`);let $={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[C];return $!==void 0&&a0(D,$,!1),{years:r,months:i,weeks:n,days:o}=o1(r,i,n,o,A,k),{years:r,months:i,weeks:n,days:o,hours:a,minutes:d,seconds:p,milliseconds:v,microseconds:w,nanoseconds:x}=Cf(r,i,n,o,a,d,p,v,w,x,D,C,I,k),{years:r,months:i,weeks:n,days:o,hours:a,minutes:d,seconds:p,milliseconds:v,microseconds:w,nanoseconds:x}=CI(r,i,n,o,a,d,p,v,w,x,D,C,I,k),{days:o,hours:a,minutes:d,seconds:p,milliseconds:v,microseconds:w,nanoseconds:x}=es(o,a,d,p,v,w,x,A,k),{years:r,months:i,weeks:n,days:o}=function(F,L,H,_,s,u){let h=Ce("%Temporal.Duration%"),c=Ba(F,L,H,_,0,0,0,0,0,0);if(c===0)return{years:F,months:L,weeks:H,days:_};let l=j.default.BigInt(c),y,b,m=j.default.BigInt(F),f=j.default.BigInt(L),g=j.default.BigInt(H),R=j.default.BigInt(_);u&&(b=zt(u),y=P(b,ee));let S=new h(c),B=new h(0,c),z=new h(0,0,c);switch(s){case"year":{if(!y)throw new RangeError("a starting point is required for years balancing");let G=typeof y!="string"?Rt(y,"dateAdd"):void 0,V,J,Z;for({relativeTo:V,days:J}=en(y,b,S,G);j.default.greaterThanOrEqual(Ls(R),j.default.BigInt(Xt(J)));)R=j.default.subtract(R,j.default.BigInt(J)),m=j.default.add(m,l),b=V,{relativeTo:V,days:J}=en(y,b,S,G);for({relativeTo:V,days:Z}=en(y,b,B,G);j.default.greaterThanOrEqual(Ls(R),j.default.BigInt(Xt(Z)));)R=j.default.subtract(R,j.default.BigInt(Z)),f=j.default.add(f,l),b=V,{relativeTo:V,days:Z}=en(y,b,B,G);V=Li(y,b,S,void 0,G);let Y=typeof y!="string"?Rt(y,"dateUntil"):void 0,Fe=nn(null);Fe.largestUnit="month";let Q=Bu(y,b,V,Fe,Y),X=P(Q,Ii);for(;j.default.greaterThanOrEqual(Ls(f),j.default.BigInt(Xt(X)));){f=j.default.subtract(f,j.default.BigInt(X)),m=j.default.add(m,l),b=V,V=Li(y,b,S,void 0,G);let it=nn(null);it.largestUnit="month",Q=Bu(y,b,V,it,Y),X=P(Q,Ii)}break}case"month":{if(!y)throw new RangeError("a starting point is required for months balancing");let G=typeof y!="string"?Rt(y,"dateAdd"):void 0,V,J;for({relativeTo:V,days:J}=en(y,b,B,G);j.default.greaterThanOrEqual(Ls(R),j.default.BigInt(Xt(J)));)R=j.default.subtract(R,j.default.BigInt(J)),f=j.default.add(f,l),b=V,{relativeTo:V,days:J}=en(y,b,B,G);break}case"week":{if(!y)throw new RangeError("a starting point is required for weeks balancing");let G=typeof y!="string"?Rt(y,"dateAdd"):void 0,V,J;for({relativeTo:V,days:J}=en(y,b,z,G);j.default.greaterThanOrEqual(Ls(R),j.default.BigInt(Xt(J)));)R=j.default.subtract(R,j.default.BigInt(J)),g=j.default.add(g,l),b=V,{relativeTo:V,days:J}=en(y,b,z,G);break}}return{years:j.default.toNumber(m),months:j.default.toNumber(f),weeks:j.default.toNumber(g),days:j.default.toNumber(R)}}(r,i,n,o,A,k),new ka(r,i,n,o,a,d,p,v,w,x)}total(e){if(!Ir(this))throw new TypeError("invalid receiver");let r=P(this,mn),i=P(this,Ii),n=P(this,Bn),o=P(this,yn),a=P(this,gn),d=P(this,vn),p=P(this,bn),v=P(this,wn),w=P(this,_n),x=P(this,xn);if(e===void 0)throw new TypeError("options argument is required");let E=typeof e=="string"?r0("unit",e):yt(e),T=s1(E),A=Qn(E,"unit","datetime",_l),k;({years:r,months:i,weeks:n,days:o}=o1(r,i,n,o,A,T)),We(T)&&(k=OI(T,r,i,n,0));let D=SI(o,a,d,p,v,w,x,A,k);if(D==="positive overflow")return 1/0;if(D==="negative overflow")return-1/0;({days:o,hours:a,minutes:d,seconds:p,milliseconds:v,microseconds:w,nanoseconds:x}=D);let{total:I}=Cf(r,i,n,o,a,d,p,v,w,x,1,A,"trunc",T);return I}toString(e){if(!Ir(this))throw new TypeError("invalid receiver");let r=yt(e),i=Jm(r),n=zs(r,"trunc"),o=Qn(r,"smallestUnit","time",void 0);if(o==="hour"||o==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');let{precision:a,unit:d,increment:p}=Qm(o,i);return kx(this,a,{unit:d,increment:p,roundingMode:n})}toJSON(){if(!Ir(this))throw new TypeError("invalid receiver");return kx(this)}toLocaleString(e,r){if(!Ir(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,r).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),kx(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Ir(e)?new ka(P(e,mn),P(e,Ii),P(e,Bn),P(e,yn),P(e,gn),P(e,vn),P(e,bn),P(e,wn),P(e,_n),P(e,xn)):Wh(e)}static compare(e,r,i){let n=Wh(e),o=Wh(r),a=s1(yt(i)),d=P(n,mn),p=P(n,Ii),v=P(n,Bn),w=P(n,yn),x=P(n,gn),E=P(n,vn),T=P(n,bn),A=P(n,wn),k=P(n,_n),D=P(n,xn),I=P(o,mn),C=P(o,Ii),q=P(o,Bn),U=P(o,yn),$=P(o,gn),W=P(o,vn),F=P(o,bn),L=P(o,wn),H=P(o,_n),_=P(o,xn),s=Dk(a,d,p,v,w),u=Dk(a,I,C,q,U);d===0&&I===0&&p===0&&C===0&&v===0&&q===0||({days:w}=o1(d,p,v,w,"day",a),{days:U}=o1(I,C,q,U,"day",a));let h=t0(w,x,E,T,A,k,D,s),c=t0(U,$,W,F,L,H,_,u);return bl(j.default.toNumber(j.default.subtract(h,c)))}};Na(ka,"Temporal.Duration");var bte=Object.create,Wm=class{constructor(e,r,i="iso8601",n=1972){hI(this,xt(e),xt(r),Xn(i),xt(n))}get monthCode(){if(!li(this))throw new TypeError("invalid receiver");return ey(P(this,ee),this)}get day(){if(!li(this))throw new TypeError("invalid receiver");return ty(P(this,ee),this)}get calendarId(){if(!li(this))throw new TypeError("invalid receiver");return zi(P(this,ee))}with(e,r){if(!li(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid argument");o0(e);let i=yt(r),n=P(this,ee),o=Vr(n,["day","month","monthCode","year"]),a=lt(this,o,[]);return a=Ml(n,a,lt(e,o,"partial")),a=lt(a,o,[]),Xh(n,a,i)}equals(e){if(!li(this))throw new TypeError("invalid receiver");let r=Mk(e);for(let i of[Ue,$e,Le])if(P(this,i)!==P(r,i))return!1;return iy(P(this,ee),P(r,ee))}toString(e){if(!li(this))throw new TypeError("invalid receiver");return Tk(this,Ym(yt(e)))}toJSON(){if(!li(this))throw new TypeError("invalid receiver");return Tk(this)}toLocaleString(e,r){if(!li(this))throw new TypeError("invalid receiver");return new jf(e,r).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!li(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("argument should be an object");let r=P(this,ee),i=Vr(r,["day","monthCode"]),n=lt(this,i,[]),o=Vr(r,["year"]),a=Ml(r,n,lt(e,o,[]));a=lt(a,[...new Set([...i,...o])],[]);let d=bte(null);return d.overflow="reject",Of(r,a,d)}getISOFields(){if(!li(this))throw new TypeError("invalid receiver");return{calendar:P(this,ee),isoDay:P(this,$e),isoMonth:P(this,Ue),isoYear:P(this,Le)}}getCalendar(){if(!li(this))throw new TypeError("invalid receiver");return f0(P(this,ee))}static from(e,r){let i=yt(r);return li(e)?(zr(i),Um(P(e,Ue),P(e,$e),P(e,ee),P(e,Le))):Mk(e,i)}};Na(Wm,"Temporal.PlainMonthDay");var CM=()=>new(Ce("%Temporal.Instant%"))(IM()),Vk=(t,e=Iu())=>{let r=rn(e),i=Xn(t);return co(r,CM(),i)},Ox=(t=Iu())=>co(rn(t),CM(),"iso8601"),Kk=(t,e=Iu())=>{let r=rn(e),i=Xn(t);return ji(IM(),r,i)},QI={instant:CM,plainDateTime:Vk,plainDateTimeISO:Ox,plainDate:(t,e=Iu())=>e0(Vk(t,e)),plainDateISO:(t=Iu())=>e0(Ox(t)),plainTimeISO:(t=Iu())=>_M(Ox(t)),timeZoneId:()=>Iu(),zonedDateTime:Kk,zonedDateTimeISO:(t=Iu())=>Kk("iso8601",t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(QI,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var wte=Object.assign;function Hk(t,e,r){let i=P(t,nt),n=P(t,ot),o=P(t,st),a=P(t,at),d=P(t,ft),p=P(t,ut);if(r){let{unit:v,increment:w,roundingMode:x}=r;({hour:i,minute:n,second:o,millisecond:a,microsecond:d,nanosecond:p}=kM(i,n,o,a,d,p,w,v,x))}return`${nr(i)}:${nr(n)}${j1(o,a,d,p,e)}`}var Bf=class{constructor(e=0,r=0,i=0,n=0,o=0,a=0){let d=e===void 0?0:xt(e),p=r===void 0?0:xt(r),v=i===void 0?0:xt(i),w=n===void 0?0:xt(n),x=o===void 0?0:xt(o),E=a===void 0?0:xt(a);z1(d,p,v,w,x,E),ja(this),ct(this,nt,d),ct(this,ot,p),ct(this,st,v),ct(this,at,w),ct(this,ft,x),ct(this,ut,E)}get hour(){if(!Dr(this))throw new TypeError("invalid receiver");return P(this,nt)}get minute(){if(!Dr(this))throw new TypeError("invalid receiver");return P(this,ot)}get second(){if(!Dr(this))throw new TypeError("invalid receiver");return P(this,st)}get millisecond(){if(!Dr(this))throw new TypeError("invalid receiver");return P(this,at)}get microsecond(){if(!Dr(this))throw new TypeError("invalid receiver");return P(this,ft)}get nanosecond(){if(!Dr(this))throw new TypeError("invalid receiver");return P(this,ut)}with(e,r){if(!Dr(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid argument");o0(e);let i=zr(yt(r)),n=g1(e,"partial"),o=g1(this),{hour:a,minute:d,second:p,millisecond:v,microsecond:w,nanosecond:x}=wte(o,n);return{hour:a,minute:d,second:p,millisecond:v,microsecond:w,nanosecond:x}=P1(a,d,p,v,w,x,i),new Bf(a,d,p,v,w,x)}add(e){if(!Dr(this))throw new TypeError("invalid receiver");return Fk("add",this,e)}subtract(e){if(!Dr(this))throw new TypeError("invalid receiver");return Fk("subtract",this,e)}until(e,r){if(!Dr(this))throw new TypeError("invalid receiver");return qk("until",this,e,r)}since(e,r){if(!Dr(this))throw new TypeError("invalid receiver");return qk("since",this,e,r)}round(e){if(!Dr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?r0("smallestUnit",e):yt(e),i=s0(r),n=zs(r,"halfExpand"),o=Qn(r,"smallestUnit","time",_l);a0(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o],!1);let a=P(this,nt),d=P(this,ot),p=P(this,st),v=P(this,at),w=P(this,ft),x=P(this,ut);return{hour:a,minute:d,second:p,millisecond:v,microsecond:w,nanosecond:x}=kM(a,d,p,v,w,x,i,o,n),new Bf(a,d,p,v,w,x)}equals(e){if(!Dr(this))throw new TypeError("invalid receiver");let r=Rf(e);for(let i of[nt,ot,st,at,ft,ut])if(P(this,i)!==P(r,i))return!1;return!0}toString(e){if(!Dr(this))throw new TypeError("invalid receiver");let r=yt(e),i=Jm(r),n=zs(r,"trunc"),o=Qn(r,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:a,unit:d,increment:p}=Qm(o,i);return Hk(this,a,{unit:d,increment:p,roundingMode:n})}toJSON(){if(!Dr(this))throw new TypeError("invalid receiver");return Hk(this,"auto")}toLocaleString(e,r){if(!Dr(this))throw new TypeError("invalid receiver");return new jf(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Dr(this))throw new TypeError("invalid receiver");let r=zt(e),i=P(r,Le),n=P(r,Ue),o=P(r,$e),a=P(r,ee);return Zn(i,n,o,P(this,nt),P(this,ot),P(this,st),P(this,at),P(this,ft),P(this,ut),a)}toZonedDateTime(e){if(!Dr(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid argument");let r=e.plainDate;if(r===void 0)throw new TypeError("missing date property");let i=zt(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property");let o=rn(n),a=P(i,Le),d=P(i,Ue),p=P(i,$e),v=P(i,ee),w=P(this,nt),x=P(this,ot),E=P(this,st),T=P(this,at),A=P(this,ft),k=P(this,ut);return ji(P(En(o,new(Ce("%Temporal.PlainDateTime%"))(a,d,p,w,x,E,T,A,k,v),"compatible"),Ze),o,v)}getISOFields(){if(!Dr(this))throw new TypeError("invalid receiver");return{isoHour:P(this,nt),isoMicrosecond:P(this,ft),isoMillisecond:P(this,at),isoMinute:P(this,ot),isoNanosecond:P(this,ut),isoSecond:P(this,st)}}static from(e,r){let i=zr(yt(r));return Dr(e)?new Bf(P(e,nt),P(e,ot),P(e,st),P(e,at),P(e,ft),P(e,ut)):Rf(e,i)}static compare(e,r){let i=Rf(e),n=Rf(r);for(let o of[nt,ot,st,at,ft,ut]){let a=P(i,o),d=P(n,o);if(a!==d)return bl(a-d)}return 0}};Na(Bf,"Temporal.PlainTime");var wl=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let r=xM(e);ja(this),ct(this,Ra,r)}get id(){if(!Io(this))throw new TypeError("invalid receiver");return P(this,Ra)}getOffsetNanosecondsFor(e){if(!Io(this))throw new TypeError("invalid receiver");let r=Us(e),i=P(this,Ra);return zh(i)?Ou(i):kf(i,P(r,Ze))}getOffsetStringFor(e){if(!Io(this))throw new TypeError("invalid receiver");return Ux(this,Us(e))}getPlainDateTimeFor(e,r="iso8601"){if(!Io(this))throw new TypeError("invalid receiver");return co(this,Us(e),Xn(r))}getInstantFor(e,r){if(!Io(this))throw new TypeError("invalid receiver");return En(this,gl(e),Qh(yt(r)))}getPossibleInstantsFor(e){if(!Io(this))throw new TypeError("invalid receiver");let r=gl(e),i=Ce("%Temporal.Instant%"),n=P(this,Ra);if(zh(n)){let a=Cu(P(r,Le),P(r,Ue),P(r,$e),P(r,nt),P(r,ot),P(r,st),P(r,at),P(r,ft),P(r,ut));if(a===null)throw new RangeError("DateTime outside of supported range");let d=Ou(n);return[new i(j.default.subtract(a,j.default.BigInt(d)))]}return function(d,p,v,w,x,E,T,A,k,D){let I=Cu(p,v,w,x,E,T,A,k,D);if(I===null)throw new RangeError("DateTime outside of supported range");let C=j.default.subtract(I,Oa);j.default.lessThan(C,Lm)&&(C=I);let q=j.default.add(I,Oa);j.default.greaterThan(q,Yh)&&(q=I);let U=kf(d,C),$=kf(d,q);return(U===$?[U]:[U,$]).map(W=>{let F=j.default.subtract(I,j.default.BigInt(W)),L=xI(d,F);if(p===L.year&&v===L.month&&w===L.day&&x===L.hour&&E===L.minute&&T===L.second&&A===L.millisecond&&k===L.microsecond&&D===L.nanosecond)return F}).filter(W=>W!==void 0)}(n,P(r,Le),P(r,Ue),P(r,$e),P(r,nt),P(r,ot),P(r,st),P(r,at),P(r,ft),P(r,ut)).map(a=>new i(a))}getNextTransition(e){if(!Io(this))throw new TypeError("invalid receiver");let r=Us(e),i=P(this,Ra);if(zh(i)||i==="UTC")return null;let n=P(r,Ze),o=Ce("%Temporal.Instant%");return n=EI(i,n),n===null?null:new o(n)}getPreviousTransition(e){if(!Io(this))throw new TypeError("invalid receiver");let r=Us(e),i=P(this,Ra);if(zh(i)||i==="UTC")return null;let n=P(r,Ze),o=Ce("%Temporal.Instant%");return n=zx(i,n),n===null?null:new o(n)}toString(){if(!Io(this))throw new TypeError("invalid receiver");return P(this,Ra)}toJSON(){if(!Io(this))throw new TypeError("invalid receiver");return P(this,Ra)}static from(e){return gI(rn(e))}};Na(wl,"Temporal.TimeZone"),Ar("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",wl.prototype.getOffsetNanosecondsFor),Ar("Temporal.TimeZone.prototype.getPossibleInstantsFor",wl.prototype.getPossibleInstantsFor);var _te=Object.create,Gm=class{constructor(e,r,i="iso8601",n=1){pI(this,xt(e),xt(r),Xn(i),xt(n))}get year(){if(!Et(this))throw new TypeError("invalid receiver");return R1(P(this,ee),this)}get month(){if(!Et(this))throw new TypeError("invalid receiver");return k1(P(this,ee),this)}get monthCode(){if(!Et(this))throw new TypeError("invalid receiver");return ey(P(this,ee),this)}get calendarId(){if(!Et(this))throw new TypeError("invalid receiver");return zi(P(this,ee))}get era(){if(!Et(this))throw new TypeError("invalid receiver");return I1(P(this,ee),this)}get eraYear(){if(!Et(this))throw new TypeError("invalid receiver");return D1(P(this,ee),this)}get daysInMonth(){if(!Et(this))throw new TypeError("invalid receiver");return B1(P(this,ee),this)}get daysInYear(){if(!Et(this))throw new TypeError("invalid receiver");return O1(P(this,ee),this)}get monthsInYear(){if(!Et(this))throw new TypeError("invalid receiver");return C1(P(this,ee),this)}get inLeapYear(){if(!Et(this))throw new TypeError("invalid receiver");return q1(P(this,ee),this)}with(e,r){if(!Et(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid argument");o0(e);let i=yt(r),n=P(this,ee),o=Vr(n,["month","monthCode","year"]),a=lt(this,o,[]);return a=Ml(n,a,lt(e,o,"partial")),a=lt(a,o,[]),El(n,a,i)}add(e,r){if(!Et(this))throw new TypeError("invalid receiver");return $k("add",this,e,r)}subtract(e,r){if(!Et(this))throw new TypeError("invalid receiver");return $k("subtract",this,e,r)}until(e,r){if(!Et(this))throw new TypeError("invalid receiver");return Nk("until",this,e,r)}since(e,r){if(!Et(this))throw new TypeError("invalid receiver");return Nk("since",this,e,r)}equals(e){if(!Et(this))throw new TypeError("invalid receiver");let r=Cm(e);for(let i of[Le,Ue,$e])if(P(this,i)!==P(r,i))return!1;return iy(P(this,ee),P(r,ee))}toString(e){if(!Et(this))throw new TypeError("invalid receiver");return Pk(this,Ym(yt(e)))}toJSON(){if(!Et(this))throw new TypeError("invalid receiver");return Pk(this)}toLocaleString(e,r){if(!Et(this))throw new TypeError("invalid receiver");return new jf(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Et(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("argument should be an object");let r=P(this,ee),i=Vr(r,["monthCode","year"]),n=lt(this,i,[]),o=Vr(r,["day"]),a=Ml(r,n,lt(e,o,[]));a=lt(a,[...new Set([...i,...o])],[]);let d=_te(null);return d.overflow="reject",Of(r,a,d)}getISOFields(){if(!Et(this))throw new TypeError("invalid receiver");return{calendar:P(this,ee),isoDay:P(this,$e),isoMonth:P(this,Ue),isoYear:P(this,Le)}}getCalendar(){if(!Et(this))throw new TypeError("invalid receiver");return f0(P(this,ee))}static from(e,r){let i=yt(r);return Et(e)?(zr(i),zm(P(e,Le),P(e,Ue),P(e,ee),P(e,$e))):Cm(e,i)}static compare(e,r){let i=Cm(e),n=Cm(r);return Du(P(i,Le),P(i,Ue),P(i,$e),P(n,Le),P(n,Ue),P(n,$e))}};Na(Gm,"Temporal.PlainYearMonth");var xte=jf.prototype.resolvedOptions,Mte=Object.create,Vm=class{constructor(e,r,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");mI(this,Nm(e),rn(r),Xn(i))}get calendarId(){if(!We(this))throw new TypeError("invalid receiver");return zi(P(this,ee))}get timeZoneId(){if(!We(this))throw new TypeError("invalid receiver");return Fm(P(this,Nt))}get year(){if(!We(this))throw new TypeError("invalid receiver");return R1(P(this,ee),Yt(this))}get month(){if(!We(this))throw new TypeError("invalid receiver");return k1(P(this,ee),Yt(this))}get monthCode(){if(!We(this))throw new TypeError("invalid receiver");return ey(P(this,ee),Yt(this))}get day(){if(!We(this))throw new TypeError("invalid receiver");return ty(P(this,ee),Yt(this))}get hour(){if(!We(this))throw new TypeError("invalid receiver");return P(Yt(this),nt)}get minute(){if(!We(this))throw new TypeError("invalid receiver");return P(Yt(this),ot)}get second(){if(!We(this))throw new TypeError("invalid receiver");return P(Yt(this),st)}get millisecond(){if(!We(this))throw new TypeError("invalid receiver");return P(Yt(this),at)}get microsecond(){if(!We(this))throw new TypeError("invalid receiver");return P(Yt(this),ft)}get nanosecond(){if(!We(this))throw new TypeError("invalid receiver");return P(Yt(this),ut)}get era(){if(!We(this))throw new TypeError("invalid receiver");return I1(P(this,ee),Yt(this))}get eraYear(){if(!We(this))throw new TypeError("invalid receiver");return D1(P(this,ee),Yt(this))}get epochSeconds(){if(!We(this))throw new TypeError("invalid receiver");let e=P(this,Ze);return j.default.toNumber(Gh(e,Da))}get epochMilliseconds(){if(!We(this))throw new TypeError("invalid receiver");let e=P(this,Ze);return j.default.toNumber(Gh(e,Oo))}get epochMicroseconds(){if(!We(this))throw new TypeError("invalid receiver");return M1(Gh(P(this,Ze),St))}get epochNanoseconds(){if(!We(this))throw new TypeError("invalid receiver");return M1(P(this,Ze))}get dayOfWeek(){if(!We(this))throw new TypeError("invalid receiver");return yM(P(this,ee),Yt(this))}get dayOfYear(){if(!We(this))throw new TypeError("invalid receiver");return gM(P(this,ee),Yt(this))}get weekOfYear(){if(!We(this))throw new TypeError("invalid receiver");return vM(P(this,ee),Yt(this))}get yearOfWeek(){if(!We(this))throw new TypeError("invalid receiver");return bM(P(this,ee),Yt(this))}get hoursInDay(){if(!We(this))throw new TypeError("invalid receiver");let e=Yt(this),r=Ce("%Temporal.PlainDateTime%"),i=P(e,Le),n=P(e,Ue),o=P(e,$e),a=new r(i,n,o,0,0,0,0,0,0),d=vl(i,n,o,0,0,0,1,"reject"),p=new r(d.year,d.month,d.day,0,0,0,0,0,0),v=P(this,Nt),w=P(En(v,a,"compatible"),Ze),x=P(En(v,p,"compatible"),Ze);return Pa(j.default.subtract(x,w),sI)}get daysInWeek(){if(!We(this))throw new TypeError("invalid receiver");return wM(P(this,ee),Yt(this))}get daysInMonth(){if(!We(this))throw new TypeError("invalid receiver");return B1(P(this,ee),Yt(this))}get daysInYear(){if(!We(this))throw new TypeError("invalid receiver");return O1(P(this,ee),Yt(this))}get monthsInYear(){if(!We(this))throw new TypeError("invalid receiver");return C1(P(this,ee),Yt(this))}get inLeapYear(){if(!We(this))throw new TypeError("invalid receiver");return q1(P(this,ee),Yt(this))}get offset(){if(!We(this))throw new TypeError("invalid receiver");return Ux(P(this,Nt),P(this,tn))}get offsetNanoseconds(){if(!We(this))throw new TypeError("invalid receiver");return Fs(P(this,Nt),P(this,tn))}with(e,r){if(!We(this))throw new TypeError("invalid receiver");if(!er(e))throw new TypeError("invalid zoned-date-time-like");o0(e);let i=yt(r),n=P(this,ee),o=Vr(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);o.push("offset");let a=lt(this,o,["offset"]);a=Ml(n,a,lt(e,o,"partial")),a=lt(a,o,["offset"]);let d=Qh(i),p=y1(i,"prefer"),{year:v,month:w,day:x,hour:E,minute:T,second:A,millisecond:k,microsecond:D,nanosecond:I}=Xm(n,a,i),C=Ou(a.offset),q=P(this,Nt);return ji(v1(v,w,x,E,T,A,k,D,I,"option",C,q,d,p,!1),q,n)}withPlainDate(e){if(!We(this))throw new TypeError("invalid receiver");let r=zt(e),i=P(r,Le),n=P(r,Ue),o=P(r,$e),a=P(r,ee),d=Yt(this),p=P(d,nt),v=P(d,ot),w=P(d,st),x=P(d,at),E=P(d,ft),T=P(d,ut);a=yI(P(this,ee),a);let A=P(this,Nt);return ji(P(En(A,new(Ce("%Temporal.PlainDateTime%"))(i,n,o,p,v,w,x,E,T,a),"compatible"),Ze),A,a)}withPlainTime(e){if(!We(this))throw new TypeError("invalid receiver");let r=Ce("%Temporal.PlainTime%"),i=e===void 0?new r:Rf(e),n=Yt(this),o=P(n,Le),a=P(n,Ue),d=P(n,$e),p=P(this,ee),v=P(i,nt),w=P(i,ot),x=P(i,st),E=P(i,at),T=P(i,ft),A=P(i,ut),k=P(this,Nt);return ji(P(En(k,new(Ce("%Temporal.PlainDateTime%"))(o,a,d,v,w,x,E,T,A,p),"compatible"),Ze),k,p)}withTimeZone(e){if(!We(this))throw new TypeError("invalid receiver");let r=rn(e);return ji(P(this,Ze),r,P(this,ee))}withCalendar(e){if(!We(this))throw new TypeError("invalid receiver");let r=Xn(e);return ji(P(this,Ze),P(this,Nt),r)}add(e,r){if(!We(this))throw new TypeError("invalid receiver");return Wk("add",this,e,r)}subtract(e,r){if(!We(this))throw new TypeError("invalid receiver");return Wk("subtract",this,e,r)}until(e,r){if(!We(this))throw new TypeError("invalid receiver");return jk("until",this,e,r)}since(e,r){if(!We(this))throw new TypeError("invalid receiver");return jk("since",this,e,r)}round(e){if(!We(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?r0("smallestUnit",e):yt(e),i=s0(r),n=zs(r,"halfExpand"),o=Qn(r,"smallestUnit","time",_l,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];a0(i,a,a===1);let d=Yt(this),p=P(d,Le),v=P(d,Ue),w=P(d,$e),x=P(d,nt),E=P(d,ot),T=P(d,st),A=P(d,at),k=P(d,ft),D=P(d,ut),I=Ce("%Temporal.PlainDateTime%"),C=P(this,Nt),q=P(this,ee),U=En(C,new I(P(d,Le),P(d,Ue),P(d,$e),0,0,0,0,0,0),"compatible"),$=Co(U,C,q,0,0,0,1,0,0,0,0,0,0),W=j.default.subtract($,j.default.BigInt(P(U,Ze)));if(j.default.lessThanOrEqual(W,Br))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:p,month:v,day:w,hour:x,minute:E,second:T,millisecond:A,microsecond:k,nanosecond:D}=RM(p,v,w,x,E,T,A,k,D,i,o,n,j.default.toNumber(W)),ji(v1(p,v,w,x,E,T,A,k,D,"option",Fs(C,P(this,tn)),C,"compatible","prefer",!1),C,P(this,ee))}equals(e){if(!We(this))throw new TypeError("invalid receiver");let r=qm(e),i=P(this,Ze),n=P(r,Ze);return!!j.default.equal(j.default.BigInt(i),j.default.BigInt(n))&&!!vI(P(this,Nt),P(r,Nt))&&iy(P(this,ee),P(r,ee))}toString(e){if(!We(this))throw new TypeError("invalid receiver");let r=yt(e),i=Ym(r),n=Jm(r),o=function(T){return Nu(T,"offset",["auto","never"],"auto")}(r),a=zs(r,"trunc"),d=Qn(r,"smallestUnit","time",void 0);if(d==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let p=function(T){return Nu(T,"timeZoneName",["auto","never","critical"],"auto")}(r),{precision:v,unit:w,increment:x}=Qm(d,n);return Rk(this,v,i,p,o,{unit:w,increment:x,roundingMode:a})}toLocaleString(e,r){if(!We(this))throw new TypeError("invalid receiver");let i=yt(r),n=Mte(null);if($h(n,i,["timeZone"]),i.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");n.year===void 0&&n.month===void 0&&n.day===void 0&&n.weekday===void 0&&n.dateStyle===void 0&&n.hour===void 0&&n.minute===void 0&&n.second===void 0&&n.timeStyle===void 0&&n.dayPeriod===void 0&&n.timeZoneName===void 0&&(n.timeZoneName="short");let o=Fm(P(this,Nt));if(zh(o))throw new RangeError("toLocaleString does not support offset string time zones");o=xM(o),n.timeZone=o;let a=new jf(e,n),d=Ke(xte,a,[]).calendar,p=zi(P(this,ee));if(p!=="iso8601"&&d!=="iso8601"&&d!==p)throw new RangeError(`cannot format ZonedDateTime with calendar ${p} in locale with calendar ${d}`);return a.format(P(this,tn))}toJSON(){if(!We(this))throw new TypeError("invalid receiver");return Rk(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!We(this))throw new TypeError("invalid receiver");let e=Yt(this),r=Ce("%Temporal.PlainDateTime%"),i=P(this,ee),n=new r(P(e,Le),P(e,Ue),P(e,$e),0,0,0,0,0,0,i),o=P(this,Nt);return ji(P(En(o,n,"compatible"),Ze),o,i)}toInstant(){if(!We(this))throw new TypeError("invalid receiver");return new(Ce("%Temporal.Instant%"))(P(this,Ze))}toPlainDate(){if(!We(this))throw new TypeError("invalid receiver");return e0(Yt(this))}toPlainTime(){if(!We(this))throw new TypeError("invalid receiver");return _M(Yt(this))}toPlainDateTime(){if(!We(this))throw new TypeError("invalid receiver");return Yt(this)}toPlainYearMonth(){if(!We(this))throw new TypeError("invalid receiver");let e=P(this,ee);return El(e,lt(this,Vr(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!We(this))throw new TypeError("invalid receiver");let e=P(this,ee);return Xh(e,lt(this,Vr(e,["day","monthCode"]),[]))}getISOFields(){if(!We(this))throw new TypeError("invalid receiver");let e=Yt(this),r=P(this,Nt);return{calendar:P(this,ee),isoDay:P(e,$e),isoHour:P(e,nt),isoMicrosecond:P(e,ft),isoMillisecond:P(e,at),isoMinute:P(e,ot),isoMonth:P(e,Ue),isoNanosecond:P(e,ut),isoSecond:P(e,st),isoYear:P(e,Le),offset:Ux(r,P(this,tn)),timeZone:r}}getCalendar(){if(!We(this))throw new TypeError("invalid receiver");return f0(P(this,ee))}getTimeZone(){if(!We(this))throw new TypeError("invalid receiver");return gI(P(this,Nt))}static from(e,r){let i=yt(r);return We(e)?(Qh(i),y1(i,"reject"),zr(i),ji(P(e,Ze),P(e,Nt),P(e,ee))):qm(e,i)}static compare(e,r){let i=qm(e),n=qm(r),o=P(i,Ze),a=P(n,Ze);return j.default.lessThan(j.default.BigInt(o),j.default.BigInt(a))?-1:j.default.greaterThan(j.default.BigInt(o),j.default.BigInt(a))?1:0}};function Yt(t){return co(P(t,Nt),P(t,tn),P(t,ee))}Na(Vm,"Temporal.ZonedDateTime");var XI=Object.freeze({__proto__:null,Calendar:rr,Duration:ka,Instant:Bo,Now:QI,PlainDate:Tl,PlainDateTime:Pl,PlainMonthDay:Wm,PlainTime:Bf,PlainYearMonth:Gm,TimeZone:wl,ZonedDateTime:Vm});var Ete=[Bo,rr,Tl,Pl,ka,Wm,Bf,wl,Gm,Vm];for(let t of Ete){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}function eD(t){return new Promise(e=>setTimeout(e,t))}function Kr(){return XI.Now.instant().toString({smallestUnit:"microseconds"})}M();M();M();var qM=new TextEncoder,Ste=new TextDecoder,Xe=class{static base64UrlToBytes(e){return Oh.baseDecode(e)}static base64UrlToObject(e){let r=Oh.baseDecode(e),i=Xe.bytesToString(r);return JSON.parse(i)}static bytesToBase64Url(e){return Oh.baseEncode(e)}static bytesToString(e){return Ste.decode(e)}static objectToBytes(e){let r=JSON.stringify(e);return qM.encode(r)}static stringToBase64Url(e){let r=qM.encode(e);return Oh.baseEncode(r)}static stringToBytes(e){return qM.encode(e)}};var Lf=class{constructor(e){this.jws=e}static async create(e,r=[]){let i={payload:Xe.bytesToBase64Url(e),signatures:[]},n=new Lf(i);for(let o of r)await n.addSignature(o);return n}async addSignature(e){let r={kid:e.keyId,alg:e.algorithm},i=JSON.stringify(r),n=Xe.stringToBase64Url(i),o=`${n}.${this.jws.payload}`,a=Xe.stringToBytes(o),d=await e.sign(a),p=Xe.bytesToBase64Url(d);this.jws.signatures.push({protected:n,signature:p})}getJws(){return this.jws}};M();var nB=Lt(ED(),1);M();M();M();M();var An=2n**255n-19n,c0=2n**252n+27742317777372353535851937790883648493n,jM=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,LM=0x6666666666666666666666666666666666666666666666666666666666666658n,F1={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:An,n:c0,h:8,Gx:jM,Gy:LM},eo=(t="")=>{throw new Error(t)},RD=t=>typeof t=="string",G1=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?eo("Uint8Array expected"):t,l0=t=>new Uint8Array(t),d0=(t,e)=>G1(RD(t)?zM(t):l0(t),e),Qe=(t,e=An)=>{let r=t%e;return r>=0n?r:e+r},SD=t=>t instanceof On?t:eo("Point expected"),AD,On=class{constructor(e,r,i,n){this.ex=e,this.ey=r,this.ez=i,this.et=n}static fromAffine(e){return new On(e.x,e.y,1n,Qe(e.x*e.y))}static fromHex(e,r=!0){let{d:i}=F1;e=d0(e,32);let n=e.slice();n[31]=e[31]&-129;let o=FM(n);o===0n||(r&&!(0n<o&&o<An)&&eo("bad y coord 1"),!r&&!(0n<o&&o<2n**256n)&&eo("bad y coord 2"));let a=Qe(o*o),d=Qe(a-1n),p=Qe(i*a+1n),{isValid:v,value:w}=ire(d,p);v||eo("bad y coordinate 3");let x=(w&1n)===1n;return(e[31]&128)!==0!==x&&(w=Qe(-w)),new On(w,o,1n,Qe(w*o))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){let{ex:r,ey:i,ez:n}=this,{ex:o,ey:a,ez:d}=SD(e),p=Qe(r*d),v=Qe(o*n),w=Qe(i*d),x=Qe(a*n);return p===v&&w===x}is0(){return this.equals($1)}negate(){return new On(Qe(-this.ex),this.ey,this.ez,Qe(-this.et))}double(){let{ex:e,ey:r,ez:i}=this,{a:n}=F1,o=Qe(e*e),a=Qe(r*r),d=Qe(2n*Qe(i*i)),p=Qe(n*o),v=e+r,w=Qe(Qe(v*v)-o-a),x=p+a,E=x-d,T=p-a,A=Qe(w*E),k=Qe(x*T),D=Qe(w*T),I=Qe(E*x);return new On(A,k,I,D)}add(e){let{ex:r,ey:i,ez:n,et:o}=this,{ex:a,ey:d,ez:p,et:v}=SD(e),{a:w,d:x}=F1,E=Qe(r*a),T=Qe(i*d),A=Qe(o*x*v),k=Qe(n*p),D=Qe((r+i)*(a+d)-E-T),I=Qe(k-A),C=Qe(k+A),q=Qe(T-w*E),U=Qe(D*I),$=Qe(C*q),W=Qe(D*q),F=Qe(I*C);return new On(U,$,F,W)}mul(e,r=!0){if(e===0n)return r===!0?eo("cannot multiply by 0"):$1;if(typeof e=="bigint"&&0n<e&&e<c0||eo("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(Fu))return fre(e).p;let i=$1,n=Fu;for(let o=this;e>0n;o=o.double(),e>>=1n)e&1n?i=i.add(o):r&&(n=n.add(o));return i}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(F1.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(c0/2n,!1).double();return c0%2n&&(e=e.add(this)),e.is0()}toAffine(){let{ex:e,ey:r,ez:i}=this;if(this.is0())return{x:0n,y:0n};let n=DD(i);return Qe(i*n)!==1n&&eo("invalid inverse"),{x:Qe(e*n),y:Qe(r*n)}}toRawBytes(){let{x:e,y:r}=this.toAffine(),i=ID(r);return i[31]|=e&1n?128:0,i}toHex(){return UM(this.toRawBytes())}};On.BASE=new On(jM,LM,1n,Qe(jM*LM));On.ZERO=new On(0n,1n,1n,0n);var{BASE:Fu,ZERO:$1}=On,kD=(t,e)=>t.toString(16).padStart(e,"0"),UM=t=>Array.from(t).map(e=>kD(e,2)).join(""),zM=t=>{let e=t.length;(!RD(t)||e%2)&&eo("hex invalid 1");let r=l0(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),a=Number.parseInt(o,16);(Number.isNaN(a)||a<0)&&eo("hex invalid 2"),r[i]=a}return r},ID=t=>zM(kD(t,32*2)).reverse(),FM=t=>BigInt("0x"+UM(l0(G1(t)).reverse())),ay=(...t)=>{let e=l0(t.reduce((i,n)=>i+G1(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},DD=(t,e=An)=>{(t===0n||e<=0n)&&eo("no inverse n="+t+" mod="+e);let r=Qe(t,e),i=e,n=0n,o=1n,a=1n,d=0n;for(;r!==0n;){let p=i/r,v=i%r,w=n-a*p,x=o-d*p;i=r,r=v,n=a,o=d,a=w,d=x}return i===1n?Qe(n,e):eo("no inverse")},Ua=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=An;return r},rre=t=>{let r=t*t%An*t%An,i=Ua(r,2n)*r%An,n=Ua(i,1n)*t%An,o=Ua(n,5n)*n%An,a=Ua(o,10n)*o%An,d=Ua(a,20n)*a%An,p=Ua(d,40n)*d%An,v=Ua(p,80n)*p%An,w=Ua(v,80n)*p%An,x=Ua(w,10n)*o%An;return{pow_p_5_8:Ua(x,2n)*t%An,b2:r}},TD=19681161376707505956807079304988542015446066515923890162744021073123829784752n,ire=(t,e)=>{let r=Qe(e*e*e),i=Qe(r*r*e),n=rre(t*i).pow_p_5_8,o=Qe(t*r*n),a=Qe(e*o*o),d=o,p=Qe(o*TD),v=a===t,w=a===Qe(-t),x=a===Qe(-t*TD);return v&&(o=d),(w||x)&&(o=p),(Qe(o)&1n)===1n&&(o=Qe(-o)),{isValid:v||w,value:o}},W1=t=>Qe(FM(t),c0),sy,$M=(...t)=>Dl.sha512Async(...t),BD=(...t)=>typeof sy=="function"?sy(...t):eo("etc.sha512Sync not set"),OD=t=>{let e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;let r=t.slice(32,64),i=W1(e),n=Fu.mul(i),o=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:o}},WM=t=>$M(d0(t,32)).then(OD),nre=t=>OD(BD(d0(t,32))),CD=t=>WM(t).then(e=>e.pointBytes);function qD(t,e){return t?$M(e.hashable).then(e.finish):e.finish(BD(e.hashable))}var ore=(t,e,r)=>{let{pointBytes:i,scalar:n}=t,o=W1(e),a=Fu.mul(o).toRawBytes();return{hashable:ay(a,i,r),finish:v=>{let w=Qe(o+W1(v)*n,c0);return G1(ay(a,ID(w)),64)}}},ND=async(t,e)=>{let r=d0(t),i=await WM(e),n=await $M(i.prefix,r);return qD(!0,ore(i,n,r))};var sre=(t,e,r)=>{e=d0(e),t=d0(t,64);let i=On.fromHex(r,!1),n=On.fromHex(t.slice(0,32),!1),o=FM(t.slice(32,64)),a=Fu.mul(o,!1);return{hashable:ay(n.toRawBytes(),i.toRawBytes(),e),finish:v=>{let w=W1(v);return n.add(i.mul(w,!1)).add(a.negate()).clearCofactor().is0()}}},jD=async(t,e,r)=>qD(!0,sre(t,e,r));var PD=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,Dl={bytesToHex:UM,hexToBytes:zM,concatBytes:ay,mod:Qe,invert:DD,randomBytes:t=>{let e=PD();return e||eo("crypto.getRandomValues must be defined"),e.getRandomValues(l0(t))},sha512Async:async(...t)=>{let e=PD();e||eo("crypto.subtle or etc.sha512Async must be defined");let r=ay(...t);return l0(await e.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(Dl,{sha512Sync:{configurable:!1,get(){return sy},set(t){sy||(sy=t)}}});var LD={getExtendedPublicKeyAsync:WM,getExtendedPublicKey:nre,randomPrivateKey:()=>Dl.randomBytes(32),precompute(t=8,e=Fu){return e.multiply(3n),e}},Il=8,are=()=>{let t=[],e=256/Il+1,r=Fu,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let o=1;o<2**(Il-1);o++)i=i.add(r),t.push(i);r=i.double()}return t},fre=t=>{let e=AD||(AD=are()),r=(w,x)=>{let E=x.negate();return w?E:x},i=$1,n=Fu,o=1+256/Il,a=2**(Il-1),d=BigInt(2**Il-1),p=2**Il,v=BigInt(Il);for(let w=0;w<o;w++){let x=w*a,E=Number(t&d);t>>=v,E>a&&(E-=p,t+=1n);let T=x,A=x+Math.abs(E)-1,k=w%2!==0,D=E<0;E===0?n=n.add(r(k,e[T])):i=i.add(r(D,e[A]))}return{p:i,f:n}};function UD(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new Error("invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function zD(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:Xe.bytesToBase64Url(t)}}var fy={sign:async(t,e)=>{UD(e);let r=Dl.bytesToHex(t),i=Xe.base64UrlToBytes(e.d),n=Dl.bytesToHex(i);return ND(r,n)},verify:async(t,e,r)=>{UD(r);let i=Xe.base64UrlToBytes(r.x);return jD(e,t,i)},generateKeyPair:async()=>{let t=LD.randomPrivateKey(),e=Dl.bytesToHex(t),r=await CD(e),i=Xe.bytesToBase64Url(t),n=zD(r),o={...n,d:i};return{publicJwk:n,privateJwk:o}},publicKeyToJwk:async t=>zD(t)};M();M();var KM=2n**256n,$u=KM-0x1000003d1n,Fi=KM-0x14551231950b75fc4402da1732fc9bebfn,KD=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,HD=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,ZD={p:$u,n:Fi,a:0n,b:7n,Gx:KD,Gy:HD},Cn=32,FD=t=>Ve(Ve(t*t)*t+ZD.b),or=(t="")=>{throw new Error(t)},Z1=t=>typeof t=="bigint",YD=t=>typeof t=="string",GM=t=>Z1(t)&&0n<t&&t<$u,ly=t=>Z1(t)&&0n<t&&t<Fi,JD=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?or("Uint8Array expected"):t,No=t=>new Uint8Array(t),zf=(t,e)=>JD(YD(t)?dy(t):No(t),e),Ve=(t,e=$u)=>{let r=t%e;return r>=0n?r:e+r},$D=t=>t instanceof Di?t:or("Point expected"),WD,Di=class{constructor(e,r,i){this.px=e,this.py=r,this.pz=i}static fromAffine(e){return new Di(e.x,e.y,1n)}static fromHex(e){e=zf(e);let r,i=e[0],n=e.subarray(1),o=K1(n,0,Cn),a=e.length;if(a===33&&[2,3].includes(i)){GM(o)||or("Point hex invalid: x not FE");let d=cre(FD(o)),p=(d&1n)===1n;(i&1)===1!==p&&(d=Ve(-d)),r=new Di(o,d,1n)}return a===65&&i===4&&(r=new Di(o,K1(n,Cn,2*Cn),1n)),r?r.ok():or("Point is not on curve")}static fromPrivateKey(e){return Uf.mul(H1(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){let{px:r,py:i,pz:n}=this,{px:o,py:a,pz:d}=$D(e),p=Ve(r*d),v=Ve(o*n),w=Ve(i*d),x=Ve(a*n);return p===v&&w===x}negate(){return new Di(this.px,Ve(-this.py),this.pz)}double(){return this.add(this)}add(e){let{px:r,py:i,pz:n}=this,{px:o,py:a,pz:d}=$D(e),{a:p,b:v}=ZD,w=0n,x=0n,E=0n,T=Ve(v*3n),A=Ve(r*o),k=Ve(i*a),D=Ve(n*d),I=Ve(r+i),C=Ve(o+a);I=Ve(I*C),C=Ve(A+k),I=Ve(I-C),C=Ve(r+n);let q=Ve(o+d);return C=Ve(C*q),q=Ve(A+D),C=Ve(C-q),q=Ve(i+n),w=Ve(a+d),q=Ve(q*w),w=Ve(k+D),q=Ve(q-w),E=Ve(p*C),w=Ve(T*D),E=Ve(w+E),w=Ve(k-E),E=Ve(k+E),x=Ve(w*E),k=Ve(A+A),k=Ve(k+A),D=Ve(p*D),C=Ve(T*C),k=Ve(k+D),D=Ve(A-D),D=Ve(p*D),C=Ve(C+D),A=Ve(k*C),x=Ve(x+A),A=Ve(q*C),w=Ve(I*w),w=Ve(w-A),A=Ve(I*k),E=Ve(q*E),E=Ve(E+A),new Di(w,x,E)}mul(e,r=!0){if(!r&&e===0n)return V1;if(ly(e)||or("invalid scalar"),this.equals(Uf))return mre(e).p;let i=V1,n=Uf;for(let o=this;e>0n;o=o.double(),e>>=1n)e&1n?i=i.add(o):r&&(n=n.add(o));return i}mulAddQUns(e,r,i){return this.mul(r,!1).add(e.mul(i,!1)).ok()}toAffine(){let{px:e,py:r,pz:i}=this;if(this.equals(V1))return{x:0n,y:0n};if(i===1n)return{x:e,y:r};let n=py(i);return Ve(i*n)!==1n&&or("invalid inverse"),{x:Ve(e*n),y:Ve(r*n)}}assertValidity(){let{x:e,y:r}=this.aff();return(!GM(e)||!GM(r))&&or("Point invalid: x or y"),Ve(r*r)===FD(e)?this:or("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){let{x:r,y:i}=this.aff();return(e?(i&1n)===0n?"02":"03":"04")+uy(r)+(e?"":uy(i))}toRawBytes(e=!0){return dy(this.toHex(e))}};Di.BASE=new Di(KD,HD,1n);Di.ZERO=new Di(0n,1n,0n);var{BASE:Uf,ZERO:V1}=Di,QD=(t,e)=>t.toString(16).padStart(e,"0"),HM=t=>Array.from(t).map(e=>QD(e,2)).join(""),dy=t=>{let e=t.length;(!YD(t)||e%2)&&or("hex invalid 1");let r=No(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),a=Number.parseInt(o,16);(Number.isNaN(a)||a<0)&&or("hex invalid 2"),r[i]=a}return r},hy=t=>BigInt("0x"+(HM(t)||"0")),K1=(t,e,r)=>hy(t.slice(e,r)),Y1=t=>Z1(t)&&t>=0n&&t<KM?dy(QD(t,2*Cn)):or("bigint expected"),uy=t=>HM(Y1(t)),VM=(...t)=>{let e=No(t.reduce((i,n)=>i+JD(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},py=(t,e=$u)=>{(t===0n||e<=0n)&&or("no inverse n="+t+" mod="+e);let r=Ve(t,e),i=e,n=0n,o=1n,a=1n,d=0n;for(;r!==0n;){let p=i/r,v=i%r,w=n-a*p,x=o-d*p;i=r,r=v,n=a,o=d,a=w,d=x}return i===1n?Ve(n,e):or("no inverse")},cre=t=>{let e=1n;for(let r=t,i=($u+1n)/4n;i>0n;i>>=1n)i&1n&&(e=e*r%$u),r=r*r%$u;return Ve(e*e)===t?e:or("sqrt invalid")},H1=t=>(Z1(t)||(t=hy(zf(t,Cn))),ly(t)?t:or("private key out of range")),ZM=t=>t>Fi>>1n;function J1(t,e=!0){return Di.fromPrivateKey(t).toRawBytes(e)}var Wu=class{constructor(e,r,i){this.r=e,this.s=r,this.recovery=i,this.assertValidity()}static fromCompact(e){return e=zf(e,64),new Wu(K1(e,0,Cn),K1(e,Cn,2*Cn))}assertValidity(){return ly(this.r)&&ly(this.s)?this:or()}addRecoveryBit(e){return new Wu(this.r,this.s,e)}hasHighS(){return ZM(this.s)}recoverPublicKey(e){let{r,s:i,recovery:n}=this;[0,1,2,3].includes(n)||or("recovery id invalid");let o=YM(zf(e,32)),a=n===2||n===3?r+Fi:r;a>=$u&&or("q.x invalid");let d=n&1?"03":"02",p=Di.fromHex(d+uy(a)),v=py(a,Fi),w=Ve(-o*v,Fi),x=Ve(i*v,Fi);return Uf.mulAddQUns(p,w,x)}toCompactRawBytes(){return dy(this.toCompactHex())}toCompactHex(){return uy(this.r)+uy(this.s)}},XD=t=>{let e=t.length*8-256,r=hy(t);return e>0?r>>BigInt(e):r},YM=t=>Ve(XD(t),Fi),GD=t=>Y1(t),VD=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,cy,eB={lowS:!0},lre={lowS:!0};function dre(t,e,r=eB){["der","recovered","canonical"].some(x=>x in r)&&or("sign() legacy options not supported");let{lowS:i}=r;i==null&&(i=!0);let n=YM(zf(t)),o=GD(n),a=H1(e),d=[GD(a),o],p=r.extraEntropy;if(p){p===!0&&(p=za.randomBytes(Cn));let x=zf(p);x.length!==Cn&&or(),d.push(x)}let v=n,w=x=>{let E=XD(x);if(!ly(E))return;let T=py(E,Fi),A=Uf.mul(E).aff(),k=Ve(A.x,Fi);if(k===0n)return;let D=Ve(T*Ve(v+Ve(a*k,Fi),Fi),Fi);if(D===0n)return;let I=D,C=(A.x===k?0:2)|Number(A.y&1n);return i&&ZM(D)&&(I=Ve(-D,Fi),C^=1),new Wu(k,I,C)};return{seed:VM(...d),k2sig:w}}function hre(t){let e=No(Cn),r=No(Cn),i=0,n=()=>{e.fill(1),r.fill(0),i=0},o="drbg: tried 1000 values";if(t){let a=(...v)=>za.hmacSha256Async(r,e,...v),d=async(v=No())=>{r=await a(No([0]),v),e=await a(),v.length!==0&&(r=await a(No([1]),v),e=await a())},p=async()=>(i++>=1e3&&or(o),e=await a(),e);return async(v,w)=>{n(),await d(v);let x;for(;!(x=w(await p()));)await d();return n(),x}}else{let a=(...v)=>{let w=cy;return w||or("etc.hmacSha256Sync not set"),w(r,e,...v)},d=(v=No())=>{r=a(No([0]),v),e=a(),v.length!==0&&(r=a(No([1]),v),e=a())},p=()=>(i++>=1e3&&or(o),e=a(),e);return(v,w)=>{n(),d(v);let x;for(;!(x=w(p()));)d();return n(),x}}}async function tB(t,e,r=eB){let{seed:i,k2sig:n}=dre(t,e,r);return hre(!0)(i,n)}function rB(t,e,r,i=lre){let{lowS:n}=i;n==null&&(n=!0),"strict"in i&&or("verify() legacy options not supported");let o,a,d,p=t&&typeof t=="object"&&"r"in t;!p&&zf(t).length!==2*Cn&&or("signature must be 64 bytes");try{o=p?new Wu(t.r,t.s).assertValidity():Wu.fromCompact(t),a=YM(zf(e,Cn)),d=r instanceof Di?r.ok():Di.fromHex(r)}catch{return!1}if(!o)return!1;let{r:v,s:w}=o;if(n&&ZM(w))return!1;let x;try{let T=py(w,Fi),A=Ve(a*T,Fi),k=Ve(v*T,Fi);x=Uf.mulAddQUns(d,A,k).aff()}catch{return!1}return x?Ve(x.x,Fi)===v:!1}function iB(t){t=zf(t);let e=Cn+8;(t.length<e||t.length>1024)&&or("expected proper params");let r=Ve(hy(t),Fi-1n)+1n;return Y1(r)}var za={hexToBytes:dy,bytesToHex:HM,concatBytes:VM,bytesToNumberBE:hy,numberToBytesBE:Y1,mod:Ve,invert:py,hmacSha256Async:async(t,...e)=>{let r=VD();if(!r)return or("etc.hmacSha256Async not set");let i=r.subtle,n=await i.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return No(await i.sign("HMAC",n,VM(...e)))},hmacSha256Sync:cy,hashToPrivateKey:iB,randomBytes:t=>{let e=VD();return e||or("crypto.getRandomValues must be defined"),e.getRandomValues(No(t))}},JM={normPrivateKeyToScalar:H1,isValidPrivateKey:t=>{try{return!!H1(t)}catch{return!1}},randomPrivateKey:()=>iB(za.randomBytes(Cn+8)),precompute(t=8,e=Uf){return e.multiply(3n),e}};Object.defineProperties(za,{hmacSha256Sync:{configurable:!1,get(){return cy},set(t){cy||(cy=t)}}});var Bl=8,pre=()=>{let t=[],e=256/Bl+1,r=Uf,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let o=1;o<2**(Bl-1);o++)i=i.add(r),t.push(i);r=i.double()}return t},mre=t=>{let e=WD||(WD=pre()),r=(w,x)=>{let E=x.negate();return w?E:x},i=V1,n=Uf,o=1+256/Bl,a=2**(Bl-1),d=BigInt(2**Bl-1),p=2**Bl,v=BigInt(Bl);for(let w=0;w<o;w++){let x=w*a,E=Number(t&d);t>>=v,E>a&&(E-=p,t+=1n);let T=x,A=x+Math.abs(E)-1,k=w%2!==0,D=E<0;E===0?n=n.add(r(k,e[T])):i=i.add(r(D,e[A]))}return{p:i,f:n}};M();var je=class extends Error{constructor(r,i){super(`${r}: ${i}`);this.code=r;this.name="DwnError"}},on=(Ne=>(Ne.AuthenticateJwsMissing="AuthenticateJwsMissing",Ne.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",Ne.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",Ne.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",Ne.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",Ne.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",Ne.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",Ne.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",Ne.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",Ne.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",Ne.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",Ne.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",Ne.PermissionsGrantGrantedByMismatch="PermissionsGrantGrantedByMismatch",Ne.PermissionsGrantScopeContextIdAndProtocolPath="PermissionsGrantScopeContextIdAndProtocolPath",Ne.PermissionsGrantScopeSchemaProhibitedFields="PermissionsGrantScopeSchemaProhibitedFields",Ne.PermissionsGrantUnauthorizedGrant="PermissionsGrantUnauthorizedGrant",Ne.PermissionsRevokeMissingPermissionsGrant="PermissionsRevokeMissingPermissionsGrant",Ne.PermissionsRevokeUnauthorizedRevoke="PermissionsRevokeUnauthorizedRevoke",Ne.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",Ne.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",Ne.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",Ne.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",Ne.ProtocolAuthorizationDuplicateContextRoleRecipient="ProtocolAuthorizationDuplicateContextRoleRecipient",Ne.ProtocolAuthorizationDuplicateGlobalRoleRecipient="ProtocolAuthorizationDuplicateGlobalRoleRecipient",Ne.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",Ne.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",Ne.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",Ne.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",Ne.ProtocolAuthorizationMissingRole="ProtocolAuthorizationMissingRole",Ne.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",Ne.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",Ne.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",Ne.ProtocolsConfigureContextRoleAtProhibitedProtocolPath="ProtocolsConfigureContextRoleAtProhibitedProtocolPath",Ne.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath="ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath",Ne.ProtocolsConfigureInvalidRole="ProtocolsConfigureInvalidRole",Ne.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",Ne.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",Ne.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",Ne.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",Ne.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",Ne.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",Ne.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",Ne.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",Ne.RecordsGrantAuthorizationScopeNotProtocol="RecordsGrantAuthorizationScopeNotProtocol",Ne.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",Ne.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",Ne.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",Ne.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",Ne.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",Ne.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",Ne.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",Ne.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",Ne.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",Ne.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",Ne.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",Ne.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",Ne.RecordsWriteMissingAuthorizationSigner="RecordsWriteMissingAuthorizationSigner",Ne.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",Ne.RecordsWriteMissingDataAssociation="RecordsWriteMissingDataAssociation",Ne.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",Ne.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",Ne.RecordsWriteMissingSchema="RecordsWriteMissingSchema",Ne.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",Ne.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",Ne.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",Ne.Secp256k1KeyNotValid="Secp256k1KeyNotValid",Ne.UrlProtocolNotNormalized="UrlProtocolNotNormalized",Ne.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",Ne.UrlSchemaNotNormalized="UrlSchemaNotNormalized",Ne.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",Ne))(on||{});var kt=class{static validateKey(e){if(e.kty!=="EC"||e.crv!=="secp256k1")throw new je("Secp256k1KeyNotValid","Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static async publicKeyToJwk(e){let r;if(e.byteLength===33){let a=za.bytesToHex(e);r=Di.fromHex(a).toRawBytes(!1)}else r=e;let i=Xe.bytesToBase64Url(r.subarray(1,33)),n=Xe.bytesToBase64Url(r.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:i,y:n}}static async privateKeyToJwk(e){let r=await kt.getPublicKey(e),i=await kt.publicKeyToJwk(r);return i.d=Xe.bytesToBase64Url(e),i}static publicJwkToBytes(e){let r=Xe.base64UrlToBytes(e.x),i=Xe.base64UrlToBytes(e.y);return new Uint8Array([4,...r,...i])}static privateJwkToBytes(e){return Xe.base64UrlToBytes(e.d)}static async sign(e,r){kt.validateKey(r);let i=await Hn.encode(e),n=za.bytesToHex(i),o=kt.privateJwkToBytes(r),a=za.bytesToHex(o);return(await tB(n,a)).toCompactRawBytes()}static async verify(e,r,i){kt.validateKey(i);let n=kt.publicJwkToBytes(i),o=await Hn.encode(e);return rB(r,o,n)}static async generateKeyPair(){let e=JM.randomPrivateKey(),r=J1(e,!1),i=Xe.bytesToBase64Url(e),n=await kt.publicKeyToJwk(r),o={...n,d:i};return{publicJwk:n,privateJwk:o}}static async generateKeyPairRaw(){let e=JM.randomPrivateKey();return{publicKey:J1(e,!1),privateKey:e}}static async getPublicKey(e){return J1(e,!1)}static async getPublicJwk(e){let{d:r,...i}=e;return i}static async derivePublicKey(e,r){kt.validateKeyDerivationPath(r);let i=await kt.derivePrivateKey(e,r);return await kt.getPublicKey(i)}static async derivePrivateKey(e,r){kt.validateKeyDerivationPath(r);let i=e;for(let n of r){let o=Xe.stringToBytes(n);i=await kt.deriveChildPrivateKey(i,o)}return i}static async deriveChildPrivateKey(e,r){let i=await Hn.encode(e),n=await Hn.encode(r),o=za.concatBytes(i,n);return za.hashToPrivateKey(o)}static validateKeyDerivationPath(e){if(e.includes(""))throw new je("HdKeyDerivationPathInvalid",`Invalid key derivation path: ${e}`)}};var h0={Ed25519:fy,secp256k1:{sign:kt.sign,verify:kt.verify,generateKeyPair:kt.generateKeyPair,publicKeyToJwk:kt.publicKeyToJwk}};var my=class{constructor(e){if(e.keyId===void 0&&e.privateJwk.kid===void 0)throw new je("PrivateKeySignerUnableToDeduceKeyId","Unable to deduce the key ID");if(e.algorithm===void 0&&e.privateJwk.alg===void 0)throw new je("PrivateKeySignerUnableToDeduceAlgorithm","Unable to deduce the signature algorithm");if(this.keyId=e.keyId??e.privateJwk.kid,this.algorithm=e.algorithm??e.privateJwk.alg,this.privateJwk=e.privateJwk,this.signatureAlgorithm=h0[e.privateJwk.crv],!this.signatureAlgorithm)throw new je("PrivateKeySignerUnsupportedCurve",`Unsupported crv ${e.privateJwk.crv}, crv must be one of ${Object.keys(h0)}`)}async sign(e){return await this.signatureAlgorithm.sign(e,this.privateJwk)}};var Tr=class{static getKid(e){let{kid:r}=Xe.base64UrlToObject(e.protected);return r}static getSignerDid(e){let r=Tr.getKid(e);return Tr.extractDid(r)}static async verifySignature(e,r,i){let n=h0[i.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(h0)}`);let o=Xe.stringToBytes(`${r.protected}.${e}`),a=Xe.base64UrlToBytes(r.signature);return await n.verify(o,a,i)}static decodePlainObjectPayload(e){let r;try{r=Xe.base64UrlToObject(e.payload)}catch{throw new Error("payload is not a JSON object")}if(!(0,nB.default)(r))throw new Error("signed payload must be a plain object");return r}static extractDid(e){let[r]=e.split("#");return r}static createSigners(e){return e.map(i=>Tr.createSigner(i))}static createSigner(e){let r=e.keyPair.privateJwk,i=e.keyId;return new my({privateJwk:r,keyId:i})}};M();function oB(t,e){return t>e?1:t<e?-1:0}M();var lB=Lt(cB(),1);function dB(t){let e=lB.default.flatten(t);return hB(e),e}function gre(t){if(typeof t!="object")return!1;for(let e in t)return!1;return!0}function hB(t){Object.keys(t).forEach(e=>{typeof t[e]=="object"&&hB(t[e]),gre(t[e])&&delete t[e]})}function sn(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&sn(t[e])})}M();var s4={};Hi(s4,{Authorization:()=>vre,AuthorizationOwner:()=>bre,Definitions:()=>Tre,EventsGet:()=>Are,GeneralJwk:()=>Pre,GeneralJws:()=>Rre,GenericSignaturePayload:()=>Wre,JwkVerificationMethod:()=>kre,MessagesGet:()=>Ire,PermissionsDefinitions:()=>Dre,PermissionsGrant:()=>Bre,PermissionsRequest:()=>Ore,PermissionsRevoke:()=>Cre,PermissionsScopes:()=>qre,ProtocolDefinition:()=>Nre,ProtocolRuleSet:()=>jre,ProtocolsConfigure:()=>Lre,ProtocolsQuery:()=>Ure,PublicJwk:()=>$re,RecordsDelete:()=>wre,RecordsFilter:()=>Fre,RecordsQuery:()=>_re,RecordsRead:()=>zre,RecordsWrite:()=>Mre,RecordsWriteSignaturePayload:()=>Gre,RecordsWriteUnidentified:()=>Sre});M();var vre=Ft;var Ol=new RegExp("^[A-Za-z0-9_-]+$","u");function Nr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w=a;for(let x in t)if(!(x==="payload"||x==="signatures")){return Nr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.payload!==void 0){let x=t.payload,E=a;if(a===a)if(typeof x=="string"){if(!Ol.test(x))return Nr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Nr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=E===a}else var d=!0;if(d)if(t.signatures!==void 0){let x=t.signatures,E=a;if(a===E)if(Array.isArray(x)){if(x.length<1)return Nr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var p=!0;let A=x.length;for(let k=0;k<A;k++){let D=x[k],I=a;if(a===I)if(D&&typeof D=="object"&&!Array.isArray(D)){if(D.protected!==void 0){let q=D.protected,U=a;if(a===a)if(typeof q=="string"){if(!Ol.test(q))return Nr.errors=[{instancePath:e+"/signatures/"+k+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Nr.errors=[{instancePath:e+"/signatures/"+k+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=U===a}else var v=!0;if(v)if(D.signature!==void 0){let q=D.signature,U=a;if(a===a)if(typeof q=="string"){if(!Ol.test(q))return Nr.errors=[{instancePath:e+"/signatures/"+k+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Nr.errors=[{instancePath:e+"/signatures/"+k+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=U===a}else var v=!0}else return Nr.errors=[{instancePath:e+"/signatures/"+k,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=I===a;if(!p)break}}}else return Nr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var d=E===a}else var d=!0}}else return Nr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Nr.errors=o,a===0}function Ft(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d=a;for(let p in t)if(p!=="authorSignature"){return Ft.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;break}d===a&&t.authorSignature!==void 0&&(Nr(t.authorSignature,{instancePath:e+"/authorSignature",parentData:t,parentDataProperty:"authorSignature",rootData:n})||(o=o===null?Nr.errors:o.concat(Nr.errors),a=o.length))}else return Ft.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ft.errors=o,a===0}var bre=Ku;function Ku(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p=a;for(let v in t)if(!(v==="authorSignature"||v==="ownerSignature")){return Ku.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;break}if(p===a){let v;if(t.ownerSignature!==void 0&&t.authorSignature===void 0&&(v="authorSignature"))return Ku.errors=[{instancePath:e,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:v,depsCount:1,deps:"authorSignature"},message:"must have property authorSignature when property ownerSignature is present"}],!1;if(t.authorSignature!==void 0){let w=a;Nr(t.authorSignature,{instancePath:e+"/authorSignature",parentData:t,parentDataProperty:"authorSignature",rootData:n})||(o=o===null?Nr.errors:o.concat(Nr.errors),a=o.length);var d=w===a}else var d=!0;if(d)if(t.ownerSignature!==void 0){let w=a;Nr(t.ownerSignature,{instancePath:e+"/ownerSignature",parentData:t,parentDataProperty:"ownerSignature",rootData:n})||(o=o===null?Nr.errors:o.concat(Nr.errors),a=o.length);var d=w===a}else var d=!0}}else return Ku.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ku.errors=o,a===0}var wre=ho,pB={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{type:"string"},recordId:{type:"string"}}}}};function ho(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return ho.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let w=a;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return ho.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.authorization!==void 0){let x=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=x===a}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=a;if(a===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let A;if(x.interface===void 0&&(A="interface")||x.method===void 0&&(A="method")||x.messageTimestamp===void 0&&(A="messageTimestamp")||x.recordId===void 0&&(A="recordId"))return ho.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let k=a;for(let D in x)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="recordId")){return ho.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(k===a){if(x.interface!==void 0){let D=x.interface,I=a;if(typeof D!="string")return ho.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Records")return ho.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:pB.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.method!==void 0){let D=x.method,I=a;if(typeof D!="string")return ho.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Delete")return ho.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:pB.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let D=a;if(typeof x.messageTimestamp!="string")return ho.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p)if(x.recordId!==void 0){let D=a;if(typeof x.recordId!="string")return ho.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0}}}}}else return ho.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===a}else var d=!0}}}else return ho.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ho.errors=o,a===0}var _re=pi,QM={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},messageCid:{type:"string"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}};var xre={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}}};var X1=Object.prototype.hasOwnProperty,$s=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),$f=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u");function tr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return tr.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let v=a;for(let w in t)if(!X1.call(xre.properties,w)){return tr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;break}if(v===a){if(t.protocol!==void 0){let w=a;if(typeof t.protocol!="string")return tr.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.protocolPath!==void 0){let w=a;if(typeof t.protocolPath!="string")return tr.errors=[{instancePath:e+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.attester!==void 0){let w=t.attester,x=a;if(a===a)if(typeof w=="string"){if(!$s.test(w))return tr.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return tr.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=x===a}else var d=!0;if(d){if(t.recipient!==void 0){let w=t.recipient,x=a;if(a===a)if(typeof w=="string"){if(!$s.test(w))return tr.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return tr.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=x===a}else var d=!0;if(d){if(t.contextId!==void 0){let w=a;if(typeof t.contextId!="string")return tr.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.schema!==void 0){let w=a;if(typeof t.schema!="string")return tr.errors=[{instancePath:e+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.recordId!==void 0){let w=a;if(typeof t.recordId!="string")return tr.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.parentId!==void 0){let w=a;if(typeof t.parentId!="string")return tr.errors=[{instancePath:e+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.dataFormat!==void 0){let w=a;if(typeof t.dataFormat!="string")return tr.errors=[{instancePath:e+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d)if(t.dateCreated!==void 0){let w=t.dateCreated,x=a;if(a===x)if(w&&typeof w=="object"&&!Array.isArray(w)){if(Object.keys(w).length<1)return tr.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let T=a;for(let A in w)if(!(A==="from"||A==="to")){return tr.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties"}],!1;break}if(T===a){if(w.from!==void 0){let A=w.from,k=a;if(a===a)if(typeof A=="string"){if(!$f.test(A))return tr.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return tr.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=k===a}else var p=!0;if(p)if(w.to!==void 0){let A=w.to,k=a;if(a===a)if(typeof A=="string"){if(!$f.test(A))return tr.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return tr.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=k===a}else var p=!0}}}else return tr.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=x===a}else var d=!0}}}}}}}}}}}else return tr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return tr.errors=o,a===0}function pi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.descriptor===void 0&&(w="descriptor"))return pi.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let x=a;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return pi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(x===a){if(t.authorization!==void 0){let E=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=E===a}else var d=!0;if(d)if(t.descriptor!==void 0){let E=t.descriptor,T=a;if(a===T)if(E&&typeof E=="object"&&!Array.isArray(E)){let k;if(E.interface===void 0&&(k="interface")||E.method===void 0&&(k="method")||E.messageTimestamp===void 0&&(k="messageTimestamp")||E.filter===void 0&&(k="filter"))return pi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{let D=a;for(let I in E)if(!(I==="interface"||I==="method"||I==="messageTimestamp"||I==="filter"||I==="pagination"||I==="dateSort")){return pi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(D===a){if(E.interface!==void 0){let I=E.interface,C=a;if(typeof I!="string")return pi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Records")return pi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:QM.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===a}else var p=!0;if(p){if(E.method!==void 0){let I=E.method,C=a;if(typeof I!="string")return pi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Query")return pi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:QM.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===a}else var p=!0;if(p){if(E.messageTimestamp!==void 0){let I=E.messageTimestamp,C=a;if(a===a)if(typeof I=="string"){if(!$f.test(I))return pi.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return pi.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=C===a}else var p=!0;if(p){if(E.filter!==void 0){let I=a;tr(E.filter,{instancePath:e+"/descriptor/filter",parentData:E,parentDataProperty:"filter",rootData:n})||(o=o===null?tr.errors:o.concat(tr.errors),a=o.length);var p=I===a}else var p=!0;if(p){if(E.pagination!==void 0){let I=E.pagination,C=a;if(a===C)if(I&&typeof I=="object"&&!Array.isArray(I)){let U=a;for(let $ in I)if(!($==="limit"||$==="messageCid")){return pi.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$},message:"must NOT have additional properties"}],!1;break}if(U===a){if(I.limit!==void 0){let $=I.limit,W=a;if(a===W)if(typeof $=="number"&&isFinite($)){if($<1||isNaN($))return pi.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}else return pi.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var v=W===a}else var v=!0;if(v)if(I.messageCid!==void 0){let $=a;if(typeof I.messageCid!="string")return pi.errors=[{instancePath:e+"/descriptor/pagination/messageCid",schemaPath:"#/properties/descriptor/properties/pagination/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=$===a}else var v=!0}}else return pi.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=C===a}else var p=!0;if(p)if(E.dateSort!==void 0){let I=E.dateSort,C=a;if(typeof I!="string")return pi.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(I==="createdAscending"||I==="createdDescending"||I==="publishedAscending"||I==="publishedDescending"))return pi.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:QM.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===a}else var p=!0}}}}}}}else return pi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=T===a}else var d=!0}}}else return pi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return pi.errors=o,a===0}var Mre=Q1;var Gu={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath","schema"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]};var MB={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function sr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0,d=a,p=a,v=!1,w=null,x=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.crv===void 0&&(_="crv")||t.x===void 0&&(_="x")){let s={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};o===null?o=[s]:o.push(s),a++}else{if(t.kty!==void 0){let s=a;if(t.kty!=="EC"){let u={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),a++}var E=s===a}else var E=!0;if(E){if(t.crv!==void 0){let s=a;if(typeof t.crv!="string"){let h={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),a++}var E=s===a}else var E=!0;if(E){if(t.x!==void 0){let s=a;if(typeof t.x!="string"){let h={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),a++}var E=s===a}else var E=!0;if(E){if(t.y!==void 0){let s=a;if(typeof t.y!="string"){let h={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),a++}var E=s===a}else var E=!0;if(E)if(t.d!==void 0){let s=a;if(typeof t.d!="string"){let h={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),a++}var E=s===a}else var E=!0}}}}}var k=x===a;k&&(v=!0,w=0);let T=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.crv===void 0&&(_="crv")||t.x===void 0&&(_="x")){let s={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};o===null?o=[s]:o.push(s),a++}else{if(t.kty!==void 0){let s=a;if(t.kty!=="OKP"){let u={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),a++}var A=s===a}else var A=!0;if(A){if(t.crv!==void 0){let s=a;if(typeof t.crv!="string"){let h={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),a++}var A=s===a}else var A=!0;if(A){if(t.x!==void 0){let s=a;if(typeof t.x!="string"){let h={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),a++}var A=s===a}else var A=!0;if(A)if(t.d!==void 0){let s=a;if(typeof t.d!="string"){let h={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),a++}var A=s===a}else var A=!0}}}}var k=T===a;if(k&&v)v=!1,w=[w,1];else{k&&(v=!0,w=1);let _=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.n===void 0&&(u="n")||t.e===void 0&&(u="e")){let h={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),a++}else{if(t.kty!==void 0){let h=a;if(t.kty!=="RSA"){let c={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[c]:o.push(c),a++}var D=h===a}else var D=!0;if(D){if(t.n!==void 0){let h=a;if(typeof t.n!="string"){let l={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D){if(t.e!==void 0){let h=a;if(typeof t.e!="string"){let l={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D){if(t.d!==void 0){let h=a;if(typeof t.d!="string"){let l={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D){if(t.p!==void 0){let h=a;if(typeof t.p!="string"){let l={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D){if(t.q!==void 0){let h=a;if(typeof t.q!="string"){let l={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D){if(t.dp!==void 0){let h=a;if(typeof t.dp!="string"){let l={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D){if(t.dq!==void 0){let h=a;if(typeof t.dq!="string"){let l={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D){if(t.qi!==void 0){let h=a;if(typeof t.qi!="string"){let l={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),a++}var D=h===a}else var D=!0;if(D)if(t.oth!==void 0){let h=t.oth,c=a;if(!(h&&typeof h=="object"&&!Array.isArray(h))){let y={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[y]:o.push(y),a++}var D=c===a}else var D=!0}}}}}}}}}}var k=_===a;if(k&&v)v=!1,w=[w,2];else{k&&(v=!0,w=2);let u=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.k===void 0&&(c="k")){let l={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"};o===null?o=[l]:o.push(l),a++}else{if(t.kty!==void 0){let l=a;if(t.kty!=="oct"){let y={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[y]:o.push(y),a++}var I=l===a}else var I=!0;if(I)if(t.k!==void 0){let l=a;if(typeof t.k!="string"){let b={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[b]:o.push(b),a++}var I=l===a}else var I=!0}}var k=u===a;k&&v?(v=!1,w=[w,3]):k&&(v=!0,w=3)}}if(v)a=p,o!==null&&(p?o.length=p:o=null);else{let _={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:w},message:"must match exactly one schema in oneOf"};return o===null?o=[_]:o.push(_),a++,sr.errors=o,!1}if(a===d)if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.kty===void 0&&(_="kty"))return sr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"}],!1;if(t.alg!==void 0){let s=a;if(typeof t.alg!="string")return sr.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C){if(t.kid!==void 0){let s=a;if(typeof t.kid!="string")return sr.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C){if(t.kty!==void 0){let s=t.kty,u=a;if(!(s==="EC"||s==="RSA"||s==="oct"||s==="OKP"))return sr.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:MB.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var C=u===a}else var C=!0;if(C){if(t.crv!==void 0){let s=a;if(typeof t.crv!="string")return sr.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C){if(t.use!==void 0){let s=a;if(typeof t.use!="string")return sr.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C){if(t.key_ops!==void 0){let s=a;if(typeof t.key_ops!="string")return sr.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C){if(t.x5u!==void 0){let s=a;if(typeof t.x5u!="string")return sr.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C){if(t.x5c!==void 0){let s=a;if(typeof t.x5c!="string")return sr.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C){if(t.x5t!==void 0){let s=a;if(typeof t.x5t!="string")return sr.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0;if(C)if(t["x5t#S256"]!==void 0){let s=a;if(typeof t["x5t#S256"]!="string")return sr.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=s===a}else var C=!0}}}}}}}}}else return sr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var q=d===a;if(q){let _=a,s=a,u=a,h=!1,c=a,l=a,y=!1,b=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.d===void 0&&(m="d")){let f={};o===null?o=[f]:o.push(f),a++}}var U=b===a;if(y=y||U,y)a=l,o!==null&&(l?o.length=l:o=null);else{let m={};o===null?o=[m]:o.push(m),a++}if(a===c)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){let m={};o===null?o=[m]:o.push(m),a++}}else{let m={};o===null?o=[m]:o.push(m),a++}var $=c===a;if(h=h||$,!h){let m=a,f=a,g=!1,R=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.d===void 0&&(B="d")){let z={};o===null?o=[z]:o.push(z),a++}}var W=R===a;if(g=g||W,g)a=f,o!==null&&(f?o.length=f:o=null);else{let B={};o===null?o=[B]:o.push(B),a++}if(a===m)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){let B={};o===null?o=[B]:o.push(B),a++}}else{let B={};o===null?o=[B]:o.push(B),a++}var $=m===a;if(h=h||$,!h){let B=a,z=a,G=!1,V=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let Z;if(t.d===void 0&&(Z="d")){let Y={};o===null?o=[Y]:o.push(Y),a++}}var F=V===a;if(G=G||F,!G){let Z=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let Fe;if(t.p===void 0&&(Fe="p")){let Q={};o===null?o=[Q]:o.push(Q),a++}}var F=Z===a;if(G=G||F,!G){let Fe=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let X;if(t.q===void 0&&(X="q")){let it={};o===null?o=[it]:o.push(it),a++}}var F=Fe===a;if(G=G||F,!G){let X=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let te;if(t.dp===void 0&&(te="dp")){let re={};o===null?o=[re]:o.push(re),a++}}var F=X===a;if(G=G||F,!G){let te=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let Ht;if(t.dq===void 0&&(Ht="dq")){let ie={};o===null?o=[ie]:o.push(ie),a++}}var F=te===a;if(G=G||F,!G){let Ht=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let ne;if(t.qi===void 0&&(ne="qi")){let Cr={};o===null?o=[Cr]:o.push(Cr),a++}}var F=Ht===a;if(G=G||F,!G){let ne=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let se;if(t.oth===void 0&&(se="oth")){let oe={};o===null?o=[oe]:o.push(oe),a++}}var F=ne===a;G=G||F}}}}}}if(G)a=z,o!==null&&(z?o.length=z:o=null);else{let Z={};o===null?o=[Z]:o.push(Z),a++}if(a===B)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){let Z=a;if(t.kty!=="RSA"){let Y={};o===null?o=[Y]:o.push(Y),a++}var L=Z===a}else var L=!0;if(L)if(t.oth!==void 0){let Z=t.oth,Y=a;if(!(Z&&typeof Z=="object"&&!Array.isArray(Z))){let Q={};o===null?o=[Q]:o.push(Q),a++}var L=Y===a}else var L=!0}else{let Z={};o===null?o=[Z]:o.push(Z),a++}var $=B===a;h=h||$}}if(h)a=u,o!==null&&(u?o.length=u:o=null);else{let m={};o===null?o=[m]:o.push(m),a++}var H=s===a;if(H)return sr.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;a=_,o!==null&&(_?o.length=_:o=null)}return sr.errors=o,a===0}var Ere=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u");function Ye(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0,d=a,p=!1,v=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.contextId===void 0&&(H="contextId")){let _={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};o===null?o=[_]:o.push(_),a++}else if(t.descriptor!==void 0){let _=t.descriptor;if(a===a)if(_&&typeof _=="object"&&!Array.isArray(_)){let u;if(_.protocol===void 0&&(u="protocol")||_.protocolPath===void 0&&(u="protocolPath")||_.schema===void 0&&(u="schema")){let h={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),a++}}else{let u={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[u]:o.push(u),a++}}}var w=v===a;if(p=p||w,!p){let H=a,_=a,s=a,u=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.contextId===void 0&&(c="contextId")){let l={};o===null?o=[l]:o.push(l),a++}}var x=u===a;if(x){let c={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[c]:o.push(c),a++}else a=s,o!==null&&(s?o.length=s:o=null);var E=_===a;if(E){let c=a;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let y=t.descriptor;if(!(y&&typeof y=="object"&&!Array.isArray(y))){let f={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[f]:o.push(f),a++}let b=a,m=a;if(y&&typeof y=="object"&&!Array.isArray(y)){let f;if(y.protocol===void 0&&(f="protocol")){let g={};o===null?o=[g]:o.push(g),a++}}var T=m===a;if(T){let f={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[f]:o.push(f),a++}else a=b,o!==null&&(b?o.length=b:o=null)}var E=c===a;if(E){let y=a;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let m=t.descriptor;if(!(m&&typeof m=="object"&&!Array.isArray(m))){let R={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[R]:o.push(R),a++}let f=a,g=a;if(m&&typeof m=="object"&&!Array.isArray(m)){let R;if(m.protocolPath===void 0&&(R="protocolPath")){let S={};o===null?o=[S]:o.push(S),a++}}var A=g===a;if(A){let R={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[R]:o.push(R),a++}else a=f,o!==null&&(f?o.length=f:o=null)}var E=y===a}}var w=H===a;p=p||w}if(p)a=d,o!==null&&(d?o.length=d:o=null);else{let H={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[H]:o.push(H),a++,Ye.errors=o,!1}if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.descriptor===void 0&&(H="descriptor"))return Ye.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"}],!1;{let _=a;for(let s in t)if(!(s==="recordId"||s==="contextId"||s==="attestation"||s==="authorization"||s==="encryption"||s==="descriptor")){return Ye.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;break}if(_===a){if(t.recordId!==void 0){let s=a;if(typeof t.recordId!="string")return Ye.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=s===a}else var k=!0;if(k){if(t.contextId!==void 0){let s=a;if(typeof t.contextId!="string")return Ye.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=s===a}else var k=!0;if(k){if(t.attestation!==void 0){let s=a;Nr(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:n})||(o=o===null?Nr.errors:o.concat(Nr.errors),a=o.length);var k=s===a}else var k=!0;if(k){if(t.authorization!==void 0){let s=a;Ku(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ku.errors:o.concat(Ku.errors),a=o.length);var k=s===a}else var k=!0;if(k){if(t.encryption!==void 0){let s=t.encryption,u=a;if(a===u)if(s&&typeof s=="object"&&!Array.isArray(s)){let c;if(s.algorithm===void 0&&(c="algorithm")||s.initializationVector===void 0&&(c="initializationVector")||s.keyEncryption===void 0&&(c="keyEncryption"))return Ye.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let l=a;for(let y in s)if(!(y==="algorithm"||y==="initializationVector"||y==="keyEncryption")){return Ye.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(l===a){if(s.algorithm!==void 0){let y=s.algorithm,b=a;if(typeof y!="string")return Ye.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="A256CTR")return Ye.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Gu.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var D=b===a}else var D=!0;if(D){if(s.initializationVector!==void 0){let y=s.initializationVector,b=a;if(a===a)if(typeof y=="string"){if(!Ol.test(y))return Ye.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=b===a}else var D=!0;if(D)if(s.keyEncryption!==void 0){let y=s.keyEncryption,b=a;if(a===b)if(Array.isArray(y)){if(y.length<1)return Ye.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var I=!0;let f=y.length;for(let g=0;g<f;g++){let R=y[g],S=a;if(a===S)if(R&&typeof R=="object"&&!Array.isArray(R)){let z;if(R.rootKeyId===void 0&&(z="rootKeyId")||R.derivationScheme===void 0&&(z="derivationScheme")||R.algorithm===void 0&&(z="algorithm")||R.encryptedKey===void 0&&(z="encryptedKey")||R.initializationVector===void 0&&(z="initializationVector")||R.ephemeralPublicKey===void 0&&(z="ephemeralPublicKey")||R.messageAuthenticationCode===void 0&&(z="messageAuthenticationCode"))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"}],!1;{let G=a;for(let V in R)if(!(V==="rootKeyId"||V==="derivationScheme"||V==="derivedPublicKey"||V==="algorithm"||V==="encryptedKey"||V==="initializationVector"||V==="ephemeralPublicKey"||V==="messageAuthenticationCode")){return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:V},message:"must NOT have additional properties"}],!1;break}if(G===a){if(R.rootKeyId!==void 0){let V=a;if(typeof R.rootKeyId!="string")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=V===a}else var C=!0;if(C){if(R.derivationScheme!==void 0){let V=R.derivationScheme,J=a;if(typeof V!="string")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(V==="dataFormats"||V==="protocolContext"||V==="protocolPath"||V==="schemas"))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:Gu.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var C=J===a}else var C=!0;if(C){if(R.derivedPublicKey!==void 0){let V=a;sr(R.derivedPublicKey,{instancePath:e+"/encryption/keyEncryption/"+g+"/derivedPublicKey",parentData:R,parentDataProperty:"derivedPublicKey",rootData:n})||(o=o===null?sr.errors:o.concat(sr.errors),a=o.length);var C=V===a}else var C=!0;if(C){if(R.algorithm!==void 0){let V=R.algorithm,J=a;if(typeof V!="string")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(V!=="ECIES-ES256K")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Gu.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var C=J===a}else var C=!0;if(C){if(R.encryptedKey!==void 0){let V=R.encryptedKey,J=a;if(a===a)if(typeof V=="string"){if(!Ol.test(V))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===a}else var C=!0;if(C){if(R.initializationVector!==void 0){let V=R.initializationVector,J=a;if(a===a)if(typeof V=="string"){if(!Ol.test(V))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===a}else var C=!0;if(C){if(R.ephemeralPublicKey!==void 0){let V=a;sr(R.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+g+"/ephemeralPublicKey",parentData:R,parentDataProperty:"ephemeralPublicKey",rootData:n})||(o=o===null?sr.errors:o.concat(sr.errors),a=o.length);var C=V===a}else var C=!0;if(C)if(R.messageAuthenticationCode!==void 0){let V=R.messageAuthenticationCode,J=a;if(a===a)if(typeof V=="string"){if(!Ol.test(V))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===a}else var C=!0}}}}}}}}}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+g,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I=S===a;if(!I)break}}}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var D=b===a}else var D=!0}}}}else return Ye.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k=u===a}else var k=!0;if(k)if(t.descriptor!==void 0){let s=t.descriptor,u=a,h=a,c=!1,l=a;if(s&&typeof s=="object"&&!Array.isArray(s)){let b;if(s.published===void 0&&(b="published")||s.datePublished===void 0&&(b="datePublished")){let m={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};o===null?o=[m]:o.push(m),a++}else if(s.published!==void 0){let m=s.published;if(typeof m!="boolean"){let f={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[f]:o.push(f),a++}if(m!==!0){let f={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Gu.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[f]:o.push(f),a++}}}var q=l===a;if(c=c||q,!c){let b=a,m=a,f=a;if(s&&typeof s=="object"&&!Array.isArray(s)){let R;if(s.datePublished===void 0&&(R="datePublished")){let S={};o===null?o=[S]:o.push(S),a++}}var U=f===a;if(U){let R={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[R]:o.push(R),a++}else a=m,o!==null&&(m?o.length=m:o=null);if(a===b&&s&&typeof s=="object"&&!Array.isArray(s)&&s.published!==void 0){let R=s.published;if(typeof R!="boolean"){let S={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[S]:o.push(S),a++}if(R!==!1){let S={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Gu.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[S]:o.push(S),a++}}var q=b===a;if(c=c||q,!c){let R=a,S=a,B=a,z=a;if(s&&typeof s=="object"&&!Array.isArray(s)){let V;if(s.published===void 0&&(V="published")){let J={};o===null?o=[J]:o.push(J),a++}}var $=z===a;if($){let V={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[V]:o.push(V),a++}else a=B,o!==null&&(B?o.length=B:o=null);var W=S===a;if(W){let V=a,J=a,Z=a;if(s&&typeof s=="object"&&!Array.isArray(s)){let Fe;if(s.datePublished===void 0&&(Fe="datePublished")){let Q={};o===null?o=[Q]:o.push(Q),a++}}var F=Z===a;if(F){let Fe={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[Fe]:o.push(Fe),a++}else a=J,o!==null&&(J?o.length=J:o=null);var W=V===a}var q=R===a;c=c||q}}if(c)a=h,o!==null&&(h?o.length=h:o=null);else{let b={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[b]:o.push(b),a++,Ye.errors=o,!1}if(a===u)if(s&&typeof s=="object"&&!Array.isArray(s)){let b;if(s.interface===void 0&&(b="interface")||s.method===void 0&&(b="method")||s.dataCid===void 0&&(b="dataCid")||s.dataSize===void 0&&(b="dataSize")||s.dateCreated===void 0&&(b="dateCreated")||s.messageTimestamp===void 0&&(b="messageTimestamp")||s.dataFormat===void 0&&(b="dataFormat"))return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{let m=a;for(let f in s)if(!X1.call(Gu.properties.descriptor.properties,f)){return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"}],!1;break}if(m===a){let f;if(s.parentId!==void 0&&s.protocol===void 0&&(f="protocol"))return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:f,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(s.interface!==void 0){let g=s.interface,R=a;if(typeof g!="string")return Ye.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(g!=="Records")return Ye.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Gu.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var L=R===a}else var L=!0;if(L){if(s.method!==void 0){let g=s.method,R=a;if(typeof g!="string")return Ye.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(g!=="Write")return Ye.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Gu.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var L=R===a}else var L=!0;if(L){if(s.recipient!==void 0){let g=s.recipient,R=a;if(a===a)if(typeof g=="string"){if(!$s.test(g))return Ye.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=R===a}else var L=!0;if(L){if(s.protocol!==void 0){let g=a;if(typeof s.protocol!="string")return Ye.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=g===a}else var L=!0;if(L){if(s.protocolPath!==void 0){let g=s.protocolPath,R=a;if(a===R)if(typeof g=="string"){if(!Ere.test(g))return Ye.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=R===a}else var L=!0;if(L){if(s.schema!==void 0){let g=a;if(typeof s.schema!="string")return Ye.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=g===a}else var L=!0;if(L){if(s.parentId!==void 0){let g=a;if(typeof s.parentId!="string")return Ye.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=g===a}else var L=!0;if(L){if(s.dataCid!==void 0){let g=a;if(typeof s.dataCid!="string")return Ye.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=g===a}else var L=!0;if(L){if(s.dataSize!==void 0){let g=s.dataSize,R=a;if(!(typeof g=="number"&&isFinite(g)))return Ye.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var L=R===a}else var L=!0;if(L){if(s.dateCreated!==void 0){let g=s.dateCreated,R=a;if(a===a)if(typeof g=="string"){if(!$f.test(g))return Ye.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=R===a}else var L=!0;if(L){if(s.messageTimestamp!==void 0){let g=s.messageTimestamp,R=a;if(a===a)if(typeof g=="string"){if(!$f.test(g))return Ye.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=R===a}else var L=!0;if(L){if(s.published!==void 0){let g=a;if(typeof s.published!="boolean")return Ye.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var L=g===a}else var L=!0;if(L){if(s.datePublished!==void 0){let g=s.datePublished,R=a;if(a===a)if(typeof g=="string"){if(!$f.test(g))return Ye.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=R===a}else var L=!0;if(L)if(s.dataFormat!==void 0){let g=a;if(typeof s.dataFormat!="string")return Ye.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=g===a}else var L=!0}}}}}}}}}}}}}}}else return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k=u===a}else var k=!0}}}}}}}else return Ye.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ye.errors=o,a===0}function Q1(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(!Ye(t,{instancePath:e,parentData:r,parentDataProperty:i,rootData:n}))o=o===null?Ye.errors:o.concat(Ye.errors),a=o.length;else if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.recordId===void 0&&(p="recordId")||t.authorization===void 0&&(p="authorization"))return Q1.errors=[{instancePath:e,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1}else return Q1.errors=[{instancePath:e,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Q1.errors=o,a===0}var Sre=Ye,Are=po,mB={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},watermark:{type:"string"}}}}};function po(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return po.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let w=a;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return po.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.authorization!==void 0){let x=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=x===a}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=a;if(a===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let A;if(x.interface===void 0&&(A="interface")||x.method===void 0&&(A="method")||x.messageTimestamp===void 0&&(A="messageTimestamp"))return po.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let k=a;for(let D in x)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="watermark")){return po.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(k===a){if(x.interface!==void 0){let D=x.interface,I=a;if(typeof D!="string")return po.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Events")return po.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:mB.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.method!==void 0){let D=x.method,I=a;if(typeof D!="string")return po.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Get")return po.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:mB.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let D=a;if(typeof x.messageTimestamp!="string")return po.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p)if(x.watermark!==void 0){let D=a;if(typeof x.watermark!="string")return po.errors=[{instancePath:e+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0}}}}}else return po.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===a}else var d=!0}}}else return po.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return po.errors=o,a===0}var Tre=i4;function i4(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;return t&&typeof t=="object"&&!Array.isArray(t)?(i4.errors=o,a===0):(i4.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var Pre=to;function to(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0,d=a,p=!1,v=null,w=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.crv===void 0&&(C="crv")||t.x===void 0&&(C="x")){let q={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};o===null?o=[q]:o.push(q),a++}else{if(t.kty!==void 0){let q=a;if(t.kty!=="EC"){let U={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[U]:o.push(U),a++}var x=q===a}else var x=!0;if(x){if(t.crv!==void 0){let q=a;if(typeof t.crv!="string"){let $={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),a++}var x=q===a}else var x=!0;if(x){if(t.x!==void 0){let q=a;if(typeof t.x!="string"){let $={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),a++}var x=q===a}else var x=!0;if(x){if(t.y!==void 0){let q=a;if(typeof t.y!="string"){let $={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),a++}var x=q===a}else var x=!0;if(x)if(t.d!==void 0){let q=a;if(typeof t.d!="string"){let $={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),a++}var x=q===a}else var x=!0}}}}}var A=w===a;A&&(p=!0,v=0);let E=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.crv===void 0&&(C="crv")||t.x===void 0&&(C="x")){let q={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};o===null?o=[q]:o.push(q),a++}else{if(t.kty!==void 0){let q=a;if(t.kty!=="OKP"){let U={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[U]:o.push(U),a++}var T=q===a}else var T=!0;if(T){if(t.crv!==void 0){let q=a;if(typeof t.crv!="string"){let $={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),a++}var T=q===a}else var T=!0;if(T){if(t.x!==void 0){let q=a;if(typeof t.x!="string"){let $={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),a++}var T=q===a}else var T=!0;if(T)if(t.d!==void 0){let q=a;if(typeof t.d!="string"){let $={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),a++}var T=q===a}else var T=!0}}}}var A=E===a;if(A&&p)p=!1,v=[v,1];else{A&&(p=!0,v=1);let C=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let U;if(t.n===void 0&&(U="n")||t.e===void 0&&(U="e")){let $={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"};o===null?o=[$]:o.push($),a++}else{if(t.kty!==void 0){let $=a;if(t.kty!=="RSA"){let W={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[W]:o.push(W),a++}var k=$===a}else var k=!0;if(k){if(t.n!==void 0){let $=a;if(typeof t.n!="string"){let F={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k){if(t.e!==void 0){let $=a;if(typeof t.e!="string"){let F={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k){if(t.d!==void 0){let $=a;if(typeof t.d!="string"){let F={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k){if(t.p!==void 0){let $=a;if(typeof t.p!="string"){let F={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k){if(t.q!==void 0){let $=a;if(typeof t.q!="string"){let F={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k){if(t.dp!==void 0){let $=a;if(typeof t.dp!="string"){let F={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k){if(t.dq!==void 0){let $=a;if(typeof t.dq!="string"){let F={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k){if(t.qi!==void 0){let $=a;if(typeof t.qi!="string"){let F={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[F]:o.push(F),a++}var k=$===a}else var k=!0;if(k)if(t.oth!==void 0){let $=t.oth,W=a;if(!($&&typeof $=="object"&&!Array.isArray($))){let L={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[L]:o.push(L),a++}var k=W===a}else var k=!0}}}}}}}}}}var A=C===a;if(A&&p)p=!1,v=[v,2];else{A&&(p=!0,v=2);let U=a;if(t&&typeof t=="object"&&!Array.isArray(t)){let W;if(t.k===void 0&&(W="k")){let F={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"};o===null?o=[F]:o.push(F),a++}else{if(t.kty!==void 0){let F=a;if(t.kty!=="oct"){let L={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),a++}var D=F===a}else var D=!0;if(D)if(t.k!==void 0){let F=a;if(typeof t.k!="string"){let H={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),a++}var D=F===a}else var D=!0}}var A=U===a;A&&p?(p=!1,v=[v,3]):A&&(p=!0,v=3)}}if(p)a=d,o!==null&&(d?o.length=d:o=null);else{let C={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:v},message:"must match exactly one schema in oneOf"};return o===null?o=[C]:o.push(C),a++,to.errors=o,!1}if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.kty===void 0&&(C="kty"))return to.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;if(t.alg!==void 0){let q=a;if(typeof t.alg!="string")return to.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I){if(t.kid!==void 0){let q=a;if(typeof t.kid!="string")return to.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I){if(t.kty!==void 0){let q=t.kty,U=a;if(!(q==="EC"||q==="RSA"||q==="oct"||q==="OKP"))return to.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:MB.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var I=U===a}else var I=!0;if(I){if(t.crv!==void 0){let q=a;if(typeof t.crv!="string")return to.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I){if(t.use!==void 0){let q=a;if(typeof t.use!="string")return to.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I){if(t.key_ops!==void 0){let q=a;if(typeof t.key_ops!="string")return to.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I){if(t.x5u!==void 0){let q=a;if(typeof t.x5u!="string")return to.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I){if(t.x5c!==void 0){let q=a;if(typeof t.x5c!="string")return to.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I){if(t.x5t!==void 0){let q=a;if(typeof t.x5t!="string")return to.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0;if(I)if(t["x5t#S256"]!==void 0){let q=a;if(typeof t["x5t#S256"]!="string")return to.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=q===a}else var I=!0}}}}}}}}}else return to.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return to.errors=o,a===0}var Rre=Nr,kre=Ff;function Ff(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.id===void 0&&(p="id")||t.type===void 0&&(p="type")||t.controller===void 0&&(p="controller")||t.publicKeyJwk===void 0&&(p="publicKeyJwk"))return Ff.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let v=a;for(let w in t)if(!(w==="id"||w==="type"||w==="controller"||w==="publicKeyJwk")){return Ff.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;break}if(v===a){if(t.id!==void 0){let w=a;if(typeof t.id!="string")return Ff.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.type!==void 0){let w=a;if(t.type!=="JsonWebKey2020")return Ff.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var d=w===a}else var d=!0;if(d){if(t.controller!==void 0){let w=t.controller,x=a;if(a===a)if(typeof w=="string"){if(!$s.test(w))return Ff.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ff.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=x===a}else var d=!0;if(d)if(t.publicKeyJwk!==void 0){let w=a;sr(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:n})||(o=o===null?sr.errors:o.concat(sr.errors),a=o.length);var d=w===a}else var d=!0}}}}}else return Ff.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ff.errors=o,a===0}var Ire=qn,yB={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function qn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.authorization===void 0&&(w="authorization")||t.descriptor===void 0&&(w="descriptor"))return qn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let x=a;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return qn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(x===a){if(t.authorization!==void 0){let E=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=E===a}else var d=!0;if(d)if(t.descriptor!==void 0){let E=t.descriptor,T=a;if(a===T)if(E&&typeof E=="object"&&!Array.isArray(E)){let k;if(E.interface===void 0&&(k="interface")||E.method===void 0&&(k="method")||E.messageTimestamp===void 0&&(k="messageTimestamp"))return qn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{let D=a;for(let I in E)if(!(I==="interface"||I==="method"||I==="messageTimestamp"||I==="messageCids")){return qn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(D===a){if(E.interface!==void 0){let I=E.interface,C=a;if(typeof I!="string")return qn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Messages")return qn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:yB.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===a}else var p=!0;if(p){if(E.method!==void 0){let I=E.method,C=a;if(typeof I!="string")return qn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Get")return qn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:yB.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===a}else var p=!0;if(p){if(E.messageTimestamp!==void 0){let I=a;if(typeof E.messageTimestamp!="string")return qn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p)if(E.messageCids!==void 0){let I=E.messageCids,C=a;if(a===C)if(Array.isArray(I)){if(I.length<1)return qn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var v=!0;let U=I.length;for(let $=0;$<U;$++){let W=a;if(typeof I[$]!="string")return qn.errors=[{instancePath:e+"/descriptor/messageCids/"+$,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=W===a;if(!v)break}}}else return qn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var p=C===a}else var p=!0}}}}}else return qn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=T===a}else var d=!0}}}else return qn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return qn.errors=o,a===0}var Dre=n4;function n4(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;return t&&typeof t=="object"&&!Array.isArray(t)?(n4.errors=o,a===0):(n4.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var Bre=Zt,XM={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","dateExpires"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dateExpires:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},permissionsRequestId:{description:"CID of an associated PermissionsRequest message",type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}},EB={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function gy(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0,d=a,p=!1,v=null,w=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){let q=a;if(t.interface!=="Protocols"){let U={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};o===null?o=[U]:o.push(U),a++}var E=q===a}else var E=!0;if(E)if(t.method!==void 0){let q=a;if(t.method!=="Query"){let $={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[$]:o.push($),a++}var E=q===a}else var E=!0}else{let q={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[q]:o.push(q),a++}var D=w===a;D&&(p=!0,v=0);let T=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let q;if(t.interface===void 0&&(q="interface")||t.method===void 0&&(q="method")){let U={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"};o===null?o=[U]:o.push(U),a++}else{if(t.interface!==void 0){let U=a;if(t.interface!=="Records"){let $={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[$]:o.push($),a++}var k=U===a}else var k=!0;if(k){if(t.method!==void 0){let U=a;if(t.method!=="Read"){let W={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k){if(t.schema!==void 0){let U=a;if(typeof t.schema!="string"){let W={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k){if(t.protocol!==void 0){let U=a;if(typeof t.protocol!="string"){let W={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k){if(t.contextId!==void 0){let U=a;if(typeof t.contextId!="string"){let W={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k)if(t.protocolPath!==void 0){let U=a;if(typeof t.protocolPath!="string"){let W={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0}}}}}}else{let q={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[q]:o.push(q),a++}var D=T===a;if(D&&p)p=!1,v=[v,1];else{D&&(p=!0,v=1);let q=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let W;if(t.interface===void 0&&(W="interface")||t.method===void 0&&(W="method")){let F={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"};o===null?o=[F]:o.push(F),a++}else{if(t.interface!==void 0){let F=a;if(t.interface!=="Records"){let L={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),a++}var I=F===a}else var I=!0;if(I){if(t.method!==void 0){let F=a;if(t.method!=="Delete"){let H={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};o===null?o=[H]:o.push(H),a++}var I=F===a}else var I=!0;if(I)if(t.schema!==void 0){let F=a;if(typeof t.schema!="string"){let H={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),a++}var I=F===a}else var I=!0}}}else{let W={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[W]:o.push(W),a++}var D=q===a;if(D&&p)p=!1,v=[v,2];else{D&&(p=!0,v=2);let W=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.interface===void 0&&(H="interface")||t.method===void 0&&(H="method")){let _={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};o===null?o=[_]:o.push(_),a++}else{if(t.interface!==void 0){let _=a;if(t.interface!=="Records"){let s={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[s]:o.push(s),a++}var C=_===a}else var C=!0;if(C){if(t.method!==void 0){let _=a;if(t.method!=="Write"){let u={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C){if(t.schema!==void 0){let _=a;if(typeof t.schema!="string"){let u={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C){if(t.protocol!==void 0){let _=a;if(typeof t.protocol!="string"){let u={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C){if(t.contextId!==void 0){let _=a;if(typeof t.contextId!="string"){let u={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C)if(t.protocolPath!==void 0){let _=a;if(typeof t.protocolPath!="string"){let u={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0}}}}}}else{let H={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[H]:o.push(H),a++}var D=W===a;D&&p?(p=!1,v=[v,3]):D&&(p=!0,v=3)}}if(p)a=d,o!==null&&(d?o.length=d:o=null);else{let q={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:v},message:"must match exactly one schema in oneOf"};return o===null?o=[q]:o.push(q),a++,gy.errors=o,!1}return gy.errors=o,a===0}function Zt(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return Zt.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let w=a;for(let x in t)if(!(x==="authorization"||x==="delegationChain"||x==="descriptor")){return Zt.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.authorization!==void 0){let x=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=x===a}else var d=!0;if(d){if(t.delegationChain!==void 0){let x=a;Zt(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:n})||(o=o===null?Zt.errors:o.concat(Zt.errors),a=o.length);var d=x===a}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=a;if(a===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let A;if(x.interface===void 0&&(A="interface")||x.method===void 0&&(A="method")||x.messageTimestamp===void 0&&(A="messageTimestamp")||x.dateExpires===void 0&&(A="dateExpires"))return Zt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let k=a;for(let D in x)if(!X1.call(XM.properties.descriptor.properties,D)){return Zt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(k===a){if(x.messageTimestamp!==void 0){let D=x.messageTimestamp,I=a;if(a===a)if(typeof D=="string"){if(!$f.test(D))return Zt.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Zt.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.dateExpires!==void 0){let D=x.dateExpires,I=a;if(a===a)if(typeof D=="string"){if(!$f.test(D))return Zt.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Zt.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.description!==void 0){let D=a;if(typeof x.description!="string")return Zt.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p){if(x.grantedTo!==void 0){let D=x.grantedTo,I=a;if(a===a)if(typeof D=="string"){if(!$s.test(D))return Zt.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Zt.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.grantedBy!==void 0){let D=x.grantedBy,I=a;if(a===a)if(typeof D=="string"){if(!$s.test(D))return Zt.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Zt.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.grantedFor!==void 0){let D=x.grantedFor,I=a;if(a===a)if(typeof D=="string"){if(!$s.test(D))return Zt.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Zt.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.permissionsRequestId!==void 0){let D=a;if(typeof x.permissionsRequestId!="string")return Zt.errors=[{instancePath:e+"/descriptor/permissionsRequestId",schemaPath:"#/properties/descriptor/properties/permissionsRequestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p){if(x.interface!==void 0){let D=x.interface,I=a;if(typeof D!="string")return Zt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Permissions")return Zt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:XM.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.method!==void 0){let D=x.method,I=a;if(typeof D!="string")return Zt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Grant")return Zt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:XM.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.scope!==void 0){let D=a;gy(x.scope,{instancePath:e+"/descriptor/scope",parentData:x,parentDataProperty:"scope",rootData:n})||(o=o===null?gy.errors:o.concat(gy.errors),a=o.length);var p=D===a}else var p=!0;if(p)if(x.conditions!==void 0){let D=x.conditions,I=a;if(a===a)if(D&&typeof D=="object"&&!Array.isArray(D)){let U=a;for(let $ in D)if($!=="publication"){return Zt.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$},message:"must NOT have additional properties"}],!1;break}if(U===a&&D.publication!==void 0){let $=D.publication;if(typeof $!="string")return Zt.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!($==="Required"||$==="Prohibited"))return Zt.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:EB.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return Zt.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=I===a}else var p=!0}}}}}}}}}}}}else return Zt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===a}else var d=!0}}}}else return Zt.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Zt.errors=o,a===0}var Ore=Fr,e4={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","grantedBy","grantedTo","grantedFor","scope"],properties:{interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},messageTimestamp:{type:"string"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};function vy(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0,d=a,p=!1,v=null,w=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){let q=a;if(t.interface!=="Protocols"){let U={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};o===null?o=[U]:o.push(U),a++}var E=q===a}else var E=!0;if(E)if(t.method!==void 0){let q=a;if(t.method!=="Query"){let $={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[$]:o.push($),a++}var E=q===a}else var E=!0}else{let q={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[q]:o.push(q),a++}var D=w===a;D&&(p=!0,v=0);let T=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let q;if(t.interface===void 0&&(q="interface")||t.method===void 0&&(q="method")){let U={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"};o===null?o=[U]:o.push(U),a++}else{if(t.interface!==void 0){let U=a;if(t.interface!=="Records"){let $={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[$]:o.push($),a++}var k=U===a}else var k=!0;if(k){if(t.method!==void 0){let U=a;if(t.method!=="Read"){let W={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k){if(t.schema!==void 0){let U=a;if(typeof t.schema!="string"){let W={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k){if(t.protocol!==void 0){let U=a;if(typeof t.protocol!="string"){let W={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k){if(t.contextId!==void 0){let U=a;if(typeof t.contextId!="string"){let W={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0;if(k)if(t.protocolPath!==void 0){let U=a;if(typeof t.protocolPath!="string"){let W={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[W]:o.push(W),a++}var k=U===a}else var k=!0}}}}}}else{let q={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[q]:o.push(q),a++}var D=T===a;if(D&&p)p=!1,v=[v,1];else{D&&(p=!0,v=1);let q=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let W;if(t.interface===void 0&&(W="interface")||t.method===void 0&&(W="method")){let F={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"};o===null?o=[F]:o.push(F),a++}else{if(t.interface!==void 0){let F=a;if(t.interface!=="Records"){let L={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),a++}var I=F===a}else var I=!0;if(I){if(t.method!==void 0){let F=a;if(t.method!=="Delete"){let H={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};o===null?o=[H]:o.push(H),a++}var I=F===a}else var I=!0;if(I)if(t.schema!==void 0){let F=a;if(typeof t.schema!="string"){let H={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),a++}var I=F===a}else var I=!0}}}else{let W={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[W]:o.push(W),a++}var D=q===a;if(D&&p)p=!1,v=[v,2];else{D&&(p=!0,v=2);let W=a;if(a===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.interface===void 0&&(H="interface")||t.method===void 0&&(H="method")){let _={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};o===null?o=[_]:o.push(_),a++}else{if(t.interface!==void 0){let _=a;if(t.interface!=="Records"){let s={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[s]:o.push(s),a++}var C=_===a}else var C=!0;if(C){if(t.method!==void 0){let _=a;if(t.method!=="Write"){let u={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C){if(t.schema!==void 0){let _=a;if(typeof t.schema!="string"){let u={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C){if(t.protocol!==void 0){let _=a;if(typeof t.protocol!="string"){let u={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C){if(t.contextId!==void 0){let _=a;if(typeof t.contextId!="string"){let u={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0;if(C)if(t.protocolPath!==void 0){let _=a;if(typeof t.protocolPath!="string"){let u={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),a++}var C=_===a}else var C=!0}}}}}}else{let H={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[H]:o.push(H),a++}var D=W===a;D&&p?(p=!1,v=[v,3]):D&&(p=!0,v=3)}}if(p)a=d,o!==null&&(d?o.length=d:o=null);else{let q={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:v},message:"must match exactly one schema in oneOf"};return o===null?o=[q]:o.push(q),a++,vy.errors=o,!1}return vy.errors=o,a===0}function Fr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return Fr.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let w=a;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return Fr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.authorization!==void 0){let x=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=x===a}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=a;if(a===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let A;if(x.interface===void 0&&(A="interface")||x.method===void 0&&(A="method")||x.messageTimestamp===void 0&&(A="messageTimestamp")||x.grantedBy===void 0&&(A="grantedBy")||x.grantedTo===void 0&&(A="grantedTo")||x.grantedFor===void 0&&(A="grantedFor")||x.scope===void 0&&(A="scope"))return Fr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let k=a;for(let D in x)if(!X1.call(e4.properties.descriptor.properties,D)){return Fr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(k===a){if(x.interface!==void 0){let D=x.interface,I=a;if(typeof D!="string")return Fr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Permissions")return Fr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:e4.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.method!==void 0){let D=x.method,I=a;if(typeof D!="string")return Fr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Request")return Fr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:e4.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let D=a;if(typeof x.messageTimestamp!="string")return Fr.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p){if(x.description!==void 0){let D=a;if(typeof x.description!="string")return Fr.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p){if(x.grantedTo!==void 0){let D=x.grantedTo,I=a;if(a===a)if(typeof D=="string"){if(!$s.test(D))return Fr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Fr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.grantedBy!==void 0){let D=x.grantedBy,I=a;if(a===a)if(typeof D=="string"){if(!$s.test(D))return Fr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Fr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.grantedFor!==void 0){let D=x.grantedFor,I=a;if(a===a)if(typeof D=="string"){if(!$s.test(D))return Fr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Fr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p){if(x.scope!==void 0){let D=a;vy(x.scope,{instancePath:e+"/descriptor/scope",parentData:x,parentDataProperty:"scope",rootData:n})||(o=o===null?vy.errors:o.concat(vy.errors),a=o.length);var p=D===a}else var p=!0;if(p)if(x.conditions!==void 0){let D=x.conditions,I=a;if(a===a)if(D&&typeof D=="object"&&!Array.isArray(D)){let U=a;for(let $ in D)if($!=="publication"){return Fr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$},message:"must NOT have additional properties"}],!1;break}if(U===a&&D.publication!==void 0){let $=D.publication;if(typeof $!="string")return Fr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!($==="Required"||$==="Prohibited"))return Fr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:EB.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return Fr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=I===a}else var p=!0}}}}}}}}}}else return Fr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===a}else var d=!0}}}else return Fr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Fr.errors=o,a===0}var Cre=mo,gB={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-revoke.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","permissionsGrantId"],properties:{messageTimestamp:{type:"string"},permissionsGrantId:{type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Revoke"],type:"string"}}}}};function mo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return mo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let w=a;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return mo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.authorization!==void 0){let x=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=x===a}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=a;if(a===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let A;if(x.interface===void 0&&(A="interface")||x.method===void 0&&(A="method")||x.messageTimestamp===void 0&&(A="messageTimestamp")||x.permissionsGrantId===void 0&&(A="permissionsGrantId"))return mo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let k=a;for(let D in x)if(!(D==="messageTimestamp"||D==="permissionsGrantId"||D==="interface"||D==="method")){return mo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(k===a){if(x.messageTimestamp!==void 0){let D=a;if(typeof x.messageTimestamp!="string")return mo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p){if(x.permissionsGrantId!==void 0){let D=a;if(typeof x.permissionsGrantId!="string")return mo.errors=[{instancePath:e+"/descriptor/permissionsGrantId",schemaPath:"#/properties/descriptor/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p){if(x.interface!==void 0){let D=x.interface,I=a;if(typeof D!="string")return mo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Permissions")return mo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:gB.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p)if(x.method!==void 0){let D=x.method,I=a;if(typeof D!="string")return mo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Revoke")return mo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:gB.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0}}}}}else return mo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===a}else var d=!0}}}else return mo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return mo.errors=o,a===0}var qre=o4;function o4(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;return t&&typeof t=="object"&&!Array.isArray(t)?(o4.errors=o,a===0):(o4.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var Nre=an;var vB=new RegExp(".*","u"),t4={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"string",enum:["read","write"]}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a record with either $globalRole or $contextRole set to true",type:"string"},can:{type:"string",enum:["read","write"]}}}]}},$globalRole:{$comment:"When `true`, this turns a record into `role` that may be used across contexts",type:"boolean"},$contextRole:{$comment:"When `true`, this turns a record into `role` that may be used within a context",type:"boolean"}},patternProperties:{"^[^$].*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},bB=new RegExp("^[^$].*","u"),r4={validate:Tn};function Tn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let A=a;for(let k in t)if(!(k==="$encryption"||k==="$actions"||k==="$globalRole"||k==="$contextRole"||bB.test(k))){return Tn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;break}if(A===a){if(t.$encryption!==void 0){let k=t.$encryption,D=a;if(a===D)if(k&&typeof k=="object"&&!Array.isArray(k)){let I=a;for(let C in k)if(!(C==="rootKeyId"||C==="publicKeyJwk")){return Tn.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(I===a){if(k.rootKeyId!==void 0){let C=a;if(typeof k.rootKeyId!="string")return Tn.errors=[{instancePath:e+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=C===a}else var d=!0;if(d)if(k.publicKeyJwk!==void 0){let C=a;sr(k.publicKeyJwk,{instancePath:e+"/$encryption/publicKeyJwk",parentData:k,parentDataProperty:"publicKeyJwk",rootData:n})||(o=o===null?sr.errors:o.concat(sr.errors),a=o.length);var d=C===a}else var d=!0}}else return Tn.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=D===a}else var p=!0;if(p){if(t.$actions!==void 0){let k=t.$actions,D=a;if(a===D)if(Array.isArray(k)){if(k.length<1)return Tn.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var v=!0;let C=k.length;for(let q=0;q<C;q++){let U=k[q],$=a;if(!(U&&typeof U=="object"&&!Array.isArray(U)))return Tn.errors=[{instancePath:e+"/$actions/"+q,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;let W=a,F=!1,L=null,H=a;if(U&&typeof U=="object"&&!Array.isArray(U)){let u;if(U.who===void 0&&(u="who")||U.can===void 0&&(u="can")){let h={instancePath:e+"/$actions/"+q,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),a++}else{let h=a;for(let c in U)if(!(c==="who"||c==="of"||c==="can")){let l={instancePath:e+"/$actions/"+q,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:c},message:"must NOT have additional properties"};o===null?o=[l]:o.push(l),a++;break}if(h===a){if(U.who!==void 0){let c=U.who,l=a;if(typeof c!="string"){let y={instancePath:e+"/$actions/"+q+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[y]:o.push(y),a++}if(!(c==="anyone"||c==="author"||c==="recipient")){let y={instancePath:e+"/$actions/"+q+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:t4.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};o===null?o=[y]:o.push(y),a++}var w=l===a}else var w=!0;if(w){if(U.of!==void 0){let c=a;if(typeof U.of!="string"){let y={instancePath:e+"/$actions/"+q+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[y]:o.push(y),a++}var w=c===a}else var w=!0;if(w)if(U.can!==void 0){let c=U.can,l=a;if(typeof c!="string"){let b={instancePath:e+"/$actions/"+q+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[b]:o.push(b),a++}if(!(c==="read"||c==="write")){let b={instancePath:e+"/$actions/"+q+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/enum",keyword:"enum",params:{allowedValues:t4.properties.$actions.items.oneOf[0].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[b]:o.push(b),a++}var w=l===a}else var w=!0}}}}var E=H===a;E&&(F=!0,L=0);let _=a;if(U&&typeof U=="object"&&!Array.isArray(U)){let u;if(U.role===void 0&&(u="role")||U.can===void 0&&(u="can")){let h={instancePath:e+"/$actions/"+q,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),a++}else{if(U.role!==void 0){let h=a;if(typeof U.role!="string"){let c={instancePath:e+"/$actions/"+q+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[c]:o.push(c),a++}var x=h===a}else var x=!0;if(x)if(U.can!==void 0){let h=U.can,c=a;if(typeof h!="string"){let y={instancePath:e+"/$actions/"+q+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[y]:o.push(y),a++}if(!(h==="read"||h==="write")){let y={instancePath:e+"/$actions/"+q+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/enum",keyword:"enum",params:{allowedValues:t4.properties.$actions.items.oneOf[1].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[y]:o.push(y),a++}var x=c===a}else var x=!0}}var E=_===a;if(E&&F?(F=!1,L=[L,1]):E&&(F=!0,L=1),F)a=W,o!==null&&(W?o.length=W:o=null);else{let u={instancePath:e+"/$actions/"+q,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:L},message:"must match exactly one schema in oneOf"};return o===null?o=[u]:o.push(u),a++,Tn.errors=o,!1}var v=$===a;if(!v)break}}}else return Tn.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var p=D===a}else var p=!0;if(p){if(t.$globalRole!==void 0){let k=a;if(typeof t.$globalRole!="boolean")return Tn.errors=[{instancePath:e+"/$globalRole",schemaPath:"#/properties/%24globalRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var p=k===a}else var p=!0;if(p){if(t.$contextRole!==void 0){let k=a;if(typeof t.$contextRole!="boolean")return Tn.errors=[{instancePath:e+"/$contextRole",schemaPath:"#/properties/%24contextRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var p=k===a}else var p=!0;if(p){var T=!0;for(let k in t)if(bB.test(k)){let D=a;r4.validate(t[k],{instancePath:e+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:t,parentDataProperty:k,rootData:n})||(o=o===null?r4.validate.errors:o.concat(r4.validate.errors),a=o.length);var T=D===a;if(!T)break}}}}}}}else return Tn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Tn.errors=o,a===0}function an(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let E;if(t.protocol===void 0&&(E="protocol")||t.published===void 0&&(E="published")||t.types===void 0&&(E="types")||t.structure===void 0&&(E="structure"))return an.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let T=a;for(let A in t)if(!(A==="protocol"||A==="published"||A==="types"||A==="structure")){return an.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties"}],!1;break}if(T===a){if(t.protocol!==void 0){let A=a;if(typeof t.protocol!="string")return an.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=A===a}else var d=!0;if(d){if(t.published!==void 0){let A=a;if(typeof t.published!="boolean")return an.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=A===a}else var d=!0;if(d){if(t.types!==void 0){let A=t.types,k=a;if(a===k)if(A&&typeof A=="object"&&!Array.isArray(A)){var p=!0;for(let I in A)if(vB.test(I)){let C=A[I],q=a;if(a===q)if(C&&typeof C=="object"&&!Array.isArray(C)){let $=a;for(let W in C)if(!(W==="schema"||W==="dataFormats")){return an.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"}],!1;break}if($===a){if(C.schema!==void 0){let W=a;if(typeof C.schema!="string")return an.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=W===a}else var v=!0;if(v)if(C.dataFormats!==void 0){let W=C.dataFormats,F=a;if(a===F)if(Array.isArray(W)){if(W.length<1)return an.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var w=!0;let H=W.length;for(let _=0;_<H;_++){let s=a;if(typeof W[_]!="string")return an.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+_,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=s===a;if(!w)break}}}else return an.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var v=F===a}else var v=!0}}else return an.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=q===a;if(!p)break}}else return an.errors=[{instancePath:e+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=k===a}else var d=!0;if(d)if(t.structure!==void 0){let A=t.structure,k=a;if(a===k)if(A&&typeof A=="object"&&!Array.isArray(A)){var x=!0;for(let I in A)if(vB.test(I)){let C=a;Tn(A[I],{instancePath:e+"/structure/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:A,parentDataProperty:I,rootData:n})||(o=o===null?Tn.errors:o.concat(Tn.errors),a=o.length);var x=C===a;if(!x)break}}else return an.errors=[{instancePath:e+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=k===a}else var d=!0}}}}}else return an.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return an.errors=o,a===0}var jre=Tn,Lre=yo,wB={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function yo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return yo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let w=a;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return yo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.authorization!==void 0){let x=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=x===a}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=a;if(a===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let A;if(x.interface===void 0&&(A="interface")||x.method===void 0&&(A="method")||x.messageTimestamp===void 0&&(A="messageTimestamp")||x.definition===void 0&&(A="definition"))return yo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let k=a;for(let D in x)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="definition")){return yo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(k===a){if(x.interface!==void 0){let D=x.interface,I=a;if(typeof D!="string")return yo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Protocols")return yo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:wB.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.method!==void 0){let D=x.method,I=a;if(typeof D!="string")return yo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Configure")return yo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:wB.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let D=x.messageTimestamp,I=a;if(a===a)if(typeof D=="string"){if(!$f.test(D))return yo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return yo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p)if(x.definition!==void 0){let D=a;an(x.definition,{instancePath:e+"/descriptor/definition",parentData:x,parentDataProperty:"definition",rootData:n})||(o=o===null?an.errors:o.concat(an.errors),a=o.length);var p=D===a}else var p=!0}}}}}else return yo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===a}else var d=!0}}}else return yo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return yo.errors=o,a===0}var Ure=$i,_B={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function $i(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.descriptor===void 0&&(w="descriptor"))return $i.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let x=a;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return $i.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(x===a){if(t.authorization!==void 0){let E=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=E===a}else var d=!0;if(d)if(t.descriptor!==void 0){let E=t.descriptor,T=a;if(a===T)if(E&&typeof E=="object"&&!Array.isArray(E)){let k;if(E.interface===void 0&&(k="interface")||E.method===void 0&&(k="method")||E.messageTimestamp===void 0&&(k="messageTimestamp"))return $i.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{let D=a;for(let I in E)if(!(I==="interface"||I==="method"||I==="messageTimestamp"||I==="filter")){return $i.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(D===a){if(E.interface!==void 0){let I=E.interface,C=a;if(typeof I!="string")return $i.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Protocols")return $i.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:_B.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===a}else var p=!0;if(p){if(E.method!==void 0){let I=E.method,C=a;if(typeof I!="string")return $i.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Query")return $i.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:_B.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===a}else var p=!0;if(p){if(E.messageTimestamp!==void 0){let I=a;if(typeof E.messageTimestamp!="string")return $i.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===a}else var p=!0;if(p)if(E.filter!==void 0){let I=E.filter,C=a;if(a===C)if(I&&typeof I=="object"&&!Array.isArray(I)){if(Object.keys(I).length<1)return $i.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let U=a;for(let $ in I)if(!($==="protocol"||$==="recipient")){return $i.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$},message:"must NOT have additional properties"}],!1;break}if(U===a){if(I.protocol!==void 0){let $=a;if(typeof I.protocol!="string")return $i.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=$===a}else var v=!0;if(v)if(I.recipient!==void 0){let $=I.recipient,W=a;if(a===a)if(typeof $=="string"){if(!$s.test($))return $i.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return $i.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=W===a}else var v=!0}}}else return $i.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=C===a}else var p=!0}}}}}else return $i.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=T===a}else var d=!0}}}else return $i.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $i.errors=o,a===0}var zre=jo,xB={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{type:"string"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function jo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.descriptor===void 0&&(v="descriptor"))return jo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let w=a;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return jo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(w===a){if(t.authorization!==void 0){let x=a;Ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Ft.errors:o.concat(Ft.errors),a=o.length);var d=x===a}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=a;if(a===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let A;if(x.interface===void 0&&(A="interface")||x.method===void 0&&(A="method")||x.messageTimestamp===void 0&&(A="messageTimestamp")||x.filter===void 0&&(A="filter"))return jo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let k=a;for(let D in x)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="filter")){return jo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(k===a){if(x.interface!==void 0){let D=x.interface,I=a;if(typeof D!="string")return jo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Records")return jo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:xB.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.method!==void 0){let D=x.method,I=a;if(typeof D!="string")return jo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Read")return jo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:xB.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===a}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let D=a;if(typeof x.messageTimestamp!="string")return jo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=D===a}else var p=!0;if(p)if(x.filter!==void 0){let D=a;tr(x.filter,{instancePath:e+"/descriptor/filter",parentData:x,parentDataProperty:"filter",rootData:n})||(o=o===null?tr.errors:o.concat(tr.errors),a=o.length);var p=D===a}else var p=!0}}}}}else return jo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===a}else var d=!0}}}else return jo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return jo.errors=o,a===0}var Fre=tr,$re=sr,Wre=Vu;function Vu(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.descriptorCid===void 0&&(p="descriptorCid"))return Vu.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let v=a;for(let w in t)if(!(w==="descriptorCid"||w==="permissionsGrantId"||w==="protocolRole")){return Vu.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;break}if(v===a){if(t.descriptorCid!==void 0){let w=a;if(typeof t.descriptorCid!="string")return Vu.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.permissionsGrantId!==void 0){let w=a;if(typeof t.permissionsGrantId!="string")return Vu.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d)if(t.protocolRole!==void 0){let w=a;if(typeof t.protocolRole!="string")return Vu.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0}}}}else return Vu.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Vu.errors=o,a===0}var Gre=ts;function ts(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,a=0;if(a===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.descriptorCid===void 0&&(p="descriptorCid")||t.recordId===void 0&&(p="recordId"))return ts.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let v=a;for(let w in t)if(!(w==="descriptorCid"||w==="recordId"||w==="contextId"||w==="attestationCid"||w==="encryptionCid"||w==="permissionsGrantId"||w==="protocolRole")){return ts.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;break}if(v===a){if(t.descriptorCid!==void 0){let w=a;if(typeof t.descriptorCid!="string")return ts.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.recordId!==void 0){let w=a;if(typeof t.recordId!="string")return ts.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.contextId!==void 0){let w=a;if(typeof t.contextId!="string")return ts.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.attestationCid!==void 0){let w=a;if(typeof t.attestationCid!="string")return ts.errors=[{instancePath:e+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.encryptionCid!==void 0){let w=a;if(typeof t.encryptionCid!="string")return ts.errors=[{instancePath:e+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d){if(t.permissionsGrantId!==void 0){let w=a;if(typeof t.permissionsGrantId!="string")return ts.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0;if(d)if(t.protocolRole!==void 0){let w=a;if(typeof t.protocolRole!="string")return ts.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=w===a}else var d=!0}}}}}}}}else return ts.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ts.errors=o,a===0}function p0(t,e){let r=s4[t];if(!r)throw new Error(`schema for ${t} not found.`);if(r(e),!r.errors)return;let[i]=r.errors,{instancePath:n,message:o}=i;throw n||(n=t),new Error(`${n}: ${o}`)}var $r=(o=>(o.Events="Events",o.Messages="Messages",o.Permissions="Permissions",o.Protocols="Protocols",o.Records="Records",o))($r||{}),Wr=(w=>(w.Configure="Configure",w.Create="Create",w.Get="Get",w.Grant="Grant",w.Query="Query",w.Read="Read",w.Request="Request",w.Revoke="Revoke",w.Write="Write",w.Delete="Delete",w))(Wr||{}),qe=class{constructor(e){this.message=e,e.authorization!==void 0&&(this.authorSignaturePayload=Tr.decodePlainObjectPayload(e.authorization.authorSignature),this.author=qe.getAuthor(e))}toJSON(){return this.message}static validateJsonSchema(e){let r=e.descriptor.interface,i=e.descriptor.method,n=r+i;p0(n,e)}static getAuthor(e){return e.authorization===void 0?void 0:Tr.getSignerDid(e.authorization.authorSignature.signatures[0])}static async getCid(e){let r={...e};return r.encodedData&&delete r.encodedData,await Lr.computeCid(r)}static async compareCid(e,r){let i=await qe.getCid(e),n=await qe.getCid(r);return oB(i,n)}static async createAuthorizationAsAuthor(e,r,i){return{authorSignature:await qe.createSignature(e,r,i)}}static async createSignature(e,r,i){let o={descriptorCid:await Lr.computeCid(e),...i};sn(o);let a=Xe.objectToBytes(o);return(await Lf.create(a,[r])).getJws()}static async getNewestMessage(e){let r;for(let i of e)(r===void 0||await qe.isNewer(i,r))&&(r=i);return r}static async getOldestMessage(e){let r;for(let i of e)(r===void 0||await qe.isOlder(i,r))&&(r=i);return r}static async isNewer(e,r){return await qe.compareMessageTimestamp(e,r)>0}static async isOlder(e,r){return await qe.compareMessageTimestamp(e,r)<0}static async compareMessageTimestamp(e,r){return e.descriptor.messageTimestamp>r.descriptor.messageTimestamp?1:e.descriptor.messageTimestamp<r.descriptor.messageTimestamp?-1:qe.compareCid(e,r)}};M();M();var B_=Lt(Cw(),1),O_=Lt(BW(),1),jA=Lt(D_(),1),Ac=class{static async aes256CtrEncrypt(e,r,i){let n=B_.createCipheriv("aes-256-ctr",e,r),o=new jA.Readable({read(){}});return i.on("data",a=>{let d=n.update(a);o.push(d)}),i.on("end",()=>{let a=n.final();o.push(a),o.push(null)}),i.on("error",a=>{o.emit("error",a)}),o}static async aes256CtrDecrypt(e,r,i){let n=B_.createDecipheriv("aes-256-ctr",e,r),o=new jA.Readable({read(){}});return i.on("data",a=>{let d=n.update(a);o.push(d)}),i.on("end",()=>{let a=n.final();o.push(a),o.push(null)}),i.on("error",a=>{o.emit("error",a)}),o}static async eciesSecp256k1Encrypt(e,r){let i=N.Buffer.from(e),n=N.Buffer.from(r),o=O_.encrypt(i,n),a=o.subarray(0,65),d=o.subarray(65,81),p=o.subarray(81,97);return{ciphertext:o.subarray(97),ephemeralPublicKey:a,initializationVector:d,messageAuthenticationCode:p}}static async eciesSecp256k1Decrypt(e){let r=N.Buffer.from(e.privateKey),i=N.Buffer.concat([e.ephemeralPublicKey,e.initializationVector,e.messageAuthenticationCode,e.ciphertext]);return O_.decrypt(r,i)}},LA=(r=>(r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r))(LA||{});M();var jg=(n=>(n.DataFormats="dataFormats",n.ProtocolContext="protocolContext",n.ProtocolPath="protocolPath",n.Schemas="schemas",n))(jg||{}),Tc=class{static async derivePrivateKey(e,r){let i=kt.privateJwkToBytes(e.derivedPrivateKey),n=e.derivationPath??[],o=await kt.derivePrivateKey(i,r),a=await kt.privateKeyToJwk(o);return{rootKeyId:e.rootKeyId,derivationScheme:e.derivationScheme,derivationPath:[...n,...r],derivedPrivateKey:a}}static async derivePublicKey(e,r){let i=await Tc.derivePrivateKey(e,r);return await kt.getPublicJwk(i.derivedPrivateKey)}};M();function Pc(t){let e;try{e=aa(t)}catch{e=void 0}if(t!==e)throw new je("UrlProtocolNotNormalized",`Protocol URI ${t} must be normalized.`)}function aa(t){return uK(t)}function Mp(t){let e;try{e=du(t)}catch{e=void 0}if(t!==e)throw new je("UrlSchemaNotNormalized",`Schema URI ${t} must be normalized.`)}function du(t){return uK(t)}function uK(t){let e;/^[^:]+:(\/{2})?[^\/].*/.test(t)?e=t:e=`http://${t}`;try{let r=new URL(e);return r.search="",r.hash="",x2e(r.href)}catch{throw new je("UrlProtocolNotNormalizable","Could not normalize protocol URI")}}function x2e(t){return t.endsWith("/")?t.slice(0,-1):t}var si=class{static async decrypt(e,r,i){let{encryption:n}=e,o=n.keyEncryption.find(k=>k.rootKeyId===r.rootKeyId&&k.derivationScheme===r.derivationScheme);if(o===void 0)throw new je("RecordsDecryptNoMatchingKeyEncryptedFound",`Unable to find a symmetric key encrypted using key         with ID '${r.rootKeyId}' and '${r.derivationScheme}' derivation scheme.`);let a=si.constructKeyDerivationPath(o.derivationScheme,e),d=await si.derivePrivateKey(r,a),p=Xe.base64UrlToBytes(o.encryptedKey),v=kt.publicJwkToBytes(o.ephemeralPublicKey),w=Xe.base64UrlToBytes(o.initializationVector),x=Xe.base64UrlToBytes(o.messageAuthenticationCode),E=await Ac.eciesSecp256k1Decrypt({ciphertext:p,ephemeralPublicKey:v,initializationVector:w,messageAuthenticationCode:x,privateKey:d}),T=Xe.base64UrlToBytes(n.initializationVector);return await Ac.aes256CtrDecrypt(E,T,i)}static constructKeyDerivationPath(e,r){let i=r.descriptor,n=r.contextId,o;return e==="dataFormats"?o=si.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):e==="protocolPath"?o=si.constructKeyDerivationPathUsingProtocolPathScheme(i):e==="protocolContext"?o=si.constructKeyDerivationPathUsingProtocolContextScheme(n):o=si.constructKeyDerivationPathUsingSchemasScheme(i.schema),o}static constructKeyDerivationPathUsingDataFormatsScheme(e,r){return e!==void 0?["dataFormats",e,r]:["dataFormats",r]}static constructKeyDerivationPathUsingProtocolPathScheme(e){if(e.protocol===void 0)throw new je("RecordsProtocolPathDerivationSchemeMissingProtocol","Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");let r=e.protocolPath.split("/");return["protocolPath",e.protocol,...r]}static constructKeyDerivationPathUsingProtocolContextScheme(e){if(e===void 0)throw new je("RecordsProtocolContextDerivationSchemeMissingContextId","Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");return["protocolContext",e]}static constructKeyDerivationPathUsingSchemasScheme(e){if(e===void 0)throw new je("RecordsSchemasDerivationSchemeMissingSchema","Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return["schemas",e]}static async derivePrivateKey(e,r){if(e.derivedPrivateKey.crv!=="secp256k1")throw new je("RecordsDerivePrivateKeyUnSupportedCurve",`Curve ${e.derivedPrivateKey.crv} is not supported.`);let i=e.derivationPath??[];si.validateAncestorKeyAndDescentKeyDerivationPathsMatch(i,r);let n=r.slice(i.length),o=kt.privateJwkToBytes(e.derivedPrivateKey);return await kt.derivePrivateKey(o,n)}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,r){for(let i=0;i<e.length;i++){let n=e[i],o=r[i];if(n!==o)throw new je("RecordsInvalidAncestorKeyDerivationSegment",`Ancestor key derivation segment '${n}' mismatches against the descendant key derivation segment '${o}'.`)}}static normalizeFilter(e){let r;e.protocol===void 0?r=void 0:r=aa(e.protocol);let i;return e.schema===void 0?i=void 0:i=du(e.schema),{...e,protocol:r,schema:i}}static convertFilter(e){let r={...e},{dateCreated:i}=r,n;return i!==void 0&&(i.to!==void 0&&i.from!==void 0?n={gte:i.from,lt:i.to}:i.to!==void 0?n={lt:i.to}:i.from!==void 0&&(n={gte:i.from})),n&&(r.dateCreated=n),r}};M();M();M();M();var Lg=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,lK=new Set,UA=typeof O.default=="object"&&O.default?O.default:{},dK=(t,e,r,i)=>{typeof UA.emitWarning=="function"?UA.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)},q_=globalThis.AbortController,cK=globalThis.AbortSignal;if(typeof q_>"u"){cK=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n)}},q_=class{constructor(){e()}signal=new cK;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let t=UA.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,dK("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var M2e=t=>!lK.has(t),WCe=Symbol("type"),Rc=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),hK=t=>Rc(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Sp:null:null,Sp=class extends Array{constructor(e){super(e),this.fill(0)}},Ap,Ep=class{heap;length;static create(e){let r=hK(e);if(!r)return[];q3(Ep,Ap,!0);let i=new Ep(e,r);return q3(Ep,Ap,!1),i}constructor(e,r){if(!QT(Ep,Ap))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},C_=Ep;Ap=new WeakMap,XT(C_,Ap,!1);var Tp=class{#h;#c;#v;#p;#R;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#m;#n;#r;#e;#f;#l;#a;#o;#y;#s;#x;#M;#g;#b;#S;#u;static unsafeExposeInternals(e){return{starts:e.#M,ttls:e.#g,sizes:e.#x,keyMap:e.#n,keyList:e.#r,valList:e.#e,next:e.#f,prev:e.#l,get head(){return e.#a},get tail(){return e.#o},free:e.#y,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,i,n,o)=>e.#D(r,i,n,o),moveToTail:r=>e.#P(r),indexes:r=>e.#w(r),rindexes:r=>e.#_(r),isStale:r=>e.#d(r)}}get max(){return this.#h}get maxSize(){return this.#c}get calculatedSize(){return this.#m}get size(){return this.#i}get fetchMethod(){return this.#R}get dispose(){return this.#v}get disposeAfter(){return this.#p}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:d,allowStale:p,dispose:v,disposeAfter:w,noDisposeOnSet:x,noUpdateTTL:E,maxSize:T=0,maxEntrySize:A=0,sizeCalculation:k,fetchMethod:D,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:q,allowStaleOnFetchAbort:U,ignoreFetchAbort:$}=e;if(r!==0&&!Rc(r))throw new TypeError("max option must be a nonnegative integer");let W=r?hK(r):Array;if(!W)throw new Error("invalid max value: "+r);if(this.#h=r,this.#c=T,this.maxEntrySize=A||this.#c,this.sizeCalculation=k,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(D!==void 0&&typeof D!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#R=D,this.#S=!!D,this.#n=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#f=new W(r),this.#l=new W(r),this.#a=0,this.#o=0,this.#y=C_.create(r),this.#i=0,this.#m=0,typeof v=="function"&&(this.#v=v),typeof w=="function"?(this.#p=w,this.#s=[]):(this.#p=void 0,this.#s=void 0),this.#b=!!this.#v,this.#u=!!this.#p,this.noDisposeOnSet=!!x,this.noUpdateTTL=!!E,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!q,this.allowStaleOnFetchAbort=!!U,this.ignoreFetchAbort=!!$,this.maxEntrySize!==0){if(this.#c!==0&&!Rc(this.#c))throw new TypeError("maxSize must be a positive integer if specified");if(!Rc(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#j()}if(this.allowStale=!!p,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!d,this.ttlResolution=Rc(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!Rc(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#B()}if(this.#h===0&&this.ttl===0&&this.#c===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#h&&!this.#c){let F="LRU_CACHE_UNBOUNDED";M2e(F)&&(lK.add(F),dK("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",F,Tp))}}getRemainingTTL(e){return this.#n.has(e)?1/0:0}#B(){let e=new Sp(this.#h),r=new Sp(this.#h);this.#g=e,this.#M=r,this.#O=(o,a,d=Lg.now())=>{if(r[o]=a!==0?d:0,e[o]=a,a!==0&&this.ttlAutopurge){let p=setTimeout(()=>{this.#d(o)&&this.delete(this.#r[o])},a+1);p.unref&&p.unref()}},this.#A=o=>{r[o]=e[o]!==0?Lg.now():0},this.#E=(o,a)=>{if(e[a]){let d=e[a],p=r[a];o.ttl=d,o.start=p,o.now=i||n();let v=o.now-p;o.remainingTTL=d-v}};let i=0,n=()=>{let o=Lg.now();if(this.ttlResolution>0){i=o;let a=setTimeout(()=>i=0,this.ttlResolution);a.unref&&a.unref()}return o};this.getRemainingTTL=o=>{let a=this.#n.get(o);if(a===void 0)return 0;let d=e[a],p=r[a];if(d===0||p===0)return 1/0;let v=(i||n())-p;return d-v},this.#d=o=>e[o]!==0&&r[o]!==0&&(i||n())-r[o]>e[o]}#A=()=>{};#E=()=>{};#O=()=>{};#d=()=>!1;#j(){let e=new Sp(this.#h);this.#m=0,this.#x=e,this.#T=r=>{this.#m-=e[r],e[r]=0},this.#C=(r,i,n,o)=>{if(this.#t(i))return 0;if(!Rc(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,r),!Rc(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(r,i,n)=>{if(e[r]=i,this.#c){let o=this.#c-e[r];for(;this.#m>o;)this.#I(!0)}this.#m+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#m)}}#T=e=>{};#k=(e,r,i)=>{};#C=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#o;!(!this.#q(r)||((e||!this.#d(r))&&(yield r),r===this.#a));)r=this.#l[r]}*#_({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#a;!(!this.#q(r)||((e||!this.#d(r))&&(yield r),r===this.#o));)r=this.#f[r]}#q(e){return e!==void 0&&this.#n.get(this.#r[e])===e}*entries(){for(let e of this.#w())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*rentries(){for(let e of this.#_())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*keys(){for(let e of this.#w()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*rkeys(){for(let e of this.#_()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*values(){for(let e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(let e of this.#_())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.#w()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;if(o!==void 0&&e(o,this.#r[i],this))return this.get(this.#r[i],r)}}forEach(e,r=this){for(let i of this.#w()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this)}}rforEach(e,r=this){for(let i of this.#_()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this)}}purgeStale(){let e=!1;for(let r of this.#_({allowStale:!0}))this.#d(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#w({allowStale:!0})){let i=this.#r[r],n=this.#e[r],o=this.#t(n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;let a={value:o};if(this.#g&&this.#M){a.ttl=this.#g[r];let d=Lg.now()-this.#M[r];a.start=Math.floor(Date.now()-d)}this.#x&&(a.size=this.#x[r]),e.unshift([i,a])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=Lg.now()-n}this.set(r,i.value,i)}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:o,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:d=this.sizeCalculation,status:p}=i,{noUpdateTTL:v=this.noUpdateTTL}=i,w=this.#C(e,r,i.size||0,d);if(this.maxEntrySize&&w>this.maxEntrySize)return p&&(p.set="miss",p.maxEntrySizeExceeded=!0),this.delete(e),this;let x=this.#i===0?void 0:this.#n.get(e);if(x===void 0)x=this.#i===0?this.#o:this.#y.length!==0?this.#y.pop():this.#i===this.#h?this.#I(!1):this.#i,this.#r[x]=e,this.#e[x]=r,this.#n.set(e,x),this.#f[this.#o]=x,this.#l[x]=this.#o,this.#o=x,this.#i++,this.#k(x,w,p),p&&(p.set="add"),v=!1;else{this.#P(x);let E=this.#e[x];if(r!==E){if(this.#S&&this.#t(E)?E.__abortController.abort(new Error("replaced")):a||(this.#b&&this.#v?.(E,e,"set"),this.#u&&this.#s?.push([E,e,"set"])),this.#T(x),this.#k(x,w,p),this.#e[x]=r,p){p.set="replace";let T=E&&this.#t(E)?E.__staleWhileFetching:E;T!==void 0&&(p.oldValue=T)}}else p&&(p.set="update")}if(n!==0&&!this.#g&&this.#B(),this.#g&&(v||this.#O(x,n,o),p&&this.#E(p,x)),!a&&this.#u&&this.#s){let E=this.#s,T;for(;T=E?.shift();)this.#p?.(...T)}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#a];if(this.#I(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#s){let e=this.#s,r;for(;r=e?.shift();)this.#p?.(...r)}}}#I(e){let r=this.#a,i=this.#r[r],n=this.#e[r];return this.#S&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#b||this.#u)&&(this.#b&&this.#v?.(n,i,"evict"),this.#u&&this.#s?.push([n,i,"evict"])),this.#T(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#y.push(r)),this.#i===1?(this.#a=this.#o=0,this.#y.length=0):this.#a=this.#f[r],this.#n.delete(i),this.#i--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,o=this.#n.get(e);if(o!==void 0){let a=this.#e[o];if(this.#t(a)&&a.__staleWhileFetching===void 0)return!1;if(this.#d(o))n&&(n.has="stale",this.#E(n,o));else return i&&this.#A(o),n&&(n.has="hit",this.#E(n,o)),!0}else n&&(n.has="miss");return!1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#n.get(e);if(n!==void 0&&(i||!this.#d(n))){let o=this.#e[n];return this.#t(o)?o.__staleWhileFetching:o}}#D(e,r,i,n){let o=r===void 0?void 0:this.#e[r];if(this.#t(o))return o;let a=new q_,{signal:d}=i;d?.addEventListener("abort",()=>a.abort(d.reason),{signal:a.signal});let p={signal:a.signal,options:i,context:n},v=(k,D=!1)=>{let{aborted:I}=a.signal,C=i.ignoreFetchAbort&&k!==void 0;if(i.status&&(I&&!D?(i.status.fetchAborted=!0,i.status.fetchError=a.signal.reason,C&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),I&&!C&&!D)return x(a.signal.reason);let q=T;return this.#e[r]===T&&(k===void 0?q.__staleWhileFetching?this.#e[r]=q.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,k,p.options))),k},w=k=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=k),x(k)),x=k=>{let{aborted:D}=a.signal,I=D&&i.allowStaleOnFetchAbort,C=I||i.allowStaleOnFetchRejection,q=C||i.noDeleteOnFetchRejection,U=T;if(this.#e[r]===T&&(!q||U.__staleWhileFetching===void 0?this.delete(e):I||(this.#e[r]=U.__staleWhileFetching)),C)return i.status&&U.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),U.__staleWhileFetching;if(U.__returned===U)throw k},E=(k,D)=>{let I=this.#R?.(e,o,p);I&&I instanceof Promise&&I.then(C=>k(C),D),a.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(k(),i.allowStaleOnFetchAbort&&(k=C=>v(C,!0)))})};i.status&&(i.status.fetchDispatched=!0);let T=new Promise(E).then(v,w),A=Object.assign(T,{__abortController:a,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,A,{...p.options,status:void 0}),r=this.#n.get(e)):this.#e[r]=A,A}#t(e){if(!this.#S)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof q_}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:d=this.noDisposeOnSet,size:p=0,sizeCalculation:v=this.sizeCalculation,noUpdateTTL:w=this.noUpdateTTL,noDeleteOnFetchRejection:x=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:E=this.allowStaleOnFetchRejection,ignoreFetchAbort:T=this.ignoreFetchAbort,allowStaleOnFetchAbort:A=this.allowStaleOnFetchAbort,context:k,forceRefresh:D=!1,status:I,signal:C}=r;if(!this.#S)return I&&(I.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:I});let q={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:a,noDisposeOnSet:d,size:p,sizeCalculation:v,noUpdateTTL:w,noDeleteOnFetchRejection:x,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:A,ignoreFetchAbort:T,status:I,signal:C},U=this.#n.get(e);if(U===void 0){I&&(I.fetch="miss");let $=this.#D(e,U,q,k);return $.__returned=$}else{let $=this.#e[U];if(this.#t($)){let _=i&&$.__staleWhileFetching!==void 0;return I&&(I.fetch="inflight",_&&(I.returnedStale=!0)),_?$.__staleWhileFetching:$.__returned=$}let W=this.#d(U);if(!D&&!W)return I&&(I.fetch="hit"),this.#P(U),n&&this.#A(U),I&&this.#E(I,U),$;let F=this.#D(e,U,q,k),H=F.__staleWhileFetching!==void 0&&i;return I&&(I.fetch=W?"stale":"refresh",H&&W&&(I.returnedStale=!0)),H?F.__staleWhileFetching:F.__returned=F}}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:a}=r,d=this.#n.get(e);if(d!==void 0){let p=this.#e[d],v=this.#t(p);return a&&this.#E(a,d),this.#d(d)?(a&&(a.get="stale"),v?(a&&i&&p.__staleWhileFetching!==void 0&&(a.returnedStale=!0),i?p.__staleWhileFetching:void 0):(o||this.delete(e),a&&i&&(a.returnedStale=!0),i?p:void 0)):(a&&(a.get="hit"),v?p.__staleWhileFetching:(this.#P(d),n&&this.#A(d),p))}else a&&(a.get="miss")}#N(e,r){this.#l[r]=e,this.#f[e]=r}#P(e){e!==this.#o&&(e===this.#a?this.#a=this.#f[e]:this.#N(this.#l[e],this.#f[e]),this.#N(this.#o,e),this.#o=e)}delete(e){let r=!1;if(this.#i!==0){let i=this.#n.get(e);if(i!==void 0)if(r=!0,this.#i===1)this.clear();else{this.#T(i);let n=this.#e[i];this.#t(n)?n.__abortController.abort(new Error("deleted")):(this.#b||this.#u)&&(this.#b&&this.#v?.(n,e,"delete"),this.#u&&this.#s?.push([n,e,"delete"])),this.#n.delete(e),this.#r[i]=void 0,this.#e[i]=void 0,i===this.#o?this.#o=this.#l[i]:i===this.#a?this.#a=this.#f[i]:(this.#f[this.#l[i]]=this.#f[i],this.#l[this.#f[i]]=this.#l[i]),this.#i--,this.#y.push(i)}}if(this.#u&&this.#s?.length){let i=this.#s,n;for(;n=i?.shift();)this.#p?.(...n)}return r}clear(){for(let e of this.#_({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else{let i=this.#r[e];this.#b&&this.#v?.(r,i,"delete"),this.#u&&this.#s?.push([r,i,"delete"])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#g&&this.#M&&(this.#g.fill(0),this.#M.fill(0)),this.#x&&this.#x.fill(0),this.#a=0,this.#o=0,this.#y.length=0,this.#m=0,this.#i=0,this.#u&&this.#s){let e=this.#s,r;for(;r=e?.shift();)this.#p?.(...r)}}};var Pp=class{constructor(e){this.timeToLiveInSeconds=e;this.cache=new Tp({max:1e5,ttl:e*1e3})}async set(e,r){try{this.cache.set(e,r)}catch{}}async get(e){return this.cache.get(e)}async dump(){for(let[e,r]of this.cache)console.debug(e,r)}};var Fd=class{constructor(e,r){this.jws=e,this.cache=r||new Pp(600)}async verify(e){let r=[];for(let i of this.jws.signatures){let n,o=`${i.protected}.${this.jws.payload}.${i.signature}`,a=Tr.getKid(i),d=await Fd.getPublicKey(a,e),p=await this.cache.get(o);p===void 0?(n=await Tr.verifySignature(this.jws.payload,i,d),await this.cache.set(o,n)):n=p;let v=Tr.extractDid(a);if(n)r.push(v);else throw new je("GeneralJwsVerifierInvalidSignature",`Signature verification failed for ${v}`)}return{signers:r}}static async getPublicKey(e,r){let i=Tr.extractDid(e),{didDocument:n}=await r.resolve(i),{verificationMethod:o=[]}=n||{},a;for(let p of o)if(e.endsWith(p.id)){a=p;break}if(!a)throw new Error("public key needed to verify signature not found in DID Document");p0("JwkVerificationMethod",a);let{publicKeyJwk:d}=a;return d}};async function Zr(t,e,r="GenericSignaturePayload"){if(t.signatures.length!==1)throw new Error("expected no more than 1 signature for authorization purpose");let i=Tr.decodePlainObjectPayload(t);p0(r,i);let{descriptorCid:n}=i,o=await Lr.computeCid(e);if(n!==o)throw new Error(`provided descriptorCid ${n} does not match expected CID ${o}`);return i}async function ai(t,e){if(t===void 0)throw new je("AuthenticateJwsMissing","Missing JWS.");await new Fd(t.authorSignature).verify(e),t.ownerSignature!==void 0&&await new Fd(t.ownerSignature).verify(e)}async function kc(t,e){if(e.author!==t)throw new Error("message failed authorization, permission grant check not yet implemented")}var zA=(n=>(n.CreatedAscending="createdAscending",n.CreatedDescending="createdDescending",n.PublishedAscending="publishedAscending",n.PublishedDescending="publishedDescending",n))(zA||{}),Ic=class extends qe{static async parse(e){return e.authorization!==void 0&&await Zr(e.authorization.authorSignature,e.descriptor),e.descriptor.filter.protocol!==void 0&&Pc(e.descriptor.filter.protocol),e.descriptor.filter.schema!==void 0&&Mp(e.descriptor.filter.schema),new Ic(e)}static async create(e){let r={interface:"Records",method:"Query",messageTimestamp:e.messageTimestamp??Kr(),filter:si.normalizeFilter(e.filter),dateSort:e.dateSort,pagination:e.pagination};sn(r);let i=e.authorizationSigner,n=i?await qe.createAuthorizationAsAuthor(r,i):void 0,o={descriptor:r,authorization:n};return qe.validateJsonSchema(o),new Ic(o)}};M();M();var pK=Lt(D_(),1),df=class{static async toBytes(e){return new Promise((r,i)=>{let n=[];e.on("data",o=>{n.push(o)}),e.on("end",()=>{let o=df.concatenateArrayOfBytes(n);r(o)}),e.on("error",i)})}static concatenateArrayOfBytes(e){let r=e.reduce((o,a)=>o+a.length,0),i=new Uint8Array(r),n=0;for(let o of e)i.set(o,n),n+=o.length;return i}static fromBytes(e){let i=0;return new pK.Readable({read(o){i+1e5>e.length?(this.push(e.subarray(i)),this.push(null)):(this.push(e.subarray(i,i+1e5)),i=i+1e5)}})}static fromObject(e){let r=Xe.objectToBytes(e);return df.fromBytes(r)}};M();var WA=Lt(EK(),1);M();var Rp=class{static getMethodSpecificId(e){let r=e.indexOf(":",4);return e.substring(r+1)}static validate(e){if(typeof e!="string")throw new Error(`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new TypeError(`DID is not a valid DID: ${e}`)}static getMethodName(e){let r=e.indexOf(":",4);return e.substring(4,r)}};var Dc=class{method(){return"key"}static getMulticodecSize(e){let r=0;for(;;){let i=e[r];if(r++,(i&128)!==128)break}return r}async resolve(e){let[r,i,n]=e.split(":",3);try{let o=Po.decode(n),a=WA.default.decode(o),d=Dc.getMulticodecSize(o),p=o.slice(d),v=[],w;if(a===237)v.push("https://w3id.org/security/suites/ed25519-2020/v1"),w=await fy.publicKeyToJwk(p);else if(a===231)w=await kt.publicKeyToJwk(p);else throw Error(`key type of multicodec ${a} is not supported`);let x=`${e}#${n}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...v],id:e,verificationMethod:[{id:x,type:"JsonWebKey2020",controller:e,publicKeyJwk:w}],authentication:[x],assertionMethod:[x],capabilityDelegation:[x],capabilityInvocation:[x]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}}static async generate(){let{publicJwk:e,privateJwk:r}=await fy.generateKeyPair(),i=WA.default.encode(237),n=Xe.base64UrlToBytes(e.x),o=new Uint8Array(i.length+n.byteLength);o.set(i,0),o.set(n,i.length);let d=`did:key:${Po.encode(o)}`,p=Dc.getKeyId(d);return{did:d,keyId:p,keyPair:{publicJwk:e,privateJwk:r}}}static getKeyId(e){let r=Rp.getMethodSpecificId(e);return`${e}#${r}`}async dump(){}};M();var TK=Lt(AK(),1),N2e=globalThis.fetch??TK.default,Ug=class{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}async resolve(e){let r=new URL("./"+e,this.resolutionEndpoint).toString(),i=await N2e(r);if(i.status!==200)throw new Error(`unable to resolve ${e}, got http status ${i.status}`);return await i.json()}async dump(){}};M();var zg=class{constructor(e,r){this.cache=r||new Pp(600),(e===void 0||e.length===0)&&(e=[new Ug,new Dc]),this.didResolvers=new Map;for(let i of e)this.didResolvers.set(i.method(),i)}async resolve(e){Rp.validate(e);let i=e.split(":",3)[1],n=this.didResolvers.get(i);if(!n)throw new Error(`${i} DID method not supported`);let o=await this.cache.get(e),a=o??await n.resolve(e);o===void 0&&await this.cache.set(e,a);let{didDocument:d,didResolutionMetadata:p}=a;if(!d||p?.error){let{error:v}=p,w=`Failed to resolve DID ${e}.`;throw w+=v?` Error: ${v}`:"",new Error(w)}return a}async dump(){console.group("didResolvers");for(let[e,r]of this.didResolvers)console.group(e),await r.dump?.(),console.groupEnd();console.groupEnd(),console.group("didCache"),await this.cache.dump?.(),console.groupEnd()}};M();M();M();var Oc=class extends qe{static async parse(e){return qe.validateJsonSchema(e),await Zr(e.authorization.authorSignature,e.descriptor),new Oc(e)}static async create(e){let r={interface:"Events",method:"Get",messageTimestamp:e.messageTimestamp??Kr()};e.watermark&&(r.watermark=e.watermark);let i=await qe.createAuthorizationAsAuthor(r,e.authorizationSigner),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new Oc(n)}};M();function gt(t,e){let r=t instanceof Error?t.message:"Error";return{status:{code:e,detail:r}}}var L_=class{constructor(e,r){this.didResolver=e;this.eventLog=r}async handle({tenant:e,message:r}){let i;try{i=await Oc.parse(r)}catch(a){return gt(a,400)}try{await ai(r.authorization,this.didResolver),await kc(e,i)}catch(a){return gt(a,401)}let n;r.descriptor.watermark&&(n={gt:r.descriptor.watermark});let o=await this.eventLog.getEvents(e,n);return{status:{code:200,detail:"OK"},events:o}}};M();M();var hu=class extends qe{static async parse(e){return qe.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),await Zr(e.authorization.authorSignature,e.descriptor),new hu(e)}static async create(e){let r={interface:"Messages",method:"Get",messageCids:e.messageCids,messageTimestamp:e?.messageTimestamp??Kr()},i=await qe.createAuthorizationAsAuthor(r,e.authorizationSigner),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),hu.validateMessageCids(e.messageCids),new hu(n)}static validateMessageCids(e){for(let r of e)try{Lr.parseCid(r)}catch{throw new Error(`${r} is not a valid CID`)}}};var Fg=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await hu.parse(r)}catch(d){return gt(d,400)}try{await ai(r.authorization,this.didResolver),await kc(e,i)}catch(d){return gt(d,401)}let n=[],o=new Set(r.descriptor.messageCids);for(let d of o){let p=this.messageStore.get(e,d).then(v=>({messageCid:d,message:v})).catch(v=>({messageCid:d,message:void 0,error:`Failed to get message ${d}`}));n.push(p)}let a=await Promise.all(n);for(let d of a){let{message:p}=d;if(!p)continue;let{interface:v,method:w}=p.descriptor;if(v!=="Records"||w!=="Write")continue;let x=p;x.encodedData!==void 0&&(d.encodedData=x.encodedData,delete x.encodedData)}return{status:{code:200,detail:"OK"},messages:a}}};M();M();var fa=class extends qe{static async parse(e){return await Zr(e.authorization.authorSignature,e.descriptor),fa.validateScope(e),new fa(e)}static async create(e){let r={...e.scope};r.protocol=r.protocol!==void 0?aa(r.protocol):void 0,r.schema=r.schema!==void 0?du(r.schema):void 0;let i={interface:"Permissions",method:"Grant",messageTimestamp:e.messageTimestamp??Kr(),dateExpires:e.dateExpires,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,permissionsRequestId:e.permissionsRequestId,scope:r,conditions:e.conditions};sn(i);let n=await qe.createAuthorizationAsAuthor(i,e.authorizationSigner),o={descriptor:i,authorization:n};return qe.validateJsonSchema(o),fa.validateScope(o),new fa(o)}static async createFromPermissionsRequest(e,r,i){let n=e.message.descriptor;return fa.create({dateExpires:i.dateExpires,description:i.description??n.description,grantedBy:i.grantedBy??n.grantedBy,grantedTo:i.grantedTo??n.grantedTo,grantedFor:i.grantedFor??n.grantedFor,permissionsRequestId:await qe.getCid(e.message),scope:i.scope??n.scope,conditions:i.conditions??n.conditions,authorizationSigner:r})}authorize(){let{grantedBy:e,grantedFor:r}=this.message.descriptor;if(this.author!==e)throw new je("PermissionsGrantGrantedByMismatch","Message author must match grantedBy property");if(e!==r)throw new je("PermissionsGrantUnauthorizedGrant",`${e} is not authorized to give access to the DWN belonging to ${r}`)}static validateScope(e){let r=e.descriptor.scope;if(r.schema!==void 0&&(r.protocol!==void 0||r.contextId!==void 0||r.protocolPath))throw new je("PermissionsGrantScopeSchemaProhibitedFields","PermissionsGrants for RecordsRead and RecordsWrite that have `schema` present may not also have protocol-related properties present");if(r.protocol!==void 0&&r.contextId!==void 0&&r.protocolPath!==void 0)throw new je("PermissionsGrantScopeContextIdAndProtocolPath","PermissionsGrants for RecordsRead and RecordsWrite may not have both `contextId` and `protocolPath` present")}};var U_=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await fa.parse(r)}catch(w){return gt(w,400)}try{await ai(r.authorization,this.didResolver),await i.authorize()}catch(w){return gt(w,401)}let{scope:n,conditions:o,...a}=r.descriptor,d={author:i.author,...a},p=await qe.getCid(r);return await this.messageStore.get(e,p)===void 0&&(await this.messageStore.put(e,r,d),await this.eventLog.append(e,p)),{status:{code:202,detail:"Accepted"}}}};M();M();var Cc=class extends qe{static async parse(e){return await Zr(e.authorization.authorSignature,e.descriptor),new Cc(e)}static async create(e){let r={interface:"Permissions",method:"Request",messageTimestamp:e.messageTimestamp??Kr(),description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,scope:e.scope,conditions:e.conditions};sn(r);let i=await qe.createAuthorizationAsAuthor(r,e.authorizationSigner),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new Cc(n)}};var z_=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await Cc.parse(r)}catch(w){return gt(w,400)}try{await ai(r.authorization,this.didResolver)}catch(w){return gt(w,401)}let{scope:n,conditions:o,...a}=r.descriptor,d={...a,author:i.author},p=await qe.getCid(r);return await this.messageStore.get(e,p)===void 0&&(await this.messageStore.put(e,r,d),await this.eventLog.append(e,p)),{status:{code:202,detail:"Accepted"}}}};M();M();var qc=class extends qe{static async parse(e){return await Zr(e.authorization.authorSignature,e.descriptor),new qc(e)}static async create(e){let r={interface:"Permissions",method:"Revoke",messageTimestamp:e.messageTimestamp??Kr(),permissionsGrantId:e.permissionsGrantId},i=await qe.createAuthorizationAsAuthor(r,e.authorizationSigner),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new qc(n)}async authorize(e){if(this.author!==e.descriptor.grantedFor)throw new je("PermissionsRevokeUnauthorizedRevoke","Only the DWN owner may revoke a grant")}};var F_=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await qc.parse(r)}catch(A){return gt(A,400)}try{await ai(r.authorization,this.didResolver)}catch(A){return gt(A,401)}let n=r.descriptor.permissionsGrantId,o=await this.messageStore.get(e,n);if(o===void 0)return{status:{code:400,detail:`Could not find PermissionsGrant with CID ${n}`}};try{await i.authorize(o)}catch(A){return gt(A,401)}if(r.descriptor.messageTimestamp<o.descriptor.messageTimestamp)return{status:{code:400,detail:"PermissionsRevoke has earlier date than associated PermissionsGrant"}};let a={interface:"Permissions",method:"Revoke",permissionsGrantId:n},{messages:d}=await this.messageStore.query(e,[a]),p=await qe.getOldestMessage(d);if(p!==void 0&&!await qe.isOlder(r,p))return{status:{code:409,detail:"Conflict"}};let v={interface:"Permissions",method:"Revoke",permissionsGrantId:r.descriptor.permissionsGrantId};await this.messageStore.put(e,r,v),await this.eventLog.append(e,await qe.getCid(r));let w=[];for(let A of d){let k=await qe.getCid(A);await this.messageStore.delete(e,k),w.push(k)}await this.eventLog.deleteEventsByCid(e,w);let x={permissionsGrantId:n,dateCreated:{gte:r.descriptor.messageTimestamp}},{messages:E}=await this.messageStore.query(e,[x]),T=[];for(let A of E){let k=await qe.getCid(A);await this.messageStore.delete(e,k)}return this.eventLog.deleteEventsByCid(e,T),{status:{code:202,detail:"Accepted"}}}};M();M();var xo=class extends qe{static async parse(r){return qe.validateJsonSchema(r),xo.validateProtocolDefinition(r.descriptor.definition),await Zr(r.authorization.authorSignature,r.descriptor),new xo(r)}static async create(r){let i={interface:"Protocols",method:"Configure",messageTimestamp:r.messageTimestamp??Kr(),definition:xo.normalizeDefinition(r.definition)},n=await qe.createAuthorizationAsAuthor(i,r.authorizationSigner,{permissionsGrantId:r.permissionsGrantId}),o={descriptor:i,authorization:n};return qe.validateJsonSchema(o),xo.validateProtocolDefinition(o.descriptor.definition),new xo(o)}static validateProtocolDefinition(r){let{protocol:i,types:n}=r;Pc(i);for(let o in n){let a=n[o].schema;a!==void 0&&Mp(a)}xo.validateStructure(r)}static validateStructure(r){let i=[];for(let n in r.structure)r.structure[n].$globalRole&&i.push(n);for(let n in r.structure){let o=r.structure[n],a=[];for(let d in o){if(d.startsWith("$"))continue;o[d].$contextRole&&a.push(`${n}/${d}`)}xo.validateRuleSet(o,n,[...i,...a])}}static validateRuleSet(r,i,n){let o=i.split("/").length;if(r.$globalRole&&o!==1)throw new je("ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath",`$globalRole is not allowed at protocol path (${i}). Only root records may set $globalRole true.`);if(r.$contextRole&&o!==2)throw new je("ProtocolsConfigureContextRoleAtProhibitedProtocolPath",`$contextRole is not allowed at protocol path (${i}). Only second-level records may set $contextRole true.`);let a=r.$actions??[];for(let d of a){if(d.role!==void 0&&!n.includes(d.role))throw new je("ProtocolsConfigureInvalidRole",`Invalid role '${d.role}' found at protocol path '${i}'`);if(d.who==="anyone"&&d.of)throw new je("ProtocolsConfigureInvalidActionOfNotAllowed",`'of' is not allowed at protocol path (${i})`);if(d.who!==void 0&&["author","recipient"].includes(d.who)&&!d.of)throw new je("ProtocolsConfigureInvalidActionMissingOf",`'of' is required at protocol path (${i})`)}for(let d in r){if(d.startsWith("$"))continue;let p=r[d],v=`${i}/${d}`;xo.validateRuleSet(p,v,n)}}static normalizeDefinition(r){let i={...r.types};for(let n in i){let o=i[n].schema;o!==void 0&&(i[n].schema=du(o))}return{...r,protocol:aa(r.protocol),types:i}}};var Ip=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,dataStream:i}){let n;try{n=await xo.parse(r)}catch(x){return gt(x,400)}try{await ai(r.authorization,this.didResolver),await kc(e,n)}catch(x){return gt(x,401)}let o={interface:"Protocols",method:"Configure",protocol:r.descriptor.definition.protocol},{messages:a}=await this.messageStore.query(e,[o]),d=await qe.getNewestMessage(a),p=!1;(d===void 0||await qe.isNewer(r,d))&&(p=!0,d=r);let v;if(p){let x=Ip.constructProtocolsConfigureIndexes(n),E=await qe.getCid(r);await this.messageStore.put(e,r,x),await this.eventLog.append(e,E),v={status:{code:202,detail:"Accepted"}}}else v={status:{code:409,detail:"Conflict"}};let w=[];for(let x of a)if(await qe.isNewer(d,x)){let E=await qe.getCid(x);w.push(E),await this.messageStore.delete(e,E)}return await this.eventLog.deleteEventsByCid(e,w),v}static constructProtocolsConfigureIndexes(e){let{definition:r,...i}=e.message.descriptor,{author:n}=e;return{...i,author:n,protocol:r.protocol,published:r.published}}};M();M();M();var Rs=class{static async authorizeGenericMessage(e,r,i,n,o){let a=r.message.descriptor,d=await Rs.fetchGrant(e,o,n);return Rs.verifyGrantedToAndGrantedFor(i,e,d),await Rs.verifyGrantActive(e,a.messageTimestamp,d,n,o),await Rs.verifyGrantScopeInterfaceAndMethod(a.interface,a.method,d,n),d}static async fetchGrant(e,r,i){let n=await r.get(e,i),o=n?.descriptor.interface,a=n?.descriptor.method;if(n===void 0||o!=="Permissions"||a!=="Grant")throw new je("GrantAuthorizationGrantMissing",`Could not find PermissionsGrant with CID ${i}`);return n}static verifyGrantedToAndGrantedFor(e,r,i){let n=i.descriptor.grantedTo;if(n!==e)throw new je("GrantAuthorizationNotGrantedToAuthor",`PermissionsGrant has grantedTo ${n}, but given ${e}`);let o=i.descriptor.grantedFor;if(o!==r)throw new je("GrantAuthorizationNotGrantedForTenant",`PermissionsGrant has grantedFor ${o}, but given ${r}`)}static async verifyGrantActive(e,r,i,n,o){if(r<i.descriptor.messageTimestamp)throw new je("GrantAuthorizationGrantNotYetActive","The message has a timestamp before the associated PermissionsGrant becomes active");if(r>=i.descriptor.dateExpires)throw new je("GrantAuthorizationGrantExpired","The message has timestamp after the expiry of the associated PermissionsGrant");let a={interface:"Permissions",method:"Revoke",permissionsGrantId:n},{messages:d}=await o.query(e,[a]),p=await qe.getOldestMessage(d);if(p!==void 0&&p.descriptor.messageTimestamp<=r)throw new je("GrantAuthorizationGrantRevoked",`PermissionsGrant with CID ${n} has been revoked`)}static async verifyGrantScopeInterfaceAndMethod(e,r,i,n){if(e!==i.descriptor.scope.interface)throw new je("GrantAuthorizationInterfaceMismatch",`DWN Interface of incoming message is outside the scope of PermissionsGrant with CID ${n}`);if(r!==i.descriptor.scope.method)throw new je("GrantAuthorizationMethodMismatch",`DWN Method of incoming message is outside the scope of PermissionsGrant with CID ${n}`)}};var pu=class extends qe{static async parse(e){return e.authorization!==void 0&&await Zr(e.authorization.authorSignature,e.descriptor),e.descriptor.filter!==void 0&&Pc(e.descriptor.filter.protocol),new pu(e)}static async create(e){let r={interface:"Protocols",method:"Query",messageTimestamp:e.messageTimestamp??Kr(),filter:pu.normalizeFilter(e.filter)};sn(r);let i;e.authorizationSigner!==void 0&&(i=await qe.createAuthorizationAsAuthor(r,e.authorizationSigner,{permissionsGrantId:e.permissionsGrantId}));let n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new pu(n)}static normalizeFilter(e){if(e!==void 0)return{...e,protocol:aa(e.protocol)}}async authorize(e,r){if(this.author!==e)if(this.author!==void 0&&this.authorSignaturePayload.permissionsGrantId)await Rs.authorizeGenericMessage(e,this,this.author,this.authorSignaturePayload.permissionsGrantId,r);else throw new je("ProtocolsQueryUnauthorized","The ProtocolsQuery failed authorization")}};var $_=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await pu.parse(r)}catch(a){return gt(a,400)}if(i.author===void 0){let a=await this.fetchPublishedProtocolsConfigure(e,i);return{status:{code:200,detail:"OK"},entries:a}}try{await ai(r.authorization,this.didResolver),await i.authorize(e,this.messageStore)}catch(a){return gt(a,401)}let n={...r.descriptor.filter,interface:"Protocols",method:"Configure"};sn(n);let{messages:o}=await this.messageStore.query(e,[n]);return{status:{code:200,detail:"OK"},entries:o}}async fetchPublishedProtocolsConfigure(e,r){let i={...r.message.descriptor.filter,interface:"Protocols",method:"Configure",published:!0},{messages:n}=await this.messageStore.query(e,[i]);return n}};M();M();var Nc=class extends qe{static async parse(e){return await Zr(e.authorization.authorSignature,e.descriptor),new Nc(e)}static async create(e){let r=e.recordId,i=Kr(),n={interface:"Records",method:"Delete",recordId:r,messageTimestamp:e.messageTimestamp??i},o=await qe.createAuthorizationAsAuthor(n,e.authorizationSigner),a={descriptor:n,authorization:o};return qe.validateJsonSchema(a),new Nc(a)}async authorize(e){await kc(e,this)}};M();M();M();M();M();M();var Gn=class{static async authorizeWrite(e,r,i,n){let o=await Rs.authorizeGenericMessage(e,r,i,r.authorSignaturePayload.permissionsGrantId,n);Gn.verifyScope(r,o),Gn.verifyConditions(r,o)}static async authorizeRead(e,r,i,n,o){let a=await Rs.authorizeGenericMessage(e,r,n,r.authorSignaturePayload.permissionsGrantId,o);Gn.verifyScope(i,a)}static verifyScope(e,r){let i=r.descriptor.scope;Gn.isUnrestrictedScope(i)||(e.message.descriptor.protocol!==void 0?Gn.authorizeProtocolRecord(e,i):Gn.authorizeFlatRecord(e,i))}static authorizeProtocolRecord(e,r){if(r.protocol===void 0)throw new je("RecordsGrantAuthorizationScopeNotProtocol","Grant for protocol record must specify protocol in its scope");if(r.protocol!==e.message.descriptor.protocol)throw new je("RecordsGrantAuthorizationScopeProtocolMismatch","Grant scope specifies different protocol than what appears in the record");if(r.contextId!==void 0&&r.contextId!==e.message.contextId)throw new je("RecordsGrantAuthorizationScopeContextIdMismatch","Grant scope specifies different contextId than what appears in the record");if(r.protocolPath!==void 0&&r.protocolPath!==e.message.descriptor.protocolPath)throw new je("RecordsGrantAuthorizationScopeProtocolPathMismatch","Grant scope specifies different protocolPath than what appears in the record")}static authorizeFlatRecord(e,r){if(r.schema!==void 0&&r.schema!==e.message.descriptor.schema)throw new je("RecordsGrantAuthorizationScopeSchema",`Record does not have schema in PermissionsGrant scope with schema '${r.schema}'`)}static verifyConditions(e,r){let i=r.descriptor.conditions;if(i?.publication==="Required"&&!e.message.descriptor.published)throw new je("RecordsGrantAuthorizationConditionPublicationRequired","PermissionsGrant requires message to be published");if(i?.publication==="Prohibited"&&e.message.descriptor.published)throw new je("RecordsGrantAuthorizationConditionPublicationProhibited","PermissionsGrant prohibits message from being published")}static isUnrestrictedScope(e){return e.protocol===void 0&&e.schema===void 0}};M();var j2e={["Write"]:"write",["Read"]:"read"},Yr=class{static async authorize(e,r,i,n){let o=await Yr.constructAncestorMessageChain(e,r,i,n),a=await Yr.fetchProtocolDefinition(e,i,n);Yr.verifyType(r.message,a.types),Yr.verifyProtocolPath(r,o);let d=Yr.getRuleSet(i,a);await Yr.verifyInvokedRole(e,r,i,a,n),await Yr.verifyAllowedActions(e,r,i,d,o,n),await Yr.verifyUniqueRoleRecipient(e,r,d,n),await Yr.verifyActionCondition(e,r,n)}static async fetchProtocolDefinition(e,r,i){let n=r.message.descriptor.protocol,o={interface:"Protocols",method:"Configure",protocol:n},{messages:a}=await i.query(e,[o]);if(a.length===0)throw new Error(`unable to find protocol definition for ${n}`);return a[0].descriptor.definition}static async constructAncestorMessageChain(e,r,i,n){let o=[];r.message.descriptor.method!=="Write"&&o.push(i.message);let a=i.message.descriptor.protocol,d=i.message.contextId,p=i.message.descriptor.parentId;for(;p!==void 0;){let v={interface:"Records",method:"Write",protocol:a,contextId:d,recordId:p},{messages:w}=await n.query(e,[v]);if(w.length===0)throw new Error(`no parent found with ID ${p}`);let x=w[0];o.push(x),p=x.descriptor.parentId}return o.reverse()}static getRuleSet(e,r){let i=e.message.descriptor.protocolPath,n=Yr.getRuleSetAtProtocolPath(i,r);if(n===void 0)throw new je("ProtocolAuthorizationMissingRuleSet",`No rule set defined for protocolPath ${i}`);return n}static verifyProtocolPath(e,r){if(e.message.descriptor.method!=="Write")return;let i=e.message.descriptor.protocolPath,n=Yr.getTypeName(i),o="";for(let d of r){let p=d.descriptor.protocolPath,v=Yr.getTypeName(p);o+=`${v}/`}let a=o+n;if(i!==a)throw new je("ProtocolAuthorizationIncorrectProtocolPath",`Declared protocol path '${i}' is not the same as actual protocol path '${a}'.`)}static verifyType(e,r){if(e.descriptor.method!=="Write")return;let i=e,n=Object.keys(r),o=i.descriptor.protocolPath,a=Yr.getTypeName(o);if(!n.includes(a))throw new je("ProtocolAuthorizationInvalidType",`record with type ${a} not allowed in protocol`);let d=i.descriptor.protocolPath,p=Yr.getTypeName(d),v=r[p],{schema:w}=i.descriptor;if(v.schema!==void 0&&v.schema!==w)throw new je("ProtocolAuthorizationInvalidSchema",`type '${p}' must have schema '${v.schema}',         instead has '${w}'`);let{dataFormat:x}=i.descriptor;if(v.dataFormats!==void 0&&!v.dataFormats.includes(x))throw new je("ProtocolAuthorizationIncorrectDataFormat",`type '${p}' must have data format in (${v.dataFormats}),         instead has '${x}'`)}static async verifyInvokedRole(e,r,i,n,o){let a=r.authorSignaturePayload?.protocolRole;if(a===void 0)return;let d=Yr.getRuleSetAtProtocolPath(a,n);if(!d?.$globalRole&&!d?.$contextRole)throw new je("ProtocolAuthorizationNotARole",`Protocol path ${a} is not a valid protocolRole`);let p={interface:"Records",method:"Write",protocol:i.message.descriptor.protocol,protocolPath:a,recipient:r.author,isLatestBaseState:!0};d?.$contextRole&&(p.contextId=i.message.contextId);let{messages:v}=await o.query(e,[p]);if(v.length===0)throw new je("ProtocolAuthorizationMissingRole",`No role record found for protocol path ${a}`)}static async verifyAllowedActions(e,r,i,n,o,a){let d=r.message.descriptor.method,p=j2e[d],v=r.author,w=n.$actions;if(r.message.authorization?.ownerSignature!==void 0)return;if(v===e)return;if(r.author!==void 0&&r.authorSignaturePayload?.permissionsGrantId!==void 0){d==="Write"?await Gn.authorizeWrite(e,r,r.author,a):await Gn.authorizeRead(e,r,i,r.author,a);return}else if(w===void 0)throw new Error(`no action rule defined for ${d}, ${v} is unauthorized`);let x=r.authorSignaturePayload?.protocolRole;for(let E of w){if(E.can!==p)continue;if(x!==void 0){if(E.role===x)return;continue}else{if(E.who==="anyone")return;if(v===void 0)continue}if(await Yr.checkAncestorGroupActionRule(v,E,o))return}throw new je("ProtocolAuthorizationActionNotAllowed",`inbound message action ${p} not allowed for author`)}static async verifyUniqueRoleRecipient(e,r,i,n){if(r.message.descriptor.method!=="Write")return;let o=r;if(!i.$globalRole&&!i.$contextRole)return;let a=o.message.descriptor.recipient;if(a===void 0)throw new je("ProtocolAuthorizationRoleMissingRecipient","Role records must have a recipient");let d=o.message.descriptor.protocolPath,p={interface:"Records",method:"Write",isLatestBaseState:!0,protocol:o.message.descriptor.protocol,protocolPath:d,recipient:a};i.$contextRole&&(p.contextId=o.message.contextId);let{messages:v}=await n.query(e,[p]);if(v.filter(E=>E.recordId!==o.message.recordId).length>0)throw i.$globalRole?new je("ProtocolAuthorizationDuplicateGlobalRoleRecipient",`DID '${a}' is already recipient of a $globalRole record at protocol path '${d}`):new je("ProtocolAuthorizationDuplicateContextRoleRecipient",`DID '${a}' is already recipient of a $contextRole record at protocol path '${d} in the same context`)}static async verifyActionCondition(e,r,i){if(r.message.descriptor.method!=="Read"){if(r.message.descriptor.method==="Write"){let n=r;if(!await n.isInitialWrite()){let a={entryId:n.message.recordId},{messages:d}=await i.query(e,[a]),p=d[0],v=qe.getAuthor(p);if(n.author!==v)throw new Error(`author of incoming message '${n.author}' must match to author of initial write '${v}'`)}}}}static getRuleSetAtProtocolPath(e,r){let i=e.split("/"),n=r.structure,o=0;for(;o<i.length;){let a=i[o],d=n[a];if(d===void 0)return;n=d,o++}return n}static async checkAncestorGroupActionRule(e,r,i){let n=i.find(o=>o.descriptor.protocolPath===r.of);if(n===void 0)return!1;if(r.who==="recipient")return e===n.descriptor.recipient;{let o=(await Jt.parse(n)).author;return e===o}}static getTypeName(e){return e.split("/").slice(-1)[0]}};var Jt=class{get message(){if(this._message.authorization===void 0)throw new je("RecordsWriteMissingAuthorizationSigner","This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get authorSignaturePayload(){return this._authorSignaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}constructor(e){this._message=e,e.authorization!==void 0&&(this._author=qe.getAuthor(e),this._authorSignaturePayload=Tr.decodePlainObjectPayload(e.authorization.authorSignature),e.authorization.ownerSignature!==void 0&&(this._owner=Tr.getSignerDid(e.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=Tr.decodePlainObjectPayload(e.authorization.ownerSignature))),this.attesters=Jt.getAttesters(e)}static async parse(e){await Zr(e.authorization.authorSignature,e.descriptor,"RecordsWriteSignaturePayload"),e.authorization.ownerSignature!==void 0&&await Zr(e.authorization.ownerSignature,e.descriptor),await Jt.validateAttestationIntegrity(e);let r=new Jt(e);return await r.validateIntegrity(),r}static async create(e){if(e.protocol===void 0&&e.protocolPath!==void 0||e.protocol!==void 0&&e.protocolPath===void 0)throw new Error("`protocol` and `protocolPath` must both be defined or undefined at the same time");if(e.data===void 0&&e.dataCid===void 0||e.data!==void 0&&e.dataCid!==void 0)throw new Error("one and only one parameter between `data` and `dataCid` is allowed");if(e.dataCid===void 0&&e.dataSize!==void 0||e.dataCid!==void 0&&e.dataSize===void 0)throw new Error("`dataCid` and `dataSize` must both be defined or undefined at the same time");if(e.parentId!==void 0&&e.contextId===void 0)throw new Error("`contextId` must also be given when `parentId` is specified");let r=e.dataCid??await Lr.computeDagPbCidFromBytes(e.data),i=e.dataSize??e.data.length,n=Kr(),o={interface:"Records",method:"Write",protocol:e.protocol!==void 0?aa(e.protocol):void 0,protocolPath:e.protocolPath,recipient:e.recipient,schema:e.schema!==void 0?du(e.schema):void 0,parentId:e.parentId,dataCid:r,dataSize:i,dateCreated:e.dateCreated??n,messageTimestamp:e.messageTimestamp??n,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};e.published===!0&&e.datePublished===void 0&&(o.datePublished=n),sn(o);let a=e.recordId,d=e.contextId,p=await Lr.computeCid(o),v=await Jt.createAttestation(p,e.attestationSigners),w=await Jt.createEncryptionProperty(o,e.encryptionInput),x={recordId:a,descriptor:o};d!==void 0&&(x.contextId=d),v!==void 0&&(x.attestation=v),w!==void 0&&(x.encryption=w);let E=new Jt(x);return e.authorizationSigner!==void 0&&await E.sign(e.authorizationSigner,{permissionsGrantId:e.permissionsGrantId,protocolRole:e.protocolRole}),E}static async createFrom(e){let r=e.unsignedRecordsWriteMessage,i=Kr(),n=e.published??(e.datePublished?!0:r.descriptor.published),o;e.datePublished?o=e.datePublished:n&&(r.descriptor.published?o=r.descriptor.datePublished:o=i);let a={recipient:r.descriptor.recipient,recordId:r.recordId,dateCreated:r.descriptor.dateCreated,contextId:r.contextId,protocol:r.descriptor.protocol,protocolPath:r.descriptor.protocolPath,parentId:r.descriptor.parentId,schema:r.descriptor.schema,dataFormat:r.descriptor.dataFormat,messageTimestamp:e.messageTimestamp??i,published:n,datePublished:o,data:e.data,dataCid:e.data?void 0:r.descriptor.dataCid,dataSize:e.data?void 0:r.descriptor.dataSize,authorizationSigner:e.authorizationSigner,attestationSigners:e.attestationSigners};return await Jt.create(a)}toJSON(){return this.message}async encryptSymmetricEncryptionKey(e){this._message.encryption=await Jt.createEncryptionProperty(this._message.descriptor,e),delete this._message.authorization,this._authorSignaturePayload=void 0,this._author=void 0}async sign(e,r){let i=Tr.extractDid(e.keyId),n=this._message.descriptor,o=await Lr.computeCid(n);this._message.recordId=this._message.recordId??await Jt.getEntryId(i,n),this._message.contextId===void 0&&this._message.descriptor.protocol!==void 0&&(this._message.contextId=await Jt.getEntryId(i,n));let a=await Jt.createAuthorSignature(this._message.recordId,this._message.contextId,o,this._message.attestation,this._message.encryption,e,r);this._message.authorization={authorSignature:a},this._authorSignaturePayload=Tr.decodePlainObjectPayload(a),this._author=i}async signAsOwner(e,r){if(this._author===void 0)throw new je("RecordsWriteSignAsOwnerUnknownAuthor","Unable to sign as owner if without author signature because owner needs to sign over `recordId` which depends on author DID.");let i=this._message.descriptor,n=await qe.createSignature(i,e,{permissionsGrantId:r});this._message.authorization.ownerSignature=n,this._ownerSignaturePayload=Tr.decodePlainObjectPayload(n),this._owner=Tr.extractDid(e.keyId)}async authorize(e,r){if(this.owner!==void 0&&this.owner!==e)throw new je("RecordsWriteOwnerAndTenantMismatch",`Owner ${this.owner} must be the same as tenant ${e} when specified.`);if(this.message.descriptor.protocol!==void 0){await Yr.authorize(e,this,this,r);return}if(this.owner===void 0){if(this.author===e)return;if(this.author!==void 0&&this.authorSignaturePayload.permissionsGrantId!==void 0)await Gn.authorizeWrite(e,this,this.author,r);else throw new Error("message failed authorization")}}async validateIntegrity(){if(await this.isInitialWrite()){let i=this.message.descriptor.dateCreated,n=this.message.descriptor.messageTimestamp;if(n!==i)throw new Error(`messageTimestamp ${n} must match dateCreated ${i} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){let o=await this.getEntryId();if(this.message.contextId!==o)throw new Error(`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${o}`)}}let r=this.authorSignaturePayload;if(this.message.recordId!==r.recordId)throw new Error(`recordId in message ${this.message.recordId} does not match recordId in authorization: ${r.recordId}`);if(this.message.contextId!==r.contextId)throw new Error(`contextId in message ${this.message.contextId} does not match contextId in authorization: ${r.contextId}`);if(r.attestationCid!==void 0){let i=await Lr.computeCid(this.message.attestation),n=r.attestationCid;if(n!==i)throw new Error(`CID ${i} of attestation property in message does not match attestationCid in authorization: ${n}`)}if(r.encryptionCid!==void 0){let i=await Lr.computeCid(this.message.encryption),n=r.encryptionCid;if(n!==i)throw new je("RecordsWriteValidateIntegrityEncryptionCidMismatch",`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${n}`)}this.message.descriptor.protocol!==void 0&&Pc(this.message.descriptor.protocol),this.message.descriptor.schema!==void 0&&Mp(this.message.descriptor.schema)}static async validateAttestationIntegrity(e){if(e.attestation===void 0)return;if(e.attestation.signatures.length!==1)throw new Error(`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);let r=Tr.decodePlainObjectPayload(e.attestation),{descriptorCid:i}=r,n=await Lr.computeCid(e.descriptor);if(i!==n)throw new Error(`descriptorCid ${i} does not match expected descriptorCid ${n}`);let o=Object.keys(r).length;if(o>1)throw new Error(`Only 'descriptorCid' is allowed in attestation payload, but got ${o} properties.`)}async getEntryId(){return await Jt.getEntryId(this.author,this.message.descriptor)}static async getEntryId(e,r){if(e===void 0)throw new je("RecordsWriteGetEntryIdUndefinedAuthor","Property `author` is needed to compute entry ID.");let i={...r};return i.author=e,await Lr.computeCid(i)}async isInitialWrite(){return await this.getEntryId()===this.message.recordId}static async isInitialWrite(e){if(e.descriptor.interface!=="Records"||e.descriptor.method!=="Write")return!1;let r=e,i=qe.getAuthor(e);return await Jt.getEntryId(i,r.descriptor)===r.recordId}static async createEncryptionProperty(e,r){if(r===void 0)return;let i=[];for(let o of r.keyEncryptionInputs){if(o.derivationScheme==="protocolPath"&&e.protocol===void 0)throw new je("RecordsWriteMissingProtocol","`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(o.derivationScheme==="schemas"&&e.schema===void 0)throw new je("RecordsWriteMissingSchema","`schemas` encryption scheme cannot be applied to record without the `schema` property.");let a=kt.publicJwkToBytes(o.publicKey),d=await Ac.eciesSecp256k1Encrypt(a,r.key),p=Xe.bytesToBase64Url(d.ciphertext),v=await kt.publicKeyToJwk(d.ephemeralPublicKey),w=Xe.bytesToBase64Url(d.initializationVector),x=Xe.bytesToBase64Url(d.messageAuthenticationCode),E={rootKeyId:o.publicKeyId,algorithm:o.algorithm??"ECIES-ES256K",derivationScheme:o.derivationScheme,ephemeralPublicKey:v,initializationVector:w,messageAuthenticationCode:x,encryptedKey:p};o.derivationScheme==="protocolContext"&&(E.derivedPublicKey=o.publicKey),i.push(E)}return{algorithm:r.algorithm??"A256CTR",initializationVector:Xe.bytesToBase64Url(r.initializationVector),keyEncryption:i}}static async createAttestation(e,r){if(r===void 0||r.length===0)return;let i={descriptorCid:e},n=Xe.objectToBytes(i);return(await Lf.create(n,r)).getJws()}static async createAuthorSignature(e,r,i,n,o,a,d){let p=n?await Lr.computeCid(n):void 0,v=o?await Lr.computeCid(o):void 0,w={recordId:e,descriptorCid:i,contextId:r,attestationCid:p,encryptionCid:v,permissionsGrantId:d?.permissionsGrantId,protocolRole:d?.protocolRole};sn(w);let x=Xe.objectToBytes(w);return(await Lf.create(x,[a])).getJws()}static async getInitialWrite(e){for(let r of e)if(await Jt.isInitialWrite(r))return r;throw new Error("initial write is not found")}static verifyEqualityOfImmutableProperties(e,r){let i=["dataCid","dataSize","datePublished","published","messageTimestamp"],n=[];n.push(...Object.keys(e.descriptor)),n.push(...Object.keys(r.descriptor)),n=[...new Set(n)];for(let o of n)if(i.indexOf(o)===-1){let a=e.descriptor[o],d=r.descriptor[o];if(d!==a)throw new Error(`${o} is an immutable property: cannot change '${a}' to '${d}'`)}return!0}static getAttesters(e){return(e.attestation?.signatures??[]).map(n=>Tr.getSignerDid(n))}};var jc=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,options:i,dataStream:n}){let o;try{o=await Jt.parse(r)}catch(D){return gt(D,400)}try{await ai(r.authorization,this.didResolver),await o.authorize(e,this.messageStore)}catch(D){return gt(D,401)}let a={interface:"Records",recordId:r.recordId},{messages:d}=await this.messageStore.query(e,[a]);if(!await o.isInitialWrite())try{let D=await Jt.getInitialWrite(d);Jt.verifyEqualityOfImmutableProperties(D,r)}catch(D){return gt(D,400)}let v=await qe.getNewestMessage(d),w=!1,x;if(v===void 0||await qe.isNewer(r,v)?(w=!0,x=r):x=v,!w)return{status:{code:409,detail:"Conflict"}};let T=await GA(o,!0),A=r;if(i===void 0||!i.skipDataStorage){if(n===void 0&&v?.descriptor.method==="Delete")return gt(new je("RecordsWriteMissingDataStream","No data stream was provided with the previous message being a delete"),400);try{r.descriptor.dataSize<=Lc.maxDataSizeAllowedToBeEncoded?A=await this.processEncodedData(r,n,v):await this.putData(e,r,n)}catch(D){let I=D;if(I.code==="RecordsWriteMissingDataInPrevious"||I.code==="RecordsWriteMissingDataAssociation"||I.code==="RecordsWriteDataCidMismatch"||I.code==="RecordsWriteDataSizeMismatch")return gt(D,400);throw D}}await this.messageStore.put(e,A,T),await this.eventLog.append(e,await qe.getCid(r));let k={status:{code:202,detail:"Accepted"}};return await Uc.deleteAllOlderMessagesButKeepInitialWrite(e,d,x,this.messageStore,this.dataStore,this.eventLog),k}async processEncodedData(e,r,i){let n;if(r===void 0){let d=i;if(d?.encodedData===void 0)throw new je("RecordsWriteMissingDataInPrevious","No dataStream was provided and unable to get data from previous message");n=Xe.base64UrlToBytes(d.encodedData)}else n=await df.toBytes(r);let o=await Lr.computeDagPbCidFromBytes(n);jc.validateDataIntegrity(e.descriptor.dataCid,e.descriptor.dataSize,o,n.length);let a={...e};return a.encodedData=Xe.bytesToBase64Url(n),a}async putData(e,r,i){let n,o=await qe.getCid(r);if(i===void 0){let a=await this.dataStore.associate(e,o,r.descriptor.dataCid);if(a===void 0)throw new je("RecordsWriteMissingDataAssociation",`Unable to associate dataCid ${r.descriptor.dataCid} to messageCid ${o} because dataStream was not provided and data was not found in dataStore`);n=a}else n=await this.dataStore.put(e,o,r.descriptor.dataCid,i);try{jc.validateDataIntegrity(r.descriptor.dataCid,r.descriptor.dataSize,n.dataCid,n.dataSize)}catch(a){throw await this.dataStore.delete(e,o,r.descriptor.dataCid),a}}static validateDataIntegrity(e,r,i,n){if(e!==i)throw new je("RecordsWriteDataCidMismatch",`actual data CID ${i} does not match dataCid in descriptor: ${e}`);if(r!==n)throw new je("RecordsWriteDataSizeMismatch",`actual data size ${n} bytes does not match dataSize in descriptor: ${r}`)}};async function GA(t,e){let r=t.message,i={...r.descriptor};delete i.published;let n={...i,isLatestBaseState:e,published:!!r.descriptor.published,author:t.author,recordId:r.recordId,entryId:await Jt.getEntryId(t.author,t.message.descriptor)};return t.attesters.length>0&&(n.attester=t.attesters[0]),r.contextId!==void 0&&(n.contextId=r.contextId),n}M();var Lc=class{};Lc.maxDataSizeAllowedToBeEncoded=3e4;var Uc=class{static async delete(e,r,i,n){let o=await qe.getCid(n);if(n.descriptor.method==="Write"&&n.descriptor.dataSize>Lc.maxDataSizeAllowedToBeEncoded){let a=n;await r.delete(i,o,a.descriptor.dataCid)}await e.delete(i,o)}static async deleteAllOlderMessagesButKeepInitialWrite(e,r,i,n,o,a){let d=[];for(let p of r){if(await qe.isOlder(p,i))if(await Uc.delete(n,o,e,p),await Jt.isInitialWrite(p)){let x=await Jt.parse(p),T=await GA(x,!1),A=p;delete A.encodedData,await n.put(e,A,T)}else{let x=await qe.getCid(p);d.push(x)}await a.deleteEventsByCid(e,d)}}};var W_=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r}){let i;try{i=await Nc.parse(r)}catch(E){return gt(E,400)}try{await ai(r.authorization,this.didResolver),await i.authorize(e)}catch(E){return gt(E,401)}let n={interface:"Records",recordId:r.descriptor.recordId},{messages:o}=await this.messageStore.query(e,[n]),a=await qe.getNewestMessage(o),d=!1,p;if(a===void 0||await qe.isNewer(r,a)?(d=!0,p=r):p=a,!d)return{status:{code:409,detail:"Conflict"}};if(a===void 0||a.descriptor.method==="Delete")return{status:{code:404,detail:"Not Found"}};let v=await L2e(e,i);await this.messageStore.put(e,r,v);let w=await qe.getCid(r);return await this.eventLog.append(e,w),await Uc.deleteAllOlderMessagesButKeepInitialWrite(e,o,p,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}}};async function L2e(t,e){let i={...e.message.descriptor};return{author:e.author,...i}}M();var hf=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await Ic.parse(r)}catch(a){return gt(a,400)}let n,o;if(i.author===void 0){let a=await this.fetchPublishedRecords(e,i);n=a.messages,o=a.paginationMessageCid}else{try{await ai(r.authorization,this.didResolver)}catch(a){return gt(a,401)}if(i.author===e){let a=await this.fetchRecordsAsOwner(e,i);n=a.messages,o=a.paginationMessageCid}else{let a=await this.fetchRecordsAsNonOwner(e,i);n=a.messages,o=a.paginationMessageCid}}return{status:{code:200,detail:"OK"},entries:n,paginationMessageCid:o}}convertDateSort(e){switch(e){case"createdAscending":return{dateCreated:1};case"createdDescending":return{dateCreated:-1};case"publishedAscending":return{datePublished:1};case"publishedDescending":return{datePublished:-1};default:return{dateCreated:1}}}async fetchRecordsAsOwner(e,r){let{dateSort:i,filter:n,pagination:o}=r.message.descriptor,a={...si.convertFilter(n),interface:"Records",method:"Write",isLatestBaseState:!0},d=this.convertDateSort(i);return this.messageStore.query(e,[a],d,o)}async fetchRecordsAsNonOwner(e,r){let{dateSort:i,pagination:n}=r.message.descriptor,o=[hf.buildPublishedRecordsFilter(r),hf.buildUnpublishedRecordsByQueryAuthorFilter(r)],a=r.message.descriptor.filter.recipient;(a===void 0||a===r.author)&&o.push(hf.buildUnpublishedRecordsForQueryAuthorFilter(r));let d=this.convertDateSort(i);return this.messageStore.query(e,o,d,n)}async fetchPublishedRecords(e,r){let{dateSort:i,pagination:n}=r.message.descriptor,o=hf.buildPublishedRecordsFilter(r),a=this.convertDateSort(i);return this.messageStore.query(e,[o],a,n)}static buildPublishedRecordsFilter(e){return{...si.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",published:!0,isLatestBaseState:!0}}static buildUnpublishedRecordsForQueryAuthorFilter(e){return{...si.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",recipient:e.author,isLatestBaseState:!0,published:!1}}static buildUnpublishedRecordsByQueryAuthorFilter(e){return{...si.convertFilter(e.message.descriptor.filter),author:e.author,interface:"Records",method:"Write",isLatestBaseState:!0,published:!1}}};M();M();var zc=class extends qe{static async parse(e){return e.authorization!==void 0&&await Zr(e.authorization.authorSignature,e.descriptor),new zc(e)}static async create(e){let{filter:r,authorizationSigner:i,permissionsGrantId:n,protocolRole:o}=e,a=Kr(),d={interface:"Records",method:"Read",filter:si.normalizeFilter(r),messageTimestamp:e.date??a};sn(d);let p;i!==void 0&&(p=await qe.createAuthorizationAsAuthor(d,i,{permissionsGrantId:n,protocolRole:o}));let v={descriptor:d,authorization:p};return qe.validateJsonSchema(v),new zc(v)}async authorize(e,r,i){let{descriptor:n}=r.message;if(this.author!==e){if(n.published===!0)return;if(this.author!==void 0&&this.author===n.recipient)return;if(n.protocol!==void 0)await Yr.authorize(e,this,r,i);else if(this.author!==void 0&&this.authorSignaturePayload?.permissionsGrantId!==void 0)await Gn.authorizeRead(e,this,r,this.author,i);else throw new Error("message failed authorization")}}};var $g=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await zc.parse(r)}catch(v){return gt(v,400)}try{i.author!==void 0&&await ai(r.authorization,this.didResolver)}catch(v){return gt(v,401)}let n={interface:"Records",isLatestBaseState:!0,...si.convertFilter(r.descriptor.filter)},{messages:o}=await this.messageStore.query(e,[n]);if(o.length===0)return{status:{code:404,detail:"Not Found"}};if(o.length>1)return gt(new je("RecordsReadReturnedMultiple","Multiple records exist for the RecordsRead filter"),400);let a=o[0];try{await i.authorize(e,await Jt.parse(a),this.messageStore)}catch(v){return gt(v,401)}let d;if(a.encodedData!==void 0){let v=Xe.base64UrlToBytes(a.encodedData);d=df.fromBytes(v),delete a.encodedData}else{let v=await qe.getCid(a),w=await this.dataStore.get(e,v,a.descriptor.dataCid);if(w?.dataStream===void 0)return{status:{code:404,detail:"Not Found"}};d=w.dataStream}return{status:{code:200,detail:"OK"},record:{...a,data:d}}}};var Wg=class{constructor(e){this.didResolver=e.didResolver,this.tenantGate=e.tenantGate,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.methodHandlers={["Events"+"Get"]:new L_(this.didResolver,this.eventLog),["Messages"+"Get"]:new Fg(this.didResolver,this.messageStore,this.dataStore),["Permissions"+"Grant"]:new U_(this.didResolver,this.messageStore,this.eventLog),["Permissions"+"Request"]:new z_(this.didResolver,this.messageStore,this.eventLog),["Permissions"+"Revoke"]:new F_(this.didResolver,this.messageStore,this.eventLog),["Protocols"+"Configure"]:new Ip(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Protocols"+"Query"]:new $_(this.didResolver,this.messageStore,this.dataStore),["Records"+"Delete"]:new W_(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Records"+"Query"]:new hf(this.didResolver,this.messageStore,this.dataStore),["Records"+"Read"]:new $g(this.didResolver,this.messageStore,this.dataStore),["Records"+"Write"]:new jc(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static async create(e){e.didResolver??=new zg,e.tenantGate??=new Yp;let r=new Wg(e);return await r.open(),r}async open(){await this.messageStore.open(),await this.dataStore.open(),await this.eventLog.open()}async close(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()}async processMessage(e,r,i){let n=await this.validateTenant(e)??await this.validateMessageIntegrity(r);if(n!==void 0)return n;let o=r.descriptor.interface+r.descriptor.method;return await this.methodHandlers[o].handle({tenant:e,message:r,dataStream:i})}async handleRecordsQuery(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Records","Query");return i!==void 0?i:new hf(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async handleRecordsRead(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Records","Read");return i!==void 0?i:new $g(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async handleMessagesGet(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Messages","Get");return i!==void 0?i:new Fg(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async synchronizePrunedInitialRecordsWrite(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Records","Write");if(i!==void 0)return i;let n={skipDataStorage:!0};return await new jc(this.didResolver,this.messageStore,this.dataStore,this.eventLog).handle({tenant:e,message:r,options:n})}async validateTenant(e){if(!await this.tenantGate.isTenant(e))return{status:{code:401,detail:`${e} is not a tenant`}}}async validateMessageIntegrity(e,r,i){let n=e?.descriptor?.interface,o=e?.descriptor?.method;if(n===void 0||o===void 0)return{status:{code:400,detail:`Both interface and method must be present, interface: ${n}, method: ${o}`}};if(r!==void 0&&r!==n)return{status:{code:400,detail:`Expected interface ${r}, received ${n}`}};if(i!==void 0&&i!==o)return{status:{code:400,detail:`Expected method ${r}${i}, received ${n}${o}`}};try{qe.validateJsonSchema(e)}catch(a){return gt(a,400)}}};M();function U2e(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}async function qi(t,e){return e?Promise.race([t,U2e(e)]):t}M();M();M();var VA=class{static async deriveAndInjectPublicEncryptionKeys(e,r,i){let n=JSON.parse(JSON.stringify(e));async function o(p,v){for(let w in p)if(!w.startsWith("$")){let x=await Tc.derivePrivateKey(v,[w]),E=await kt.getPublicJwk(x.derivedPrivateKey);p[w].$encryption={rootKeyId:r,publicKeyJwk:E},await o(p[w],x)}}let a={derivationScheme:"protocolPath",derivedPrivateKey:i,rootKeyId:r},d=await Tc.derivePrivateKey(a,["protocolPath",e.protocol]);return await o(n.structure,d),n}};M();M();M();M();var IH=Lt(kH(),1);async function ha(t,e){return new IH.Level(t,{...e,keyEncoding:"utf8"})}var da=class{constructor(e,r){this.config={createLevelDatabase:ha,...e},this.db=r}async open(){switch(await this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(e=>{this.db.once("open",e)});case"closing":return new Promise((e,r)=>{let i=()=>{this.db.open().then(e).catch(r)};this.db.once("closed",i)});case"closed":return this.db.open()}}async close(){if(this.db){for(;this.db.status==="opening"||this.db.status==="closing";)await eD(200);if(this.db.status!=="closed")return this.db.close()}}async partition(e){return await this.createLevelDatabase(),new da(this.config,this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))}async get(e,r){r?.signal?.throwIfAborted(),await qi(this.createLevelDatabase(),r?.signal);try{return await qi(this.db.get(String(e)),r?.signal)}catch(i){if(i.code==="LEVEL_NOT_FOUND")return;throw i}}async has(e,r){return!!await this.get(e,r)}async*keys(e){e?.signal?.throwIfAborted(),await qi(this.createLevelDatabase(),e?.signal);for await(let r of this.db.keys())e?.signal?.throwIfAborted(),yield r}async*iterator(e,r){r?.signal?.throwIfAborted(),await qi(this.createLevelDatabase(),r?.signal);for await(let i of this.db.iterator(e))r?.signal?.throwIfAborted(),yield i}async put(e,r,i){return i?.signal?.throwIfAborted(),await qi(this.createLevelDatabase(),i?.signal),qi(this.db.put(String(e),r),i?.signal)}async delete(e,r){return r?.signal?.throwIfAborted(),await qi(this.createLevelDatabase(),r?.signal),qi(this.db.del(String(e)),r?.signal)}async isEmpty(e){for await(let r of this.keys(e))return!1;return!0}async clear(){await this.createLevelDatabase(),await this.db.clear(),await this.compactUnderlyingStorage()}async batch(e,r){return r?.signal?.throwIfAborted(),await qi(this.createLevelDatabase(),r?.signal),qi(this.db.batch(e),r?.signal)}async compactUnderlyingStorage(e){e?.signal?.throwIfAborted(),await qi(this.createLevelDatabase(),e?.signal);let r=this.sublevelRange;if(!r)return;let i=this.root;if(i.db.supports.additionalMethods.compactRange)return qi(i.db.compactRange?.(...r),e?.signal)}get sublevelRange(){let e=this.db.prefix;if(!e)return;let r=e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1);return[e,r]}get root(){let e=this.db;for(let r=e.db;r&&r!==e;)e=r;return new da(this.config,e)}async createLevelDatabase(){this.db??=await this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})}async dump(){if(this.db)for await(let[e,r]of this.db.iterator())console.debug(e,r)}};var Jc=class{constructor(e,r){this.config={createLevelDatabase:ha,...e},this.db=r??new da({...this.config,valueEncoding:"binary"})}async open(){return this.db.open()}async close(){return this.db.close()}async partition(e){let r=await this.db.partition(e);return new Jc({...this.config,location:""},r)}async put(e,r,i){return await this.db.put(String(e),r,i),et.parse(e.toString())}async get(e,r){return await this.db.get(String(e),r)}async has(e,r){return this.db.has(String(e),r)}async delete(e,r){return this.db.delete(String(e),r)}async isEmpty(e){return this.db.isEmpty(e)}async*putMany(e,r){for await(let i of e)await this.put(i.cid,i.block,r),yield i.cid}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async*getAll(e){let r=this.db.iterator({keys:!0,keyEncoding:"buffer"},e);for await(let[i,n]of r)yield{cid:et.decode(i),block:n}}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async clear(){return this.db.clear()}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}};M();var P3=Lt(fo(),1);M();function U_e(t){return t[Symbol.asyncIterator]!=null}function z_e(t){if(U_e(t))return(async()=>{let r;for await(let i of t)r=i;return r})();let e;for(let r of t)e=r;return e}var DH=z_e;M();var fZ=Lt(fo(),1);M();var BH=Lt(fo(),1);var F_e=async(t,e,r,i,n,o,a,d)=>{let p=await a.get(t,d),v=l6(p),w=v,x=r;for(;i.length>0;){let E=i[0];if(E in w){i.shift(),x=`${x}/${E}`;let T=et.asCID(w[E]);if(T!=null)return{entry:{type:"object",name:e,path:r,cid:t,node:p,depth:o,size:BigInt(p.length),content:async function*(){yield v}},next:{cid:T,name:E,path:x,toResolve:i}};w=w[E]}else throw(0,BH.default)(new Error(`No property named ${E} found in cbor node ${t}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:r,cid:t,node:p,depth:o,size:BigInt(p.length),content:async function*(){yield v}}}},OH=F_e;M();var CH=Lt(fo(),1);M();function $_e(t,e,r,i){let n=BigInt(t.length),o=BigInt(e+n);return r>=o||i<e?new Uint8Array(0):(i>=e&&i<o&&(t=t.subarray(0,Number(i-e))),r>=e&&r<o&&(t=t.subarray(Number(r-e))),t)}var ih=$_e;M();var lv=Lt(fo(),1),W_e=(t,e=0,r=t)=>{let i=BigInt(t),n=BigInt(e??0),o=BigInt(r);if(o!==i&&(o=n+o),o>i&&(o=i),n<0n)throw(0,lv.default)(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(n>i)throw(0,lv.default)(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(o<0n)throw(0,lv.default)(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw(0,lv.default)(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:n,end:o}},Fp=W_e;var G_e=t=>{async function*e(r={}){let{start:i,end:n}=Fp(t.length,r.offset,r.length),o=ih(t,0n,i,n);r.onProgress?.(new Xr("unixfs:exporter:progress:identity",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},V_e=async(t,e,r,i,n,o,a,d)=>{if(i.length>0)throw(0,CH.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let p=Sh(t.multihash.bytes);return{entry:{type:"identity",name:e,path:r,cid:t,content:G_e(p.digest),depth:o,size:BigInt(p.digest.length),node:p.digest}}},qH=V_e;M();var NH=Lt(fo(),1);var K_e=t=>{async function*e(r={}){let{start:i,end:n}=Fp(t.length,r.offset,r.length),o=ih(t,0n,i,n);r.onProgress?.(new Xr("unixfs:exporter:progress:raw",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},H_e=async(t,e,r,i,n,o,a,d)=>{if(i.length>0)throw(0,NH.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let p=await a.get(t,d);return{entry:{type:"raw",name:e,path:r,cid:t,content:K_e(p),depth:o,size:BigInt(p.length),node:p}}},jH=H_e;M();var _v=Lt(fo(),1);M();var Z_e=async function(t){return(await e1.encode(t)).slice(0,8).reverse()},Y_e=async(t,e,r)=>{await Promise.all(t.map(async i=>{if(i.Name==null)throw new Error("Unexpected Link without a Name");if(i.Name.length===2){let n=parseInt(i.Name,16);e._putObjectAt(n,new Qi({hash:r._options.hash,bits:r._options.bits},e,n));return}await r.put(i.Name.substring(2),!0)}))},LH=t=>t.toString(16).toUpperCase().padStart(2,"0").substring(0,2),J_e=t=>{let e=t.bucket,r=[];for(;e._parent!=null;)r.push(e),e=e._parent;return r.push(e),r.reverse()},UH=async(t,e,r,i,n)=>{if(i==null){let w=i1({hashFn:Z_e});i={rootBucket:w,hamtDepth:1,lastBucket:w}}await Y_e(t.Links,i.lastBucket,i.rootBucket);let o=await i.rootBucket._findNewBucketAndPos(e),a=LH(o.pos),d=J_e(o);d.length>i.hamtDepth&&(i.lastBucket=d[i.hamtDepth],a=LH(i.lastBucket._posAtParent));let p=t.Links.find(w=>{if(w.Name==null)return!1;let x=w.Name.substring(0,2),E=w.Name.substring(2);return!(x!==a||E!==""&&E!==e)});if(p==null)return;if(p.Name!=null&&p.Name.substring(2)===e)return p.Hash;i.hamtDepth++;let v=await r.get(p.Hash,n);return t=Sf(v),UH(t,e,r,i,n)},zH=UH;M();M();M();function Q_e(t){let[e,r]=t[Symbol.asyncIterator]!=null?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>e.next(),push:n=>{i.push(n)},next:()=>i.length>0?{done:!1,value:i.shift()}:e.next(),[r](){return this}}}var y3=Q_e;function X_e(t){return t[Symbol.asyncIterator]!=null}function e3e(t,e){if(X_e(t))return async function*(){for await(let d of t)await e(d)&&(yield d)}();let r=y3(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){await o&&(yield i);for await(let d of r)await e(d)&&(yield d)}();let a=e;return function*(){o===!0&&(yield i);for(let d of r)a(d)&&(yield d)}()}var FH=e3e;M();function t3e(t){return t[Symbol.asyncIterator]!=null}function r3e(t,e){if(t3e(t))return async function*(){for await(let d of t)yield e(d)}();let r=y3(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){yield await o;for await(let d of r)yield e(d)}();let a=e;return function*(){yield o;for(let d of r)yield a(d)}()}var $p=r3e;M();M();function xu(){let t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}var g3=globalThis.CustomEvent??Event;async function*nh(t,e={}){let r=e.concurrency??1/0;r<1&&(r=1/0);let i=e.ordered==null?!1:e.ordered,n=new EventTarget,o=[],a=xu(),d=xu(),p=!1,v,w=!1;n.addEventListener("task-complete",()=>{d.resolve()}),Promise.resolve().then(async()=>{try{for await(let A of t){if(o.length===r&&(a=xu(),await a.promise),w)break;let k={done:!1};o.push(k),A().then(D=>{k.done=!0,k.ok=!0,k.value=D,n.dispatchEvent(new g3("task-complete"))},D=>{k.done=!0,k.err=D,n.dispatchEvent(new g3("task-complete"))})}p=!0,n.dispatchEvent(new g3("task-complete"))}catch(A){v=A,n.dispatchEvent(new g3("task-complete"))}});function x(){return i?o[0]?.done:Boolean(o.find(A=>A.done))}function*E(){for(;o.length>0&&o[0].done;){let A=o[0];if(o.shift(),A.ok)yield A.value;else throw w=!0,a.resolve(),A.err;a.resolve()}}function*T(){for(;x();)for(let A=0;A<o.length;A++)if(o[A].done){let k=o[A];if(o.splice(A,1),A--,k.ok)yield k.value;else throw w=!0,a.resolve(),k.err;a.resolve()}}for(;;){if(x()||(d=xu(),await d.promise),v!=null)throw v;if(i?yield*E():yield*T(),p&&o.length===0)break}}M();M();M();var v3=class{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}},Wp=class{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new v3(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let r=this.head;this.head=r.next=new v3(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){let r=this.tail.next;this.tail.next=null,this.tail=r,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}};var NT=class extends Error{type;code;constructor(e,r){super(e??"The operation was aborted"),this.type="aborted",this.code=r??"ABORT_ERR"}};function Gp(t={}){return i3e(r=>{let i=r.shift();if(i==null)return{done:!0};if(i.error!=null)throw i.error;return{done:i.done===!0,value:i.value}},t)}function i3e(t,e){e=e??{};let r=e.onEnd,i=new Wp,n,o,a,d=xu(),p=async()=>{try{return i.isEmpty()?a?{done:!0}:await new Promise((D,I)=>{o=C=>{o=null,i.push(C);try{D(t(i))}catch(q){I(q)}return n}}):t(i)}finally{i.isEmpty()&&queueMicrotask(()=>{d.resolve(),d=xu()})}},v=D=>o!=null?o(D):(i.push(D),n),w=D=>(i=new Wp,o!=null?o({error:D}):(i.push({error:D}),n)),x=D=>{if(a)return n;if(e?.objectMode!==!0&&D?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return v({done:!1,value:D})},E=D=>a?n:(a=!0,D!=null?w(D):v({done:!0})),T=()=>(i=new Wp,E(),{done:!0}),A=D=>(E(D),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:p,return:T,throw:A,push:x,end:E,get readableLength(){return i.size},onEmpty:async D=>{let I=D?.signal;if(I?.throwIfAborted(),i.isEmpty())return;let C,q;I!=null&&(C=new Promise((U,$)=>{q=()=>{$(new NT)},I.addEventListener("abort",q)}));try{await Promise.race([d.promise,C])}finally{q!=null&&I!=null&&I?.removeEventListener("abort",q)}}},r==null)return n;let k=n;return n={[Symbol.asyncIterator](){return this},next(){return k.next()},throw(D){return k.throw(D),r!=null&&(r(D),r=void 0),{done:!0}},return(){return k.return(),r!=null&&(r(),r=void 0),{done:!0}},push:x,end(D){return k.end(D),r!=null&&(r(D),r=void 0),n},get readableLength(){return k.readableLength}},n}M();function n3e(t){return t[Symbol.asyncIterator]!=null}function o3e(...t){let e=[];for(let r of t)n3e(r)||e.push(r);return e.length===t.length?function*(){for(let r of e)yield*r}():async function*(){let r=Gp({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(t.map(async i=>{for await(let n of i)r.push(n)})),r.end()}catch(i){r.end(i)}}),yield*r}()}var $H=o3e;function Vp(t,...e){if(t==null)throw new Error("Empty pipeline");if(jT(t)){let i=t;t=()=>i.source}else if(GH(t)||WH(t)){let i=t;t=()=>i}let r=[t,...e];if(r.length>1&&jT(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let i=1;i<r.length-1;i++)jT(r[i])&&(r[i]=a3e(r[i]));return s3e(...r)}var s3e=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},WH=t=>t?.[Symbol.asyncIterator]!=null,GH=t=>t?.[Symbol.iterator]!=null,jT=t=>t==null?!1:t.sink!=null&&t.source!=null,a3e=t=>e=>{let r=t.sink(e);if(r?.then!=null){let i=Gp({objectMode:!0});r.then(()=>{i.end()},a=>{i.end(a)});let n,o=t.source;if(WH(o))n=async function*(){yield*o,i.end()};else if(GH(o))n=function*(){yield*o,i.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return $H(i,n())}return t.source};var f3e=(t,e,r,i,n,o,a)=>{async function*d(p={}){let v=p.offset??0,w=p.length??e.Links.length,x=e.Links.slice(v,w);p.onProgress?.(new Xr("unixfs:exporter:walk:directory",{cid:t})),yield*Vp(x,E=>$p(E,T=>async()=>{let A=T.Name??"",k=`${i}/${A}`;return(await n(T.Hash,A,k,[],o+1,a,p)).entry}),E=>nh(E,{ordered:!0}),E=>FH(E,T=>T!=null))}return d},VH=f3e;M();var sh=Lt(fo(),1);M();var iZ=Lt(HH(),1);M();var hv=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},UT=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},ZH=t=>globalThis.DOMException===void 0?new UT(t):new DOMException(t),YH=t=>{let e=t.reason===void 0?ZH("This operation was aborted."):t.reason;return e instanceof Error?e:ZH(e)};function zT(t,e,r,i){let n,o=new Promise((a,d)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){a(t);return}if(i={customTimers:{setTimeout,clearTimeout},...i},i.signal){let{signal:p}=i;p.aborted&&d(YH(p)),p.addEventListener("abort",()=>{d(YH(p))})}n=i.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{a(r())}catch(w){d(w)}return}let p=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,v=r instanceof Error?r:new hv(p);typeof t.cancel=="function"&&t.cancel(),d(v)},e),(async()=>{try{a(await t)}catch(p){d(p)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()});return o.clear=()=>{clearTimeout(n),n=void 0},o}M();M();function FT(t,e,r){let i=0,n=t.length;for(;n>0;){let o=Math.trunc(n/2),a=i+o;r(t[a],e)<=0?(i=++a,n-=o+1):n=o}return i}var oh=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},Mu,pv=class{constructor(){Mu.set(this,[])}enqueue(e,r){r={priority:0,...r};let i={priority:r.priority,run:e};if(this.size&&oh(this,Mu,"f")[this.size-1].priority>=r.priority){oh(this,Mu,"f").push(i);return}let n=FT(oh(this,Mu,"f"),i,(o,a)=>a.priority-o.priority);oh(this,Mu,"f").splice(n,0,i)}dequeue(){let e=oh(this,Mu,"f").shift();return e?.run}filter(e){return oh(this,Mu,"f").filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return oh(this,Mu,"f").length}};Mu=new WeakMap;var Jr=function(t,e,r,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},He=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},gi,yv,gv,Xc,S3,vv,w3,pa,mv,Vo,_3,Ko,bv,Qc,x3,JH,QH,tZ,XH,eZ,M3,$T,WT,A3,rZ,E3,T3=class extends Error{},wv=class extends iZ.default{constructor(e){var r,i,n,o;if(super(),gi.add(this),yv.set(this,void 0),gv.set(this,void 0),Xc.set(this,0),S3.set(this,void 0),vv.set(this,void 0),w3.set(this,0),pa.set(this,void 0),mv.set(this,void 0),Vo.set(this,void 0),_3.set(this,void 0),Ko.set(this,0),bv.set(this,void 0),Qc.set(this,void 0),x3.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:pv,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(n=e.interval)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""}\` (${typeof e.interval})`);Jr(this,yv,e.carryoverConcurrencyCount,"f"),Jr(this,gv,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),Jr(this,S3,e.intervalCap,"f"),Jr(this,vv,e.interval,"f"),Jr(this,Vo,new e.queueClass,"f"),Jr(this,_3,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,Jr(this,x3,e.throwOnTimeout===!0,"f"),Jr(this,Qc,e.autoStart===!1,"f")}get concurrency(){return He(this,bv,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);Jr(this,bv,e,"f"),He(this,gi,"m",A3).call(this)}async add(e,r={}){return r={timeout:this.timeout,throwOnTimeout:He(this,x3,"f"),...r},new Promise((i,n)=>{He(this,Vo,"f").enqueue(async()=>{var o,a,d;Jr(this,Ko,(a=He(this,Ko,"f"),a++,a),"f"),Jr(this,Xc,(d=He(this,Xc,"f"),d++,d),"f");try{if(!((o=r.signal)===null||o===void 0)&&o.aborted)throw new T3("The task was aborted.");let p=e({signal:r.signal});r.timeout&&(p=zT(Promise.resolve(p),r.timeout)),r.signal&&(p=Promise.race([p,He(this,gi,"m",rZ).call(this,r.signal)]));let v=await p;i(v),this.emit("completed",v)}catch(p){if(p instanceof hv&&!r.throwOnTimeout){i();return}n(p),this.emit("error",p)}finally{He(this,gi,"m",tZ).call(this)}},r),this.emit("add"),He(this,gi,"m",M3).call(this)})}async addAll(e,r){return Promise.all(e.map(async i=>this.add(i,r)))}start(){return He(this,Qc,"f")?(Jr(this,Qc,!1,"f"),He(this,gi,"m",A3).call(this),this):this}pause(){Jr(this,Qc,!0,"f")}clear(){Jr(this,Vo,new(He(this,_3,"f")),"f")}async onEmpty(){He(this,Vo,"f").size!==0&&await He(this,gi,"m",E3).call(this,"empty")}async onSizeLessThan(e){He(this,Vo,"f").size<e||await He(this,gi,"m",E3).call(this,"next",()=>He(this,Vo,"f").size<e)}async onIdle(){He(this,Ko,"f")===0&&He(this,Vo,"f").size===0||await He(this,gi,"m",E3).call(this,"idle")}get size(){return He(this,Vo,"f").size}sizeBy(e){return He(this,Vo,"f").filter(e).length}get pending(){return He(this,Ko,"f")}get isPaused(){return He(this,Qc,"f")}};yv=new WeakMap,gv=new WeakMap,Xc=new WeakMap,S3=new WeakMap,vv=new WeakMap,w3=new WeakMap,pa=new WeakMap,mv=new WeakMap,Vo=new WeakMap,_3=new WeakMap,Ko=new WeakMap,bv=new WeakMap,Qc=new WeakMap,x3=new WeakMap,gi=new WeakSet,JH=function(){return He(this,gv,"f")||He(this,Xc,"f")<He(this,S3,"f")},QH=function(){return He(this,Ko,"f")<He(this,bv,"f")},tZ=function(){var e;Jr(this,Ko,(e=He(this,Ko,"f"),e--,e),"f"),He(this,gi,"m",M3).call(this),this.emit("next")},XH=function(){He(this,gi,"m",WT).call(this),He(this,gi,"m",$T).call(this),Jr(this,mv,void 0,"f")},eZ=function(){let e=Date.now();if(He(this,pa,"f")===void 0){let r=He(this,w3,"f")-e;if(r<0)Jr(this,Xc,He(this,yv,"f")?He(this,Ko,"f"):0,"f");else return He(this,mv,"f")===void 0&&Jr(this,mv,setTimeout(()=>{He(this,gi,"m",XH).call(this)},r),"f"),!0}return!1},M3=function(){if(He(this,Vo,"f").size===0)return He(this,pa,"f")&&clearInterval(He(this,pa,"f")),Jr(this,pa,void 0,"f"),this.emit("empty"),He(this,Ko,"f")===0&&this.emit("idle"),!1;if(!He(this,Qc,"f")){let e=!He(this,gi,"a",eZ);if(He(this,gi,"a",JH)&&He(this,gi,"a",QH)){let r=He(this,Vo,"f").dequeue();return r?(this.emit("active"),r(),e&&He(this,gi,"m",$T).call(this),!0):!1}}return!1},$T=function(){He(this,gv,"f")||He(this,pa,"f")!==void 0||(Jr(this,pa,setInterval(()=>{He(this,gi,"m",WT).call(this)},He(this,vv,"f")),"f"),Jr(this,w3,Date.now()+He(this,vv,"f"),"f"))},WT=function(){He(this,Xc,"f")===0&&He(this,Ko,"f")===0&&He(this,pa,"f")&&(clearInterval(He(this,pa,"f")),Jr(this,pa,void 0,"f")),Jr(this,Xc,He(this,yv,"f")?He(this,Ko,"f"):0,"f"),He(this,gi,"m",A3).call(this)},A3=function(){for(;He(this,gi,"m",M3).call(this););},rZ=async function(e){return new Promise((r,i)=>{e.addEventListener("abort",()=>{i(new T3("The task was aborted."))},{once:!0})})},E3=async function(e,r){return new Promise(i=>{let n=()=>{r&&!r()||(this.off(e,n),i())};this.on(e,n)})};async function nZ(t,e,r,i,n,o,a){if(e instanceof Uint8Array){let v=ih(e,i,n,o);r.push(v);return}if(e.Data==null)throw(0,sh.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let d;try{d=ki.unmarshal(e.Data)}catch(v){throw(0,sh.default)(v,"ERR_NOT_UNIXFS")}if(d.data!=null){let v=d.data,w=ih(v,i,n,o);r.push(w),i+=BigInt(w.byteLength)}let p=[];if(e.Links.length!==d.blockSizes.length)throw(0,sh.default)(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let v=0;v<e.Links.length;v++){let w=e.Links[v],x=i,E=x+d.blockSizes[v];if((n>=x&&n<E||o>=x&&o<=E||n<x&&o>E)&&p.push({link:w,blockStart:i}),i=E,i>o)break}await Vp(p,v=>$p(v,w=>async()=>{let x=await t.get(w.link.Hash,a);return{...w,block:x}}),v=>nh(v,{ordered:!0}),async v=>{for await(let{link:w,block:x,blockStart:E}of v){let T;switch(w.Hash.code){case vm:T=Sf(x);break;case Sa:T=x;break;default:r.end((0,sh.default)(new Error(`Unsupported codec: ${w.Hash.code}`),"ERR_NOT_UNIXFS"));return}let A=new wv({concurrency:1});A.on("error",k=>{r.end(k)}),A.add(async()=>{a.onProgress?.(new Xr("unixfs:exporter:walk:file",{cid:w.Hash})),await nZ(t,T,r,E,n,o,a)}),await A.onIdle()}}),i>=o&&r.end()}var l3e=(t,e,r,i,n,o,a)=>{async function*d(p={}){let v=r.fileSize();if(v===void 0)throw new Error("File was a directory");let{start:w,end:x}=Fp(v,p.offset,p.length);if(x===0n)return;let E=0n,T=x-w,A=Gp();p.onProgress?.(new Xr("unixfs:exporter:walk:file",{cid:t})),nZ(a,e,A,0n,w,x,p).catch(k=>{A.end(k)});for await(let k of A)if(k!=null){if(E+=BigInt(k.byteLength),E>T)throw A.end(),(0,sh.default)(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");E===T&&A.end(),p.onProgress?.(new Xr("unixfs:exporter:progress:unixfs:file",{bytesRead:E,totalBytes:T,fileSize:v})),yield k}if(E<T)throw(0,sh.default)(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")}return d},GT=l3e;M();var d3e=(t,e,r,i,n,o,a)=>{function d(p={}){return p.onProgress?.(new Xr("unixfs:exporter:walk:hamt-sharded-directory",{cid:t})),oZ(e,i,n,o,a,p)}return d};async function*oZ(t,e,r,i,n,o){let a=t.Links,d=Vp(a,p=>$p(p,v=>async()=>{let w=v.Name!=null?v.Name.substring(2):null;if(w!=null&&w!==""){let x=await r(v.Hash,w,`${e}/${w}`,[],i+1,n,o);return{entries:x.entry==null?[]:[x.entry]}}else{let x=await n.get(v.Hash,o);return t=Sf(x),o.onProgress?.(new Xr("unixfs:exporter:walk:hamt-sharded-directory",{cid:v.Hash})),{entries:oZ(t,e,r,i,n,o)}}}),p=>nh(p,{ordered:!0}));for await(let{entries:p}of d)yield*p}var sZ=d3e;var h3e=(t,e)=>t.Links.find(i=>i.Name===e)?.Hash,p3e={raw:GT,file:GT,directory:VH,"hamt-sharded-directory":sZ,metadata:(t,e,r,i,n,o,a)=>()=>[],symlink:(t,e,r,i,n,o,a)=>()=>[]},m3e=async(t,e,r,i,n,o,a,d)=>{let p=await a.get(t,d),v=Sf(p),w,x;if(e==null&&(e=t.toString()),v.Data==null)throw(0,_v.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{w=ki.unmarshal(v.Data)}catch(T){throw(0,_v.default)(T,"ERR_NOT_UNIXFS")}if(r==null&&(r=e),i.length>0){let T;if(w?.type==="hamt-sharded-directory"?T=await zH(v,i[0],a):T=h3e(v,i[0]),T==null)throw(0,_v.default)(new Error("file does not exist"),"ERR_NOT_FOUND");let A=i.shift(),k=`${r}/${A}`;x={cid:T,toResolve:i,name:A??"",path:k}}let E=p3e[w.type](t,v,w,r,n,o,a);if(E==null)throw(0,_v.default)(new Error("could not find content exporter"),"ERR_NOT_FOUND");return w.isDirectory()?{entry:{type:"directory",name:e,path:r,cid:t,content:E,unixfs:w,depth:o,node:v,size:w.fileSize()},next:x}:{entry:{type:"file",name:e,path:r,cid:t,content:E,unixfs:w,depth:o,node:v,size:w.fileSize()},next:x}},aZ=m3e;var y3e={[vm]:aZ,[Sa]:jH,[_h]:OH,[ax.code]:qH},uZ=async(t,e,r,i,n,o,a)=>{let d=y3e[t.code];if(d==null)throw(0,fZ.default)(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return d(t,e,r,i,uZ,n,o,a)},cZ=uZ;var g3e=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean),v3e=t=>{if(t instanceof Uint8Array)return{cid:et.decode(t),toResolve:[]};let e=et.asCID(t);if(e!=null)return{cid:e,toResolve:[]};if(typeof t=="string"){t.indexOf("/ipfs/")===0&&(t=t.substring(6));let r=g3e(t);return{cid:et.parse(r[0]),toResolve:r.slice(1)}}throw(0,P3.default)(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")};async function*b3e(t,e,r={}){let{cid:i,toResolve:n}=v3e(t),o=i.toString(),a=o,d=n.length;for(;;){let p=await cZ(i,o,a,n,d,e,r);if(p.entry==null&&p.next==null)throw(0,P3.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(p.entry!=null&&(yield p.entry),p.next==null)return;n=p.next.toResolve,i=p.next.cid,o=p.next.name,a=p.next.path}}async function VT(t,e,r={}){let i=await DH(b3e(t,e,r));if(i==null)throw(0,P3.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");return i}var dZ=Lt(D_(),1),lZ=new Uint8Array,KT=class{constructor(e={}){this.config={blockstoreLocation:"DATASTORE",createLevelDatabase:ha,...e},this.blockstore=new Jc({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open()}async close(){await this.blockstore.close()}async put(e,r,i,n){await(await this.getBlockstoreForReferenceCounting(e,i)).put(r,lZ);let a=await this.getBlockstoreForStoringData(e,i),d=Bm([{content:n}],a,{cidVersion:1}),p;for await(p of d);return{dataCid:String(p.cid),dataSize:Number(p.unixfs?.fileSize()??p.size)}}async get(e,r,i){if(!await(await this.getBlockstoreForReferenceCounting(e,i)).has(r))return;let a=await this.getBlockstoreForStoringData(e,i);if(!await a.has(i))return;let p=await VT(i,a),v=p.content(),w=new dZ.Readable({async read(){let E=await v.next();E.done?this.push(null):this.push(E.value)}}),x=p.size;return(p.type==="file"||p.type==="directory")&&(x=p.unixfs.fileSize()),{dataCid:String(p.cid),dataSize:Number(x),dataStream:w}}async associate(e,r,i){let n=await this.getBlockstoreForReferenceCounting(e,i);if(await n.isEmpty())return;let a=await this.getBlockstoreForStoringData(e,i);if(!await a.has(i))return;await n.put(r,lZ);let p=await VT(i,a),v=p.size;return(p.type==="file"||p.type==="directory")&&(v=p.unixfs.fileSize()),{dataCid:String(p.cid),dataSize:Number(v)}}async delete(e,r,i){let n=await this.getBlockstoreForReferenceCounting(e,i);if(await n.delete(r),!await n.isEmpty())return;await(await this.getBlockstoreForStoringData(e,i)).clear()}async clear(){await this.blockstore.clear()}async dump(){console.group("blockstore"),await this.blockstore.dump?.(),console.groupEnd()}async getBlockstoreForReferenceCounting(e,r){let i="references";return await(await(await this.blockstore.partition(i)).partition(e)).partition(r)}async getBlockstoreForStoringData(e,r){let i="data";return await(await(await this.blockstore.partition(i)).partition(e)).partition(r)}};M();M();M();M();M();function xv(t){if(!Kp(t))throw new Error("Parameter was not an error")}function Kp(t){return w3e(t)==="[object Error]"||t instanceof Error}function w3e(t){return Object.prototype.toString.call(t)}M();function hZ(t){let e,r="";if(t.length===0)e={};else if(Kp(t[0]))e={cause:t[0]},r=t.slice(1).join(" ")||"";else if(t[0]&&typeof t[0]=="object")e=Object.assign({},t[0]),r=t.slice(1).join(" ")||"";else if(typeof t[0]=="string")e={},r=r=t.join(" ")||"";else throw new Error("Invalid arguments passed to Layerr");return{options:e,shortMessage:r}}var Dn=class extends Error{constructor(e,r){let i=[...arguments],{options:n,shortMessage:o}=hZ(i),a=o;if(n.cause&&(a=`${a}: ${n.cause.message}`),super(a),this.message=a,n.name&&typeof n.name=="string"?this.name=n.name:this.name="Layerr",n.cause&&Object.defineProperty(this,"_cause",{value:n.cause}),Object.defineProperty(this,"_info",{value:{}}),n.info&&typeof n.info=="object"&&Object.assign(this._info,n.info),Error.captureStackTrace){let d=n.constructorOpt||this.constructor;Error.captureStackTrace(this,d)}}static cause(e){return xv(e),e._cause&&Kp(e._cause)?e._cause:null}static fullStack(e){xv(e);let r=Dn.cause(e);return r?`${e.stack}
caused by: ${Dn.fullStack(r)}`:e.stack}static info(e){xv(e);let r={},i=Dn.cause(e);return i&&Object.assign(r,Dn.info(i)),e._info&&Object.assign(r,e._info),r}cause(){return Dn.cause(this)}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}};M();var Mv="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Hp=32,pZ=0xffffffffffff,mZ=10,_3e=16,ah=Object.freeze({source:"ulid"});function x3e(t){let e=t||M3e(),r=e&&(e.crypto||e.msCrypto)||null;if(typeof r?.getRandomValues=="function")return()=>{let i=new Uint8Array(1);return r.getRandomValues(i),i[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;throw new Dn({info:{code:"PRNG_DETECT",...ah}},"Failed to find a reliable PRNG")}function M3e(){return A3e()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function E3e(t,e){let r="";for(;t>0;t--)r=T3e(e)+r;return r}function yZ(t,e){if(isNaN(t))throw new Dn({info:{code:"ENC_TIME_NAN",...ah}},`Time must be a number: ${t}`);if(t>pZ)throw new Dn({info:{code:"ENC_TIME_SIZE_EXCEED",...ah}},`Cannot encode a time larger than ${pZ}: ${t}`);if(t<0)throw new Dn({info:{code:"ENC_TIME_NEG",...ah}},`Time must be positive: ${t}`);if(Number.isInteger(t)===!1)throw new Dn({info:{code:"ENC_TIME_TYPE",...ah}},`Time must be an integer: ${t}`);let r,i="";for(let n=e;n>0;n--)r=t%Hp,i=Mv.charAt(r)+i,t=(t-r)/Hp;return i}function S3e(t){let e,r=t.length,i,n,o=t,a=Hp-1;for(;!e&&r-->=0;){if(i=o[r],n=Mv.indexOf(i),n===-1)throw new Dn({info:{code:"B32_INC_ENC",...ah}},"Incorrectly encoded string");if(n===a){o=gZ(o,r,Mv[0]);continue}e=gZ(o,r,Mv[n+1])}if(typeof e=="string")return e;throw new Dn({info:{code:"B32_INC_INVALID",...ah}},"Failed incrementing string")}function A3e(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function vZ(t){let e=t||x3e(),r=0,i;return function(o){let a=isNaN(o)?Date.now():o;if(a<=r){let p=i=S3e(i);return yZ(r,mZ)+p}r=a;let d=i=E3e(_3e,e);return yZ(a,mZ)+d}}function T3e(t){let e=Math.floor(t()*Hp);return e===Hp&&(e=Hp-1),Mv.charAt(e)}function gZ(t,e,r){return e>t.length-1?t:t.substr(0,e)+r+t.substr(e+1)}var bZ="watermarks",wZ="cids",HT=class{constructor(e){this.config={location:"EVENTLOG",createLevelDatabase:ha,...e},this.db=new da({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,valueEncoding:"utf8"}),this.ulidFactory=vZ()}async open(){return this.db.open()}async close(){return this.db.close()}async clear(){return this.db.clear()}async append(e,r){let i=await this.db.partition(e),n=await i.partition(bZ),o=await i.partition(wZ),a=this.ulidFactory();return await n.put(a,r),await o.put(r,a),a}async getEvents(e,r){let n=await(await this.db.partition(e)).partition(bZ),o=[];for await(let[a,d]of n.iterator(r)){let p={watermark:a,messageCid:d};o.push(p)}return o}async deleteEventsByCid(e,r){if(r.length===0)return 0;let i=await this.db.partition(e),n=await i.partition(wZ),o=[],a=[];for(let w of r){o.push({type:"del",key:w});let x=n.get(w).catch(E=>E);a.push(x)}await n.batch(o),o=[];let d=0,p=await Promise.all(a);for(let w of p)w&&(o.push({type:"del",key:w}),d+=1);return await(await i.partition("watermarks")).batch(o),d}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}};M();M();function R3({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*P3e(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r],o=et.asCID(i);o?yield[n.join("/"),o]:typeof i=="object"&&(yield*ZT(i,n))}else{let r=et.asCID(e);r?yield[t.join("/"),r]:yield*ZT(e,t)}}function*ZT(t,e){if(t==null||t instanceof Uint8Array)return;let r=et.asCID(t);r&&(yield[e.join("/"),r]);for(let[i,n]of Object.entries(t)){let o=[...e,i];yield*P3e(o,n)}}function*R3e(t,e){if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r];yield n.join("/"),typeof i=="object"&&!et.asCID(i)&&(yield*YT(i,n))}else yield*YT(e,t)}function*YT(t,e){if(!(t==null||typeof t!="object"))for(let[r,i]of Object.entries(t)){let n=[...e,r];yield n.join("/"),i!=null&&!(i instanceof Uint8Array)&&typeof i=="object"&&!et.asCID(i)&&(yield*R3e(n,i))}}function k3e(t,e){let r=t;for(let[i,n]of e.entries()){if(r=r[n],r==null)throw new Error(`Object has no property at ${e.slice(0,i+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);let o=et.asCID(r);if(o)return{value:o,remaining:e.slice(i+1).join("/")}}return{value:r}}var k3=class{constructor({cid:e,bytes:r,value:i}){if(!e||!r||typeof i>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:R3(),bytes:R3(),value:R3(),asBlock:R3()})}links(){return ZT(this.value,[])}tree(){return YT(this.value,[])}get(e="/"){return k3e(this.value,e.split("/").filter(Boolean))}};async function _Z({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.encode(t),n=await r.digest(i),o=et.create(1,e.code,n);return new k3({value:t,bytes:i,cid:o})}async function xZ({bytes:t,codec:e,hasher:r}){if(!t)throw new Error('Missing required argument "bytes"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.decode(t),n=await r.digest(t),o=et.create(1,e.code,n);return new k3({value:i,bytes:t,cid:o})}M();var I3=class{static byteArraysEqual(e,r){return e.length===r.length&&e.every((n,o)=>n===r[o])}static async fromAsyncGenerator(e){let r=[];for await(let i of e)r.push(i);return r}static async asyncSort(e,r){for(let i=0;i<e.length;i++)for(let n=i+1;n<e.length;n++)await r(e[i],e[n])>0&&([e[i],e[n]]=[e[n],e[i]]);return e}};M();var Sv=class{constructor(e){this.config={createLevelDatabase:ha,...e},this.db=new da({...this.config,valueEncoding:"utf8"})}async open(){return this.db.open()}async close(){return this.db.close()}async put(e,r,i){r=dB(r);let n=[];for(let o in r){let a=r[o],d=this.join(o,this.encodeValue(a),e);n.push({type:"put",key:d,value:e})}n.push({type:"put",key:`__${e}__indexes`,value:JSON.stringify(r)}),await this.db.batch(n,i)}async executeSingleFilterQuery(e,r,i){let n={};for(let a in e){let d=e[a];if(typeof d=="object")if(Array.isArray(d)){n[a]=[];for(let p of new Set(d)){let v=this.findExactMatches(a,p,i);n[a].push(v)}}else{let p=this.findRangeMatches(a,d,i);n[a]=[p]}else{let p=this.findExactMatches(a,d,i);n[a]=[p]}}let o={};for(let[a,d]of Object.entries(n))for(let p of d)for(let v of await p)r.has(v)||(o[v]??=new Set([...Object.keys(e)]),o[v].delete(a),o[v].size===0&&r.add(v))}async query(e,r){let i=new Set;for(let n of e)await this.executeSingleFilterQuery(n,i,r);return[...i]}async delete(e,r){let i=await this.db.get(`__${e}__indexes`,r);if(!i)return;let n=JSON.parse(i),o=[];for(let a in n){let d=n[a],p=this.join(a,this.encodeValue(d),e);o.push({type:"del",key:p})}o.push({type:"del",key:`__${e}__indexes`}),await this.db.batch(o,r)}async clear(){return this.db.clear()}async findExactMatches(e,r,i){let n=this.join(e,this.encodeValue(r),""),o={gt:n},a=[];for await(let[d,p]of this.db.iterator(o,i)){if(!d.startsWith(n))break;a.push(p)}return a}async findRangeMatches(e,r,i){let n={};for(let a in r){let d=a;n[d]=this.join(e,this.encodeValue(r[d]))}n.gt===void 0&&n.gte===void 0&&(n.reverse=!0);let o=[];for await(let[a,d]of this.db.iterator(n,i))if(!("gt"in r&&Sv.extractValueFromKey(a)===this.encodeValue(r.gt))){if(!a.startsWith(e))break;o.push(d)}if("lte"in r)for(let a of await this.findExactMatches(e,r.lte,i))o.push(a);return o}encodeValue(e){switch(typeof e){case"string":return`"${e}"`;case"number":return Sv.encodeNumberValue(e);default:return String(e)}}static encodeNumberValue(e){let r=Number.MAX_SAFE_INTEGER,i="!",n=String(Number.MAX_SAFE_INTEGER).length,o=e<0?i:"",a=e<0?r:0;return o+String(e+a).padStart(n,"0")}static extractValueFromKey(e){let[,r]=e.split(this.delimiter);return r}join(...e){return e.join(Sv.delimiter)}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}},Ev=Sv;Ev.delimiter="\0";var Zp=class{constructor(e={}){this.config={blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:ha,...e},this.blockstore=new Jc({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new Ev({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open(),await this.index.open()}async close(){await this.blockstore.close(),await this.index.close()}async get(e,r,i){i?.signal?.throwIfAborted();let n=await qi(this.blockstore.partition(e),i?.signal),o=et.parse(r),a=await n.get(o,i);return a?(await qi(xZ({bytes:a,codec:Au,hasher:Hn}),i?.signal)).value:void 0}async query(e,r,i,n,o){o?.signal?.throwIfAborted();let a=[],d=await this.index.query(r.map(w=>({...w,tenant:e})),o),p;for(let w of d){let x=await this.get(e,w,o);x&&a.push(x),n?.messageCid&&n.messageCid===w&&(p=x)}if(n?.messageCid!==void 0&&p===void 0)return{messages:[]};let v=await Zp.sortMessages(a,i);return this.paginateMessages(v,p,n)}async paginateMessages(e,r,i={}){let{limit:n}=i;if(r===void 0&&n===void 0)return{messages:e};let o=r?e.indexOf(r):void 0,a=o===void 0?0:o+1,d=n===void 0?void 0:a+n,p=e.slice(a,d),v=d!==void 0&&d<e.length,w;if(v){let x=p.at(-1);w=await qe.getCid(x)}return{messages:p,paginationMessageCid:w}}static async lexicographicalCompare(e,r,i,n){let o=e.descriptor[i],a=r.descriptor[i];if(n===1){if(o>a)return 1;if(o<a)return-1}else{if(a>o)return 1;if(a<o)return-1}return await qe.compareCid(e,r)}static async sortMessages(e,r={}){let{dateCreated:i,datePublished:n,messageTimestamp:o}=r,a=1,d=e,p;i!==void 0?p="dateCreated":n!==void 0?(p="datePublished",d=e.filter(w=>w.descriptor.published)):o!==void 0&&(p="messageTimestamp"),p!==void 0?a=r[p]:p="messageTimestamp";let v=(w,x)=>Zp.lexicographicalCompare(w,x,p,a);return await I3.asyncSort(d,v)}async delete(e,r,i){i?.signal?.throwIfAborted();let n=await qi(this.blockstore.partition(e),i?.signal),o=et.parse(r);await n.delete(o,i),await this.index.delete(r,i)}async put(e,r,i,n){n?.signal?.throwIfAborted();let o=await qi(this.blockstore.partition(e),n?.signal),a=await qi(_Z({value:r,codec:Au,hasher:Hn}),n?.signal),d=Lr.parseCid(await qe.getCid(r));await o.put(d,a.bytes,n);let p=d.toString(),v={...i,tenant:e};await this.index.put(p,v,n)}async clear(){await this.blockstore.clear(),await this.index.clear()}async dump(){console.group("blockstore"),await this.blockstore.dump?.(),console.groupEnd(),console.group("index"),await this.index.dump?.(),console.groupEnd()}};export{Yp as AllowAllTenantGate,Lr as Cid,KT as DataStoreLevel,df as DataStream,zA as DateSort,Ug as DidIonResolver,Dc as DidKeyResolver,zg as DidResolver,Wg as Dwn,Lc as DwnConstant,je as DwnError,on as DwnErrorCode,$r as DwnInterfaceName,Wr as DwnMethodName,Xe as Encoder,Ac as Encryption,LA as EncryptionAlgorithm,HT as EventLogLevel,Oc as EventsGet,Tc as HdKey,Tr as Jws,jg as KeyDerivationScheme,qe as Message,Zp as MessageStoreLevel,hu as MessagesGet,fa as PermissionsGrant,Cc as PermissionsRequest,qc as PermissionsRevoke,my as PrivateKeySigner,VA as Protocols,xo as ProtocolsConfigure,pu as ProtocolsQuery,si as Records,Nc as RecordsDelete,Ic as RecordsQuery,zc as RecordsRead,Jt as RecordsWrite,kt as Secp256k1,kv as SortOrder,qi as executeUnlessAborted};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/ed25519/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
