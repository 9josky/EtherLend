var p$=Object.create;var Rw=Object.defineProperty;var m$=Object.getOwnPropertyDescriptor;var y$=Object.getOwnPropertyNames;var g$=Object.getPrototypeOf,v$=Object.prototype.hasOwnProperty;var b$=(t,e)=>()=>(t&&(e=t(t=0)),e);var Z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ni=(t,e)=>{for(var r in e)Rw(t,r,{get:e[r],enumerable:!0})},w$=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of y$(e))!v$.call(t,n)&&n!==r&&Rw(t,n,{get:()=>e[n],enumerable:!(i=m$(e,n))||i.enumerable});return t};var Lr=(t,e,r)=>(r=t!=null?p$(g$(t)):{},w$(e||!t||!t.__esModule?Rw(r,"default",{value:t,enumerable:!0}):r,t));var j5=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var N5=(t,e,r)=>(j5(t,e,"read from private field"),r?r.call(t):e.get(t)),L5=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Pw=(t,e,r,i)=>(j5(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r);var F5=Z(sy=>{"use strict";E();sy.byteLength=M$;sy.toByteArray=S$;sy.fromByteArray=T$;var zs=[],Ro=[],_$=typeof Uint8Array<"u"?Uint8Array:Array,kw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Yu=0,z5=kw.length;Yu<z5;++Yu)zs[Yu]=kw[Yu],Ro[kw.charCodeAt(Yu)]=Yu;var Yu,z5;Ro["-".charCodeAt(0)]=62;Ro["_".charCodeAt(0)]=63;function U5(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function M$(t){var e=U5(t),r=e[0],i=e[1];return(r+i)*3/4-i}function x$(t,e,r){return(e+r)*3/4-r}function S$(t){var e,r=U5(t),i=r[0],n=r[1],s=new _$(x$(t,i,n)),f=0,c=n>0?i-4:i,m;for(m=0;m<c;m+=4)e=Ro[t.charCodeAt(m)]<<18|Ro[t.charCodeAt(m+1)]<<12|Ro[t.charCodeAt(m+2)]<<6|Ro[t.charCodeAt(m+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=e&255;return n===2&&(e=Ro[t.charCodeAt(m)]<<2|Ro[t.charCodeAt(m+1)]>>4,s[f++]=e&255),n===1&&(e=Ro[t.charCodeAt(m)]<<10|Ro[t.charCodeAt(m+1)]<<4|Ro[t.charCodeAt(m+2)]>>2,s[f++]=e>>8&255,s[f++]=e&255),s}function E$(t){return zs[t>>18&63]+zs[t>>12&63]+zs[t>>6&63]+zs[t&63]}function A$(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),n.push(E$(i));return n.join("")}function T$(t){for(var e,r=t.length,i=r%3,n=[],s=16383,f=0,c=r-i;f<c;f+=s)n.push(A$(t,f,f+s>c?c:f+s));return i===1?(e=t[r-1],n.push(zs[e>>2]+zs[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(zs[e>>10]+zs[e>>4&63]+zs[e<<2&63]+"=")),n.join("")}});var $5=Z(Iw=>{E();Iw.read=function(t,e,r,i,n){var s,f,c=n*8-i-1,m=(1<<c)-1,w=m>>1,_=-7,M=r?n-1:0,x=r?-1:1,T=t[e+M];for(M+=x,s=T&(1<<-_)-1,T>>=-_,_+=c;_>0;s=s*256+t[e+M],M+=x,_-=8);for(f=s&(1<<-_)-1,s>>=-_,_+=i;_>0;f=f*256+t[e+M],M+=x,_-=8);if(s===0)s=1-w;else{if(s===m)return f?NaN:(T?-1:1)*(1/0);f=f+Math.pow(2,i),s=s-w}return(T?-1:1)*f*Math.pow(2,s-i)};Iw.write=function(t,e,r,i,n,s){var f,c,m,w=s*8-n-1,_=(1<<w)-1,M=_>>1,x=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:s-1,A=i?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,f=_):(f=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-f))<1&&(f--,m*=2),f+M>=1?e+=x/m:e+=x*Math.pow(2,1-M),e*m>=2&&(f++,m/=2),f+M>=_?(c=0,f=_):f+M>=1?(c=(e*m-1)*Math.pow(2,n),f=f+M):(c=e*Math.pow(2,M-1)*Math.pow(2,n),f=0));n>=8;t[r+T]=c&255,T+=A,c/=256,n-=8);for(f=f<<n|c,w+=n;w>0;t[r+T]=f&255,T+=A,f/=256,w-=8);t[r+T-A]|=I*128}});var Wt=Z(zd=>{"use strict";E();var Bw=F5(),Ld=$5(),W5=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;zd.Buffer=Ce;zd.SlowBuffer=D$;zd.INSPECT_MAX_BYTES=50;var ay=2147483647;zd.kMaxLength=ay;Ce.TYPED_ARRAY_SUPPORT=R$();!Ce.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function R$(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(Ce.prototype,"parent",{enumerable:!0,get:function(){if(Ce.isBuffer(this))return this.buffer}});Object.defineProperty(Ce.prototype,"offset",{enumerable:!0,get:function(){if(Ce.isBuffer(this))return this.byteOffset}});function La(t){if(t>ay)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,Ce.prototype),e}function Ce(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return qw(t)}return K5(t,e,r)}Ce.poolSize=8192;function K5(t,e,r){if(typeof t=="string")return k$(t,e);if(ArrayBuffer.isView(t))return I$(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Us(t,ArrayBuffer)||t&&Us(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Us(t,SharedArrayBuffer)||t&&Us(t.buffer,SharedArrayBuffer)))return Cw(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return Ce.from(i,e,r);var n=B$(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Ce.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Ce.from=function(t,e,r){return K5(t,e,r)};Object.setPrototypeOf(Ce.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ce,Uint8Array);function Z5(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function P$(t,e,r){return Z5(t),t<=0?La(t):e!==void 0?typeof r=="string"?La(t).fill(e,r):La(t).fill(e):La(t)}Ce.alloc=function(t,e,r){return P$(t,e,r)};function qw(t){return Z5(t),La(t<0?0:jw(t)|0)}Ce.allocUnsafe=function(t){return qw(t)};Ce.allocUnsafeSlow=function(t){return qw(t)};function k$(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ce.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=V5(t,e)|0,i=La(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function Dw(t){for(var e=t.length<0?0:jw(t.length)|0,r=La(e),i=0;i<e;i+=1)r[i]=t[i]&255;return r}function I$(t){if(Us(t,Uint8Array)){var e=new Uint8Array(t);return Cw(e.buffer,e.byteOffset,e.byteLength)}return Dw(t)}function Cw(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,Ce.prototype),i}function B$(t){if(Ce.isBuffer(t)){var e=jw(t.length)|0,r=La(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Nw(t.length)?La(0):Dw(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Dw(t.data)}function jw(t){if(t>=ay)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ay.toString(16)+" bytes");return t|0}function D$(t){return+t!=t&&(t=0),Ce.alloc(+t)}Ce.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ce.prototype};Ce.compare=function(e,r){if(Us(e,Uint8Array)&&(e=Ce.from(e,e.offset,e.byteLength)),Us(r,Uint8Array)&&(r=Ce.from(r,r.offset,r.byteLength)),!Ce.isBuffer(e)||!Ce.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,s=0,f=Math.min(i,n);s<f;++s)if(e[s]!==r[s]){i=e[s],n=r[s];break}return i<n?-1:n<i?1:0};Ce.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ce.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ce.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=Ce.allocUnsafe(r),s=0;for(i=0;i<e.length;++i){var f=e[i];if(Us(f,Uint8Array))s+f.length>n.length?Ce.from(f).copy(n,s):Uint8Array.prototype.set.call(n,f,s);else if(Ce.isBuffer(f))f.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=f.length}return n};function V5(t,e){if(Ce.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Us(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ow(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return tS(t).length;default:if(n)return i?-1:Ow(t).length;e=(""+e).toLowerCase(),n=!0}}Ce.byteLength=V5;function C$(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return W$(this,e,r);case"utf8":case"utf-8":return J5(this,e,r);case"ascii":return F$(this,e,r);case"latin1":case"binary":return $$(this,e,r);case"base64":return z$(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H$(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}Ce.prototype._isBuffer=!0;function Ju(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}Ce.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Ju(this,r,r+1);return this};Ce.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Ju(this,r,r+3),Ju(this,r+1,r+2);return this};Ce.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Ju(this,r,r+7),Ju(this,r+1,r+6),Ju(this,r+2,r+5),Ju(this,r+3,r+4);return this};Ce.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?J5(this,0,e):C$.apply(this,arguments)};Ce.prototype.toLocaleString=Ce.prototype.toString;Ce.prototype.equals=function(e){if(!Ce.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ce.compare(this,e)===0};Ce.prototype.inspect=function(){var e="",r=zd.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};W5&&(Ce.prototype[W5]=Ce.prototype.inspect);Ce.prototype.compare=function(e,r,i,n,s){if(Us(e,Uint8Array)&&(e=Ce.from(e,e.offset,e.byteLength)),!Ce.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),r<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&r>=i)return 0;if(n>=s)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var f=s-n,c=i-r,m=Math.min(f,c),w=this.slice(n,s),_=e.slice(r,i),M=0;M<m;++M)if(w[M]!==_[M]){f=w[M],c=_[M];break}return f<c?-1:c<f?1:0};function Y5(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Nw(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=Ce.from(e,i)),Ce.isBuffer(e))return e.length===0?-1:H5(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):H5(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function H5(t,e,r,i,n){var s=1,f=t.length,c=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,f/=2,c/=2,r/=2}function m(T,A){return s===1?T[A]:T.readUInt16BE(A*s)}var w;if(n){var _=-1;for(w=r;w<f;w++)if(m(t,w)===m(e,_===-1?0:w-_)){if(_===-1&&(_=w),w-_+1===c)return _*s}else _!==-1&&(w-=w-_),_=-1}else for(r+c>f&&(r=f-c),w=r;w>=0;w--){for(var M=!0,x=0;x<c;x++)if(m(t,w+x)!==m(e,x)){M=!1;break}if(M)return w}return-1}Ce.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};Ce.prototype.indexOf=function(e,r,i){return Y5(this,e,r,i,!0)};Ce.prototype.lastIndexOf=function(e,r,i){return Y5(this,e,r,i,!1)};function O$(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var f=0;f<i;++f){var c=parseInt(e.substr(f*2,2),16);if(Nw(c))return f;t[r+f]=c}return f}function q$(t,e,r,i){return fy(Ow(e,t.length-r),t,r,i)}function j$(t,e,r,i){return fy(Z$(e),t,r,i)}function N$(t,e,r,i){return fy(tS(e),t,r,i)}function L$(t,e,r,i){return fy(V$(e,t.length-r),t,r,i)}Ce.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return O$(this,e,r,i);case"utf8":case"utf-8":return q$(this,e,r,i);case"ascii":case"latin1":case"binary":return j$(this,e,r,i);case"base64":return N$(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L$(this,e,r,i);default:if(f)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}};Ce.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z$(t,e,r){return e===0&&r===t.length?Bw.fromByteArray(t):Bw.fromByteArray(t.slice(e,r))}function J5(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var s=t[n],f=null,c=s>239?4:s>223?3:s>191?2:1;if(n+c<=r){var m,w,_,M;switch(c){case 1:s<128&&(f=s);break;case 2:m=t[n+1],(m&192)===128&&(M=(s&31)<<6|m&63,M>127&&(f=M));break;case 3:m=t[n+1],w=t[n+2],(m&192)===128&&(w&192)===128&&(M=(s&15)<<12|(m&63)<<6|w&63,M>2047&&(M<55296||M>57343)&&(f=M));break;case 4:m=t[n+1],w=t[n+2],_=t[n+3],(m&192)===128&&(w&192)===128&&(_&192)===128&&(M=(s&15)<<18|(m&63)<<12|(w&63)<<6|_&63,M>65535&&M<1114112&&(f=M))}}f===null?(f=65533,c=1):f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f),n+=c}return U$(i)}var G5=4096;function U$(t){var e=t.length;if(e<=G5)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=G5));return r}function F$(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function $$(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function W$(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",s=e;s<r;++s)n+=Y$[t[s]];return n}function H$(t,e,r){for(var i=t.slice(e,r),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Ce.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,Ce.prototype),n};function Li(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Ce.prototype.readUintLE=Ce.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Li(e,r,this.length);for(var n=this[e],s=1,f=0;++f<r&&(s*=256);)n+=this[e+f]*s;return n};Ce.prototype.readUintBE=Ce.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Li(e,r,this.length);for(var n=this[e+--r],s=1;r>0&&(s*=256);)n+=this[e+--r]*s;return n};Ce.prototype.readUint8=Ce.prototype.readUInt8=function(e,r){return e=e>>>0,r||Li(e,1,this.length),this[e]};Ce.prototype.readUint16LE=Ce.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Li(e,2,this.length),this[e]|this[e+1]<<8};Ce.prototype.readUint16BE=Ce.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Li(e,2,this.length),this[e]<<8|this[e+1]};Ce.prototype.readUint32LE=Ce.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Li(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ce.prototype.readUint32BE=Ce.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Li(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ce.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Li(e,r,this.length);for(var n=this[e],s=1,f=0;++f<r&&(s*=256);)n+=this[e+f]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*r)),n};Ce.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Li(e,r,this.length);for(var n=r,s=1,f=this[e+--n];n>0&&(s*=256);)f+=this[e+--n]*s;return s*=128,f>=s&&(f-=Math.pow(2,8*r)),f};Ce.prototype.readInt8=function(e,r){return e=e>>>0,r||Li(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ce.prototype.readInt16LE=function(e,r){e=e>>>0,r||Li(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Ce.prototype.readInt16BE=function(e,r){e=e>>>0,r||Li(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Ce.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Li(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ce.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Li(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ce.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Li(e,4,this.length),Ld.read(this,e,!0,23,4)};Ce.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Li(e,4,this.length),Ld.read(this,e,!1,23,4)};Ce.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Li(e,8,this.length),Ld.read(this,e,!0,52,8)};Ce.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Li(e,8,this.length),Ld.read(this,e,!1,52,8)};function Gn(t,e,r,i,n,s){if(!Ce.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}Ce.prototype.writeUintLE=Ce.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Gn(this,e,r,i,s,0)}var f=1,c=0;for(this[r]=e&255;++c<i&&(f*=256);)this[r+c]=e/f&255;return r+i};Ce.prototype.writeUintBE=Ce.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Gn(this,e,r,i,s,0)}var f=i-1,c=1;for(this[r+f]=e&255;--f>=0&&(c*=256);)this[r+f]=e/c&255;return r+i};Ce.prototype.writeUint8=Ce.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,1,255,0),this[r]=e&255,r+1};Ce.prototype.writeUint16LE=Ce.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Ce.prototype.writeUint16BE=Ce.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Ce.prototype.writeUint32LE=Ce.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Ce.prototype.writeUint32BE=Ce.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Ce.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var s=Math.pow(2,8*i-1);Gn(this,e,r,i,s-1,-s)}var f=0,c=1,m=0;for(this[r]=e&255;++f<i&&(c*=256);)e<0&&m===0&&this[r+f-1]!==0&&(m=1),this[r+f]=(e/c>>0)-m&255;return r+i};Ce.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var s=Math.pow(2,8*i-1);Gn(this,e,r,i,s-1,-s)}var f=i-1,c=1,m=0;for(this[r+f]=e&255;--f>=0&&(c*=256);)e<0&&m===0&&this[r+f+1]!==0&&(m=1),this[r+f]=(e/c>>0)-m&255;return r+i};Ce.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Ce.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Ce.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Ce.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Ce.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Gn(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function X5(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Q5(t,e,r,i,n){return e=+e,r=r>>>0,n||X5(t,e,r,4,34028234663852886e22,-34028234663852886e22),Ld.write(t,e,r,i,23,4),r+4}Ce.prototype.writeFloatLE=function(e,r,i){return Q5(this,e,r,!0,i)};Ce.prototype.writeFloatBE=function(e,r,i){return Q5(this,e,r,!1,i)};function eS(t,e,r,i,n){return e=+e,r=r>>>0,n||X5(t,e,r,8,17976931348623157e292,-17976931348623157e292),Ld.write(t,e,r,i,52,8),r+8}Ce.prototype.writeDoubleLE=function(e,r,i){return eS(this,e,r,!0,i)};Ce.prototype.writeDoubleBE=function(e,r,i){return eS(this,e,r,!1,i)};Ce.prototype.copy=function(e,r,i,n){if(!Ce.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),s};Ce.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ce.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var f;if(typeof e=="number")for(f=r;f<i;++f)this[f]=e;else{var c=Ce.isBuffer(e)?e:Ce.from(e,n),m=c.length;if(m===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(f=0;f<i-r;++f)this[f+r]=c[f%m]}return this};var G$=/[^+/0-9A-Za-z-_]/g;function K$(t){if(t=t.split("=")[0],t=t.trim().replace(G$,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Ow(t,e){e=e||1/0;for(var r,i=t.length,n=null,s=[],f=0;f<i;++f){if(r=t.charCodeAt(f),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(f+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Z$(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function V$(t,e){for(var r,i,n,s=[],f=0;f<t.length&&!((e-=2)<0);++f)r=t.charCodeAt(f),i=r>>8,n=r%256,s.push(n),s.push(i);return s}function tS(t){return Bw.toByteArray(K$(t))}function fy(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Us(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Nw(t){return t!==t}var Y$=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var i=r*16,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()});var Fa=Z((Uye,oS)=>{E();var Qr=oS.exports={},Fs,$s;function Lw(){throw new Error("setTimeout has not been defined")}function zw(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Fs=setTimeout:Fs=Lw}catch{Fs=Lw}try{typeof clearTimeout=="function"?$s=clearTimeout:$s=zw}catch{$s=zw}})();function rS(t){if(Fs===setTimeout)return setTimeout(t,0);if((Fs===Lw||!Fs)&&setTimeout)return Fs=setTimeout,setTimeout(t,0);try{return Fs(t,0)}catch{try{return Fs.call(null,t,0)}catch{return Fs.call(this,t,0)}}}function J$(t){if($s===clearTimeout)return clearTimeout(t);if(($s===zw||!$s)&&clearTimeout)return $s=clearTimeout,clearTimeout(t);try{return $s(t)}catch{try{return $s.call(null,t)}catch{return $s.call(this,t)}}}var za=[],Ud=!1,Xu,uy=-1;function X$(){!Ud||!Xu||(Ud=!1,Xu.length?za=Xu.concat(za):uy=-1,za.length&&iS())}function iS(){if(!Ud){var t=rS(X$);Ud=!0;for(var e=za.length;e;){for(Xu=za,za=[];++uy<e;)Xu&&Xu[uy].run();uy=-1,e=za.length}Xu=null,Ud=!1,J$(t)}}Qr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];za.push(new nS(t,e)),za.length===1&&!Ud&&rS(iS)};function nS(t,e){this.fun=t,this.array=e}nS.prototype.run=function(){this.fun.apply(null,this.array)};Qr.title="browser";Qr.browser=!0;Qr.env={};Qr.argv=[];Qr.version="";Qr.versions={};function Ua(){}Qr.on=Ua;Qr.addListener=Ua;Qr.once=Ua;Qr.off=Ua;Qr.removeListener=Ua;Qr.removeAllListeners=Ua;Qr.emit=Ua;Qr.prependListener=Ua;Qr.prependOnceListener=Ua;Qr.listeners=function(t){return[]};Qr.binding=function(t){throw new Error("process.binding is not supported")};Qr.cwd=function(){return"/"};Qr.chdir=function(t){throw new Error("process.chdir is not supported")};Qr.umask=function(){return 0}});var L,q,$ye,E=b$(()=>{L=Lr(Wt()),q=Lr(Fa()),$ye=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object)});var ih=Z((x1e,zE)=>{"use strict";E();function LE(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function VH(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return LE(t,r)}catch{r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),LE(new n,r)}}zE.exports=VH});var y7=Z((Vbe,m7)=>{"use strict";E();m7.exports=UG;function UG(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(c,m){r[i]=function(_){if(s)if(s=!1,_)m(_);else{for(var M=new Array(arguments.length-1),x=0;x<M.length;)M[x++]=arguments[x];c.apply(null,M)}};try{t.apply(e||null,r)}catch(w){s&&(s=!1,m(w))}})}});var w7=Z(b7=>{"use strict";E();var Ey=b7;Ey.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var uh=new Array(64),v7=new Array(123);for(ds=0;ds<64;)v7[uh[ds]=ds<26?ds+65:ds<52?ds+71:ds<62?ds-4:ds-59|43]=ds++;var ds;Ey.encode=function(e,r,i){for(var n=null,s=[],f=0,c=0,m;r<i;){var w=e[r++];switch(c){case 0:s[f++]=uh[w>>2],m=(w&3)<<4,c=1;break;case 1:s[f++]=uh[m|w>>4],m=(w&15)<<2,c=2;break;case 2:s[f++]=uh[m|w>>6],s[f++]=uh[w&63],c=0;break}f>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),f=0)}return c&&(s[f++]=uh[m],s[f++]=61,c===1&&(s[f++]=61)),n?(f&&n.push(String.fromCharCode.apply(String,s.slice(0,f))),n.join("")):String.fromCharCode.apply(String,s.slice(0,f))};var g7="invalid encoding";Ey.decode=function(e,r,i){for(var n=i,s=0,f,c=0;c<e.length;){var m=e.charCodeAt(c++);if(m===61&&s>1)break;if((m=v7[m])===void 0)throw Error(g7);switch(s){case 0:f=m,s=1;break;case 1:r[i++]=f<<2|(m&48)>>4,f=m,s=2;break;case 2:r[i++]=(f&15)<<4|(m&60)>>2,f=m,s=3;break;case 3:r[i++]=(f&3)<<6|m,s=0;break}}if(s===1)throw Error(g7);return i-n};Ey.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var M7=Z((Qbe,_7)=>{"use strict";E();_7.exports=Ay;function Ay(){this._listeners={}}Ay.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};Ay.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};Ay.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var P7=Z((twe,R7)=>{"use strict";E();R7.exports=x7(x7);function x7(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(m,w,_){e[0]=m,w[_]=r[0],w[_+1]=r[1],w[_+2]=r[2],w[_+3]=r[3]}function s(m,w,_){e[0]=m,w[_]=r[3],w[_+1]=r[2],w[_+2]=r[1],w[_+3]=r[0]}t.writeFloatLE=i?n:s,t.writeFloatBE=i?s:n;function f(m,w){return r[0]=m[w],r[1]=m[w+1],r[2]=m[w+2],r[3]=m[w+3],e[0]}function c(m,w){return r[3]=m[w],r[2]=m[w+1],r[1]=m[w+2],r[0]=m[w+3],e[0]}t.readFloatLE=i?f:c,t.readFloatBE=i?c:f}():function(){function e(i,n,s,f){var c=n<0?1:0;if(c&&(n=-n),n===0)i(1/n>0?0:2147483648,s,f);else if(isNaN(n))i(2143289344,s,f);else if(n>34028234663852886e22)i((c<<31|2139095040)>>>0,s,f);else if(n<11754943508222875e-54)i((c<<31|Math.round(n/1401298464324817e-60))>>>0,s,f);else{var m=Math.floor(Math.log(n)/Math.LN2),w=Math.round(n*Math.pow(2,-m)*8388608)&8388607;i((c<<31|m+127<<23|w)>>>0,s,f)}}t.writeFloatLE=e.bind(null,S7),t.writeFloatBE=e.bind(null,E7);function r(i,n,s){var f=i(n,s),c=(f>>31)*2+1,m=f>>>23&255,w=f&8388607;return m===255?w?NaN:c*(1/0):m===0?c*1401298464324817e-60*w:c*Math.pow(2,m-150)*(w+8388608)}t.readFloatLE=r.bind(null,A7),t.readFloatBE=r.bind(null,T7)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(m,w,_){e[0]=m,w[_]=r[0],w[_+1]=r[1],w[_+2]=r[2],w[_+3]=r[3],w[_+4]=r[4],w[_+5]=r[5],w[_+6]=r[6],w[_+7]=r[7]}function s(m,w,_){e[0]=m,w[_]=r[7],w[_+1]=r[6],w[_+2]=r[5],w[_+3]=r[4],w[_+4]=r[3],w[_+5]=r[2],w[_+6]=r[1],w[_+7]=r[0]}t.writeDoubleLE=i?n:s,t.writeDoubleBE=i?s:n;function f(m,w){return r[0]=m[w],r[1]=m[w+1],r[2]=m[w+2],r[3]=m[w+3],r[4]=m[w+4],r[5]=m[w+5],r[6]=m[w+6],r[7]=m[w+7],e[0]}function c(m,w){return r[7]=m[w],r[6]=m[w+1],r[5]=m[w+2],r[4]=m[w+3],r[3]=m[w+4],r[2]=m[w+5],r[1]=m[w+6],r[0]=m[w+7],e[0]}t.readDoubleLE=i?f:c,t.readDoubleBE=i?c:f}():function(){function e(i,n,s,f,c,m){var w=f<0?1:0;if(w&&(f=-f),f===0)i(0,c,m+n),i(1/f>0?0:2147483648,c,m+s);else if(isNaN(f))i(0,c,m+n),i(2146959360,c,m+s);else if(f>17976931348623157e292)i(0,c,m+n),i((w<<31|2146435072)>>>0,c,m+s);else{var _;if(f<22250738585072014e-324)_=f/5e-324,i(_>>>0,c,m+n),i((w<<31|_/4294967296)>>>0,c,m+s);else{var M=Math.floor(Math.log(f)/Math.LN2);M===1024&&(M=1023),_=f*Math.pow(2,-M),i(_*4503599627370496>>>0,c,m+n),i((w<<31|M+1023<<20|_*1048576&1048575)>>>0,c,m+s)}}}t.writeDoubleLE=e.bind(null,S7,0,4),t.writeDoubleBE=e.bind(null,E7,4,0);function r(i,n,s,f,c){var m=i(f,c+n),w=i(f,c+s),_=(w>>31)*2+1,M=w>>>20&2047,x=4294967296*(w&1048575)+m;return M===2047?x?NaN:_*(1/0):M===0?_*5e-324*x:_*Math.pow(2,M-1075)*(x+4503599627370496)}t.readDoubleLE=r.bind(null,A7,0,4),t.readDoubleBE=r.bind(null,T7,4,0)}(),t}function S7(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function E7(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function A7(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function T7(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var k7=Z((exports,module)=>{"use strict";E();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var B7=Z(I7=>{"use strict";E();var x2=I7;x2.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};x2.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var s=null,f=[],c=0,m;r<i;)m=e[r++],m<128?f[c++]=m:m>191&&m<224?f[c++]=(m&31)<<6|e[r++]&63:m>239&&m<365?(m=((m&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,f[c++]=55296+(m>>10),f[c++]=56320+(m&1023)):f[c++]=(m&15)<<12|(e[r++]&63)<<6|e[r++]&63,c>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,f)),c=0);return s?(c&&s.push(String.fromCharCode.apply(String,f.slice(0,c))),s.join("")):String.fromCharCode.apply(String,f.slice(0,c))};x2.write=function(e,r,i){for(var n=i,s,f,c=0;c<e.length;++c)s=e.charCodeAt(c),s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):(s&64512)===55296&&((f=e.charCodeAt(c+1))&64512)===56320?(s=65536+((s&1023)<<10)+(f&1023),++c,r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128);return i-n}});var C7=Z((swe,D7)=>{"use strict";E();D7.exports=FG;function FG(t,e,r){var i=r||8192,n=i>>>1,s=null,f=i;return function(m){if(m<1||m>n)return t(m);f+m>i&&(s=t(i),f=0);var w=e.call(s,f,f+=m);return f&7&&(f=(f|7)+1),w}}});var q7=Z((fwe,O7)=>{"use strict";E();O7.exports=Ui;var q0=nl();function Ui(t,e){this.lo=t>>>0,this.hi=e>>>0}var il=Ui.zero=new Ui(0,0);il.toNumber=function(){return 0};il.zzEncode=il.zzDecode=function(){return this};il.length=function(){return 1};var $G=Ui.zeroHash="\0\0\0\0\0\0\0\0";Ui.fromNumber=function(e){if(e===0)return il;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new Ui(i,n)};Ui.from=function(e){if(typeof e=="number")return Ui.fromNumber(e);if(q0.isString(e))if(q0.Long)e=q0.Long.fromString(e);else return Ui.fromNumber(parseInt(e,10));return e.low||e.high?new Ui(e.low>>>0,e.high>>>0):il};Ui.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};Ui.prototype.toLong=function(e){return q0.Long?new q0.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Uf=String.prototype.charCodeAt;Ui.fromHash=function(e){return e===$G?il:new Ui((Uf.call(e,0)|Uf.call(e,1)<<8|Uf.call(e,2)<<16|Uf.call(e,3)<<24)>>>0,(Uf.call(e,4)|Uf.call(e,5)<<8|Uf.call(e,6)<<16|Uf.call(e,7)<<24)>>>0)};Ui.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ui.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Ui.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Ui.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var nl=Z(S2=>{"use strict";E();var Ze=S2;Ze.asPromise=y7();Ze.base64=w7();Ze.EventEmitter=M7();Ze.float=P7();Ze.inquire=k7();Ze.utf8=B7();Ze.pool=C7();Ze.LongBits=q7();Ze.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);Ze.global=Ze.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||S2;Ze.emptyArray=Object.freeze?Object.freeze([]):[];Ze.emptyObject=Object.freeze?Object.freeze({}):{};Ze.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Ze.isString=function(e){return typeof e=="string"||e instanceof String};Ze.isObject=function(e){return e&&typeof e=="object"};Ze.isset=Ze.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};Ze.Buffer=function(){try{var t=Ze.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();Ze._Buffer_from=null;Ze._Buffer_allocUnsafe=null;Ze.newBuffer=function(e){return typeof e=="number"?Ze.Buffer?Ze._Buffer_allocUnsafe(e):new Ze.Array(e):Ze.Buffer?Ze._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Ze.Array=typeof Uint8Array<"u"?Uint8Array:Array;Ze.Long=Ze.global.dcodeIO&&Ze.global.dcodeIO.Long||Ze.global.Long||Ze.inquire("long");Ze.key2Re=/^true|false|0|1$/;Ze.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Ze.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Ze.longToHash=function(e){return e?Ze.LongBits.from(e).toHash():Ze.LongBits.zeroHash};Ze.longFromHash=function(e,r){var i=Ze.LongBits.fromHash(e);return Ze.Long?Ze.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function j7(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}Ze.merge=j7;Ze.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function N7(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&j7(this,i)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Ze.newError=N7;Ze.ProtocolError=N7("ProtocolError");Ze.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(r[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};Ze.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};Ze.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Ze._configure=function(){var t=Ze.Buffer;if(!t){Ze._Buffer_from=Ze._Buffer_allocUnsafe=null;return}Ze._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},Ze._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var T2=Z((hwe,$7)=>{"use strict";E();$7.exports=ti;var Zs=nl(),A2,U7=Zs.LongBits,WG=Zs.utf8;function hs(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function ti(t){this.buf=t,this.pos=0,this.len=t.length}var L7=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ti(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ti(e);throw Error("illegal buffer")},F7=function(){return Zs.Buffer?function(r){return(ti.create=function(n){return Zs.Buffer.isBuffer(n)?new A2(n):L7(n)})(r)}:L7};ti.create=F7();ti.prototype._slice=Zs.Array.prototype.subarray||Zs.Array.prototype.slice;ti.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,hs(this,10);return e}}();ti.prototype.int32=function(){return this.uint32()|0};ti.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function E2(){var t=new U7(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw hs(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw hs(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}ti.prototype.bool=function(){return this.uint32()!==0};function Ty(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}ti.prototype.fixed32=function(){if(this.pos+4>this.len)throw hs(this,4);return Ty(this.buf,this.pos+=4)};ti.prototype.sfixed32=function(){if(this.pos+4>this.len)throw hs(this,4);return Ty(this.buf,this.pos+=4)|0};function z7(){if(this.pos+8>this.len)throw hs(this,8);return new U7(Ty(this.buf,this.pos+=4),Ty(this.buf,this.pos+=4))}ti.prototype.float=function(){if(this.pos+4>this.len)throw hs(this,4);var e=Zs.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ti.prototype.double=function(){if(this.pos+8>this.len)throw hs(this,4);var e=Zs.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ti.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw hs(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};ti.prototype.string=function(){var e=this.bytes();return WG.read(e,0,e.length)};ti.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw hs(this,e);this.pos+=e}else do if(this.pos>=this.len)throw hs(this);while(this.buf[this.pos++]&128);return this};ti.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};ti._configure=function(t){A2=t,ti.create=F7(),A2._configure();var e=Zs.Long?"toLong":"toNumber";Zs.merge(ti.prototype,{int64:function(){return E2.call(this)[e](!1)},uint64:function(){return E2.call(this)[e](!0)},sint64:function(){return E2.call(this).zzDecode()[e](!1)},fixed64:function(){return z7.call(this)[e](!0)},sfixed64:function(){return z7.call(this)[e](!1)}})}});var K7=Z((pwe,G7)=>{"use strict";E();G7.exports=ol;var H7=T2();(ol.prototype=Object.create(H7.prototype)).constructor=ol;var W7=nl();function ol(t){H7.call(this,t)}ol._configure=function(){W7.Buffer&&(ol.prototype._slice=W7.Buffer.prototype.slice)};ol.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ol._configure()});var C2=Z((ywe,J7)=>{"use strict";E();J7.exports=Nt;var Bo=nl(),R2,Ry=Bo.LongBits,Z7=Bo.base64,V7=Bo.utf8;function j0(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function k2(){}function HG(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Nt(){this.len=0,this.head=new j0(k2,0,0),this.tail=this.head,this.states=null}var Y7=function(){return Bo.Buffer?function(){return(Nt.create=function(){return new R2})()}:function(){return new Nt}};Nt.create=Y7();Nt.alloc=function(e){return new Bo.Array(e)};Bo.Array!==Array&&(Nt.alloc=Bo.pool(Nt.alloc,Bo.Array.prototype.subarray));Nt.prototype._push=function(e,r,i){return this.tail=this.tail.next=new j0(e,r,i),this.len+=r,this};function I2(t,e,r){e[r]=t&255}function GG(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function B2(t,e){this.len=t,this.next=void 0,this.val=e}B2.prototype=Object.create(j0.prototype);B2.prototype.fn=GG;Nt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new B2((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Nt.prototype.int32=function(e){return e<0?this._push(D2,10,Ry.fromNumber(e)):this.uint32(e)};Nt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function D2(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Nt.prototype.uint64=function(e){var r=Ry.from(e);return this._push(D2,r.length(),r)};Nt.prototype.int64=Nt.prototype.uint64;Nt.prototype.sint64=function(e){var r=Ry.from(e).zzEncode();return this._push(D2,r.length(),r)};Nt.prototype.bool=function(e){return this._push(I2,1,e?1:0)};function P2(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Nt.prototype.fixed32=function(e){return this._push(P2,4,e>>>0)};Nt.prototype.sfixed32=Nt.prototype.fixed32;Nt.prototype.fixed64=function(e){var r=Ry.from(e);return this._push(P2,4,r.lo)._push(P2,4,r.hi)};Nt.prototype.sfixed64=Nt.prototype.fixed64;Nt.prototype.float=function(e){return this._push(Bo.float.writeFloatLE,4,e)};Nt.prototype.double=function(e){return this._push(Bo.float.writeDoubleLE,8,e)};var KG=Bo.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};Nt.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(I2,1,0);if(Bo.isString(e)){var i=Nt.alloc(r=Z7.length(e));Z7.decode(e,i,0),e=i}return this.uint32(r)._push(KG,r,e)};Nt.prototype.string=function(e){var r=V7.length(e);return r?this.uint32(r)._push(V7.write,r,e):this._push(I2,1,0)};Nt.prototype.fork=function(){return this.states=new HG(this),this.head=this.tail=new j0(k2,0,0),this.len=0,this};Nt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new j0(k2,0,0),this.len=0),this};Nt.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};Nt.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};Nt._configure=function(t){R2=t,Nt.create=Y7(),R2._configure()}});var e9=Z((vwe,Q7)=>{"use strict";E();Q7.exports=Vs;var X7=C2();(Vs.prototype=Object.create(X7.prototype)).constructor=Vs;var Ff=nl();function Vs(){X7.call(this)}Vs._configure=function(){Vs.alloc=Ff._Buffer_allocUnsafe,Vs.writeBytesBuffer=Ff.Buffer&&Ff.Buffer.prototype instanceof Uint8Array&&Ff.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};Vs.prototype.bytes=function(e){Ff.isString(e)&&(e=Ff._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Vs.writeBytesBuffer,r,e),this};function ZG(t,e,r){t.length<40?Ff.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Vs.prototype.string=function(e){var r=Ff.Buffer.byteLength(e);return this.uint32(r),r&&this._push(ZG,r,e),this};Vs._configure()});var O9=Z((V0,Dy)=>{E();(function(t,e){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(T){if(!Array.isArray(T)&&!ArrayBuffer.isView(T))return!1;for(var A=0;A<T.length;A++)if(!Number.isInteger(T[A])||T[A]<0||T[A]>255)return!1;return!0}function n(T,A){return(T&65535)*A+(((T>>>16)*A&65535)<<16)}function s(T,A){return T<<A|T>>>32-A}function f(T){return T^=T>>>16,T=n(T,2246822507),T^=T>>>13,T=n(T,3266489909),T^=T>>>16,T}function c(T,A){T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535],A=[A[0]>>>16,A[0]&65535,A[1]>>>16,A[1]&65535];var I=[0,0,0,0];return I[3]+=T[3]+A[3],I[2]+=I[3]>>>16,I[3]&=65535,I[2]+=T[2]+A[2],I[1]+=I[2]>>>16,I[2]&=65535,I[1]+=T[1]+A[1],I[0]+=I[1]>>>16,I[1]&=65535,I[0]+=T[0]+A[0],I[0]&=65535,[I[0]<<16|I[1],I[2]<<16|I[3]]}function m(T,A){T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535],A=[A[0]>>>16,A[0]&65535,A[1]>>>16,A[1]&65535];var I=[0,0,0,0];return I[3]+=T[3]*A[3],I[2]+=I[3]>>>16,I[3]&=65535,I[2]+=T[2]*A[3],I[1]+=I[2]>>>16,I[2]&=65535,I[2]+=T[3]*A[2],I[1]+=I[2]>>>16,I[2]&=65535,I[1]+=T[1]*A[3],I[0]+=I[1]>>>16,I[1]&=65535,I[1]+=T[2]*A[2],I[0]+=I[1]>>>16,I[1]&=65535,I[1]+=T[3]*A[1],I[0]+=I[1]>>>16,I[1]&=65535,I[0]+=T[0]*A[3]+T[1]*A[2]+T[2]*A[1]+T[3]*A[0],I[0]&=65535,[I[0]<<16|I[1],I[2]<<16|I[3]]}function w(T,A){return A%=64,A===32?[T[1],T[0]]:A<32?[T[0]<<A|T[1]>>>32-A,T[1]<<A|T[0]>>>32-A]:(A-=32,[T[1]<<A|T[0]>>>32-A,T[0]<<A|T[1]>>>32-A])}function _(T,A){return A%=64,A===0?T:A<32?[T[0]<<A|T[1]>>>32-A,T[1]<<A]:[T[1]<<A-32,0]}function M(T,A){return[T[0]^A[0],T[1]^A[1]]}function x(T){return T=M(T,[0,T[0]>>>1]),T=m(T,[4283543511,3981806797]),T=M(T,[0,T[0]>>>1]),T=m(T,[3301882366,444984403]),T=M(T,[0,T[0]>>>1]),T}r.x86.hash32=function(T,A){if(r.inputValidation&&!i(T))return e;A=A||0;for(var I=T.length%4,D=T.length-I,k=A,C=0,O=3432918353,U=461845907,$=0;$<D;$=$+4)C=T[$]|T[$+1]<<8|T[$+2]<<16|T[$+3]<<24,C=n(C,O),C=s(C,15),C=n(C,U),k^=C,k=s(k,13),k=n(k,5)+3864292196;switch(C=0,I){case 3:C^=T[$+2]<<16;case 2:C^=T[$+1]<<8;case 1:C^=T[$],C=n(C,O),C=s(C,15),C=n(C,U),k^=C}return k^=T.length,k=f(k),k>>>0},r.x86.hash128=function(T,A){if(r.inputValidation&&!i(T))return e;A=A||0;for(var I=T.length%16,D=T.length-I,k=A,C=A,O=A,U=A,$=0,W=0,F=0,N=0,V=597399067,b=2869860233,o=951274213,u=2716044179,h=0;h<D;h=h+16)$=T[h]|T[h+1]<<8|T[h+2]<<16|T[h+3]<<24,W=T[h+4]|T[h+5]<<8|T[h+6]<<16|T[h+7]<<24,F=T[h+8]|T[h+9]<<8|T[h+10]<<16|T[h+11]<<24,N=T[h+12]|T[h+13]<<8|T[h+14]<<16|T[h+15]<<24,$=n($,V),$=s($,15),$=n($,b),k^=$,k=s(k,19),k+=C,k=n(k,5)+1444728091,W=n(W,b),W=s(W,16),W=n(W,o),C^=W,C=s(C,17),C+=O,C=n(C,5)+197830471,F=n(F,o),F=s(F,17),F=n(F,u),O^=F,O=s(O,15),O+=U,O=n(O,5)+2530024501,N=n(N,u),N=s(N,18),N=n(N,V),U^=N,U=s(U,13),U+=k,U=n(U,5)+850148119;switch($=0,W=0,F=0,N=0,I){case 15:N^=T[h+14]<<16;case 14:N^=T[h+13]<<8;case 13:N^=T[h+12],N=n(N,u),N=s(N,18),N=n(N,V),U^=N;case 12:F^=T[h+11]<<24;case 11:F^=T[h+10]<<16;case 10:F^=T[h+9]<<8;case 9:F^=T[h+8],F=n(F,o),F=s(F,17),F=n(F,u),O^=F;case 8:W^=T[h+7]<<24;case 7:W^=T[h+6]<<16;case 6:W^=T[h+5]<<8;case 5:W^=T[h+4],W=n(W,b),W=s(W,16),W=n(W,o),C^=W;case 4:$^=T[h+3]<<24;case 3:$^=T[h+2]<<16;case 2:$^=T[h+1]<<8;case 1:$^=T[h],$=n($,V),$=s($,15),$=n($,b),k^=$}return k^=T.length,C^=T.length,O^=T.length,U^=T.length,k+=C,k+=O,k+=U,C+=k,O+=k,U+=k,k=f(k),C=f(C),O=f(O),U=f(U),k+=C,k+=O,k+=U,C+=k,O+=k,U+=k,("00000000"+(k>>>0).toString(16)).slice(-8)+("00000000"+(C>>>0).toString(16)).slice(-8)+("00000000"+(O>>>0).toString(16)).slice(-8)+("00000000"+(U>>>0).toString(16)).slice(-8)},r.x64.hash128=function(T,A){if(r.inputValidation&&!i(T))return e;A=A||0;for(var I=T.length%16,D=T.length-I,k=[0,A],C=[0,A],O=[0,0],U=[0,0],$=[2277735313,289559509],W=[1291169091,658871167],F=0;F<D;F=F+16)O=[T[F+4]|T[F+5]<<8|T[F+6]<<16|T[F+7]<<24,T[F]|T[F+1]<<8|T[F+2]<<16|T[F+3]<<24],U=[T[F+12]|T[F+13]<<8|T[F+14]<<16|T[F+15]<<24,T[F+8]|T[F+9]<<8|T[F+10]<<16|T[F+11]<<24],O=m(O,$),O=w(O,31),O=m(O,W),k=M(k,O),k=w(k,27),k=c(k,C),k=c(m(k,[0,5]),[0,1390208809]),U=m(U,W),U=w(U,33),U=m(U,$),C=M(C,U),C=w(C,31),C=c(C,k),C=c(m(C,[0,5]),[0,944331445]);switch(O=[0,0],U=[0,0],I){case 15:U=M(U,_([0,T[F+14]],48));case 14:U=M(U,_([0,T[F+13]],40));case 13:U=M(U,_([0,T[F+12]],32));case 12:U=M(U,_([0,T[F+11]],24));case 11:U=M(U,_([0,T[F+10]],16));case 10:U=M(U,_([0,T[F+9]],8));case 9:U=M(U,[0,T[F+8]]),U=m(U,W),U=w(U,33),U=m(U,$),C=M(C,U);case 8:O=M(O,_([0,T[F+7]],56));case 7:O=M(O,_([0,T[F+6]],48));case 6:O=M(O,_([0,T[F+5]],40));case 5:O=M(O,_([0,T[F+4]],32));case 4:O=M(O,_([0,T[F+3]],24));case 3:O=M(O,_([0,T[F+2]],16));case 2:O=M(O,_([0,T[F+1]],8));case 1:O=M(O,[0,T[F]]),O=m(O,$),O=w(O,31),O=m(O,W),k=M(k,O)}return k=M(k,[0,T.length]),C=M(C,[0,T.length]),k=c(k,C),C=c(C,k),k=x(k),C=x(C),k=c(k,C),C=c(C,k),("00000000"+(k[0]>>>0).toString(16)).slice(-8)+("00000000"+(k[1]>>>0).toString(16)).slice(-8)+("00000000"+(C[0]>>>0).toString(16)).slice(-8)+("00000000"+(C[1]>>>0).toString(16)).slice(-8)},typeof V0<"u"?(typeof Dy<"u"&&Dy.exports&&(V0=Dy.exports=r),V0.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=t.murmurHash3,r.noConflict=function(){return t.murmurHash3=r._murmurHash3,r._murmurHash3=e,r.noConflict=e,r},t.murmurHash3=r)})(V0)});var j9=Z((O3e,q9)=>{E();q9.exports=O9()});var U9=Z((W3e,z9)=>{"use strict";E();z9.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let i=this._internalPositionFor(e,!1);if(r===void 0)i!==-1&&(this._unsetInternalPos(i),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;i===-1?(i=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(i,e,r,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,i=new Array(this.length);for(;r<this.length;)i[r]=e(this.get(r),r,this),r++;return i}reduce(e,r){let i=0,n=r;for(;i<this.length;){let s=this.get(i);n=e(n,s,i),i++}return n}find(e){let r=0,i,n;for(;r<this.length&&!i;)n=this.get(r),i=e(n),r++;return i?n:void 0}_internalPositionFor(e,r){let i=this._bytePosFor(e,r);if(i>=this._bitArrays.length)return-1;let n=this._bitArrays[i],s=e-i*7;if(!((n&1<<s)>0))return-1;let c=this._bitArrays.slice(0,i).reduce(hZ,0),m=~(4294967295<<s+1),w=L9(n&m);return c+w-1}_bytePosFor(e,r){let i=Math.floor(e/7),n=i+1;for(;!r&&this._bitArrays.length<n;)this._bitArrays.push(0);return i}_setBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*7}_unsetBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*7)}_setInternalPos(e,r,i,n){let s=this._data,f=[r,i];if(n)this._sortData(),s[e]=f;else{if(s.length)if(s[s.length-1][0]>=r)s.push(f);else if(s[0][0]<=r)s.unshift(f);else{let c=Math.round(s.length/2);this._data=s.slice(0,c).concat(f).concat(s.slice(c))}else this._data.push(f);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(cZ),this._changedData=!1}bitField(){let e=[],r=8,i=0,n=0,s,f=this._bitArrays.slice();for(;f.length||i;){i===0&&(s=f.shift(),i=7);let m=Math.min(i,r),w=~(255<<m),_=s&w;n|=_<<8-r,s=s>>>m,i-=m,r-=m,(!r||!i&&!f.length)&&(e.push(n),n=0,r=8)}for(var c=e.length-1;c>0&&e[c]===0;c--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(pZ)}};function hZ(t,e){return t+L9(e)}function L9(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function cZ(t,e){return t[0]-e[0]}function pZ(t){return t[1]}});var tA=Z((b_,w_)=>{E();(function(t,e){typeof b_=="object"&&typeof w_<"u"?w_.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(b_,function(){"use strict";var t=Math.imul,e=Math.clz32;function r(N){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},r(N)}function i(N,V){if(!(N instanceof V))throw new TypeError("Cannot call a class as a function")}function n(N,V){for(var b,o=0;o<V.length;o++)b=V[o],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(N,b.key,b)}function s(N,V,b){return V&&n(N.prototype,V),b&&n(N,b),Object.defineProperty(N,"prototype",{writable:!1}),N}function f(N,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),V&&m(N,V)}function c(N){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},c(N)}function m(N,V){return m=Object.setPrototypeOf||function(b,o){return b.__proto__=o,b},m(N,V)}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(){return _=w()?Reflect.construct:function(N,V,b){var o=[null];o.push.apply(o,V);var u=Function.bind.apply(N,o),h=new u;return b&&m(h,b.prototype),h},_.apply(null,arguments)}function M(N){return Function.toString.call(N).indexOf("[native code]")!==-1}function x(N){var V=typeof Map=="function"?new Map:void 0;return x=function(b){function o(){return _(b,arguments,c(this).constructor)}if(b===null||!M(b))return b;if(typeof b!="function")throw new TypeError("Super expression must either be null or a function");if(typeof V<"u"){if(V.has(b))return V.get(b);V.set(b,o)}return o.prototype=Object.create(b.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m(o,b)},x(N)}function T(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function A(N,V){if(V&&(typeof V=="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(N)}function I(N){var V=w();return function(){var b,o=c(N);if(V){var u=c(this).constructor;b=Reflect.construct(o,arguments,u)}else b=o.apply(this,arguments);return A(this,b)}}function D(N,V){return k(N)||C(N,V)||O(N,V)||$()}function k(N){if(Array.isArray(N))return N}function C(N,V){var b=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(b!=null){var o,u,h=[],l=!0,d=!1;try{for(b=b.call(N);!(l=(o=b.next()).done)&&(h.push(o.value),!(V&&h.length===V));l=!0);}catch(y){d=!0,u=y}finally{try{l||b.return==null||b.return()}finally{if(d)throw u}}return h}}function O(N,V){if(N){if(typeof N=="string")return U(N,V);var b=Object.prototype.toString.call(N).slice(8,-1);return b==="Object"&&N.constructor&&(b=N.constructor.name),b==="Map"||b==="Set"?Array.from(N):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?U(N,V):void 0}}function U(N,V){(V==null||V>N.length)&&(V=N.length);for(var b=0,o=Array(V);b<V;b++)o[b]=N[b];return o}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(N,V){var b=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!b){if(Array.isArray(N)||(b=O(N))||V&&N&&typeof N.length=="number"){b&&(N=b);var o=0,u=function(){};return{s:u,n:function(){return o>=N.length?{done:!0}:{done:!1,value:N[o++]}},e:function(y){throw y},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,l=!0,d=!1;return{s:function(){b=b.call(N)},n:function(){var y=b.next();return l=y.done,y},e:function(y){d=!0,h=y},f:function(){try{l||b.return==null||b.return()}finally{if(d)throw h}}}}var F=function(N){var V=Math.abs,b=Math.max,o=Math.floor;function u(l,d){var y;if(i(this,u),y=h.call(this,l),y.sign=d,Object.setPrototypeOf(T(y),u.prototype),l>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return y}f(u,N);var h=I(u);return s(u,[{key:"toDebugString",value:function(){var l,d=["BigInt["],y=W(this);try{for(y.s();!(l=y.n()).done;){var v=l.value;d.push((v&&(v>>>0).toString(16))+", ")}}catch(p){y.e(p)}finally{y.f()}return d.push("]"),d.join("")}},{key:"toString",value:function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>l||36<l)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":l&l-1?u.__toStringGeneric(this,l,!1):u.__toStringBasePowerOfTwo(this,l)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var l=new u(this.length,this.sign),d=0;d<this.length;d++)l[d]=this[d];return l}},{key:"__trim",value:function(){for(var l=this.length,d=this[l-1];d===0;)l--,d=this[l-1],this.pop();return l===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var l=0;l<this.length;l++)this[l]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(l,d,y){y>this.length&&(y=this.length);for(var v=32767&l,p=l>>>15,a=0,g=d,P=0;P<y;P++){var S=this.__digit(P),B=32767&S,z=S>>>15,H=u.__imul(B,v),G=u.__imul(B,p),J=u.__imul(z,v),K=u.__imul(z,p),Y=g+H+a;a=Y>>>30,Y&=1073741823,Y+=((32767&G)<<15)+((32767&J)<<15),a+=Y>>>30,g=K+(G>>>15)+(J>>>15),this.__setDigit(P,1073741823&Y)}if(a!==0||g!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(l,d,y){for(var v,p=0,a=0;a<y;a++)v=this.__halfDigit(d+a)+l.__halfDigit(a)+p,p=v>>>15,this.__setHalfDigit(d+a,32767&v);return p}},{key:"__inplaceSub",value:function(l,d,y){var v=0;if(1&d){d>>=1;for(var p=this.__digit(d),a=32767&p,g=0;g<y-1>>>1;g++){var P=l.__digit(g),S=(p>>>15)-(32767&P)-v;v=1&S>>>15,this.__setDigit(d+g,(32767&S)<<15|32767&a),p=this.__digit(d+g+1),a=(32767&p)-(P>>>15)-v,v=1&a>>>15}var B=l.__digit(g),z=(p>>>15)-(32767&B)-v;if(v=1&z>>>15,this.__setDigit(d+g,(32767&z)<<15|32767&a),d+g+1>=this.length)throw new RangeError("out of bounds");!(1&y)&&(p=this.__digit(d+g+1),a=(32767&p)-(B>>>15)-v,v=1&a>>>15,this.__setDigit(d+l.length,1073709056&p|32767&a))}else{d>>=1;for(var H=0;H<l.length-1;H++){var G=this.__digit(d+H),J=l.__digit(H),K=(32767&G)-(32767&J)-v;v=1&K>>>15;var Y=(G>>>15)-(J>>>15)-v;v=1&Y>>>15,this.__setDigit(d+H,(32767&Y)<<15|32767&K)}var ze=this.__digit(d+H),X=l.__digit(H),Q=(32767&ze)-(32767&X)-v;v=1&Q>>>15;var et=0;!(1&y)&&(et=(ze>>>15)-(X>>>15)-v,v=1&et>>>15),this.__setDigit(d+H,(32767&et)<<15|32767&Q)}return v}},{key:"__inplaceRightShift",value:function(l){if(l!==0){for(var d,y=this.__digit(0)>>>l,v=this.length-1,p=0;p<v;p++)d=this.__digit(p+1),this.__setDigit(p,1073741823&d<<30-l|y),y=d>>>l;this.__setDigit(v,y)}}},{key:"__digit",value:function(l){return this[l]}},{key:"__unsignedDigit",value:function(l){return this[l]>>>0}},{key:"__setDigit",value:function(l,d){this[l]=0|d}},{key:"__setDigitGrow",value:function(l,d){this[l]=0|d}},{key:"__halfDigitLength",value:function(){var l=this.length;return 32767>=this.__unsignedDigit(l-1)?2*l-1:2*l}},{key:"__halfDigit",value:function(l){return 32767&this[l>>>1]>>>15*(1&l)}},{key:"__setHalfDigit",value:function(l,d){var y=l>>>1,v=this.__digit(y),p=1&l?32767&v|d<<15:1073709056&v|32767&d;this.__setDigit(y,p)}}],[{key:"BigInt",value:function(l){var d=Number.isFinite;if(typeof l=="number"){if(l===0)return u.__zero();if(u.__isOneDigitInt(l))return 0>l?u.__oneDigit(-l,!0):u.__oneDigit(l,!1);if(!d(l)||o(l)!==l)throw new RangeError("The number "+l+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(l)}if(typeof l=="string"){var y=u.__fromString(l);if(y===null)throw new SyntaxError("Cannot convert "+l+" to a BigInt");return y}if(typeof l=="boolean")return l===!0?u.__oneDigit(1,!1):u.__zero();if(r(l)==="object"){if(l.constructor===u)return l;var v=u.__toPrimitive(l);return u.BigInt(v)}throw new TypeError("Cannot convert "+l+" to a BigInt")}},{key:"toNumber",value:function(l){var d=l.length;if(d===0)return 0;if(d===1){var y=l.__unsignedDigit(0);return l.sign?-y:y}var v=l.__digit(d-1),p=u.__clz30(v),a=30*d-p;if(1024<a)return l.sign?-1/0:1/0;var g=a-1,P=v,S=d-1,B=p+3,z=B===32?0:P<<B;z>>>=12;var H=B-12,G=12<=B?0:P<<20+B,J=20+B;for(0<H&&0<S&&(S--,P=l.__digit(S),z|=P>>>30-H,G=P<<H+2,J=H+2);0<J&&0<S;)S--,P=l.__digit(S),G|=30<=J?P<<J-30:P>>>30-J,J-=30;var K=u.__decideRounding(l,J,S,P);if((K===1||K===0&&(1&G)==1)&&(G=G+1>>>0,G===0&&(z++,z>>>20!=0&&(z=0,g++,1023<g))))return l.sign?-1/0:1/0;var Y=l.sign?-2147483648:0;return g=g+1023<<20,u.__kBitConversionInts[1]=Y|g|z,u.__kBitConversionInts[0]=G,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(l){if(l.length===0)return l;var d=l.__copy();return d.sign=!l.sign,d}},{key:"bitwiseNot",value:function(l){return l.sign?u.__absoluteSubOne(l).__trim():u.__absoluteAddOne(l,!0)}},{key:"exponentiate",value:function(l,d){if(d.sign)throw new RangeError("Exponent must be positive");if(d.length===0)return u.__oneDigit(1,!1);if(l.length===0)return l;if(l.length===1&&l.__digit(0)===1)return l.sign&&!(1&d.__digit(0))?u.unaryMinus(l):l;if(1<d.length)throw new RangeError("BigInt too big");var y=d.__unsignedDigit(0);if(y===1)return l;if(y>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(l.length===1&&l.__digit(0)===2){var v=1+(0|y/30),p=l.sign&&(1&y)!=0,a=new u(v,p);a.__initializeDigits();var g=1<<y%30;return a.__setDigit(v-1,g),a}var P=null,S=l;for(1&y&&(P=l),y>>=1;y!==0;y>>=1)S=u.multiply(S,S),1&y&&(P===null?P=S:P=u.multiply(P,S));return P}},{key:"multiply",value:function(l,d){if(l.length===0)return l;if(d.length===0)return d;var y=l.length+d.length;30<=l.__clzmsd()+d.__clzmsd()&&y--;var v=new u(y,l.sign!==d.sign);v.__initializeDigits();for(var p=0;p<l.length;p++)u.__multiplyAccumulate(d,l.__digit(p),v,p);return v.__trim()}},{key:"divide",value:function(l,d){if(d.length===0)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(l,d))return u.__zero();var y,v=l.sign!==d.sign,p=d.__unsignedDigit(0);if(d.length===1&&32767>=p){if(p===1)return v===l.sign?l:u.unaryMinus(l);y=u.__absoluteDivSmall(l,p,null)}else y=u.__absoluteDivLarge(l,d,!0,!1);return y.sign=v,y.__trim()}},{key:"remainder",value:function(d,y){if(y.length===0)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(d,y))return d;var v=y.__unsignedDigit(0);if(y.length===1&&32767>=v){if(v===1)return u.__zero();var p=u.__absoluteModSmall(d,v);return p===0?u.__zero():u.__oneDigit(p,d.sign)}var a=u.__absoluteDivLarge(d,y,!1,!0);return a.sign=d.sign,a.__trim()}},{key:"add",value:function(l,d){var y=l.sign;return y===d.sign?u.__absoluteAdd(l,d,y):0<=u.__absoluteCompare(l,d)?u.__absoluteSub(l,d,y):u.__absoluteSub(d,l,!y)}},{key:"subtract",value:function(l,d){var y=l.sign;return y===d.sign?0<=u.__absoluteCompare(l,d)?u.__absoluteSub(l,d,y):u.__absoluteSub(d,l,!y):u.__absoluteAdd(l,d,y)}},{key:"leftShift",value:function(l,d){return d.length===0||l.length===0?l:d.sign?u.__rightShiftByAbsolute(l,d):u.__leftShiftByAbsolute(l,d)}},{key:"signedRightShift",value:function(l,d){return d.length===0||l.length===0?l:d.sign?u.__leftShiftByAbsolute(l,d):u.__rightShiftByAbsolute(l,d)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(l,d){return 0>u.__compareToBigInt(l,d)}},{key:"lessThanOrEqual",value:function(l,d){return 0>=u.__compareToBigInt(l,d)}},{key:"greaterThan",value:function(l,d){return 0<u.__compareToBigInt(l,d)}},{key:"greaterThanOrEqual",value:function(l,d){return 0<=u.__compareToBigInt(l,d)}},{key:"equal",value:function(l,d){if(l.sign!==d.sign||l.length!==d.length)return!1;for(var y=0;y<l.length;y++)if(l.__digit(y)!==d.__digit(y))return!1;return!0}},{key:"notEqual",value:function(l,d){return!u.equal(l,d)}},{key:"bitwiseAnd",value:function(l,d){if(!l.sign&&!d.sign)return u.__absoluteAnd(l,d).__trim();if(l.sign&&d.sign){var y=b(l.length,d.length)+1,v=u.__absoluteSubOne(l,y),p=u.__absoluteSubOne(d);return v=u.__absoluteOr(v,p,v),u.__absoluteAddOne(v,!0,v).__trim()}if(l.sign){var a=[d,l];l=a[0],d=a[1]}return u.__absoluteAndNot(l,u.__absoluteSubOne(d)).__trim()}},{key:"bitwiseXor",value:function(l,d){if(!l.sign&&!d.sign)return u.__absoluteXor(l,d).__trim();if(l.sign&&d.sign){var y=b(l.length,d.length),v=u.__absoluteSubOne(l,y),p=u.__absoluteSubOne(d);return u.__absoluteXor(v,p,v).__trim()}var a=b(l.length,d.length)+1;if(l.sign){var g=[d,l];l=g[0],d=g[1]}var P=u.__absoluteSubOne(d,a);return P=u.__absoluteXor(P,l,P),u.__absoluteAddOne(P,!0,P).__trim()}},{key:"bitwiseOr",value:function(l,d){var y=b(l.length,d.length);if(!l.sign&&!d.sign)return u.__absoluteOr(l,d).__trim();if(l.sign&&d.sign){var v=u.__absoluteSubOne(l,y),p=u.__absoluteSubOne(d);return v=u.__absoluteAnd(v,p,v),u.__absoluteAddOne(v,!0,v).__trim()}if(l.sign){var a=[d,l];l=a[0],d=a[1]}var g=u.__absoluteSubOne(d,y);return g=u.__absoluteAndNot(g,l,g),u.__absoluteAddOne(g,!0,g).__trim()}},{key:"asIntN",value:function(l,d){if(d.length===0)return d;if(l=o(l),0>l)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(l===0)return u.__zero();if(l>=u.__kMaxLengthBits)return d;var y=0|(l+29)/30;if(d.length<y)return d;var v=d.__unsignedDigit(y-1),p=1<<(l-1)%30;if(d.length===y&&v<p)return d;if((v&p)!==p)return u.__truncateToNBits(l,d);if(!d.sign)return u.__truncateAndSubFromPowerOfTwo(l,d,!0);if(!(v&p-1)){for(var a=y-2;0<=a;a--)if(d.__digit(a)!==0)return u.__truncateAndSubFromPowerOfTwo(l,d,!1);return d.length===y&&v===p?d:u.__truncateToNBits(l,d)}return u.__truncateAndSubFromPowerOfTwo(l,d,!1)}},{key:"asUintN",value:function(l,d){if(d.length===0)return d;if(l=o(l),0>l)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(l===0)return u.__zero();if(d.sign){if(l>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(l,d,!1)}if(l>=u.__kMaxLengthBits)return d;var y=0|(l+29)/30;if(d.length<y)return d;var v=l%30;if(d.length==y){if(v===0)return d;var p=d.__digit(y-1);if(!(p>>>v))return d}return u.__truncateToNBits(l,d)}},{key:"ADD",value:function(l,d){if(l=u.__toPrimitive(l),d=u.__toPrimitive(d),typeof l=="string")return typeof d!="string"&&(d=d.toString()),l+d;if(typeof d=="string")return l.toString()+d;if(l=u.__toNumeric(l),d=u.__toNumeric(d),u.__isBigInt(l)&&u.__isBigInt(d))return u.add(l,d);if(typeof l=="number"&&typeof d=="number")return l+d;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(l,d){return u.__compare(l,d,0)}},{key:"LE",value:function(l,d){return u.__compare(l,d,1)}},{key:"GT",value:function(l,d){return u.__compare(l,d,2)}},{key:"GE",value:function(l,d){return u.__compare(l,d,3)}},{key:"EQ",value:function(l,d){for(;;){if(u.__isBigInt(l))return u.__isBigInt(d)?u.equal(l,d):u.EQ(d,l);if(typeof l=="number"){if(u.__isBigInt(d))return u.__equalToNumber(d,l);if(r(d)!=="object")return l==d;d=u.__toPrimitive(d)}else if(typeof l=="string"){if(u.__isBigInt(d))return l=u.__fromString(l),l!==null&&u.equal(l,d);if(r(d)!=="object")return l==d;d=u.__toPrimitive(d)}else if(typeof l=="boolean"){if(u.__isBigInt(d))return u.__equalToNumber(d,+l);if(r(d)!=="object")return l==d;d=u.__toPrimitive(d)}else if(r(l)==="symbol"){if(u.__isBigInt(d))return!1;if(r(d)!=="object")return l==d;d=u.__toPrimitive(d)}else if(r(l)==="object"){if(r(d)==="object"&&d.constructor!==u)return l==d;l=u.__toPrimitive(l)}else return l==d}}},{key:"NE",value:function(l,d){return!u.EQ(l,d)}},{key:"DataViewGetBigInt64",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(l,d,y))}},{key:"DataViewGetBigUint64",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0&&arguments[2],v=y?[4,0]:[0,4],p=D(v,2),a=p[0],g=p[1],P=l.getUint32(d+a,y),S=l.getUint32(d+g,y),B=new u(3,!1);return B.__setDigit(0,1073741823&S),B.__setDigit(1,(268435455&P)<<2|S>>>30),B.__setDigit(2,P>>>28),B.__trim()}},{key:"DataViewSetBigInt64",value:function(l,d,y){var v=3<arguments.length&&arguments[3]!==void 0&&arguments[3];u.DataViewSetBigUint64(l,d,y,v)}},{key:"DataViewSetBigUint64",value:function(l,d,y){var v=3<arguments.length&&arguments[3]!==void 0&&arguments[3];y=u.asUintN(64,y);var p=0,a=0;if(0<y.length&&(a=y.__digit(0),1<y.length)){var g=y.__digit(1);a|=g<<30,p=g>>>2,2<y.length&&(p|=y.__digit(2)<<28)}var P=v?[4,0]:[0,4],S=D(P,2),B=S[0],z=S[1];l.setUint32(d+B,p,v),l.setUint32(d+z,a,v)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(l,d){var y=new u(1,d);return y.__setDigit(0,l),y}},{key:"__decideRounding",value:function(l,d,y,v){if(0<d)return-1;var p;if(0>d)p=-d-1;else{if(y===0)return-1;y--,v=l.__digit(y),p=29}var a=1<<p;if(!(v&a))return-1;if(a-=1,(v&a)!=0)return 1;for(;0<y;)if(y--,l.__digit(y)!==0)return 1;return 0}},{key:"__fromDouble",value:function(l){u.__kBitConversionDouble[0]=l;var d,y=2047&u.__kBitConversionInts[1]>>>20,v=y-1023,p=(0|v/30)+1,a=new u(p,0>l),g=1048575&u.__kBitConversionInts[1]|1048576,P=u.__kBitConversionInts[0],S=20,B=v%30,z=0;if(B<S){var H=S-B;z=H+32,d=g>>>H,g=g<<32-H|P>>>H,P<<=32-H}else if(B===S)z=32,d=g,g=P,P=0;else{var G=B-S;z=32-G,d=g<<G|P>>>32-G,g=P<<G,P=0}a.__setDigit(p-1,d);for(var J=p-2;0<=J;J--)0<z?(z-=30,d=g>>>2,g=g<<30|P>>>2,P<<=30):d=0,a.__setDigit(J,d);return a.__trim()}},{key:"__isWhitespace",value:function(l){return 13>=l&&9<=l||(159>=l?l==32:131071>=l?l==160||l==5760:196607>=l?(l&=131071,10>=l||l==40||l==41||l==47||l==95||l==4096):l==65279)}},{key:"__fromString",value:function(l){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,y=0,v=l.length,p=0;if(p===v)return u.__zero();for(var a=l.charCodeAt(p);u.__isWhitespace(a);){if(++p===v)return u.__zero();a=l.charCodeAt(p)}if(a===43){if(++p===v)return null;a=l.charCodeAt(p),y=1}else if(a===45){if(++p===v)return null;a=l.charCodeAt(p),y=-1}if(d===0){if(d=10,a===48){if(++p===v)return u.__zero();if(a=l.charCodeAt(p),a===88||a===120){if(d=16,++p===v)return null;a=l.charCodeAt(p)}else if(a===79||a===111){if(d=8,++p===v)return null;a=l.charCodeAt(p)}else if(a===66||a===98){if(d=2,++p===v)return null;a=l.charCodeAt(p)}}}else if(d===16&&a===48){if(++p===v)return u.__zero();if(a=l.charCodeAt(p),a===88||a===120){if(++p===v)return null;a=l.charCodeAt(p)}}if(y!==0&&d!==10)return null;for(;a===48;){if(++p===v)return u.__zero();a=l.charCodeAt(p)}var g=v-p,P=u.__kMaxBitsPerChar[d],S=u.__kBitsPerCharTableMultiplier-1;if(g>1073741824/P)return null;var B=P*g+S>>>u.__kBitsPerCharTableShift,z=new u(0|(B+29)/30,!1),H=10>d?d:10,G=10<d?d-10:0;if(d&d-1){z.__initializeDigits();var et=!1,te=0;do{for(var re,$t=0,ie=1;;){if(re=void 0,a-48>>>0<H)re=a-48;else if((32|a)-97>>>0<G)re=(32|a)-87;else{et=!0;break}var ne=ie*d;if(1073741823<ne)break;if(ie=ne,$t=$t*d+re,te++,++p===v){et=!0;break}a=l.charCodeAt(p)}S=30*u.__kBitsPerCharTableMultiplier-1;var Dr=0|(P*te+S>>>u.__kBitsPerCharTableShift)/30;z.__inplaceMultiplyAdd(ie,$t,Dr)}while(!et)}else{P>>=u.__kBitsPerCharTableShift;var J=[],K=[],Y=!1;do{for(var ze,X=0,Q=0;;){if(ze=void 0,a-48>>>0<H)ze=a-48;else if((32|a)-97>>>0<G)ze=(32|a)-87;else{Y=!0;break}if(Q+=P,X=X<<P|ze,++p===v){Y=!0;break}if(a=l.charCodeAt(p),30<Q+P)break}J.push(X),K.push(Q)}while(!Y);u.__fillFromParts(z,J,K)}if(p!==v){if(!u.__isWhitespace(a))return null;for(p++;p<v;p++)if(a=l.charCodeAt(p),!u.__isWhitespace(a))return null}return z.sign=y===-1,z.__trim()}},{key:"__fillFromParts",value:function(l,d,y){for(var v=0,p=0,a=0,g=d.length-1;0<=g;g--){var P=d[g],S=y[g];p|=P<<a,a+=S,a===30?(l.__setDigit(v++,p),a=0,p=0):30<a&&(l.__setDigit(v++,1073741823&p),a-=30,p=P>>>S-a)}if(p!==0){if(v>=l.length)throw new Error("implementation bug");l.__setDigit(v++,p)}for(;v<l.length;v++)l.__setDigit(v,0)}},{key:"__toStringBasePowerOfTwo",value:function(l,d){var y=l.length,v=d-1;v=(85&v>>>1)+(85&v),v=(51&v>>>2)+(51&v),v=(15&v>>>4)+(15&v);var p=v,a=d-1,g=l.__digit(y-1),P=u.__clz30(g),S=0|(30*y-P+p-1)/p;if(l.sign&&S++,268435456<S)throw new Error("string too long");for(var B=Array(S),z=S-1,H=0,G=0,J=0;J<y-1;J++){var K=l.__digit(J),Y=(H|K<<G)&a;B[z--]=u.__kConversionChars[Y];var ze=p-G;for(H=K>>>ze,G=30-ze;G>=p;)B[z--]=u.__kConversionChars[H&a],H>>>=p,G-=p}var X=(H|g<<G)&a;for(B[z--]=u.__kConversionChars[X],H=g>>>p-G;H!==0;)B[z--]=u.__kConversionChars[H&a],H>>>=p;if(l.sign&&(B[z--]="-"),z!==-1)throw new Error("implementation bug");return B.join("")}},{key:"__toStringGeneric",value:function(l,d,y){var v=l.length;if(v===0)return"";if(v===1){var p=l.__unsignedDigit(0).toString(d);return y===!1&&l.sign&&(p="-"+p),p}var a=30*v-u.__clz30(l.__digit(v-1)),g=u.__kMaxBitsPerChar[d],P=g-1,S=a*u.__kBitsPerCharTableMultiplier;S+=P-1,S=0|S/P;var B,z,H=S+1>>1,G=u.exponentiate(u.__oneDigit(d,!1),u.__oneDigit(H,!1)),J=G.__unsignedDigit(0);if(G.length===1&&32767>=J){B=new u(l.length,!1),B.__initializeDigits();for(var K,Y=0,ze=2*l.length-1;0<=ze;ze--)K=Y<<15|l.__halfDigit(ze),B.__setHalfDigit(ze,0|K/J),Y=0|K%J;z=Y.toString(d)}else{var X=u.__absoluteDivLarge(l,G,!0,!0);B=X.quotient;var Q=X.remainder.__trim();z=u.__toStringGeneric(Q,d,!0)}B.__trim();for(var et=u.__toStringGeneric(B,d,!0);z.length<H;)z="0"+z;return y===!1&&l.sign&&(et="-"+et),et+z}},{key:"__unequalSign",value:function(l){return l?-1:1}},{key:"__absoluteGreater",value:function(l){return l?-1:1}},{key:"__absoluteLess",value:function(l){return l?1:-1}},{key:"__compareToBigInt",value:function(l,d){var y=l.sign;if(y!==d.sign)return u.__unequalSign(y);var v=u.__absoluteCompare(l,d);return 0<v?u.__absoluteGreater(y):0>v?u.__absoluteLess(y):0}},{key:"__compareToNumber",value:function(l,d){if(u.__isOneDigitInt(d)){var y=l.sign,v=0>d;if(y!==v)return u.__unequalSign(y);if(l.length===0){if(v)throw new Error("implementation bug");return d===0?0:-1}if(1<l.length)return u.__absoluteGreater(y);var p=V(d),a=l.__unsignedDigit(0);return a>p?u.__absoluteGreater(y):a<p?u.__absoluteLess(y):0}return u.__compareToDouble(l,d)}},{key:"__compareToDouble",value:function(l,d){if(d!==d)return d;if(d===1/0)return-1;if(d===-1/0)return 1;var y=l.sign;if(y!==0>d)return u.__unequalSign(y);if(d===0)throw new Error("implementation bug: should be handled elsewhere");if(l.length===0)return-1;u.__kBitConversionDouble[0]=d;var v=2047&u.__kBitConversionInts[1]>>>20;if(v==2047)throw new Error("implementation bug: handled elsewhere");var p=v-1023;if(0>p)return u.__absoluteGreater(y);var a=l.length,g=l.__digit(a-1),P=u.__clz30(g),S=30*a-P,B=p+1;if(S<B)return u.__absoluteLess(y);if(S>B)return u.__absoluteGreater(y);var z=1048576|1048575&u.__kBitConversionInts[1],H=u.__kBitConversionInts[0],G=20,J=29-P;if(J!==(0|(S-1)%30))throw new Error("implementation bug");var K,Y=0;if(J<G){var ze=G-J;Y=ze+32,K=z>>>ze,z=z<<32-ze|H>>>ze,H<<=32-ze}else if(J===G)Y=32,K=z,z=H,H=0;else{var X=J-G;Y=32-X,K=z<<X|H>>>32-X,z=H<<X,H=0}if(g>>>=0,K>>>=0,g>K)return u.__absoluteGreater(y);if(g<K)return u.__absoluteLess(y);for(var Q=a-2;0<=Q;Q--){0<Y?(Y-=30,K=z>>>2,z=z<<30|H>>>2,H<<=30):K=0;var et=l.__unsignedDigit(Q);if(et>K)return u.__absoluteGreater(y);if(et<K)return u.__absoluteLess(y)}if(z!==0||H!==0){if(Y===0)throw new Error("implementation bug");return u.__absoluteLess(y)}return 0}},{key:"__equalToNumber",value:function(l,d){return u.__isOneDigitInt(d)?d===0?l.length===0:l.length===1&&l.sign===0>d&&l.__unsignedDigit(0)===V(d):u.__compareToDouble(l,d)===0}},{key:"__comparisonResultToBool",value:function(l,d){return d===0?0>l:d===1?0>=l:d===2?0<l:d===3?0<=l:void 0}},{key:"__compare",value:function(l,d,y){if(l=u.__toPrimitive(l),d=u.__toPrimitive(d),typeof l=="string"&&typeof d=="string")switch(y){case 0:return l<d;case 1:return l<=d;case 2:return l>d;case 3:return l>=d}if(u.__isBigInt(l)&&typeof d=="string")return d=u.__fromString(d),d!==null&&u.__comparisonResultToBool(u.__compareToBigInt(l,d),y);if(typeof l=="string"&&u.__isBigInt(d))return l=u.__fromString(l),l!==null&&u.__comparisonResultToBool(u.__compareToBigInt(l,d),y);if(l=u.__toNumeric(l),d=u.__toNumeric(d),u.__isBigInt(l)){if(u.__isBigInt(d))return u.__comparisonResultToBool(u.__compareToBigInt(l,d),y);if(typeof d!="number")throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(l,d),y)}if(typeof l!="number")throw new Error("implementation bug");if(u.__isBigInt(d))return u.__comparisonResultToBool(u.__compareToNumber(d,l),2^y);if(typeof d!="number")throw new Error("implementation bug");return y===0?l<d:y===1?l<=d:y===2?l>d:y===3?l>=d:void 0}},{key:"__absoluteAdd",value:function(l,d,y){if(l.length<d.length)return u.__absoluteAdd(d,l,y);if(l.length===0)return l;if(d.length===0)return l.sign===y?l:u.unaryMinus(l);var v=l.length;(l.__clzmsd()===0||d.length===l.length&&d.__clzmsd()===0)&&v++;for(var p,a=new u(v,y),g=0,P=0;P<d.length;P++)p=l.__digit(P)+d.__digit(P)+g,g=p>>>30,a.__setDigit(P,1073741823&p);for(;P<l.length;P++){var S=l.__digit(P)+g;g=S>>>30,a.__setDigit(P,1073741823&S)}return P<a.length&&a.__setDigit(P,g),a.__trim()}},{key:"__absoluteSub",value:function(l,d,y){if(l.length===0)return l;if(d.length===0)return l.sign===y?l:u.unaryMinus(l);for(var v,p=new u(l.length,y),a=0,g=0;g<d.length;g++)v=l.__digit(g)-d.__digit(g)-a,a=1&v>>>30,p.__setDigit(g,1073741823&v);for(;g<l.length;g++){var P=l.__digit(g)-a;a=1&P>>>30,p.__setDigit(g,1073741823&P)}return p.__trim()}},{key:"__absoluteAddOne",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=l.length;y===null?y=new u(v,d):y.sign=d;for(var p,a=1,g=0;g<v;g++)p=l.__digit(g)+a,a=p>>>30,y.__setDigit(g,1073741823&p);return a!==0&&y.__setDigitGrow(v,1),y}},{key:"__absoluteSubOne",value:function(l,d){var y=l.length;d=d||y;for(var v,p=new u(d,!1),a=1,g=0;g<y;g++)v=l.__digit(g)-a,a=1&v>>>30,p.__setDigit(g,1073741823&v);if(a!==0)throw new Error("implementation bug");for(var P=y;P<d;P++)p.__setDigit(P,0);return p}},{key:"__absoluteAnd",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=l.length,p=d.length,a=p;if(v<p){a=v;var g=l,P=v;l=d,v=p,d=g,p=P}var S=a;y===null?y=new u(S,!1):S=y.length;for(var B=0;B<a;B++)y.__setDigit(B,l.__digit(B)&d.__digit(B));for(;B<S;B++)y.__setDigit(B,0);return y}},{key:"__absoluteAndNot",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=l.length,p=d.length,a=p;v<p&&(a=v);var g=v;y===null?y=new u(g,!1):g=y.length;for(var P=0;P<a;P++)y.__setDigit(P,l.__digit(P)&~d.__digit(P));for(;P<v;P++)y.__setDigit(P,l.__digit(P));for(;P<g;P++)y.__setDigit(P,0);return y}},{key:"__absoluteOr",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=l.length,p=d.length,a=p;if(v<p){a=v;var g=l,P=v;l=d,v=p,d=g,p=P}var S=v;y===null?y=new u(S,!1):S=y.length;for(var B=0;B<a;B++)y.__setDigit(B,l.__digit(B)|d.__digit(B));for(;B<v;B++)y.__setDigit(B,l.__digit(B));for(;B<S;B++)y.__setDigit(B,0);return y}},{key:"__absoluteXor",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=l.length,p=d.length,a=p;if(v<p){a=v;var g=l,P=v;l=d,v=p,d=g,p=P}var S=v;y===null?y=new u(S,!1):S=y.length;for(var B=0;B<a;B++)y.__setDigit(B,l.__digit(B)^d.__digit(B));for(;B<v;B++)y.__setDigit(B,l.__digit(B));for(;B<S;B++)y.__setDigit(B,0);return y}},{key:"__absoluteCompare",value:function(l,d){var y=l.length-d.length;if(y!=0)return y;for(var v=l.length-1;0<=v&&l.__digit(v)===d.__digit(v);)v--;return 0>v?0:l.__unsignedDigit(v)>d.__unsignedDigit(v)?1:-1}},{key:"__multiplyAccumulate",value:function(l,d,y,v){if(d!==0){for(var p=32767&d,a=d>>>15,g=0,P=0,S=0;S<l.length;S++,v++){var B=y.__digit(v),z=l.__digit(S),H=32767&z,G=z>>>15,J=u.__imul(H,p),K=u.__imul(H,a),Y=u.__imul(G,p),ze=u.__imul(G,a);B+=P+J+g,g=B>>>30,B&=1073741823,B+=((32767&K)<<15)+((32767&Y)<<15),g+=B>>>30,P=ze+(K>>>15)+(Y>>>15),y.__setDigit(v,1073741823&B)}for(;g!==0||P!==0;v++){var X=y.__digit(v);X+=g+P,P=0,g=X>>>30,y.__setDigit(v,1073741823&X)}}}},{key:"__internalMultiplyAdd",value:function(l,d,y,v,p){for(var a=y,g=0,P=0;P<v;P++){var S=l.__digit(P),B=u.__imul(32767&S,d),z=u.__imul(S>>>15,d),H=B+((32767&z)<<15)+g+a;a=H>>>30,g=z>>>15,p.__setDigit(P,1073741823&H)}if(p.length>v)for(p.__setDigit(v++,a+g);v<p.length;)p.__setDigit(v++,0);else if(a+g!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(l,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;y===null&&(y=new u(l.length,!1));for(var v=0,p=2*l.length-1;0<=p;p-=2){var a=(v<<15|l.__halfDigit(p))>>>0,g=0|a/d;v=0|a%d,a=(v<<15|l.__halfDigit(p-1))>>>0;var P=0|a/d;v=0|a%d,y.__setDigit(p>>>1,g<<15|P)}return y}},{key:"__absoluteModSmall",value:function(l,d){for(var y,v=0,p=2*l.length-1;0<=p;p--)y=(v<<15|l.__halfDigit(p))>>>0,v=0|y%d;return v}},{key:"__absoluteDivLarge",value:function(l,d,y,v){var p=d.__halfDigitLength(),a=d.length,g=l.__halfDigitLength()-p,P=null;y&&(P=new u(g+2>>>1,!1),P.__initializeDigits());var S=new u(p+2>>>1,!1);S.__initializeDigits();var B=u.__clz15(d.__halfDigit(p-1));0<B&&(d=u.__specialLeftShift(d,B,0));for(var z=u.__specialLeftShift(l,B,1),H=d.__halfDigit(p-1),G=0,J=g;0<=J;J--){var K=32767,Y=z.__halfDigit(J+p);if(Y!==H){var ze=(Y<<15|z.__halfDigit(J+p-1))>>>0;K=0|ze/H;for(var X=0|ze%H,Q=d.__halfDigit(p-2),et=z.__halfDigit(J+p-2);u.__imul(K,Q)>>>0>(X<<16|et)>>>0&&(K--,X+=H,!(32767<X)););}u.__internalMultiplyAdd(d,K,0,a,S);var te=z.__inplaceSub(S,J,p+1);te!==0&&(te=z.__inplaceAdd(d,J,p),z.__setHalfDigit(J+p,32767&z.__halfDigit(J+p)+te),K--),y&&(1&J?G=K<<15:P.__setDigit(J>>>1,G|K))}if(v)return z.__inplaceRightShift(B),y?{quotient:P,remainder:z}:z;if(y)return P;throw new Error("unreachable")}},{key:"__clz15",value:function(l){return u.__clz30(l)-15}},{key:"__specialLeftShift",value:function(l,d,y){var v=l.length,p=new u(v+y,!1);if(d===0){for(var a=0;a<v;a++)p.__setDigit(a,l.__digit(a));return 0<y&&p.__setDigit(v,0),p}for(var g,P=0,S=0;S<v;S++)g=l.__digit(S),p.__setDigit(S,1073741823&g<<d|P),P=g>>>30-d;return 0<y&&p.__setDigit(v,P),p}},{key:"__leftShiftByAbsolute",value:function(l,d){var y=u.__toShiftAmount(d);if(0>y)throw new RangeError("BigInt too big");var v=0|y/30,p=y%30,a=l.length,g=p!==0&&l.__digit(a-1)>>>30-p!=0,P=a+v+(g?1:0),S=new u(P,l.sign);if(p===0){for(var B=0;B<v;B++)S.__setDigit(B,0);for(;B<P;B++)S.__setDigit(B,l.__digit(B-v))}else{for(var z=0,H=0;H<v;H++)S.__setDigit(H,0);for(var G,J=0;J<a;J++)G=l.__digit(J),S.__setDigit(J+v,1073741823&G<<p|z),z=G>>>30-p;if(g)S.__setDigit(a+v,z);else if(z!==0)throw new Error("implementation bug")}return S.__trim()}},{key:"__rightShiftByAbsolute",value:function(l,d){var y=l.length,v=l.sign,p=u.__toShiftAmount(d);if(0>p)return u.__rightShiftByMaximum(v);var a=0|p/30,g=p%30,P=y-a;if(0>=P)return u.__rightShiftByMaximum(v);var S=!1;if(v){if(l.__digit(a)&(1<<g)-1)S=!0;else for(var B=0;B<a;B++)if(l.__digit(B)!==0){S=!0;break}}if(S&&g===0){var z=l.__digit(y-1);!~z&&P++}var H=new u(P,v);if(g===0){H.__setDigit(P-1,0);for(var G=a;G<y;G++)H.__setDigit(G-a,l.__digit(G))}else{for(var J,K=l.__digit(a)>>>g,Y=y-a-1,ze=0;ze<Y;ze++)J=l.__digit(ze+a+1),H.__setDigit(ze,1073741823&J<<30-g|K),K=J>>>g;H.__setDigit(Y,K)}return S&&(H=u.__absoluteAddOne(H,!0,H)),H.__trim()}},{key:"__rightShiftByMaximum",value:function(l){return l?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(l){if(1<l.length)return-1;var d=l.__unsignedDigit(0);return d>u.__kMaxLengthBits?-1:d}},{key:"__toPrimitive",value:function(l){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(r(l)!=="object"||l.constructor===u)return l;if(typeof Symbol<"u"&&r(Symbol.toPrimitive)==="symbol"){var y=l[Symbol.toPrimitive];if(y){var v=y(d);if(r(v)!=="object")return v;throw new TypeError("Cannot convert object to primitive value")}}var p=l.valueOf;if(p){var a=p.call(l);if(r(a)!=="object")return a}var g=l.toString;if(g){var P=g.call(l);if(r(P)!=="object")return P}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(l){return u.__isBigInt(l)?l:+l}},{key:"__isBigInt",value:function(l){return r(l)==="object"&&l!==null&&l.constructor===u}},{key:"__truncateToNBits",value:function(l,d){for(var y=0|(l+29)/30,v=new u(y,d.sign),p=y-1,a=0;a<p;a++)v.__setDigit(a,d.__digit(a));var g=d.__digit(p);if(l%30!=0){var P=32-l%30;g=g<<P>>>P}return v.__setDigit(p,g),v.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(l,d,y){for(var v=Math.min,p,a=0|(l+29)/30,g=new u(a,y),P=0,S=a-1,B=0,z=v(S,d.length);P<z;P++)p=0-d.__digit(P)-B,B=1&p>>>30,g.__setDigit(P,1073741823&p);for(;P<S;P++)g.__setDigit(P,0|1073741823&-B);var H,G=S<d.length?d.__digit(S):0,J=l%30;if(J===0)H=0-G-B,H&=1073741823;else{var K=32-J;G=G<<K>>>K;var Y=1<<32-K;H=Y-G-B,H&=Y-1}return g.__setDigit(S,H),g.__trim()}},{key:"__digitPow",value:function(l,d){for(var y=1;0<d;)1&d&&(y*=l),d>>>=1,l*=l;return y}},{key:"__isOneDigitInt",value:function(l){return(1073741823&l)===l}}]),u}(x(Array));return F.__kMaxLength=33554432,F.__kMaxLengthBits=F.__kMaxLength<<5,F.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],F.__kBitsPerCharTableShift=5,F.__kBitsPerCharTableMultiplier=1<<F.__kBitsPerCharTableShift,F.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],F.__kBitConversionBuffer=new ArrayBuffer(8),F.__kBitConversionDouble=new Float64Array(F.__kBitConversionBuffer),F.__kBitConversionInts=new Int32Array(F.__kBitConversionBuffer),F.__clz30=e?function(N){return e(N)-2}:function(N){var V=Math.LN2,b=Math.log;return N===0?30:0|29-(0|b(N>>>0)/V)},F.__imul=t||function(N,V){return 0|N*V},F})});var xR=Z((BMe,MR)=>{E();var qV=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;MR.exports=qV});var ER=Z((CMe,SR)=>{E();var jV=xR(),NV=typeof self=="object"&&self&&self.Object===Object&&self,LV=jV||NV||Function("return this")();SR.exports=LV});var $3=Z((qMe,AR)=>{E();var zV=ER(),UV=zV.Symbol;AR.exports=UV});var kR=Z((NMe,PR)=>{E();var TR=$3(),RR=Object.prototype,FV=RR.hasOwnProperty,$V=RR.toString,kp=TR?TR.toStringTag:void 0;function WV(t){var e=FV.call(t,kp),r=t[kp];try{t[kp]=void 0;var i=!0}catch{}var n=$V.call(t);return i&&(e?t[kp]=r:delete t[kp]),n}PR.exports=WV});var BR=Z((zMe,IR)=>{E();var HV=Object.prototype,GV=HV.toString;function KV(t){return GV.call(t)}IR.exports=KV});var qR=Z((FMe,OR)=>{E();var DR=$3(),ZV=kR(),VV=BR(),YV="[object Null]",JV="[object Undefined]",CR=DR?DR.toStringTag:void 0;function XV(t){return t==null?t===void 0?JV:YV:CR&&CR in Object(t)?ZV(t):VV(t)}OR.exports=XV});var NR=Z((WMe,jR)=>{E();function QV(t,e){return function(r){return t(e(r))}}jR.exports=QV});var zR=Z((GMe,LR)=>{E();var eY=NR(),tY=eY(Object.getPrototypeOf,Object);LR.exports=tY});var FR=Z((ZMe,UR)=>{E();function rY(t){return t!=null&&typeof t=="object"}UR.exports=rY});var HR=Z((YMe,WR)=>{E();var iY=qR(),nY=zR(),oY=FR(),sY="[object Object]",aY=Function.prototype,fY=Object.prototype,$R=aY.toString,uY=fY.hasOwnProperty,lY=$R.call(Object);function dY(t){if(!oY(t)||iY(t)!=sY)return!1;var e=nY(t);if(e===null)return!0;var r=uY.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&$R.call(r)==lY}WR.exports=dY});var JR=Z((nxe,YR)=>{E();YR.exports=Ip;Ip.flatten=Ip;Ip.unflatten=VR;function KR(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function ZR(t){return t}function Ip(t,e){e=e||{};let r=e.delimiter||".",i=e.maxDepth,n=e.transformKey||ZR,s={};function f(c,m,w){w=w||1,Object.keys(c).forEach(function(_){let M=c[_],x=e.safe&&Array.isArray(M),T=Object.prototype.toString.call(M),A=KR(M),I=T==="[object Object]"||T==="[object Array]",D=m?m+r+n(_):n(_);if(!x&&!A&&I&&Object.keys(M).length&&(!e.maxDepth||w<i))return f(M,D,w+1);s[D]=M})}return f(t),s}function VR(t,e){e=e||{};let r=e.delimiter||".",i=e.overwrite||!1,n=e.transformKey||ZR,s={};if(KR(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function c(_){let M=Number(_);return isNaN(M)||_.indexOf(".")!==-1||e.object?_:M}function m(_,M,x){return Object.keys(x).reduce(function(T,A){return T[_+r+A]=x[A],T},M)}function w(_){let M=Object.prototype.toString.call(_),x=M==="[object Array]",T=M==="[object Object]";if(_){if(x)return!_.length;if(T)return!Object.keys(_).length}else return!0}return t=Object.keys(t).reduce(function(_,M){let x=Object.prototype.toString.call(t[M]);return!(x==="[object Object]"||x==="[object Array]")||w(t[M])?(_[M]=t[M],_):m(M,_,Ip(t[M],e))},{}),Object.keys(t).forEach(function(_){let M=_.split(r).map(n),x=c(M.shift()),T=c(M[0]),A=s;for(;T!==void 0;){if(x==="__proto__")return;let I=Object.prototype.toString.call(A[x]),D=I==="[object Object]"||I==="[object Array]";if(!i&&!D&&typeof A[x]<"u")return;(i&&!D||!i&&A[x]==null)&&(A[x]=typeof T=="number"&&!e.object?[]:{}),A=A[x],M.length>0&&(x=c(M.shift()),T=c(M[0]))}A[x]=VR(t[_],e)}),s}});var xi=Z((Jxe,mP)=>{"use strict";E();mP.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var pa=Z((Qxe,Q3)=>{"use strict";E();var zY=Wt(),UY=Object.getPrototypeOf(async function(){}).constructor,yP=globalThis.Blob||zY.Blob,FY=typeof yP<"u"?function(e){return e instanceof yP}:function(e){return!1},X3=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Q3.exports={AggregateError:X3,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((i,n)=>{t=i,e=n}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof UY},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:FY};Q3.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Ng=Z((t4e,jg)=>{"use strict";E();var{AbortController:gP,AbortSignal:$Y}=typeof self<"u"?self:typeof window<"u"?window:void 0;jg.exports=gP;jg.exports.AbortSignal=$Y;jg.exports.default=gP});var Fn=Z((i4e,wP)=>{"use strict";E();var{format:WY,inspect:Lg,AggregateError:HY}=pa(),GY=globalThis.AggregateError||HY,KY=Symbol("kIsNodeError"),ZY=["string","function","number","object","Function","Object","boolean","bigint","symbol"],VY=/^([A-Z][a-z0-9]*)+$/,YY="__node_internal_",zg={};function Bl(t,e){if(!t)throw new zg.ERR_INTERNAL_ASSERTION(e)}function vP(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function JY(t,e,r){if(typeof e=="function")return Bl(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return Bl(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:WY(e,...r)}function mn(t,e,r){r||(r=Error);class i extends r{constructor(...s){super(JY(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[KY]=!0,zg[t]=i}function bP(t){let e=YY+t.name;return Object.defineProperty(t,"name",{value:e}),t}function XY(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new GY([e,t],e.message);return r.code=e.code,r}return t||e}var e6=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new zg.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};mn("ERR_ASSERTION","%s",Error);mn("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Bl(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],s=[],f=[];for(let m of e)Bl(typeof m=="string","All expected entries have to be of type string"),ZY.includes(m)?n.push(m.toLowerCase()):VY.test(m)?s.push(m):(Bl(m!=="object",'The value "object" should be written as "Object"'),f.push(m));if(s.length>0){let m=n.indexOf("object");m!==-1&&(n.splice(n,m,1),s.push("Object"))}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let m=n.pop();i+=`one of type ${n.join(", ")}, or ${m}`}}(s.length>0||f.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let m=s.pop();i+=`an instance of ${s.join(", ")}, or ${m}`}}f.length>0&&(i+=" or ")}switch(f.length){case 0:break;case 1:f[0].toLowerCase()!==f[0]&&(i+="an "),i+=`${f[0]}`;break;case 2:i+=`one of ${f[0]} or ${f[1]}`;break;default:{let m=f.pop();i+=`one of ${f.join(", ")}, or ${m}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var c;if((c=r.constructor)!==null&&c!==void 0&&c.name)i+=`. Received an instance of ${r.constructor.name}`;else{let m=Lg(r,{depth:-1});i+=`. Received ${m}`}}else{let m=Lg(r,{colors:!1});m.length>25&&(m=`${m.slice(0,25)}...`),i+=`. Received type ${typeof r} (${m})`}return i},TypeError);mn("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=Lg(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);mn("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);mn("ERR_MISSING_ARGS",(...t)=>{Bl(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);mn("ERR_OUT_OF_RANGE",(t,e,r)=>{Bl(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=vP(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=vP(i)),i+="n"):i=Lg(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);mn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);mn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);mn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);mn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);mn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);mn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);mn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);mn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);mn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);mn("ERR_STREAM_WRITE_AFTER_END","write after end",Error);mn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);wP.exports={AbortError:e6,aggregateTwoErrors:bP(XY),hideStackFrames:bP,codes:zg}});var Dp=Z((o4e,PP)=>{"use strict";E();var{ArrayIsArray:r6,ArrayPrototypeIncludes:SP,ArrayPrototypeJoin:EP,ArrayPrototypeMap:QY,NumberIsInteger:i6,NumberIsNaN:eJ,NumberMAX_SAFE_INTEGER:tJ,NumberMIN_SAFE_INTEGER:rJ,NumberParseInt:iJ,ObjectPrototypeHasOwnProperty:nJ,RegExpPrototypeExec:AP,String:oJ,StringPrototypeToUpperCase:sJ,StringPrototypeTrim:aJ}=xi(),{hideStackFrames:qo,codes:{ERR_SOCKET_BAD_PORT:fJ,ERR_INVALID_ARG_TYPE:$n,ERR_INVALID_ARG_VALUE:tc,ERR_OUT_OF_RANGE:Dl,ERR_UNKNOWN_SIGNAL:_P}}=Fn(),{normalizeEncoding:uJ}=pa(),{isAsyncFunction:lJ,isArrayBufferView:dJ}=pa().types,MP={};function hJ(t){return t===(t|0)}function cJ(t){return t===t>>>0}var pJ=/^[0-7]+$/,mJ="must be a 32-bit unsigned integer or an octal string";function yJ(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(AP(pJ,t)===null)throw new tc(e,t,mJ);t=iJ(t,8)}return TP(t,e),t}var gJ=qo((t,e,r=rJ,i=tJ)=>{if(typeof t!="number")throw new $n(e,"number",t);if(!i6(t))throw new Dl(e,"an integer",t);if(t<r||t>i)throw new Dl(e,`>= ${r} && <= ${i}`,t)}),vJ=qo((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new $n(e,"number",t);if(!i6(t))throw new Dl(e,"an integer",t);if(t<r||t>i)throw new Dl(e,`>= ${r} && <= ${i}`,t)}),TP=qo((t,e,r=!1)=>{if(typeof t!="number")throw new $n(e,"number",t);if(!i6(t))throw new Dl(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new Dl(e,`>= ${i} && <= ${n}`,t)});function n6(t,e){if(typeof t!="string")throw new $n(e,"string",t)}function bJ(t,e,r=void 0,i){if(typeof t!="number")throw new $n(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&eJ(t))throw new Dl(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var wJ=qo((t,e,r)=>{if(!SP(r,t)){let n="must be one of: "+EP(QY(r,s=>typeof s=="string"?`'${s}'`:oJ(s)),", ");throw new tc(e,t,n)}});function RP(t,e){if(typeof t!="boolean")throw new $n(e,"boolean",t)}function t6(t,e,r){return t==null||!nJ(t,e)?r:t[e]}var _J=qo((t,e,r=null)=>{let i=t6(r,"allowArray",!1),n=t6(r,"allowFunction",!1);if(!t6(r,"nullable",!1)&&t===null||!i&&r6(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new $n(e,"Object",t)}),MJ=qo((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new $n(e,"a dictionary",t)}),o6=qo((t,e,r=0)=>{if(!r6(t))throw new $n(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new tc(e,t,i)}});function xJ(t,e){o6(t,e);for(let r=0;r<t.length;r++)n6(t[r],`${e}[${r}]`)}function SJ(t,e){o6(t,e);for(let r=0;r<t.length;r++)RP(t[r],`${e}[${r}]`)}function EJ(t,e="signal"){if(n6(t,e),MP[t]===void 0)throw MP[sJ(t)]!==void 0?new _P(t+" (signals must use all capital letters)"):new _P(t)}var AJ=qo((t,e="buffer")=>{if(!dJ(t))throw new $n(e,["Buffer","TypedArray","DataView"],t)});function TJ(t,e){let r=uJ(e),i=t.length;if(r==="hex"&&i%2!==0)throw new tc("encoding",e,`is invalid for data of length ${i}`)}function RJ(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&aJ(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new fJ(e,t,r);return t|0}var PJ=qo((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new $n(e,"AbortSignal",t)}),kJ=qo((t,e)=>{if(typeof t!="function")throw new $n(e,"Function",t)}),IJ=qo((t,e)=>{if(typeof t!="function"||lJ(t))throw new $n(e,"Function",t)}),BJ=qo((t,e)=>{if(t!==void 0)throw new $n(e,"undefined",t)});function DJ(t,e,r){if(!SP(r,t))throw new $n(e,`('${EP(r,"|")}')`,t)}var CJ=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function xP(t,e){if(typeof t>"u"||!AP(CJ,t))throw new tc(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function OJ(t){if(typeof t=="string")return xP(t,"hints"),t;if(r6(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];xP(n,"hints"),r+=n,i!==e-1&&(r+=", ")}return r}throw new tc("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}PP.exports={isInt32:hJ,isUint32:cJ,parseFileMode:yJ,validateArray:o6,validateStringArray:xJ,validateBooleanArray:SJ,validateBoolean:RP,validateBuffer:AJ,validateDictionary:MJ,validateEncoding:TJ,validateFunction:kJ,validateInt32:vJ,validateInteger:gJ,validateNumber:bJ,validateObject:_J,validateOneOf:wJ,validatePlainFunction:IJ,validatePort:RJ,validateSignalName:EJ,validateString:n6,validateUint32:TP,validateUndefined:BJ,validateUnion:DJ,validateAbortSignal:PJ,validateLinkHeaderValue:OJ}});var ya=Z((a4e,HP)=>{"use strict";E();var{Symbol:Ug,SymbolAsyncIterator:kP,SymbolIterator:IP,SymbolFor:BP}=xi(),DP=Ug("kDestroyed"),CP=Ug("kIsErrored"),s6=Ug("kIsReadable"),OP=Ug("kIsDisturbed"),qJ=BP("nodejs.webstream.isClosedPromise"),jJ=BP("nodejs.webstream.controllerErrorFunction");function Fg(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function $g(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function NJ(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ma(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function qP(t){return!!(t&&!ma(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function jP(t){return!!(t&&!ma(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function NP(t){return!!(t&&!ma(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function LJ(t){return qP(t)||jP(t)||NP(t)}function zJ(t,e){return t==null?!1:e===!0?typeof t[kP]=="function":e===!1?typeof t[IP]=="function":typeof t[kP]=="function"||typeof t[IP]=="function"}function Wg(t){if(!ma(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[DP]||i!=null&&i.destroyed)}function LP(t){if(!$g(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function UJ(t,e){if(!$g(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function FJ(t){if(!Fg(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function zP(t,e){if(!Fg(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function UP(t){return t&&t[s6]!=null?t[s6]:typeof t?.readable!="boolean"?null:Wg(t)?!1:Fg(t)&&t.readable&&!zP(t)}function FP(t){return typeof t?.writable!="boolean"?null:Wg(t)?!1:$g(t)&&t.writable&&!LP(t)}function $J(t,e){return ma(t)?Wg(t)?!0:!(e?.readable!==!1&&UP(t)||e?.writable!==!1&&FP(t)):null}function WJ(t){var e,r;return ma(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function HJ(t){var e,r;return ma(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function GJ(t){if(!ma(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&$P(t)?t._closed:null}function $P(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function WP(t){return typeof t._sent100=="boolean"&&$P(t)}function KJ(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function ZJ(t){if(!ma(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!i&&WP(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function VJ(t){var e;return!!(t&&((e=t[OP])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function YJ(t){var e,r,i,n,s,f,c,m,w,_;return!!(t&&((e=(r=(i=(n=(s=(f=t[CP])!==null&&f!==void 0?f:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&n!==void 0?n:(c=t._readableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&i!==void 0?i:(m=t._writableState)===null||m===void 0?void 0:m.errorEmitted)!==null&&r!==void 0?r:(w=t._readableState)===null||w===void 0?void 0:w.errored)!==null&&e!==void 0?e:!((_=t._writableState)===null||_===void 0)&&_.errored))}HP.exports={kDestroyed:DP,isDisturbed:VJ,kIsDisturbed:OP,isErrored:YJ,kIsErrored:CP,isReadable:UP,kIsReadable:s6,kIsClosedPromise:qJ,kControllerErrorFunction:jJ,isClosed:GJ,isDestroyed:Wg,isDuplexNodeStream:NJ,isFinished:$J,isIterable:zJ,isReadableNodeStream:Fg,isReadableStream:qP,isReadableEnded:FJ,isReadableFinished:zP,isReadableErrored:HJ,isNodeStream:ma,isWebStream:LJ,isWritable:FP,isWritableNodeStream:$g,isWritableStream:jP,isWritableEnded:LP,isWritableFinished:UJ,isWritableErrored:WJ,isServerRequest:KJ,isServerResponse:WP,willEmitClose:ZJ,isTransformStream:NP}});var cf=Z((u4e,d6)=>{E();var su=Fa(),{AbortError:ek,codes:JJ}=Fn(),{ERR_INVALID_ARG_TYPE:XJ,ERR_STREAM_PREMATURE_CLOSE:GP}=JJ,{kEmptyObject:f6,once:u6}=pa(),{validateAbortSignal:QJ,validateFunction:eX,validateObject:tX,validateBoolean:rX}=Dp(),{Promise:iX,PromisePrototypeThen:nX}=xi(),{isClosed:oX,isReadable:KP,isReadableNodeStream:a6,isReadableStream:sX,isReadableFinished:ZP,isReadableErrored:VP,isWritable:YP,isWritableNodeStream:JP,isWritableStream:aX,isWritableFinished:XP,isWritableErrored:QP,isNodeStream:fX,willEmitClose:uX,kIsClosedPromise:lX}=ya();function dX(t){return t.setHeader&&typeof t.abort=="function"}var l6=()=>{};function tk(t,e,r){var i,n;if(arguments.length===2?(r=e,e=f6):e==null?e=f6:tX(e,"options"),eX(r,"callback"),QJ(e.signal,"options.signal"),r=u6(r),sX(t)||aX(t))return hX(t,e,r);if(!fX(t))throw new XJ("stream",["ReadableStream","WritableStream","Stream"],t);let s=(i=e.readable)!==null&&i!==void 0?i:a6(t),f=(n=e.writable)!==null&&n!==void 0?n:JP(t),c=t._writableState,m=t._readableState,w=()=>{t.writable||x()},_=uX(t)&&a6(t)===s&&JP(t)===f,M=XP(t,!1),x=()=>{M=!0,t.destroyed&&(_=!1),!(_&&(!t.readable||s))&&(!s||T)&&r.call(t)},T=ZP(t,!1),A=()=>{T=!0,t.destroyed&&(_=!1),!(_&&(!t.writable||f))&&(!f||M)&&r.call(t)},I=$=>{r.call(t,$)},D=oX(t),k=()=>{D=!0;let $=QP(t)||VP(t);if($&&typeof $!="boolean")return r.call(t,$);if(s&&!T&&a6(t,!0)&&!ZP(t,!1))return r.call(t,new GP);if(f&&!M&&!XP(t,!1))return r.call(t,new GP);r.call(t)},C=()=>{D=!0;let $=QP(t)||VP(t);if($&&typeof $!="boolean")return r.call(t,$);r.call(t)},O=()=>{t.req.on("finish",x)};dX(t)?(t.on("complete",x),_||t.on("abort",k),t.req?O():t.on("request",O)):f&&!c&&(t.on("end",w),t.on("close",w)),!_&&typeof t.aborted=="boolean"&&t.on("aborted",k),t.on("end",A),t.on("finish",x),e.error!==!1&&t.on("error",I),t.on("close",k),D?su.nextTick(k):c!=null&&c.errorEmitted||m!=null&&m.errorEmitted?_||su.nextTick(C):(!s&&(!_||KP(t))&&(M||YP(t)===!1)||!f&&(!_||YP(t))&&(T||KP(t)===!1)||m&&t.req&&t.aborted)&&su.nextTick(C);let U=()=>{r=l6,t.removeListener("aborted",k),t.removeListener("complete",x),t.removeListener("abort",k),t.removeListener("request",O),t.req&&t.req.removeListener("finish",x),t.removeListener("end",w),t.removeListener("close",w),t.removeListener("finish",x),t.removeListener("end",A),t.removeListener("error",I),t.removeListener("close",k)};if(e.signal&&!D){let $=()=>{let W=r;U(),W.call(t,new ek(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)su.nextTick($);else{let W=r;r=u6((...F)=>{e.signal.removeEventListener("abort",$),W.apply(t,F)}),e.signal.addEventListener("abort",$)}}return U}function hX(t,e,r){let i=!1,n=l6;if(e.signal)if(n=()=>{i=!0,r.call(t,new ek(void 0,{cause:e.signal.reason}))},e.signal.aborted)su.nextTick(n);else{let f=r;r=u6((...c)=>{e.signal.removeEventListener("abort",n),f.apply(t,c)}),e.signal.addEventListener("abort",n)}let s=(...f)=>{i||su.nextTick(()=>r.apply(t,f))};return nX(t[lX].promise,s,s),l6}function cX(t,e){var r;let i=!1;return e===null&&(e=f6),(r=e)!==null&&r!==void 0&&r.cleanup&&(rX(e.cleanup,"cleanup"),i=e.cleanup),new iX((n,s)=>{let f=tk(t,e,c=>{i&&f(),c?s(c):n()})})}d6.exports=tk;d6.exports.finished=cX});var Cl=Z((d4e,uk)=>{"use strict";E();var ga=Fa(),{aggregateTwoErrors:pX,codes:{ERR_MULTIPLE_CALLBACK:mX},AbortError:yX}=Fn(),{Symbol:nk}=xi(),{kDestroyed:gX,isDestroyed:vX,isFinished:bX,isServerRequest:wX}=ya(),ok=nk("kDestroy"),h6=nk("kConstruct");function sk(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function _X(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(sk(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?rk(this,t,e):this.once(ok,function(s){rk(this,pX(s,t),e)}),this)}function rk(t,e,r){let i=!1;function n(s){if(i)return;i=!0;let f=t._readableState,c=t._writableState;sk(s,c,f),c&&(c.closed=!0),f&&(f.closed=!0),typeof r=="function"&&r(s),s?ga.nextTick(MX,t,s):ga.nextTick(ak,t)}try{t._destroy(e||null,n)}catch(s){n(s)}}function MX(t,e){c6(t,e),ak(t)}function ak(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function c6(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function xX(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function p6(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?ga.nextTick(c6,t,e):c6(t,e))}function SX(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(h6,e),!(t.listenerCount(h6)>1)&&ga.nextTick(EX,t)}function EX(t){let e=!1;function r(i){if(e){p6(t,i??new mX);return}e=!0;let n=t._readableState,s=t._writableState,f=s||n;n&&(n.constructed=!0),s&&(s.constructed=!0),f.destroyed?t.emit(ok,i):i?p6(t,i,!0):ga.nextTick(AX,t)}try{t._construct(i=>{ga.nextTick(r,i)})}catch(i){ga.nextTick(r,i)}}function AX(t){t.emit(h6)}function ik(t){return t?.setHeader&&typeof t.abort=="function"}function fk(t){t.emit("close")}function TX(t,e){t.emit("error",e),ga.nextTick(fk,t)}function RX(t,e){!t||vX(t)||(!e&&!bX(t)&&(e=new yX),wX(t)?(t.socket=null,t.destroy(e)):ik(t)?t.abort():ik(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ga.nextTick(TX,t,e):ga.nextTick(fk,t),t.destroyed||(t[gX]=!0))}uk.exports={construct:SX,destroyer:RX,destroy:_X,undestroy:xX,errorOrDestroy:p6}});var _s=Z((c4e,m6)=>{"use strict";E();var rc=typeof Reflect=="object"?Reflect:null,lk=rc&&typeof rc.apply=="function"?rc.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},Hg;rc&&typeof rc.ownKeys=="function"?Hg=rc.ownKeys:Object.getOwnPropertySymbols?Hg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Hg=function(e){return Object.getOwnPropertyNames(e)};function PX(t){console&&console.warn&&console.warn(t)}var hk=Number.isNaN||function(e){return e!==e};function ir(){ir.init.call(this)}m6.exports=ir;m6.exports.once=DX;ir.EventEmitter=ir;ir.prototype._events=void 0;ir.prototype._eventsCount=0;ir.prototype._maxListeners=void 0;var dk=10;function Gg(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ir,"defaultMaxListeners",{enumerable:!0,get:function(){return dk},set:function(t){if(typeof t!="number"||t<0||hk(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");dk=t}});ir.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ir.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||hk(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ck(t){return t._maxListeners===void 0?ir.defaultMaxListeners:t._maxListeners}ir.prototype.getMaxListeners=function(){return ck(this)};ir.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var f;if(r.length>0&&(f=r[0]),f instanceof Error)throw f;var c=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw c.context=f,c}var m=s[e];if(m===void 0)return!1;if(typeof m=="function")lk(m,this,r);else for(var w=m.length,_=vk(m,w),i=0;i<w;++i)lk(_[i],this,r);return!0};function pk(t,e,r,i){var n,s,f;if(Gg(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),f=s[e]),f===void 0)f=s[e]=r,++t._eventsCount;else if(typeof f=="function"?f=s[e]=i?[r,f]:[f,r]:i?f.unshift(r):f.push(r),n=ck(t),n>0&&f.length>n&&!f.warned){f.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=f.length,PX(c)}return t}ir.prototype.addListener=function(e,r){return pk(this,e,r,!1)};ir.prototype.on=ir.prototype.addListener;ir.prototype.prependListener=function(e,r){return pk(this,e,r,!0)};function kX(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function mk(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=kX.bind(i);return n.listener=r,i.wrapFn=n,n}ir.prototype.once=function(e,r){return Gg(r),this.on(e,mk(this,e,r)),this};ir.prototype.prependOnceListener=function(e,r){return Gg(r),this.prependListener(e,mk(this,e,r)),this};ir.prototype.removeListener=function(e,r){var i,n,s,f,c;if(Gg(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(s=-1,f=i.length-1;f>=0;f--)if(i[f]===r||i[f].listener===r){c=i[f].listener,s=f;break}if(s<0)return this;s===0?i.shift():IX(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this};ir.prototype.off=ir.prototype.removeListener;ir.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),f;for(n=0;n<s.length;++n)f=s[n],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function yk(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?BX(n):vk(n,n.length)}ir.prototype.listeners=function(e){return yk(this,e,!0)};ir.prototype.rawListeners=function(e){return yk(this,e,!1)};ir.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):gk.call(t,e)};ir.prototype.listenerCount=gk;function gk(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ir.prototype.eventNames=function(){return this._eventsCount>0?Hg(this._events):[]};function vk(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function IX(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function BX(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function DX(t,e){return new Promise(function(r,i){function n(f){t.removeListener(e,s),i(f)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}bk(t,e,s,{once:!0}),e!=="error"&&CX(t,n,{once:!0})})}function CX(t,e,r){typeof t.on=="function"&&bk(t,"error",e,r)}function bk(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(s){i.once&&t.removeEventListener(e,n),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var Vg=Z((m4e,_k)=>{"use strict";E();var{ArrayIsArray:OX,ObjectSetPrototypeOf:wk}=xi(),{EventEmitter:Kg}=_s();function Zg(t){Kg.call(this,t)}wk(Zg.prototype,Kg.prototype);wk(Zg,Kg);Zg.prototype.pipe=function(t,e){let r=this;function i(_){t.writable&&t.write(_)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",f),r.on("close",c));let s=!1;function f(){s||(s=!0,t.end())}function c(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function m(_){w(),Kg.listenerCount(this,"error")===0&&this.emit("error",_)}y6(r,"error",m),y6(t,"error",m);function w(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",f),r.removeListener("close",c),r.removeListener("error",m),t.removeListener("error",m),r.removeListener("end",w),r.removeListener("close",w),t.removeListener("close",w)}return r.on("end",w),r.on("close",w),t.on("close",w),t.emit("pipe",r),t};function y6(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):OX(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}_k.exports={Stream:Zg,prependListener:y6}});var Cp=Z((g4e,Yg)=>{"use strict";E();var{AbortError:Mk,codes:qX}=Fn(),{isNodeStream:xk,isWebStream:jX,kControllerErrorFunction:NX}=ya(),LX=cf(),{ERR_INVALID_ARG_TYPE:Sk}=qX,zX=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new Sk(e,"AbortSignal",t)};Yg.exports.addAbortSignal=function(e,r){if(zX(e,"signal"),!xk(r)&&!jX(r))throw new Sk("stream",["ReadableStream","WritableStream","Stream"],r);return Yg.exports.addAbortSignalNoValidate(e,r)};Yg.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=xk(e)?()=>{e.destroy(new Mk(void 0,{cause:t.reason}))}:()=>{e[NX](new Mk(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),LX(e,()=>t.removeEventListener("abort",r))),e}});var Tk=Z((w4e,Ak)=>{"use strict";E();var{StringPrototypeSlice:Ek,SymbolIterator:UX,TypedArrayPrototypeSet:Jg,Uint8Array:FX}=xi(),{Buffer:g6}=Wt(),{inspect:$X}=pa();Ak.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return g6.alloc(0);let r=g6.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)Jg(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[UX](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,n=0;do{let s=i.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=Ek(s,0,e),this.head=i,i.data=Ek(s,e));break}++n}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=g6.allocUnsafe(e),i=e,n=this.head,s=0;do{let f=n.data;if(e>f.length)Jg(r,f,i-e),e-=f.length;else{e===f.length?(Jg(r,f,i-e),++s,n.next?this.head=n.next:this.head=this.tail=null):(Jg(r,new FX(f.buffer,f.byteOffset,e),i-e),this.head=n,n.data=f.slice(e));break}++s}while((n=n.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return $X(this,{...r,depth:0,customInspect:!1})}}});var Xg=Z((M4e,Pk)=>{"use strict";E();var{MathFloor:WX,NumberIsInteger:HX}=xi(),{ERR_INVALID_ARG_VALUE:GX}=Fn().codes;function KX(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Rk(t){return t?16:16*1024}function ZX(t,e,r,i){let n=KX(e,i,r);if(n!=null){if(!HX(n)||n<0){let s=i?`options.${r}`:"options.highWaterMark";throw new GX(s,n)}return WX(n)}return Rk(t.objectMode)}Pk.exports={getHighWaterMark:ZX,getDefaultHighWaterMark:Rk}});var Bk=Z((v6,Ik)=>{E();var Qg=Wt(),va=Qg.Buffer;function kk(t,e){for(var r in t)e[r]=t[r]}va.from&&va.alloc&&va.allocUnsafe&&va.allocUnsafeSlow?Ik.exports=Qg:(kk(Qg,v6),v6.Buffer=Ol);function Ol(t,e,r){return va(t,e,r)}Ol.prototype=Object.create(va.prototype);kk(va,Ol);Ol.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return va(t,e,r)};Ol.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=va(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Ol.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return va(t)};Ol.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Qg.SlowBuffer(t)}});var pf=Z(Ck=>{"use strict";E();var w6=Bk().Buffer,Dk=w6.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function VX(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function YX(t){var e=VX(t);if(typeof e!="string"&&(w6.isEncoding===Dk||!Dk(t)))throw new Error("Unknown encoding: "+t);return e||t}Ck.StringDecoder=Op;function Op(t){this.encoding=YX(t);var e;switch(this.encoding){case"utf16le":this.text=rQ,this.end=iQ,e=4;break;case"utf8":this.fillLast=QX,e=4;break;case"base64":this.text=nQ,this.end=oQ,e=3;break;default:this.write=sQ,this.end=aQ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=w6.allocUnsafe(e)}Op.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Op.prototype.end=tQ;Op.prototype.text=eQ;Op.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function b6(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function JX(t,e,r){var i=e.length-1;if(i<r)return 0;var n=b6(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=b6(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=b6(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function XX(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function QX(t){var e=this.lastTotal-this.lastNeed,r=XX(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function eQ(t,e){var r=JX(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function tQ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function rQ(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function iQ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function nQ(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function oQ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function sQ(t){return t.toString(this.encoding)}function aQ(t){return t&&t.length?this.write(t):""}});var _6=Z((T4e,Nk)=>{"use strict";E();var Ok=Fa(),{PromisePrototypeThen:fQ,SymbolAsyncIterator:qk,SymbolIterator:jk}=xi(),{Buffer:uQ}=Wt(),{ERR_INVALID_ARG_TYPE:lQ,ERR_STREAM_NULL_VALUES:dQ}=Fn().codes;function hQ(t,e,r){let i;if(typeof e=="string"||e instanceof uQ)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let n;if(e&&e[qk])n=!0,i=e[qk]();else if(e&&e[jk])n=!1,i=e[jk]();else throw new lQ("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),f=!1;s._read=function(){f||(f=!0,m())},s._destroy=function(w,_){fQ(c(w),()=>Ok.nextTick(_,w),M=>Ok.nextTick(_,M||w))};async function c(w){let _=w!=null,M=typeof i.throw=="function";if(_&&M){let{value:x,done:T}=await i.throw(w);if(await x,T)return}if(typeof i.return=="function"){let{value:x}=await i.return();await x}}async function m(){for(;;){try{let{value:w,done:_}=n?await i.next():i.next();if(_)s.push(null);else{let M=w&&typeof w.then=="function"?await w:w;if(M===null)throw f=!1,new dQ;if(s.push(M))continue;f=!1}}catch(w){s.destroy(w)}break}}return s}Nk.exports=hQ});var qp=Z((P4e,Jk)=>{E();var Ms=Fa(),{ArrayPrototypeIndexOf:cQ,NumberIsInteger:pQ,NumberIsNaN:mQ,NumberParseInt:yQ,ObjectDefineProperties:Uk,ObjectKeys:gQ,ObjectSetPrototypeOf:Fk,Promise:vQ,SafeSet:bQ,SymbolAsyncIterator:wQ,Symbol:_Q}=xi();Jk.exports=bt;bt.ReadableState=T6;var{EventEmitter:MQ}=_s(),{Stream:au,prependListener:xQ}=Vg(),{Buffer:M6}=Wt(),{addAbortSignal:SQ}=Cp(),EQ=cf(),It=pa().debuglog("stream",t=>{It=t}),AQ=Tk(),nc=Cl(),{getHighWaterMark:TQ,getDefaultHighWaterMark:RQ}=Xg(),{aggregateTwoErrors:Lk,codes:{ERR_INVALID_ARG_TYPE:PQ,ERR_METHOD_NOT_IMPLEMENTED:kQ,ERR_OUT_OF_RANGE:IQ,ERR_STREAM_PUSH_AFTER_EOF:BQ,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:DQ}}=Fn(),{validateObject:CQ}=Dp(),ql=_Q("kPaused"),{StringDecoder:$k}=pf(),OQ=_6();Fk(bt.prototype,au.prototype);Fk(bt,au);var x6=()=>{},{errorOrDestroy:ic}=nc;function T6(t,e,r){typeof r!="boolean"&&(r=e instanceof ba()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?TQ(this,t,"readableHighWaterMark",r):RQ(!1),this.buffer=new AQ,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ql]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new $k(t.encoding),this.encoding=t.encoding)}function bt(t){if(!(this instanceof bt))return new bt(t);let e=this instanceof ba();this._readableState=new T6(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&SQ(t.signal,this)),au.call(this,t),nc.construct(this,()=>{this._readableState.needReadable&&ev(this,this._readableState)})}bt.prototype.destroy=nc.destroy;bt.prototype._undestroy=nc.undestroy;bt.prototype._destroy=function(t,e){e(t)};bt.prototype[MQ.captureRejectionSymbol]=function(t){this.destroy(t)};bt.prototype.push=function(t,e){return Wk(this,t,e,!1)};bt.prototype.unshift=function(t,e){return Wk(this,t,e,!0)};function Wk(t,e,r,i){It("readableAddChunk",e);let n=t._readableState,s;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=M6.from(e,r).toString(n.encoding):(e=M6.from(e,r),r=""))):e instanceof M6?r="":au._isUint8Array(e)?(e=au._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new PQ("chunk",["string","Buffer","Uint8Array"],e))),s)ic(t,s);else if(e===null)n.reading=!1,NQ(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)ic(t,new DQ);else{if(n.destroyed||n.errored)return!1;S6(t,n,e,!0)}else if(n.ended)ic(t,new BQ);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?S6(t,n,e,!1):ev(t,n)):S6(t,n,e,!1)}else i||(n.reading=!1,ev(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function S6(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&tv(t)),ev(t,e)}bt.prototype.isPaused=function(){let t=this._readableState;return t[ql]===!0||t.flowing===!1};bt.prototype.setEncoding=function(t){let e=new $k(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var qQ=1073741824;function jQ(t){if(t>qQ)throw new IQ("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function zk(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:mQ(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}bt.prototype.read=function(t){It("read",t),t===void 0?t=NaN:pQ(t)||(t=yQ(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=jQ(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return It("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?E6(this):tv(this),null;if(t=zk(t,e),t===0&&e.ended)return e.length===0&&E6(this),null;let i=e.needReadable;if(It("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,It("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,It("reading, ended or constructing",i);else if(i){It("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(s){ic(this,s)}e.sync=!1,e.reading||(t=zk(r,e))}let n;return t>0?n=Vk(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&E6(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function NQ(t,e){if(It("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?tv(t):(e.needReadable=!1,e.emittedReadable=!0,Hk(t))}}function tv(t){let e=t._readableState;It("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(It("emitReadable",e.flowing),e.emittedReadable=!0,Ms.nextTick(Hk,t))}function Hk(t){let e=t._readableState;It("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Kk(t)}function ev(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Ms.nextTick(LQ,t,e))}function LQ(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(It("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}bt.prototype._read=function(t){throw new kQ("_read()")};bt.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new bQ(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),It("pipe count=%d opts=%j",i.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Ms.stdout&&t!==Ms.stderr?c:D;i.endEmitted?Ms.nextTick(s):r.once("end",s),t.on("unpipe",f);function f(k,C){It("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,_())}function c(){It("onend"),t.end()}let m,w=!1;function _(){It("cleanup"),t.removeListener("close",A),t.removeListener("finish",I),m&&t.removeListener("drain",m),t.removeListener("error",T),t.removeListener("unpipe",f),r.removeListener("end",c),r.removeListener("end",D),r.removeListener("data",x),w=!0,m&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&m()}function M(){w||(i.pipes.length===1&&i.pipes[0]===t?(It("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(It("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),m||(m=zQ(r,t),t.on("drain",m))}r.on("data",x);function x(k){It("ondata");let C=t.write(k);It("dest.write",C),C===!1&&M()}function T(k){if(It("onerror",k),D(),t.removeListener("error",T),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?ic(t,k):t.emit("error",k)}}xQ(t,"error",T);function A(){t.removeListener("finish",I),D()}t.once("close",A);function I(){It("onfinish"),t.removeListener("close",A),D()}t.once("finish",I);function D(){It("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&M():i.flowing||(It("pipe resume"),r.resume()),t};function zQ(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(It("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(It("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}bt.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let s=0;s<n.length;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}let i=cQ(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};bt.prototype.on=function(t,e){let r=au.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,It("on readable",i.length,i.reading),i.length?tv(this):i.reading||Ms.nextTick(UQ,this)),r};bt.prototype.addListener=bt.prototype.on;bt.prototype.removeListener=function(t,e){let r=au.prototype.removeListener.call(this,t,e);return t==="readable"&&Ms.nextTick(Gk,this),r};bt.prototype.off=bt.prototype.removeListener;bt.prototype.removeAllListeners=function(t){let e=au.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Ms.nextTick(Gk,this),e};function Gk(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[ql]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function UQ(t){It("readable nexttick read 0"),t.read(0)}bt.prototype.resume=function(){let t=this._readableState;return t.flowing||(It("resume"),t.flowing=!t.readableListening,FQ(this,t)),t[ql]=!1,this};function FQ(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ms.nextTick($Q,t,e))}function $Q(t,e){It("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Kk(t),e.flowing&&!e.reading&&t.read(0)}bt.prototype.pause=function(){return It("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(It("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ql]=!0,this};function Kk(t){let e=t._readableState;for(It("flow",e.flowing);e.flowing&&t.read()!==null;);}bt.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",i=>{ic(this,i)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=gQ(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};bt.prototype[wQ]=function(){return Zk(this)};bt.prototype.iterator=function(t){return t!==void 0&&CQ(t,"options"),Zk(this,t)};function Zk(t,e){typeof t.read!="function"&&(t=bt.wrap(t,{objectMode:!0}));let r=WQ(t,e);return r.stream=t,r}async function*WQ(t,e){let r=x6;function i(f){this===t?(r(),r=x6):r=f}t.on("readable",i);let n,s=EQ(t,{writable:!1},f=>{n=f?Lk(n,f):null,r(),r=x6});try{for(;;){let f=t.destroyed?null:t.read();if(f!==null)yield f;else{if(n)throw n;if(n===null)return;await new vQ(i)}}}catch(f){throw n=Lk(n,f),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?nc.destroyer(t,null):(t.off("readable",i),s())}}Uk(bt.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Uk(T6.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ql]!==!1},set(t){this[ql]=!!t}}});bt._fromList=Vk;function Vk(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function E6(t){let e=t._readableState;It("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Ms.nextTick(HQ,e,t))}function HQ(t,e){if(It("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Ms.nextTick(GQ,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function GQ(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}bt.from=function(t,e){return OQ(bt,t,e)};var A6;function Yk(){return A6===void 0&&(A6={}),A6}bt.fromWeb=function(t,e){return Yk().newStreamReadableFromReadableStream(t,e)};bt.toWeb=function(t,e){return Yk().newReadableStreamFromStreamReadable(t,e)};bt.wrap=function(t,e){var r,i;return new bt({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,s){nc.destroyer(t,n),s(n)}}).wrap(t)}});var C6=Z((I4e,uI)=>{E();var jl=Fa(),{ArrayPrototypeSlice:eI,Error:KQ,FunctionPrototypeSymbolHasInstance:tI,ObjectDefineProperty:rI,ObjectDefineProperties:ZQ,ObjectSetPrototypeOf:iI,StringPrototypeToLowerCase:VQ,Symbol:YQ,SymbolHasInstance:JQ}=xi();uI.exports=$r;$r.WritableState=Lp;var{EventEmitter:XQ}=_s(),jp=Vg().Stream,{Buffer:rv}=Wt(),ov=Cl(),{addAbortSignal:QQ}=Cp(),{getHighWaterMark:eee,getDefaultHighWaterMark:tee}=Xg(),{ERR_INVALID_ARG_TYPE:ree,ERR_METHOD_NOT_IMPLEMENTED:iee,ERR_MULTIPLE_CALLBACK:nI,ERR_STREAM_CANNOT_PIPE:nee,ERR_STREAM_DESTROYED:Np,ERR_STREAM_ALREADY_FINISHED:oee,ERR_STREAM_NULL_VALUES:see,ERR_STREAM_WRITE_AFTER_END:aee,ERR_UNKNOWN_ENCODING:oI}=Fn().codes,{errorOrDestroy:oc}=ov;iI($r.prototype,jp.prototype);iI($r,jp);function k6(){}var sc=YQ("kOnFinished");function Lp(t,e,r){typeof r!="boolean"&&(r=e instanceof ba()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?eee(this,t,"writableHighWaterMark",r):tee(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=uee.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,nv(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[sc]=[]}function nv(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Lp.prototype.getBuffer=function(){return eI(this.buffered,this.bufferedIndex)};rI(Lp.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function $r(t){let e=this instanceof ba();if(!e&&!tI($r,this))return new $r(t);this._writableState=new Lp(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&QQ(t.signal,this)),jp.call(this,t),ov.construct(this,()=>{let r=this._writableState;r.writing||B6(this,r),D6(this,r)})}rI($r,JQ,{__proto__:null,value:function(t){return tI(this,t)?!0:this!==$r?!1:t&&t._writableState instanceof Lp}});$r.prototype.pipe=function(){oc(this,new nee)};function sI(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!rv.isEncoding(r))throw new oI(r);typeof i!="function"&&(i=k6)}if(e===null)throw new see;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=rv.from(e,r),r="buffer");else if(e instanceof rv)r="buffer";else if(jp._isUint8Array(e))e=jp._uint8ArrayToBuffer(e),r="buffer";else throw new ree("chunk",["string","Buffer","Uint8Array"],e);let s;return n.ending?s=new aee:n.destroyed&&(s=new Np("write")),s?(jl.nextTick(i,s),oc(t,s,!0),s):(n.pendingcb++,fee(t,n,e,r,i))}$r.prototype.write=function(t,e,r){return sI(this,t,e,r)===!0};$r.prototype.cork=function(){this._writableState.corked++};$r.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||B6(this,t))};$r.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=VQ(e)),!rv.isEncoding(e))throw new oI(e);return this._writableState.defaultEncoding=e,this};function fee(t,e,r,i,n){let s=e.objectMode?1:r.length;e.length+=s;let f=e.length<e.highWaterMark;return f||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==k6&&(e.allNoop=!1)):(e.writelen=s,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),f&&!e.errored&&!e.destroyed}function Xk(t,e,r,i,n,s,f){e.writelen=i,e.writecb=f,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Np("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function Qk(t,e,r,i){--e.pendingcb,i(r),I6(e),oc(t,r)}function uee(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){oc(t,new nI);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?jl.nextTick(Qk,t,r,e,n):Qk(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&B6(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},jl.nextTick(lee,r.afterWriteTickInfo)):aI(t,r,1,n))}function lee({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,aI(t,e,r,i)}function aI(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&I6(e),D6(t,e)}function I6(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:s,callback:f}=t.buffered[n],c=t.objectMode?1:s.length;t.length-=c,f((e=t.errored)!==null&&e!==void 0?e:new Np("write"))}let r=t[sc].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new Np("end"))}nv(t)}function B6(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,s=r.length-i;if(!s)return;let f=i;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let c=e.allNoop?k6:w=>{for(let _=f;_<r.length;++_)r[_].callback(w)},m=e.allNoop&&f===0?r:eI(r,f);m.allBuffers=e.allBuffers,Xk(t,e,!0,e.length,m,"",c),nv(e)}else{do{let{chunk:c,encoding:m,callback:w}=r[f];r[f++]=null;let _=n?1:c.length;Xk(t,e,!1,_,c,m,w)}while(f<r.length&&!e.writing);f===r.length?nv(e):f>256?(r.splice(0,f),e.bufferedIndex=0):e.bufferedIndex=f}e.bufferProcessing=!1}$r.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new iee("_write()")};$r.prototype._writev=null;$r.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let s=sI(this,t,e);s instanceof KQ&&(n=s)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,D6(this,i,!0),i.ended=!0):i.finished?n=new oee("end"):i.destroyed&&(n=new Np("end"))),typeof r=="function"&&(n||i.finished?jl.nextTick(r,n):i[sc].push(r)),this};function iv(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function dee(t,e){let r=!1;function i(n){if(r){oc(t,n??nI());return}if(r=!0,e.pendingcb--,n){let s=e[sc].splice(0);for(let f=0;f<s.length;f++)s[f](n);oc(t,n,e.sync)}else iv(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,jl.nextTick(P6,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(n){i(n)}e.sync=!1}function hee(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,dee(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function D6(t,e,r){iv(e)&&(hee(t,e),e.pendingcb===0&&(r?(e.pendingcb++,jl.nextTick((i,n)=>{iv(n)?P6(i,n):n.pendingcb--},t,e)):iv(e)&&(e.pendingcb++,P6(t,e))))}function P6(t,e){e.pendingcb--,e.finished=!0;let r=e[sc].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy()}}ZQ($r.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var cee=ov.destroy;$r.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[sc].length)&&jl.nextTick(I6,r),cee.call(this,t,e),this};$r.prototype._undestroy=ov.undestroy;$r.prototype._destroy=function(t,e){e(t)};$r.prototype[XQ.captureRejectionSymbol]=function(t){this.destroy(t)};var R6;function fI(){return R6===void 0&&(R6={}),R6}$r.fromWeb=function(t,e){return fI().newStreamWritableFromWritableStream(t,e)};$r.toWeb=function(t){return fI().newWritableStreamFromStreamWritable(t)}});var _I=Z((D4e,wI)=>{E();var O6=Fa(),pee=Wt(),{isReadable:mee,isWritable:yee,isIterable:lI,isNodeStream:gee,isReadableNodeStream:dI,isWritableNodeStream:hI,isDuplexNodeStream:vee}=ya(),cI=cf(),{AbortError:bI,codes:{ERR_INVALID_ARG_TYPE:bee,ERR_INVALID_RETURN_VALUE:pI}}=Fn(),{destroyer:ac}=Cl(),wee=ba(),_ee=qp(),{createDeferredPromise:mI}=pa(),yI=_6(),gI=globalThis.Blob||pee.Blob,Mee=typeof gI<"u"?function(e){return e instanceof gI}:function(e){return!1},xee=globalThis.AbortController||Ng().AbortController,{FunctionPrototypeCall:vI}=xi(),Nl=class extends wee{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};wI.exports=function t(e,r){if(vee(e))return e;if(dI(e))return sv({readable:e});if(hI(e))return sv({writable:e});if(gee(e))return sv({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:s,final:f,destroy:c}=See(e);if(lI(n))return yI(Nl,n,{objectMode:!0,write:s,final:f,destroy:c});let m=n?.then;if(typeof m=="function"){let w,_=vI(m,n,M=>{if(M!=null)throw new pI("nully","body",M)},M=>{ac(w,M)});return w=new Nl({objectMode:!0,readable:!1,write:s,final(M){f(async()=>{try{await _,O6.nextTick(M,null)}catch(x){O6.nextTick(M,x)}})},destroy:c})}throw new pI("Iterable, AsyncIterable or AsyncFunction",r,n)}if(Mee(e))return t(e.arrayBuffer());if(lI(e))return yI(Nl,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?dI(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?hI(e?.writable)?e?.writable:t(e.writable):void 0;return sv({readable:n,writable:s})}let i=e?.then;if(typeof i=="function"){let n;return vI(i,e,s=>{s!=null&&n.push(s),n.push(null)},s=>{ac(n,s)}),n=new Nl({objectMode:!0,writable:!1,read(){}})}throw new bee(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function See(t){let{promise:e,resolve:r}=mI(),i=new xee,n=i.signal;return{value:t(async function*(){for(;;){let f=e;e=null;let{chunk:c,done:m,cb:w}=await f;if(O6.nextTick(w),m)return;if(n.aborted)throw new bI(void 0,{cause:n.reason});({promise:e,resolve:r}=mI()),yield c}}(),{signal:n}),write(f,c,m){let w=r;r=null,w({chunk:f,done:!1,cb:m})},final(f){let c=r;r=null,c({done:!0,cb:f})},destroy(f,c){i.abort(),c(f)}}}function sv(t){let e=t.readable&&typeof t.readable.read!="function"?_ee.wrap(t.readable):t.readable,r=t.writable,i=!!mee(e),n=!!yee(r),s,f,c,m,w;function _(M){let x=m;m=null,x?x(M):M&&w.destroy(M)}return w=new Nl({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(cI(r,M=>{n=!1,M&&ac(e,M),_(M)}),w._write=function(M,x,T){r.write(M,x)?T():s=T},w._final=function(M){r.end(),f=M},r.on("drain",function(){if(s){let M=s;s=null,M()}}),r.on("finish",function(){if(f){let M=f;f=null,M()}})),i&&(cI(e,M=>{i=!1,M&&ac(e,M),_(M)}),e.on("readable",function(){if(c){let M=c;c=null,M()}}),e.on("end",function(){w.push(null)}),w._read=function(){for(;;){let M=e.read();if(M===null){c=w._read;return}if(!w.push(M))return}}),w._destroy=function(M,x){!M&&m!==null&&(M=new bI),c=null,s=null,f=null,m===null?x(M):(m=x,ac(r,M),ac(e,M))},w}});var ba=Z((O4e,SI)=>{"use strict";E();var{ObjectDefineProperties:Eee,ObjectGetOwnPropertyDescriptor:mf,ObjectKeys:Aee,ObjectSetPrototypeOf:MI}=xi();SI.exports=xs;var N6=qp(),jo=C6();MI(xs.prototype,N6.prototype);MI(xs,N6);{let t=Aee(jo.prototype);for(let e=0;e<t.length;e++){let r=t[e];xs.prototype[r]||(xs.prototype[r]=jo.prototype[r])}}function xs(t){if(!(this instanceof xs))return new xs(t);N6.call(this,t),jo.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Eee(xs.prototype,{writable:{__proto__:null,...mf(jo.prototype,"writable")},writableHighWaterMark:{__proto__:null,...mf(jo.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...mf(jo.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...mf(jo.prototype,"writableBuffer")},writableLength:{__proto__:null,...mf(jo.prototype,"writableLength")},writableFinished:{__proto__:null,...mf(jo.prototype,"writableFinished")},writableCorked:{__proto__:null,...mf(jo.prototype,"writableCorked")},writableEnded:{__proto__:null,...mf(jo.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...mf(jo.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var q6;function xI(){return q6===void 0&&(q6={}),q6}xs.fromWeb=function(t,e){return xI().newStreamDuplexFromReadableWritablePair(t,e)};xs.toWeb=function(t){return xI().newReadableWritablePairFromDuplex(t)};var j6;xs.from=function(t){return j6||(j6=_I()),j6(t,"body")}});var U6=Z((j4e,AI)=>{"use strict";E();var{ObjectSetPrototypeOf:EI,Symbol:Tee}=xi();AI.exports=yf;var{ERR_METHOD_NOT_IMPLEMENTED:Ree}=Fn().codes,z6=ba(),{getHighWaterMark:Pee}=Xg();EI(yf.prototype,z6.prototype);EI(yf,z6);var zp=Tee("kCallback");function yf(t){if(!(this instanceof yf))return new yf(t);let e=t?Pee(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),z6.call(this,t),this._readableState.sync=!1,this[zp]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",kee)}function L6(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function kee(){this._final!==L6&&L6.call(this)}yf.prototype._final=L6;yf.prototype._transform=function(t,e,r){throw new Ree("_transform()")};yf.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,s=i.length;this._transform(t,e,(f,c)=>{if(f){r(f);return}c!=null&&this.push(c),n.ended||s===i.length||i.length<i.highWaterMark?r():this[zp]=r})};yf.prototype._read=function(){if(this[zp]){let t=this[zp];this[zp]=null,t()}}});var $6=Z((L4e,RI)=>{"use strict";E();var{ObjectSetPrototypeOf:TI}=xi();RI.exports=fc;var F6=U6();TI(fc.prototype,F6.prototype);TI(fc,F6);function fc(t){if(!(this instanceof fc))return new fc(t);F6.call(this,t)}fc.prototype._transform=function(t,e,r){r(null,t)}});var lv=Z((U4e,DI)=>{E();var Up=Fa(),{ArrayIsArray:Iee,Promise:Bee,SymbolAsyncIterator:Dee}=xi(),uv=cf(),{once:Cee}=pa(),Oee=Cl(),PI=ba(),{aggregateTwoErrors:qee,codes:{ERR_INVALID_ARG_TYPE:J6,ERR_INVALID_RETURN_VALUE:W6,ERR_MISSING_ARGS:jee,ERR_STREAM_DESTROYED:Nee,ERR_STREAM_PREMATURE_CLOSE:Lee},AbortError:zee}=Fn(),{validateFunction:Uee,validateAbortSignal:Fee}=Dp(),{isIterable:Ll,isReadable:H6,isReadableNodeStream:fv,isNodeStream:kI,isTransformStream:uc,isWebStream:$ee,isReadableStream:G6,isReadableEnded:Wee}=ya(),Hee=globalThis.AbortController||Ng().AbortController,K6,Z6;function II(t,e,r){let i=!1;t.on("close",()=>{i=!0});let n=uv(t,{readable:e,writable:r},s=>{i=!s});return{destroy:s=>{i||(i=!0,Oee.destroyer(t,s||new Nee("pipe")))},cleanup:n}}function Gee(t){return Uee(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function V6(t){if(Ll(t))return t;if(fv(t))return Kee(t);throw new J6("val",["Readable","Iterable","AsyncIterable"],t)}async function*Kee(t){Z6||(Z6=qp()),yield*Z6.prototype[Dee].call(t)}async function av(t,e,r,{end:i}){let n,s=null,f=w=>{if(w&&(n=w),s){let _=s;s=null,_()}},c=()=>new Bee((w,_)=>{n?_(n):s=()=>{n?_(n):w()}});e.on("drain",f);let m=uv(e,{readable:!1},f);try{e.writableNeedDrain&&await c();for await(let w of t)e.write(w)||await c();i&&e.end(),await c(),r()}catch(w){r(n!==w?qee(n,w):w)}finally{m(),e.off("drain",f)}}async function Y6(t,e,r,{end:i}){uc(e)&&(e=e.writable);let n=e.getWriter();try{for await(let s of t)await n.ready,n.write(s).catch(()=>{});await n.ready,i&&await n.close(),r()}catch(s){try{await n.abort(s),r(s)}catch(f){r(f)}}}function Zee(...t){return BI(t,Cee(Gee(t)))}function BI(t,e,r){if(t.length===1&&Iee(t[0])&&(t=t[0]),t.length<2)throw new jee("streams");let i=new Hee,n=i.signal,s=r?.signal,f=[];Fee(s,"options.signal");function c(){T(new zee)}s?.addEventListener("abort",c);let m,w,_=[],M=0;function x(C){T(C,--M===0)}function T(C,O){if(C&&(!m||m.code==="ERR_STREAM_PREMATURE_CLOSE")&&(m=C),!(!m&&!O)){for(;_.length;)_.shift()(m);s?.removeEventListener("abort",c),i.abort(),O&&(m||f.forEach(U=>U()),Up.nextTick(e,m,w))}}let A;for(let C=0;C<t.length;C++){let O=t[C],U=C<t.length-1,$=C>0,W=U||r?.end!==!1,F=C===t.length-1;if(kI(O)){let N=function(V){V&&V.name!=="AbortError"&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"&&x(V)};var k=N;if(W){let{destroy:V,cleanup:b}=II(O,U,$);_.push(V),H6(O)&&F&&f.push(b)}O.on("error",N),H6(O)&&F&&f.push(()=>{O.removeListener("error",N)})}if(C===0)if(typeof O=="function"){if(A=O({signal:n}),!Ll(A))throw new W6("Iterable, AsyncIterable or Stream","source",A)}else Ll(O)||fv(O)||uc(O)?A=O:A=PI.from(O);else if(typeof O=="function"){if(uc(A)){var I;A=V6((I=A)===null||I===void 0?void 0:I.readable)}else A=V6(A);if(A=O(A,{signal:n}),U){if(!Ll(A,!0))throw new W6("AsyncIterable",`transform[${C-1}]`,A)}else{var D;K6||(K6=$6());let N=new K6({objectMode:!0}),V=(D=A)===null||D===void 0?void 0:D.then;if(typeof V=="function")M++,V.call(A,u=>{w=u,u!=null&&N.write(u),W&&N.end(),Up.nextTick(x)},u=>{N.destroy(u),Up.nextTick(x,u)});else if(Ll(A,!0))M++,av(A,N,x,{end:W});else if(G6(A)||uc(A)){let u=A.readable||A;M++,av(u,N,x,{end:W})}else throw new W6("AsyncIterable or Promise","destination",A);A=N;let{destroy:b,cleanup:o}=II(A,!1,!0);_.push(b),F&&f.push(o)}}else if(kI(O)){if(fv(A)){M+=2;let N=Vee(A,O,x,{end:W});H6(O)&&F&&f.push(N)}else if(uc(A)||G6(A)){let N=A.readable||A;M++,av(N,O,x,{end:W})}else if(Ll(A))M++,av(A,O,x,{end:W});else throw new J6("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=O}else if($ee(O)){if(fv(A))M++,Y6(V6(A),O,x,{end:W});else if(G6(A)||Ll(A))M++,Y6(A,O,x,{end:W});else if(uc(A))M++,Y6(A.readable,O,x,{end:W});else throw new J6("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=O}else A=PI.from(O)}return(n!=null&&n.aborted||s!=null&&s.aborted)&&Up.nextTick(c),A}function Vee(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new Lee)}),t.pipe(e,{end:!1}),i){let f=function(){n=!0,e.end()};var s=f;Wee(t)?Up.nextTick(f):t.once("end",f)}else r();return uv(t,{readable:!0,writable:!1},f=>{let c=t._readableState;f&&f.code==="ERR_STREAM_PREMATURE_CLOSE"&&c&&c.ended&&!c.errored&&!c.errorEmitted?t.once("end",r).once("error",r):r(f)}),uv(e,{readable:!1,writable:!0},r)}DI.exports={pipelineImpl:BI,pipeline:Zee}});var Q6=Z(($4e,LI)=>{"use strict";E();var{pipeline:Yee}=lv(),dv=ba(),{destroyer:Jee}=Cl(),{isNodeStream:hv,isReadable:CI,isWritable:OI,isWebStream:X6,isTransformStream:zl,isWritableStream:qI,isReadableStream:jI}=ya(),{AbortError:Xee,codes:{ERR_INVALID_ARG_VALUE:NI,ERR_MISSING_ARGS:Qee}}=Fn(),ete=cf();LI.exports=function(...e){if(e.length===0)throw new Qee("streams");if(e.length===1)return dv.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=dv.from(e[0])),typeof e[e.length-1]=="function"){let T=e.length-1;e[T]=dv.from(e[T])}for(let T=0;T<e.length;++T)if(!(!hv(e[T])&&!X6(e[T]))){if(T<e.length-1&&!(CI(e[T])||jI(e[T])||zl(e[T])))throw new NI(`streams[${T}]`,r[T],"must be readable");if(T>0&&!(OI(e[T])||qI(e[T])||zl(e[T])))throw new NI(`streams[${T}]`,r[T],"must be writable")}let i,n,s,f,c;function m(T){let A=f;f=null,A?A(T):T?c.destroy(T):!x&&!M&&c.destroy()}let w=e[0],_=Yee(e,m),M=!!(OI(w)||qI(w)||zl(w)),x=!!(CI(_)||jI(_)||zl(_));if(c=new dv({writableObjectMode:!!(w!=null&&w.writableObjectMode),readableObjectMode:!!(_!=null&&_.writableObjectMode),writable:M,readable:x}),M){if(hv(w))c._write=function(A,I,D){w.write(A,I)?D():i=D},c._final=function(A){w.end(),n=A},w.on("drain",function(){if(i){let A=i;i=null,A()}});else if(X6(w)){let I=(zl(w)?w.writable:w).getWriter();c._write=async function(D,k,C){try{await I.ready,I.write(D).catch(()=>{}),C()}catch(O){C(O)}},c._final=async function(D){try{await I.ready,I.close().catch(()=>{}),n=D}catch(k){D(k)}}}let T=zl(_)?_.readable:_;ete(T,()=>{if(n){let A=n;n=null,A()}})}if(x){if(hv(_))_.on("readable",function(){if(s){let T=s;s=null,T()}}),_.on("end",function(){c.push(null)}),c._read=function(){for(;;){let T=_.read();if(T===null){s=c._read;return}if(!c.push(T))return}};else if(X6(_)){let A=(zl(_)?_.readable:_).getReader();c._read=async function(){for(;;)try{let{value:I,done:D}=await A.read();if(!c.push(I))return;if(D){c.push(null);return}}catch{return}}}}return c._destroy=function(T,A){!T&&f!==null&&(T=new Xee),s=null,i=null,n=null,f===null?A(T):(f=A,hv(_)&&Jee(_,T))},c}});var KI=Z((H4e,rM)=>{"use strict";E();var $I=globalThis.AbortController||Ng().AbortController,{codes:{ERR_INVALID_ARG_VALUE:tte,ERR_INVALID_ARG_TYPE:Fp,ERR_MISSING_ARGS:rte,ERR_OUT_OF_RANGE:ite},AbortError:wa}=Fn(),{validateAbortSignal:Ul,validateInteger:nte,validateObject:Fl}=Dp(),ote=xi().Symbol("kWeak"),{finished:ste}=cf(),ate=Q6(),{addAbortSignalNoValidate:fte}=Cp(),{isWritable:ute,isNodeStream:lte}=ya(),{ArrayPrototypePush:dte,MathFloor:hte,Number:cte,NumberIsNaN:pte,Promise:zI,PromiseReject:UI,PromisePrototypeThen:mte,Symbol:WI}=xi(),cv=WI("kEmpty"),FI=WI("kEof");function yte(t,e){if(e!=null&&Fl(e,"options"),e?.signal!=null&&Ul(e.signal,"options.signal"),lte(t)&&!ute(t))throw new tte("stream",t,"must be writable");let r=ate(this,t);return e!=null&&e.signal&&fte(e.signal,r),r}function pv(t,e){if(typeof t!="function")throw new Fp("fn",["Function","AsyncFunction"],t);e!=null&&Fl(e,"options"),e?.signal!=null&&Ul(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=hte(e.concurrency)),nte(r,"concurrency",1),async function*(){var n,s;let f=new $I,c=this,m=[],w=f.signal,_={signal:w},M=()=>f.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&M(),e==null||(s=e.signal)===null||s===void 0||s.addEventListener("abort",M);let x,T,A=!1;function I(){A=!0}async function D(){try{for await(let O of c){var k;if(A)return;if(w.aborted)throw new wa;try{O=t(O,_)}catch(U){O=UI(U)}O!==cv&&(typeof((k=O)===null||k===void 0?void 0:k.catch)=="function"&&O.catch(I),m.push(O),x&&(x(),x=null),!A&&m.length&&m.length>=r&&await new zI(U=>{T=U}))}m.push(FI)}catch(O){let U=UI(O);mte(U,void 0,I),m.push(U)}finally{var C;A=!0,x&&(x(),x=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",M)}}D();try{for(;;){for(;m.length>0;){let k=await m[0];if(k===FI)return;if(w.aborted)throw new wa;k!==cv&&(yield k),m.shift(),T&&(T(),T=null)}await new zI(k=>{x=k})}}finally{f.abort(),A=!0,T&&(T(),T=null)}}.call(this)}function gte(t=void 0){return t!=null&&Fl(t,"options"),t?.signal!=null&&Ul(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new wa({cause:t.signal.reason});yield[r++,n]}}.call(this)}async function HI(t,e=void 0){for await(let r of tM.call(this,t,e))return!0;return!1}async function vte(t,e=void 0){if(typeof t!="function")throw new Fp("fn",["Function","AsyncFunction"],t);return!await HI.call(this,async(...r)=>!await t(...r),e)}async function bte(t,e){for await(let r of tM.call(this,t,e))return r}async function wte(t,e){if(typeof t!="function")throw new Fp("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),cv}for await(let i of pv.call(this,r,e));}function tM(t,e){if(typeof t!="function")throw new Fp("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:cv}return pv.call(this,r,e)}var eM=class extends rte{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function _te(t,e,r){var i;if(typeof t!="function")throw new Fp("reducer",["Function","AsyncFunction"],t);r!=null&&Fl(r,"options"),r?.signal!=null&&Ul(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let w=new wa(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await ste(this.destroy(w)),w}let s=new $I,f=s.signal;if(r!=null&&r.signal){let w={once:!0,[ote]:this};r.signal.addEventListener("abort",()=>s.abort(),w)}let c=!1;try{for await(let w of this){var m;if(c=!0,r!=null&&(m=r.signal)!==null&&m!==void 0&&m.aborted)throw new wa;n?e=await t(e,w,{signal:f}):(e=w,n=!0)}if(!c&&!n)throw new eM}finally{s.abort()}return e}async function Mte(t){t!=null&&Fl(t,"options"),t?.signal!=null&&Ul(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new wa(void 0,{cause:t.signal.reason});dte(e,i)}return e}function xte(t,e){let r=pv.call(this,t,e);return async function*(){for await(let n of r)yield*n}.call(this)}function GI(t){if(t=cte(t),pte(t))return 0;if(t<0)throw new ite("number",">= 0",t);return t}function Ste(t,e=void 0){return e!=null&&Fl(e,"options"),e?.signal!=null&&Ul(e.signal,"options.signal"),t=GI(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new wa;for await(let s of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new wa;t--<=0&&(yield s)}}.call(this)}function Ete(t,e=void 0){return e!=null&&Fl(e,"options"),e?.signal!=null&&Ul(e.signal,"options.signal"),t=GI(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new wa;for await(let s of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new wa;if(t-- >0)yield s;else return}}.call(this)}rM.exports.streamReturningOperators={asIndexedPairs:gte,drop:Ste,filter:tM,flatMap:xte,map:pv,take:Ete,compose:yte};rM.exports.promiseReturningOperators={every:vte,forEach:wte,reduce:_te,toArray:Mte,some:HI,find:bte}});var Qe=Z((K4e,iM)=>{E();typeof Object.create=="function"?iM.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:iM.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var nM=Z((V4e,ZI)=>{E();ZI.exports=_s().EventEmitter});var oM=Z((J4e,VI)=>{"use strict";E();VI.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,r);if(f.value!==n||f.enumerable!==!0)return!1}return!0}});var $p=Z((Q4e,YI)=>{"use strict";E();var Ate=oM();YI.exports=function(){return Ate()&&!!Symbol.toStringTag}});var QI=Z((t8e,XI)=>{"use strict";E();var JI=typeof Symbol<"u"&&Symbol,Tte=oM();XI.exports=function(){return typeof JI!="function"||typeof Symbol!="function"||typeof JI("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Tte()}});var rB=Z((i8e,tB)=>{"use strict";E();var eB={foo:{}},Rte=Object;tB.exports=function(){return{__proto__:eB}.foo===eB.foo&&!({__proto__:null}instanceof Rte)}});var nB=Z((o8e,iB)=>{"use strict";E();var Pte="Function.prototype.bind called on incompatible ",sM=Array.prototype.slice,kte=Object.prototype.toString,Ite="[object Function]";iB.exports=function(e){var r=this;if(typeof r!="function"||kte.call(r)!==Ite)throw new TypeError(Pte+r);for(var i=sM.call(arguments,1),n,s=function(){if(this instanceof n){var _=r.apply(this,i.concat(sM.call(arguments)));return Object(_)===_?_:this}else return r.apply(e,i.concat(sM.call(arguments)))},f=Math.max(0,r.length-i.length),c=[],m=0;m<f;m++)c.push("$"+m);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var w=function(){};w.prototype=r.prototype,n.prototype=new w,w.prototype=null}return n}});var mv=Z((a8e,oB)=>{"use strict";E();var Bte=nB();oB.exports=Function.prototype.bind||Bte});var aB=Z((u8e,sB)=>{"use strict";E();var Dte=mv();sB.exports=Dte.call(Function.call,Object.prototype.hasOwnProperty)});var vv=Z((d8e,hB)=>{"use strict";E();var Bt,cc=SyntaxError,dB=Function,hc=TypeError,aM=function(t){try{return dB('"use strict"; return ('+t+").constructor;")()}catch{}},$l=Object.getOwnPropertyDescriptor;if($l)try{$l({},"")}catch{$l=null}var fM=function(){throw new hc},Cte=$l?function(){try{return arguments.callee,fM}catch{try{return $l(arguments,"callee").get}catch{return fM}}}():fM,lc=QI()(),Ote=rB()(),Zi=Object.getPrototypeOf||(Ote?function(t){return t.__proto__}:null),dc={},qte=typeof Uint8Array>"u"||!Zi?Bt:Zi(Uint8Array),Wl={"%AggregateError%":typeof AggregateError>"u"?Bt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Bt:ArrayBuffer,"%ArrayIteratorPrototype%":lc&&Zi?Zi([][Symbol.iterator]()):Bt,"%AsyncFromSyncIteratorPrototype%":Bt,"%AsyncFunction%":dc,"%AsyncGenerator%":dc,"%AsyncGeneratorFunction%":dc,"%AsyncIteratorPrototype%":dc,"%Atomics%":typeof Atomics>"u"?Bt:Atomics,"%BigInt%":typeof BigInt>"u"?Bt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Bt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Bt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Bt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Bt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Bt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Bt:FinalizationRegistry,"%Function%":dB,"%GeneratorFunction%":dc,"%Int8Array%":typeof Int8Array>"u"?Bt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Bt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Bt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":lc&&Zi?Zi(Zi([][Symbol.iterator]())):Bt,"%JSON%":typeof JSON=="object"?JSON:Bt,"%Map%":typeof Map>"u"?Bt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!lc||!Zi?Bt:Zi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Bt:Promise,"%Proxy%":typeof Proxy>"u"?Bt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Bt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Bt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!lc||!Zi?Bt:Zi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Bt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":lc&&Zi?Zi(""[Symbol.iterator]()):Bt,"%Symbol%":lc?Symbol:Bt,"%SyntaxError%":cc,"%ThrowTypeError%":Cte,"%TypedArray%":qte,"%TypeError%":hc,"%Uint8Array%":typeof Uint8Array>"u"?Bt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Bt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Bt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Bt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Bt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Bt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Bt:WeakSet};if(Zi)try{null.error}catch(t){fB=Zi(Zi(t)),Wl["%Error.prototype%"]=fB}var fB,jte=function t(e){var r;if(e==="%AsyncFunction%")r=aM("async function () {}");else if(e==="%GeneratorFunction%")r=aM("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=aM("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&Zi&&(r=Zi(n.prototype))}return Wl[e]=r,r},uB={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wp=mv(),yv=aB(),Nte=Wp.call(Function.call,Array.prototype.concat),Lte=Wp.call(Function.apply,Array.prototype.splice),lB=Wp.call(Function.call,String.prototype.replace),gv=Wp.call(Function.call,String.prototype.slice),zte=Wp.call(Function.call,RegExp.prototype.exec),Ute=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fte=/\\(\\)?/g,$te=function(e){var r=gv(e,0,1),i=gv(e,-1);if(r==="%"&&i!=="%")throw new cc("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new cc("invalid intrinsic syntax, expected opening `%`");var n=[];return lB(e,Ute,function(s,f,c,m){n[n.length]=c?lB(m,Fte,"$1"):f||s}),n},Wte=function(e,r){var i=e,n;if(yv(uB,i)&&(n=uB[i],i="%"+n[0]+"%"),yv(Wl,i)){var s=Wl[i];if(s===dc&&(s=jte(i)),typeof s>"u"&&!r)throw new hc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new cc("intrinsic "+e+" does not exist!")};hB.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new hc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new hc('"allowMissing" argument must be a boolean');if(zte(/^%?[^%]*%?$/,e)===null)throw new cc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=$te(e),n=i.length>0?i[0]:"",s=Wte("%"+n+"%",r),f=s.name,c=s.value,m=!1,w=s.alias;w&&(n=w[0],Lte(i,Nte([0,1],w)));for(var _=1,M=!0;_<i.length;_+=1){var x=i[_],T=gv(x,0,1),A=gv(x,-1);if((T==='"'||T==="'"||T==="`"||A==='"'||A==="'"||A==="`")&&T!==A)throw new cc("property names with quotes must have matching quotes");if((x==="constructor"||!M)&&(m=!0),n+="."+x,f="%"+n+"%",yv(Wl,f))c=Wl[f];else if(c!=null){if(!(x in c)){if(!r)throw new hc("base intrinsic for "+e+" exists, but the property is not available.");return}if($l&&_+1>=i.length){var I=$l(c,x);M=!!I,M&&"get"in I&&!("originalValue"in I.get)?c=I.get:c=c[x]}else M=yv(c,x),c=c[x];M&&!m&&(Wl[f]=c)}}return c}});var wv=Z((c8e,bv)=>{"use strict";E();var uM=mv(),pc=vv(),mB=pc("%Function.prototype.apply%"),yB=pc("%Function.prototype.call%"),gB=pc("%Reflect.apply%",!0)||uM.call(yB,mB),cB=pc("%Object.getOwnPropertyDescriptor%",!0),Hl=pc("%Object.defineProperty%",!0),Hte=pc("%Math.max%");if(Hl)try{Hl({},"a",{value:1})}catch{Hl=null}bv.exports=function(e){var r=gB(uM,yB,arguments);if(cB&&Hl){var i=cB(r,"length");i.configurable&&Hl(r,"length",{value:1+Hte(0,e.length-(arguments.length-1))})}return r};var pB=function(){return gB(uM,mB,arguments)};Hl?Hl(bv.exports,"apply",{value:pB}):bv.exports.apply=pB});var _v=Z((m8e,wB)=>{"use strict";E();var vB=vv(),bB=wv(),Gte=bB(vB("String.prototype.indexOf"));wB.exports=function(e,r){var i=vB(e,!!r);return typeof i=="function"&&Gte(e,".prototype.")>-1?bB(i):i}});var xB=Z((g8e,MB)=>{"use strict";E();var Kte=$p()(),Zte=_v(),lM=Zte("Object.prototype.toString"),Mv=function(e){return Kte&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:lM(e)==="[object Arguments]"},_B=function(e){return Mv(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&lM(e)!=="[object Array]"&&lM(e.callee)==="[object Function]"},Vte=function(){return Mv(arguments)}();Mv.isLegacyArguments=_B;MB.exports=Vte?Mv:_B});var AB=Z((b8e,EB)=>{"use strict";E();var Yte=Object.prototype.toString,Jte=Function.prototype.toString,Xte=/^\s*(?:function)?\*/,SB=$p()(),dM=Object.getPrototypeOf,Qte=function(){if(!SB)return!1;try{return Function("return function*() {}")()}catch{}},hM;EB.exports=function(e){if(typeof e!="function")return!1;if(Xte.test(Jte.call(e)))return!0;if(!SB){var r=Yte.call(e);return r==="[object GeneratorFunction]"}if(!dM)return!1;if(typeof hM>"u"){var i=Qte();hM=i?dM(i):!1}return dM(e)===hM}});var kB=Z((_8e,PB)=>{"use strict";E();var RB=Function.prototype.toString,mc=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,pM,xv;if(typeof mc=="function"&&typeof Object.defineProperty=="function")try{pM=Object.defineProperty({},"length",{get:function(){throw xv}}),xv={},mc(function(){throw 42},null,pM)}catch(t){t!==xv&&(mc=null)}else mc=null;var ere=/^\s*class\b/,mM=function(e){try{var r=RB.call(e);return ere.test(r)}catch{return!1}},cM=function(e){try{return mM(e)?!1:(RB.call(e),!0)}catch{return!1}},Sv=Object.prototype.toString,tre="[object Object]",rre="[object Function]",ire="[object GeneratorFunction]",nre="[object HTMLAllCollection]",ore="[object HTML document.all class]",sre="[object HTMLCollection]",are=typeof Symbol=="function"&&!!Symbol.toStringTag,fre=!(0 in[,]),yM=function(){return!1};typeof document=="object"&&(TB=document.all,Sv.call(TB)===Sv.call(document.all)&&(yM=function(e){if((fre||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Sv.call(e);return(r===nre||r===ore||r===sre||r===tre)&&e("")==null}catch{}return!1}));var TB;PB.exports=mc?function(e){if(yM(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{mc(e,null,pM)}catch(r){if(r!==xv)return!1}return!mM(e)&&cM(e)}:function(e){if(yM(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(are)return cM(e);if(mM(e))return!1;var r=Sv.call(e);return r!==rre&&r!==ire&&!/^\[object HTML/.test(r)?!1:cM(e)}});var gM=Z((x8e,BB)=>{"use strict";E();var ure=kB(),lre=Object.prototype.toString,IB=Object.prototype.hasOwnProperty,dre=function(e,r,i){for(var n=0,s=e.length;n<s;n++)IB.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},hre=function(e,r,i){for(var n=0,s=e.length;n<s;n++)i==null?r(e.charAt(n),n,e):r.call(i,e.charAt(n),n,e)},cre=function(e,r,i){for(var n in e)IB.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},pre=function(e,r,i){if(!ure(r))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),lre.call(e)==="[object Array]"?dre(e,r,n):typeof e=="string"?hre(e,r,n):cre(e,r,n)};BB.exports=pre});var bM=Z((E8e,DB)=>{"use strict";E();var vM=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],mre=globalThis;DB.exports=function(){for(var e=[],r=0;r<vM.length;r++)typeof mre[vM[r]]=="function"&&(e[e.length]=vM[r]);return e}});var wM=Z((T8e,CB)=>{"use strict";E();var yre=vv(),Ev=yre("%Object.getOwnPropertyDescriptor%",!0);if(Ev)try{Ev([],"length")}catch{Ev=null}CB.exports=Ev});var SM=Z((P8e,NB)=>{"use strict";E();var Tv=gM(),gre=bM(),OB=wv(),xM=_v(),vre=xM("Object.prototype.toString"),jB=$p()(),Av=wM(),qB=globalThis,MM=gre(),bre=xM("Array.prototype.indexOf",!0)||function(e,r){for(var i=0;i<e.length;i+=1)if(e[i]===r)return i;return-1},wre=xM("String.prototype.slice"),Rv={__proto__:null},_M=Object.getPrototypeOf;jB&&Av&&_M?Tv(MM,function(t){var e=new qB[t];if(Symbol.toStringTag in e){var r=_M(e),i=Av(r,Symbol.toStringTag);if(!i){var n=_M(r);i=Av(n,Symbol.toStringTag)}Rv["$"+t]=OB(i.get)}}):Tv(MM,function(t){var e=new qB[t];Rv["$"+t]=OB(e.slice)});var _re=function(e){var r=!1;return Tv(Rv,function(i,n){if(!r)try{r="$"+i(e)===n}catch{}}),r},Mre=function(e){var r=!1;return Tv(Rv,function(i){if(!r)try{i(e),r=!0}catch{}}),r};NB.exports=function(e){if(!e||typeof e!="object")return!1;if(!jB){var r=wre(vre(e),8,-1);return bre(MM,r)>-1?!0:r!=="Object"?!1:Mre(e)}return Av?_re(e):null}});var HB=Z((I8e,WB)=>{"use strict";E();var zB=gM(),xre=bM(),Sre=wv(),UB=_v(),EM=wM(),Ere=UB("Object.prototype.toString"),FB=$p()(),LB=globalThis,Are=xre(),Tre=UB("String.prototype.slice"),$B={__proto__:null},AM=Object.getPrototypeOf;FB&&EM&&AM&&zB(Are,function(t){if(typeof LB[t]=="function"){var e=new LB[t];if(Symbol.toStringTag in e){var r=AM(e),i=EM(r,Symbol.toStringTag);if(!i){var n=AM(r);i=EM(n,Symbol.toStringTag)}$B[t]=Sre(i.get)}}});var Rre=function(e){var r=!1;return zB($B,function(i,n){if(!r)try{var s=i(e);s===n&&(r=s)}catch{}}),r},Pre=SM();WB.exports=function(e){return Pre(e)?!FB||!(Symbol.toStringTag in e)?Tre(Ere(e),8,-1):Rre(e):!1}});var oD=Z(Pt=>{"use strict";E();var kre=xB(),Ire=AB(),Ss=HB(),GB=SM();function yc(t){return t.call.bind(t)}var KB=typeof BigInt<"u",ZB=typeof Symbol<"u",No=yc(Object.prototype.toString),Bre=yc(Number.prototype.valueOf),Dre=yc(String.prototype.valueOf),Cre=yc(Boolean.prototype.valueOf);KB&&(VB=yc(BigInt.prototype.valueOf));var VB;ZB&&(YB=yc(Symbol.prototype.valueOf));var YB;function Gp(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}Pt.isArgumentsObject=kre;Pt.isGeneratorFunction=Ire;Pt.isTypedArray=GB;function Ore(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}Pt.isPromise=Ore;function qre(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):GB(t)||XB(t)}Pt.isArrayBufferView=qre;function jre(t){return Ss(t)==="Uint8Array"}Pt.isUint8Array=jre;function Nre(t){return Ss(t)==="Uint8ClampedArray"}Pt.isUint8ClampedArray=Nre;function Lre(t){return Ss(t)==="Uint16Array"}Pt.isUint16Array=Lre;function zre(t){return Ss(t)==="Uint32Array"}Pt.isUint32Array=zre;function Ure(t){return Ss(t)==="Int8Array"}Pt.isInt8Array=Ure;function Fre(t){return Ss(t)==="Int16Array"}Pt.isInt16Array=Fre;function $re(t){return Ss(t)==="Int32Array"}Pt.isInt32Array=$re;function Wre(t){return Ss(t)==="Float32Array"}Pt.isFloat32Array=Wre;function Hre(t){return Ss(t)==="Float64Array"}Pt.isFloat64Array=Hre;function Gre(t){return Ss(t)==="BigInt64Array"}Pt.isBigInt64Array=Gre;function Kre(t){return Ss(t)==="BigUint64Array"}Pt.isBigUint64Array=Kre;function Pv(t){return No(t)==="[object Map]"}Pv.working=typeof Map<"u"&&Pv(new Map);function Zre(t){return typeof Map>"u"?!1:Pv.working?Pv(t):t instanceof Map}Pt.isMap=Zre;function kv(t){return No(t)==="[object Set]"}kv.working=typeof Set<"u"&&kv(new Set);function Vre(t){return typeof Set>"u"?!1:kv.working?kv(t):t instanceof Set}Pt.isSet=Vre;function Iv(t){return No(t)==="[object WeakMap]"}Iv.working=typeof WeakMap<"u"&&Iv(new WeakMap);function Yre(t){return typeof WeakMap>"u"?!1:Iv.working?Iv(t):t instanceof WeakMap}Pt.isWeakMap=Yre;function RM(t){return No(t)==="[object WeakSet]"}RM.working=typeof WeakSet<"u"&&RM(new WeakSet);function Jre(t){return RM(t)}Pt.isWeakSet=Jre;function Bv(t){return No(t)==="[object ArrayBuffer]"}Bv.working=typeof ArrayBuffer<"u"&&Bv(new ArrayBuffer);function JB(t){return typeof ArrayBuffer>"u"?!1:Bv.working?Bv(t):t instanceof ArrayBuffer}Pt.isArrayBuffer=JB;function Dv(t){return No(t)==="[object DataView]"}Dv.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Dv(new DataView(new ArrayBuffer(1),0,1));function XB(t){return typeof DataView>"u"?!1:Dv.working?Dv(t):t instanceof DataView}Pt.isDataView=XB;var TM=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Hp(t){return No(t)==="[object SharedArrayBuffer]"}function QB(t){return typeof TM>"u"?!1:(typeof Hp.working>"u"&&(Hp.working=Hp(new TM)),Hp.working?Hp(t):t instanceof TM)}Pt.isSharedArrayBuffer=QB;function Xre(t){return No(t)==="[object AsyncFunction]"}Pt.isAsyncFunction=Xre;function Qre(t){return No(t)==="[object Map Iterator]"}Pt.isMapIterator=Qre;function eie(t){return No(t)==="[object Set Iterator]"}Pt.isSetIterator=eie;function tie(t){return No(t)==="[object Generator]"}Pt.isGeneratorObject=tie;function rie(t){return No(t)==="[object WebAssembly.Module]"}Pt.isWebAssemblyCompiledModule=rie;function eD(t){return Gp(t,Bre)}Pt.isNumberObject=eD;function tD(t){return Gp(t,Dre)}Pt.isStringObject=tD;function rD(t){return Gp(t,Cre)}Pt.isBooleanObject=rD;function iD(t){return KB&&Gp(t,VB)}Pt.isBigIntObject=iD;function nD(t){return ZB&&Gp(t,YB)}Pt.isSymbolObject=nD;function iie(t){return eD(t)||tD(t)||rD(t)||iD(t)||nD(t)}Pt.isBoxedPrimitive=iie;function nie(t){return typeof Uint8Array<"u"&&(JB(t)||QB(t))}Pt.isAnyArrayBuffer=nie;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Pt,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var aD=Z((O8e,sD)=>{E();sD.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var Zl=Z(kt=>{E();var fD=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),i={},n=0;n<r.length;n++)i[r[n]]=Object.getOwnPropertyDescriptor(e,r[n]);return i},oie=/%[sdj%]/g;kt.format=function(t){if(!zv(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(fu(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,n=i.length,s=String(t).replace(oie,function(c){if(c==="%%")return"%";if(r>=n)return c;switch(c){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch{return"[Circular]"}default:return c}}),f=i[r];r<n;f=i[++r])Lv(f)||!gc(f)?s+=" "+f:s+=" "+fu(f);return s};kt.deprecate=function(t,e){if(typeof q.default<"u"&&q.default.noDeprecation===!0)return t;if(typeof q.default>"u")return function(){return kt.deprecate(t,e).apply(this,arguments)};var r=!1;function i(){if(!r){if(q.default.throwDeprecation)throw new Error(e);q.default.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return i};var Cv={},uD=/^$/;q.default.env.NODE_DEBUG&&(Ov=q.default.env.NODE_DEBUG,Ov=Ov.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),uD=new RegExp("^"+Ov+"$","i"));var Ov;kt.debuglog=function(t){if(t=t.toUpperCase(),!Cv[t])if(uD.test(t)){var e=q.default.pid;Cv[t]=function(){var r=kt.format.apply(kt,arguments);console.error("%s %d: %s",t,e,r)}}else Cv[t]=function(){};return Cv[t]};function fu(t,e){var r={seen:[],stylize:aie};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),BM(e)?r.showHidden=e:e&&kt._extend(r,e),Kl(r.showHidden)&&(r.showHidden=!1),Kl(r.depth)&&(r.depth=2),Kl(r.colors)&&(r.colors=!1),Kl(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=sie),jv(r,t,r.depth)}kt.inspect=fu;fu.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};fu.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function sie(t,e){var r=fu.styles[e];return r?"\x1B["+fu.colors[r][0]+"m"+t+"\x1B["+fu.colors[r][1]+"m":t}function aie(t,e){return t}function fie(t){var e={};return t.forEach(function(r,i){e[r]=!0}),e}function jv(t,e,r){if(t.customInspect&&e&&qv(e.inspect)&&e.inspect!==kt.inspect&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(r,t);return zv(i)||(i=jv(t,i,r)),i}var n=uie(t,e);if(n)return n;var s=Object.keys(e),f=fie(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),Zp(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return PM(e);if(s.length===0){if(qv(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(Kp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Nv(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Zp(e))return PM(e)}var m="",w=!1,_=["{","}"];if(lD(e)&&(w=!0,_=["[","]"]),qv(e)){var M=e.name?": "+e.name:"";m=" [Function"+M+"]"}if(Kp(e)&&(m=" "+RegExp.prototype.toString.call(e)),Nv(e)&&(m=" "+Date.prototype.toUTCString.call(e)),Zp(e)&&(m=" "+PM(e)),s.length===0&&(!w||e.length==0))return _[0]+m+_[1];if(r<0)return Kp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return w?x=lie(t,e,r,f,s):x=s.map(function(T){return IM(t,e,r,f,T,w)}),t.seen.pop(),die(x,m,_)}function uie(t,e){if(Kl(e))return t.stylize("undefined","undefined");if(zv(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(dD(e))return t.stylize(""+e,"number");if(BM(e))return t.stylize(""+e,"boolean");if(Lv(e))return t.stylize("null","null")}function PM(t){return"["+Error.prototype.toString.call(t)+"]"}function lie(t,e,r,i,n){for(var s=[],f=0,c=e.length;f<c;++f)hD(e,String(f))?s.push(IM(t,e,r,i,String(f),!0)):s.push("");return n.forEach(function(m){m.match(/^\d+$/)||s.push(IM(t,e,r,i,m,!0))}),s}function IM(t,e,r,i,n,s){var f,c,m;if(m=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},m.get?m.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):m.set&&(c=t.stylize("[Setter]","special")),hD(i,n)||(f="["+n+"]"),c||(t.seen.indexOf(m.value)<0?(Lv(r)?c=jv(t,m.value,null):c=jv(t,m.value,r-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(w){return"  "+w}).join(`
`).substr(2):c=`
`+c.split(`
`).map(function(w){return"   "+w}).join(`
`))):c=t.stylize("[Circular]","special")),Kl(f)){if(s&&n.match(/^\d+$/))return c;f=JSON.stringify(""+n),f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=t.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=t.stylize(f,"string"))}return f+": "+c}function die(t,e,r){var i=0,n=t.reduce(function(s,f){return i++,f.indexOf(`
`)>=0&&i++,s+f.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}kt.types=oD();function lD(t){return Array.isArray(t)}kt.isArray=lD;function BM(t){return typeof t=="boolean"}kt.isBoolean=BM;function Lv(t){return t===null}kt.isNull=Lv;function hie(t){return t==null}kt.isNullOrUndefined=hie;function dD(t){return typeof t=="number"}kt.isNumber=dD;function zv(t){return typeof t=="string"}kt.isString=zv;function cie(t){return typeof t=="symbol"}kt.isSymbol=cie;function Kl(t){return t===void 0}kt.isUndefined=Kl;function Kp(t){return gc(t)&&DM(t)==="[object RegExp]"}kt.isRegExp=Kp;kt.types.isRegExp=Kp;function gc(t){return typeof t=="object"&&t!==null}kt.isObject=gc;function Nv(t){return gc(t)&&DM(t)==="[object Date]"}kt.isDate=Nv;kt.types.isDate=Nv;function Zp(t){return gc(t)&&(DM(t)==="[object Error]"||t instanceof Error)}kt.isError=Zp;kt.types.isNativeError=Zp;function qv(t){return typeof t=="function"}kt.isFunction=qv;function pie(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}kt.isPrimitive=pie;kt.isBuffer=aD();function DM(t){return Object.prototype.toString.call(t)}function kM(t){return t<10?"0"+t.toString(10):t.toString(10)}var mie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function yie(){var t=new Date,e=[kM(t.getHours()),kM(t.getMinutes()),kM(t.getSeconds())].join(":");return[t.getDate(),mie[t.getMonth()],e].join(" ")}kt.log=function(){console.log("%s - %s",yie(),kt.format.apply(kt,arguments))};kt.inherits=Qe();kt._extend=function(t,e){if(!e||!gc(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};function hD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Gl=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;kt.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Gl&&e[Gl]){var r=e[Gl];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Gl,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var i,n,s=new Promise(function(m,w){i=m,n=w}),f=[],c=0;c<arguments.length;c++)f.push(arguments[c]);f.push(function(m,w){m?n(m):i(w)});try{e.apply(this,f)}catch(m){n(m)}return s}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Gl&&Object.defineProperty(r,Gl,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,fD(e))};kt.promisify.custom=Gl;function gie(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function vie(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var s=this,f=function(){return n.apply(s,arguments)};t.apply(this,r).then(function(c){q.default.nextTick(f.bind(null,null,c))},function(c){q.default.nextTick(gie.bind(null,c,f))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,fD(t)),e}kt.callbackify=vie});var vD=Z((L8e,gD)=>{"use strict";E();function cD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function pD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(r),!0).forEach(function(i){bie(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function bie(t,e,r){return e=yD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mD(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,yD(i.key),i)}}function _ie(t,e,r){return e&&mD(t.prototype,e),r&&mD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yD(t){var e=Mie(t,"string");return typeof e=="symbol"?e:String(e)}function Mie(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xie=Wt(),Uv=xie.Buffer,Sie=Zl(),CM=Sie.inspect,Eie=CM&&CM.custom||"inspect";function Aie(t,e,r){Uv.prototype.copy.call(t,e,r)}gD.exports=function(){function t(){wie(this,t),this.head=null,this.tail=null,this.length=0}return _ie(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Uv.alloc(0);for(var i=Uv.allocUnsafe(r>>>0),n=this.head,s=0;n;)Aie(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var f=i.data,c=r>f.length?f.length:r;if(c===f.length?s+=f:s+=f.slice(0,r),r-=c,r===0){c===f.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=f.slice(c));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=Uv.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var f=n.data,c=r>f.length?f.length:r;if(f.copy(i,i.length-r,0,c),r-=c,r===0){c===f.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=f.slice(c));break}++s}return this.length-=s,i}},{key:Eie,value:function(r,i){return CM(this,pD(pD({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var qM=Z((U8e,wD)=>{"use strict";E();function Tie(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,q.default.nextTick(OM,this,t)):q.default.nextTick(OM,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?q.default.nextTick(Fv,r):(r._writableState.errorEmitted=!0,q.default.nextTick(bD,r,s)):q.default.nextTick(bD,r,s):e?(q.default.nextTick(Fv,r),e(s)):q.default.nextTick(Fv,r)}),this)}function bD(t,e){OM(t,e),Fv(t)}function Fv(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Rie(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function OM(t,e){t.emit("error",e)}function Pie(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}wD.exports={destroy:Tie,undestroy:Rie,errorOrDestroy:Pie}});var Vl=Z(($8e,xD)=>{"use strict";E();function kie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var MD={};function Lo(t,e,r){r||(r=Error);function i(s,f,c){return typeof e=="string"?e:e(s,f,c)}var n=function(s){kie(f,s);function f(c,m,w){return s.call(this,i(c,m,w))||this}return f}(r);n.prototype.name=r.name,n.prototype.code=t,MD[t]=n}function _D(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Iie(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Bie(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Die(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Lo("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Lo("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Iie(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(Bie(t," argument"))n="The ".concat(t," ").concat(i," ").concat(_D(e,"type"));else{var s=Die(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(_D(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Lo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Lo("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Lo("ERR_STREAM_PREMATURE_CLOSE","Premature close");Lo("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Lo("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Lo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Lo("ERR_STREAM_WRITE_AFTER_END","write after end");Lo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Lo("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Lo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");xD.exports.codes=MD});var jM=Z((H8e,SD)=>{"use strict";E();var Cie=Vl().codes.ERR_INVALID_OPT_VALUE;function Oie(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function qie(t,e,r,i){var n=Oie(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new Cie(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}SD.exports={getHighWaterMark:qie}});var $v=Z((K8e,ED)=>{E();ED.exports=jie;function jie(t,e){if(NM("noDeprecation"))return t;var r=!1;function i(){if(!r){if(NM("throwDeprecation"))throw new Error(e);NM("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function NM(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var UM=Z((V8e,ID)=>{"use strict";E();ID.exports=Zr;function TD(t){var e=this;this.next=null,this.entry=null,this.finish=function(){lne(e,t)}}var vc;Zr.WritableState=Yp;var Nie={deprecate:$v()},RD=nM(),Hv=Wt().Buffer,Lie=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function zie(t){return Hv.from(t)}function Uie(t){return Hv.isBuffer(t)||t instanceof Lie}var zM=qM(),Fie=jM(),$ie=Fie.getHighWaterMark,uu=Vl().codes,Wie=uu.ERR_INVALID_ARG_TYPE,Hie=uu.ERR_METHOD_NOT_IMPLEMENTED,Gie=uu.ERR_MULTIPLE_CALLBACK,Kie=uu.ERR_STREAM_CANNOT_PIPE,Zie=uu.ERR_STREAM_DESTROYED,Vie=uu.ERR_STREAM_NULL_VALUES,Yie=uu.ERR_STREAM_WRITE_AFTER_END,Jie=uu.ERR_UNKNOWN_ENCODING,bc=zM.errorOrDestroy;Qe()(Zr,RD);function Xie(){}function Yp(t,e,r){vc=vc||Yl(),t=t||{},typeof r!="boolean"&&(r=e instanceof vc),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=$ie(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){one(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new TD(this)}Yp.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Yp.prototype,"buffer",{get:Nie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Wv;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Wv=Function.prototype[Symbol.hasInstance],Object.defineProperty(Zr,Symbol.hasInstance,{value:function(e){return Wv.call(this,e)?!0:this!==Zr?!1:e&&e._writableState instanceof Yp}})):Wv=function(e){return e instanceof this};function Zr(t){vc=vc||Yl();var e=this instanceof vc;if(!e&&!Wv.call(Zr,this))return new Zr(t);this._writableState=new Yp(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),RD.call(this)}Zr.prototype.pipe=function(){bc(this,new Kie)};function Qie(t,e){var r=new Yie;bc(t,r),q.default.nextTick(e,r)}function ene(t,e,r,i){var n;return r===null?n=new Vie:typeof r!="string"&&!e.objectMode&&(n=new Wie("chunk",["string","Buffer"],r)),n?(bc(t,n),q.default.nextTick(i,n),!1):!0}Zr.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&Uie(t);return s&&!Hv.isBuffer(t)&&(t=zie(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=Xie),i.ending?Qie(this,r):(s||ene(this,i,t,r))&&(i.pendingcb++,n=rne(this,i,s,t,e,r)),n};Zr.prototype.cork=function(){this._writableState.corked++};Zr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&PD(this,t))};Zr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Jie(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Zr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function tne(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Hv.from(e,r)),e}Object.defineProperty(Zr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function rne(t,e,r,i,n,s){if(!r){var f=tne(e,i,n);i!==f&&(r=!0,n="buffer",i=f)}var c=e.objectMode?1:i.length;e.length+=c;var m=e.length<e.highWaterMark;if(m||(e.needDrain=!0),e.writing||e.corked){var w=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},w?w.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else LM(t,e,!1,c,i,n,s);return m}function LM(t,e,r,i,n,s,f){e.writelen=i,e.writecb=f,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Zie("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function ine(t,e,r,i,n){--e.pendingcb,r?(q.default.nextTick(n,i),q.default.nextTick(Vp,t,e),t._writableState.errorEmitted=!0,bc(t,i)):(n(i),t._writableState.errorEmitted=!0,bc(t,i),Vp(t,e))}function nne(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function one(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new Gie;if(nne(r),e)ine(t,r,i,e,n);else{var s=kD(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&PD(t,r),i?q.default.nextTick(AD,t,r,s,n):AD(t,r,s,n)}}function AD(t,e,r,i){r||sne(t,e),e.pendingcb--,i(),Vp(t,e)}function sne(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function PD(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var f=0,c=!0;r;)n[f]=r,r.isBuf||(c=!1),r=r.next,f+=1;n.allBuffers=c,LM(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new TD(e),e.bufferedRequestCount=0}else{for(;r;){var m=r.chunk,w=r.encoding,_=r.callback,M=e.objectMode?1:m.length;if(LM(t,e,!1,M,m,w,_),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Zr.prototype._write=function(t,e,r){r(new Hie("_write()"))};Zr.prototype._writev=null;Zr.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||une(this,i,r),this};Object.defineProperty(Zr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function kD(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function ane(t,e){t._final(function(r){e.pendingcb--,r&&bc(t,r),e.prefinished=!0,t.emit("prefinish"),Vp(t,e)})}function fne(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,q.default.nextTick(ane,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Vp(t,e){var r=kD(e);if(r&&(fne(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function une(t,e,r){e.ending=!0,Vp(t,e),r&&(e.finished?q.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function lne(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Zr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Zr.prototype.destroy=zM.destroy;Zr.prototype._undestroy=zM.undestroy;Zr.prototype._destroy=function(t,e){e(t)}});var Yl=Z((J8e,DD)=>{"use strict";E();var dne=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};DD.exports=_a;var BD=WM(),$M=UM();Qe()(_a,BD);for(FM=dne($M.prototype),Gv=0;Gv<FM.length;Gv++)Kv=FM[Gv],_a.prototype[Kv]||(_a.prototype[Kv]=$M.prototype[Kv]);var FM,Kv,Gv;function _a(t){if(!(this instanceof _a))return new _a(t);BD.call(this,t),$M.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",hne)))}Object.defineProperty(_a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(_a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(_a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function hne(){this._writableState.ended||q.default.nextTick(cne,this)}function cne(t){t.end()}Object.defineProperty(_a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Zv=Z((Q8e,qD)=>{"use strict";E();var CD=Vl().codes.ERR_STREAM_PREMATURE_CLOSE;function pne(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function mne(){}function yne(t){return t.setHeader&&typeof t.abort=="function"}function OD(t,e,r){if(typeof e=="function")return OD(t,null,e);e||(e={}),r=pne(r||mne);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||c()},f=t._writableState&&t._writableState.finished,c=function(){n=!1,f=!0,i||r.call(t)},m=t._readableState&&t._readableState.endEmitted,w=function(){i=!1,m=!0,n||r.call(t)},_=function(A){r.call(t,A)},M=function(){var A;if(i&&!m)return(!t._readableState||!t._readableState.ended)&&(A=new CD),r.call(t,A);if(n&&!f)return(!t._writableState||!t._writableState.ended)&&(A=new CD),r.call(t,A)},x=function(){t.req.on("finish",c)};return yne(t)?(t.on("complete",c),t.on("abort",M),t.req?x():t.on("request",x)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",w),t.on("finish",c),e.error!==!1&&t.on("error",_),t.on("close",M),function(){t.removeListener("complete",c),t.removeListener("abort",M),t.removeListener("request",x),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",w),t.removeListener("error",_),t.removeListener("close",M)}}qD.exports=OD});var ND=Z((t5e,jD)=>{"use strict";E();var Vv;function lu(t,e,r){return e=gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gne(t){var e=vne(t,"string");return typeof e=="symbol"?e:String(e)}function vne(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bne=Zv(),du=Symbol("lastResolve"),Jl=Symbol("lastReject"),Jp=Symbol("error"),Yv=Symbol("ended"),Xl=Symbol("lastPromise"),HM=Symbol("handlePromise"),Ql=Symbol("stream");function hu(t,e){return{value:t,done:e}}function wne(t){var e=t[du];if(e!==null){var r=t[Ql].read();r!==null&&(t[Xl]=null,t[du]=null,t[Jl]=null,e(hu(r,!1)))}}function _ne(t){q.default.nextTick(wne,t)}function Mne(t,e){return function(r,i){t.then(function(){if(e[Yv]){r(hu(void 0,!0));return}e[HM](r,i)},i)}}var xne=Object.getPrototypeOf(function(){}),Sne=Object.setPrototypeOf((Vv={get stream(){return this[Ql]},next:function(){var e=this,r=this[Jp];if(r!==null)return Promise.reject(r);if(this[Yv])return Promise.resolve(hu(void 0,!0));if(this[Ql].destroyed)return new Promise(function(f,c){q.default.nextTick(function(){e[Jp]?c(e[Jp]):f(hu(void 0,!0))})});var i=this[Xl],n;if(i)n=new Promise(Mne(i,this));else{var s=this[Ql].read();if(s!==null)return Promise.resolve(hu(s,!1));n=new Promise(this[HM])}return this[Xl]=n,n}},lu(Vv,Symbol.asyncIterator,function(){return this}),lu(Vv,"return",function(){var e=this;return new Promise(function(r,i){e[Ql].destroy(null,function(n){if(n){i(n);return}r(hu(void 0,!0))})})}),Vv),xne),Ene=function(e){var r,i=Object.create(Sne,(r={},lu(r,Ql,{value:e,writable:!0}),lu(r,du,{value:null,writable:!0}),lu(r,Jl,{value:null,writable:!0}),lu(r,Jp,{value:null,writable:!0}),lu(r,Yv,{value:e._readableState.endEmitted,writable:!0}),lu(r,HM,{value:function(s,f){var c=i[Ql].read();c?(i[Xl]=null,i[du]=null,i[Jl]=null,s(hu(c,!1))):(i[du]=s,i[Jl]=f)},writable:!0}),r));return i[Xl]=null,bne(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[Jl];s!==null&&(i[Xl]=null,i[du]=null,i[Jl]=null,s(n)),i[Jp]=n;return}var f=i[du];f!==null&&(i[Xl]=null,i[du]=null,i[Jl]=null,f(hu(void 0,!0))),i[Yv]=!0}),e.on("readable",_ne.bind(null,i)),i};jD.exports=Ene});var zD=Z((i5e,LD)=>{E();LD.exports=function(){throw new Error("Readable.from is not available in the browser")}});var WM=Z((s5e,YD)=>{"use strict";E();YD.exports=Lt;var wc;Lt.ReadableState=WD;var o5e=_s().EventEmitter,$D=function(e,r){return e.listeners(r).length},Qp=nM(),Jv=Wt().Buffer,Ane=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Tne(t){return Jv.from(t)}function Rne(t){return Jv.isBuffer(t)||t instanceof Ane}var GM=Zl(),xt;GM&&GM.debuglog?xt=GM.debuglog("stream"):xt=function(){};var Pne=vD(),QM=qM(),kne=jM(),Ine=kne.getHighWaterMark,Xv=Vl().codes,Bne=Xv.ERR_INVALID_ARG_TYPE,Dne=Xv.ERR_STREAM_PUSH_AFTER_EOF,Cne=Xv.ERR_METHOD_NOT_IMPLEMENTED,One=Xv.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_c,KM,ZM;Qe()(Lt,Qp);var Xp=QM.errorOrDestroy,VM=["error","close","destroy","pause","resume"];function qne(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function WD(t,e,r){wc=wc||Yl(),t=t||{},typeof r!="boolean"&&(r=e instanceof wc),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Ine(this,t,"readableHighWaterMark",r),this.buffer=new Pne,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(_c||(_c=pf().StringDecoder),this.decoder=new _c(t.encoding),this.encoding=t.encoding)}function Lt(t){if(wc=wc||Yl(),!(this instanceof Lt))return new Lt(t);var e=this instanceof wc;this._readableState=new WD(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Qp.call(this)}Object.defineProperty(Lt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Lt.prototype.destroy=QM.destroy;Lt.prototype._undestroy=QM.undestroy;Lt.prototype._destroy=function(t,e){e(t)};Lt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Jv.from(t,e),e=""),i=!0),HD(this,t,e,!1,i)};Lt.prototype.unshift=function(t){return HD(this,t,null,!0,!1)};function HD(t,e,r,i,n){xt("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Lne(t,s);else{var f;if(n||(f=jne(s,e)),f)Xp(t,f);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Jv.prototype&&(e=Tne(e)),i)s.endEmitted?Xp(t,new One):YM(t,s,e,!0);else if(s.ended)Xp(t,new Dne);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?YM(t,s,e,!1):XM(t,s)):YM(t,s,e,!1)}else i||(s.reading=!1,XM(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function YM(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Qv(t)),XM(t,e)}function jne(t,e){var r;return!Rne(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Bne("chunk",["string","Buffer","Uint8Array"],e)),r}Lt.prototype.isPaused=function(){return this._readableState.flowing===!1};Lt.prototype.setEncoding=function(t){_c||(_c=pf().StringDecoder);var e=new _c(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var UD=1073741824;function Nne(t){return t>=UD?t=UD:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function FD(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Nne(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Lt.prototype.read=function(t){xt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return xt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?JM(this):Qv(this),null;if(t=FD(t,e),t===0&&e.ended)return e.length===0&&JM(this),null;var i=e.needReadable;xt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,xt("length less than watermark",i)),e.ended||e.reading?(i=!1,xt("reading or ended",i)):i&&(xt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=FD(r,e)));var n;return t>0?n=ZD(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&JM(this)),n!==null&&this.emit("data",n),n};function Lne(t,e){if(xt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Qv(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,GD(t)))}}function Qv(t){var e=t._readableState;xt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xt("emitReadable",e.flowing),e.emittedReadable=!0,q.default.nextTick(GD,t))}function GD(t){var e=t._readableState;xt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ex(t)}function XM(t,e){e.readingMore||(e.readingMore=!0,q.default.nextTick(zne,t,e))}function zne(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(xt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Lt.prototype._read=function(t){Xp(this,new Cne("_read()"))};Lt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,xt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==q.default.stdout&&t!==q.default.stderr,s=n?c:I;i.endEmitted?q.default.nextTick(s):r.once("end",s),t.on("unpipe",f);function f(D,k){xt("onunpipe"),D===r&&k&&k.hasUnpiped===!1&&(k.hasUnpiped=!0,_())}function c(){xt("onend"),t.end()}var m=Une(r);t.on("drain",m);var w=!1;function _(){xt("cleanup"),t.removeListener("close",T),t.removeListener("finish",A),t.removeListener("drain",m),t.removeListener("error",x),t.removeListener("unpipe",f),r.removeListener("end",c),r.removeListener("end",I),r.removeListener("data",M),w=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&m()}r.on("data",M);function M(D){xt("ondata");var k=t.write(D);xt("dest.write",k),k===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&VD(i.pipes,t)!==-1)&&!w&&(xt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function x(D){xt("onerror",D),I(),t.removeListener("error",x),$D(t,"error")===0&&Xp(t,D)}qne(t,"error",x);function T(){t.removeListener("finish",A),I()}t.once("close",T);function A(){xt("onfinish"),t.removeListener("close",T),I()}t.once("finish",A);function I(){xt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(xt("pipe resume"),r.resume()),t};function Une(t){return function(){var r=t._readableState;xt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&$D(t,"data")&&(r.flowing=!0,ex(t))}}Lt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var f=VD(e.pipes,t);return f===-1?this:(e.pipes.splice(f,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Lt.prototype.on=function(t,e){var r=Qp.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,xt("on readable",i.length,i.reading),i.length?Qv(this):i.reading||q.default.nextTick(Fne,this)),r};Lt.prototype.addListener=Lt.prototype.on;Lt.prototype.removeListener=function(t,e){var r=Qp.prototype.removeListener.call(this,t,e);return t==="readable"&&q.default.nextTick(KD,this),r};Lt.prototype.removeAllListeners=function(t){var e=Qp.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&q.default.nextTick(KD,this),e};function KD(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Fne(t){xt("readable nexttick read 0"),t.read(0)}Lt.prototype.resume=function(){var t=this._readableState;return t.flowing||(xt("resume"),t.flowing=!t.readableListening,$ne(this,t)),t.paused=!1,this};function $ne(t,e){e.resumeScheduled||(e.resumeScheduled=!0,q.default.nextTick(Wne,t,e))}function Wne(t,e){xt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ex(t),e.flowing&&!e.reading&&t.read(0)}Lt.prototype.pause=function(){return xt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ex(t){var e=t._readableState;for(xt("flow",e.flowing);e.flowing&&t.read()!==null;);}Lt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(xt("wrapped end"),r.decoder&&!r.ended){var f=r.decoder.end();f&&f.length&&e.push(f)}e.push(null)}),t.on("data",function(f){if(xt("wrapped data"),r.decoder&&(f=r.decoder.write(f)),!(r.objectMode&&f==null)&&!(!r.objectMode&&(!f||!f.length))){var c=e.push(f);c||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(c){return function(){return t[c].apply(t,arguments)}}(n));for(var s=0;s<VM.length;s++)t.on(VM[s],this.emit.bind(this,VM[s]));return this._read=function(f){xt("wrapped _read",f),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Lt.prototype[Symbol.asyncIterator]=function(){return KM===void 0&&(KM=ND()),KM(this)});Object.defineProperty(Lt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Lt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Lt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Lt._fromList=ZD;Object.defineProperty(Lt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ZD(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function JM(t){var e=t._readableState;xt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,q.default.nextTick(Hne,e,t))}function Hne(t,e){if(xt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Lt.from=function(t,e){return ZM===void 0&&(ZM=zD()),ZM(Lt,t,e)});function VD(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var tx=Z((f5e,XD)=>{"use strict";E();XD.exports=gf;var e1=Vl().codes,Gne=e1.ERR_METHOD_NOT_IMPLEMENTED,Kne=e1.ERR_MULTIPLE_CALLBACK,Zne=e1.ERR_TRANSFORM_ALREADY_TRANSFORMING,Vne=e1.ERR_TRANSFORM_WITH_LENGTH_0,t1=Yl();Qe()(gf,t1);function Yne(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new Kne);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function gf(t){if(!(this instanceof gf))return new gf(t);t1.call(this,t),this._transformState={afterTransform:Yne.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Jne)}function Jne(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){JD(t,e,r)}):JD(this,null,null)}gf.prototype.push=function(t,e){return this._transformState.needTransform=!1,t1.prototype.push.call(this,t,e)};gf.prototype._transform=function(t,e,r){r(new Gne("_transform()"))};gf.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};gf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};gf.prototype._destroy=function(t,e){t1.prototype._destroy.call(this,t,function(r){e(r)})};function JD(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Vne;if(t._transformState.transforming)throw new Zne;return t.push(null)}});var tC=Z((l5e,eC)=>{"use strict";E();eC.exports=em;var QD=tx();Qe()(em,QD);function em(t){if(!(this instanceof em))return new em(t);QD.call(this,t)}em.prototype._transform=function(t,e,r){r(null,t)}});var sC=Z((h5e,oC)=>{"use strict";E();var rx;function Xne(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var nC=Vl().codes,Qne=nC.ERR_MISSING_ARGS,eoe=nC.ERR_STREAM_DESTROYED;function rC(t){if(t)throw t}function toe(t){return t.setHeader&&typeof t.abort=="function"}function roe(t,e,r,i){i=Xne(i);var n=!1;t.on("close",function(){n=!0}),rx===void 0&&(rx=Zv()),rx(t,{readable:e,writable:r},function(f){if(f)return i(f);n=!0,i()});var s=!1;return function(f){if(!n&&!s){if(s=!0,toe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(f||new eoe("pipe"))}}}function iC(t){t()}function ioe(t,e){return t.pipe(e)}function noe(t){return!t.length||typeof t[t.length-1]!="function"?rC:t.pop()}function ooe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=noe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Qne("streams");var n,s=e.map(function(f,c){var m=c<e.length-1,w=c>0;return roe(f,m,w,function(_){n||(n=_),_&&s.forEach(iC),!m&&(s.forEach(iC),i(n))})});return e.reduce(ioe)}oC.exports=ooe});var nx=Z((p5e,aC)=>{E();aC.exports=zo;var ix=_s().EventEmitter,soe=Qe();soe(zo,ix);zo.Readable=WM();zo.Writable=UM();zo.Duplex=Yl();zo.Transform=tx();zo.PassThrough=tC();zo.finished=Zv();zo.pipeline=sC();zo.Stream=zo;function zo(){ix.call(this)}zo.prototype.pipe=function(t,e){var r=this;function i(_){t.writable&&t.write(_)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",f),r.on("close",c));var s=!1;function f(){s||(s=!0,t.end())}function c(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function m(_){if(w(),ix.listenerCount(this,"error")===0)throw _}r.on("error",m),t.on("error",m);function w(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",f),r.removeListener("close",c),r.removeListener("error",m),t.removeListener("error",m),r.removeListener("end",w),r.removeListener("close",w),t.removeListener("close",w)}return r.on("end",w),r.on("close",w),t.on("close",w),t.emit("pipe",r),t}});var ox=Z((y5e,fC)=>{"use strict";E();var{ArrayPrototypePop:aoe,Promise:foe}=xi(),{isIterable:uoe,isNodeStream:loe,isWebStream:doe}=ya(),{pipelineImpl:hoe}=lv(),{finished:coe}=cf();nx();function poe(...t){return new foe((e,r)=>{let i,n,s=t[t.length-1];if(s&&typeof s=="object"&&!loe(s)&&!uoe(s)&&!doe(s)){let f=aoe(t);i=f.signal,n=f.end}hoe(t,(f,c)=>{f?r(f):e(c)},{signal:i,end:n})})}fC.exports={finished:coe,pipeline:poe}});var vC=Z((v5e,gC)=>{E();var{Buffer:moe}=Wt(),{ObjectDefineProperty:vf,ObjectKeys:dC,ReflectApply:hC}=xi(),{promisify:{custom:cC}}=pa(),{streamReturningOperators:uC,promiseReturningOperators:lC}=KI(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:pC}}=Fn(),yoe=Q6(),{pipeline:mC}=lv(),{destroyer:goe}=Cl(),yC=cf(),sx=ox(),ax=ya(),oi=gC.exports=Vg().Stream;oi.isDisturbed=ax.isDisturbed;oi.isErrored=ax.isErrored;oi.isReadable=ax.isReadable;oi.Readable=qp();for(let t of dC(uC)){let r=function(...i){if(new.target)throw pC();return oi.Readable.from(hC(e,this,i))};boe=r;let e=uC[t];vf(r,"name",{__proto__:null,value:e.name}),vf(r,"length",{__proto__:null,value:e.length}),vf(oi.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var boe;for(let t of dC(lC)){let r=function(...n){if(new.target)throw pC();return hC(e,this,n)};boe=r;let e=lC[t];vf(r,"name",{__proto__:null,value:e.name}),vf(r,"length",{__proto__:null,value:e.length}),vf(oi.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var boe;oi.Writable=C6();oi.Duplex=ba();oi.Transform=U6();oi.PassThrough=$6();oi.pipeline=mC;var{addAbortSignal:voe}=Cp();oi.addAbortSignal=voe;oi.finished=yC;oi.destroy=goe;oi.compose=yoe;vf(oi,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return sx}});vf(mC,cC,{__proto__:null,enumerable:!0,get(){return sx.pipeline}});vf(yC,cC,{__proto__:null,enumerable:!0,get(){return sx.finished}});oi.Stream=oi;oi._isUint8Array=function(e){return e instanceof Uint8Array};oi._uint8ArrayToBuffer=function(e){return moe.from(e.buffer,e.byteOffset,e.byteLength)}});var fx=Z((w5e,si)=>{"use strict";E();var Ci=vC(),woe=ox(),_oe=Ci.Readable.destroy;si.exports=Ci.Readable;si.exports._uint8ArrayToBuffer=Ci._uint8ArrayToBuffer;si.exports._isUint8Array=Ci._isUint8Array;si.exports.isDisturbed=Ci.isDisturbed;si.exports.isErrored=Ci.isErrored;si.exports.isReadable=Ci.isReadable;si.exports.Readable=Ci.Readable;si.exports.Writable=Ci.Writable;si.exports.Duplex=Ci.Duplex;si.exports.Transform=Ci.Transform;si.exports.PassThrough=Ci.PassThrough;si.exports.addAbortSignal=Ci.addAbortSignal;si.exports.finished=Ci.finished;si.exports.destroy=Ci.destroy;si.exports.destroy=_oe;si.exports.pipeline=Ci.pipeline;si.exports.compose=Ci.compose;Object.defineProperty(Ci,"promises",{configurable:!0,enumerable:!0,get(){return woe}});si.exports.Stream=Ci.Stream;si.exports.default=si.exports});var MC=Z((R5e,_C)=>{E();_C.exports=ux;var wC=128,Moe=127,xoe=~Moe,Soe=Math.pow(2,31);function ux(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw ux.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=Soe;)e[r++]=t&255|wC,t/=128;for(;t&xoe;)e[r++]=t&255|wC,t>>>=7;return e[r]=t|0,ux.bytes=r-i+1,e}});var EC=Z((k5e,SC)=>{E();SC.exports=lx;var Eoe=128,xC=127;function lx(t,i){var r=0,i=i||0,n=0,s=i,f,c=t.length;do{if(s>=c||n>49)throw lx.bytes=0,new RangeError("Could not decode varint");f=t[s++],r+=n<28?(f&xC)<<n:(f&xC)*Math.pow(2,n),n+=7}while(f>=Eoe);return lx.bytes=s-i,r}});var TC=Z((B5e,AC)=>{E();var Aoe=Math.pow(2,7),Toe=Math.pow(2,14),Roe=Math.pow(2,21),Poe=Math.pow(2,28),koe=Math.pow(2,35),Ioe=Math.pow(2,42),Boe=Math.pow(2,49),Doe=Math.pow(2,56),Coe=Math.pow(2,63);AC.exports=function(t){return t<Aoe?1:t<Toe?2:t<Roe?3:t<Poe?4:t<koe?5:t<Ioe?6:t<Boe?7:t<Doe?8:t<Coe?9:10}});var PC=Z((C5e,RC)=>{E();RC.exports={encode:MC(),decode:EC(),encodingLength:TC()}});var IC=Z((mu,kC)=>{E();var r1=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,i1=function(){function t(){this.fetch=!1,this.DOMException=r1.DOMException}return t.prototype=r1,new t}();(function(t){var e=function(r){var i=typeof t<"u"&&t||typeof self<"u"&&self||typeof i<"u"&&i,n={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function s(o){return o&&DataView.prototype.isPrototypeOf(o)}if(n.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(o){return o&&f.indexOf(Object.prototype.toString.call(o))>-1};function m(o){if(typeof o!="string"&&(o=String(o)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(o)||o==="")throw new TypeError('Invalid character in header field name: "'+o+'"');return o.toLowerCase()}function w(o){return typeof o!="string"&&(o=String(o)),o}function _(o){var u={next:function(){var h=o.shift();return{done:h===void 0,value:h}}};return n.iterable&&(u[Symbol.iterator]=function(){return u}),u}function M(o){this.map={},o instanceof M?o.forEach(function(u,h){this.append(h,u)},this):Array.isArray(o)?o.forEach(function(u){this.append(u[0],u[1])},this):o&&Object.getOwnPropertyNames(o).forEach(function(u){this.append(u,o[u])},this)}M.prototype.append=function(o,u){o=m(o),u=w(u);var h=this.map[o];this.map[o]=h?h+", "+u:u},M.prototype.delete=function(o){delete this.map[m(o)]},M.prototype.get=function(o){return o=m(o),this.has(o)?this.map[o]:null},M.prototype.has=function(o){return this.map.hasOwnProperty(m(o))},M.prototype.set=function(o,u){this.map[m(o)]=w(u)},M.prototype.forEach=function(o,u){for(var h in this.map)this.map.hasOwnProperty(h)&&o.call(u,this.map[h],h,this)},M.prototype.keys=function(){var o=[];return this.forEach(function(u,h){o.push(h)}),_(o)},M.prototype.values=function(){var o=[];return this.forEach(function(u){o.push(u)}),_(o)},M.prototype.entries=function(){var o=[];return this.forEach(function(u,h){o.push([h,u])}),_(o)},n.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function x(o){if(o.bodyUsed)return Promise.reject(new TypeError("Already read"));o.bodyUsed=!0}function T(o){return new Promise(function(u,h){o.onload=function(){u(o.result)},o.onerror=function(){h(o.error)}})}function A(o){var u=new FileReader,h=T(u);return u.readAsArrayBuffer(o),h}function I(o){var u=new FileReader,h=T(u);return u.readAsText(o),h}function D(o){for(var u=new Uint8Array(o),h=new Array(u.length),l=0;l<u.length;l++)h[l]=String.fromCharCode(u[l]);return h.join("")}function k(o){if(o.slice)return o.slice(0);var u=new Uint8Array(o.byteLength);return u.set(new Uint8Array(o)),u.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(o){this.bodyUsed=this.bodyUsed,this._bodyInit=o,o?typeof o=="string"?this._bodyText=o:n.blob&&Blob.prototype.isPrototypeOf(o)?this._bodyBlob=o:n.formData&&FormData.prototype.isPrototypeOf(o)?this._bodyFormData=o:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(o)?this._bodyText=o.toString():n.arrayBuffer&&n.blob&&s(o)?(this._bodyArrayBuffer=k(o.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(o)||c(o))?this._bodyArrayBuffer=k(o):this._bodyText=o=Object.prototype.toString.call(o):this._bodyText="",this.headers.get("content-type")||(typeof o=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(o)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var o=x(this);if(o)return o;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var o=x(this);return o||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(A)}),this.text=function(){var o=x(this);if(o)return o;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(o){var u=o.toUpperCase();return O.indexOf(u)>-1?u:o}function $(o,u){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');u=u||{};var h=u.body;if(o instanceof $){if(o.bodyUsed)throw new TypeError("Already read");this.url=o.url,this.credentials=o.credentials,u.headers||(this.headers=new M(o.headers)),this.method=o.method,this.mode=o.mode,this.signal=o.signal,!h&&o._bodyInit!=null&&(h=o._bodyInit,o.bodyUsed=!0)}else this.url=String(o);if(this.credentials=u.credentials||this.credentials||"same-origin",(u.headers||!this.headers)&&(this.headers=new M(u.headers)),this.method=U(u.method||this.method||"GET"),this.mode=u.mode||this.mode||null,this.signal=u.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&h)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(h),(this.method==="GET"||this.method==="HEAD")&&(u.cache==="no-store"||u.cache==="no-cache")){var l=/([?&])_=[^&]*/;if(l.test(this.url))this.url=this.url.replace(l,"$1_="+new Date().getTime());else{var d=/\?/;this.url+=(d.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function W(o){var u=new FormData;return o.trim().split("&").forEach(function(h){if(h){var l=h.split("="),d=l.shift().replace(/\+/g," "),y=l.join("=").replace(/\+/g," ");u.append(decodeURIComponent(d),decodeURIComponent(y))}}),u}function F(o){var u=new M,h=o.replace(/\r?\n[\t ]+/g," ");return h.split("\r").map(function(l){return l.indexOf(`
`)===0?l.substr(1,l.length):l}).forEach(function(l){var d=l.split(":"),y=d.shift().trim();if(y){var v=d.join(":").trim();u.append(y,v)}}),u}C.call($.prototype);function N(o,u){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');u||(u={}),this.type="default",this.status=u.status===void 0?200:u.status,this.ok=this.status>=200&&this.status<300,this.statusText=u.statusText===void 0?"":""+u.statusText,this.headers=new M(u.headers),this.url=u.url||"",this._initBody(o)}C.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},N.error=function(){var o=new N(null,{status:0,statusText:""});return o.type="error",o};var V=[301,302,303,307,308];N.redirect=function(o,u){if(V.indexOf(u)===-1)throw new RangeError("Invalid status code");return new N(null,{status:u,headers:{location:o}})},r.DOMException=i.DOMException;try{new r.DOMException}catch{r.DOMException=function(u,h){this.message=u,this.name=h;var l=Error(u);this.stack=l.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function b(o,u){return new Promise(function(h,l){var d=new $(o,u);if(d.signal&&d.signal.aborted)return l(new r.DOMException("Aborted","AbortError"));var y=new XMLHttpRequest;function v(){y.abort()}y.onload=function(){var a={status:y.status,statusText:y.statusText,headers:F(y.getAllResponseHeaders()||"")};a.url="responseURL"in y?y.responseURL:a.headers.get("X-Request-URL");var g="response"in y?y.response:y.responseText;setTimeout(function(){h(new N(g,a))},0)},y.onerror=function(){setTimeout(function(){l(new TypeError("Network request failed"))},0)},y.ontimeout=function(){setTimeout(function(){l(new TypeError("Network request failed"))},0)},y.onabort=function(){setTimeout(function(){l(new r.DOMException("Aborted","AbortError"))},0)};function p(a){try{return a===""&&i.location.href?i.location.href:a}catch{return a}}y.open(d.method,p(d.url),!0),d.credentials==="include"?y.withCredentials=!0:d.credentials==="omit"&&(y.withCredentials=!1),"responseType"in y&&(n.blob?y.responseType="blob":n.arrayBuffer&&d.headers.get("Content-Type")&&d.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(y.responseType="arraybuffer")),u&&typeof u.headers=="object"&&!(u.headers instanceof M)?Object.getOwnPropertyNames(u.headers).forEach(function(a){y.setRequestHeader(a,w(u.headers[a]))}):d.headers.forEach(function(a,g){y.setRequestHeader(g,a)}),d.signal&&(d.signal.addEventListener("abort",v),y.onreadystatechange=function(){y.readyState===4&&d.signal.removeEventListener("abort",v)}),y.send(typeof d._bodyInit>"u"?null:d._bodyInit)})}return b.polyfill=!0,i.fetch||(i.fetch=b,i.Headers=M,i.Request=$,i.Response=N),r.Headers=M,r.Request=$,r.Response=N,r.fetch=b,r}({})})(i1);i1.fetch.ponyfill=!0;delete i1.fetch.polyfill;var xc=r1.fetch?r1:i1;mu=xc.fetch;mu.default=xc.fetch;mu.fetch=xc.fetch;mu.Headers=xc.Headers;mu.Request=xc.Request;mu.Response=xc.Response;kC.exports=mu});var qt=Z((hx,CC)=>{E();var u1=Wt(),Mf=u1.Buffer;function DC(t,e){for(var r in t)e[r]=t[r]}Mf.from&&Mf.alloc&&Mf.allocUnsafe&&Mf.allocUnsafeSlow?CC.exports=u1:(DC(u1,hx),hx.Buffer=Ec);function Ec(t,e,r){return Mf(t,e,r)}DC(Mf,Ec);Ec.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Mf(t,e,r)};Ec.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Mf(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Ec.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Mf(t)};Ec.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u1.SlowBuffer(t)}});var ed=Z((JEe,px)=>{"use strict";E();var cx=65536,qoe=4294967295;function joe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Noe=qt().Buffer,l1=globalThis.crypto||globalThis.msCrypto;l1&&l1.getRandomValues?px.exports=Loe:px.exports=joe;function Loe(t,e){if(t>qoe)throw new RangeError("requested too many random bytes");var r=Noe.allocUnsafe(t);if(t>0)if(t>cx)for(var i=0;i<t;i+=cx)l1.getRandomValues(r.slice(i,i+cx));else l1.getRandomValues(r);return typeof e=="function"?q.default.nextTick(function(){e(null,r)}):r}});var jC=Z((mx,qC)=>{E();var d1=Wt(),Sa=d1.Buffer;function OC(t,e){for(var r in t)e[r]=t[r]}Sa.from&&Sa.alloc&&Sa.allocUnsafe&&Sa.allocUnsafeSlow?qC.exports=d1:(OC(d1,mx),mx.Buffer=td);function td(t,e,r){return Sa(t,e,r)}td.prototype=Object.create(Sa.prototype);OC(Sa,td);td.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Sa(t,e,r)};td.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Sa(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};td.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Sa(t)};td.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return d1.SlowBuffer(t)}});var yx=Z((e7e,NC)=>{E();NC.exports=_s().EventEmitter});var WC=Z((r7e,$C)=>{"use strict";E();function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function zC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(i){zoe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function zoe(t,e,r){return e=FC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UC(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,FC(i.key),i)}}function Foe(t,e,r){return e&&UC(t.prototype,e),r&&UC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FC(t){var e=$oe(t,"string");return typeof e=="symbol"?e:String(e)}function $oe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Woe=Wt(),h1=Woe.Buffer,Hoe=Zl(),gx=Hoe.inspect,Goe=gx&&gx.custom||"inspect";function Koe(t,e,r){h1.prototype.copy.call(t,e,r)}$C.exports=function(){function t(){Uoe(this,t),this.head=null,this.tail=null,this.length=0}return Foe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return h1.alloc(0);for(var i=h1.allocUnsafe(r>>>0),n=this.head,s=0;n;)Koe(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var f=i.data,c=r>f.length?f.length:r;if(c===f.length?s+=f:s+=f.slice(0,r),r-=c,r===0){c===f.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=f.slice(c));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=h1.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var f=n.data,c=r>f.length?f.length:r;if(f.copy(i,i.length-r,0,c),r-=c,r===0){c===f.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=f.slice(c));break}++s}return this.length-=s,i}},{key:Goe,value:function(r,i){return gx(this,zC(zC({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var bx=Z((n7e,GC)=>{"use strict";E();function Zoe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,q.default.nextTick(vx,this,t)):q.default.nextTick(vx,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?q.default.nextTick(c1,r):(r._writableState.errorEmitted=!0,q.default.nextTick(HC,r,s)):q.default.nextTick(HC,r,s):e?(q.default.nextTick(c1,r),e(s)):q.default.nextTick(c1,r)}),this)}function HC(t,e){vx(t,e),c1(t)}function c1(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Voe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function vx(t,e){t.emit("error",e)}function Yoe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}GC.exports={destroy:Zoe,undestroy:Voe,errorOrDestroy:Yoe}});var rd=Z((s7e,VC)=>{"use strict";E();function Joe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ZC={};function Uo(t,e,r){r||(r=Error);function i(s,f,c){return typeof e=="string"?e:e(s,f,c)}var n=function(s){Joe(f,s);function f(c,m,w){return s.call(this,i(c,m,w))||this}return f}(r);n.prototype.name=r.name,n.prototype.code=t,ZC[t]=n}function KC(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Xoe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Qoe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ese(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Uo("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Uo("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Xoe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(Qoe(t," argument"))n="The ".concat(t," ").concat(i," ").concat(KC(e,"type"));else{var s=ese(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(KC(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Uo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Uo("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Uo("ERR_STREAM_PREMATURE_CLOSE","Premature close");Uo("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Uo("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Uo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Uo("ERR_STREAM_WRITE_AFTER_END","write after end");Uo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Uo("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Uo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");VC.exports.codes=ZC});var wx=Z((f7e,YC)=>{"use strict";E();var tse=rd().codes.ERR_INVALID_OPT_VALUE;function rse(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function ise(t,e,r,i){var n=rse(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new tse(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}YC.exports={getHighWaterMark:ise}});var xx=Z((l7e,rO)=>{"use strict";E();rO.exports=Vr;function XC(t){var e=this;this.next=null,this.entry=null,this.finish=function(){kse(e,t)}}var Ac;Vr.WritableState=sm;var nse={deprecate:$v()},QC=yx(),m1=Wt().Buffer,ose=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function sse(t){return m1.from(t)}function ase(t){return m1.isBuffer(t)||t instanceof ose}var Mx=bx(),fse=wx(),use=fse.getHighWaterMark,Mu=rd().codes,lse=Mu.ERR_INVALID_ARG_TYPE,dse=Mu.ERR_METHOD_NOT_IMPLEMENTED,hse=Mu.ERR_MULTIPLE_CALLBACK,cse=Mu.ERR_STREAM_CANNOT_PIPE,pse=Mu.ERR_STREAM_DESTROYED,mse=Mu.ERR_STREAM_NULL_VALUES,yse=Mu.ERR_STREAM_WRITE_AFTER_END,gse=Mu.ERR_UNKNOWN_ENCODING,Tc=Mx.errorOrDestroy;Qe()(Vr,QC);function vse(){}function sm(t,e,r){Ac=Ac||id(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ac),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=use(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Ese(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new XC(this)}sm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(sm.prototype,"buffer",{get:nse.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var p1;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p1=Function.prototype[Symbol.hasInstance],Object.defineProperty(Vr,Symbol.hasInstance,{value:function(e){return p1.call(this,e)?!0:this!==Vr?!1:e&&e._writableState instanceof sm}})):p1=function(e){return e instanceof this};function Vr(t){Ac=Ac||id();var e=this instanceof Ac;if(!e&&!p1.call(Vr,this))return new Vr(t);this._writableState=new sm(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),QC.call(this)}Vr.prototype.pipe=function(){Tc(this,new cse)};function bse(t,e){var r=new yse;Tc(t,r),q.default.nextTick(e,r)}function wse(t,e,r,i){var n;return r===null?n=new mse:typeof r!="string"&&!e.objectMode&&(n=new lse("chunk",["string","Buffer"],r)),n?(Tc(t,n),q.default.nextTick(i,n),!1):!0}Vr.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&ase(t);return s&&!m1.isBuffer(t)&&(t=sse(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=vse),i.ending?bse(this,r):(s||wse(this,i,t,r))&&(i.pendingcb++,n=Mse(this,i,s,t,e,r)),n};Vr.prototype.cork=function(){this._writableState.corked++};Vr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&eO(this,t))};Vr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new gse(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Vr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function _se(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=m1.from(e,r)),e}Object.defineProperty(Vr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Mse(t,e,r,i,n,s){if(!r){var f=_se(e,i,n);i!==f&&(r=!0,n="buffer",i=f)}var c=e.objectMode?1:i.length;e.length+=c;var m=e.length<e.highWaterMark;if(m||(e.needDrain=!0),e.writing||e.corked){var w=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},w?w.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else _x(t,e,!1,c,i,n,s);return m}function _x(t,e,r,i,n,s,f){e.writelen=i,e.writecb=f,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new pse("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function xse(t,e,r,i,n){--e.pendingcb,r?(q.default.nextTick(n,i),q.default.nextTick(om,t,e),t._writableState.errorEmitted=!0,Tc(t,i)):(n(i),t._writableState.errorEmitted=!0,Tc(t,i),om(t,e))}function Sse(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Ese(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new hse;if(Sse(r),e)xse(t,r,i,e,n);else{var s=tO(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&eO(t,r),i?q.default.nextTick(JC,t,r,s,n):JC(t,r,s,n)}}function JC(t,e,r,i){r||Ase(t,e),e.pendingcb--,i(),om(t,e)}function Ase(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function eO(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var f=0,c=!0;r;)n[f]=r,r.isBuf||(c=!1),r=r.next,f+=1;n.allBuffers=c,_x(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new XC(e),e.bufferedRequestCount=0}else{for(;r;){var m=r.chunk,w=r.encoding,_=r.callback,M=e.objectMode?1:m.length;if(_x(t,e,!1,M,m,w,_),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Vr.prototype._write=function(t,e,r){r(new dse("_write()"))};Vr.prototype._writev=null;Vr.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Pse(this,i,r),this};Object.defineProperty(Vr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function tO(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Tse(t,e){t._final(function(r){e.pendingcb--,r&&Tc(t,r),e.prefinished=!0,t.emit("prefinish"),om(t,e)})}function Rse(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,q.default.nextTick(Tse,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function om(t,e){var r=tO(e);if(r&&(Rse(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Pse(t,e,r){e.ending=!0,om(t,e),r&&(e.finished?q.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function kse(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Vr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Vr.prototype.destroy=Mx.destroy;Vr.prototype._undestroy=Mx.undestroy;Vr.prototype._destroy=function(t,e){e(t)}});var id=Z((h7e,nO)=>{"use strict";E();var Ise=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};nO.exports=Ea;var iO=Ax(),Ex=xx();Qe()(Ea,iO);for(Sx=Ise(Ex.prototype),y1=0;y1<Sx.length;y1++)g1=Sx[y1],Ea.prototype[g1]||(Ea.prototype[g1]=Ex.prototype[g1]);var Sx,g1,y1;function Ea(t){if(!(this instanceof Ea))return new Ea(t);iO.call(this,t),Ex.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Bse)))}Object.defineProperty(Ea.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ea.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ea.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Bse(){this._writableState.ended||q.default.nextTick(Dse,this)}function Dse(t){t.end()}Object.defineProperty(Ea.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var v1=Z((p7e,aO)=>{"use strict";E();var oO=rd().codes.ERR_STREAM_PREMATURE_CLOSE;function Cse(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Ose(){}function qse(t){return t.setHeader&&typeof t.abort=="function"}function sO(t,e,r){if(typeof e=="function")return sO(t,null,e);e||(e={}),r=Cse(r||Ose);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||c()},f=t._writableState&&t._writableState.finished,c=function(){n=!1,f=!0,i||r.call(t)},m=t._readableState&&t._readableState.endEmitted,w=function(){i=!1,m=!0,n||r.call(t)},_=function(A){r.call(t,A)},M=function(){var A;if(i&&!m)return(!t._readableState||!t._readableState.ended)&&(A=new oO),r.call(t,A);if(n&&!f)return(!t._writableState||!t._writableState.ended)&&(A=new oO),r.call(t,A)},x=function(){t.req.on("finish",c)};return qse(t)?(t.on("complete",c),t.on("abort",M),t.req?x():t.on("request",x)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",w),t.on("finish",c),e.error!==!1&&t.on("error",_),t.on("close",M),function(){t.removeListener("complete",c),t.removeListener("abort",M),t.removeListener("request",x),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",w),t.removeListener("error",_),t.removeListener("close",M)}}aO.exports=sO});var uO=Z((y7e,fO)=>{"use strict";E();var b1;function xu(t,e,r){return e=jse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jse(t){var e=Nse(t,"string");return typeof e=="symbol"?e:String(e)}function Nse(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lse=v1(),Su=Symbol("lastResolve"),nd=Symbol("lastReject"),am=Symbol("error"),w1=Symbol("ended"),od=Symbol("lastPromise"),Tx=Symbol("handlePromise"),sd=Symbol("stream");function Eu(t,e){return{value:t,done:e}}function zse(t){var e=t[Su];if(e!==null){var r=t[sd].read();r!==null&&(t[od]=null,t[Su]=null,t[nd]=null,e(Eu(r,!1)))}}function Use(t){q.default.nextTick(zse,t)}function Fse(t,e){return function(r,i){t.then(function(){if(e[w1]){r(Eu(void 0,!0));return}e[Tx](r,i)},i)}}var $se=Object.getPrototypeOf(function(){}),Wse=Object.setPrototypeOf((b1={get stream(){return this[sd]},next:function(){var e=this,r=this[am];if(r!==null)return Promise.reject(r);if(this[w1])return Promise.resolve(Eu(void 0,!0));if(this[sd].destroyed)return new Promise(function(f,c){q.default.nextTick(function(){e[am]?c(e[am]):f(Eu(void 0,!0))})});var i=this[od],n;if(i)n=new Promise(Fse(i,this));else{var s=this[sd].read();if(s!==null)return Promise.resolve(Eu(s,!1));n=new Promise(this[Tx])}return this[od]=n,n}},xu(b1,Symbol.asyncIterator,function(){return this}),xu(b1,"return",function(){var e=this;return new Promise(function(r,i){e[sd].destroy(null,function(n){if(n){i(n);return}r(Eu(void 0,!0))})})}),b1),$se),Hse=function(e){var r,i=Object.create(Wse,(r={},xu(r,sd,{value:e,writable:!0}),xu(r,Su,{value:null,writable:!0}),xu(r,nd,{value:null,writable:!0}),xu(r,am,{value:null,writable:!0}),xu(r,w1,{value:e._readableState.endEmitted,writable:!0}),xu(r,Tx,{value:function(s,f){var c=i[sd].read();c?(i[od]=null,i[Su]=null,i[nd]=null,s(Eu(c,!1))):(i[Su]=s,i[nd]=f)},writable:!0}),r));return i[od]=null,Lse(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[nd];s!==null&&(i[od]=null,i[Su]=null,i[nd]=null,s(n)),i[am]=n;return}var f=i[Su];f!==null&&(i[od]=null,i[Su]=null,i[nd]=null,f(Eu(void 0,!0))),i[w1]=!0}),e.on("readable",Use.bind(null,i)),i};fO.exports=Hse});var dO=Z((v7e,lO)=>{E();lO.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Ax=Z((_7e,_O)=>{"use strict";E();_O.exports=zt;var Rc;zt.ReadableState=mO;var w7e=_s().EventEmitter,pO=function(e,r){return e.listeners(r).length},um=yx(),_1=Wt().Buffer,Gse=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Kse(t){return _1.from(t)}function Zse(t){return _1.isBuffer(t)||t instanceof Gse}var Rx=Zl(),St;Rx&&Rx.debuglog?St=Rx.debuglog("stream"):St=function(){};var Vse=WC(),Ox=bx(),Yse=wx(),Jse=Yse.getHighWaterMark,M1=rd().codes,Xse=M1.ERR_INVALID_ARG_TYPE,Qse=M1.ERR_STREAM_PUSH_AFTER_EOF,eae=M1.ERR_METHOD_NOT_IMPLEMENTED,tae=M1.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Pc,Px,kx;Qe()(zt,um);var fm=Ox.errorOrDestroy,Ix=["error","close","destroy","pause","resume"];function rae(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function mO(t,e,r){Rc=Rc||id(),t=t||{},typeof r!="boolean"&&(r=e instanceof Rc),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Jse(this,t,"readableHighWaterMark",r),this.buffer=new Vse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Pc||(Pc=pf().StringDecoder),this.decoder=new Pc(t.encoding),this.encoding=t.encoding)}function zt(t){if(Rc=Rc||id(),!(this instanceof zt))return new zt(t);var e=this instanceof Rc;this._readableState=new mO(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),um.call(this)}Object.defineProperty(zt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});zt.prototype.destroy=Ox.destroy;zt.prototype._undestroy=Ox.undestroy;zt.prototype._destroy=function(t,e){e(t)};zt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=_1.from(t,e),e=""),i=!0),yO(this,t,e,!1,i)};zt.prototype.unshift=function(t){return yO(this,t,null,!0,!1)};function yO(t,e,r,i,n){St("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,oae(t,s);else{var f;if(n||(f=iae(s,e)),f)fm(t,f);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==_1.prototype&&(e=Kse(e)),i)s.endEmitted?fm(t,new tae):Bx(t,s,e,!0);else if(s.ended)fm(t,new Qse);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Bx(t,s,e,!1):Cx(t,s)):Bx(t,s,e,!1)}else i||(s.reading=!1,Cx(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function Bx(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&x1(t)),Cx(t,e)}function iae(t,e){var r;return!Zse(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Xse("chunk",["string","Buffer","Uint8Array"],e)),r}zt.prototype.isPaused=function(){return this._readableState.flowing===!1};zt.prototype.setEncoding=function(t){Pc||(Pc=pf().StringDecoder);var e=new Pc(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var hO=1073741824;function nae(t){return t>=hO?t=hO:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function cO(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=nae(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}zt.prototype.read=function(t){St("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return St("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Dx(this):x1(this),null;if(t=cO(t,e),t===0&&e.ended)return e.length===0&&Dx(this),null;var i=e.needReadable;St("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,St("length less than watermark",i)),e.ended||e.reading?(i=!1,St("reading or ended",i)):i&&(St("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=cO(r,e)));var n;return t>0?n=bO(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Dx(this)),n!==null&&this.emit("data",n),n};function oae(t,e){if(St("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?x1(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,gO(t)))}}function x1(t){var e=t._readableState;St("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(St("emitReadable",e.flowing),e.emittedReadable=!0,q.default.nextTick(gO,t))}function gO(t){var e=t._readableState;St("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,qx(t)}function Cx(t,e){e.readingMore||(e.readingMore=!0,q.default.nextTick(sae,t,e))}function sae(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(St("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}zt.prototype._read=function(t){fm(this,new eae("_read()"))};zt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,St("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==q.default.stdout&&t!==q.default.stderr,s=n?c:I;i.endEmitted?q.default.nextTick(s):r.once("end",s),t.on("unpipe",f);function f(D,k){St("onunpipe"),D===r&&k&&k.hasUnpiped===!1&&(k.hasUnpiped=!0,_())}function c(){St("onend"),t.end()}var m=aae(r);t.on("drain",m);var w=!1;function _(){St("cleanup"),t.removeListener("close",T),t.removeListener("finish",A),t.removeListener("drain",m),t.removeListener("error",x),t.removeListener("unpipe",f),r.removeListener("end",c),r.removeListener("end",I),r.removeListener("data",M),w=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&m()}r.on("data",M);function M(D){St("ondata");var k=t.write(D);St("dest.write",k),k===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&wO(i.pipes,t)!==-1)&&!w&&(St("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function x(D){St("onerror",D),I(),t.removeListener("error",x),pO(t,"error")===0&&fm(t,D)}rae(t,"error",x);function T(){t.removeListener("finish",A),I()}t.once("close",T);function A(){St("onfinish"),t.removeListener("close",T),I()}t.once("finish",A);function I(){St("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(St("pipe resume"),r.resume()),t};function aae(t){return function(){var r=t._readableState;St("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&pO(t,"data")&&(r.flowing=!0,qx(t))}}zt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var f=wO(e.pipes,t);return f===-1?this:(e.pipes.splice(f,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};zt.prototype.on=function(t,e){var r=um.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,St("on readable",i.length,i.reading),i.length?x1(this):i.reading||q.default.nextTick(fae,this)),r};zt.prototype.addListener=zt.prototype.on;zt.prototype.removeListener=function(t,e){var r=um.prototype.removeListener.call(this,t,e);return t==="readable"&&q.default.nextTick(vO,this),r};zt.prototype.removeAllListeners=function(t){var e=um.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&q.default.nextTick(vO,this),e};function vO(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function fae(t){St("readable nexttick read 0"),t.read(0)}zt.prototype.resume=function(){var t=this._readableState;return t.flowing||(St("resume"),t.flowing=!t.readableListening,uae(this,t)),t.paused=!1,this};function uae(t,e){e.resumeScheduled||(e.resumeScheduled=!0,q.default.nextTick(lae,t,e))}function lae(t,e){St("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),qx(t),e.flowing&&!e.reading&&t.read(0)}zt.prototype.pause=function(){return St("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(St("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function qx(t){var e=t._readableState;for(St("flow",e.flowing);e.flowing&&t.read()!==null;);}zt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(St("wrapped end"),r.decoder&&!r.ended){var f=r.decoder.end();f&&f.length&&e.push(f)}e.push(null)}),t.on("data",function(f){if(St("wrapped data"),r.decoder&&(f=r.decoder.write(f)),!(r.objectMode&&f==null)&&!(!r.objectMode&&(!f||!f.length))){var c=e.push(f);c||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(c){return function(){return t[c].apply(t,arguments)}}(n));for(var s=0;s<Ix.length;s++)t.on(Ix[s],this.emit.bind(this,Ix[s]));return this._read=function(f){St("wrapped _read",f),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(zt.prototype[Symbol.asyncIterator]=function(){return Px===void 0&&(Px=uO()),Px(this)});Object.defineProperty(zt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(zt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(zt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});zt._fromList=bO;Object.defineProperty(zt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function bO(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Dx(t){var e=t._readableState;St("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,q.default.nextTick(dae,e,t))}function dae(t,e){if(St("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(zt.from=function(t,e){return kx===void 0&&(kx=dO()),kx(zt,t,e)});function wO(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var jx=Z((x7e,xO)=>{"use strict";E();xO.exports=xf;var S1=rd().codes,hae=S1.ERR_METHOD_NOT_IMPLEMENTED,cae=S1.ERR_MULTIPLE_CALLBACK,pae=S1.ERR_TRANSFORM_ALREADY_TRANSFORMING,mae=S1.ERR_TRANSFORM_WITH_LENGTH_0,E1=id();Qe()(xf,E1);function yae(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new cae);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function xf(t){if(!(this instanceof xf))return new xf(t);E1.call(this,t),this._transformState={afterTransform:yae.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",gae)}function gae(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){MO(t,e,r)}):MO(this,null,null)}xf.prototype.push=function(t,e){return this._transformState.needTransform=!1,E1.prototype.push.call(this,t,e)};xf.prototype._transform=function(t,e,r){r(new hae("_transform()"))};xf.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};xf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};xf.prototype._destroy=function(t,e){E1.prototype._destroy.call(this,t,function(r){e(r)})};function MO(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new mae;if(t._transformState.transforming)throw new pae;return t.push(null)}});var AO=Z((E7e,EO)=>{"use strict";E();EO.exports=lm;var SO=jx();Qe()(lm,SO);function lm(t){if(!(this instanceof lm))return new lm(t);SO.call(this,t)}lm.prototype._transform=function(t,e,r){r(null,t)}});var IO=Z((T7e,kO)=>{"use strict";E();var Nx;function vae(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var PO=rd().codes,bae=PO.ERR_MISSING_ARGS,wae=PO.ERR_STREAM_DESTROYED;function TO(t){if(t)throw t}function _ae(t){return t.setHeader&&typeof t.abort=="function"}function Mae(t,e,r,i){i=vae(i);var n=!1;t.on("close",function(){n=!0}),Nx===void 0&&(Nx=v1()),Nx(t,{readable:e,writable:r},function(f){if(f)return i(f);n=!0,i()});var s=!1;return function(f){if(!n&&!s){if(s=!0,_ae(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(f||new wae("pipe"))}}}function RO(t){t()}function xae(t,e){return t.pipe(e)}function Sae(t){return!t.length||typeof t[t.length-1]!="function"?TO:t.pop()}function Eae(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Sae(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new bae("streams");var n,s=e.map(function(f,c){var m=c<e.length-1,w=c>0;return Mae(f,m,w,function(_){n||(n=_),_&&s.forEach(RO),!m&&(s.forEach(RO),i(n))})});return e.reduce(xae)}kO.exports=Eae});var DO=Z((Fo,BO)=>{E();Fo=BO.exports=Ax();Fo.Stream=Fo;Fo.Readable=Fo;Fo.Writable=xx();Fo.Duplex=id();Fo.Transform=jx();Fo.PassThrough=AO();Fo.finished=v1();Fo.pipeline=IO()});var Lx=Z((k7e,OO)=>{"use strict";E();var A1=jC().Buffer,CO=DO().Transform,Aae=Qe();function Tae(t,e){if(!A1.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Au(t){CO.call(this),this._block=A1.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Aae(Au,CO);Au.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)};Au.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Au.prototype.update=function(t,e){if(Tae(t,"Data"),this._finalized)throw new Error("Digest already called");A1.isBuffer(t)||(t=A1.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,f=t.length*8;f>0;++s)this._length[s]+=f,f=this._length[s]/4294967296|0,f>0&&(this._length[s]-=4294967296*f);return this};Au.prototype._update=function(){throw new Error("_update is not implemented")};Au.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Au.prototype._digest=function(){throw new Error("_digest is not implemented")};OO.exports=Au});var P1=Z((B7e,jO)=>{"use strict";E();var Rae=Qe(),qO=Lx(),Pae=qt().Buffer,kae=new Array(16);function T1(){qO.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Rae(T1,qO);T1.prototype._update=function(){for(var t=kae,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,i=this._b,n=this._c,s=this._d;r=En(r,i,n,s,t[0],3614090360,7),s=En(s,r,i,n,t[1],3905402710,12),n=En(n,s,r,i,t[2],606105819,17),i=En(i,n,s,r,t[3],3250441966,22),r=En(r,i,n,s,t[4],4118548399,7),s=En(s,r,i,n,t[5],1200080426,12),n=En(n,s,r,i,t[6],2821735955,17),i=En(i,n,s,r,t[7],4249261313,22),r=En(r,i,n,s,t[8],1770035416,7),s=En(s,r,i,n,t[9],2336552879,12),n=En(n,s,r,i,t[10],4294925233,17),i=En(i,n,s,r,t[11],2304563134,22),r=En(r,i,n,s,t[12],1804603682,7),s=En(s,r,i,n,t[13],4254626195,12),n=En(n,s,r,i,t[14],2792965006,17),i=En(i,n,s,r,t[15],1236535329,22),r=An(r,i,n,s,t[1],4129170786,5),s=An(s,r,i,n,t[6],3225465664,9),n=An(n,s,r,i,t[11],643717713,14),i=An(i,n,s,r,t[0],3921069994,20),r=An(r,i,n,s,t[5],3593408605,5),s=An(s,r,i,n,t[10],38016083,9),n=An(n,s,r,i,t[15],3634488961,14),i=An(i,n,s,r,t[4],3889429448,20),r=An(r,i,n,s,t[9],568446438,5),s=An(s,r,i,n,t[14],3275163606,9),n=An(n,s,r,i,t[3],4107603335,14),i=An(i,n,s,r,t[8],1163531501,20),r=An(r,i,n,s,t[13],2850285829,5),s=An(s,r,i,n,t[2],4243563512,9),n=An(n,s,r,i,t[7],1735328473,14),i=An(i,n,s,r,t[12],2368359562,20),r=Tn(r,i,n,s,t[5],4294588738,4),s=Tn(s,r,i,n,t[8],2272392833,11),n=Tn(n,s,r,i,t[11],1839030562,16),i=Tn(i,n,s,r,t[14],4259657740,23),r=Tn(r,i,n,s,t[1],2763975236,4),s=Tn(s,r,i,n,t[4],1272893353,11),n=Tn(n,s,r,i,t[7],4139469664,16),i=Tn(i,n,s,r,t[10],3200236656,23),r=Tn(r,i,n,s,t[13],681279174,4),s=Tn(s,r,i,n,t[0],3936430074,11),n=Tn(n,s,r,i,t[3],3572445317,16),i=Tn(i,n,s,r,t[6],76029189,23),r=Tn(r,i,n,s,t[9],3654602809,4),s=Tn(s,r,i,n,t[12],3873151461,11),n=Tn(n,s,r,i,t[15],530742520,16),i=Tn(i,n,s,r,t[2],3299628645,23),r=Rn(r,i,n,s,t[0],4096336452,6),s=Rn(s,r,i,n,t[7],1126891415,10),n=Rn(n,s,r,i,t[14],2878612391,15),i=Rn(i,n,s,r,t[5],4237533241,21),r=Rn(r,i,n,s,t[12],1700485571,6),s=Rn(s,r,i,n,t[3],2399980690,10),n=Rn(n,s,r,i,t[10],4293915773,15),i=Rn(i,n,s,r,t[1],2240044497,21),r=Rn(r,i,n,s,t[8],1873313359,6),s=Rn(s,r,i,n,t[15],4264355552,10),n=Rn(n,s,r,i,t[6],2734768916,15),i=Rn(i,n,s,r,t[13],1309151649,21),r=Rn(r,i,n,s,t[4],4149444226,6),s=Rn(s,r,i,n,t[11],3174756917,10),n=Rn(n,s,r,i,t[2],718787259,15),i=Rn(i,n,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+s|0};T1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Pae.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function R1(t,e){return t<<e|t>>>32-e}function En(t,e,r,i,n,s,f){return R1(t+(e&r|~e&i)+n+s|0,f)+e|0}function An(t,e,r,i,n,s,f){return R1(t+(e&i|r&~i)+n+s|0,f)+e|0}function Tn(t,e,r,i,n,s,f){return R1(t+(e^r^i)+n+s|0,f)+e|0}function Rn(t,e,r,i,n,s,f){return R1(t+(r^(e|~i))+n+s|0,f)+e|0}jO.exports=T1});var I1=Z((C7e,WO)=>{"use strict";E();var zx=Wt().Buffer,Iae=Qe(),$O=Lx(),Bae=new Array(16),dm=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],hm=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],cm=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],pm=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mm=[0,1518500249,1859775393,2400959708,2840853838],ym=[1352829926,1548603684,1836072691,2053994217,0];function k1(){$O.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Iae(k1,$O);k1.prototype._update=function(){for(var t=Bae,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,f=this._e|0,c=this._a|0,m=this._b|0,w=this._c|0,_=this._d|0,M=this._e|0,x=0;x<80;x+=1){var T,A;x<16?(T=NO(r,i,n,s,f,t[dm[x]],mm[0],cm[x]),A=FO(c,m,w,_,M,t[hm[x]],ym[0],pm[x])):x<32?(T=LO(r,i,n,s,f,t[dm[x]],mm[1],cm[x]),A=UO(c,m,w,_,M,t[hm[x]],ym[1],pm[x])):x<48?(T=zO(r,i,n,s,f,t[dm[x]],mm[2],cm[x]),A=zO(c,m,w,_,M,t[hm[x]],ym[2],pm[x])):x<64?(T=UO(r,i,n,s,f,t[dm[x]],mm[3],cm[x]),A=LO(c,m,w,_,M,t[hm[x]],ym[3],pm[x])):(T=FO(r,i,n,s,f,t[dm[x]],mm[4],cm[x]),A=NO(c,m,w,_,M,t[hm[x]],ym[4],pm[x])),r=f,f=s,s=ad(n,10),n=i,i=T,c=M,M=_,_=ad(w,10),w=m,m=A}var I=this._b+n+_|0;this._b=this._c+s+M|0,this._c=this._d+f+c|0,this._d=this._e+r+m|0,this._e=this._a+i+w|0,this._a=I};k1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=zx.alloc?zx.alloc(20):new zx(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function ad(t,e){return t<<e|t>>>32-e}function NO(t,e,r,i,n,s,f,c){return ad(t+(e^r^i)+s+f|0,c)+n|0}function LO(t,e,r,i,n,s,f,c){return ad(t+(e&r|~e&i)+s+f|0,c)+n|0}function zO(t,e,r,i,n,s,f,c){return ad(t+((e|~r)^i)+s+f|0,c)+n|0}function UO(t,e,r,i,n,s,f,c){return ad(t+(e&i|r&~i)+s+f|0,c)+n|0}function FO(t,e,r,i,n,s,f,c){return ad(t+(e^(r|~i))+s+f|0,c)+n|0}WO.exports=k1});var fd=Z((q7e,GO)=>{E();var HO=qt().Buffer;function B1(t,e){this._block=HO.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}B1.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=HO.from(t,e));for(var r=this._block,i=this._blockSize,n=t.length,s=this._len,f=0;f<n;){for(var c=s%i,m=Math.min(n-f,i-c),w=0;w<m;w++)r[c+w]=t[f+w];s+=m,f+=m,s%i===0&&this._update(r)}return this._len+=n,this};B1.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};B1.prototype._update=function(){throw new Error("_update must be implemented by subclass")};GO.exports=B1});var VO=Z((N7e,ZO)=>{E();var Dae=Qe(),KO=fd(),Cae=qt().Buffer,Oae=[1518500249,1859775393,-1894007588,-899497514],qae=new Array(80);function gm(){this.init(),this._w=qae,KO.call(this,64,56)}Dae(gm,KO);gm.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function jae(t){return t<<5|t>>>27}function Nae(t){return t<<30|t>>>2}function Lae(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}gm.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,f=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var m=0;m<80;++m){var w=~~(m/20),_=jae(r)+Lae(w,i,n,s)+f+e[m]+Oae[w]|0;f=s,s=n,n=Nae(i),i=r,r=_}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=f+this._e|0};gm.prototype._hash=function(){var t=Cae.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};ZO.exports=gm});var XO=Z((z7e,JO)=>{E();var zae=Qe(),YO=fd(),Uae=qt().Buffer,Fae=[1518500249,1859775393,-1894007588,-899497514],$ae=new Array(80);function vm(){this.init(),this._w=$ae,YO.call(this,64,56)}zae(vm,YO);vm.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Wae(t){return t<<1|t>>>31}function Hae(t){return t<<5|t>>>27}function Gae(t){return t<<30|t>>>2}function Kae(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}vm.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,f=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=Wae(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var m=0;m<80;++m){var w=~~(m/20),_=Hae(r)+Kae(w,i,n,s)+f+e[m]+Fae[w]|0;f=s,s=n,n=Gae(i),i=r,r=_}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=f+this._e|0};vm.prototype._hash=function(){var t=Uae.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};JO.exports=vm});var Ux=Z((F7e,eq)=>{E();var Zae=Qe(),QO=fd(),Vae=qt().Buffer,Yae=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Jae=new Array(64);function bm(){this.init(),this._w=Jae,QO.call(this,64,56)}Zae(bm,QO);bm.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Xae(t,e,r){return r^t&(e^r)}function Qae(t,e,r){return t&e|r&(t|e)}function efe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function tfe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function rfe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function ife(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}bm.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,f=this._e|0,c=this._f|0,m=this._g|0,w=this._h|0,_=0;_<16;++_)e[_]=t.readInt32BE(_*4);for(;_<64;++_)e[_]=ife(e[_-2])+e[_-7]+rfe(e[_-15])+e[_-16]|0;for(var M=0;M<64;++M){var x=w+tfe(f)+Xae(f,c,m)+Yae[M]+e[M]|0,T=efe(r)+Qae(r,i,n)|0;w=m,m=c,c=f,f=s+x|0,s=n,n=i,i=r,r=x+T|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=f+this._e|0,this._f=c+this._f|0,this._g=m+this._g|0,this._h=w+this._h|0};bm.prototype._hash=function(){var t=Vae.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};eq.exports=bm});var rq=Z((W7e,tq)=>{E();var nfe=Qe(),ofe=Ux(),sfe=fd(),afe=qt().Buffer,ffe=new Array(64);function D1(){this.init(),this._w=ffe,sfe.call(this,64,56)}nfe(D1,ofe);D1.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};D1.prototype._hash=function(){var t=afe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};tq.exports=D1});var Fx=Z((G7e,uq)=>{E();var ufe=Qe(),fq=fd(),lfe=qt().Buffer,iq=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],dfe=new Array(160);function wm(){this.init(),this._w=dfe,fq.call(this,128,112)}ufe(wm,fq);wm.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function nq(t,e,r){return r^t&(e^r)}function oq(t,e,r){return t&e|r&(t|e)}function sq(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function aq(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function hfe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function cfe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function pfe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function mfe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Vi(t,e){return t>>>0<e>>>0?1:0}wm.prototype._update=function(t){for(var e=this._w,r=this._ah|0,i=this._bh|0,n=this._ch|0,s=this._dh|0,f=this._eh|0,c=this._fh|0,m=this._gh|0,w=this._hh|0,_=this._al|0,M=this._bl|0,x=this._cl|0,T=this._dl|0,A=this._el|0,I=this._fl|0,D=this._gl|0,k=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var O=e[C-30],U=e[C-15*2+1],$=hfe(O,U),W=cfe(U,O);O=e[C-2*2],U=e[C-2*2+1];var F=pfe(O,U),N=mfe(U,O),V=e[C-7*2],b=e[C-7*2+1],o=e[C-16*2],u=e[C-16*2+1],h=W+b|0,l=$+V+Vi(h,W)|0;h=h+N|0,l=l+F+Vi(h,N)|0,h=h+u|0,l=l+o+Vi(h,u)|0,e[C]=l,e[C+1]=h}for(var d=0;d<160;d+=2){l=e[d],h=e[d+1];var y=oq(r,i,n),v=oq(_,M,x),p=sq(r,_),a=sq(_,r),g=aq(f,A),P=aq(A,f),S=iq[d],B=iq[d+1],z=nq(f,c,m),H=nq(A,I,D),G=k+P|0,J=w+g+Vi(G,k)|0;G=G+H|0,J=J+z+Vi(G,H)|0,G=G+B|0,J=J+S+Vi(G,B)|0,G=G+h|0,J=J+l+Vi(G,h)|0;var K=a+v|0,Y=p+y+Vi(K,a)|0;w=m,k=D,m=c,D=I,c=f,I=A,A=T+G|0,f=s+J+Vi(A,T)|0,s=n,T=x,n=i,x=M,i=r,M=_,_=G+K|0,r=J+Y+Vi(_,G)|0}this._al=this._al+_|0,this._bl=this._bl+M|0,this._cl=this._cl+x|0,this._dl=this._dl+T|0,this._el=this._el+A|0,this._fl=this._fl+I|0,this._gl=this._gl+D|0,this._hl=this._hl+k|0,this._ah=this._ah+r+Vi(this._al,_)|0,this._bh=this._bh+i+Vi(this._bl,M)|0,this._ch=this._ch+n+Vi(this._cl,x)|0,this._dh=this._dh+s+Vi(this._dl,T)|0,this._eh=this._eh+f+Vi(this._el,A)|0,this._fh=this._fh+c+Vi(this._fl,I)|0,this._gh=this._gh+m+Vi(this._gl,D)|0,this._hh=this._hh+w+Vi(this._hl,k)|0};wm.prototype._hash=function(){var t=lfe.allocUnsafe(64);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};uq.exports=wm});var dq=Z((Z7e,lq)=>{E();var yfe=Qe(),gfe=Fx(),vfe=fd(),bfe=qt().Buffer,wfe=new Array(160);function C1(){this.init(),this._w=wfe,vfe.call(this,128,112)}yfe(C1,gfe);C1.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};C1.prototype._hash=function(){var t=bfe.allocUnsafe(48);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};lq.exports=C1});var O1=Z((Sf,hq)=>{E();var Sf=hq.exports=function(e){e=e.toLowerCase();var r=Sf[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Sf.sha=VO();Sf.sha1=XO();Sf.sha224=rq();Sf.sha256=Ux();Sf.sha384=dq();Sf.sha512=Fx()});var Ef=Z((J7e,mq)=>{E();var cq=qt().Buffer,pq=nx().Transform,_fe=pf().StringDecoder,Mfe=Qe();function Es(t){pq.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Mfe(Es,pq);Es.prototype.update=function(t,e,r){typeof t=="string"&&(t=cq.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Es.prototype.setAutoPadding=function(){};Es.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Es.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Es.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Es.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}};Es.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Es.prototype._finalOrDigest=function(t){var e=this.__final()||cq.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Es.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new _fe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};mq.exports=Es});var kc=Z((Q7e,gq)=>{"use strict";E();var xfe=Qe(),Sfe=P1(),Efe=I1(),Afe=O1(),yq=Ef();function q1(t){yq.call(this,"digest"),this._hash=t}xfe(q1,yq);q1.prototype._update=function(t){this._hash.update(t)};q1.prototype._final=function(){return this._hash.digest()};gq.exports=function(e){return e=e.toLowerCase(),e==="md5"?new Sfe:e==="rmd160"||e==="ripemd160"?new Efe:new q1(Afe(e))}});var wq=Z((t9e,bq)=>{"use strict";E();var Tfe=Qe(),ud=qt().Buffer,vq=Ef(),Rfe=ud.alloc(128),Ic=64;function j1(t,e){vq.call(this,"digest"),typeof e=="string"&&(e=ud.from(e)),this._alg=t,this._key=e,e.length>Ic?e=t(e):e.length<Ic&&(e=ud.concat([e,Rfe],Ic));for(var r=this._ipad=ud.allocUnsafe(Ic),i=this._opad=ud.allocUnsafe(Ic),n=0;n<Ic;n++)r[n]=e[n]^54,i[n]=e[n]^92;this._hash=[r]}Tfe(j1,vq);j1.prototype._update=function(t){this._hash.push(t)};j1.prototype._final=function(){var t=this._alg(ud.concat(this._hash));return this._alg(ud.concat([this._opad,t]))};bq.exports=j1});var $x=Z((i9e,_q)=>{E();var Pfe=P1();_q.exports=function(t){return new Pfe().update(t).digest()}});var Gx=Z((o9e,xq)=>{"use strict";E();var kfe=Qe(),Ife=wq(),Mq=Ef(),_m=qt().Buffer,Bfe=$x(),Wx=I1(),Hx=O1(),Dfe=_m.alloc(128);function Mm(t,e){Mq.call(this,"digest"),typeof e=="string"&&(e=_m.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var i=t==="rmd160"?new Wx:Hx(t);e=i.update(e).digest()}else e.length<r&&(e=_m.concat([e,Dfe],r));for(var n=this._ipad=_m.allocUnsafe(r),s=this._opad=_m.allocUnsafe(r),f=0;f<r;f++)n[f]=e[f]^54,s[f]=e[f]^92;this._hash=t==="rmd160"?new Wx:Hx(t),this._hash.update(n)}kfe(Mm,Mq);Mm.prototype._update=function(t){this._hash.update(t)};Mm.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new Wx:Hx(this._alg);return e.update(this._opad).update(t).digest()};xq.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Mm("rmd160",r):e==="md5"?new Ife(Bfe,r):new Mm(e,r)}});var Kx=Z((a9e,Cfe)=>{Cfe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Eq=Z((f9e,Sq)=>{E();Sq.exports=Kx()});var Zx=Z((l9e,Aq)=>{E();var Ofe=Math.pow(2,30)-1;Aq.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Ofe||e!==e)throw new TypeError("Bad key length")}});var Vx=Z((h9e,Rq)=>{E();var N1;globalThis.process&&globalThis.process.browser?N1="utf-8":globalThis.process&&globalThis.process.version?(Tq=parseInt(q.default.version.split(".")[0].slice(1),10),N1=Tq>=6?"utf-8":"binary"):N1="utf-8";var Tq;Rq.exports=N1});var Jx=Z((p9e,Pq)=>{E();var Yx=qt().Buffer;Pq.exports=function(t,e,r){if(Yx.isBuffer(t))return t;if(typeof t=="string")return Yx.from(t,e);if(ArrayBuffer.isView(t))return Yx.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var Xx=Z((y9e,Dq)=>{E();var qfe=$x(),jfe=I1(),Nfe=O1(),ld=qt().Buffer,Lfe=Zx(),kq=Vx(),Iq=Jx(),zfe=ld.alloc(128),L1={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Bq(t,e,r){var i=Ufe(t),n=t==="sha512"||t==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=ld.concat([e,zfe],n));for(var s=ld.allocUnsafe(n+L1[t]),f=ld.allocUnsafe(n+L1[t]),c=0;c<n;c++)s[c]=e[c]^54,f[c]=e[c]^92;var m=ld.allocUnsafe(n+r+4);s.copy(m,0,0,n),this.ipad1=m,this.ipad2=s,this.opad=f,this.alg=t,this.blocksize=n,this.hash=i,this.size=L1[t]}Bq.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Ufe(t){function e(i){return Nfe(t).update(i).digest()}function r(i){return new jfe().update(i).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?qfe:e}function Ffe(t,e,r,i,n){Lfe(r,i),t=Iq(t,kq,"Password"),e=Iq(e,kq,"Salt"),n=n||"sha1";var s=new Bq(n,t,e.length),f=ld.allocUnsafe(i),c=ld.allocUnsafe(e.length+4);e.copy(c,0,0,e.length);for(var m=0,w=L1[n],_=Math.ceil(i/w),M=1;M<=_;M++){c.writeUInt32BE(M,e.length);for(var x=s.run(c,s.ipad1),T=x,A=1;A<r;A++){T=s.run(T,s.ipad2);for(var I=0;I<w;I++)x[I]^=T[I]}x.copy(f,m),m+=w}return f}Dq.exports=Ffe});var zq=Z((v9e,Lq)=>{E();var jq=qt().Buffer,$fe=Zx(),Cq=Vx(),Oq=Xx(),qq=Jx(),z1,xm=globalThis.crypto&&globalThis.crypto.subtle,Wfe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Qx=[];function Hfe(t){if(globalThis.process&&!globalThis.process.browser||!xm||!xm.importKey||!xm.deriveBits)return Promise.resolve(!1);if(Qx[t]!==void 0)return Qx[t];z1=z1||jq.alloc(8);var e=Nq(z1,z1,10,128,t).then(function(){return!0}).catch(function(){return!1});return Qx[t]=e,e}var dd;function e4(){return dd||(globalThis.process&&globalThis.process.nextTick?dd=globalThis.process.nextTick:globalThis.queueMicrotask?dd=globalThis.queueMicrotask:globalThis.setImmediate?dd=globalThis.setImmediate:dd=globalThis.setTimeout,dd)}function Nq(t,e,r,i,n){return xm.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return xm.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},s,i<<3)}).then(function(s){return jq.from(s)})}function Gfe(t,e){t.then(function(r){e4()(function(){e(null,r)})},function(r){e4()(function(){e(r)})})}Lq.exports=function(t,e,r,i,n,s){typeof n=="function"&&(s=n,n=void 0),n=n||"sha1";var f=Wfe[n.toLowerCase()];if(!f||typeof globalThis.Promise!="function"){e4()(function(){var c;try{c=Oq(t,e,r,i,n)}catch(m){return s(m)}s(null,c)});return}if($fe(r,i),t=qq(t,Cq,"Password"),e=qq(e,Cq,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");Gfe(Hfe(f).then(function(c){return c?Nq(t,e,r,i,f):Oq(t,e,r,i,n)}),s)}});var r4=Z(t4=>{E();t4.pbkdf2=zq();t4.pbkdf2Sync=Xx()});var i4=Z($o=>{"use strict";E();$o.readUInt32BE=function(e,r){var i=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return i>>>0};$o.writeUInt32BE=function(e,r,i){e[0+i]=r>>>24,e[1+i]=r>>>16&255,e[2+i]=r>>>8&255,e[3+i]=r&255};$o.ip=function(e,r,i,n){for(var s=0,f=0,c=6;c>=0;c-=2){for(var m=0;m<=24;m+=8)s<<=1,s|=r>>>m+c&1;for(var m=0;m<=24;m+=8)s<<=1,s|=e>>>m+c&1}for(var c=6;c>=0;c-=2){for(var m=1;m<=25;m+=8)f<<=1,f|=r>>>m+c&1;for(var m=1;m<=25;m+=8)f<<=1,f|=e>>>m+c&1}i[n+0]=s>>>0,i[n+1]=f>>>0};$o.rip=function(e,r,i,n){for(var s=0,f=0,c=0;c<4;c++)for(var m=24;m>=0;m-=8)s<<=1,s|=r>>>m+c&1,s<<=1,s|=e>>>m+c&1;for(var c=4;c<8;c++)for(var m=24;m>=0;m-=8)f<<=1,f|=r>>>m+c&1,f<<=1,f|=e>>>m+c&1;i[n+0]=s>>>0,i[n+1]=f>>>0};$o.pc1=function(e,r,i,n){for(var s=0,f=0,c=7;c>=5;c--){for(var m=0;m<=24;m+=8)s<<=1,s|=r>>m+c&1;for(var m=0;m<=24;m+=8)s<<=1,s|=e>>m+c&1}for(var m=0;m<=24;m+=8)s<<=1,s|=r>>m+c&1;for(var c=1;c<=3;c++){for(var m=0;m<=24;m+=8)f<<=1,f|=r>>m+c&1;for(var m=0;m<=24;m+=8)f<<=1,f|=e>>m+c&1}for(var m=0;m<=24;m+=8)f<<=1,f|=e>>m+c&1;i[n+0]=s>>>0,i[n+1]=f>>>0};$o.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var U1=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];$o.pc2=function(e,r,i,n){for(var s=0,f=0,c=U1.length>>>1,m=0;m<c;m++)s<<=1,s|=e>>>U1[m]&1;for(var m=c;m<U1.length;m++)f<<=1,f|=r>>>U1[m]&1;i[n+0]=s>>>0,i[n+1]=f>>>0};$o.expand=function(e,r,i){var n=0,s=0;n=(e&1)<<5|e>>>27;for(var f=23;f>=15;f-=4)n<<=6,n|=e>>>f&63;for(var f=11;f>=3;f-=4)s|=e>>>f&63,s<<=6;s|=(e&31)<<1|e>>>31,r[i+0]=n>>>0,r[i+1]=s>>>0};var Uq=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];$o.substitute=function(e,r){for(var i=0,n=0;n<4;n++){var s=e>>>18-n*6&63,f=Uq[n*64+s];i<<=4,i|=f}for(var n=0;n<4;n++){var s=r>>>18-n*6&63,f=Uq[4*64+n*64+s];i<<=4,i|=f}return i>>>0};var Fq=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];$o.permute=function(e){for(var r=0,i=0;i<Fq.length;i++)r<<=1,r|=e>>>Fq[i]&1;return r>>>0};$o.padSplit=function(e,r,i){for(var n=e.toString(2);n.length<r;)n="0"+n;for(var s=[],f=0;f<r;f+=i)s.push(n.slice(f,f+i));return s.join(" ")}});var xo=Z((S9e,Wq)=>{E();Wq.exports=$q;function $q(t,e){if(!t)throw new Error(e||"Assertion failed")}$q.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var F1=Z((A9e,Hq)=>{"use strict";E();var Kfe=xo();function Wo(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}Hq.exports=Wo;Wo.prototype._init=function(){};Wo.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Wo.prototype._buffer=function(e,r){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-r),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[r+n];return this.bufferOff+=i,i};Wo.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Wo.prototype._updateEncrypt=function(e){var r=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(s,i)));for(var f=e.length-(e.length-r)%this.blockSize;r<f;r+=this.blockSize)this._update(e,r,s,i),i+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};Wo.prototype._updateDecrypt=function(e){for(var r=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(e,r),i+=this._flushBuffer(s,i);return r+=this._buffer(e,r),s};Wo.prototype.final=function(e){var r;e&&(r=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),r?r.concat(i):i};Wo.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Wo.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Wo.prototype._unpad=function(e){return e};Wo.prototype._finalDecrypt=function(){Kfe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var n4=Z((R9e,Zq)=>{"use strict";E();var Gq=xo(),Zfe=Qe(),Oi=i4(),Kq=F1();function Vfe(){this.tmp=new Array(2),this.keys=null}function Aa(t){Kq.call(this,t);var e=new Vfe;this._desState=e,this.deriveKeys(e,t.key)}Zfe(Aa,Kq);Zq.exports=Aa;Aa.create=function(e){return new Aa(e)};var Yfe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Aa.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),Gq.equal(r.length,this.blockSize,"Invalid key length");var i=Oi.readUInt32BE(r,0),n=Oi.readUInt32BE(r,4);Oi.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var f=Yfe[s>>>1];i=Oi.r28shl(i,f),n=Oi.r28shl(n,f),Oi.pc2(i,n,e.keys,s)}};Aa.prototype._update=function(e,r,i,n){var s=this._desState,f=Oi.readUInt32BE(e,r),c=Oi.readUInt32BE(e,r+4);Oi.ip(f,c,s.tmp,0),f=s.tmp[0],c=s.tmp[1],this.type==="encrypt"?this._encrypt(s,f,c,s.tmp,0):this._decrypt(s,f,c,s.tmp,0),f=s.tmp[0],c=s.tmp[1],Oi.writeUInt32BE(i,f,n),Oi.writeUInt32BE(i,c,n+4)};Aa.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var i=e.length-r,n=r;n<e.length;n++)e[n]=i;return!0};Aa.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],i=e.length-r;i<e.length;i++)Gq.equal(e[i],r);return e.slice(0,e.length-r)};Aa.prototype._encrypt=function(e,r,i,n,s){for(var f=r,c=i,m=0;m<e.keys.length;m+=2){var w=e.keys[m],_=e.keys[m+1];Oi.expand(c,e.tmp,0),w^=e.tmp[0],_^=e.tmp[1];var M=Oi.substitute(w,_),x=Oi.permute(M),T=c;c=(f^x)>>>0,f=T}Oi.rip(c,f,n,s)};Aa.prototype._decrypt=function(e,r,i,n,s){for(var f=i,c=r,m=e.keys.length-2;m>=0;m-=2){var w=e.keys[m],_=e.keys[m+1];Oi.expand(f,e.tmp,0),w^=e.tmp[0],_^=e.tmp[1];var M=Oi.substitute(w,_),x=Oi.permute(M),T=f;f=(c^x)>>>0,c=T}Oi.rip(f,c,n,s)}});var Yq=Z(Vq=>{"use strict";E();var Jfe=xo(),Xfe=Qe(),$1={};function Qfe(t){Jfe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function eue(t){function e(s){t.call(this,s),this._cbcInit()}Xfe(e,t);for(var r=Object.keys($1),i=0;i<r.length;i++){var n=r[i];e.prototype[n]=$1[n]}return e.create=function(f){return new e(f)},e}Vq.instantiate=eue;$1._cbcInit=function(){var e=new Qfe(this.options.iv);this._cbcState=e};$1._update=function(e,r,i,n){var s=this._cbcState,f=this.constructor.super_.prototype,c=s.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)c[m]^=e[r+m];f._update.call(this,c,0,i,n);for(var m=0;m<this.blockSize;m++)c[m]=i[n+m]}else{f._update.call(this,e,r,i,n);for(var m=0;m<this.blockSize;m++)i[n+m]^=c[m];for(var m=0;m<this.blockSize;m++)c[m]=e[r+m]}}});var Qq=Z((B9e,Xq)=>{"use strict";E();var tue=xo(),rue=Qe(),Jq=F1(),Tu=n4();function iue(t,e){tue.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);t==="encrypt"?this.ciphers=[Tu.create({type:"encrypt",key:r}),Tu.create({type:"decrypt",key:i}),Tu.create({type:"encrypt",key:n})]:this.ciphers=[Tu.create({type:"decrypt",key:n}),Tu.create({type:"encrypt",key:i}),Tu.create({type:"decrypt",key:r})]}function hd(t){Jq.call(this,t);var e=new iue(this.type,this.options.key);this._edeState=e}rue(hd,Jq);Xq.exports=hd;hd.create=function(e){return new hd(e)};hd.prototype._update=function(e,r,i,n){var s=this._edeState;s.ciphers[0]._update(e,r,i,n),s.ciphers[1]._update(i,n,i,n),s.ciphers[2]._update(i,n,i,n)};hd.prototype._pad=Tu.prototype._pad;hd.prototype._unpad=Tu.prototype._unpad});var ej=Z(Bc=>{"use strict";E();Bc.utils=i4();Bc.Cipher=F1();Bc.DES=n4();Bc.CBC=Yq();Bc.EDE=Qq()});var ij=Z((q9e,rj)=>{E();var tj=Ef(),Af=ej(),nue=Qe(),cd=qt().Buffer,Sm={"des-ede3-cbc":Af.CBC.instantiate(Af.EDE),"des-ede3":Af.EDE,"des-ede-cbc":Af.CBC.instantiate(Af.EDE),"des-ede":Af.EDE,"des-cbc":Af.CBC.instantiate(Af.DES),"des-ecb":Af.DES};Sm.des=Sm["des-cbc"];Sm.des3=Sm["des-ede3-cbc"];rj.exports=W1;nue(W1,tj);function W1(t){tj.call(this);var e=t.mode.toLowerCase(),r=Sm[e],i;t.decrypt?i="decrypt":i="encrypt";var n=t.key;cd.isBuffer(n)||(n=cd.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=cd.concat([n,n.slice(0,8)]));var s=t.iv;cd.isBuffer(s)||(s=cd.from(s)),this._des=r.create({key:n,iv:s,type:i})}W1.prototype._update=function(t){return cd.from(this._des.update(t))};W1.prototype._final=function(){return cd.from(this._des.final())}});var nj=Z(o4=>{E();o4.encrypt=function(t,e){return t._cipher.encryptBlock(e)};o4.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Dc=Z((z9e,oj)=>{E();oj.exports=function(e,r){for(var i=Math.min(e.length,r.length),n=new L.Buffer(i),s=0;s<i;++s)n[s]=e[s]^r[s];return n}});var aj=Z(s4=>{E();var sj=Dc();s4.encrypt=function(t,e){var r=sj(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};s4.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return sj(i,r)}});var lj=Z(uj=>{E();var Em=qt().Buffer,oue=Dc();function fj(t,e,r){var i=e.length,n=oue(e,t._cache);return t._cache=t._cache.slice(i),t._prev=Em.concat([t._prev,r?e:n]),n}uj.encrypt=function(t,e,r){for(var i=Em.allocUnsafe(0),n;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=Em.allocUnsafe(0)),t._cache.length<=e.length)n=t._cache.length,i=Em.concat([i,fj(t,e.slice(0,n),r)]),e=e.slice(n);else{i=Em.concat([i,fj(t,e,r)]);break}return i}});var hj=Z(dj=>{E();var a4=qt().Buffer;function sue(t,e,r){var i=t._cipher.encryptBlock(t._prev),n=i[0]^e;return t._prev=a4.concat([t._prev.slice(1),a4.from([r?e:n])]),n}dj.encrypt=function(t,e,r){for(var i=e.length,n=a4.allocUnsafe(i),s=-1;++s<i;)n[s]=sue(t,e[s],r);return n}});var pj=Z(cj=>{E();var H1=qt().Buffer;function aue(t,e,r){for(var i,n=-1,s=8,f=0,c,m;++n<s;)i=t._cipher.encryptBlock(t._prev),c=e&1<<7-n?128:0,m=i[0]^c,f+=(m&128)>>n%8,t._prev=fue(t._prev,r?c:m);return f}function fue(t,e){var r=t.length,i=-1,n=H1.allocUnsafe(t.length);for(t=H1.concat([t,H1.from([e])]);++i<r;)n[i]=t[i]<<1|t[i+1]>>7;return n}cj.encrypt=function(t,e,r){for(var i=e.length,n=H1.allocUnsafe(i),s=-1;++s<i;)n[s]=aue(t,e[s],r);return n}});var yj=Z(mj=>{E();var uue=Dc();function lue(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}mj.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=L.Buffer.concat([t._cache,lue(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),uue(e,r)}});var f4=Z((X9e,gj)=>{E();function due(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}gj.exports=due});var l4=Z(bj=>{E();var hue=Dc(),vj=qt().Buffer,cue=f4();function pue(t){var e=t._cipher.encryptBlockRaw(t._prev);return cue(t._prev),e}var u4=16;bj.encrypt=function(t,e){var r=Math.ceil(e.length/u4),i=t._cache.length;t._cache=vj.concat([t._cache,vj.allocUnsafe(r*u4)]);for(var n=0;n<r;n++){var s=pue(t),f=i+n*u4;t._cache.writeUInt32BE(s[0],f+0),t._cache.writeUInt32BE(s[1],f+4),t._cache.writeUInt32BE(s[2],f+8),t._cache.writeUInt32BE(s[3],f+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),hue(e,c)}});var d4=Z((rAe,mue)=>{mue.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var K1=Z((iAe,wj)=>{E();var yue={ECB:nj(),CBC:aj(),CFB:lj(),CFB8:hj(),CFB1:pj(),OFB:yj(),CTR:l4(),GCM:l4()},G1=d4();for(h4 in G1)G1[h4].module=yue[G1[h4].mode];var h4;wj.exports=G1});var Am=Z((oAe,Mj)=>{E();var Z1=qt().Buffer;function p4(t){Z1.isBuffer(t)||(t=Z1.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(i*4);return r}function c4(t){for(var e=0;e<t.length;t++)t[e]=0}function _j(t,e,r,i,n){for(var s=r[0],f=r[1],c=r[2],m=r[3],w=t[0]^e[0],_=t[1]^e[1],M=t[2]^e[2],x=t[3]^e[3],T,A,I,D,k=4,C=1;C<n;C++)T=s[w>>>24]^f[_>>>16&255]^c[M>>>8&255]^m[x&255]^e[k++],A=s[_>>>24]^f[M>>>16&255]^c[x>>>8&255]^m[w&255]^e[k++],I=s[M>>>24]^f[x>>>16&255]^c[w>>>8&255]^m[_&255]^e[k++],D=s[x>>>24]^f[w>>>16&255]^c[_>>>8&255]^m[M&255]^e[k++],w=T,_=A,M=I,x=D;return T=(i[w>>>24]<<24|i[_>>>16&255]<<16|i[M>>>8&255]<<8|i[x&255])^e[k++],A=(i[_>>>24]<<24|i[M>>>16&255]<<16|i[x>>>8&255]<<8|i[w&255])^e[k++],I=(i[M>>>24]<<24|i[x>>>16&255]<<16|i[w>>>8&255]<<8|i[_&255])^e[k++],D=(i[x>>>24]<<24|i[w>>>16&255]<<16|i[_>>>8&255]<<8|i[M&255])^e[k++],T=T>>>0,A=A>>>0,I=I>>>0,D=D>>>0,[T,A,I,D]}var gue=[0,1,2,4,8,16,32,64,128,27,54],Si=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],s=[[],[],[],[]],f=0,c=0,m=0;m<256;++m){var w=c^c<<1^c<<2^c<<3^c<<4;w=w>>>8^w&255^99,r[f]=w,i[w]=f;var _=t[f],M=t[_],x=t[M],T=t[w]*257^w*16843008;n[0][f]=T<<24|T>>>8,n[1][f]=T<<16|T>>>16,n[2][f]=T<<8|T>>>24,n[3][f]=T,T=x*16843009^M*65537^_*257^f*16843008,s[0][w]=T<<24|T>>>8,s[1][w]=T<<16|T>>>16,s[2][w]=T<<8|T>>>24,s[3][w]=T,f===0?f=c=1:(f=_^t[t[t[x^_]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:s}}();function Ho(t){this._key=p4(t),this._reset()}Ho.blockSize=4*4;Ho.keySize=256/8;Ho.prototype.blockSize=Ho.blockSize;Ho.prototype.keySize=Ho.keySize;Ho.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=(r+1)*4,n=[],s=0;s<e;s++)n[s]=t[s];for(s=e;s<i;s++){var f=n[s-1];s%e===0?(f=f<<8|f>>>24,f=Si.SBOX[f>>>24]<<24|Si.SBOX[f>>>16&255]<<16|Si.SBOX[f>>>8&255]<<8|Si.SBOX[f&255],f^=gue[s/e|0]<<24):e>6&&s%e===4&&(f=Si.SBOX[f>>>24]<<24|Si.SBOX[f>>>16&255]<<16|Si.SBOX[f>>>8&255]<<8|Si.SBOX[f&255]),n[s]=n[s-e]^f}for(var c=[],m=0;m<i;m++){var w=i-m,_=n[w-(m%4?0:4)];m<4||w<=4?c[m]=_:c[m]=Si.INV_SUB_MIX[0][Si.SBOX[_>>>24]]^Si.INV_SUB_MIX[1][Si.SBOX[_>>>16&255]]^Si.INV_SUB_MIX[2][Si.SBOX[_>>>8&255]]^Si.INV_SUB_MIX[3][Si.SBOX[_&255]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=c};Ho.prototype.encryptBlockRaw=function(t){return t=p4(t),_j(t,this._keySchedule,Si.SUB_MIX,Si.SBOX,this._nRounds)};Ho.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=Z1.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Ho.prototype.decryptBlock=function(t){t=p4(t);var e=t[1];t[1]=t[3],t[3]=e;var r=_j(t,this._invKeySchedule,Si.INV_SUB_MIX,Si.INV_SBOX,this._nRounds),i=Z1.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i};Ho.prototype.scrub=function(){c4(this._keySchedule),c4(this._invKeySchedule),c4(this._key)};Mj.exports.AES=Ho});var Ej=Z((aAe,Sj)=>{E();var Cc=qt().Buffer,vue=Cc.alloc(16,0);function bue(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function xj(t){var e=Cc.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Tm(t){this.h=t,this.state=Cc.alloc(16,0),this.cache=Cc.allocUnsafe(0)}Tm.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Tm.prototype._multiply=function(){for(var t=bue(this.h),e=[0,0,0,0],r,i,n,s=-1;++s<128;){for(i=(this.state[~~(s/8)]&1<<7-s%8)!==0,i&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),n=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,n&&(t[0]=t[0]^225<<24)}this.state=xj(e)};Tm.prototype.update=function(t){this.cache=Cc.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Tm.prototype.final=function(t,e){return this.cache.length&&this.ghash(Cc.concat([this.cache,vue],16)),this.ghash(xj([0,t,0,e])),this.state};Sj.exports=Tm});var m4=Z((uAe,Rj)=>{E();var wue=Am(),to=qt().Buffer,Aj=Ef(),_ue=Qe(),Tj=Ej(),Mue=Dc(),xue=f4();function Sue(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}function Eue(t,e,r){if(e.length===12)return t._finID=to.concat([e,to.from([0,0,0,1])]),to.concat([e,to.from([0,0,0,2])]);var i=new Tj(r),n=e.length,s=n%16;i.update(e),s&&(s=16-s,i.update(to.alloc(s,0))),i.update(to.alloc(8,0));var f=n*8,c=to.alloc(8);c.writeUIntBE(f,0,8),i.update(c),t._finID=i.state;var m=to.from(t._finID);return xue(m),m}function pd(t,e,r,i){Aj.call(this);var n=to.alloc(4,0);this._cipher=new wue.AES(e);var s=this._cipher.encryptBlock(n);this._ghash=new Tj(s),r=Eue(this,r,s),this._prev=to.from(r),this._cache=to.allocUnsafe(0),this._secCache=to.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}_ue(pd,Aj);pd.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=to.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};pd.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Mue(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Sue(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};pd.prototype.getAuthTag=function(){if(this._decrypt||!to.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};pd.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};pd.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};Rj.exports=pd});var g4=Z((dAe,kj)=>{E();var Aue=Am(),y4=qt().Buffer,Pj=Ef(),Tue=Qe();function V1(t,e,r,i){Pj.call(this),this._cipher=new Aue.AES(e),this._prev=y4.from(r),this._cache=y4.allocUnsafe(0),this._secCache=y4.allocUnsafe(0),this._decrypt=i,this._mode=t}Tue(V1,Pj);V1.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};V1.prototype._final=function(){this._cipher.scrub()};kj.exports=V1});var Rm=Z((cAe,Ij)=>{E();var md=qt().Buffer,Rue=P1();function Pue(t,e,r,i){if(md.isBuffer(t)||(t=md.from(t,"binary")),e&&(md.isBuffer(e)||(e=md.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=r/8,s=md.alloc(n),f=md.alloc(i||0),c=md.alloc(0);n>0||i>0;){var m=new Rue;m.update(c),m.update(t),e&&m.update(e),c=m.digest();var w=0;if(n>0){var _=s.length-n;w=Math.min(n,c.length),c.copy(s,_,0,w),n-=w}if(w<c.length&&i>0){var M=f.length-i,x=Math.min(i,c.length-w);c.copy(f,M,w,w+x),i-=x}}return c.fill(0),{key:s,iv:f}}Ij.exports=Pue});var Oj=Z(v4=>{E();var Bj=K1(),kue=m4(),Tf=qt().Buffer,Iue=g4(),Dj=Ef(),Bue=Am(),Due=Rm(),Cue=Qe();function Pm(t,e,r){Dj.call(this),this._cache=new Y1,this._cipher=new Bue.AES(e),this._prev=Tf.from(r),this._mode=t,this._autopadding=!0}Cue(Pm,Dj);Pm.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return Tf.concat(i)};var Oue=Tf.alloc(16,16);Pm.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(Oue))throw this._cipher.scrub(),new Error("data not multiple of block length")};Pm.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Y1(){this.cache=Tf.allocUnsafe(0)}Y1.prototype.add=function(t){this.cache=Tf.concat([this.cache,t])};Y1.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Y1.prototype.flush=function(){for(var t=16-this.cache.length,e=Tf.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Tf.concat([this.cache,e])};function Cj(t,e,r){var i=Bj[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Tf.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Tf.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return i.type==="stream"?new Iue(i.module,e,r):i.type==="auth"?new kue(i.module,e,r):new Pm(i.module,e,r)}function que(t,e){var r=Bj[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=Due(e,!1,r.key,r.iv);return Cj(t,i.key,i.iv)}v4.createCipheriv=Cj;v4.createCipher=que});var Lj=Z(b4=>{E();var jue=m4(),Oc=qt().Buffer,qj=K1(),Nue=g4(),jj=Ef(),Lue=Am(),zue=Rm(),Uue=Qe();function km(t,e,r){jj.call(this),this._cache=new J1,this._last=void 0,this._cipher=new Lue.AES(e),this._prev=Oc.from(r),this._mode=t,this._autopadding=!0}Uue(km,jj);km.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return Oc.concat(i)};km.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return Fue(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};km.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function J1(){this.cache=Oc.allocUnsafe(0)}J1.prototype.add=function(t){this.cache=Oc.concat([this.cache,t])};J1.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};J1.prototype.flush=function(){if(this.cache.length)return this.cache};function Fue(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function Nj(t,e,r){var i=qj[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Oc.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Oc.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new Nue(i.module,e,r,!0):i.type==="auth"?new jue(i.module,e,r,!0):new km(i.module,e,r)}function $ue(t,e){var r=qj[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=zue(e,!1,r.key,r.iv);return Nj(t,i.key,i.iv)}b4.createDecipher=$ue;b4.createDecipheriv=Nj});var X1=Z(As=>{E();var zj=Oj(),Uj=Lj(),Wue=d4();function Hue(){return Object.keys(Wue)}As.createCipher=As.Cipher=zj.createCipher;As.createCipheriv=As.Cipheriv=zj.createCipheriv;As.createDecipher=As.Decipher=Uj.createDecipher;As.createDecipheriv=As.Decipheriv=Uj.createDecipheriv;As.listCiphers=As.getCiphers=Hue});var Fj=Z(Rf=>{E();Rf["des-ecb"]={key:8,iv:0};Rf["des-cbc"]=Rf.des={key:8,iv:8};Rf["des-ede3-cbc"]=Rf.des3={key:24,iv:8};Rf["des-ede3"]={key:24,iv:0};Rf["des-ede-cbc"]={key:16,iv:8};Rf["des-ede"]={key:16,iv:0}});var Kj=Z(Ts=>{E();var $j=ij(),w4=X1(),Ru=K1(),Pf=Fj(),Wj=Rm();function Gue(t,e){t=t.toLowerCase();var r,i;if(Ru[t])r=Ru[t].key,i=Ru[t].iv;else if(Pf[t])r=Pf[t].key*8,i=Pf[t].iv;else throw new TypeError("invalid suite type");var n=Wj(e,!1,r,i);return Hj(t,n.key,n.iv)}function Kue(t,e){t=t.toLowerCase();var r,i;if(Ru[t])r=Ru[t].key,i=Ru[t].iv;else if(Pf[t])r=Pf[t].key*8,i=Pf[t].iv;else throw new TypeError("invalid suite type");var n=Wj(e,!1,r,i);return Gj(t,n.key,n.iv)}function Hj(t,e,r){if(t=t.toLowerCase(),Ru[t])return w4.createCipheriv(t,e,r);if(Pf[t])return new $j({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function Gj(t,e,r){if(t=t.toLowerCase(),Ru[t])return w4.createDecipheriv(t,e,r);if(Pf[t])return new $j({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function Zue(){return Object.keys(Pf).concat(w4.getCiphers())}Ts.createCipher=Ts.Cipher=Gue;Ts.createCipheriv=Ts.Cipheriv=Hj;Ts.createDecipher=Ts.Decipher=Kue;Ts.createDecipheriv=Ts.Decipheriv=Gj;Ts.listCiphers=Ts.getCiphers=Zue});var M4=Z((Zj,_4)=>{E();(function(t,e){"use strict";function r(b,o){if(!b)throw new Error(o||"Assertion failed")}function i(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function n(b,o,u){if(n.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wt().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(u===16?this._parseHex(o,l,h):(this._parseBase(o,u,l),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d,y,v=0;if(h==="be")for(l=o.length-1,d=0;l>=0;l-=3)y=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);else if(h==="le")for(l=0,d=0;l<o.length;l+=3)y=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);return this.strip()};function f(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(b,o,u){var h=f(b,u);return u-1>=o&&(h|=f(b,u-1)<<4),h}n.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d=0,y=0,v;if(h==="be")for(l=o.length-1;l>=u;l-=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8;else{var p=o.length-u;for(l=p%2===0?u+1:u;l<o.length;l+=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8}this.strip()};function m(b,o,u,h){for(var l=0,d=Math.min(b.length,u),y=o;y<d;y++){var v=b.charCodeAt(y)-48;l*=h,v>=49?l+=v-49+10:v>=17?l+=v-17+10:l+=v}return l}n.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var l=0,d=1;d<=67108863;d*=u)l++;l--,d=d/u|0;for(var y=o.length-h,v=y%l,p=Math.min(y,y-v)+h,a=0,g=h;g<p;g+=l)a=m(o,g,g+l,u),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var P=1;for(a=m(o,g,o.length,u),g=0;g<v;g++)P*=u;this.imuln(P),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var l=0,d=0,y=0;y<this.length;y++){var v=this.words[y],p=((v<<l|d)&16777215).toString(16);d=v>>>24-l&16777215,d!==0||y!==this.length-1?h=w[6-p.length]+p+h:h=p+h,l+=2,l>=26&&(l-=26,y--)}for(d!==0&&(h=d.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=M[o];h="";var P=this.clone();for(P.negative=0;!P.isZero();){var S=P.modn(g).toString(o);P=P.idivn(g),P.isZero()?h=S+h:h=w[a-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return r(typeof s<"u"),this.toArrayLike(s,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,h){var l=this.byteLength(),d=h||Math.max(1,l);r(l<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var y=u==="le",v=new o(d),p,a,g=this.clone();if(y){for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[a]=p;for(;a<d;a++)v[a]=0}else{for(a=0;a<d-l;a++)v[a]=0;for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[d-a-1]=p}return v},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var h=u/26|0,l=u%26;o[u]=(b.words[h]&1<<l)>>>l}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var l=0;l<h.length;l++)this.words[l]=u.words[l]^h.words[l];if(this!==u)for(;l<u.length;l++)this.words[l]=u.words[l];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var l=0;l<u;l++)this.words[l]=~this.words[l]&67108863;return h>0&&(this.words[l]=~this.words[l]&67108863>>26-h),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,l=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<l:this.words[h]=this.words[h]&~(1<<l),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,l;this.length>o.length?(h=this,l=o):(h=o,l=this);for(var d=0,y=0;y<l.length;y++)u=(h.words[y]|0)+(l.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;for(;d!==0&&y<h.length;y++)u=(h.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;if(this.length=h.length,d!==0)this.words[this.length]=d,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,d;h>0?(l=this,d=o):(l=o,d=this);for(var y=0,v=0;v<d.length;v++)u=(l.words[v]|0)-(d.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;for(;y!==0&&v<l.length;v++)u=(l.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;if(y===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function T(b,o,u){u.negative=o.negative^b.negative;var h=b.length+o.length|0;u.length=h,h=h-1|0;var l=b.words[0]|0,d=o.words[0]|0,y=l*d,v=y&67108863,p=y/67108864|0;u.words[0]=v;for(var a=1;a<h;a++){for(var g=p>>>26,P=p&67108863,S=Math.min(a,o.length-1),B=Math.max(0,a-b.length+1);B<=S;B++){var z=a-B|0;l=b.words[z]|0,d=o.words[B]|0,y=l*d+P,g+=y/67108864|0,P=y&67108863}u.words[a]=P|0,p=g|0}return p!==0?u.words[a]=p|0:u.length--,u.strip()}var A=function(o,u,h){var l=o.words,d=u.words,y=h.words,v=0,p,a,g,P=l[0]|0,S=P&8191,B=P>>>13,z=l[1]|0,H=z&8191,G=z>>>13,J=l[2]|0,K=J&8191,Y=J>>>13,ze=l[3]|0,X=ze&8191,Q=ze>>>13,et=l[4]|0,te=et&8191,re=et>>>13,$t=l[5]|0,ie=$t&8191,ne=$t>>>13,Dr=l[6]|0,se=Dr&8191,oe=Dr>>>13,fi=l[7]|0,ae=fi&8191,fe=fi>>>13,ui=l[8]|0,ue=ui&8191,le=ui>>>13,li=l[9]|0,de=li&8191,he=li>>>13,di=d[0]|0,ce=di&8191,pe=di>>>13,hi=d[1]|0,me=hi&8191,ye=hi>>>13,ci=d[2]|0,ge=ci&8191,ve=ci>>>13,pi=d[3]|0,be=pi&8191,we=pi>>>13,mi=d[4]|0,_e=mi&8191,Me=mi>>>13,yi=d[5]|0,xe=yi&8191,Se=yi>>>13,gi=d[6]|0,Ee=gi&8191,Ae=gi>>>13,vi=d[7]|0,Te=vi&8191,Re=vi>>>13,bi=d[8]|0,Pe=bi&8191,ke=bi>>>13,wi=d[9]|0,Ie=wi&8191,Be=wi>>>13;h.negative=o.negative^u.negative,h.length=19,p=Math.imul(S,ce),a=Math.imul(S,pe),a=a+Math.imul(B,ce)|0,g=Math.imul(B,pe);var Ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(H,ce),a=Math.imul(H,pe),a=a+Math.imul(G,ce)|0,g=Math.imul(G,pe),p=p+Math.imul(S,me)|0,a=a+Math.imul(S,ye)|0,a=a+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var dt=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dt>>>26)|0,dt&=67108863,p=Math.imul(K,ce),a=Math.imul(K,pe),a=a+Math.imul(Y,ce)|0,g=Math.imul(Y,pe),p=p+Math.imul(H,me)|0,a=a+Math.imul(H,ye)|0,a=a+Math.imul(G,me)|0,g=g+Math.imul(G,ye)|0,p=p+Math.imul(S,ge)|0,a=a+Math.imul(S,ve)|0,a=a+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var ht=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ht>>>26)|0,ht&=67108863,p=Math.imul(X,ce),a=Math.imul(X,pe),a=a+Math.imul(Q,ce)|0,g=Math.imul(Q,pe),p=p+Math.imul(K,me)|0,a=a+Math.imul(K,ye)|0,a=a+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,p=p+Math.imul(H,ge)|0,a=a+Math.imul(H,ve)|0,a=a+Math.imul(G,ge)|0,g=g+Math.imul(G,ve)|0,p=p+Math.imul(S,be)|0,a=a+Math.imul(S,we)|0,a=a+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var or=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(or>>>26)|0,or&=67108863,p=Math.imul(te,ce),a=Math.imul(te,pe),a=a+Math.imul(re,ce)|0,g=Math.imul(re,pe),p=p+Math.imul(X,me)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(Q,me)|0,g=g+Math.imul(Q,ye)|0,p=p+Math.imul(K,ge)|0,a=a+Math.imul(K,ve)|0,a=a+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,p=p+Math.imul(H,be)|0,a=a+Math.imul(H,we)|0,a=a+Math.imul(G,be)|0,g=g+Math.imul(G,we)|0,p=p+Math.imul(S,_e)|0,a=a+Math.imul(S,Me)|0,a=a+Math.imul(B,_e)|0,g=g+Math.imul(B,Me)|0;var sr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,p=Math.imul(ie,ce),a=Math.imul(ie,pe),a=a+Math.imul(ne,ce)|0,g=Math.imul(ne,pe),p=p+Math.imul(te,me)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,p=p+Math.imul(X,ge)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(Q,ge)|0,g=g+Math.imul(Q,ve)|0,p=p+Math.imul(K,be)|0,a=a+Math.imul(K,we)|0,a=a+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,p=p+Math.imul(H,_e)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(G,_e)|0,g=g+Math.imul(G,Me)|0,p=p+Math.imul(S,xe)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(B,xe)|0,g=g+Math.imul(B,Se)|0;var ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,p=Math.imul(se,ce),a=Math.imul(se,pe),a=a+Math.imul(oe,ce)|0,g=Math.imul(oe,pe),p=p+Math.imul(ie,me)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,p=p+Math.imul(te,ge)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,p=p+Math.imul(X,be)|0,a=a+Math.imul(X,we)|0,a=a+Math.imul(Q,be)|0,g=g+Math.imul(Q,we)|0,p=p+Math.imul(K,_e)|0,a=a+Math.imul(K,Me)|0,a=a+Math.imul(Y,_e)|0,g=g+Math.imul(Y,Me)|0,p=p+Math.imul(H,xe)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(G,xe)|0,g=g+Math.imul(G,Se)|0,p=p+Math.imul(S,Ee)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(B,Ee)|0,g=g+Math.imul(B,Ae)|0;var fr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,p=Math.imul(ae,ce),a=Math.imul(ae,pe),a=a+Math.imul(fe,ce)|0,g=Math.imul(fe,pe),p=p+Math.imul(se,me)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,p=p+Math.imul(ie,ge)|0,a=a+Math.imul(ie,ve)|0,a=a+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,p=p+Math.imul(te,be)|0,a=a+Math.imul(te,we)|0,a=a+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,p=p+Math.imul(X,_e)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(Q,_e)|0,g=g+Math.imul(Q,Me)|0,p=p+Math.imul(K,xe)|0,a=a+Math.imul(K,Se)|0,a=a+Math.imul(Y,xe)|0,g=g+Math.imul(Y,Se)|0,p=p+Math.imul(H,Ee)|0,a=a+Math.imul(H,Ae)|0,a=a+Math.imul(G,Ee)|0,g=g+Math.imul(G,Ae)|0,p=p+Math.imul(S,Te)|0,a=a+Math.imul(S,Re)|0,a=a+Math.imul(B,Te)|0,g=g+Math.imul(B,Re)|0;var ur=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,p=Math.imul(ue,ce),a=Math.imul(ue,pe),a=a+Math.imul(le,ce)|0,g=Math.imul(le,pe),p=p+Math.imul(ae,me)|0,a=a+Math.imul(ae,ye)|0,a=a+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,p=p+Math.imul(se,ge)|0,a=a+Math.imul(se,ve)|0,a=a+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,p=p+Math.imul(ie,be)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,p=p+Math.imul(te,_e)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(re,_e)|0,g=g+Math.imul(re,Me)|0,p=p+Math.imul(X,xe)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(Q,xe)|0,g=g+Math.imul(Q,Se)|0,p=p+Math.imul(K,Ee)|0,a=a+Math.imul(K,Ae)|0,a=a+Math.imul(Y,Ee)|0,g=g+Math.imul(Y,Ae)|0,p=p+Math.imul(H,Te)|0,a=a+Math.imul(H,Re)|0,a=a+Math.imul(G,Te)|0,g=g+Math.imul(G,Re)|0,p=p+Math.imul(S,Pe)|0,a=a+Math.imul(S,ke)|0,a=a+Math.imul(B,Pe)|0,g=g+Math.imul(B,ke)|0;var lr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,p=Math.imul(de,ce),a=Math.imul(de,pe),a=a+Math.imul(he,ce)|0,g=Math.imul(he,pe),p=p+Math.imul(ue,me)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(le,me)|0,g=g+Math.imul(le,ye)|0,p=p+Math.imul(ae,ge)|0,a=a+Math.imul(ae,ve)|0,a=a+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,p=p+Math.imul(se,be)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,p=p+Math.imul(ie,_e)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(ne,_e)|0,g=g+Math.imul(ne,Me)|0,p=p+Math.imul(te,xe)|0,a=a+Math.imul(te,Se)|0,a=a+Math.imul(re,xe)|0,g=g+Math.imul(re,Se)|0,p=p+Math.imul(X,Ee)|0,a=a+Math.imul(X,Ae)|0,a=a+Math.imul(Q,Ee)|0,g=g+Math.imul(Q,Ae)|0,p=p+Math.imul(K,Te)|0,a=a+Math.imul(K,Re)|0,a=a+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Re)|0,p=p+Math.imul(H,Pe)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(G,Pe)|0,g=g+Math.imul(G,ke)|0,p=p+Math.imul(S,Ie)|0,a=a+Math.imul(S,Be)|0,a=a+Math.imul(B,Ie)|0,g=g+Math.imul(B,Be)|0;var dr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(de,me),a=Math.imul(de,ye),a=a+Math.imul(he,me)|0,g=Math.imul(he,ye),p=p+Math.imul(ue,ge)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(le,ge)|0,g=g+Math.imul(le,ve)|0,p=p+Math.imul(ae,be)|0,a=a+Math.imul(ae,we)|0,a=a+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,p=p+Math.imul(se,_e)|0,a=a+Math.imul(se,Me)|0,a=a+Math.imul(oe,_e)|0,g=g+Math.imul(oe,Me)|0,p=p+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(ne,xe)|0,g=g+Math.imul(ne,Se)|0,p=p+Math.imul(te,Ee)|0,a=a+Math.imul(te,Ae)|0,a=a+Math.imul(re,Ee)|0,g=g+Math.imul(re,Ae)|0,p=p+Math.imul(X,Te)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(Q,Te)|0,g=g+Math.imul(Q,Re)|0,p=p+Math.imul(K,Pe)|0,a=a+Math.imul(K,ke)|0,a=a+Math.imul(Y,Pe)|0,g=g+Math.imul(Y,ke)|0,p=p+Math.imul(H,Ie)|0,a=a+Math.imul(H,Be)|0,a=a+Math.imul(G,Ie)|0,g=g+Math.imul(G,Be)|0;var hr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,p=Math.imul(de,ge),a=Math.imul(de,ve),a=a+Math.imul(he,ge)|0,g=Math.imul(he,ve),p=p+Math.imul(ue,be)|0,a=a+Math.imul(ue,we)|0,a=a+Math.imul(le,be)|0,g=g+Math.imul(le,we)|0,p=p+Math.imul(ae,_e)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(fe,_e)|0,g=g+Math.imul(fe,Me)|0,p=p+Math.imul(se,xe)|0,a=a+Math.imul(se,Se)|0,a=a+Math.imul(oe,xe)|0,g=g+Math.imul(oe,Se)|0,p=p+Math.imul(ie,Ee)|0,a=a+Math.imul(ie,Ae)|0,a=a+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,Ae)|0,p=p+Math.imul(te,Te)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(re,Te)|0,g=g+Math.imul(re,Re)|0,p=p+Math.imul(X,Pe)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(Q,Pe)|0,g=g+Math.imul(Q,ke)|0,p=p+Math.imul(K,Ie)|0,a=a+Math.imul(K,Be)|0,a=a+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,Be)|0;var cr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,p=Math.imul(de,be),a=Math.imul(de,we),a=a+Math.imul(he,be)|0,g=Math.imul(he,we),p=p+Math.imul(ue,_e)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(le,_e)|0,g=g+Math.imul(le,Me)|0,p=p+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(fe,xe)|0,g=g+Math.imul(fe,Se)|0,p=p+Math.imul(se,Ee)|0,a=a+Math.imul(se,Ae)|0,a=a+Math.imul(oe,Ee)|0,g=g+Math.imul(oe,Ae)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,Re)|0,a=a+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Re)|0,p=p+Math.imul(te,Pe)|0,a=a+Math.imul(te,ke)|0,a=a+Math.imul(re,Pe)|0,g=g+Math.imul(re,ke)|0,p=p+Math.imul(X,Ie)|0,a=a+Math.imul(X,Be)|0,a=a+Math.imul(Q,Ie)|0,g=g+Math.imul(Q,Be)|0;var pr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(de,_e),a=Math.imul(de,Me),a=a+Math.imul(he,_e)|0,g=Math.imul(he,Me),p=p+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(le,xe)|0,g=g+Math.imul(le,Se)|0,p=p+Math.imul(ae,Ee)|0,a=a+Math.imul(ae,Ae)|0,a=a+Math.imul(fe,Ee)|0,g=g+Math.imul(fe,Ae)|0,p=p+Math.imul(se,Te)|0,a=a+Math.imul(se,Re)|0,a=a+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Re)|0,p=p+Math.imul(ie,Pe)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,ke)|0,p=p+Math.imul(te,Ie)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(re,Ie)|0,g=g+Math.imul(re,Be)|0;var mr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,p=Math.imul(de,xe),a=Math.imul(de,Se),a=a+Math.imul(he,xe)|0,g=Math.imul(he,Se),p=p+Math.imul(ue,Ee)|0,a=a+Math.imul(ue,Ae)|0,a=a+Math.imul(le,Ee)|0,g=g+Math.imul(le,Ae)|0,p=p+Math.imul(ae,Te)|0,a=a+Math.imul(ae,Re)|0,a=a+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Re)|0,p=p+Math.imul(se,Pe)|0,a=a+Math.imul(se,ke)|0,a=a+Math.imul(oe,Pe)|0,g=g+Math.imul(oe,ke)|0,p=p+Math.imul(ie,Ie)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,Be)|0;var yr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,p=Math.imul(de,Ee),a=Math.imul(de,Ae),a=a+Math.imul(he,Ee)|0,g=Math.imul(he,Ae),p=p+Math.imul(ue,Te)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(le,Te)|0,g=g+Math.imul(le,Re)|0,p=p+Math.imul(ae,Pe)|0,a=a+Math.imul(ae,ke)|0,a=a+Math.imul(fe,Pe)|0,g=g+Math.imul(fe,ke)|0,p=p+Math.imul(se,Ie)|0,a=a+Math.imul(se,Be)|0,a=a+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,Be)|0;var gr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(de,Te),a=Math.imul(de,Re),a=a+Math.imul(he,Te)|0,g=Math.imul(he,Re),p=p+Math.imul(ue,Pe)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(le,Pe)|0,g=g+Math.imul(le,ke)|0,p=p+Math.imul(ae,Ie)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,Be)|0;var vr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,p=Math.imul(de,Pe),a=Math.imul(de,ke),a=a+Math.imul(he,Pe)|0,g=Math.imul(he,ke),p=p+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(le,Ie)|0,g=g+Math.imul(le,Be)|0;var br=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(br>>>26)|0,br&=67108863,p=Math.imul(de,Ie),a=Math.imul(de,Be),a=a+Math.imul(he,Ie)|0,g=Math.imul(he,Be);var wr=(v+p|0)+((a&8191)<<13)|0;return v=(g+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,y[0]=Ar,y[1]=dt,y[2]=ht,y[3]=or,y[4]=sr,y[5]=ar,y[6]=fr,y[7]=ur,y[8]=lr,y[9]=dr,y[10]=hr,y[11]=cr,y[12]=pr,y[13]=mr,y[14]=yr,y[15]=gr,y[16]=vr,y[17]=br,y[18]=wr,v!==0&&(y[19]=v,h.length++),h};Math.imul||(A=T);function I(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var h=0,l=0,d=0;d<u.length-1;d++){var y=l;l=0;for(var v=h&67108863,p=Math.min(d,o.length-1),a=Math.max(0,d-b.length+1);a<=p;a++){var g=d-a,P=b.words[g]|0,S=o.words[a]|0,B=P*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+v|0,v=z&67108863,y=y+(z>>>26)|0,l+=y>>>26,y&=67108863}u.words[d]=v,h=y,y=l}return h!==0?u.words[d]=h:u.length--,u.strip()}function D(b,o,u){var h=new k;return h.mulp(b,o,u)}n.prototype.mulTo=function(o,u){var h,l=this.length+o.length;return this.length===10&&o.length===10?h=A(this,o,u):l<63?h=T(this,o,u):l<1024?h=I(this,o,u):h=D(this,o,u),h};function k(b,o){this.x=b,this.y=o}k.prototype.makeRBT=function(o){for(var u=new Array(o),h=n.prototype._countBits(o)-1,l=0;l<o;l++)u[l]=this.revBin(l,h,o);return u},k.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var l=0,d=0;d<u;d++)l|=(o&1)<<u-d-1,o>>=1;return l},k.prototype.permute=function(o,u,h,l,d,y){for(var v=0;v<y;v++)l[v]=u[o[v]],d[v]=h[o[v]]},k.prototype.transform=function(o,u,h,l,d,y){this.permute(y,o,u,h,l,d);for(var v=1;v<d;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),g=Math.sin(2*Math.PI/p),P=0;P<d;P+=p)for(var S=a,B=g,z=0;z<v;z++){var H=h[P+z],G=l[P+z],J=h[P+z+v],K=l[P+z+v],Y=S*J-B*K;K=S*K+B*J,J=Y,h[P+z]=H+J,l[P+z]=G+K,h[P+z+v]=H-J,l[P+z+v]=G-K,z!==p&&(Y=a*S-g*B,B=a*B+g*S,S=Y)}},k.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,l=h&1,d=0;for(h=h/2|0;h;h=h>>>1)d++;return 1<<d+1+l},k.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var l=0;l<h/2;l++){var d=o[l];o[l]=o[h-l-1],o[h-l-1]=d,d=u[l],u[l]=-u[h-l-1],u[h-l-1]=-d}},k.prototype.normalize13b=function(o,u){for(var h=0,l=0;l<u/2;l++){var d=Math.round(o[2*l+1]/u)*8192+Math.round(o[2*l]/u)+h;o[l]=d&67108863,d<67108864?h=0:h=d/67108864|0}return o},k.prototype.convert13b=function(o,u,h,l){for(var d=0,y=0;y<u;y++)d=d+(o[y]|0),h[2*y]=d&8191,d=d>>>13,h[2*y+1]=d&8191,d=d>>>13;for(y=2*u;y<l;++y)h[y]=0;r(d===0),r((d&-8192)===0)},k.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},k.prototype.mulp=function(o,u,h){var l=2*this.guessLen13b(o.length,u.length),d=this.makeRBT(l),y=this.stub(l),v=new Array(l),p=new Array(l),a=new Array(l),g=new Array(l),P=new Array(l),S=new Array(l),B=h.words;B.length=l,this.convert13b(o.words,o.length,v,l),this.convert13b(u.words,u.length,g,l),this.transform(v,y,p,a,l,d),this.transform(g,y,P,S,l,d);for(var z=0;z<l;z++){var H=p[z]*P[z]-a[z]*S[z];a[z]=p[z]*S[z]+a[z]*P[z],p[z]=H}return this.conjugate(p,a,l),this.transform(p,a,B,y,l,d),this.conjugate(B,y,l),this.normalize13b(B,l),h.negative=o.negative^u.negative,h.length=o.length+u.length,h.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),D(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var u=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,d=(l&67108863)+(u&67108863);u>>=26,u+=l/67108864|0,u+=d>>>26,this.words[h]=d&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var h=this,l=0;l<u.length&&u[l]===0;l++,h=h.sqr());if(++l<u.length)for(var d=h.sqr();l<u.length;l++,d=d.sqr())u[l]!==0&&(h=h.mul(d));return h},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=67108863>>>26-u<<26-u,d;if(u!==0){var y=0;for(d=0;d<this.length;d++){var v=this.words[d]&l,p=(this.words[d]|0)-v<<u;this.words[d]=p|y,y=v>>>26-u}y&&(this.words[d]=y,this.length++)}if(h!==0){for(d=this.length-1;d>=0;d--)this.words[d+h]=this.words[d];for(d=0;d<h;d++)this.words[d]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var l;u?l=(u-u%26)/26:l=0;var d=o%26,y=Math.min((o-d)/26,this.length),v=67108863^67108863>>>d<<d,p=h;if(l-=y,l=Math.max(0,l),p){for(var a=0;a<y;a++)p.words[a]=this.words[a];p.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=l);a--){var P=this.words[a]|0;this.words[a]=g<<26-d|P>>>d,g=P&v}return p&&g!==0&&(p.words[p.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return!1;var d=this.words[h];return!!(d&l)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var l=67108863^67108863>>>u<<u;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,h){var l=o.length+h,d;this._expand(l);var y,v=0;for(d=0;d<o.length;d++){y=(this.words[d+h]|0)+v;var p=(o.words[d]|0)*u;y-=p&67108863,v=(y>>26)-(p/67108864|0),this.words[d+h]=y&67108863}for(;d<this.length-h;d++)y=(this.words[d+h]|0)+v,v=y>>26,this.words[d+h]=y&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+v,v=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var h=this.length-o.length,l=this.clone(),d=o,y=d.words[d.length-1]|0,v=this._countBits(y);h=26-v,h!==0&&(d=d.ushln(h),l.iushln(h),y=d.words[d.length-1]|0);var p=l.length-d.length,a;if(u!=="mod"){a=new n(null),a.length=p+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var P=l.clone()._ishlnsubmul(d,1,p);P.negative===0&&(l=P,a&&(a.words[p]=1));for(var S=p-1;S>=0;S--){var B=(l.words[d.length+S]|0)*67108864+(l.words[d.length+S-1]|0);for(B=Math.min(B/y|0,67108863),l._ishlnsubmul(d,B,S);l.negative!==0;)B--,l.negative=0,l._ishlnsubmul(d,1,S),l.isZero()||(l.negative^=1);a&&(a.words[S]=B)}return a&&a.strip(),l.strip(),u!=="div"&&h!==0&&l.iushrn(h),{div:a||null,mod:l}},n.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,d,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,u),u!=="mod"&&(l=y.div.neg()),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.iadd(o)),{div:l,mod:d}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),u),u!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),u),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.isub(o)),{div:y.div,mod:d}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,l=o.ushrn(1),d=o.andln(1),y=h.cmp(l);return y<0||d===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){r(o<=67108863);for(var u=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(u*h+(this.words[l]|0))%o;return h},n.prototype.idivn=function(o){r(o<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+u*67108864;this.words[h]=l/o|0,u=l%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=new n(0),v=new n(1),p=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++p;for(var a=h.clone(),g=u.clone();!u.isZero();){for(var P=0,S=1;!(u.words[0]&S)&&P<26;++P,S<<=1);if(P>0)for(u.iushrn(P);P-- >0;)(l.isOdd()||d.isOdd())&&(l.iadd(a),d.isub(g)),l.iushrn(1),d.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(a),v.isub(g)),y.iushrn(1),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(y),d.isub(v)):(h.isub(u),y.isub(l),v.isub(d))}return{a:y,b:v,gcd:h.iushln(p)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,p=1;!(u.words[0]&p)&&v<26;++v,p<<=1);if(v>0)for(u.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var a=0,g=1;!(h.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(h.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(d)):(h.isub(u),d.isub(l))}var P;return u.cmpn(1)===0?P=l:P=d,P.cmpn(0)<0&&P.iadd(o),P},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var l=0;u.isEven()&&h.isEven();l++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var d=u.cmp(h);if(d<0){var y=u;u=h,h=y}else if(d===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(l)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=l,this;for(var d=l,y=h;d!==0&&y<this.length;y++){var v=this.words[y]|0;v+=d,d=v>>>26,v&=67108863,this.words[y]=v}return d!==0&&(this.words[y]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var l=this.words[0]|0;h=l===o?0:l<o?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var l=this.words[h]|0,d=o.words[h]|0;if(l!==d){l<d?u=-1:l>d&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new N(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(b,o){this.name=b,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var l=h<this.n?-1:u.ucmp(this.p);return l===0?(u.words[0]=0,u.length=1):l>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function U(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,O),U.prototype.split=function(o,u){for(var h=4194303,l=Math.min(o.length,9),d=0;d<l;d++)u.words[d]=o.words[d];if(u.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(u.words[u.length++]=y&h,d=10;d<o.length;d++){var v=o.words[d]|0;o.words[d-10]=(v&h)<<4|y>>>22,y=v}y>>>=22,o.words[d-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},U.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var l=o.words[h]|0;u+=l*977,o.words[h]=u&67108863,u=l*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,O);function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,O);function F(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,O),F.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var l=(o.words[h]|0)*19+u,d=l&67108863;l>>>=26,o.words[h]=d,u=l}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(C[o])return C[o];var u;if(o==="k256")u=new U;else if(o==="p224")u=new $;else if(o==="p192")u=new W;else if(o==="p25519")u=new F;else throw new Error("Unknown prime "+o);return C[o]=u,u};function N(b){if(typeof b=="string"){var o=n._prime(b);this.m=o.p,this.prime=o}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},N.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},N.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},N.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},N.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},N.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},N.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},N.prototype.isqr=function(o){return this.imul(o,o.clone())},N.prototype.sqr=function(o){return this.mul(o,o)},N.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(o,h)}for(var l=this.m.subn(1),d=0;!l.isZero()&&l.andln(1)===0;)d++,l.iushrn(1);r(!l.isZero());var y=new n(1).toRed(this),v=y.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var g=this.pow(a,l),P=this.pow(o,l.addn(1).iushrn(1)),S=this.pow(o,l),B=d;S.cmp(y)!==0;){for(var z=S,H=0;z.cmp(y)!==0;H++)z=z.redSqr();r(H<B);var G=this.pow(g,new n(1).iushln(B-H-1));P=P.redMul(G),g=G.redSqr(),S=S.redMul(g),B=H}return P},N.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,l=new Array(1<<h);l[0]=new n(1).toRed(this),l[1]=o;for(var d=2;d<l.length;d++)l[d]=this.mul(l[d-1],o);var y=l[0],v=0,p=0,a=u.bitLength()%26;for(a===0&&(a=26),d=u.length-1;d>=0;d--){for(var g=u.words[d],P=a-1;P>=0;P--){var S=g>>P&1;if(y!==l[0]&&(y=this.sqr(y)),S===0&&v===0){p=0;continue}v<<=1,v|=S,p++,!(p!==h&&(d!==0||P!==0))&&(y=this.mul(y,l[v]),p=0,v=0)}a=26}return y},N.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},N.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new V(o)};function V(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,N),V.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},V.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var h=o.mul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof _4>"u"||_4,Zj)});var Yj=Z((Vj,x4)=>{E();(function(t,e){"use strict";function r(b,o){if(!b)throw new Error(o||"Assertion failed")}function i(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function n(b,o,u){if(n.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wt().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(u===16?this._parseHex(o,l,h):(this._parseBase(o,u,l),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d,y,v=0;if(h==="be")for(l=o.length-1,d=0;l>=0;l-=3)y=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);else if(h==="le")for(l=0,d=0;l<o.length;l+=3)y=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);return this.strip()};function f(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(b,o,u){var h=f(b,u);return u-1>=o&&(h|=f(b,u-1)<<4),h}n.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d=0,y=0,v;if(h==="be")for(l=o.length-1;l>=u;l-=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8;else{var p=o.length-u;for(l=p%2===0?u+1:u;l<o.length;l+=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8}this.strip()};function m(b,o,u,h){for(var l=0,d=Math.min(b.length,u),y=o;y<d;y++){var v=b.charCodeAt(y)-48;l*=h,v>=49?l+=v-49+10:v>=17?l+=v-17+10:l+=v}return l}n.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var l=0,d=1;d<=67108863;d*=u)l++;l--,d=d/u|0;for(var y=o.length-h,v=y%l,p=Math.min(y,y-v)+h,a=0,g=h;g<p;g+=l)a=m(o,g,g+l,u),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var P=1;for(a=m(o,g,o.length,u),g=0;g<v;g++)P*=u;this.imuln(P),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var l=0,d=0,y=0;y<this.length;y++){var v=this.words[y],p=((v<<l|d)&16777215).toString(16);d=v>>>24-l&16777215,d!==0||y!==this.length-1?h=w[6-p.length]+p+h:h=p+h,l+=2,l>=26&&(l-=26,y--)}for(d!==0&&(h=d.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=M[o];h="";var P=this.clone();for(P.negative=0;!P.isZero();){var S=P.modn(g).toString(o);P=P.idivn(g),P.isZero()?h=S+h:h=w[a-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return r(typeof s<"u"),this.toArrayLike(s,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,h){var l=this.byteLength(),d=h||Math.max(1,l);r(l<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var y=u==="le",v=new o(d),p,a,g=this.clone();if(y){for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[a]=p;for(;a<d;a++)v[a]=0}else{for(a=0;a<d-l;a++)v[a]=0;for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[d-a-1]=p}return v},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var h=u/26|0,l=u%26;o[u]=(b.words[h]&1<<l)>>>l}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var l=0;l<h.length;l++)this.words[l]=u.words[l]^h.words[l];if(this!==u)for(;l<u.length;l++)this.words[l]=u.words[l];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var l=0;l<u;l++)this.words[l]=~this.words[l]&67108863;return h>0&&(this.words[l]=~this.words[l]&67108863>>26-h),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,l=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<l:this.words[h]=this.words[h]&~(1<<l),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,l;this.length>o.length?(h=this,l=o):(h=o,l=this);for(var d=0,y=0;y<l.length;y++)u=(h.words[y]|0)+(l.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;for(;d!==0&&y<h.length;y++)u=(h.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;if(this.length=h.length,d!==0)this.words[this.length]=d,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,d;h>0?(l=this,d=o):(l=o,d=this);for(var y=0,v=0;v<d.length;v++)u=(l.words[v]|0)-(d.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;for(;y!==0&&v<l.length;v++)u=(l.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;if(y===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function T(b,o,u){u.negative=o.negative^b.negative;var h=b.length+o.length|0;u.length=h,h=h-1|0;var l=b.words[0]|0,d=o.words[0]|0,y=l*d,v=y&67108863,p=y/67108864|0;u.words[0]=v;for(var a=1;a<h;a++){for(var g=p>>>26,P=p&67108863,S=Math.min(a,o.length-1),B=Math.max(0,a-b.length+1);B<=S;B++){var z=a-B|0;l=b.words[z]|0,d=o.words[B]|0,y=l*d+P,g+=y/67108864|0,P=y&67108863}u.words[a]=P|0,p=g|0}return p!==0?u.words[a]=p|0:u.length--,u.strip()}var A=function(o,u,h){var l=o.words,d=u.words,y=h.words,v=0,p,a,g,P=l[0]|0,S=P&8191,B=P>>>13,z=l[1]|0,H=z&8191,G=z>>>13,J=l[2]|0,K=J&8191,Y=J>>>13,ze=l[3]|0,X=ze&8191,Q=ze>>>13,et=l[4]|0,te=et&8191,re=et>>>13,$t=l[5]|0,ie=$t&8191,ne=$t>>>13,Dr=l[6]|0,se=Dr&8191,oe=Dr>>>13,fi=l[7]|0,ae=fi&8191,fe=fi>>>13,ui=l[8]|0,ue=ui&8191,le=ui>>>13,li=l[9]|0,de=li&8191,he=li>>>13,di=d[0]|0,ce=di&8191,pe=di>>>13,hi=d[1]|0,me=hi&8191,ye=hi>>>13,ci=d[2]|0,ge=ci&8191,ve=ci>>>13,pi=d[3]|0,be=pi&8191,we=pi>>>13,mi=d[4]|0,_e=mi&8191,Me=mi>>>13,yi=d[5]|0,xe=yi&8191,Se=yi>>>13,gi=d[6]|0,Ee=gi&8191,Ae=gi>>>13,vi=d[7]|0,Te=vi&8191,Re=vi>>>13,bi=d[8]|0,Pe=bi&8191,ke=bi>>>13,wi=d[9]|0,Ie=wi&8191,Be=wi>>>13;h.negative=o.negative^u.negative,h.length=19,p=Math.imul(S,ce),a=Math.imul(S,pe),a=a+Math.imul(B,ce)|0,g=Math.imul(B,pe);var Ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(H,ce),a=Math.imul(H,pe),a=a+Math.imul(G,ce)|0,g=Math.imul(G,pe),p=p+Math.imul(S,me)|0,a=a+Math.imul(S,ye)|0,a=a+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var dt=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dt>>>26)|0,dt&=67108863,p=Math.imul(K,ce),a=Math.imul(K,pe),a=a+Math.imul(Y,ce)|0,g=Math.imul(Y,pe),p=p+Math.imul(H,me)|0,a=a+Math.imul(H,ye)|0,a=a+Math.imul(G,me)|0,g=g+Math.imul(G,ye)|0,p=p+Math.imul(S,ge)|0,a=a+Math.imul(S,ve)|0,a=a+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var ht=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ht>>>26)|0,ht&=67108863,p=Math.imul(X,ce),a=Math.imul(X,pe),a=a+Math.imul(Q,ce)|0,g=Math.imul(Q,pe),p=p+Math.imul(K,me)|0,a=a+Math.imul(K,ye)|0,a=a+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,p=p+Math.imul(H,ge)|0,a=a+Math.imul(H,ve)|0,a=a+Math.imul(G,ge)|0,g=g+Math.imul(G,ve)|0,p=p+Math.imul(S,be)|0,a=a+Math.imul(S,we)|0,a=a+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var or=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(or>>>26)|0,or&=67108863,p=Math.imul(te,ce),a=Math.imul(te,pe),a=a+Math.imul(re,ce)|0,g=Math.imul(re,pe),p=p+Math.imul(X,me)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(Q,me)|0,g=g+Math.imul(Q,ye)|0,p=p+Math.imul(K,ge)|0,a=a+Math.imul(K,ve)|0,a=a+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,p=p+Math.imul(H,be)|0,a=a+Math.imul(H,we)|0,a=a+Math.imul(G,be)|0,g=g+Math.imul(G,we)|0,p=p+Math.imul(S,_e)|0,a=a+Math.imul(S,Me)|0,a=a+Math.imul(B,_e)|0,g=g+Math.imul(B,Me)|0;var sr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,p=Math.imul(ie,ce),a=Math.imul(ie,pe),a=a+Math.imul(ne,ce)|0,g=Math.imul(ne,pe),p=p+Math.imul(te,me)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,p=p+Math.imul(X,ge)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(Q,ge)|0,g=g+Math.imul(Q,ve)|0,p=p+Math.imul(K,be)|0,a=a+Math.imul(K,we)|0,a=a+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,p=p+Math.imul(H,_e)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(G,_e)|0,g=g+Math.imul(G,Me)|0,p=p+Math.imul(S,xe)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(B,xe)|0,g=g+Math.imul(B,Se)|0;var ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,p=Math.imul(se,ce),a=Math.imul(se,pe),a=a+Math.imul(oe,ce)|0,g=Math.imul(oe,pe),p=p+Math.imul(ie,me)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,p=p+Math.imul(te,ge)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,p=p+Math.imul(X,be)|0,a=a+Math.imul(X,we)|0,a=a+Math.imul(Q,be)|0,g=g+Math.imul(Q,we)|0,p=p+Math.imul(K,_e)|0,a=a+Math.imul(K,Me)|0,a=a+Math.imul(Y,_e)|0,g=g+Math.imul(Y,Me)|0,p=p+Math.imul(H,xe)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(G,xe)|0,g=g+Math.imul(G,Se)|0,p=p+Math.imul(S,Ee)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(B,Ee)|0,g=g+Math.imul(B,Ae)|0;var fr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,p=Math.imul(ae,ce),a=Math.imul(ae,pe),a=a+Math.imul(fe,ce)|0,g=Math.imul(fe,pe),p=p+Math.imul(se,me)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,p=p+Math.imul(ie,ge)|0,a=a+Math.imul(ie,ve)|0,a=a+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,p=p+Math.imul(te,be)|0,a=a+Math.imul(te,we)|0,a=a+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,p=p+Math.imul(X,_e)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(Q,_e)|0,g=g+Math.imul(Q,Me)|0,p=p+Math.imul(K,xe)|0,a=a+Math.imul(K,Se)|0,a=a+Math.imul(Y,xe)|0,g=g+Math.imul(Y,Se)|0,p=p+Math.imul(H,Ee)|0,a=a+Math.imul(H,Ae)|0,a=a+Math.imul(G,Ee)|0,g=g+Math.imul(G,Ae)|0,p=p+Math.imul(S,Te)|0,a=a+Math.imul(S,Re)|0,a=a+Math.imul(B,Te)|0,g=g+Math.imul(B,Re)|0;var ur=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,p=Math.imul(ue,ce),a=Math.imul(ue,pe),a=a+Math.imul(le,ce)|0,g=Math.imul(le,pe),p=p+Math.imul(ae,me)|0,a=a+Math.imul(ae,ye)|0,a=a+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,p=p+Math.imul(se,ge)|0,a=a+Math.imul(se,ve)|0,a=a+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,p=p+Math.imul(ie,be)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,p=p+Math.imul(te,_e)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(re,_e)|0,g=g+Math.imul(re,Me)|0,p=p+Math.imul(X,xe)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(Q,xe)|0,g=g+Math.imul(Q,Se)|0,p=p+Math.imul(K,Ee)|0,a=a+Math.imul(K,Ae)|0,a=a+Math.imul(Y,Ee)|0,g=g+Math.imul(Y,Ae)|0,p=p+Math.imul(H,Te)|0,a=a+Math.imul(H,Re)|0,a=a+Math.imul(G,Te)|0,g=g+Math.imul(G,Re)|0,p=p+Math.imul(S,Pe)|0,a=a+Math.imul(S,ke)|0,a=a+Math.imul(B,Pe)|0,g=g+Math.imul(B,ke)|0;var lr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,p=Math.imul(de,ce),a=Math.imul(de,pe),a=a+Math.imul(he,ce)|0,g=Math.imul(he,pe),p=p+Math.imul(ue,me)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(le,me)|0,g=g+Math.imul(le,ye)|0,p=p+Math.imul(ae,ge)|0,a=a+Math.imul(ae,ve)|0,a=a+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,p=p+Math.imul(se,be)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,p=p+Math.imul(ie,_e)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(ne,_e)|0,g=g+Math.imul(ne,Me)|0,p=p+Math.imul(te,xe)|0,a=a+Math.imul(te,Se)|0,a=a+Math.imul(re,xe)|0,g=g+Math.imul(re,Se)|0,p=p+Math.imul(X,Ee)|0,a=a+Math.imul(X,Ae)|0,a=a+Math.imul(Q,Ee)|0,g=g+Math.imul(Q,Ae)|0,p=p+Math.imul(K,Te)|0,a=a+Math.imul(K,Re)|0,a=a+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Re)|0,p=p+Math.imul(H,Pe)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(G,Pe)|0,g=g+Math.imul(G,ke)|0,p=p+Math.imul(S,Ie)|0,a=a+Math.imul(S,Be)|0,a=a+Math.imul(B,Ie)|0,g=g+Math.imul(B,Be)|0;var dr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(de,me),a=Math.imul(de,ye),a=a+Math.imul(he,me)|0,g=Math.imul(he,ye),p=p+Math.imul(ue,ge)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(le,ge)|0,g=g+Math.imul(le,ve)|0,p=p+Math.imul(ae,be)|0,a=a+Math.imul(ae,we)|0,a=a+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,p=p+Math.imul(se,_e)|0,a=a+Math.imul(se,Me)|0,a=a+Math.imul(oe,_e)|0,g=g+Math.imul(oe,Me)|0,p=p+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(ne,xe)|0,g=g+Math.imul(ne,Se)|0,p=p+Math.imul(te,Ee)|0,a=a+Math.imul(te,Ae)|0,a=a+Math.imul(re,Ee)|0,g=g+Math.imul(re,Ae)|0,p=p+Math.imul(X,Te)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(Q,Te)|0,g=g+Math.imul(Q,Re)|0,p=p+Math.imul(K,Pe)|0,a=a+Math.imul(K,ke)|0,a=a+Math.imul(Y,Pe)|0,g=g+Math.imul(Y,ke)|0,p=p+Math.imul(H,Ie)|0,a=a+Math.imul(H,Be)|0,a=a+Math.imul(G,Ie)|0,g=g+Math.imul(G,Be)|0;var hr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,p=Math.imul(de,ge),a=Math.imul(de,ve),a=a+Math.imul(he,ge)|0,g=Math.imul(he,ve),p=p+Math.imul(ue,be)|0,a=a+Math.imul(ue,we)|0,a=a+Math.imul(le,be)|0,g=g+Math.imul(le,we)|0,p=p+Math.imul(ae,_e)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(fe,_e)|0,g=g+Math.imul(fe,Me)|0,p=p+Math.imul(se,xe)|0,a=a+Math.imul(se,Se)|0,a=a+Math.imul(oe,xe)|0,g=g+Math.imul(oe,Se)|0,p=p+Math.imul(ie,Ee)|0,a=a+Math.imul(ie,Ae)|0,a=a+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,Ae)|0,p=p+Math.imul(te,Te)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(re,Te)|0,g=g+Math.imul(re,Re)|0,p=p+Math.imul(X,Pe)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(Q,Pe)|0,g=g+Math.imul(Q,ke)|0,p=p+Math.imul(K,Ie)|0,a=a+Math.imul(K,Be)|0,a=a+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,Be)|0;var cr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,p=Math.imul(de,be),a=Math.imul(de,we),a=a+Math.imul(he,be)|0,g=Math.imul(he,we),p=p+Math.imul(ue,_e)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(le,_e)|0,g=g+Math.imul(le,Me)|0,p=p+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(fe,xe)|0,g=g+Math.imul(fe,Se)|0,p=p+Math.imul(se,Ee)|0,a=a+Math.imul(se,Ae)|0,a=a+Math.imul(oe,Ee)|0,g=g+Math.imul(oe,Ae)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,Re)|0,a=a+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Re)|0,p=p+Math.imul(te,Pe)|0,a=a+Math.imul(te,ke)|0,a=a+Math.imul(re,Pe)|0,g=g+Math.imul(re,ke)|0,p=p+Math.imul(X,Ie)|0,a=a+Math.imul(X,Be)|0,a=a+Math.imul(Q,Ie)|0,g=g+Math.imul(Q,Be)|0;var pr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(de,_e),a=Math.imul(de,Me),a=a+Math.imul(he,_e)|0,g=Math.imul(he,Me),p=p+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(le,xe)|0,g=g+Math.imul(le,Se)|0,p=p+Math.imul(ae,Ee)|0,a=a+Math.imul(ae,Ae)|0,a=a+Math.imul(fe,Ee)|0,g=g+Math.imul(fe,Ae)|0,p=p+Math.imul(se,Te)|0,a=a+Math.imul(se,Re)|0,a=a+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Re)|0,p=p+Math.imul(ie,Pe)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,ke)|0,p=p+Math.imul(te,Ie)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(re,Ie)|0,g=g+Math.imul(re,Be)|0;var mr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,p=Math.imul(de,xe),a=Math.imul(de,Se),a=a+Math.imul(he,xe)|0,g=Math.imul(he,Se),p=p+Math.imul(ue,Ee)|0,a=a+Math.imul(ue,Ae)|0,a=a+Math.imul(le,Ee)|0,g=g+Math.imul(le,Ae)|0,p=p+Math.imul(ae,Te)|0,a=a+Math.imul(ae,Re)|0,a=a+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Re)|0,p=p+Math.imul(se,Pe)|0,a=a+Math.imul(se,ke)|0,a=a+Math.imul(oe,Pe)|0,g=g+Math.imul(oe,ke)|0,p=p+Math.imul(ie,Ie)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,Be)|0;var yr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,p=Math.imul(de,Ee),a=Math.imul(de,Ae),a=a+Math.imul(he,Ee)|0,g=Math.imul(he,Ae),p=p+Math.imul(ue,Te)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(le,Te)|0,g=g+Math.imul(le,Re)|0,p=p+Math.imul(ae,Pe)|0,a=a+Math.imul(ae,ke)|0,a=a+Math.imul(fe,Pe)|0,g=g+Math.imul(fe,ke)|0,p=p+Math.imul(se,Ie)|0,a=a+Math.imul(se,Be)|0,a=a+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,Be)|0;var gr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(de,Te),a=Math.imul(de,Re),a=a+Math.imul(he,Te)|0,g=Math.imul(he,Re),p=p+Math.imul(ue,Pe)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(le,Pe)|0,g=g+Math.imul(le,ke)|0,p=p+Math.imul(ae,Ie)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,Be)|0;var vr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,p=Math.imul(de,Pe),a=Math.imul(de,ke),a=a+Math.imul(he,Pe)|0,g=Math.imul(he,ke),p=p+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(le,Ie)|0,g=g+Math.imul(le,Be)|0;var br=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(br>>>26)|0,br&=67108863,p=Math.imul(de,Ie),a=Math.imul(de,Be),a=a+Math.imul(he,Ie)|0,g=Math.imul(he,Be);var wr=(v+p|0)+((a&8191)<<13)|0;return v=(g+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,y[0]=Ar,y[1]=dt,y[2]=ht,y[3]=or,y[4]=sr,y[5]=ar,y[6]=fr,y[7]=ur,y[8]=lr,y[9]=dr,y[10]=hr,y[11]=cr,y[12]=pr,y[13]=mr,y[14]=yr,y[15]=gr,y[16]=vr,y[17]=br,y[18]=wr,v!==0&&(y[19]=v,h.length++),h};Math.imul||(A=T);function I(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var h=0,l=0,d=0;d<u.length-1;d++){var y=l;l=0;for(var v=h&67108863,p=Math.min(d,o.length-1),a=Math.max(0,d-b.length+1);a<=p;a++){var g=d-a,P=b.words[g]|0,S=o.words[a]|0,B=P*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+v|0,v=z&67108863,y=y+(z>>>26)|0,l+=y>>>26,y&=67108863}u.words[d]=v,h=y,y=l}return h!==0?u.words[d]=h:u.length--,u.strip()}function D(b,o,u){var h=new k;return h.mulp(b,o,u)}n.prototype.mulTo=function(o,u){var h,l=this.length+o.length;return this.length===10&&o.length===10?h=A(this,o,u):l<63?h=T(this,o,u):l<1024?h=I(this,o,u):h=D(this,o,u),h};function k(b,o){this.x=b,this.y=o}k.prototype.makeRBT=function(o){for(var u=new Array(o),h=n.prototype._countBits(o)-1,l=0;l<o;l++)u[l]=this.revBin(l,h,o);return u},k.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var l=0,d=0;d<u;d++)l|=(o&1)<<u-d-1,o>>=1;return l},k.prototype.permute=function(o,u,h,l,d,y){for(var v=0;v<y;v++)l[v]=u[o[v]],d[v]=h[o[v]]},k.prototype.transform=function(o,u,h,l,d,y){this.permute(y,o,u,h,l,d);for(var v=1;v<d;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),g=Math.sin(2*Math.PI/p),P=0;P<d;P+=p)for(var S=a,B=g,z=0;z<v;z++){var H=h[P+z],G=l[P+z],J=h[P+z+v],K=l[P+z+v],Y=S*J-B*K;K=S*K+B*J,J=Y,h[P+z]=H+J,l[P+z]=G+K,h[P+z+v]=H-J,l[P+z+v]=G-K,z!==p&&(Y=a*S-g*B,B=a*B+g*S,S=Y)}},k.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,l=h&1,d=0;for(h=h/2|0;h;h=h>>>1)d++;return 1<<d+1+l},k.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var l=0;l<h/2;l++){var d=o[l];o[l]=o[h-l-1],o[h-l-1]=d,d=u[l],u[l]=-u[h-l-1],u[h-l-1]=-d}},k.prototype.normalize13b=function(o,u){for(var h=0,l=0;l<u/2;l++){var d=Math.round(o[2*l+1]/u)*8192+Math.round(o[2*l]/u)+h;o[l]=d&67108863,d<67108864?h=0:h=d/67108864|0}return o},k.prototype.convert13b=function(o,u,h,l){for(var d=0,y=0;y<u;y++)d=d+(o[y]|0),h[2*y]=d&8191,d=d>>>13,h[2*y+1]=d&8191,d=d>>>13;for(y=2*u;y<l;++y)h[y]=0;r(d===0),r((d&-8192)===0)},k.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},k.prototype.mulp=function(o,u,h){var l=2*this.guessLen13b(o.length,u.length),d=this.makeRBT(l),y=this.stub(l),v=new Array(l),p=new Array(l),a=new Array(l),g=new Array(l),P=new Array(l),S=new Array(l),B=h.words;B.length=l,this.convert13b(o.words,o.length,v,l),this.convert13b(u.words,u.length,g,l),this.transform(v,y,p,a,l,d),this.transform(g,y,P,S,l,d);for(var z=0;z<l;z++){var H=p[z]*P[z]-a[z]*S[z];a[z]=p[z]*S[z]+a[z]*P[z],p[z]=H}return this.conjugate(p,a,l),this.transform(p,a,B,y,l,d),this.conjugate(B,y,l),this.normalize13b(B,l),h.negative=o.negative^u.negative,h.length=o.length+u.length,h.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),D(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var u=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,d=(l&67108863)+(u&67108863);u>>=26,u+=l/67108864|0,u+=d>>>26,this.words[h]=d&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var h=this,l=0;l<u.length&&u[l]===0;l++,h=h.sqr());if(++l<u.length)for(var d=h.sqr();l<u.length;l++,d=d.sqr())u[l]!==0&&(h=h.mul(d));return h},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=67108863>>>26-u<<26-u,d;if(u!==0){var y=0;for(d=0;d<this.length;d++){var v=this.words[d]&l,p=(this.words[d]|0)-v<<u;this.words[d]=p|y,y=v>>>26-u}y&&(this.words[d]=y,this.length++)}if(h!==0){for(d=this.length-1;d>=0;d--)this.words[d+h]=this.words[d];for(d=0;d<h;d++)this.words[d]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var l;u?l=(u-u%26)/26:l=0;var d=o%26,y=Math.min((o-d)/26,this.length),v=67108863^67108863>>>d<<d,p=h;if(l-=y,l=Math.max(0,l),p){for(var a=0;a<y;a++)p.words[a]=this.words[a];p.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=l);a--){var P=this.words[a]|0;this.words[a]=g<<26-d|P>>>d,g=P&v}return p&&g!==0&&(p.words[p.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return!1;var d=this.words[h];return!!(d&l)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var l=67108863^67108863>>>u<<u;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,h){var l=o.length+h,d;this._expand(l);var y,v=0;for(d=0;d<o.length;d++){y=(this.words[d+h]|0)+v;var p=(o.words[d]|0)*u;y-=p&67108863,v=(y>>26)-(p/67108864|0),this.words[d+h]=y&67108863}for(;d<this.length-h;d++)y=(this.words[d+h]|0)+v,v=y>>26,this.words[d+h]=y&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+v,v=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var h=this.length-o.length,l=this.clone(),d=o,y=d.words[d.length-1]|0,v=this._countBits(y);h=26-v,h!==0&&(d=d.ushln(h),l.iushln(h),y=d.words[d.length-1]|0);var p=l.length-d.length,a;if(u!=="mod"){a=new n(null),a.length=p+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var P=l.clone()._ishlnsubmul(d,1,p);P.negative===0&&(l=P,a&&(a.words[p]=1));for(var S=p-1;S>=0;S--){var B=(l.words[d.length+S]|0)*67108864+(l.words[d.length+S-1]|0);for(B=Math.min(B/y|0,67108863),l._ishlnsubmul(d,B,S);l.negative!==0;)B--,l.negative=0,l._ishlnsubmul(d,1,S),l.isZero()||(l.negative^=1);a&&(a.words[S]=B)}return a&&a.strip(),l.strip(),u!=="div"&&h!==0&&l.iushrn(h),{div:a||null,mod:l}},n.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,d,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,u),u!=="mod"&&(l=y.div.neg()),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.iadd(o)),{div:l,mod:d}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),u),u!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),u),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.isub(o)),{div:y.div,mod:d}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,l=o.ushrn(1),d=o.andln(1),y=h.cmp(l);return y<0||d===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){r(o<=67108863);for(var u=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(u*h+(this.words[l]|0))%o;return h},n.prototype.idivn=function(o){r(o<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+u*67108864;this.words[h]=l/o|0,u=l%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=new n(0),v=new n(1),p=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++p;for(var a=h.clone(),g=u.clone();!u.isZero();){for(var P=0,S=1;!(u.words[0]&S)&&P<26;++P,S<<=1);if(P>0)for(u.iushrn(P);P-- >0;)(l.isOdd()||d.isOdd())&&(l.iadd(a),d.isub(g)),l.iushrn(1),d.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(a),v.isub(g)),y.iushrn(1),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(y),d.isub(v)):(h.isub(u),y.isub(l),v.isub(d))}return{a:y,b:v,gcd:h.iushln(p)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,p=1;!(u.words[0]&p)&&v<26;++v,p<<=1);if(v>0)for(u.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var a=0,g=1;!(h.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(h.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(d)):(h.isub(u),d.isub(l))}var P;return u.cmpn(1)===0?P=l:P=d,P.cmpn(0)<0&&P.iadd(o),P},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var l=0;u.isEven()&&h.isEven();l++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var d=u.cmp(h);if(d<0){var y=u;u=h,h=y}else if(d===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(l)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=l,this;for(var d=l,y=h;d!==0&&y<this.length;y++){var v=this.words[y]|0;v+=d,d=v>>>26,v&=67108863,this.words[y]=v}return d!==0&&(this.words[y]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var l=this.words[0]|0;h=l===o?0:l<o?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var l=this.words[h]|0,d=o.words[h]|0;if(l!==d){l<d?u=-1:l>d&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new N(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(b,o){this.name=b,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var l=h<this.n?-1:u.ucmp(this.p);return l===0?(u.words[0]=0,u.length=1):l>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function U(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,O),U.prototype.split=function(o,u){for(var h=4194303,l=Math.min(o.length,9),d=0;d<l;d++)u.words[d]=o.words[d];if(u.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(u.words[u.length++]=y&h,d=10;d<o.length;d++){var v=o.words[d]|0;o.words[d-10]=(v&h)<<4|y>>>22,y=v}y>>>=22,o.words[d-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},U.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var l=o.words[h]|0;u+=l*977,o.words[h]=u&67108863,u=l*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,O);function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,O);function F(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,O),F.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var l=(o.words[h]|0)*19+u,d=l&67108863;l>>>=26,o.words[h]=d,u=l}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(C[o])return C[o];var u;if(o==="k256")u=new U;else if(o==="p224")u=new $;else if(o==="p192")u=new W;else if(o==="p25519")u=new F;else throw new Error("Unknown prime "+o);return C[o]=u,u};function N(b){if(typeof b=="string"){var o=n._prime(b);this.m=o.p,this.prime=o}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},N.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},N.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},N.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},N.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},N.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},N.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},N.prototype.isqr=function(o){return this.imul(o,o.clone())},N.prototype.sqr=function(o){return this.mul(o,o)},N.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(o,h)}for(var l=this.m.subn(1),d=0;!l.isZero()&&l.andln(1)===0;)d++,l.iushrn(1);r(!l.isZero());var y=new n(1).toRed(this),v=y.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var g=this.pow(a,l),P=this.pow(o,l.addn(1).iushrn(1)),S=this.pow(o,l),B=d;S.cmp(y)!==0;){for(var z=S,H=0;z.cmp(y)!==0;H++)z=z.redSqr();r(H<B);var G=this.pow(g,new n(1).iushln(B-H-1));P=P.redMul(G),g=G.redSqr(),S=S.redMul(g),B=H}return P},N.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,l=new Array(1<<h);l[0]=new n(1).toRed(this),l[1]=o;for(var d=2;d<l.length;d++)l[d]=this.mul(l[d-1],o);var y=l[0],v=0,p=0,a=u.bitLength()%26;for(a===0&&(a=26),d=u.length-1;d>=0;d--){for(var g=u.words[d],P=a-1;P>=0;P--){var S=g>>P&1;if(y!==l[0]&&(y=this.sqr(y)),S===0&&v===0){p=0;continue}v<<=1,v|=S,p++,!(p!==h&&(d!==0||P!==0))&&(y=this.mul(y,l[v]),p=0,v=0)}a=26}return y},N.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},N.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new V(o)};function V(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,N),V.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},V.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var h=o.mul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof x4>"u"||x4,Vj)});var Q1=Z((TAe,A4)=>{E();var S4;A4.exports=function(e){return S4||(S4=new Pu(null)),S4.generate(e)};function Pu(t){this.rand=t}A4.exports.Rand=Pu;Pu.prototype.generate=function(e){return this._rand(e)};Pu.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Pu.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Pu.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Pu.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(E4=eb(),typeof E4.randomBytes!="function")throw new Error("Not supported");Pu.prototype._rand=function(e){return E4.randomBytes(e)}}catch{}var E4});var T4=Z((PAe,Jj)=>{E();var yd=Yj(),Vue=Q1();function gd(t){this.rand=t||new Vue.Rand}Jj.exports=gd;gd.create=function(e){return new gd(e)};gd.prototype._randbelow=function(e){var r=e.bitLength(),i=Math.ceil(r/8);do var n=new yd(this.rand.generate(i));while(n.cmp(e)>=0);return n};gd.prototype._randrange=function(e,r){var i=r.sub(e);return e.add(this._randbelow(i))};gd.prototype.test=function(e,r,i){var n=e.bitLength(),s=yd.mont(e),f=new yd(1).toRed(s);r||(r=Math.max(1,n/48|0));for(var c=e.subn(1),m=0;!c.testn(m);m++);for(var w=e.shrn(m),_=c.toRed(s),M=!0;r>0;r--){var x=this._randrange(new yd(2),c);i&&i(x);var T=x.toRed(s).redPow(w);if(!(T.cmp(f)===0||T.cmp(_)===0)){for(var A=1;A<m;A++){if(T=T.redSqr(),T.cmp(f)===0)return!1;if(T.cmp(_)===0)break}if(A===m)return!1}}return M};gd.prototype.getDivisor=function(e,r){var i=e.bitLength(),n=yd.mont(e),s=new yd(1).toRed(n);r||(r=Math.max(1,i/48|0));for(var f=e.subn(1),c=0;!f.testn(c);c++);for(var m=e.shrn(c),w=f.toRed(n);r>0;r--){var _=this._randrange(new yd(2),f),M=e.gcd(_);if(M.cmpn(1)!==0)return M;var x=_.toRed(n).redPow(m);if(!(x.cmp(s)===0||x.cmp(w)===0)){for(var T=1;T<c;T++){if(x=x.redSqr(),x.cmp(s)===0)return x.fromRed().subn(1).gcd(e);if(x.cmp(w)===0)break}if(T===c)return x=x.redSqr(),x.fromRed().subn(1).gcd(e)}}return!1}});var D4=Z((OAe,eN)=>{E();var Yue=ed();eN.exports=B4;B4.simpleSieve=k4;B4.fermatTest=I4;var yn=M4(),Jue=new yn(24),Xue=T4(),Xj=new Xue,Que=new yn(1),P4=new yn(2),ele=new yn(5),IAe=new yn(16),BAe=new yn(8),tle=new yn(10),rle=new yn(3),DAe=new yn(7),ile=new yn(11),Qj=new yn(4),CAe=new yn(12),R4=null;function nle(){if(R4!==null)return R4;var t=1048576,e=[];e[0]=2;for(var r=1,i=3;i<t;i+=2){for(var n=Math.ceil(Math.sqrt(i)),s=0;s<r&&e[s]<=n&&i%e[s]!==0;s++);r!==s&&e[s]<=n||(e[r++]=i)}return R4=e,e}function k4(t){for(var e=nle(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function I4(t){var e=yn.mont(t);return P4.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function B4(t,e){if(t<16)return e===2||e===5?new yn([140,123]):new yn([140,39]);e=new yn(e);for(var r,i;;){for(r=new yn(Yue(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(Que),r.testn(1)||r.iadd(P4),e.cmp(P4)){if(!e.cmp(ele))for(;r.mod(tle).cmp(rle);)r.iadd(Qj)}else for(;r.mod(Jue).cmp(ile);)r.iadd(Qj);if(i=r.shrn(1),k4(i)&&k4(r)&&I4(i)&&I4(r)&&Xj.test(i)&&Xj.test(r))return r}}});var tN=Z((jAe,ole)=>{ole.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var oN=Z((NAe,nN)=>{E();var Go=M4(),sle=T4(),rN=new sle,ale=new Go(24),fle=new Go(11),ule=new Go(10),lle=new Go(3),dle=new Go(7),iN=D4(),hle=ed();nN.exports=kf;function cle(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this._pub=new Go(t),this}function ple(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this._priv=new Go(t),this}var tb={};function mle(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in tb)return tb[i];var n=0;if(t.isEven()||!iN.simpleSieve||!iN.fermatTest(t)||!rN.test(t))return n+=1,r==="02"||r==="05"?n+=8:n+=4,tb[i]=n,n;rN.test(t.shrn(1))||(n+=2);var s;switch(r){case"02":t.mod(ale).cmp(fle)&&(n+=8);break;case"05":s=t.mod(ule),s.cmp(lle)&&s.cmp(dle)&&(n+=8);break;default:n+=4}return tb[i]=n,n}function kf(t,e,r){this.setGenerator(e),this.__prime=new Go(t),this._prime=Go.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=cle,this.setPrivateKey=ple):this._primeCode=8}Object.defineProperty(kf.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=mle(this.__prime,this.__gen)),this._primeCode}});kf.prototype.generateKeys=function(){return this._priv||(this._priv=new Go(hle(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};kf.prototype.computeSecret=function(t){t=new Go(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new L.Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var n=new L.Buffer(i.length-r.length);n.fill(0),r=L.Buffer.concat([n,r])}return r};kf.prototype.getPublicKey=function(e){return rb(this._pub,e)};kf.prototype.getPrivateKey=function(e){return rb(this._priv,e)};kf.prototype.getPrime=function(t){return rb(this.__prime,t)};kf.prototype.getGenerator=function(t){return rb(this._gen,t)};kf.prototype.setGenerator=function(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this.__gen=t,this._gen=new Go(t),this};function rb(t,e){var r=new L.Buffer(t.toArray());return e?r.toString(e):r}});var fN=Z(qc=>{E();var yle=D4(),sN=tN(),C4=oN();function gle(t){var e=new L.Buffer(sN[t].prime,"hex"),r=new L.Buffer(sN[t].gen,"hex");return new C4(e,r)}var vle={binary:!0,hex:!0,base64:!0};function aN(t,e,r,i){return L.Buffer.isBuffer(e)||vle[e]===void 0?aN(t,"binary",e,r):(e=e||"binary",i=i||"binary",r=r||new L.Buffer([2]),L.Buffer.isBuffer(r)||(r=new L.Buffer(r,i)),typeof t=="number"?new C4(yle(t,r),r,!0):(L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),new C4(t,r,!0)))}qc.DiffieHellmanGroup=qc.createDiffieHellmanGroup=qc.getDiffieHellman=gle;qc.createDiffieHellman=qc.DiffieHellman=aN});var nb=Z((O4,lN)=>{E();var ib=Wt(),Ta=ib.Buffer;function uN(t,e){for(var r in t)e[r]=t[r]}Ta.from&&Ta.alloc&&Ta.allocUnsafe&&Ta.allocUnsafeSlow?lN.exports=ib:(uN(ib,O4),O4.Buffer=vd);function vd(t,e,r){return Ta(t,e,r)}vd.prototype=Object.create(Ta.prototype);uN(Ta,vd);vd.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ta(t,e,r)};vd.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Ta(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};vd.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ta(t)};vd.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ib.SlowBuffer(t)}});var q4=Z(($Ae,dN)=>{E();dN.exports=_s().EventEmitter});var gN=Z((HAe,yN)=>{"use strict";E();function hN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function cN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(r),!0).forEach(function(i){ble(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function ble(t,e,r){return e=mN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pN(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,mN(i.key),i)}}function _le(t,e,r){return e&&pN(t.prototype,e),r&&pN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mN(t){var e=Mle(t,"string");return typeof e=="symbol"?e:String(e)}function Mle(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xle=Wt(),ob=xle.Buffer,Sle=Zl(),j4=Sle.inspect,Ele=j4&&j4.custom||"inspect";function Ale(t,e,r){ob.prototype.copy.call(t,e,r)}yN.exports=function(){function t(){wle(this,t),this.head=null,this.tail=null,this.length=0}return _le(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return ob.alloc(0);for(var i=ob.allocUnsafe(r>>>0),n=this.head,s=0;n;)Ale(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var f=i.data,c=r>f.length?f.length:r;if(c===f.length?s+=f:s+=f.slice(0,r),r-=c,r===0){c===f.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=f.slice(c));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=ob.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var f=n.data,c=r>f.length?f.length:r;if(f.copy(i,i.length-r,0,c),r-=c,r===0){c===f.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=f.slice(c));break}++s}return this.length-=s,i}},{key:Ele,value:function(r,i){return j4(this,cN(cN({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var L4=Z((KAe,bN)=>{"use strict";E();function Tle(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,q.default.nextTick(N4,this,t)):q.default.nextTick(N4,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?q.default.nextTick(sb,r):(r._writableState.errorEmitted=!0,q.default.nextTick(vN,r,s)):q.default.nextTick(vN,r,s):e?(q.default.nextTick(sb,r),e(s)):q.default.nextTick(sb,r)}),this)}function vN(t,e){N4(t,e),sb(t)}function sb(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Rle(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function N4(t,e){t.emit("error",e)}function Ple(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}bN.exports={destroy:Tle,undestroy:Rle,errorOrDestroy:Ple}});var bd=Z((VAe,MN)=>{"use strict";E();function kle(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var _N={};function Ko(t,e,r){r||(r=Error);function i(s,f,c){return typeof e=="string"?e:e(s,f,c)}var n=function(s){kle(f,s);function f(c,m,w){return s.call(this,i(c,m,w))||this}return f}(r);n.prototype.name=r.name,n.prototype.code=t,_N[t]=n}function wN(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Ile(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ble(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Dle(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ko("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ko("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Ile(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(Ble(t," argument"))n="The ".concat(t," ").concat(i," ").concat(wN(e,"type"));else{var s=Dle(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(wN(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Ko("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ko("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ko("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ko("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ko("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ko("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ko("ERR_STREAM_WRITE_AFTER_END","write after end");Ko("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ko("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ko("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");MN.exports.codes=_N});var z4=Z((JAe,xN)=>{"use strict";E();var Cle=bd().codes.ERR_INVALID_OPT_VALUE;function Ole(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function qle(t,e,r,i){var n=Ole(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new Cle(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}xN.exports={getHighWaterMark:qle}});var $4=Z((QAe,PN)=>{"use strict";E();PN.exports=Yr;function EN(t){var e=this;this.next=null,this.entry=null,this.finish=function(){ude(e,t)}}var jc;Yr.WritableState=Bm;var jle={deprecate:$v()},AN=q4(),fb=Wt().Buffer,Nle=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Lle(t){return fb.from(t)}function zle(t){return fb.isBuffer(t)||t instanceof Nle}var F4=L4(),Ule=z4(),Fle=Ule.getHighWaterMark,ku=bd().codes,$le=ku.ERR_INVALID_ARG_TYPE,Wle=ku.ERR_METHOD_NOT_IMPLEMENTED,Hle=ku.ERR_MULTIPLE_CALLBACK,Gle=ku.ERR_STREAM_CANNOT_PIPE,Kle=ku.ERR_STREAM_DESTROYED,Zle=ku.ERR_STREAM_NULL_VALUES,Vle=ku.ERR_STREAM_WRITE_AFTER_END,Yle=ku.ERR_UNKNOWN_ENCODING,Nc=F4.errorOrDestroy;Qe()(Yr,AN);function Jle(){}function Bm(t,e,r){jc=jc||wd(),t=t||{},typeof r!="boolean"&&(r=e instanceof jc),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Fle(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){nde(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new EN(this)}Bm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Bm.prototype,"buffer",{get:jle.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ab;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ab=Function.prototype[Symbol.hasInstance],Object.defineProperty(Yr,Symbol.hasInstance,{value:function(e){return ab.call(this,e)?!0:this!==Yr?!1:e&&e._writableState instanceof Bm}})):ab=function(e){return e instanceof this};function Yr(t){jc=jc||wd();var e=this instanceof jc;if(!e&&!ab.call(Yr,this))return new Yr(t);this._writableState=new Bm(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),AN.call(this)}Yr.prototype.pipe=function(){Nc(this,new Gle)};function Xle(t,e){var r=new Vle;Nc(t,r),q.default.nextTick(e,r)}function Qle(t,e,r,i){var n;return r===null?n=new Zle:typeof r!="string"&&!e.objectMode&&(n=new $le("chunk",["string","Buffer"],r)),n?(Nc(t,n),q.default.nextTick(i,n),!1):!0}Yr.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&zle(t);return s&&!fb.isBuffer(t)&&(t=Lle(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=Jle),i.ending?Xle(this,r):(s||Qle(this,i,t,r))&&(i.pendingcb++,n=tde(this,i,s,t,e,r)),n};Yr.prototype.cork=function(){this._writableState.corked++};Yr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&TN(this,t))};Yr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Yle(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Yr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ede(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=fb.from(e,r)),e}Object.defineProperty(Yr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function tde(t,e,r,i,n,s){if(!r){var f=ede(e,i,n);i!==f&&(r=!0,n="buffer",i=f)}var c=e.objectMode?1:i.length;e.length+=c;var m=e.length<e.highWaterMark;if(m||(e.needDrain=!0),e.writing||e.corked){var w=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},w?w.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else U4(t,e,!1,c,i,n,s);return m}function U4(t,e,r,i,n,s,f){e.writelen=i,e.writecb=f,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Kle("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function rde(t,e,r,i,n){--e.pendingcb,r?(q.default.nextTick(n,i),q.default.nextTick(Im,t,e),t._writableState.errorEmitted=!0,Nc(t,i)):(n(i),t._writableState.errorEmitted=!0,Nc(t,i),Im(t,e))}function ide(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function nde(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new Hle;if(ide(r),e)rde(t,r,i,e,n);else{var s=RN(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&TN(t,r),i?q.default.nextTick(SN,t,r,s,n):SN(t,r,s,n)}}function SN(t,e,r,i){r||ode(t,e),e.pendingcb--,i(),Im(t,e)}function ode(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function TN(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var f=0,c=!0;r;)n[f]=r,r.isBuf||(c=!1),r=r.next,f+=1;n.allBuffers=c,U4(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new EN(e),e.bufferedRequestCount=0}else{for(;r;){var m=r.chunk,w=r.encoding,_=r.callback,M=e.objectMode?1:m.length;if(U4(t,e,!1,M,m,w,_),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Yr.prototype._write=function(t,e,r){r(new Wle("_write()"))};Yr.prototype._writev=null;Yr.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||fde(this,i,r),this};Object.defineProperty(Yr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function RN(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function sde(t,e){t._final(function(r){e.pendingcb--,r&&Nc(t,r),e.prefinished=!0,t.emit("prefinish"),Im(t,e)})}function ade(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,q.default.nextTick(sde,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Im(t,e){var r=RN(e);if(r&&(ade(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function fde(t,e,r){e.ending=!0,Im(t,e),r&&(e.finished?q.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function ude(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Yr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Yr.prototype.destroy=F4.destroy;Yr.prototype._undestroy=F4.undestroy;Yr.prototype._destroy=function(t,e){e(t)}});var wd=Z((tTe,IN)=>{"use strict";E();var lde=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};IN.exports=Ra;var kN=G4(),H4=$4();Qe()(Ra,kN);for(W4=lde(H4.prototype),ub=0;ub<W4.length;ub++)lb=W4[ub],Ra.prototype[lb]||(Ra.prototype[lb]=H4.prototype[lb]);var W4,lb,ub;function Ra(t){if(!(this instanceof Ra))return new Ra(t);kN.call(this,t),H4.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",dde)))}Object.defineProperty(Ra.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ra.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ra.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function dde(){this._writableState.ended||q.default.nextTick(hde,this)}function hde(t){t.end()}Object.defineProperty(Ra.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var db=Z((iTe,CN)=>{"use strict";E();var BN=bd().codes.ERR_STREAM_PREMATURE_CLOSE;function cde(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function pde(){}function mde(t){return t.setHeader&&typeof t.abort=="function"}function DN(t,e,r){if(typeof e=="function")return DN(t,null,e);e||(e={}),r=cde(r||pde);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||c()},f=t._writableState&&t._writableState.finished,c=function(){n=!1,f=!0,i||r.call(t)},m=t._readableState&&t._readableState.endEmitted,w=function(){i=!1,m=!0,n||r.call(t)},_=function(A){r.call(t,A)},M=function(){var A;if(i&&!m)return(!t._readableState||!t._readableState.ended)&&(A=new BN),r.call(t,A);if(n&&!f)return(!t._writableState||!t._writableState.ended)&&(A=new BN),r.call(t,A)},x=function(){t.req.on("finish",c)};return mde(t)?(t.on("complete",c),t.on("abort",M),t.req?x():t.on("request",x)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",w),t.on("finish",c),e.error!==!1&&t.on("error",_),t.on("close",M),function(){t.removeListener("complete",c),t.removeListener("abort",M),t.removeListener("request",x),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",w),t.removeListener("error",_),t.removeListener("close",M)}}CN.exports=DN});var qN=Z((oTe,ON)=>{"use strict";E();var hb;function Iu(t,e,r){return e=yde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yde(t){var e=gde(t,"string");return typeof e=="symbol"?e:String(e)}function gde(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vde=db(),Bu=Symbol("lastResolve"),_d=Symbol("lastReject"),Dm=Symbol("error"),cb=Symbol("ended"),Md=Symbol("lastPromise"),K4=Symbol("handlePromise"),xd=Symbol("stream");function Du(t,e){return{value:t,done:e}}function bde(t){var e=t[Bu];if(e!==null){var r=t[xd].read();r!==null&&(t[Md]=null,t[Bu]=null,t[_d]=null,e(Du(r,!1)))}}function wde(t){q.default.nextTick(bde,t)}function _de(t,e){return function(r,i){t.then(function(){if(e[cb]){r(Du(void 0,!0));return}e[K4](r,i)},i)}}var Mde=Object.getPrototypeOf(function(){}),xde=Object.setPrototypeOf((hb={get stream(){return this[xd]},next:function(){var e=this,r=this[Dm];if(r!==null)return Promise.reject(r);if(this[cb])return Promise.resolve(Du(void 0,!0));if(this[xd].destroyed)return new Promise(function(f,c){q.default.nextTick(function(){e[Dm]?c(e[Dm]):f(Du(void 0,!0))})});var i=this[Md],n;if(i)n=new Promise(_de(i,this));else{var s=this[xd].read();if(s!==null)return Promise.resolve(Du(s,!1));n=new Promise(this[K4])}return this[Md]=n,n}},Iu(hb,Symbol.asyncIterator,function(){return this}),Iu(hb,"return",function(){var e=this;return new Promise(function(r,i){e[xd].destroy(null,function(n){if(n){i(n);return}r(Du(void 0,!0))})})}),hb),Mde),Sde=function(e){var r,i=Object.create(xde,(r={},Iu(r,xd,{value:e,writable:!0}),Iu(r,Bu,{value:null,writable:!0}),Iu(r,_d,{value:null,writable:!0}),Iu(r,Dm,{value:null,writable:!0}),Iu(r,cb,{value:e._readableState.endEmitted,writable:!0}),Iu(r,K4,{value:function(s,f){var c=i[xd].read();c?(i[Md]=null,i[Bu]=null,i[_d]=null,s(Du(c,!1))):(i[Bu]=s,i[_d]=f)},writable:!0}),r));return i[Md]=null,vde(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[_d];s!==null&&(i[Md]=null,i[Bu]=null,i[_d]=null,s(n)),i[Dm]=n;return}var f=i[Bu];f!==null&&(i[Md]=null,i[Bu]=null,i[_d]=null,f(Du(void 0,!0))),i[cb]=!0}),e.on("readable",wde.bind(null,i)),i};ON.exports=Sde});var NN=Z((aTe,jN)=>{E();jN.exports=function(){throw new Error("Readable.from is not available in the browser")}});var G4=Z((lTe,ZN)=>{"use strict";E();ZN.exports=Ut;var Lc;Ut.ReadableState=FN;var uTe=_s().EventEmitter,UN=function(e,r){return e.listeners(r).length},Om=q4(),pb=Wt().Buffer,Ede=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ade(t){return pb.from(t)}function Tde(t){return pb.isBuffer(t)||t instanceof Ede}var Z4=Zl(),Et;Z4&&Z4.debuglog?Et=Z4.debuglog("stream"):Et=function(){};var Rde=gN(),t8=L4(),Pde=z4(),kde=Pde.getHighWaterMark,mb=bd().codes,Ide=mb.ERR_INVALID_ARG_TYPE,Bde=mb.ERR_STREAM_PUSH_AFTER_EOF,Dde=mb.ERR_METHOD_NOT_IMPLEMENTED,Cde=mb.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,zc,V4,Y4;Qe()(Ut,Om);var Cm=t8.errorOrDestroy,J4=["error","close","destroy","pause","resume"];function Ode(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function FN(t,e,r){Lc=Lc||wd(),t=t||{},typeof r!="boolean"&&(r=e instanceof Lc),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=kde(this,t,"readableHighWaterMark",r),this.buffer=new Rde,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(zc||(zc=pf().StringDecoder),this.decoder=new zc(t.encoding),this.encoding=t.encoding)}function Ut(t){if(Lc=Lc||wd(),!(this instanceof Ut))return new Ut(t);var e=this instanceof Lc;this._readableState=new FN(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Om.call(this)}Object.defineProperty(Ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Ut.prototype.destroy=t8.destroy;Ut.prototype._undestroy=t8.undestroy;Ut.prototype._destroy=function(t,e){e(t)};Ut.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=pb.from(t,e),e=""),i=!0),$N(this,t,e,!1,i)};Ut.prototype.unshift=function(t){return $N(this,t,null,!0,!1)};function $N(t,e,r,i,n){Et("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Nde(t,s);else{var f;if(n||(f=qde(s,e)),f)Cm(t,f);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==pb.prototype&&(e=Ade(e)),i)s.endEmitted?Cm(t,new Cde):X4(t,s,e,!0);else if(s.ended)Cm(t,new Bde);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?X4(t,s,e,!1):e8(t,s)):X4(t,s,e,!1)}else i||(s.reading=!1,e8(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function X4(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&yb(t)),e8(t,e)}function qde(t,e){var r;return!Tde(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Ide("chunk",["string","Buffer","Uint8Array"],e)),r}Ut.prototype.isPaused=function(){return this._readableState.flowing===!1};Ut.prototype.setEncoding=function(t){zc||(zc=pf().StringDecoder);var e=new zc(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var LN=1073741824;function jde(t){return t>=LN?t=LN:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function zN(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=jde(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Ut.prototype.read=function(t){Et("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Et("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Q4(this):yb(this),null;if(t=zN(t,e),t===0&&e.ended)return e.length===0&&Q4(this),null;var i=e.needReadable;Et("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Et("length less than watermark",i)),e.ended||e.reading?(i=!1,Et("reading or ended",i)):i&&(Et("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=zN(r,e)));var n;return t>0?n=GN(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Q4(this)),n!==null&&this.emit("data",n),n};function Nde(t,e){if(Et("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?yb(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,WN(t)))}}function yb(t){var e=t._readableState;Et("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Et("emitReadable",e.flowing),e.emittedReadable=!0,q.default.nextTick(WN,t))}function WN(t){var e=t._readableState;Et("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,r8(t)}function e8(t,e){e.readingMore||(e.readingMore=!0,q.default.nextTick(Lde,t,e))}function Lde(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Et("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Ut.prototype._read=function(t){Cm(this,new Dde("_read()"))};Ut.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Et("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==q.default.stdout&&t!==q.default.stderr,s=n?c:I;i.endEmitted?q.default.nextTick(s):r.once("end",s),t.on("unpipe",f);function f(D,k){Et("onunpipe"),D===r&&k&&k.hasUnpiped===!1&&(k.hasUnpiped=!0,_())}function c(){Et("onend"),t.end()}var m=zde(r);t.on("drain",m);var w=!1;function _(){Et("cleanup"),t.removeListener("close",T),t.removeListener("finish",A),t.removeListener("drain",m),t.removeListener("error",x),t.removeListener("unpipe",f),r.removeListener("end",c),r.removeListener("end",I),r.removeListener("data",M),w=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&m()}r.on("data",M);function M(D){Et("ondata");var k=t.write(D);Et("dest.write",k),k===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&KN(i.pipes,t)!==-1)&&!w&&(Et("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function x(D){Et("onerror",D),I(),t.removeListener("error",x),UN(t,"error")===0&&Cm(t,D)}Ode(t,"error",x);function T(){t.removeListener("finish",A),I()}t.once("close",T);function A(){Et("onfinish"),t.removeListener("close",T),I()}t.once("finish",A);function I(){Et("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Et("pipe resume"),r.resume()),t};function zde(t){return function(){var r=t._readableState;Et("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&UN(t,"data")&&(r.flowing=!0,r8(t))}}Ut.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var f=KN(e.pipes,t);return f===-1?this:(e.pipes.splice(f,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Ut.prototype.on=function(t,e){var r=Om.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Et("on readable",i.length,i.reading),i.length?yb(this):i.reading||q.default.nextTick(Ude,this)),r};Ut.prototype.addListener=Ut.prototype.on;Ut.prototype.removeListener=function(t,e){var r=Om.prototype.removeListener.call(this,t,e);return t==="readable"&&q.default.nextTick(HN,this),r};Ut.prototype.removeAllListeners=function(t){var e=Om.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&q.default.nextTick(HN,this),e};function HN(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Ude(t){Et("readable nexttick read 0"),t.read(0)}Ut.prototype.resume=function(){var t=this._readableState;return t.flowing||(Et("resume"),t.flowing=!t.readableListening,Fde(this,t)),t.paused=!1,this};function Fde(t,e){e.resumeScheduled||(e.resumeScheduled=!0,q.default.nextTick($de,t,e))}function $de(t,e){Et("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),r8(t),e.flowing&&!e.reading&&t.read(0)}Ut.prototype.pause=function(){return Et("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Et("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function r8(t){var e=t._readableState;for(Et("flow",e.flowing);e.flowing&&t.read()!==null;);}Ut.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Et("wrapped end"),r.decoder&&!r.ended){var f=r.decoder.end();f&&f.length&&e.push(f)}e.push(null)}),t.on("data",function(f){if(Et("wrapped data"),r.decoder&&(f=r.decoder.write(f)),!(r.objectMode&&f==null)&&!(!r.objectMode&&(!f||!f.length))){var c=e.push(f);c||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(c){return function(){return t[c].apply(t,arguments)}}(n));for(var s=0;s<J4.length;s++)t.on(J4[s],this.emit.bind(this,J4[s]));return this._read=function(f){Et("wrapped _read",f),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Ut.prototype[Symbol.asyncIterator]=function(){return V4===void 0&&(V4=qN()),V4(this)});Object.defineProperty(Ut.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Ut.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Ut.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Ut._fromList=GN;Object.defineProperty(Ut.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function GN(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Q4(t){var e=t._readableState;Et("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,q.default.nextTick(Wde,e,t))}function Wde(t,e){if(Et("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Ut.from=function(t,e){return Y4===void 0&&(Y4=NN()),Y4(Ut,t,e)});function KN(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var i8=Z((hTe,YN)=>{"use strict";E();YN.exports=If;var gb=bd().codes,Hde=gb.ERR_METHOD_NOT_IMPLEMENTED,Gde=gb.ERR_MULTIPLE_CALLBACK,Kde=gb.ERR_TRANSFORM_ALREADY_TRANSFORMING,Zde=gb.ERR_TRANSFORM_WITH_LENGTH_0,vb=wd();Qe()(If,vb);function Vde(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new Gde);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function If(t){if(!(this instanceof If))return new If(t);vb.call(this,t),this._transformState={afterTransform:Vde.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Yde)}function Yde(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){VN(t,e,r)}):VN(this,null,null)}If.prototype.push=function(t,e){return this._transformState.needTransform=!1,vb.prototype.push.call(this,t,e)};If.prototype._transform=function(t,e,r){r(new Hde("_transform()"))};If.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};If.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};If.prototype._destroy=function(t,e){vb.prototype._destroy.call(this,t,function(r){e(r)})};function VN(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Zde;if(t._transformState.transforming)throw new Kde;return t.push(null)}});var QN=Z((pTe,XN)=>{"use strict";E();XN.exports=qm;var JN=i8();Qe()(qm,JN);function qm(t){if(!(this instanceof qm))return new qm(t);JN.call(this,t)}qm.prototype._transform=function(t,e,r){r(null,t)}});var nL=Z((yTe,iL)=>{"use strict";E();var n8;function Jde(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var rL=bd().codes,Xde=rL.ERR_MISSING_ARGS,Qde=rL.ERR_STREAM_DESTROYED;function eL(t){if(t)throw t}function ehe(t){return t.setHeader&&typeof t.abort=="function"}function the(t,e,r,i){i=Jde(i);var n=!1;t.on("close",function(){n=!0}),n8===void 0&&(n8=db()),n8(t,{readable:e,writable:r},function(f){if(f)return i(f);n=!0,i()});var s=!1;return function(f){if(!n&&!s){if(s=!0,ehe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(f||new Qde("pipe"))}}}function tL(t){t()}function rhe(t,e){return t.pipe(e)}function ihe(t){return!t.length||typeof t[t.length-1]!="function"?eL:t.pop()}function nhe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=ihe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Xde("streams");var n,s=e.map(function(f,c){var m=c<e.length-1,w=c>0;return the(f,m,w,function(_){n||(n=_),_&&s.forEach(tL),!m&&(s.forEach(tL),i(n))})});return e.reduce(rhe)}iL.exports=nhe});var sL=Z((Zo,oL)=>{E();Zo=oL.exports=G4();Zo.Stream=Zo;Zo.Readable=Zo;Zo.Writable=$4();Zo.Duplex=wd();Zo.Transform=i8();Zo.PassThrough=QN();Zo.finished=db();Zo.pipeline=nL()});var bb=Z((aL,o8)=>{E();(function(t,e){"use strict";function r(h,l){if(!h)throw new Error(l||"Assertion failed")}function i(h,l){h.super_=l;var d=function(){};d.prototype=l.prototype,h.prototype=new d,h.prototype.constructor=h}function n(h,l,d){if(n.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((l==="le"||l==="be")&&(d=l,l=10),this._init(h||0,l||10,d||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wt().Buffer}catch{}n.isBN=function(l){return l instanceof n?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===n.wordSize&&Array.isArray(l.words)},n.max=function(l,d){return l.cmp(d)>0?l:d},n.min=function(l,d){return l.cmp(d)<0?l:d},n.prototype._init=function(l,d,y){if(typeof l=="number")return this._initNumber(l,d,y);if(typeof l=="object")return this._initArray(l,d,y);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),l=l.toString().replace(/\s+/g,"");var v=0;l[0]==="-"&&(v++,this.negative=1),v<l.length&&(d===16?this._parseHex(l,v,y):(this._parseBase(l,d,v),y==="le"&&this._initArray(this.toArray(),d,y)))},n.prototype._initNumber=function(l,d,y){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},n.prototype._initArray=function(l,d,y){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var p,a,g=0;if(y==="be")for(v=l.length-1,p=0;v>=0;v-=3)a=l[v]|l[v-1]<<8|l[v-2]<<16,this.words[p]|=a<<g&67108863,this.words[p+1]=a>>>26-g&67108863,g+=24,g>=26&&(g-=26,p++);else if(y==="le")for(v=0,p=0;v<l.length;v+=3)a=l[v]|l[v+1]<<8|l[v+2]<<16,this.words[p]|=a<<g&67108863,this.words[p+1]=a>>>26-g&67108863,g+=24,g>=26&&(g-=26,p++);return this._strip()};function f(h,l){var d=h.charCodeAt(l);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+h)}function c(h,l,d){var y=f(h,d);return d-1>=l&&(y|=f(h,d-1)<<4),y}n.prototype._parseHex=function(l,d,y){this.length=Math.ceil((l.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var p=0,a=0,g;if(y==="be")for(v=l.length-1;v>=d;v-=2)g=c(l,d,v)<<p,this.words[a]|=g&67108863,p>=18?(p-=18,a+=1,this.words[a]|=g>>>26):p+=8;else{var P=l.length-d;for(v=P%2===0?d+1:d;v<l.length;v+=2)g=c(l,d,v)<<p,this.words[a]|=g&67108863,p>=18?(p-=18,a+=1,this.words[a]|=g>>>26):p+=8}this._strip()};function m(h,l,d,y){for(var v=0,p=0,a=Math.min(h.length,d),g=l;g<a;g++){var P=h.charCodeAt(g)-48;v*=y,P>=49?p=P-49+10:P>=17?p=P-17+10:p=P,r(P>=0&&p<y,"Invalid character"),v+=p}return v}n.prototype._parseBase=function(l,d,y){this.words=[0],this.length=1;for(var v=0,p=1;p<=67108863;p*=d)v++;v--,p=p/d|0;for(var a=l.length-y,g=a%v,P=Math.min(a,a-g)+y,S=0,B=y;B<P;B+=v)S=m(l,B,B+v,d),this.imuln(p),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(g!==0){var z=1;for(S=m(l,B,l.length,d),B=0;B<g;B++)z*=d;this.imuln(z),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},n.prototype.copy=function(l){l.words=new Array(this.length);for(var d=0;d<this.length;d++)l.words[d]=this.words[d];l.length=this.length,l.negative=this.negative,l.red=this.red};function w(h,l){h.words=l.words,h.length=l.length,h.negative=l.negative,h.red=l.red}if(n.prototype._move=function(l){w(l,this)},n.prototype.clone=function(){var l=new n(null);return this.copy(l),l},n.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{n.prototype.inspect=_}else n.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(l,d){l=l||10,d=d|0||1;var y;if(l===16||l==="hex"){y="";for(var v=0,p=0,a=0;a<this.length;a++){var g=this.words[a],P=((g<<v|p)&16777215).toString(16);p=g>>>24-v&16777215,v+=2,v>=26&&(v-=26,a--),p!==0||a!==this.length-1?y=M[6-P.length]+P+y:y=P+y}for(p!==0&&(y=p.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(l===(l|0)&&l>=2&&l<=36){var S=x[l],B=T[l];y="";var z=this.clone();for(z.negative=0;!z.isZero();){var H=z.modrn(B).toString(l);z=z.idivn(B),z.isZero()?y=H+y:y=M[S-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(l,d){return this.toArrayLike(s,l,d)}),n.prototype.toArray=function(l,d){return this.toArrayLike(Array,l,d)};var A=function(l,d){return l.allocUnsafe?l.allocUnsafe(d):new l(d)};n.prototype.toArrayLike=function(l,d,y){this._strip();var v=this.byteLength(),p=y||Math.max(1,v);r(v<=p,"byte array longer than desired length"),r(p>0,"Requested array length <= 0");var a=A(l,p),g=d==="le"?"LE":"BE";return this["_toArrayLike"+g](a,v),a},n.prototype._toArrayLikeLE=function(l,d){for(var y=0,v=0,p=0,a=0;p<this.length;p++){var g=this.words[p]<<a|v;l[y++]=g&255,y<l.length&&(l[y++]=g>>8&255),y<l.length&&(l[y++]=g>>16&255),a===6?(y<l.length&&(l[y++]=g>>24&255),v=0,a=0):(v=g>>>24,a+=2)}if(y<l.length)for(l[y++]=v;y<l.length;)l[y++]=0},n.prototype._toArrayLikeBE=function(l,d){for(var y=l.length-1,v=0,p=0,a=0;p<this.length;p++){var g=this.words[p]<<a|v;l[y--]=g&255,y>=0&&(l[y--]=g>>8&255),y>=0&&(l[y--]=g>>16&255),a===6?(y>=0&&(l[y--]=g>>24&255),v=0,a=0):(v=g>>>24,a+=2)}if(y>=0)for(l[y--]=v;y>=0;)l[y--]=0},Math.clz32?n.prototype._countBits=function(l){return 32-Math.clz32(l)}:n.prototype._countBits=function(l){var d=l,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},n.prototype._zeroBits=function(l){if(l===0)return 26;var d=l,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},n.prototype.bitLength=function(){var l=this.words[this.length-1],d=this._countBits(l);return(this.length-1)*26+d};function I(h){for(var l=new Array(h.bitLength()),d=0;d<l.length;d++){var y=d/26|0,v=d%26;l[d]=h.words[y]>>>v&1}return l}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(l+=y,y!==26)break}return l},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},n.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var d=0;d<l.length;d++)this.words[d]=this.words[d]|l.words[d];return this._strip()},n.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},n.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},n.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},n.prototype.iuand=function(l){var d;this.length>l.length?d=l:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&l.words[y];return this.length=d.length,this._strip()},n.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},n.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},n.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},n.prototype.iuxor=function(l){var d,y;this.length>l.length?(d=this,y=l):(d=l,y=this);for(var v=0;v<y.length;v++)this.words[v]=d.words[v]^y.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this._strip()},n.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},n.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},n.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},n.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var d=Math.ceil(l/26)|0,y=l%26;this._expand(d),y>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this._strip()},n.prototype.notn=function(l){return this.clone().inotn(l)},n.prototype.setn=function(l,d){r(typeof l=="number"&&l>=0);var y=l/26|0,v=l%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this._strip()},n.prototype.iadd=function(l){var d;if(this.negative!==0&&l.negative===0)return this.negative=0,d=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,d=this.isub(l),l.negative=1,d._normSign();var y,v;this.length>l.length?(y=this,v=l):(y=l,v=this);for(var p=0,a=0;a<v.length;a++)d=(y.words[a]|0)+(v.words[a]|0)+p,this.words[a]=d&67108863,p=d>>>26;for(;p!==0&&a<y.length;a++)d=(y.words[a]|0)+p,this.words[a]=d&67108863,p=d>>>26;if(this.length=y.length,p!==0)this.words[this.length]=p,this.length++;else if(y!==this)for(;a<y.length;a++)this.words[a]=y.words[a];return this},n.prototype.add=function(l){var d;return l.negative!==0&&this.negative===0?(l.negative=0,d=this.sub(l),l.negative^=1,d):l.negative===0&&this.negative!==0?(this.negative=0,d=l.sub(this),this.negative=1,d):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},n.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var d=this.iadd(l);return l.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var y=this.cmp(l);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,p;y>0?(v=this,p=l):(v=l,p=this);for(var a=0,g=0;g<p.length;g++)d=(v.words[g]|0)-(p.words[g]|0)+a,a=d>>26,this.words[g]=d&67108863;for(;a!==0&&g<v.length;g++)d=(v.words[g]|0)+a,a=d>>26,this.words[g]=d&67108863;if(a===0&&g<v.length&&v!==this)for(;g<v.length;g++)this.words[g]=v.words[g];return this.length=Math.max(this.length,g),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(l){return this.clone().isub(l)};function D(h,l,d){d.negative=l.negative^h.negative;var y=h.length+l.length|0;d.length=y,y=y-1|0;var v=h.words[0]|0,p=l.words[0]|0,a=v*p,g=a&67108863,P=a/67108864|0;d.words[0]=g;for(var S=1;S<y;S++){for(var B=P>>>26,z=P&67108863,H=Math.min(S,l.length-1),G=Math.max(0,S-h.length+1);G<=H;G++){var J=S-G|0;v=h.words[J]|0,p=l.words[G]|0,a=v*p+z,B+=a/67108864|0,z=a&67108863}d.words[S]=z|0,P=B|0}return P!==0?d.words[S]=P|0:d.length--,d._strip()}var k=function(l,d,y){var v=l.words,p=d.words,a=y.words,g=0,P,S,B,z=v[0]|0,H=z&8191,G=z>>>13,J=v[1]|0,K=J&8191,Y=J>>>13,ze=v[2]|0,X=ze&8191,Q=ze>>>13,et=v[3]|0,te=et&8191,re=et>>>13,$t=v[4]|0,ie=$t&8191,ne=$t>>>13,Dr=v[5]|0,se=Dr&8191,oe=Dr>>>13,fi=v[6]|0,ae=fi&8191,fe=fi>>>13,ui=v[7]|0,ue=ui&8191,le=ui>>>13,li=v[8]|0,de=li&8191,he=li>>>13,di=v[9]|0,ce=di&8191,pe=di>>>13,hi=p[0]|0,me=hi&8191,ye=hi>>>13,ci=p[1]|0,ge=ci&8191,ve=ci>>>13,pi=p[2]|0,be=pi&8191,we=pi>>>13,mi=p[3]|0,_e=mi&8191,Me=mi>>>13,yi=p[4]|0,xe=yi&8191,Se=yi>>>13,gi=p[5]|0,Ee=gi&8191,Ae=gi>>>13,vi=p[6]|0,Te=vi&8191,Re=vi>>>13,bi=p[7]|0,Pe=bi&8191,ke=bi>>>13,wi=p[8]|0,Ie=wi&8191,Be=wi>>>13,Ar=p[9]|0,dt=Ar&8191,ht=Ar>>>13;y.negative=l.negative^d.negative,y.length=19,P=Math.imul(H,me),S=Math.imul(H,ye),S=S+Math.imul(G,me)|0,B=Math.imul(G,ye);var or=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(or>>>26)|0,or&=67108863,P=Math.imul(K,me),S=Math.imul(K,ye),S=S+Math.imul(Y,me)|0,B=Math.imul(Y,ye),P=P+Math.imul(H,ge)|0,S=S+Math.imul(H,ve)|0,S=S+Math.imul(G,ge)|0,B=B+Math.imul(G,ve)|0;var sr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(sr>>>26)|0,sr&=67108863,P=Math.imul(X,me),S=Math.imul(X,ye),S=S+Math.imul(Q,me)|0,B=Math.imul(Q,ye),P=P+Math.imul(K,ge)|0,S=S+Math.imul(K,ve)|0,S=S+Math.imul(Y,ge)|0,B=B+Math.imul(Y,ve)|0,P=P+Math.imul(H,be)|0,S=S+Math.imul(H,we)|0,S=S+Math.imul(G,be)|0,B=B+Math.imul(G,we)|0;var ar=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(ar>>>26)|0,ar&=67108863,P=Math.imul(te,me),S=Math.imul(te,ye),S=S+Math.imul(re,me)|0,B=Math.imul(re,ye),P=P+Math.imul(X,ge)|0,S=S+Math.imul(X,ve)|0,S=S+Math.imul(Q,ge)|0,B=B+Math.imul(Q,ve)|0,P=P+Math.imul(K,be)|0,S=S+Math.imul(K,we)|0,S=S+Math.imul(Y,be)|0,B=B+Math.imul(Y,we)|0,P=P+Math.imul(H,_e)|0,S=S+Math.imul(H,Me)|0,S=S+Math.imul(G,_e)|0,B=B+Math.imul(G,Me)|0;var fr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(fr>>>26)|0,fr&=67108863,P=Math.imul(ie,me),S=Math.imul(ie,ye),S=S+Math.imul(ne,me)|0,B=Math.imul(ne,ye),P=P+Math.imul(te,ge)|0,S=S+Math.imul(te,ve)|0,S=S+Math.imul(re,ge)|0,B=B+Math.imul(re,ve)|0,P=P+Math.imul(X,be)|0,S=S+Math.imul(X,we)|0,S=S+Math.imul(Q,be)|0,B=B+Math.imul(Q,we)|0,P=P+Math.imul(K,_e)|0,S=S+Math.imul(K,Me)|0,S=S+Math.imul(Y,_e)|0,B=B+Math.imul(Y,Me)|0,P=P+Math.imul(H,xe)|0,S=S+Math.imul(H,Se)|0,S=S+Math.imul(G,xe)|0,B=B+Math.imul(G,Se)|0;var ur=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(ur>>>26)|0,ur&=67108863,P=Math.imul(se,me),S=Math.imul(se,ye),S=S+Math.imul(oe,me)|0,B=Math.imul(oe,ye),P=P+Math.imul(ie,ge)|0,S=S+Math.imul(ie,ve)|0,S=S+Math.imul(ne,ge)|0,B=B+Math.imul(ne,ve)|0,P=P+Math.imul(te,be)|0,S=S+Math.imul(te,we)|0,S=S+Math.imul(re,be)|0,B=B+Math.imul(re,we)|0,P=P+Math.imul(X,_e)|0,S=S+Math.imul(X,Me)|0,S=S+Math.imul(Q,_e)|0,B=B+Math.imul(Q,Me)|0,P=P+Math.imul(K,xe)|0,S=S+Math.imul(K,Se)|0,S=S+Math.imul(Y,xe)|0,B=B+Math.imul(Y,Se)|0,P=P+Math.imul(H,Ee)|0,S=S+Math.imul(H,Ae)|0,S=S+Math.imul(G,Ee)|0,B=B+Math.imul(G,Ae)|0;var lr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863,P=Math.imul(ae,me),S=Math.imul(ae,ye),S=S+Math.imul(fe,me)|0,B=Math.imul(fe,ye),P=P+Math.imul(se,ge)|0,S=S+Math.imul(se,ve)|0,S=S+Math.imul(oe,ge)|0,B=B+Math.imul(oe,ve)|0,P=P+Math.imul(ie,be)|0,S=S+Math.imul(ie,we)|0,S=S+Math.imul(ne,be)|0,B=B+Math.imul(ne,we)|0,P=P+Math.imul(te,_e)|0,S=S+Math.imul(te,Me)|0,S=S+Math.imul(re,_e)|0,B=B+Math.imul(re,Me)|0,P=P+Math.imul(X,xe)|0,S=S+Math.imul(X,Se)|0,S=S+Math.imul(Q,xe)|0,B=B+Math.imul(Q,Se)|0,P=P+Math.imul(K,Ee)|0,S=S+Math.imul(K,Ae)|0,S=S+Math.imul(Y,Ee)|0,B=B+Math.imul(Y,Ae)|0,P=P+Math.imul(H,Te)|0,S=S+Math.imul(H,Re)|0,S=S+Math.imul(G,Te)|0,B=B+Math.imul(G,Re)|0;var dr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(dr>>>26)|0,dr&=67108863,P=Math.imul(ue,me),S=Math.imul(ue,ye),S=S+Math.imul(le,me)|0,B=Math.imul(le,ye),P=P+Math.imul(ae,ge)|0,S=S+Math.imul(ae,ve)|0,S=S+Math.imul(fe,ge)|0,B=B+Math.imul(fe,ve)|0,P=P+Math.imul(se,be)|0,S=S+Math.imul(se,we)|0,S=S+Math.imul(oe,be)|0,B=B+Math.imul(oe,we)|0,P=P+Math.imul(ie,_e)|0,S=S+Math.imul(ie,Me)|0,S=S+Math.imul(ne,_e)|0,B=B+Math.imul(ne,Me)|0,P=P+Math.imul(te,xe)|0,S=S+Math.imul(te,Se)|0,S=S+Math.imul(re,xe)|0,B=B+Math.imul(re,Se)|0,P=P+Math.imul(X,Ee)|0,S=S+Math.imul(X,Ae)|0,S=S+Math.imul(Q,Ee)|0,B=B+Math.imul(Q,Ae)|0,P=P+Math.imul(K,Te)|0,S=S+Math.imul(K,Re)|0,S=S+Math.imul(Y,Te)|0,B=B+Math.imul(Y,Re)|0,P=P+Math.imul(H,Pe)|0,S=S+Math.imul(H,ke)|0,S=S+Math.imul(G,Pe)|0,B=B+Math.imul(G,ke)|0;var hr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(hr>>>26)|0,hr&=67108863,P=Math.imul(de,me),S=Math.imul(de,ye),S=S+Math.imul(he,me)|0,B=Math.imul(he,ye),P=P+Math.imul(ue,ge)|0,S=S+Math.imul(ue,ve)|0,S=S+Math.imul(le,ge)|0,B=B+Math.imul(le,ve)|0,P=P+Math.imul(ae,be)|0,S=S+Math.imul(ae,we)|0,S=S+Math.imul(fe,be)|0,B=B+Math.imul(fe,we)|0,P=P+Math.imul(se,_e)|0,S=S+Math.imul(se,Me)|0,S=S+Math.imul(oe,_e)|0,B=B+Math.imul(oe,Me)|0,P=P+Math.imul(ie,xe)|0,S=S+Math.imul(ie,Se)|0,S=S+Math.imul(ne,xe)|0,B=B+Math.imul(ne,Se)|0,P=P+Math.imul(te,Ee)|0,S=S+Math.imul(te,Ae)|0,S=S+Math.imul(re,Ee)|0,B=B+Math.imul(re,Ae)|0,P=P+Math.imul(X,Te)|0,S=S+Math.imul(X,Re)|0,S=S+Math.imul(Q,Te)|0,B=B+Math.imul(Q,Re)|0,P=P+Math.imul(K,Pe)|0,S=S+Math.imul(K,ke)|0,S=S+Math.imul(Y,Pe)|0,B=B+Math.imul(Y,ke)|0,P=P+Math.imul(H,Ie)|0,S=S+Math.imul(H,Be)|0,S=S+Math.imul(G,Ie)|0,B=B+Math.imul(G,Be)|0;var cr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(cr>>>26)|0,cr&=67108863,P=Math.imul(ce,me),S=Math.imul(ce,ye),S=S+Math.imul(pe,me)|0,B=Math.imul(pe,ye),P=P+Math.imul(de,ge)|0,S=S+Math.imul(de,ve)|0,S=S+Math.imul(he,ge)|0,B=B+Math.imul(he,ve)|0,P=P+Math.imul(ue,be)|0,S=S+Math.imul(ue,we)|0,S=S+Math.imul(le,be)|0,B=B+Math.imul(le,we)|0,P=P+Math.imul(ae,_e)|0,S=S+Math.imul(ae,Me)|0,S=S+Math.imul(fe,_e)|0,B=B+Math.imul(fe,Me)|0,P=P+Math.imul(se,xe)|0,S=S+Math.imul(se,Se)|0,S=S+Math.imul(oe,xe)|0,B=B+Math.imul(oe,Se)|0,P=P+Math.imul(ie,Ee)|0,S=S+Math.imul(ie,Ae)|0,S=S+Math.imul(ne,Ee)|0,B=B+Math.imul(ne,Ae)|0,P=P+Math.imul(te,Te)|0,S=S+Math.imul(te,Re)|0,S=S+Math.imul(re,Te)|0,B=B+Math.imul(re,Re)|0,P=P+Math.imul(X,Pe)|0,S=S+Math.imul(X,ke)|0,S=S+Math.imul(Q,Pe)|0,B=B+Math.imul(Q,ke)|0,P=P+Math.imul(K,Ie)|0,S=S+Math.imul(K,Be)|0,S=S+Math.imul(Y,Ie)|0,B=B+Math.imul(Y,Be)|0,P=P+Math.imul(H,dt)|0,S=S+Math.imul(H,ht)|0,S=S+Math.imul(G,dt)|0,B=B+Math.imul(G,ht)|0;var pr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(pr>>>26)|0,pr&=67108863,P=Math.imul(ce,ge),S=Math.imul(ce,ve),S=S+Math.imul(pe,ge)|0,B=Math.imul(pe,ve),P=P+Math.imul(de,be)|0,S=S+Math.imul(de,we)|0,S=S+Math.imul(he,be)|0,B=B+Math.imul(he,we)|0,P=P+Math.imul(ue,_e)|0,S=S+Math.imul(ue,Me)|0,S=S+Math.imul(le,_e)|0,B=B+Math.imul(le,Me)|0,P=P+Math.imul(ae,xe)|0,S=S+Math.imul(ae,Se)|0,S=S+Math.imul(fe,xe)|0,B=B+Math.imul(fe,Se)|0,P=P+Math.imul(se,Ee)|0,S=S+Math.imul(se,Ae)|0,S=S+Math.imul(oe,Ee)|0,B=B+Math.imul(oe,Ae)|0,P=P+Math.imul(ie,Te)|0,S=S+Math.imul(ie,Re)|0,S=S+Math.imul(ne,Te)|0,B=B+Math.imul(ne,Re)|0,P=P+Math.imul(te,Pe)|0,S=S+Math.imul(te,ke)|0,S=S+Math.imul(re,Pe)|0,B=B+Math.imul(re,ke)|0,P=P+Math.imul(X,Ie)|0,S=S+Math.imul(X,Be)|0,S=S+Math.imul(Q,Ie)|0,B=B+Math.imul(Q,Be)|0,P=P+Math.imul(K,dt)|0,S=S+Math.imul(K,ht)|0,S=S+Math.imul(Y,dt)|0,B=B+Math.imul(Y,ht)|0;var mr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(mr>>>26)|0,mr&=67108863,P=Math.imul(ce,be),S=Math.imul(ce,we),S=S+Math.imul(pe,be)|0,B=Math.imul(pe,we),P=P+Math.imul(de,_e)|0,S=S+Math.imul(de,Me)|0,S=S+Math.imul(he,_e)|0,B=B+Math.imul(he,Me)|0,P=P+Math.imul(ue,xe)|0,S=S+Math.imul(ue,Se)|0,S=S+Math.imul(le,xe)|0,B=B+Math.imul(le,Se)|0,P=P+Math.imul(ae,Ee)|0,S=S+Math.imul(ae,Ae)|0,S=S+Math.imul(fe,Ee)|0,B=B+Math.imul(fe,Ae)|0,P=P+Math.imul(se,Te)|0,S=S+Math.imul(se,Re)|0,S=S+Math.imul(oe,Te)|0,B=B+Math.imul(oe,Re)|0,P=P+Math.imul(ie,Pe)|0,S=S+Math.imul(ie,ke)|0,S=S+Math.imul(ne,Pe)|0,B=B+Math.imul(ne,ke)|0,P=P+Math.imul(te,Ie)|0,S=S+Math.imul(te,Be)|0,S=S+Math.imul(re,Ie)|0,B=B+Math.imul(re,Be)|0,P=P+Math.imul(X,dt)|0,S=S+Math.imul(X,ht)|0,S=S+Math.imul(Q,dt)|0,B=B+Math.imul(Q,ht)|0;var yr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(yr>>>26)|0,yr&=67108863,P=Math.imul(ce,_e),S=Math.imul(ce,Me),S=S+Math.imul(pe,_e)|0,B=Math.imul(pe,Me),P=P+Math.imul(de,xe)|0,S=S+Math.imul(de,Se)|0,S=S+Math.imul(he,xe)|0,B=B+Math.imul(he,Se)|0,P=P+Math.imul(ue,Ee)|0,S=S+Math.imul(ue,Ae)|0,S=S+Math.imul(le,Ee)|0,B=B+Math.imul(le,Ae)|0,P=P+Math.imul(ae,Te)|0,S=S+Math.imul(ae,Re)|0,S=S+Math.imul(fe,Te)|0,B=B+Math.imul(fe,Re)|0,P=P+Math.imul(se,Pe)|0,S=S+Math.imul(se,ke)|0,S=S+Math.imul(oe,Pe)|0,B=B+Math.imul(oe,ke)|0,P=P+Math.imul(ie,Ie)|0,S=S+Math.imul(ie,Be)|0,S=S+Math.imul(ne,Ie)|0,B=B+Math.imul(ne,Be)|0,P=P+Math.imul(te,dt)|0,S=S+Math.imul(te,ht)|0,S=S+Math.imul(re,dt)|0,B=B+Math.imul(re,ht)|0;var gr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(gr>>>26)|0,gr&=67108863,P=Math.imul(ce,xe),S=Math.imul(ce,Se),S=S+Math.imul(pe,xe)|0,B=Math.imul(pe,Se),P=P+Math.imul(de,Ee)|0,S=S+Math.imul(de,Ae)|0,S=S+Math.imul(he,Ee)|0,B=B+Math.imul(he,Ae)|0,P=P+Math.imul(ue,Te)|0,S=S+Math.imul(ue,Re)|0,S=S+Math.imul(le,Te)|0,B=B+Math.imul(le,Re)|0,P=P+Math.imul(ae,Pe)|0,S=S+Math.imul(ae,ke)|0,S=S+Math.imul(fe,Pe)|0,B=B+Math.imul(fe,ke)|0,P=P+Math.imul(se,Ie)|0,S=S+Math.imul(se,Be)|0,S=S+Math.imul(oe,Ie)|0,B=B+Math.imul(oe,Be)|0,P=P+Math.imul(ie,dt)|0,S=S+Math.imul(ie,ht)|0,S=S+Math.imul(ne,dt)|0,B=B+Math.imul(ne,ht)|0;var vr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(vr>>>26)|0,vr&=67108863,P=Math.imul(ce,Ee),S=Math.imul(ce,Ae),S=S+Math.imul(pe,Ee)|0,B=Math.imul(pe,Ae),P=P+Math.imul(de,Te)|0,S=S+Math.imul(de,Re)|0,S=S+Math.imul(he,Te)|0,B=B+Math.imul(he,Re)|0,P=P+Math.imul(ue,Pe)|0,S=S+Math.imul(ue,ke)|0,S=S+Math.imul(le,Pe)|0,B=B+Math.imul(le,ke)|0,P=P+Math.imul(ae,Ie)|0,S=S+Math.imul(ae,Be)|0,S=S+Math.imul(fe,Ie)|0,B=B+Math.imul(fe,Be)|0,P=P+Math.imul(se,dt)|0,S=S+Math.imul(se,ht)|0,S=S+Math.imul(oe,dt)|0,B=B+Math.imul(oe,ht)|0;var br=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(br>>>26)|0,br&=67108863,P=Math.imul(ce,Te),S=Math.imul(ce,Re),S=S+Math.imul(pe,Te)|0,B=Math.imul(pe,Re),P=P+Math.imul(de,Pe)|0,S=S+Math.imul(de,ke)|0,S=S+Math.imul(he,Pe)|0,B=B+Math.imul(he,ke)|0,P=P+Math.imul(ue,Ie)|0,S=S+Math.imul(ue,Be)|0,S=S+Math.imul(le,Ie)|0,B=B+Math.imul(le,Be)|0,P=P+Math.imul(ae,dt)|0,S=S+Math.imul(ae,ht)|0,S=S+Math.imul(fe,dt)|0,B=B+Math.imul(fe,ht)|0;var wr=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,P=Math.imul(ce,Pe),S=Math.imul(ce,ke),S=S+Math.imul(pe,Pe)|0,B=Math.imul(pe,ke),P=P+Math.imul(de,Ie)|0,S=S+Math.imul(de,Be)|0,S=S+Math.imul(he,Ie)|0,B=B+Math.imul(he,Be)|0,P=P+Math.imul(ue,dt)|0,S=S+Math.imul(ue,ht)|0,S=S+Math.imul(le,dt)|0,B=B+Math.imul(le,ht)|0;var Ew=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(Ew>>>26)|0,Ew&=67108863,P=Math.imul(ce,Ie),S=Math.imul(ce,Be),S=S+Math.imul(pe,Ie)|0,B=Math.imul(pe,Be),P=P+Math.imul(de,dt)|0,S=S+Math.imul(de,ht)|0,S=S+Math.imul(he,dt)|0,B=B+Math.imul(he,ht)|0;var Aw=(g+P|0)+((S&8191)<<13)|0;g=(B+(S>>>13)|0)+(Aw>>>26)|0,Aw&=67108863,P=Math.imul(ce,dt),S=Math.imul(ce,ht),S=S+Math.imul(pe,dt)|0,B=Math.imul(pe,ht);var Tw=(g+P|0)+((S&8191)<<13)|0;return g=(B+(S>>>13)|0)+(Tw>>>26)|0,Tw&=67108863,a[0]=or,a[1]=sr,a[2]=ar,a[3]=fr,a[4]=ur,a[5]=lr,a[6]=dr,a[7]=hr,a[8]=cr,a[9]=pr,a[10]=mr,a[11]=yr,a[12]=gr,a[13]=vr,a[14]=br,a[15]=wr,a[16]=Ew,a[17]=Aw,a[18]=Tw,g!==0&&(a[19]=g,y.length++),y};Math.imul||(k=D);function C(h,l,d){d.negative=l.negative^h.negative,d.length=h.length+l.length;for(var y=0,v=0,p=0;p<d.length-1;p++){var a=v;v=0;for(var g=y&67108863,P=Math.min(p,l.length-1),S=Math.max(0,p-h.length+1);S<=P;S++){var B=p-S,z=h.words[B]|0,H=l.words[S]|0,G=z*H,J=G&67108863;a=a+(G/67108864|0)|0,J=J+g|0,g=J&67108863,a=a+(J>>>26)|0,v+=a>>>26,a&=67108863}d.words[p]=g,y=a,a=v}return y!==0?d.words[p]=y:d.length--,d._strip()}function O(h,l,d){return C(h,l,d)}n.prototype.mulTo=function(l,d){var y,v=this.length+l.length;return this.length===10&&l.length===10?y=k(this,l,d):v<63?y=D(this,l,d):v<1024?y=C(this,l,d):y=O(this,l,d),y};function U(h,l){this.x=h,this.y=l}U.prototype.makeRBT=function(l){for(var d=new Array(l),y=n.prototype._countBits(l)-1,v=0;v<l;v++)d[v]=this.revBin(v,y,l);return d},U.prototype.revBin=function(l,d,y){if(l===0||l===y-1)return l;for(var v=0,p=0;p<d;p++)v|=(l&1)<<d-p-1,l>>=1;return v},U.prototype.permute=function(l,d,y,v,p,a){for(var g=0;g<a;g++)v[g]=d[l[g]],p[g]=y[l[g]]},U.prototype.transform=function(l,d,y,v,p,a){this.permute(a,l,d,y,v,p);for(var g=1;g<p;g<<=1)for(var P=g<<1,S=Math.cos(2*Math.PI/P),B=Math.sin(2*Math.PI/P),z=0;z<p;z+=P)for(var H=S,G=B,J=0;J<g;J++){var K=y[z+J],Y=v[z+J],ze=y[z+J+g],X=v[z+J+g],Q=H*ze-G*X;X=H*X+G*ze,ze=Q,y[z+J]=K+ze,v[z+J]=Y+X,y[z+J+g]=K-ze,v[z+J+g]=Y-X,J!==P&&(Q=S*H-B*G,G=S*G+B*H,H=Q)}},U.prototype.guessLen13b=function(l,d){var y=Math.max(d,l)|1,v=y&1,p=0;for(y=y/2|0;y;y=y>>>1)p++;return 1<<p+1+v},U.prototype.conjugate=function(l,d,y){if(!(y<=1))for(var v=0;v<y/2;v++){var p=l[v];l[v]=l[y-v-1],l[y-v-1]=p,p=d[v],d[v]=-d[y-v-1],d[y-v-1]=-p}},U.prototype.normalize13b=function(l,d){for(var y=0,v=0;v<d/2;v++){var p=Math.round(l[2*v+1]/d)*8192+Math.round(l[2*v]/d)+y;l[v]=p&67108863,p<67108864?y=0:y=p/67108864|0}return l},U.prototype.convert13b=function(l,d,y,v){for(var p=0,a=0;a<d;a++)p=p+(l[a]|0),y[2*a]=p&8191,p=p>>>13,y[2*a+1]=p&8191,p=p>>>13;for(a=2*d;a<v;++a)y[a]=0;r(p===0),r((p&-8192)===0)},U.prototype.stub=function(l){for(var d=new Array(l),y=0;y<l;y++)d[y]=0;return d},U.prototype.mulp=function(l,d,y){var v=2*this.guessLen13b(l.length,d.length),p=this.makeRBT(v),a=this.stub(v),g=new Array(v),P=new Array(v),S=new Array(v),B=new Array(v),z=new Array(v),H=new Array(v),G=y.words;G.length=v,this.convert13b(l.words,l.length,g,v),this.convert13b(d.words,d.length,B,v),this.transform(g,a,P,S,v,p),this.transform(B,a,z,H,v,p);for(var J=0;J<v;J++){var K=P[J]*z[J]-S[J]*H[J];S[J]=P[J]*H[J]+S[J]*z[J],P[J]=K}return this.conjugate(P,S,v),this.transform(P,S,G,a,v,p),this.conjugate(G,a,v),this.normalize13b(G,v),y.negative=l.negative^d.negative,y.length=l.length+d.length,y._strip()},n.prototype.mul=function(l){var d=new n(null);return d.words=new Array(this.length+l.length),this.mulTo(l,d)},n.prototype.mulf=function(l){var d=new n(null);return d.words=new Array(this.length+l.length),O(this,l,d)},n.prototype.imul=function(l){return this.clone().mulTo(l,this)},n.prototype.imuln=function(l){var d=l<0;d&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var y=0,v=0;v<this.length;v++){var p=(this.words[v]|0)*l,a=(p&67108863)+(y&67108863);y>>=26,y+=p/67108864|0,y+=a>>>26,this.words[v]=a&67108863}return y!==0&&(this.words[v]=y,this.length++),d?this.ineg():this},n.prototype.muln=function(l){return this.clone().imuln(l)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(l){var d=I(l);if(d.length===0)return new n(1);for(var y=this,v=0;v<d.length&&d[v]===0;v++,y=y.sqr());if(++v<d.length)for(var p=y.sqr();v<d.length;v++,p=p.sqr())d[v]!==0&&(y=y.mul(p));return y},n.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var d=l%26,y=(l-d)/26,v=67108863>>>26-d<<26-d,p;if(d!==0){var a=0;for(p=0;p<this.length;p++){var g=this.words[p]&v,P=(this.words[p]|0)-g<<d;this.words[p]=P|a,a=g>>>26-d}a&&(this.words[p]=a,this.length++)}if(y!==0){for(p=this.length-1;p>=0;p--)this.words[p+y]=this.words[p];for(p=0;p<y;p++)this.words[p]=0;this.length+=y}return this._strip()},n.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},n.prototype.iushrn=function(l,d,y){r(typeof l=="number"&&l>=0);var v;d?v=(d-d%26)/26:v=0;var p=l%26,a=Math.min((l-p)/26,this.length),g=67108863^67108863>>>p<<p,P=y;if(v-=a,v=Math.max(0,v),P){for(var S=0;S<a;S++)P.words[S]=this.words[S];P.length=a}if(a!==0)if(this.length>a)for(this.length-=a,S=0;S<this.length;S++)this.words[S]=this.words[S+a];else this.words[0]=0,this.length=1;var B=0;for(S=this.length-1;S>=0&&(B!==0||S>=v);S--){var z=this.words[S]|0;this.words[S]=B<<26-p|z>>>p,B=z&g}return P&&B!==0&&(P.words[P.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(l,d,y){return r(this.negative===0),this.iushrn(l,d,y)},n.prototype.shln=function(l){return this.clone().ishln(l)},n.prototype.ushln=function(l){return this.clone().iushln(l)},n.prototype.shrn=function(l){return this.clone().ishrn(l)},n.prototype.ushrn=function(l){return this.clone().iushrn(l)},n.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var d=l%26,y=(l-d)/26,v=1<<d;if(this.length<=y)return!1;var p=this.words[y];return!!(p&v)},n.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var d=l%26,y=(l-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(l){return this.clone().imaskn(l)},n.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},n.prototype._iaddn=function(l){this.words[0]+=l;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(l){return this.clone().iaddn(l)},n.prototype.subn=function(l){return this.clone().isubn(l)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(l,d,y){var v=l.length+y,p;this._expand(v);var a,g=0;for(p=0;p<l.length;p++){a=(this.words[p+y]|0)+g;var P=(l.words[p]|0)*d;a-=P&67108863,g=(a>>26)-(P/67108864|0),this.words[p+y]=a&67108863}for(;p<this.length-y;p++)a=(this.words[p+y]|0)+g,g=a>>26,this.words[p+y]=a&67108863;if(g===0)return this._strip();for(r(g===-1),g=0,p=0;p<this.length;p++)a=-(this.words[p]|0)+g,g=a>>26,this.words[p]=a&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(l,d){var y=this.length-l.length,v=this.clone(),p=l,a=p.words[p.length-1]|0,g=this._countBits(a);y=26-g,y!==0&&(p=p.ushln(y),v.iushln(y),a=p.words[p.length-1]|0);var P=v.length-p.length,S;if(d!=="mod"){S=new n(null),S.length=P+1,S.words=new Array(S.length);for(var B=0;B<S.length;B++)S.words[B]=0}var z=v.clone()._ishlnsubmul(p,1,P);z.negative===0&&(v=z,S&&(S.words[P]=1));for(var H=P-1;H>=0;H--){var G=(v.words[p.length+H]|0)*67108864+(v.words[p.length+H-1]|0);for(G=Math.min(G/a|0,67108863),v._ishlnsubmul(p,G,H);v.negative!==0;)G--,v.negative=0,v._ishlnsubmul(p,1,H),v.isZero()||(v.negative^=1);S&&(S.words[H]=G)}return S&&S._strip(),v._strip(),d!=="div"&&y!==0&&v.iushrn(y),{div:S||null,mod:v}},n.prototype.divmod=function(l,d,y){if(r(!l.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,p,a;return this.negative!==0&&l.negative===0?(a=this.neg().divmod(l,d),d!=="mod"&&(v=a.div.neg()),d!=="div"&&(p=a.mod.neg(),y&&p.negative!==0&&p.iadd(l)),{div:v,mod:p}):this.negative===0&&l.negative!==0?(a=this.divmod(l.neg(),d),d!=="mod"&&(v=a.div.neg()),{div:v,mod:a.mod}):this.negative&l.negative?(a=this.neg().divmod(l.neg(),d),d!=="div"&&(p=a.mod.neg(),y&&p.negative!==0&&p.isub(l)),{div:a.div,mod:p}):l.length>this.length||this.cmp(l)<0?{div:new n(0),mod:this}:l.length===1?d==="div"?{div:this.divn(l.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new n(this.modrn(l.words[0]))}:this._wordDiv(l,d)},n.prototype.div=function(l){return this.divmod(l,"div",!1).div},n.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},n.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},n.prototype.divRound=function(l){var d=this.divmod(l);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(l):d.mod,v=l.ushrn(1),p=l.andln(1),a=y.cmp(v);return a<0||p===1&&a===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(l){var d=l<0;d&&(l=-l),r(l<=67108863);for(var y=(1<<26)%l,v=0,p=this.length-1;p>=0;p--)v=(y*v+(this.words[p]|0))%l;return d?-v:v},n.prototype.modn=function(l){return this.modrn(l)},n.prototype.idivn=function(l){var d=l<0;d&&(l=-l),r(l<=67108863);for(var y=0,v=this.length-1;v>=0;v--){var p=(this.words[v]|0)+y*67108864;this.words[v]=p/l|0,y=p%l}return this._strip(),d?this.ineg():this},n.prototype.divn=function(l){return this.clone().idivn(l)},n.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var d=this,y=l.clone();d.negative!==0?d=d.umod(l):d=d.clone();for(var v=new n(1),p=new n(0),a=new n(0),g=new n(1),P=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++P;for(var S=y.clone(),B=d.clone();!d.isZero();){for(var z=0,H=1;!(d.words[0]&H)&&z<26;++z,H<<=1);if(z>0)for(d.iushrn(z);z-- >0;)(v.isOdd()||p.isOdd())&&(v.iadd(S),p.isub(B)),v.iushrn(1),p.iushrn(1);for(var G=0,J=1;!(y.words[0]&J)&&G<26;++G,J<<=1);if(G>0)for(y.iushrn(G);G-- >0;)(a.isOdd()||g.isOdd())&&(a.iadd(S),g.isub(B)),a.iushrn(1),g.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(a),p.isub(g)):(y.isub(d),a.isub(v),g.isub(p))}return{a,b:g,gcd:y.iushln(P)}},n.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var d=this,y=l.clone();d.negative!==0?d=d.umod(l):d=d.clone();for(var v=new n(1),p=new n(0),a=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var g=0,P=1;!(d.words[0]&P)&&g<26;++g,P<<=1);if(g>0)for(d.iushrn(g);g-- >0;)v.isOdd()&&v.iadd(a),v.iushrn(1);for(var S=0,B=1;!(y.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(y.iushrn(S);S-- >0;)p.isOdd()&&p.iadd(a),p.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(p)):(y.isub(d),p.isub(v))}var z;return d.cmpn(1)===0?z=v:z=p,z.cmpn(0)<0&&z.iadd(l),z},n.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var d=this.clone(),y=l.clone();d.negative=0,y.negative=0;for(var v=0;d.isEven()&&y.isEven();v++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var p=d.cmp(y);if(p<0){var a=d;d=y,y=a}else if(p===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(v)},n.prototype.invm=function(l){return this.egcd(l).a.umod(l)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(l){return this.words[0]&l},n.prototype.bincn=function(l){r(typeof l=="number");var d=l%26,y=(l-d)/26,v=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var p=v,a=y;p!==0&&a<this.length;a++){var g=this.words[a]|0;g+=p,p=g>>>26,g&=67108863,this.words[a]=g}return p!==0&&(this.words[a]=p,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(l){var d=l<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var y;if(this.length>1)y=1;else{d&&(l=-l),r(l<=67108863,"Number is too big");var v=this.words[0]|0;y=v===l?0:v<l?-1:1}return this.negative!==0?-y|0:y},n.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var d=this.ucmp(l);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,p=l.words[y]|0;if(v!==p){v<p?d=-1:v>p&&(d=1);break}}return d},n.prototype.gtn=function(l){return this.cmpn(l)===1},n.prototype.gt=function(l){return this.cmp(l)===1},n.prototype.gten=function(l){return this.cmpn(l)>=0},n.prototype.gte=function(l){return this.cmp(l)>=0},n.prototype.ltn=function(l){return this.cmpn(l)===-1},n.prototype.lt=function(l){return this.cmp(l)===-1},n.prototype.lten=function(l){return this.cmpn(l)<=0},n.prototype.lte=function(l){return this.cmp(l)<=0},n.prototype.eqn=function(l){return this.cmpn(l)===0},n.prototype.eq=function(l){return this.cmp(l)===0},n.red=function(l){return new o(l)},n.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(l){return this.red=l,this},n.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},n.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},n.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},n.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},n.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},n.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},n.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},n.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var $={k256:null,p224:null,p192:null,p25519:null};function W(h,l){this.name=h,this.p=new n(l,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new n(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var d=l,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var v=y<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},W.prototype.split=function(l,d){l.iushrn(this.n,0,d)},W.prototype.imulK=function(l){return l.imul(this.k)};function F(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,W),F.prototype.split=function(l,d){for(var y=4194303,v=Math.min(l.length,9),p=0;p<v;p++)d.words[p]=l.words[p];if(d.length=v,l.length<=9){l.words[0]=0,l.length=1;return}var a=l.words[9];for(d.words[d.length++]=a&y,p=10;p<l.length;p++){var g=l.words[p]|0;l.words[p-10]=(g&y)<<4|a>>>22,a=g}a>>>=22,l.words[p-10]=a,a===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var d=0,y=0;y<l.length;y++){var v=l.words[y]|0;d+=v*977,l.words[y]=d&67108863,d=v*64+(d/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function N(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(N,W);function V(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(V,W);function b(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(b,W),b.prototype.imulK=function(l){for(var d=0,y=0;y<l.length;y++){var v=(l.words[y]|0)*19+d,p=v&67108863;v>>>=26,l.words[y]=p,d=v}return d!==0&&(l.words[l.length++]=d),l},n._prime=function(l){if($[l])return $[l];var d;if(l==="k256")d=new F;else if(l==="p224")d=new N;else if(l==="p192")d=new V;else if(l==="p25519")d=new b;else throw new Error("Unknown prime "+l);return $[l]=d,d};function o(h){if(typeof h=="string"){var l=n._prime(h);this.m=l.p,this.prime=l}else r(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}o.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},o.prototype._verify2=function(l,d){r((l.negative|d.negative)===0,"red works only with positives"),r(l.red&&l.red===d.red,"red works only with red numbers")},o.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(w(l,l.umod(this.m)._forceRed(this)),l)},o.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},o.prototype.add=function(l,d){this._verify2(l,d);var y=l.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},o.prototype.iadd=function(l,d){this._verify2(l,d);var y=l.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},o.prototype.sub=function(l,d){this._verify2(l,d);var y=l.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},o.prototype.isub=function(l,d){this._verify2(l,d);var y=l.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},o.prototype.shl=function(l,d){return this._verify1(l),this.imod(l.ushln(d))},o.prototype.imul=function(l,d){return this._verify2(l,d),this.imod(l.imul(d))},o.prototype.mul=function(l,d){return this._verify2(l,d),this.imod(l.mul(d))},o.prototype.isqr=function(l){return this.imul(l,l.clone())},o.prototype.sqr=function(l){return this.mul(l,l)},o.prototype.sqrt=function(l){if(l.isZero())return l.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var y=this.m.add(new n(1)).iushrn(2);return this.pow(l,y)}for(var v=this.m.subn(1),p=0;!v.isZero()&&v.andln(1)===0;)p++,v.iushrn(1);r(!v.isZero());var a=new n(1).toRed(this),g=a.redNeg(),P=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new n(2*S*S).toRed(this);this.pow(S,P).cmp(g)!==0;)S.redIAdd(g);for(var B=this.pow(S,v),z=this.pow(l,v.addn(1).iushrn(1)),H=this.pow(l,v),G=p;H.cmp(a)!==0;){for(var J=H,K=0;J.cmp(a)!==0;K++)J=J.redSqr();r(K<G);var Y=this.pow(B,new n(1).iushln(G-K-1));z=z.redMul(Y),B=Y.redSqr(),H=H.redMul(B),G=K}return z},o.prototype.invm=function(l){var d=l._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},o.prototype.pow=function(l,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return l.clone();var y=4,v=new Array(1<<y);v[0]=new n(1).toRed(this),v[1]=l;for(var p=2;p<v.length;p++)v[p]=this.mul(v[p-1],l);var a=v[0],g=0,P=0,S=d.bitLength()%26;for(S===0&&(S=26),p=d.length-1;p>=0;p--){for(var B=d.words[p],z=S-1;z>=0;z--){var H=B>>z&1;if(a!==v[0]&&(a=this.sqr(a)),H===0&&g===0){P=0;continue}g<<=1,g|=H,P++,!(P!==y&&(p!==0||z!==0))&&(a=this.mul(a,v[g]),P=0,g=0)}S=26}return a},o.prototype.convertTo=function(l){var d=l.umod(this.m);return d===l?d.clone():d},o.prototype.convertFrom=function(l){var d=l.clone();return d.red=null,d},n.mont=function(l){return new u(l)};function u(h){o.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(u,o),u.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},u.prototype.convertFrom=function(l){var d=this.imod(l.mul(this.rinv));return d.red=null,d},u.prototype.imul=function(l,d){if(l.isZero()||d.isZero())return l.words[0]=0,l.length=1,l;var y=l.imul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=y.isub(v).iushrn(this.shift),a=p;return p.cmp(this.m)>=0?a=p.isub(this.m):p.cmpn(0)<0&&(a=p.iadd(this.m)),a._forceRed(this)},u.prototype.mul=function(l,d){if(l.isZero()||d.isZero())return new n(0)._forceRed(this);var y=l.mul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=y.isub(v).iushrn(this.shift),a=p;return p.cmp(this.m)>=0?a=p.isub(this.m):p.cmpn(0)<0&&(a=p.iadd(this.m)),a._forceRed(this)},u.prototype.invm=function(l){var d=this.imod(l._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof o8>"u"||o8,aL)});var wb=Z((wTe,lL)=>{E();var Uc=bb(),ohe=ed();function she(t){var e=fL(t),r=e.toRed(Uc.mont(t.modulus)).redPow(new Uc(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function fL(t){var e=t.modulus.byteLength(),r;do r=new Uc(ohe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function uL(t,e){var r=she(e),i=e.modulus.byteLength(),n=new Uc(t).mul(r.blinder).umod(e.modulus),s=n.toRed(Uc.mont(e.prime1)),f=n.toRed(Uc.mont(e.prime2)),c=e.coefficient,m=e.prime1,w=e.prime2,_=s.redPow(e.exponent1).fromRed(),M=f.redPow(e.exponent2).fromRed(),x=_.isub(M).imul(c).umod(m).imul(w);return M.iadd(x).imul(r.unblinder).umod(e.modulus).toArrayLike(L.Buffer,"be",i)}uL.getr=fL;lL.exports=uL});var dL=Z((MTe,ahe)=>{ahe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Pa=Z((hL,s8)=>{E();(function(t,e){"use strict";function r(b,o){if(!b)throw new Error(o||"Assertion failed")}function i(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function n(b,o,u){if(n.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wt().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(u===16?this._parseHex(o,l,h):(this._parseBase(o,u,l),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d,y,v=0;if(h==="be")for(l=o.length-1,d=0;l>=0;l-=3)y=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);else if(h==="le")for(l=0,d=0;l<o.length;l+=3)y=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);return this.strip()};function f(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(b,o,u){var h=f(b,u);return u-1>=o&&(h|=f(b,u-1)<<4),h}n.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d=0,y=0,v;if(h==="be")for(l=o.length-1;l>=u;l-=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8;else{var p=o.length-u;for(l=p%2===0?u+1:u;l<o.length;l+=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8}this.strip()};function m(b,o,u,h){for(var l=0,d=Math.min(b.length,u),y=o;y<d;y++){var v=b.charCodeAt(y)-48;l*=h,v>=49?l+=v-49+10:v>=17?l+=v-17+10:l+=v}return l}n.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var l=0,d=1;d<=67108863;d*=u)l++;l--,d=d/u|0;for(var y=o.length-h,v=y%l,p=Math.min(y,y-v)+h,a=0,g=h;g<p;g+=l)a=m(o,g,g+l,u),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var P=1;for(a=m(o,g,o.length,u),g=0;g<v;g++)P*=u;this.imuln(P),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var l=0,d=0,y=0;y<this.length;y++){var v=this.words[y],p=((v<<l|d)&16777215).toString(16);d=v>>>24-l&16777215,d!==0||y!==this.length-1?h=w[6-p.length]+p+h:h=p+h,l+=2,l>=26&&(l-=26,y--)}for(d!==0&&(h=d.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=M[o];h="";var P=this.clone();for(P.negative=0;!P.isZero();){var S=P.modn(g).toString(o);P=P.idivn(g),P.isZero()?h=S+h:h=w[a-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return r(typeof s<"u"),this.toArrayLike(s,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,h){var l=this.byteLength(),d=h||Math.max(1,l);r(l<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var y=u==="le",v=new o(d),p,a,g=this.clone();if(y){for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[a]=p;for(;a<d;a++)v[a]=0}else{for(a=0;a<d-l;a++)v[a]=0;for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[d-a-1]=p}return v},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var h=u/26|0,l=u%26;o[u]=(b.words[h]&1<<l)>>>l}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var l=0;l<h.length;l++)this.words[l]=u.words[l]^h.words[l];if(this!==u)for(;l<u.length;l++)this.words[l]=u.words[l];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var l=0;l<u;l++)this.words[l]=~this.words[l]&67108863;return h>0&&(this.words[l]=~this.words[l]&67108863>>26-h),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,l=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<l:this.words[h]=this.words[h]&~(1<<l),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,l;this.length>o.length?(h=this,l=o):(h=o,l=this);for(var d=0,y=0;y<l.length;y++)u=(h.words[y]|0)+(l.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;for(;d!==0&&y<h.length;y++)u=(h.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;if(this.length=h.length,d!==0)this.words[this.length]=d,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,d;h>0?(l=this,d=o):(l=o,d=this);for(var y=0,v=0;v<d.length;v++)u=(l.words[v]|0)-(d.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;for(;y!==0&&v<l.length;v++)u=(l.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;if(y===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function T(b,o,u){u.negative=o.negative^b.negative;var h=b.length+o.length|0;u.length=h,h=h-1|0;var l=b.words[0]|0,d=o.words[0]|0,y=l*d,v=y&67108863,p=y/67108864|0;u.words[0]=v;for(var a=1;a<h;a++){for(var g=p>>>26,P=p&67108863,S=Math.min(a,o.length-1),B=Math.max(0,a-b.length+1);B<=S;B++){var z=a-B|0;l=b.words[z]|0,d=o.words[B]|0,y=l*d+P,g+=y/67108864|0,P=y&67108863}u.words[a]=P|0,p=g|0}return p!==0?u.words[a]=p|0:u.length--,u.strip()}var A=function(o,u,h){var l=o.words,d=u.words,y=h.words,v=0,p,a,g,P=l[0]|0,S=P&8191,B=P>>>13,z=l[1]|0,H=z&8191,G=z>>>13,J=l[2]|0,K=J&8191,Y=J>>>13,ze=l[3]|0,X=ze&8191,Q=ze>>>13,et=l[4]|0,te=et&8191,re=et>>>13,$t=l[5]|0,ie=$t&8191,ne=$t>>>13,Dr=l[6]|0,se=Dr&8191,oe=Dr>>>13,fi=l[7]|0,ae=fi&8191,fe=fi>>>13,ui=l[8]|0,ue=ui&8191,le=ui>>>13,li=l[9]|0,de=li&8191,he=li>>>13,di=d[0]|0,ce=di&8191,pe=di>>>13,hi=d[1]|0,me=hi&8191,ye=hi>>>13,ci=d[2]|0,ge=ci&8191,ve=ci>>>13,pi=d[3]|0,be=pi&8191,we=pi>>>13,mi=d[4]|0,_e=mi&8191,Me=mi>>>13,yi=d[5]|0,xe=yi&8191,Se=yi>>>13,gi=d[6]|0,Ee=gi&8191,Ae=gi>>>13,vi=d[7]|0,Te=vi&8191,Re=vi>>>13,bi=d[8]|0,Pe=bi&8191,ke=bi>>>13,wi=d[9]|0,Ie=wi&8191,Be=wi>>>13;h.negative=o.negative^u.negative,h.length=19,p=Math.imul(S,ce),a=Math.imul(S,pe),a=a+Math.imul(B,ce)|0,g=Math.imul(B,pe);var Ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(H,ce),a=Math.imul(H,pe),a=a+Math.imul(G,ce)|0,g=Math.imul(G,pe),p=p+Math.imul(S,me)|0,a=a+Math.imul(S,ye)|0,a=a+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var dt=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dt>>>26)|0,dt&=67108863,p=Math.imul(K,ce),a=Math.imul(K,pe),a=a+Math.imul(Y,ce)|0,g=Math.imul(Y,pe),p=p+Math.imul(H,me)|0,a=a+Math.imul(H,ye)|0,a=a+Math.imul(G,me)|0,g=g+Math.imul(G,ye)|0,p=p+Math.imul(S,ge)|0,a=a+Math.imul(S,ve)|0,a=a+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var ht=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ht>>>26)|0,ht&=67108863,p=Math.imul(X,ce),a=Math.imul(X,pe),a=a+Math.imul(Q,ce)|0,g=Math.imul(Q,pe),p=p+Math.imul(K,me)|0,a=a+Math.imul(K,ye)|0,a=a+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,p=p+Math.imul(H,ge)|0,a=a+Math.imul(H,ve)|0,a=a+Math.imul(G,ge)|0,g=g+Math.imul(G,ve)|0,p=p+Math.imul(S,be)|0,a=a+Math.imul(S,we)|0,a=a+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var or=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(or>>>26)|0,or&=67108863,p=Math.imul(te,ce),a=Math.imul(te,pe),a=a+Math.imul(re,ce)|0,g=Math.imul(re,pe),p=p+Math.imul(X,me)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(Q,me)|0,g=g+Math.imul(Q,ye)|0,p=p+Math.imul(K,ge)|0,a=a+Math.imul(K,ve)|0,a=a+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,p=p+Math.imul(H,be)|0,a=a+Math.imul(H,we)|0,a=a+Math.imul(G,be)|0,g=g+Math.imul(G,we)|0,p=p+Math.imul(S,_e)|0,a=a+Math.imul(S,Me)|0,a=a+Math.imul(B,_e)|0,g=g+Math.imul(B,Me)|0;var sr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,p=Math.imul(ie,ce),a=Math.imul(ie,pe),a=a+Math.imul(ne,ce)|0,g=Math.imul(ne,pe),p=p+Math.imul(te,me)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,p=p+Math.imul(X,ge)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(Q,ge)|0,g=g+Math.imul(Q,ve)|0,p=p+Math.imul(K,be)|0,a=a+Math.imul(K,we)|0,a=a+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,p=p+Math.imul(H,_e)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(G,_e)|0,g=g+Math.imul(G,Me)|0,p=p+Math.imul(S,xe)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(B,xe)|0,g=g+Math.imul(B,Se)|0;var ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,p=Math.imul(se,ce),a=Math.imul(se,pe),a=a+Math.imul(oe,ce)|0,g=Math.imul(oe,pe),p=p+Math.imul(ie,me)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,p=p+Math.imul(te,ge)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,p=p+Math.imul(X,be)|0,a=a+Math.imul(X,we)|0,a=a+Math.imul(Q,be)|0,g=g+Math.imul(Q,we)|0,p=p+Math.imul(K,_e)|0,a=a+Math.imul(K,Me)|0,a=a+Math.imul(Y,_e)|0,g=g+Math.imul(Y,Me)|0,p=p+Math.imul(H,xe)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(G,xe)|0,g=g+Math.imul(G,Se)|0,p=p+Math.imul(S,Ee)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(B,Ee)|0,g=g+Math.imul(B,Ae)|0;var fr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,p=Math.imul(ae,ce),a=Math.imul(ae,pe),a=a+Math.imul(fe,ce)|0,g=Math.imul(fe,pe),p=p+Math.imul(se,me)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,p=p+Math.imul(ie,ge)|0,a=a+Math.imul(ie,ve)|0,a=a+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,p=p+Math.imul(te,be)|0,a=a+Math.imul(te,we)|0,a=a+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,p=p+Math.imul(X,_e)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(Q,_e)|0,g=g+Math.imul(Q,Me)|0,p=p+Math.imul(K,xe)|0,a=a+Math.imul(K,Se)|0,a=a+Math.imul(Y,xe)|0,g=g+Math.imul(Y,Se)|0,p=p+Math.imul(H,Ee)|0,a=a+Math.imul(H,Ae)|0,a=a+Math.imul(G,Ee)|0,g=g+Math.imul(G,Ae)|0,p=p+Math.imul(S,Te)|0,a=a+Math.imul(S,Re)|0,a=a+Math.imul(B,Te)|0,g=g+Math.imul(B,Re)|0;var ur=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,p=Math.imul(ue,ce),a=Math.imul(ue,pe),a=a+Math.imul(le,ce)|0,g=Math.imul(le,pe),p=p+Math.imul(ae,me)|0,a=a+Math.imul(ae,ye)|0,a=a+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,p=p+Math.imul(se,ge)|0,a=a+Math.imul(se,ve)|0,a=a+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,p=p+Math.imul(ie,be)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,p=p+Math.imul(te,_e)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(re,_e)|0,g=g+Math.imul(re,Me)|0,p=p+Math.imul(X,xe)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(Q,xe)|0,g=g+Math.imul(Q,Se)|0,p=p+Math.imul(K,Ee)|0,a=a+Math.imul(K,Ae)|0,a=a+Math.imul(Y,Ee)|0,g=g+Math.imul(Y,Ae)|0,p=p+Math.imul(H,Te)|0,a=a+Math.imul(H,Re)|0,a=a+Math.imul(G,Te)|0,g=g+Math.imul(G,Re)|0,p=p+Math.imul(S,Pe)|0,a=a+Math.imul(S,ke)|0,a=a+Math.imul(B,Pe)|0,g=g+Math.imul(B,ke)|0;var lr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,p=Math.imul(de,ce),a=Math.imul(de,pe),a=a+Math.imul(he,ce)|0,g=Math.imul(he,pe),p=p+Math.imul(ue,me)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(le,me)|0,g=g+Math.imul(le,ye)|0,p=p+Math.imul(ae,ge)|0,a=a+Math.imul(ae,ve)|0,a=a+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,p=p+Math.imul(se,be)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,p=p+Math.imul(ie,_e)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(ne,_e)|0,g=g+Math.imul(ne,Me)|0,p=p+Math.imul(te,xe)|0,a=a+Math.imul(te,Se)|0,a=a+Math.imul(re,xe)|0,g=g+Math.imul(re,Se)|0,p=p+Math.imul(X,Ee)|0,a=a+Math.imul(X,Ae)|0,a=a+Math.imul(Q,Ee)|0,g=g+Math.imul(Q,Ae)|0,p=p+Math.imul(K,Te)|0,a=a+Math.imul(K,Re)|0,a=a+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Re)|0,p=p+Math.imul(H,Pe)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(G,Pe)|0,g=g+Math.imul(G,ke)|0,p=p+Math.imul(S,Ie)|0,a=a+Math.imul(S,Be)|0,a=a+Math.imul(B,Ie)|0,g=g+Math.imul(B,Be)|0;var dr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(de,me),a=Math.imul(de,ye),a=a+Math.imul(he,me)|0,g=Math.imul(he,ye),p=p+Math.imul(ue,ge)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(le,ge)|0,g=g+Math.imul(le,ve)|0,p=p+Math.imul(ae,be)|0,a=a+Math.imul(ae,we)|0,a=a+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,p=p+Math.imul(se,_e)|0,a=a+Math.imul(se,Me)|0,a=a+Math.imul(oe,_e)|0,g=g+Math.imul(oe,Me)|0,p=p+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(ne,xe)|0,g=g+Math.imul(ne,Se)|0,p=p+Math.imul(te,Ee)|0,a=a+Math.imul(te,Ae)|0,a=a+Math.imul(re,Ee)|0,g=g+Math.imul(re,Ae)|0,p=p+Math.imul(X,Te)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(Q,Te)|0,g=g+Math.imul(Q,Re)|0,p=p+Math.imul(K,Pe)|0,a=a+Math.imul(K,ke)|0,a=a+Math.imul(Y,Pe)|0,g=g+Math.imul(Y,ke)|0,p=p+Math.imul(H,Ie)|0,a=a+Math.imul(H,Be)|0,a=a+Math.imul(G,Ie)|0,g=g+Math.imul(G,Be)|0;var hr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,p=Math.imul(de,ge),a=Math.imul(de,ve),a=a+Math.imul(he,ge)|0,g=Math.imul(he,ve),p=p+Math.imul(ue,be)|0,a=a+Math.imul(ue,we)|0,a=a+Math.imul(le,be)|0,g=g+Math.imul(le,we)|0,p=p+Math.imul(ae,_e)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(fe,_e)|0,g=g+Math.imul(fe,Me)|0,p=p+Math.imul(se,xe)|0,a=a+Math.imul(se,Se)|0,a=a+Math.imul(oe,xe)|0,g=g+Math.imul(oe,Se)|0,p=p+Math.imul(ie,Ee)|0,a=a+Math.imul(ie,Ae)|0,a=a+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,Ae)|0,p=p+Math.imul(te,Te)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(re,Te)|0,g=g+Math.imul(re,Re)|0,p=p+Math.imul(X,Pe)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(Q,Pe)|0,g=g+Math.imul(Q,ke)|0,p=p+Math.imul(K,Ie)|0,a=a+Math.imul(K,Be)|0,a=a+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,Be)|0;var cr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,p=Math.imul(de,be),a=Math.imul(de,we),a=a+Math.imul(he,be)|0,g=Math.imul(he,we),p=p+Math.imul(ue,_e)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(le,_e)|0,g=g+Math.imul(le,Me)|0,p=p+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(fe,xe)|0,g=g+Math.imul(fe,Se)|0,p=p+Math.imul(se,Ee)|0,a=a+Math.imul(se,Ae)|0,a=a+Math.imul(oe,Ee)|0,g=g+Math.imul(oe,Ae)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,Re)|0,a=a+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Re)|0,p=p+Math.imul(te,Pe)|0,a=a+Math.imul(te,ke)|0,a=a+Math.imul(re,Pe)|0,g=g+Math.imul(re,ke)|0,p=p+Math.imul(X,Ie)|0,a=a+Math.imul(X,Be)|0,a=a+Math.imul(Q,Ie)|0,g=g+Math.imul(Q,Be)|0;var pr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(de,_e),a=Math.imul(de,Me),a=a+Math.imul(he,_e)|0,g=Math.imul(he,Me),p=p+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(le,xe)|0,g=g+Math.imul(le,Se)|0,p=p+Math.imul(ae,Ee)|0,a=a+Math.imul(ae,Ae)|0,a=a+Math.imul(fe,Ee)|0,g=g+Math.imul(fe,Ae)|0,p=p+Math.imul(se,Te)|0,a=a+Math.imul(se,Re)|0,a=a+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Re)|0,p=p+Math.imul(ie,Pe)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,ke)|0,p=p+Math.imul(te,Ie)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(re,Ie)|0,g=g+Math.imul(re,Be)|0;var mr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,p=Math.imul(de,xe),a=Math.imul(de,Se),a=a+Math.imul(he,xe)|0,g=Math.imul(he,Se),p=p+Math.imul(ue,Ee)|0,a=a+Math.imul(ue,Ae)|0,a=a+Math.imul(le,Ee)|0,g=g+Math.imul(le,Ae)|0,p=p+Math.imul(ae,Te)|0,a=a+Math.imul(ae,Re)|0,a=a+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Re)|0,p=p+Math.imul(se,Pe)|0,a=a+Math.imul(se,ke)|0,a=a+Math.imul(oe,Pe)|0,g=g+Math.imul(oe,ke)|0,p=p+Math.imul(ie,Ie)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,Be)|0;var yr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,p=Math.imul(de,Ee),a=Math.imul(de,Ae),a=a+Math.imul(he,Ee)|0,g=Math.imul(he,Ae),p=p+Math.imul(ue,Te)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(le,Te)|0,g=g+Math.imul(le,Re)|0,p=p+Math.imul(ae,Pe)|0,a=a+Math.imul(ae,ke)|0,a=a+Math.imul(fe,Pe)|0,g=g+Math.imul(fe,ke)|0,p=p+Math.imul(se,Ie)|0,a=a+Math.imul(se,Be)|0,a=a+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,Be)|0;var gr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(de,Te),a=Math.imul(de,Re),a=a+Math.imul(he,Te)|0,g=Math.imul(he,Re),p=p+Math.imul(ue,Pe)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(le,Pe)|0,g=g+Math.imul(le,ke)|0,p=p+Math.imul(ae,Ie)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,Be)|0;var vr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,p=Math.imul(de,Pe),a=Math.imul(de,ke),a=a+Math.imul(he,Pe)|0,g=Math.imul(he,ke),p=p+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(le,Ie)|0,g=g+Math.imul(le,Be)|0;var br=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(br>>>26)|0,br&=67108863,p=Math.imul(de,Ie),a=Math.imul(de,Be),a=a+Math.imul(he,Ie)|0,g=Math.imul(he,Be);var wr=(v+p|0)+((a&8191)<<13)|0;return v=(g+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,y[0]=Ar,y[1]=dt,y[2]=ht,y[3]=or,y[4]=sr,y[5]=ar,y[6]=fr,y[7]=ur,y[8]=lr,y[9]=dr,y[10]=hr,y[11]=cr,y[12]=pr,y[13]=mr,y[14]=yr,y[15]=gr,y[16]=vr,y[17]=br,y[18]=wr,v!==0&&(y[19]=v,h.length++),h};Math.imul||(A=T);function I(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var h=0,l=0,d=0;d<u.length-1;d++){var y=l;l=0;for(var v=h&67108863,p=Math.min(d,o.length-1),a=Math.max(0,d-b.length+1);a<=p;a++){var g=d-a,P=b.words[g]|0,S=o.words[a]|0,B=P*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+v|0,v=z&67108863,y=y+(z>>>26)|0,l+=y>>>26,y&=67108863}u.words[d]=v,h=y,y=l}return h!==0?u.words[d]=h:u.length--,u.strip()}function D(b,o,u){var h=new k;return h.mulp(b,o,u)}n.prototype.mulTo=function(o,u){var h,l=this.length+o.length;return this.length===10&&o.length===10?h=A(this,o,u):l<63?h=T(this,o,u):l<1024?h=I(this,o,u):h=D(this,o,u),h};function k(b,o){this.x=b,this.y=o}k.prototype.makeRBT=function(o){for(var u=new Array(o),h=n.prototype._countBits(o)-1,l=0;l<o;l++)u[l]=this.revBin(l,h,o);return u},k.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var l=0,d=0;d<u;d++)l|=(o&1)<<u-d-1,o>>=1;return l},k.prototype.permute=function(o,u,h,l,d,y){for(var v=0;v<y;v++)l[v]=u[o[v]],d[v]=h[o[v]]},k.prototype.transform=function(o,u,h,l,d,y){this.permute(y,o,u,h,l,d);for(var v=1;v<d;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),g=Math.sin(2*Math.PI/p),P=0;P<d;P+=p)for(var S=a,B=g,z=0;z<v;z++){var H=h[P+z],G=l[P+z],J=h[P+z+v],K=l[P+z+v],Y=S*J-B*K;K=S*K+B*J,J=Y,h[P+z]=H+J,l[P+z]=G+K,h[P+z+v]=H-J,l[P+z+v]=G-K,z!==p&&(Y=a*S-g*B,B=a*B+g*S,S=Y)}},k.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,l=h&1,d=0;for(h=h/2|0;h;h=h>>>1)d++;return 1<<d+1+l},k.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var l=0;l<h/2;l++){var d=o[l];o[l]=o[h-l-1],o[h-l-1]=d,d=u[l],u[l]=-u[h-l-1],u[h-l-1]=-d}},k.prototype.normalize13b=function(o,u){for(var h=0,l=0;l<u/2;l++){var d=Math.round(o[2*l+1]/u)*8192+Math.round(o[2*l]/u)+h;o[l]=d&67108863,d<67108864?h=0:h=d/67108864|0}return o},k.prototype.convert13b=function(o,u,h,l){for(var d=0,y=0;y<u;y++)d=d+(o[y]|0),h[2*y]=d&8191,d=d>>>13,h[2*y+1]=d&8191,d=d>>>13;for(y=2*u;y<l;++y)h[y]=0;r(d===0),r((d&-8192)===0)},k.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},k.prototype.mulp=function(o,u,h){var l=2*this.guessLen13b(o.length,u.length),d=this.makeRBT(l),y=this.stub(l),v=new Array(l),p=new Array(l),a=new Array(l),g=new Array(l),P=new Array(l),S=new Array(l),B=h.words;B.length=l,this.convert13b(o.words,o.length,v,l),this.convert13b(u.words,u.length,g,l),this.transform(v,y,p,a,l,d),this.transform(g,y,P,S,l,d);for(var z=0;z<l;z++){var H=p[z]*P[z]-a[z]*S[z];a[z]=p[z]*S[z]+a[z]*P[z],p[z]=H}return this.conjugate(p,a,l),this.transform(p,a,B,y,l,d),this.conjugate(B,y,l),this.normalize13b(B,l),h.negative=o.negative^u.negative,h.length=o.length+u.length,h.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),D(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var u=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,d=(l&67108863)+(u&67108863);u>>=26,u+=l/67108864|0,u+=d>>>26,this.words[h]=d&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var h=this,l=0;l<u.length&&u[l]===0;l++,h=h.sqr());if(++l<u.length)for(var d=h.sqr();l<u.length;l++,d=d.sqr())u[l]!==0&&(h=h.mul(d));return h},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=67108863>>>26-u<<26-u,d;if(u!==0){var y=0;for(d=0;d<this.length;d++){var v=this.words[d]&l,p=(this.words[d]|0)-v<<u;this.words[d]=p|y,y=v>>>26-u}y&&(this.words[d]=y,this.length++)}if(h!==0){for(d=this.length-1;d>=0;d--)this.words[d+h]=this.words[d];for(d=0;d<h;d++)this.words[d]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var l;u?l=(u-u%26)/26:l=0;var d=o%26,y=Math.min((o-d)/26,this.length),v=67108863^67108863>>>d<<d,p=h;if(l-=y,l=Math.max(0,l),p){for(var a=0;a<y;a++)p.words[a]=this.words[a];p.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=l);a--){var P=this.words[a]|0;this.words[a]=g<<26-d|P>>>d,g=P&v}return p&&g!==0&&(p.words[p.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return!1;var d=this.words[h];return!!(d&l)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var l=67108863^67108863>>>u<<u;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,h){var l=o.length+h,d;this._expand(l);var y,v=0;for(d=0;d<o.length;d++){y=(this.words[d+h]|0)+v;var p=(o.words[d]|0)*u;y-=p&67108863,v=(y>>26)-(p/67108864|0),this.words[d+h]=y&67108863}for(;d<this.length-h;d++)y=(this.words[d+h]|0)+v,v=y>>26,this.words[d+h]=y&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+v,v=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var h=this.length-o.length,l=this.clone(),d=o,y=d.words[d.length-1]|0,v=this._countBits(y);h=26-v,h!==0&&(d=d.ushln(h),l.iushln(h),y=d.words[d.length-1]|0);var p=l.length-d.length,a;if(u!=="mod"){a=new n(null),a.length=p+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var P=l.clone()._ishlnsubmul(d,1,p);P.negative===0&&(l=P,a&&(a.words[p]=1));for(var S=p-1;S>=0;S--){var B=(l.words[d.length+S]|0)*67108864+(l.words[d.length+S-1]|0);for(B=Math.min(B/y|0,67108863),l._ishlnsubmul(d,B,S);l.negative!==0;)B--,l.negative=0,l._ishlnsubmul(d,1,S),l.isZero()||(l.negative^=1);a&&(a.words[S]=B)}return a&&a.strip(),l.strip(),u!=="div"&&h!==0&&l.iushrn(h),{div:a||null,mod:l}},n.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,d,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,u),u!=="mod"&&(l=y.div.neg()),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.iadd(o)),{div:l,mod:d}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),u),u!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),u),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.isub(o)),{div:y.div,mod:d}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,l=o.ushrn(1),d=o.andln(1),y=h.cmp(l);return y<0||d===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){r(o<=67108863);for(var u=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(u*h+(this.words[l]|0))%o;return h},n.prototype.idivn=function(o){r(o<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+u*67108864;this.words[h]=l/o|0,u=l%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=new n(0),v=new n(1),p=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++p;for(var a=h.clone(),g=u.clone();!u.isZero();){for(var P=0,S=1;!(u.words[0]&S)&&P<26;++P,S<<=1);if(P>0)for(u.iushrn(P);P-- >0;)(l.isOdd()||d.isOdd())&&(l.iadd(a),d.isub(g)),l.iushrn(1),d.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(a),v.isub(g)),y.iushrn(1),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(y),d.isub(v)):(h.isub(u),y.isub(l),v.isub(d))}return{a:y,b:v,gcd:h.iushln(p)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,p=1;!(u.words[0]&p)&&v<26;++v,p<<=1);if(v>0)for(u.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var a=0,g=1;!(h.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(h.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(d)):(h.isub(u),d.isub(l))}var P;return u.cmpn(1)===0?P=l:P=d,P.cmpn(0)<0&&P.iadd(o),P},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var l=0;u.isEven()&&h.isEven();l++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var d=u.cmp(h);if(d<0){var y=u;u=h,h=y}else if(d===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(l)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=l,this;for(var d=l,y=h;d!==0&&y<this.length;y++){var v=this.words[y]|0;v+=d,d=v>>>26,v&=67108863,this.words[y]=v}return d!==0&&(this.words[y]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var l=this.words[0]|0;h=l===o?0:l<o?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var l=this.words[h]|0,d=o.words[h]|0;if(l!==d){l<d?u=-1:l>d&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new N(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(b,o){this.name=b,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var l=h<this.n?-1:u.ucmp(this.p);return l===0?(u.words[0]=0,u.length=1):l>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function U(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,O),U.prototype.split=function(o,u){for(var h=4194303,l=Math.min(o.length,9),d=0;d<l;d++)u.words[d]=o.words[d];if(u.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(u.words[u.length++]=y&h,d=10;d<o.length;d++){var v=o.words[d]|0;o.words[d-10]=(v&h)<<4|y>>>22,y=v}y>>>=22,o.words[d-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},U.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var l=o.words[h]|0;u+=l*977,o.words[h]=u&67108863,u=l*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,O);function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,O);function F(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,O),F.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var l=(o.words[h]|0)*19+u,d=l&67108863;l>>>=26,o.words[h]=d,u=l}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(C[o])return C[o];var u;if(o==="k256")u=new U;else if(o==="p224")u=new $;else if(o==="p192")u=new W;else if(o==="p25519")u=new F;else throw new Error("Unknown prime "+o);return C[o]=u,u};function N(b){if(typeof b=="string"){var o=n._prime(b);this.m=o.p,this.prime=o}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},N.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},N.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},N.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},N.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},N.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},N.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},N.prototype.isqr=function(o){return this.imul(o,o.clone())},N.prototype.sqr=function(o){return this.mul(o,o)},N.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(o,h)}for(var l=this.m.subn(1),d=0;!l.isZero()&&l.andln(1)===0;)d++,l.iushrn(1);r(!l.isZero());var y=new n(1).toRed(this),v=y.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var g=this.pow(a,l),P=this.pow(o,l.addn(1).iushrn(1)),S=this.pow(o,l),B=d;S.cmp(y)!==0;){for(var z=S,H=0;z.cmp(y)!==0;H++)z=z.redSqr();r(H<B);var G=this.pow(g,new n(1).iushln(B-H-1));P=P.redMul(G),g=G.redSqr(),S=S.redMul(g),B=H}return P},N.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,l=new Array(1<<h);l[0]=new n(1).toRed(this),l[1]=o;for(var d=2;d<l.length;d++)l[d]=this.mul(l[d-1],o);var y=l[0],v=0,p=0,a=u.bitLength()%26;for(a===0&&(a=26),d=u.length-1;d>=0;d--){for(var g=u.words[d],P=a-1;P>=0;P--){var S=g>>P&1;if(y!==l[0]&&(y=this.sqr(y)),S===0&&v===0){p=0;continue}v<<=1,v|=S,p++,!(p!==h&&(d!==0||P!==0))&&(y=this.mul(y,l[v]),p=0,v=0)}a=26}return y},N.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},N.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new V(o)};function V(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,N),V.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},V.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var h=o.mul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof s8>"u"||s8,hL)});var a8=Z(mL=>{"use strict";E();var _b=mL;function fhe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,f=n&255;s?r.push(s,f):r.push(f)}return r}_b.toArray=fhe;function cL(t){return t.length===1?"0"+t:t}_b.zero2=cL;function pL(t){for(var e="",r=0;r<t.length;r++)e+=cL(t[r].toString(16));return e}_b.toHex=pL;_b.encode=function(e,r){return r==="hex"?pL(e):e}});var So=Z(yL=>{"use strict";E();var Rs=yL,uhe=Pa(),lhe=xo(),Mb=a8();Rs.assert=lhe;Rs.toArray=Mb.toArray;Rs.zero2=Mb.zero2;Rs.toHex=Mb.toHex;Rs.encode=Mb.encode;function dhe(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),f=0;f<i.length;f++){var c,m=s.andln(n-1);s.isOdd()?(m>(n>>1)-1?c=(n>>1)-m:c=m,s.isubn(c)):c=0,i[f]=c,s.iushrn(1)}return i}Rs.getNAF=dhe;function hhe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,s;t.cmpn(-i)>0||e.cmpn(-n)>0;){var f=t.andln(3)+i&3,c=e.andln(3)+n&3;f===3&&(f=-1),c===3&&(c=-1);var m;f&1?(s=t.andln(7)+i&7,(s===3||s===5)&&c===2?m=-f:m=f):m=0,r[0].push(m);var w;c&1?(s=e.andln(7)+n&7,(s===3||s===5)&&f===2?w=-c:w=c):w=0,r[1].push(w),2*i===m+1&&(i=1-i),2*n===w+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}Rs.getJSF=hhe;function che(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}Rs.cachedProperty=che;function phe(t){return typeof t=="string"?Rs.toArray(t,"hex"):t}Rs.parseBytes=phe;function mhe(t){return new uhe(t,"hex","le")}Rs.intFromLE=mhe});var Nm=Z((RTe,gL)=>{"use strict";E();var Sd=Pa(),jm=So(),xb=jm.getNAF,yhe=jm.getJSF,Sb=jm.assert;function Cu(t,e){this.type=t,this.p=new Sd(e.p,16),this.red=e.prime?Sd.red(e.prime):Sd.mont(this.p),this.zero=new Sd(0).toRed(this.red),this.one=new Sd(1).toRed(this.red),this.two=new Sd(2).toRed(this.red),this.n=e.n&&new Sd(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}gL.exports=Cu;Cu.prototype.point=function(){throw new Error("Not implemented")};Cu.prototype.validate=function(){throw new Error("Not implemented")};Cu.prototype._fixedNafMul=function(e,r){Sb(e.precomputed);var i=e._getDoubles(),n=xb(r,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;var f=[],c,m;for(c=0;c<n.length;c+=i.step){m=0;for(var w=c+i.step-1;w>=c;w--)m=(m<<1)+n[w];f.push(m)}for(var _=this.jpoint(null,null,null),M=this.jpoint(null,null,null),x=s;x>0;x--){for(c=0;c<f.length;c++)m=f[c],m===x?M=M.mixedAdd(i.points[c]):m===-x&&(M=M.mixedAdd(i.points[c].neg()));_=_.add(M)}return _.toP()};Cu.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,f=xb(r,i,this._bitLength),c=this.jpoint(null,null,null),m=f.length-1;m>=0;m--){for(var w=0;m>=0&&f[m]===0;m--)w++;if(m>=0&&w++,c=c.dblp(w),m<0)break;var _=f[m];Sb(_!==0),e.type==="affine"?_>0?c=c.mixedAdd(s[_-1>>1]):c=c.mixedAdd(s[-_-1>>1].neg()):_>0?c=c.add(s[_-1>>1]):c=c.add(s[-_-1>>1].neg())}return e.type==="affine"?c.toP():c};Cu.prototype._wnafMulAdd=function(e,r,i,n,s){var f=this._wnafT1,c=this._wnafT2,m=this._wnafT3,w=0,_,M,x;for(_=0;_<n;_++){x=r[_];var T=x._getNAFPoints(e);f[_]=T.wnd,c[_]=T.points}for(_=n-1;_>=1;_-=2){var A=_-1,I=_;if(f[A]!==1||f[I]!==1){m[A]=xb(i[A],f[A],this._bitLength),m[I]=xb(i[I],f[I],this._bitLength),w=Math.max(m[A].length,w),w=Math.max(m[I].length,w);continue}var D=[r[A],null,null,r[I]];r[A].y.cmp(r[I].y)===0?(D[1]=r[A].add(r[I]),D[2]=r[A].toJ().mixedAdd(r[I].neg())):r[A].y.cmp(r[I].y.redNeg())===0?(D[1]=r[A].toJ().mixedAdd(r[I]),D[2]=r[A].add(r[I].neg())):(D[1]=r[A].toJ().mixedAdd(r[I]),D[2]=r[A].toJ().mixedAdd(r[I].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],C=yhe(i[A],i[I]);for(w=Math.max(C[0].length,w),m[A]=new Array(w),m[I]=new Array(w),M=0;M<w;M++){var O=C[0][M]|0,U=C[1][M]|0;m[A][M]=k[(O+1)*3+(U+1)],m[I][M]=0,c[A]=D}}var $=this.jpoint(null,null,null),W=this._wnafT4;for(_=w;_>=0;_--){for(var F=0;_>=0;){var N=!0;for(M=0;M<n;M++)W[M]=m[M][_]|0,W[M]!==0&&(N=!1);if(!N)break;F++,_--}if(_>=0&&F++,$=$.dblp(F),_<0)break;for(M=0;M<n;M++){var V=W[M];V!==0&&(V>0?x=c[M][V-1>>1]:V<0&&(x=c[M][-V-1>>1].neg()),x.type==="affine"?$=$.mixedAdd(x):$=$.add(x))}}for(_=0;_<n;_++)c[_]=null;return s?$:$.toP()};function Vo(t,e){this.curve=t,this.type=e,this.precomputed=null}Cu.BasePoint=Vo;Vo.prototype.eq=function(){throw new Error("Not implemented")};Vo.prototype.validate=function(){return this.curve.validate(this)};Cu.prototype.decodePoint=function(e,r){e=jm.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?Sb(e[e.length-1]%2===0):e[0]===7&&Sb(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};Vo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Vo.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};Vo.prototype.encode=function(e,r){return jm.encode(this._encode(r),e)};Vo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Vo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Vo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<r;s+=e){for(var f=0;f<e;f++)n=n.dbl();i.push(n)}return{step:e,points:i}};Vo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)r[s]=r[s-1].add(n);return{wnd:e,points:r}};Vo.prototype._getBeta=function(){return null};Vo.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var bL=Z((kTe,vL)=>{"use strict";E();var ghe=So(),Jr=Pa(),f8=Qe(),Fc=Nm(),vhe=ghe.assert;function Yo(t){Fc.call(this,"short",t),this.a=new Jr(t.a,16).toRed(this.red),this.b=new Jr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}f8(Yo,Fc);vL.exports=Yo;Yo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Jr(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Jr(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?i=s[0]:(i=s[1],vhe(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var f;return e.basis?f=e.basis.map(function(c){return{a:new Jr(c.a,16),b:new Jr(c.b,16)}}):f=this._getEndoBasis(i),{beta:r,lambda:i,basis:f}}};Yo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Jr.mont(e),i=new Jr(2).toRed(r).redInvm(),n=i.redNeg(),s=new Jr(3).toRed(r).redNeg().redSqrt().redMul(i),f=n.redAdd(s).fromRed(),c=n.redSub(s).fromRed();return[f,c]};Yo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Jr(1),f=new Jr(0),c=new Jr(0),m=new Jr(1),w,_,M,x,T,A,I,D=0,k,C;i.cmpn(0)!==0;){var O=n.div(i);k=n.sub(O.mul(i)),C=c.sub(O.mul(s));var U=m.sub(O.mul(f));if(!M&&k.cmp(r)<0)w=I.neg(),_=s,M=k.neg(),x=C;else if(M&&++D===2)break;I=k,n=i,i=k,c=s,s=C,m=f,f=U}T=k.neg(),A=C;var $=M.sqr().add(x.sqr()),W=T.sqr().add(A.sqr());return W.cmp($)>=0&&(T=w,A=_),M.negative&&(M=M.neg(),x=x.neg()),T.negative&&(T=T.neg(),A=A.neg()),[{a:M,b:x},{a:T,b:A}]};Yo.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],s=n.b.mul(e).divRound(this.n),f=i.b.neg().mul(e).divRound(this.n),c=s.mul(i.a),m=f.mul(n.a),w=s.mul(i.b),_=f.mul(n.b),M=e.sub(c).sub(m),x=w.add(_).neg();return{k1:M,k2:x}};Yo.prototype.pointFromX=function(e,r){e=new Jr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(r&&!s||!r&&s)&&(n=n.redNeg()),this.point(e,n)};Yo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};Yo.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,f=0;f<e.length;f++){var c=this._endoSplit(r[f]),m=e[f],w=m._getBeta();c.k1.negative&&(c.k1.ineg(),m=m.neg(!0)),c.k2.negative&&(c.k2.ineg(),w=w.neg(!0)),n[f*2]=m,n[f*2+1]=w,s[f*2]=c.k1,s[f*2+1]=c.k2}for(var _=this._wnafMulAdd(1,n,s,f*2,i),M=0;M<f*2;M++)n[M]=null,s[M]=null;return _};function Yi(t,e,r,i){Fc.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Jr(e,16),this.y=new Jr(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}f8(Yi,Fc.BasePoint);Yo.prototype.point=function(e,r,i){return new Yi(this,e,r,i)};Yo.prototype.pointFromJSON=function(e,r){return Yi.fromJSON(this,e,r)};Yi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};Yi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Yi.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function s(c){return e.point(c[0],c[1],i)}var f=r[2];return n.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[n].concat(f.doubles.points.map(s))},naf:f.naf&&{wnd:f.naf.wnd,points:[n].concat(f.naf.points.map(s))}},n};Yi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Yi.prototype.isInfinity=function(){return this.inf};Yi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};Yi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),f=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,c)};Yi.prototype.getX=function(){return this.x.fromRed()};Yi.prototype.getY=function(){return this.y.fromRed()};Yi.prototype.mul=function(e){return e=new Jr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Yi.prototype.mulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};Yi.prototype.jmulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};Yi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Yi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};Yi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function gn(t,e,r,i){Fc.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Jr(0)):(this.x=new Jr(e,16),this.y=new Jr(r,16),this.z=new Jr(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}f8(gn,Fc.BasePoint);Yo.prototype.jpoint=function(e,r,i){return new gn(this,e,r,i)};gn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};gn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};gn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),s=e.x.redMul(i),f=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(i.redMul(this.z)),m=n.redSub(s),w=f.redSub(c);if(m.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=m.redSqr(),M=_.redMul(m),x=n.redMul(_),T=w.redSqr().redIAdd(M).redISub(x).redISub(x),A=w.redMul(x.redISub(T)).redISub(f.redMul(M)),I=this.z.redMul(e.z).redMul(m);return this.curve.jpoint(T,A,I)};gn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),s=this.y,f=e.y.redMul(r).redMul(this.z),c=i.redSub(n),m=s.redSub(f);if(c.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=c.redSqr(),_=w.redMul(c),M=i.redMul(w),x=m.redSqr().redIAdd(_).redISub(M).redISub(M),T=m.redMul(M.redISub(x)).redISub(s.redMul(_)),A=this.z.redMul(c);return this.curve.jpoint(x,T,A)};gn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,f=this.x,c=this.y,m=this.z,w=m.redSqr().redSqr(),_=c.redAdd(c);for(r=0;r<e;r++){var M=f.redSqr(),x=_.redSqr(),T=x.redSqr(),A=M.redAdd(M).redIAdd(M).redIAdd(n.redMul(w)),I=f.redMul(x),D=A.redSqr().redISub(I.redAdd(I)),k=I.redISub(D),C=A.redMul(k);C=C.redIAdd(C).redISub(T);var O=_.redMul(m);r+1<e&&(w=w.redMul(T)),f=D,m=O,_=C}return this.curve.jpoint(f,_.redMul(s),m)};gn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};gn.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),f=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(n).redISub(f);c=c.redIAdd(c);var m=n.redAdd(n).redIAdd(n),w=m.redSqr().redISub(c).redISub(c),_=f.redIAdd(f);_=_.redIAdd(_),_=_.redIAdd(_),e=w,r=m.redMul(c.redISub(w)).redISub(_),i=this.y.redAdd(this.y)}else{var M=this.x.redSqr(),x=this.y.redSqr(),T=x.redSqr(),A=this.x.redAdd(x).redSqr().redISub(M).redISub(T);A=A.redIAdd(A);var I=M.redAdd(M).redIAdd(M),D=I.redSqr(),k=T.redIAdd(T);k=k.redIAdd(k),k=k.redIAdd(k),e=D.redISub(A).redISub(A),r=I.redMul(A.redISub(e)).redISub(k),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};gn.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),f=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(n).redISub(f);c=c.redIAdd(c);var m=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),w=m.redSqr().redISub(c).redISub(c);e=w;var _=f.redIAdd(f);_=_.redIAdd(_),_=_.redIAdd(_),r=m.redMul(c.redISub(w)).redISub(_),i=this.y.redAdd(this.y)}else{var M=this.z.redSqr(),x=this.y.redSqr(),T=this.x.redMul(x),A=this.x.redSub(M).redMul(this.x.redAdd(M));A=A.redAdd(A).redIAdd(A);var I=T.redIAdd(T);I=I.redIAdd(I);var D=I.redAdd(I);e=A.redSqr().redISub(D),i=this.y.redAdd(this.z).redSqr().redISub(x).redISub(M);var k=x.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=A.redMul(I.redISub(e)).redISub(k)}return this.curve.jpoint(e,r,i)};gn.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),f=r.redSqr(),c=i.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(e.redMul(s)),w=r.redAdd(r);w=w.redIAdd(w);var _=w.redMul(c),M=m.redSqr().redISub(_.redAdd(_)),x=_.redISub(M),T=c.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var A=m.redMul(x).redISub(T),I=i.redAdd(i).redMul(n);return this.curve.jpoint(M,A,I)};gn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),s=e.redAdd(e).redIAdd(e),f=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(n);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(f);var m=c.redSqr(),w=n.redIAdd(n);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var _=s.redIAdd(c).redSqr().redISub(f).redISub(m).redISub(w),M=r.redMul(_);M=M.redIAdd(M),M=M.redIAdd(M);var x=this.x.redMul(m).redISub(M);x=x.redIAdd(x),x=x.redIAdd(x);var T=this.y.redMul(_.redMul(w.redISub(_)).redISub(c.redMul(m)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var A=this.z.redAdd(c).redSqr().redISub(i).redISub(m);return this.curve.jpoint(x,T,A)};gn.prototype.mul=function(e,r){return e=new Jr(e,r),this.curve._wnafMul(this,e)};gn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};gn.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};gn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};gn.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var ML=Z((BTe,_L)=>{"use strict";E();var $c=Pa(),wL=Qe(),Eb=Nm(),bhe=So();function Wc(t){Eb.call(this,"mont",t),this.a=new $c(t.a,16).toRed(this.red),this.b=new $c(t.b,16).toRed(this.red),this.i4=new $c(4).toRed(this.red).redInvm(),this.two=new $c(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}wL(Wc,Eb);_L.exports=Wc;Wc.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),s=n.redSqrt();return s.redSqr().cmp(n)===0};function Ji(t,e,r){Eb.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new $c(e,16),this.z=new $c(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}wL(Ji,Eb.BasePoint);Wc.prototype.decodePoint=function(e,r){return this.point(bhe.toArray(e,r),1)};Wc.prototype.point=function(e,r){return new Ji(this,e,r)};Wc.prototype.pointFromJSON=function(e){return Ji.fromJSON(this,e)};Ji.prototype.precompute=function(){};Ji.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ji.fromJSON=function(e,r){return new Ji(e,r[0],r[1]||e.one)};Ji.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ji.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ji.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=r.redSub(n),f=r.redMul(n),c=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(f,c)};Ji.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ji.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),f=e.x.redSub(e.z),c=f.redMul(i),m=s.redMul(n),w=r.z.redMul(c.redAdd(m).redSqr()),_=r.x.redMul(c.redISub(m).redSqr());return this.curve.point(w,_)};Ji.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),s=this,f=[];r.cmpn(0)!==0;r.iushrn(1))f.push(r.andln(1));for(var c=f.length-1;c>=0;c--)f[c]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};Ji.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ji.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ji.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Ji.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ji.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var EL=Z((CTe,SL)=>{"use strict";E();var whe=So(),Bf=Pa(),xL=Qe(),Ab=Nm(),_he=whe.assert;function ka(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Ab.call(this,"edwards",t),this.a=new Bf(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Bf(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Bf(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_he(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}xL(ka,Ab);SL.exports=ka;ka.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ka.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ka.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};ka.prototype.pointFromX=function(e,r){e=new Bf(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),f=n.redMul(s.redInvm()),c=f.redSqrt();if(c.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var m=c.fromRed().isOdd();return(r&&!m||!r&&m)&&(c=c.redNeg()),this.point(e,c)};ka.prototype.pointFromY=function(e,r){e=new Bf(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),f=n.redMul(s.redInvm());if(f.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=f.redSqrt();if(c.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)};ka.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(s)===0};function Br(t,e,r,i,n){Ab.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Bf(e,16),this.y=new Bf(r,16),this.z=i?new Bf(i,16):this.curve.one,this.t=n&&new Bf(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}xL(Br,Ab.BasePoint);ka.prototype.pointFromJSON=function(e){return Br.fromJSON(this,e)};ka.prototype.point=function(e,r,i,n){return new Br(this,e,r,i,n)};Br.fromJSON=function(e,r){return new Br(e,r[0],r[1],r[2])};Br.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Br.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Br.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),f=n.redAdd(r),c=f.redSub(i),m=n.redSub(r),w=s.redMul(c),_=f.redMul(m),M=s.redMul(m),x=c.redMul(f);return this.curve.point(w,_,x,M)};Br.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,s,f,c,m,w;if(this.curve.twisted){c=this.curve._mulA(r);var _=c.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(_.redSub(this.curve.two)),s=_.redMul(c.redSub(i)),f=_.redSqr().redSub(_).redSub(_)):(m=this.z.redSqr(),w=_.redSub(m).redISub(m),n=e.redSub(r).redISub(i).redMul(w),s=_.redMul(c.redSub(i)),f=_.redMul(w))}else c=r.redAdd(i),m=this.curve._mulC(this.z).redSqr(),w=c.redSub(m).redSub(m),n=this.curve._mulC(e.redISub(c)).redMul(w),s=this.curve._mulC(c).redMul(r.redISub(i)),f=c.redMul(w);return this.curve.point(n,s,f)};Br.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Br.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),f=i.redSub(r),c=s.redSub(n),m=s.redAdd(n),w=i.redAdd(r),_=f.redMul(c),M=m.redMul(w),x=f.redMul(w),T=c.redMul(m);return this.curve.point(_,M,T,x)};Br.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),f=this.curve.d.redMul(n).redMul(s),c=i.redSub(f),m=i.redAdd(f),w=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),_=r.redMul(c).redMul(w),M,x;return this.curve.twisted?(M=r.redMul(m).redMul(s.redSub(this.curve._mulA(n))),x=c.redMul(m)):(M=r.redMul(m).redMul(s.redSub(n)),x=this.curve._mulC(c).redMul(m)),this.curve.point(_,M,x)};Br.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Br.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Br.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Br.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Br.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Br.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Br.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Br.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Br.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Br.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Br.prototype.toP=Br.prototype.normalize;Br.prototype.mixedAdd=Br.prototype.add});var u8=Z(AL=>{"use strict";E();var Tb=AL;Tb.base=Nm();Tb.short=bL();Tb.mont=ML();Tb.edwards=EL()});var Ps=Z(Er=>{"use strict";E();var Mhe=xo(),xhe=Qe();Er.inherits=xhe;function She(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Ehe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):She(t,n)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Er.toArray=Ehe;function Ahe(t){for(var e="",r=0;r<t.length;r++)e+=RL(t[r].toString(16));return e}Er.toHex=Ahe;function TL(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Er.htonl=TL;function The(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=TL(n)),r+=PL(n.toString(16))}return r}Er.toHex32=The;function RL(t){return t.length===1?"0"+t:t}Er.zero2=RL;function PL(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Er.zero8=PL;function Rhe(t,e,r,i){var n=r-e;Mhe(n%4===0);for(var s=new Array(n/4),f=0,c=e;f<s.length;f++,c+=4){var m;i==="big"?m=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:m=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[f]=m>>>0}return s}Er.join32=Rhe;function Phe(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];e==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Er.split32=Phe;function khe(t,e){return t>>>e|t<<32-e}Er.rotr32=khe;function Ihe(t,e){return t<<e|t>>>32-e}Er.rotl32=Ihe;function Bhe(t,e){return t+e>>>0}Er.sum32=Bhe;function Dhe(t,e,r){return t+e+r>>>0}Er.sum32_3=Dhe;function Che(t,e,r,i){return t+e+r+i>>>0}Er.sum32_4=Che;function Ohe(t,e,r,i,n){return t+e+r+i+n>>>0}Er.sum32_5=Ohe;function qhe(t,e,r,i){var n=t[e],s=t[e+1],f=i+s>>>0,c=(f<i?1:0)+r+n;t[e]=c>>>0,t[e+1]=f}Er.sum64=qhe;function jhe(t,e,r,i){var n=e+i>>>0,s=(n<e?1:0)+t+r;return s>>>0}Er.sum64_hi=jhe;function Nhe(t,e,r,i){var n=e+i;return n>>>0}Er.sum64_lo=Nhe;function Lhe(t,e,r,i,n,s,f,c){var m=0,w=e;w=w+i>>>0,m+=w<e?1:0,w=w+s>>>0,m+=w<s?1:0,w=w+c>>>0,m+=w<c?1:0;var _=t+r+n+f+m;return _>>>0}Er.sum64_4_hi=Lhe;function zhe(t,e,r,i,n,s,f,c){var m=e+i+s+c;return m>>>0}Er.sum64_4_lo=zhe;function Uhe(t,e,r,i,n,s,f,c,m,w){var _=0,M=e;M=M+i>>>0,_+=M<e?1:0,M=M+s>>>0,_+=M<s?1:0,M=M+c>>>0,_+=M<c?1:0,M=M+w>>>0,_+=M<w?1:0;var x=t+r+n+f+m+_;return x>>>0}Er.sum64_5_hi=Uhe;function Fhe(t,e,r,i,n,s,f,c,m,w){var _=e+i+s+c+w;return _>>>0}Er.sum64_5_lo=Fhe;function $he(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Er.rotr64_hi=$he;function Whe(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Er.rotr64_lo=Whe;function Hhe(t,e,r){return t>>>r}Er.shr64_hi=Hhe;function Ghe(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Er.shr64_lo=Ghe});var Hc=Z(IL=>{"use strict";E();var kL=Ps(),Khe=xo();function Rb(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}IL.BlockHash=Rb;Rb.prototype.update=function(e,r){if(e=kL.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=kL.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};Rb.prototype.digest=function(e){return this.update(this._pad()),Khe(this.pending===null),this._digest(e)};Rb.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,f=8;f<this.padLength;f++)n[s++]=0;return n}});var l8=Z(Df=>{"use strict";E();var Zhe=Ps(),Ia=Zhe.rotr32;function Vhe(t,e,r,i){if(t===0)return BL(e,r,i);if(t===1||t===3)return CL(e,r,i);if(t===2)return DL(e,r,i)}Df.ft_1=Vhe;function BL(t,e,r){return t&e^~t&r}Df.ch32=BL;function DL(t,e,r){return t&e^t&r^e&r}Df.maj32=DL;function CL(t,e,r){return t^e^r}Df.p32=CL;function Yhe(t){return Ia(t,2)^Ia(t,13)^Ia(t,22)}Df.s0_256=Yhe;function Jhe(t){return Ia(t,6)^Ia(t,11)^Ia(t,25)}Df.s1_256=Jhe;function Xhe(t){return Ia(t,7)^Ia(t,18)^t>>>3}Df.g0_256=Xhe;function Qhe(t){return Ia(t,17)^Ia(t,19)^t>>>10}Df.g1_256=Qhe});var jL=Z((WTe,qL)=>{"use strict";E();var Gc=Ps(),ece=Hc(),tce=l8(),d8=Gc.rotl32,Lm=Gc.sum32,rce=Gc.sum32_5,ice=tce.ft_1,OL=ece.BlockHash,nce=[1518500249,1859775393,2400959708,3395469782];function Ba(){if(!(this instanceof Ba))return new Ba;OL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Gc.inherits(Ba,OL);qL.exports=Ba;Ba.blockSize=512;Ba.outSize=160;Ba.hmacStrength=80;Ba.padLength=64;Ba.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=d8(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],f=this.h[1],c=this.h[2],m=this.h[3],w=this.h[4];for(n=0;n<i.length;n++){var _=~~(n/20),M=rce(d8(s,5),ice(_,f,c,m),w,i[n],nce[_]);w=m,m=c,c=d8(f,30),f=s,s=M}this.h[0]=Lm(this.h[0],s),this.h[1]=Lm(this.h[1],f),this.h[2]=Lm(this.h[2],c),this.h[3]=Lm(this.h[3],m),this.h[4]=Lm(this.h[4],w)};Ba.prototype._digest=function(e){return e==="hex"?Gc.toHex32(this.h,"big"):Gc.split32(this.h,"big")}});var h8=Z((GTe,LL)=>{"use strict";E();var Kc=Ps(),oce=Hc(),Zc=l8(),sce=xo(),ks=Kc.sum32,ace=Kc.sum32_4,fce=Kc.sum32_5,uce=Zc.ch32,lce=Zc.maj32,dce=Zc.s0_256,hce=Zc.s1_256,cce=Zc.g0_256,pce=Zc.g1_256,NL=oce.BlockHash,mce=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Da(){if(!(this instanceof Da))return new Da;NL.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=mce,this.W=new Array(64)}Kc.inherits(Da,NL);LL.exports=Da;Da.blockSize=512;Da.outSize=256;Da.hmacStrength=192;Da.padLength=64;Da.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=ace(pce(i[n-2]),i[n-7],cce(i[n-15]),i[n-16]);var s=this.h[0],f=this.h[1],c=this.h[2],m=this.h[3],w=this.h[4],_=this.h[5],M=this.h[6],x=this.h[7];for(sce(this.k.length===i.length),n=0;n<i.length;n++){var T=fce(x,hce(w),uce(w,_,M),this.k[n],i[n]),A=ks(dce(s),lce(s,f,c));x=M,M=_,_=w,w=ks(m,T),m=c,c=f,f=s,s=ks(T,A)}this.h[0]=ks(this.h[0],s),this.h[1]=ks(this.h[1],f),this.h[2]=ks(this.h[2],c),this.h[3]=ks(this.h[3],m),this.h[4]=ks(this.h[4],w),this.h[5]=ks(this.h[5],_),this.h[6]=ks(this.h[6],M),this.h[7]=ks(this.h[7],x)};Da.prototype._digest=function(e){return e==="hex"?Kc.toHex32(this.h,"big"):Kc.split32(this.h,"big")}});var FL=Z((ZTe,UL)=>{"use strict";E();var c8=Ps(),zL=h8();function Cf(){if(!(this instanceof Cf))return new Cf;zL.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}c8.inherits(Cf,zL);UL.exports=Cf;Cf.blockSize=512;Cf.outSize=224;Cf.hmacStrength=192;Cf.padLength=64;Cf.prototype._digest=function(e){return e==="hex"?c8.toHex32(this.h.slice(0,7),"big"):c8.split32(this.h.slice(0,7),"big")}});var y8=Z((YTe,GL)=>{"use strict";E();var ro=Ps(),yce=Hc(),gce=xo(),Ca=ro.rotr64_hi,Oa=ro.rotr64_lo,$L=ro.shr64_hi,WL=ro.shr64_lo,Ou=ro.sum64,p8=ro.sum64_hi,m8=ro.sum64_lo,vce=ro.sum64_4_hi,bce=ro.sum64_4_lo,wce=ro.sum64_5_hi,_ce=ro.sum64_5_lo,HL=yce.BlockHash,Mce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Is(){if(!(this instanceof Is))return new Is;HL.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Mce,this.W=new Array(160)}ro.inherits(Is,HL);GL.exports=Is;Is.blockSize=1024;Is.outSize=512;Is.hmacStrength=192;Is.padLength=128;Is.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var s=Dce(i[n-4],i[n-3]),f=Cce(i[n-4],i[n-3]),c=i[n-14],m=i[n-13],w=Ice(i[n-30],i[n-29]),_=Bce(i[n-30],i[n-29]),M=i[n-32],x=i[n-31];i[n]=vce(s,f,c,m,w,_,M,x),i[n+1]=bce(s,f,c,m,w,_,M,x)}};Is.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],s=this.h[1],f=this.h[2],c=this.h[3],m=this.h[4],w=this.h[5],_=this.h[6],M=this.h[7],x=this.h[8],T=this.h[9],A=this.h[10],I=this.h[11],D=this.h[12],k=this.h[13],C=this.h[14],O=this.h[15];gce(this.k.length===i.length);for(var U=0;U<i.length;U+=2){var $=C,W=O,F=Pce(x,T),N=kce(x,T),V=xce(x,T,A,I,D,k),b=Sce(x,T,A,I,D,k),o=this.k[U],u=this.k[U+1],h=i[U],l=i[U+1],d=wce($,W,F,N,V,b,o,u,h,l),y=_ce($,W,F,N,V,b,o,u,h,l);$=Tce(n,s),W=Rce(n,s),F=Ece(n,s,f,c,m,w),N=Ace(n,s,f,c,m,w);var v=p8($,W,F,N),p=m8($,W,F,N);C=D,O=k,D=A,k=I,A=x,I=T,x=p8(_,M,d,y),T=m8(M,M,d,y),_=m,M=w,m=f,w=c,f=n,c=s,n=p8(d,y,v,p),s=m8(d,y,v,p)}Ou(this.h,0,n,s),Ou(this.h,2,f,c),Ou(this.h,4,m,w),Ou(this.h,6,_,M),Ou(this.h,8,x,T),Ou(this.h,10,A,I),Ou(this.h,12,D,k),Ou(this.h,14,C,O)};Is.prototype._digest=function(e){return e==="hex"?ro.toHex32(this.h,"big"):ro.split32(this.h,"big")};function xce(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function Sce(t,e,r,i,n,s){var f=e&i^~e&s;return f<0&&(f+=4294967296),f}function Ece(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function Ace(t,e,r,i,n,s){var f=e&i^e&s^i&s;return f<0&&(f+=4294967296),f}function Tce(t,e){var r=Ca(t,e,28),i=Ca(e,t,2),n=Ca(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Rce(t,e){var r=Oa(t,e,28),i=Oa(e,t,2),n=Oa(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Pce(t,e){var r=Ca(t,e,14),i=Ca(t,e,18),n=Ca(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function kce(t,e){var r=Oa(t,e,14),i=Oa(t,e,18),n=Oa(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function Ice(t,e){var r=Ca(t,e,1),i=Ca(t,e,8),n=$L(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Bce(t,e){var r=Oa(t,e,1),i=Oa(t,e,8),n=WL(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Dce(t,e){var r=Ca(t,e,19),i=Ca(e,t,29),n=$L(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}function Cce(t,e){var r=Oa(t,e,19),i=Oa(e,t,29),n=WL(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}});var VL=Z((XTe,ZL)=>{"use strict";E();var g8=Ps(),KL=y8();function Of(){if(!(this instanceof Of))return new Of;KL.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}g8.inherits(Of,KL);ZL.exports=Of;Of.blockSize=1024;Of.outSize=384;Of.hmacStrength=192;Of.padLength=128;Of.prototype._digest=function(e){return e==="hex"?g8.toHex32(this.h.slice(0,12),"big"):g8.split32(this.h.slice(0,12),"big")}});var YL=Z(Vc=>{"use strict";E();Vc.sha1=jL();Vc.sha224=FL();Vc.sha256=h8();Vc.sha384=VL();Vc.sha512=y8()});var rz=Z(tz=>{"use strict";E();var Ed=Ps(),Oce=Hc(),Pb=Ed.rotl32,JL=Ed.sum32,zm=Ed.sum32_3,XL=Ed.sum32_4,ez=Oce.BlockHash;function qa(){if(!(this instanceof qa))return new qa;ez.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ed.inherits(qa,ez);tz.ripemd160=qa;qa.blockSize=512;qa.outSize=160;qa.hmacStrength=192;qa.padLength=64;qa.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],s=this.h[2],f=this.h[3],c=this.h[4],m=i,w=n,_=s,M=f,x=c,T=0;T<80;T++){var A=JL(Pb(XL(i,QL(T,n,s,f),e[Nce[T]+r],qce(T)),zce[T]),c);i=c,c=f,f=Pb(s,10),s=n,n=A,A=JL(Pb(XL(m,QL(79-T,w,_,M),e[Lce[T]+r],jce(T)),Uce[T]),x),m=x,x=M,M=Pb(_,10),_=w,w=A}A=zm(this.h[1],s,M),this.h[1]=zm(this.h[2],f,x),this.h[2]=zm(this.h[3],c,m),this.h[3]=zm(this.h[4],i,w),this.h[4]=zm(this.h[0],n,_),this.h[0]=A};qa.prototype._digest=function(e){return e==="hex"?Ed.toHex32(this.h,"little"):Ed.split32(this.h,"little")};function QL(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function qce(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function jce(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Nce=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Lce=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],zce=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Uce=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var nz=Z((nRe,iz)=>{"use strict";E();var Fce=Ps(),$ce=xo();function Yc(t,e,r){if(!(this instanceof Yc))return new Yc(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Fce.toArray(e,r))}iz.exports=Yc;Yc.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),$ce(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Yc.prototype.update=function(e,r){return this.inner.update(e,r),this};Yc.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var kb=Z(oz=>{E();var vn=oz;vn.utils=Ps();vn.common=Hc();vn.sha=YL();vn.ripemd=rz();vn.hmac=nz();vn.sha1=vn.sha.sha1;vn.sha256=vn.sha.sha256;vn.sha224=vn.sha.sha224;vn.sha384=vn.sha.sha384;vn.sha512=vn.sha.sha512;vn.ripemd160=vn.ripemd.ripemd160});var az=Z((fRe,sz)=>{E();sz.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Ib=Z(lz=>{"use strict";E();var b8=lz,qu=kb(),v8=u8(),Wce=So(),fz=Wce.assert;function uz(t){t.type==="short"?this.curve=new v8.short(t):t.type==="edwards"?this.curve=new v8.edwards(t):this.curve=new v8.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,fz(this.g.validate(),"Invalid curve"),fz(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}b8.PresetCurve=uz;function ju(t,e){Object.defineProperty(b8,t,{configurable:!0,enumerable:!0,get:function(){var r=new uz(e);return Object.defineProperty(b8,t,{configurable:!0,enumerable:!0,value:r}),r}})}ju("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:qu.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});ju("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:qu.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});ju("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:qu.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});ju("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:qu.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});ju("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:qu.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});ju("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qu.sha256,gRed:!1,g:["9"]});ju("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qu.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var w8;try{w8=az()}catch{w8=void 0}ju("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:qu.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",w8]})});var cz=Z((hRe,hz)=>{"use strict";E();var Hce=kb(),Ad=a8(),dz=xo();function Nu(t){if(!(this instanceof Nu))return new Nu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ad.toArray(t.entropy,t.entropyEnc||"hex"),r=Ad.toArray(t.nonce,t.nonceEnc||"hex"),i=Ad.toArray(t.pers,t.persEnc||"hex");dz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}hz.exports=Nu;Nu.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Nu.prototype._hmac=function(){return new Hce.hmac(this.hash,this.K)};Nu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Nu.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=Ad.toArray(e,r),i=Ad.toArray(i,n),dz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Nu.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=Ad.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var f=s.slice(0,e);return this._update(i),this._reseed++,Ad.encode(f,r)}});var mz=Z((pRe,pz)=>{"use strict";E();var Gce=Pa(),Kce=So(),_8=Kce.assert;function Pn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}pz.exports=Pn;Pn.fromPublic=function(e,r,i){return r instanceof Pn?r:new Pn(e,{pub:r,pubEnc:i})};Pn.fromPrivate=function(e,r,i){return r instanceof Pn?r:new Pn(e,{priv:r,privEnc:i})};Pn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Pn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Pn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Pn.prototype._importPrivate=function(e,r){this.priv=new Gce(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Pn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?_8(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&_8(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Pn.prototype.derive=function(e){return e.validate()||_8(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Pn.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Pn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Pn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var vz=Z((yRe,gz)=>{"use strict";E();var Bb=Pa(),S8=So(),Zce=S8.assert;function Db(t,e){if(t instanceof Db)return t;this._importDER(t,e)||(Zce(t.r&&t.s,"Signature without r or s"),this.r=new Bb(t.r,16),this.s=new Bb(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}gz.exports=Db;function Vce(){this.place=0}function M8(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,f=e.place;s<i;s++,f++)n<<=8,n|=t[f],n>>>=0;return n<=127?!1:(e.place=f,n)}function yz(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Db.prototype._importDER=function(e,r){e=S8.toArray(e,r);var i=new Vce;if(e[i.place++]!==48)return!1;var n=M8(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=M8(e,i);if(s===!1)return!1;var f=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var c=M8(e,i);if(c===!1||e.length!==c+i.place)return!1;var m=e.slice(i.place,c+i.place);if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;if(m[0]===0)if(m[1]&128)m=m.slice(1);else return!1;return this.r=new Bb(f),this.s=new Bb(m),this.recoveryParam=null,!0};function x8(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Db.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=yz(r),i=yz(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];x8(n,r.length),n=n.concat(r),n.push(2),x8(n,i.length);var s=n.concat(i),f=[48];return x8(f,s.length),f=f.concat(s),S8.encode(f,e)}});var Mz=Z((vRe,_z)=>{"use strict";E();var Td=Pa(),bz=cz(),Yce=So(),E8=Ib(),Jce=Q1(),wz=Yce.assert,A8=mz(),Cb=vz();function Jo(t){if(!(this instanceof Jo))return new Jo(t);typeof t=="string"&&(wz(Object.prototype.hasOwnProperty.call(E8,t),"Unknown curve "+t),t=E8[t]),t instanceof E8.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}_z.exports=Jo;Jo.prototype.keyPair=function(e){return new A8(this,e)};Jo.prototype.keyFromPrivate=function(e,r){return A8.fromPrivate(this,e,r)};Jo.prototype.keyFromPublic=function(e,r){return A8.fromPublic(this,e,r)};Jo.prototype.genKeyPair=function(e){e||(e={});for(var r=new bz({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Jce(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Td(2));;){var s=new Td(r.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Jo.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Jo.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new Td(e,16));for(var s=this.n.byteLength(),f=r.getPrivate().toArray("be",s),c=e.toArray("be",s),m=new bz({hash:this.hash,entropy:f,nonce:c,pers:n.pers,persEnc:n.persEnc||"utf8"}),w=this.n.sub(new Td(1)),_=0;;_++){var M=n.k?n.k(_):new Td(m.generate(this.n.byteLength()));if(M=this._truncateToN(M,!0),!(M.cmpn(1)<=0||M.cmp(w)>=0)){var x=this.g.mul(M);if(!x.isInfinity()){var T=x.getX(),A=T.umod(this.n);if(A.cmpn(0)!==0){var I=M.invm(this.n).mul(A.mul(r.getPrivate()).iadd(e));if(I=I.umod(this.n),I.cmpn(0)!==0){var D=(x.getY().isOdd()?1:0)|(T.cmp(A)!==0?2:0);return n.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),D^=1),new Cb({r:A,s:I,recoveryParam:D})}}}}}};Jo.prototype.verify=function(e,r,i,n){e=this._truncateToN(new Td(e,16)),i=this.keyFromPublic(i,n),r=new Cb(r,"hex");var s=r.r,f=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||f.cmpn(1)<0||f.cmp(this.n)>=0)return!1;var c=f.invm(this.n),m=c.mul(e).umod(this.n),w=c.mul(s).umod(this.n),_;return this.curve._maxwellTrick?(_=this.g.jmulAdd(m,i.getPublic(),w),_.isInfinity()?!1:_.eqXToP(s)):(_=this.g.mulAdd(m,i.getPublic(),w),_.isInfinity()?!1:_.getX().umod(this.n).cmp(s)===0)};Jo.prototype.recoverPubKey=function(t,e,r,i){wz((3&r)===r,"The recovery param is more than two bits"),e=new Cb(e,i);var n=this.n,s=new Td(t),f=e.r,c=e.s,m=r&1,w=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&w)throw new Error("Unable to find sencond key candinate");w?f=this.curve.pointFromX(f.add(this.curve.n),m):f=this.curve.pointFromX(f,m);var _=e.r.invm(n),M=n.sub(s).mul(_).umod(n),x=c.mul(_).umod(n);return this.g.mulAdd(M,f,x)};Jo.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new Cb(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var Az=Z((wRe,Ez)=>{"use strict";E();var Um=So(),Sz=Um.assert,xz=Um.parseBytes,Jc=Um.cachedProperty;function Xi(t,e){this.eddsa=t,this._secret=xz(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=xz(e.pub)}Xi.fromPublic=function(e,r){return r instanceof Xi?r:new Xi(e,{pub:r})};Xi.fromSecret=function(e,r){return r instanceof Xi?r:new Xi(e,{secret:r})};Xi.prototype.secret=function(){return this._secret};Jc(Xi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Jc(Xi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Jc(Xi,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});Jc(Xi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Jc(Xi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Jc(Xi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Xi.prototype.sign=function(e){return Sz(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Xi.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Xi.prototype.getSecret=function(e){return Sz(this._secret,"KeyPair is public only"),Um.encode(this.secret(),e)};Xi.prototype.getPublic=function(e){return Um.encode(this.pubBytes(),e)};Ez.exports=Xi});var Rz=Z((MRe,Tz)=>{"use strict";E();var Xce=Pa(),Ob=So(),Qce=Ob.assert,qb=Ob.cachedProperty,e0e=Ob.parseBytes;function Rd(t,e){this.eddsa=t,typeof e!="object"&&(e=e0e(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Qce(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Xce&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}qb(Rd,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});qb(Rd,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});qb(Rd,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});qb(Rd,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Rd.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Rd.prototype.toHex=function(){return Ob.encode(this.toBytes(),"hex").toUpperCase()};Tz.exports=Rd});var Dz=Z((SRe,Bz)=>{"use strict";E();var t0e=kb(),r0e=Ib(),Xc=So(),i0e=Xc.assert,kz=Xc.parseBytes,Iz=Az(),Pz=Rz();function io(t){if(i0e(t==="ed25519","only tested with ed25519 so far"),!(this instanceof io))return new io(t);t=r0e[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=t0e.sha512}Bz.exports=io;io.prototype.sign=function(e,r){e=kz(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),f=this.encodePoint(s),c=this.hashInt(f,i.pubBytes(),e).mul(i.priv()),m=n.add(c).umod(this.curve.n);return this.makeSignature({R:s,S:m,Rencoded:f})};io.prototype.verify=function(e,r,i){e=kz(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),s=this.hashInt(r.Rencoded(),n.pubBytes(),e),f=this.g.mul(r.S()),c=r.R().add(n.pub().mul(s));return c.eq(f)};io.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Xc.intFromLE(e.digest()).umod(this.curve.n)};io.prototype.keyFromPublic=function(e){return Iz.fromPublic(this,e)};io.prototype.keyFromSecret=function(e){return Iz.fromSecret(this,e)};io.prototype.makeSignature=function(e){return e instanceof Pz?e:new Pz(this,e)};io.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};io.prototype.decodePoint=function(e){e=Xc.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,s=Xc.intFromLE(i);return this.curve.pointFromY(s,n)};io.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};io.prototype.decodeInt=function(e){return Xc.intFromLE(e)};io.prototype.isPoint=function(e){return e instanceof this.pointClass}});var jb=Z(Cz=>{"use strict";E();var Pd=Cz;Pd.version=dL().version;Pd.utils=So();Pd.rand=Q1();Pd.curve=u8();Pd.curves=Ib();Pd.ec=Mz();Pd.eddsa=Dz()});var R8=Z((Oz,T8)=>{E();(function(t,e){"use strict";function r(b,o){if(!b)throw new Error(o||"Assertion failed")}function i(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function n(b,o,u){if(n.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wt().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(u===16?this._parseHex(o,l,h):(this._parseBase(o,u,l),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d,y,v=0;if(h==="be")for(l=o.length-1,d=0;l>=0;l-=3)y=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);else if(h==="le")for(l=0,d=0;l<o.length;l+=3)y=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);return this.strip()};function f(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(b,o,u){var h=f(b,u);return u-1>=o&&(h|=f(b,u-1)<<4),h}n.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d=0,y=0,v;if(h==="be")for(l=o.length-1;l>=u;l-=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8;else{var p=o.length-u;for(l=p%2===0?u+1:u;l<o.length;l+=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8}this.strip()};function m(b,o,u,h){for(var l=0,d=Math.min(b.length,u),y=o;y<d;y++){var v=b.charCodeAt(y)-48;l*=h,v>=49?l+=v-49+10:v>=17?l+=v-17+10:l+=v}return l}n.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var l=0,d=1;d<=67108863;d*=u)l++;l--,d=d/u|0;for(var y=o.length-h,v=y%l,p=Math.min(y,y-v)+h,a=0,g=h;g<p;g+=l)a=m(o,g,g+l,u),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var P=1;for(a=m(o,g,o.length,u),g=0;g<v;g++)P*=u;this.imuln(P),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var l=0,d=0,y=0;y<this.length;y++){var v=this.words[y],p=((v<<l|d)&16777215).toString(16);d=v>>>24-l&16777215,d!==0||y!==this.length-1?h=w[6-p.length]+p+h:h=p+h,l+=2,l>=26&&(l-=26,y--)}for(d!==0&&(h=d.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=M[o];h="";var P=this.clone();for(P.negative=0;!P.isZero();){var S=P.modn(g).toString(o);P=P.idivn(g),P.isZero()?h=S+h:h=w[a-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return r(typeof s<"u"),this.toArrayLike(s,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,h){var l=this.byteLength(),d=h||Math.max(1,l);r(l<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var y=u==="le",v=new o(d),p,a,g=this.clone();if(y){for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[a]=p;for(;a<d;a++)v[a]=0}else{for(a=0;a<d-l;a++)v[a]=0;for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[d-a-1]=p}return v},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var h=u/26|0,l=u%26;o[u]=(b.words[h]&1<<l)>>>l}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var l=0;l<h.length;l++)this.words[l]=u.words[l]^h.words[l];if(this!==u)for(;l<u.length;l++)this.words[l]=u.words[l];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var l=0;l<u;l++)this.words[l]=~this.words[l]&67108863;return h>0&&(this.words[l]=~this.words[l]&67108863>>26-h),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,l=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<l:this.words[h]=this.words[h]&~(1<<l),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,l;this.length>o.length?(h=this,l=o):(h=o,l=this);for(var d=0,y=0;y<l.length;y++)u=(h.words[y]|0)+(l.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;for(;d!==0&&y<h.length;y++)u=(h.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;if(this.length=h.length,d!==0)this.words[this.length]=d,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,d;h>0?(l=this,d=o):(l=o,d=this);for(var y=0,v=0;v<d.length;v++)u=(l.words[v]|0)-(d.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;for(;y!==0&&v<l.length;v++)u=(l.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;if(y===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function T(b,o,u){u.negative=o.negative^b.negative;var h=b.length+o.length|0;u.length=h,h=h-1|0;var l=b.words[0]|0,d=o.words[0]|0,y=l*d,v=y&67108863,p=y/67108864|0;u.words[0]=v;for(var a=1;a<h;a++){for(var g=p>>>26,P=p&67108863,S=Math.min(a,o.length-1),B=Math.max(0,a-b.length+1);B<=S;B++){var z=a-B|0;l=b.words[z]|0,d=o.words[B]|0,y=l*d+P,g+=y/67108864|0,P=y&67108863}u.words[a]=P|0,p=g|0}return p!==0?u.words[a]=p|0:u.length--,u.strip()}var A=function(o,u,h){var l=o.words,d=u.words,y=h.words,v=0,p,a,g,P=l[0]|0,S=P&8191,B=P>>>13,z=l[1]|0,H=z&8191,G=z>>>13,J=l[2]|0,K=J&8191,Y=J>>>13,ze=l[3]|0,X=ze&8191,Q=ze>>>13,et=l[4]|0,te=et&8191,re=et>>>13,$t=l[5]|0,ie=$t&8191,ne=$t>>>13,Dr=l[6]|0,se=Dr&8191,oe=Dr>>>13,fi=l[7]|0,ae=fi&8191,fe=fi>>>13,ui=l[8]|0,ue=ui&8191,le=ui>>>13,li=l[9]|0,de=li&8191,he=li>>>13,di=d[0]|0,ce=di&8191,pe=di>>>13,hi=d[1]|0,me=hi&8191,ye=hi>>>13,ci=d[2]|0,ge=ci&8191,ve=ci>>>13,pi=d[3]|0,be=pi&8191,we=pi>>>13,mi=d[4]|0,_e=mi&8191,Me=mi>>>13,yi=d[5]|0,xe=yi&8191,Se=yi>>>13,gi=d[6]|0,Ee=gi&8191,Ae=gi>>>13,vi=d[7]|0,Te=vi&8191,Re=vi>>>13,bi=d[8]|0,Pe=bi&8191,ke=bi>>>13,wi=d[9]|0,Ie=wi&8191,Be=wi>>>13;h.negative=o.negative^u.negative,h.length=19,p=Math.imul(S,ce),a=Math.imul(S,pe),a=a+Math.imul(B,ce)|0,g=Math.imul(B,pe);var Ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(H,ce),a=Math.imul(H,pe),a=a+Math.imul(G,ce)|0,g=Math.imul(G,pe),p=p+Math.imul(S,me)|0,a=a+Math.imul(S,ye)|0,a=a+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var dt=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dt>>>26)|0,dt&=67108863,p=Math.imul(K,ce),a=Math.imul(K,pe),a=a+Math.imul(Y,ce)|0,g=Math.imul(Y,pe),p=p+Math.imul(H,me)|0,a=a+Math.imul(H,ye)|0,a=a+Math.imul(G,me)|0,g=g+Math.imul(G,ye)|0,p=p+Math.imul(S,ge)|0,a=a+Math.imul(S,ve)|0,a=a+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var ht=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ht>>>26)|0,ht&=67108863,p=Math.imul(X,ce),a=Math.imul(X,pe),a=a+Math.imul(Q,ce)|0,g=Math.imul(Q,pe),p=p+Math.imul(K,me)|0,a=a+Math.imul(K,ye)|0,a=a+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,p=p+Math.imul(H,ge)|0,a=a+Math.imul(H,ve)|0,a=a+Math.imul(G,ge)|0,g=g+Math.imul(G,ve)|0,p=p+Math.imul(S,be)|0,a=a+Math.imul(S,we)|0,a=a+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var or=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(or>>>26)|0,or&=67108863,p=Math.imul(te,ce),a=Math.imul(te,pe),a=a+Math.imul(re,ce)|0,g=Math.imul(re,pe),p=p+Math.imul(X,me)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(Q,me)|0,g=g+Math.imul(Q,ye)|0,p=p+Math.imul(K,ge)|0,a=a+Math.imul(K,ve)|0,a=a+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,p=p+Math.imul(H,be)|0,a=a+Math.imul(H,we)|0,a=a+Math.imul(G,be)|0,g=g+Math.imul(G,we)|0,p=p+Math.imul(S,_e)|0,a=a+Math.imul(S,Me)|0,a=a+Math.imul(B,_e)|0,g=g+Math.imul(B,Me)|0;var sr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,p=Math.imul(ie,ce),a=Math.imul(ie,pe),a=a+Math.imul(ne,ce)|0,g=Math.imul(ne,pe),p=p+Math.imul(te,me)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,p=p+Math.imul(X,ge)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(Q,ge)|0,g=g+Math.imul(Q,ve)|0,p=p+Math.imul(K,be)|0,a=a+Math.imul(K,we)|0,a=a+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,p=p+Math.imul(H,_e)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(G,_e)|0,g=g+Math.imul(G,Me)|0,p=p+Math.imul(S,xe)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(B,xe)|0,g=g+Math.imul(B,Se)|0;var ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,p=Math.imul(se,ce),a=Math.imul(se,pe),a=a+Math.imul(oe,ce)|0,g=Math.imul(oe,pe),p=p+Math.imul(ie,me)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,p=p+Math.imul(te,ge)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,p=p+Math.imul(X,be)|0,a=a+Math.imul(X,we)|0,a=a+Math.imul(Q,be)|0,g=g+Math.imul(Q,we)|0,p=p+Math.imul(K,_e)|0,a=a+Math.imul(K,Me)|0,a=a+Math.imul(Y,_e)|0,g=g+Math.imul(Y,Me)|0,p=p+Math.imul(H,xe)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(G,xe)|0,g=g+Math.imul(G,Se)|0,p=p+Math.imul(S,Ee)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(B,Ee)|0,g=g+Math.imul(B,Ae)|0;var fr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,p=Math.imul(ae,ce),a=Math.imul(ae,pe),a=a+Math.imul(fe,ce)|0,g=Math.imul(fe,pe),p=p+Math.imul(se,me)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,p=p+Math.imul(ie,ge)|0,a=a+Math.imul(ie,ve)|0,a=a+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,p=p+Math.imul(te,be)|0,a=a+Math.imul(te,we)|0,a=a+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,p=p+Math.imul(X,_e)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(Q,_e)|0,g=g+Math.imul(Q,Me)|0,p=p+Math.imul(K,xe)|0,a=a+Math.imul(K,Se)|0,a=a+Math.imul(Y,xe)|0,g=g+Math.imul(Y,Se)|0,p=p+Math.imul(H,Ee)|0,a=a+Math.imul(H,Ae)|0,a=a+Math.imul(G,Ee)|0,g=g+Math.imul(G,Ae)|0,p=p+Math.imul(S,Te)|0,a=a+Math.imul(S,Re)|0,a=a+Math.imul(B,Te)|0,g=g+Math.imul(B,Re)|0;var ur=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,p=Math.imul(ue,ce),a=Math.imul(ue,pe),a=a+Math.imul(le,ce)|0,g=Math.imul(le,pe),p=p+Math.imul(ae,me)|0,a=a+Math.imul(ae,ye)|0,a=a+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,p=p+Math.imul(se,ge)|0,a=a+Math.imul(se,ve)|0,a=a+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,p=p+Math.imul(ie,be)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,p=p+Math.imul(te,_e)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(re,_e)|0,g=g+Math.imul(re,Me)|0,p=p+Math.imul(X,xe)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(Q,xe)|0,g=g+Math.imul(Q,Se)|0,p=p+Math.imul(K,Ee)|0,a=a+Math.imul(K,Ae)|0,a=a+Math.imul(Y,Ee)|0,g=g+Math.imul(Y,Ae)|0,p=p+Math.imul(H,Te)|0,a=a+Math.imul(H,Re)|0,a=a+Math.imul(G,Te)|0,g=g+Math.imul(G,Re)|0,p=p+Math.imul(S,Pe)|0,a=a+Math.imul(S,ke)|0,a=a+Math.imul(B,Pe)|0,g=g+Math.imul(B,ke)|0;var lr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,p=Math.imul(de,ce),a=Math.imul(de,pe),a=a+Math.imul(he,ce)|0,g=Math.imul(he,pe),p=p+Math.imul(ue,me)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(le,me)|0,g=g+Math.imul(le,ye)|0,p=p+Math.imul(ae,ge)|0,a=a+Math.imul(ae,ve)|0,a=a+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,p=p+Math.imul(se,be)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,p=p+Math.imul(ie,_e)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(ne,_e)|0,g=g+Math.imul(ne,Me)|0,p=p+Math.imul(te,xe)|0,a=a+Math.imul(te,Se)|0,a=a+Math.imul(re,xe)|0,g=g+Math.imul(re,Se)|0,p=p+Math.imul(X,Ee)|0,a=a+Math.imul(X,Ae)|0,a=a+Math.imul(Q,Ee)|0,g=g+Math.imul(Q,Ae)|0,p=p+Math.imul(K,Te)|0,a=a+Math.imul(K,Re)|0,a=a+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Re)|0,p=p+Math.imul(H,Pe)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(G,Pe)|0,g=g+Math.imul(G,ke)|0,p=p+Math.imul(S,Ie)|0,a=a+Math.imul(S,Be)|0,a=a+Math.imul(B,Ie)|0,g=g+Math.imul(B,Be)|0;var dr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(de,me),a=Math.imul(de,ye),a=a+Math.imul(he,me)|0,g=Math.imul(he,ye),p=p+Math.imul(ue,ge)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(le,ge)|0,g=g+Math.imul(le,ve)|0,p=p+Math.imul(ae,be)|0,a=a+Math.imul(ae,we)|0,a=a+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,p=p+Math.imul(se,_e)|0,a=a+Math.imul(se,Me)|0,a=a+Math.imul(oe,_e)|0,g=g+Math.imul(oe,Me)|0,p=p+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(ne,xe)|0,g=g+Math.imul(ne,Se)|0,p=p+Math.imul(te,Ee)|0,a=a+Math.imul(te,Ae)|0,a=a+Math.imul(re,Ee)|0,g=g+Math.imul(re,Ae)|0,p=p+Math.imul(X,Te)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(Q,Te)|0,g=g+Math.imul(Q,Re)|0,p=p+Math.imul(K,Pe)|0,a=a+Math.imul(K,ke)|0,a=a+Math.imul(Y,Pe)|0,g=g+Math.imul(Y,ke)|0,p=p+Math.imul(H,Ie)|0,a=a+Math.imul(H,Be)|0,a=a+Math.imul(G,Ie)|0,g=g+Math.imul(G,Be)|0;var hr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,p=Math.imul(de,ge),a=Math.imul(de,ve),a=a+Math.imul(he,ge)|0,g=Math.imul(he,ve),p=p+Math.imul(ue,be)|0,a=a+Math.imul(ue,we)|0,a=a+Math.imul(le,be)|0,g=g+Math.imul(le,we)|0,p=p+Math.imul(ae,_e)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(fe,_e)|0,g=g+Math.imul(fe,Me)|0,p=p+Math.imul(se,xe)|0,a=a+Math.imul(se,Se)|0,a=a+Math.imul(oe,xe)|0,g=g+Math.imul(oe,Se)|0,p=p+Math.imul(ie,Ee)|0,a=a+Math.imul(ie,Ae)|0,a=a+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,Ae)|0,p=p+Math.imul(te,Te)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(re,Te)|0,g=g+Math.imul(re,Re)|0,p=p+Math.imul(X,Pe)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(Q,Pe)|0,g=g+Math.imul(Q,ke)|0,p=p+Math.imul(K,Ie)|0,a=a+Math.imul(K,Be)|0,a=a+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,Be)|0;var cr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,p=Math.imul(de,be),a=Math.imul(de,we),a=a+Math.imul(he,be)|0,g=Math.imul(he,we),p=p+Math.imul(ue,_e)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(le,_e)|0,g=g+Math.imul(le,Me)|0,p=p+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(fe,xe)|0,g=g+Math.imul(fe,Se)|0,p=p+Math.imul(se,Ee)|0,a=a+Math.imul(se,Ae)|0,a=a+Math.imul(oe,Ee)|0,g=g+Math.imul(oe,Ae)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,Re)|0,a=a+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Re)|0,p=p+Math.imul(te,Pe)|0,a=a+Math.imul(te,ke)|0,a=a+Math.imul(re,Pe)|0,g=g+Math.imul(re,ke)|0,p=p+Math.imul(X,Ie)|0,a=a+Math.imul(X,Be)|0,a=a+Math.imul(Q,Ie)|0,g=g+Math.imul(Q,Be)|0;var pr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(de,_e),a=Math.imul(de,Me),a=a+Math.imul(he,_e)|0,g=Math.imul(he,Me),p=p+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(le,xe)|0,g=g+Math.imul(le,Se)|0,p=p+Math.imul(ae,Ee)|0,a=a+Math.imul(ae,Ae)|0,a=a+Math.imul(fe,Ee)|0,g=g+Math.imul(fe,Ae)|0,p=p+Math.imul(se,Te)|0,a=a+Math.imul(se,Re)|0,a=a+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Re)|0,p=p+Math.imul(ie,Pe)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,ke)|0,p=p+Math.imul(te,Ie)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(re,Ie)|0,g=g+Math.imul(re,Be)|0;var mr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,p=Math.imul(de,xe),a=Math.imul(de,Se),a=a+Math.imul(he,xe)|0,g=Math.imul(he,Se),p=p+Math.imul(ue,Ee)|0,a=a+Math.imul(ue,Ae)|0,a=a+Math.imul(le,Ee)|0,g=g+Math.imul(le,Ae)|0,p=p+Math.imul(ae,Te)|0,a=a+Math.imul(ae,Re)|0,a=a+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Re)|0,p=p+Math.imul(se,Pe)|0,a=a+Math.imul(se,ke)|0,a=a+Math.imul(oe,Pe)|0,g=g+Math.imul(oe,ke)|0,p=p+Math.imul(ie,Ie)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,Be)|0;var yr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,p=Math.imul(de,Ee),a=Math.imul(de,Ae),a=a+Math.imul(he,Ee)|0,g=Math.imul(he,Ae),p=p+Math.imul(ue,Te)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(le,Te)|0,g=g+Math.imul(le,Re)|0,p=p+Math.imul(ae,Pe)|0,a=a+Math.imul(ae,ke)|0,a=a+Math.imul(fe,Pe)|0,g=g+Math.imul(fe,ke)|0,p=p+Math.imul(se,Ie)|0,a=a+Math.imul(se,Be)|0,a=a+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,Be)|0;var gr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(de,Te),a=Math.imul(de,Re),a=a+Math.imul(he,Te)|0,g=Math.imul(he,Re),p=p+Math.imul(ue,Pe)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(le,Pe)|0,g=g+Math.imul(le,ke)|0,p=p+Math.imul(ae,Ie)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,Be)|0;var vr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,p=Math.imul(de,Pe),a=Math.imul(de,ke),a=a+Math.imul(he,Pe)|0,g=Math.imul(he,ke),p=p+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(le,Ie)|0,g=g+Math.imul(le,Be)|0;var br=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(br>>>26)|0,br&=67108863,p=Math.imul(de,Ie),a=Math.imul(de,Be),a=a+Math.imul(he,Ie)|0,g=Math.imul(he,Be);var wr=(v+p|0)+((a&8191)<<13)|0;return v=(g+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,y[0]=Ar,y[1]=dt,y[2]=ht,y[3]=or,y[4]=sr,y[5]=ar,y[6]=fr,y[7]=ur,y[8]=lr,y[9]=dr,y[10]=hr,y[11]=cr,y[12]=pr,y[13]=mr,y[14]=yr,y[15]=gr,y[16]=vr,y[17]=br,y[18]=wr,v!==0&&(y[19]=v,h.length++),h};Math.imul||(A=T);function I(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var h=0,l=0,d=0;d<u.length-1;d++){var y=l;l=0;for(var v=h&67108863,p=Math.min(d,o.length-1),a=Math.max(0,d-b.length+1);a<=p;a++){var g=d-a,P=b.words[g]|0,S=o.words[a]|0,B=P*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+v|0,v=z&67108863,y=y+(z>>>26)|0,l+=y>>>26,y&=67108863}u.words[d]=v,h=y,y=l}return h!==0?u.words[d]=h:u.length--,u.strip()}function D(b,o,u){var h=new k;return h.mulp(b,o,u)}n.prototype.mulTo=function(o,u){var h,l=this.length+o.length;return this.length===10&&o.length===10?h=A(this,o,u):l<63?h=T(this,o,u):l<1024?h=I(this,o,u):h=D(this,o,u),h};function k(b,o){this.x=b,this.y=o}k.prototype.makeRBT=function(o){for(var u=new Array(o),h=n.prototype._countBits(o)-1,l=0;l<o;l++)u[l]=this.revBin(l,h,o);return u},k.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var l=0,d=0;d<u;d++)l|=(o&1)<<u-d-1,o>>=1;return l},k.prototype.permute=function(o,u,h,l,d,y){for(var v=0;v<y;v++)l[v]=u[o[v]],d[v]=h[o[v]]},k.prototype.transform=function(o,u,h,l,d,y){this.permute(y,o,u,h,l,d);for(var v=1;v<d;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),g=Math.sin(2*Math.PI/p),P=0;P<d;P+=p)for(var S=a,B=g,z=0;z<v;z++){var H=h[P+z],G=l[P+z],J=h[P+z+v],K=l[P+z+v],Y=S*J-B*K;K=S*K+B*J,J=Y,h[P+z]=H+J,l[P+z]=G+K,h[P+z+v]=H-J,l[P+z+v]=G-K,z!==p&&(Y=a*S-g*B,B=a*B+g*S,S=Y)}},k.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,l=h&1,d=0;for(h=h/2|0;h;h=h>>>1)d++;return 1<<d+1+l},k.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var l=0;l<h/2;l++){var d=o[l];o[l]=o[h-l-1],o[h-l-1]=d,d=u[l],u[l]=-u[h-l-1],u[h-l-1]=-d}},k.prototype.normalize13b=function(o,u){for(var h=0,l=0;l<u/2;l++){var d=Math.round(o[2*l+1]/u)*8192+Math.round(o[2*l]/u)+h;o[l]=d&67108863,d<67108864?h=0:h=d/67108864|0}return o},k.prototype.convert13b=function(o,u,h,l){for(var d=0,y=0;y<u;y++)d=d+(o[y]|0),h[2*y]=d&8191,d=d>>>13,h[2*y+1]=d&8191,d=d>>>13;for(y=2*u;y<l;++y)h[y]=0;r(d===0),r((d&-8192)===0)},k.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},k.prototype.mulp=function(o,u,h){var l=2*this.guessLen13b(o.length,u.length),d=this.makeRBT(l),y=this.stub(l),v=new Array(l),p=new Array(l),a=new Array(l),g=new Array(l),P=new Array(l),S=new Array(l),B=h.words;B.length=l,this.convert13b(o.words,o.length,v,l),this.convert13b(u.words,u.length,g,l),this.transform(v,y,p,a,l,d),this.transform(g,y,P,S,l,d);for(var z=0;z<l;z++){var H=p[z]*P[z]-a[z]*S[z];a[z]=p[z]*S[z]+a[z]*P[z],p[z]=H}return this.conjugate(p,a,l),this.transform(p,a,B,y,l,d),this.conjugate(B,y,l),this.normalize13b(B,l),h.negative=o.negative^u.negative,h.length=o.length+u.length,h.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),D(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var u=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,d=(l&67108863)+(u&67108863);u>>=26,u+=l/67108864|0,u+=d>>>26,this.words[h]=d&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var h=this,l=0;l<u.length&&u[l]===0;l++,h=h.sqr());if(++l<u.length)for(var d=h.sqr();l<u.length;l++,d=d.sqr())u[l]!==0&&(h=h.mul(d));return h},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=67108863>>>26-u<<26-u,d;if(u!==0){var y=0;for(d=0;d<this.length;d++){var v=this.words[d]&l,p=(this.words[d]|0)-v<<u;this.words[d]=p|y,y=v>>>26-u}y&&(this.words[d]=y,this.length++)}if(h!==0){for(d=this.length-1;d>=0;d--)this.words[d+h]=this.words[d];for(d=0;d<h;d++)this.words[d]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var l;u?l=(u-u%26)/26:l=0;var d=o%26,y=Math.min((o-d)/26,this.length),v=67108863^67108863>>>d<<d,p=h;if(l-=y,l=Math.max(0,l),p){for(var a=0;a<y;a++)p.words[a]=this.words[a];p.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=l);a--){var P=this.words[a]|0;this.words[a]=g<<26-d|P>>>d,g=P&v}return p&&g!==0&&(p.words[p.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return!1;var d=this.words[h];return!!(d&l)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var l=67108863^67108863>>>u<<u;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,h){var l=o.length+h,d;this._expand(l);var y,v=0;for(d=0;d<o.length;d++){y=(this.words[d+h]|0)+v;var p=(o.words[d]|0)*u;y-=p&67108863,v=(y>>26)-(p/67108864|0),this.words[d+h]=y&67108863}for(;d<this.length-h;d++)y=(this.words[d+h]|0)+v,v=y>>26,this.words[d+h]=y&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+v,v=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var h=this.length-o.length,l=this.clone(),d=o,y=d.words[d.length-1]|0,v=this._countBits(y);h=26-v,h!==0&&(d=d.ushln(h),l.iushln(h),y=d.words[d.length-1]|0);var p=l.length-d.length,a;if(u!=="mod"){a=new n(null),a.length=p+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var P=l.clone()._ishlnsubmul(d,1,p);P.negative===0&&(l=P,a&&(a.words[p]=1));for(var S=p-1;S>=0;S--){var B=(l.words[d.length+S]|0)*67108864+(l.words[d.length+S-1]|0);for(B=Math.min(B/y|0,67108863),l._ishlnsubmul(d,B,S);l.negative!==0;)B--,l.negative=0,l._ishlnsubmul(d,1,S),l.isZero()||(l.negative^=1);a&&(a.words[S]=B)}return a&&a.strip(),l.strip(),u!=="div"&&h!==0&&l.iushrn(h),{div:a||null,mod:l}},n.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,d,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,u),u!=="mod"&&(l=y.div.neg()),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.iadd(o)),{div:l,mod:d}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),u),u!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),u),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.isub(o)),{div:y.div,mod:d}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,l=o.ushrn(1),d=o.andln(1),y=h.cmp(l);return y<0||d===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){r(o<=67108863);for(var u=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(u*h+(this.words[l]|0))%o;return h},n.prototype.idivn=function(o){r(o<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+u*67108864;this.words[h]=l/o|0,u=l%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=new n(0),v=new n(1),p=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++p;for(var a=h.clone(),g=u.clone();!u.isZero();){for(var P=0,S=1;!(u.words[0]&S)&&P<26;++P,S<<=1);if(P>0)for(u.iushrn(P);P-- >0;)(l.isOdd()||d.isOdd())&&(l.iadd(a),d.isub(g)),l.iushrn(1),d.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(a),v.isub(g)),y.iushrn(1),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(y),d.isub(v)):(h.isub(u),y.isub(l),v.isub(d))}return{a:y,b:v,gcd:h.iushln(p)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,p=1;!(u.words[0]&p)&&v<26;++v,p<<=1);if(v>0)for(u.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var a=0,g=1;!(h.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(h.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(d)):(h.isub(u),d.isub(l))}var P;return u.cmpn(1)===0?P=l:P=d,P.cmpn(0)<0&&P.iadd(o),P},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var l=0;u.isEven()&&h.isEven();l++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var d=u.cmp(h);if(d<0){var y=u;u=h,h=y}else if(d===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(l)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=l,this;for(var d=l,y=h;d!==0&&y<this.length;y++){var v=this.words[y]|0;v+=d,d=v>>>26,v&=67108863,this.words[y]=v}return d!==0&&(this.words[y]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var l=this.words[0]|0;h=l===o?0:l<o?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var l=this.words[h]|0,d=o.words[h]|0;if(l!==d){l<d?u=-1:l>d&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new N(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(b,o){this.name=b,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var l=h<this.n?-1:u.ucmp(this.p);return l===0?(u.words[0]=0,u.length=1):l>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function U(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,O),U.prototype.split=function(o,u){for(var h=4194303,l=Math.min(o.length,9),d=0;d<l;d++)u.words[d]=o.words[d];if(u.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(u.words[u.length++]=y&h,d=10;d<o.length;d++){var v=o.words[d]|0;o.words[d-10]=(v&h)<<4|y>>>22,y=v}y>>>=22,o.words[d-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},U.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var l=o.words[h]|0;u+=l*977,o.words[h]=u&67108863,u=l*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,O);function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,O);function F(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,O),F.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var l=(o.words[h]|0)*19+u,d=l&67108863;l>>>=26,o.words[h]=d,u=l}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(C[o])return C[o];var u;if(o==="k256")u=new U;else if(o==="p224")u=new $;else if(o==="p192")u=new W;else if(o==="p25519")u=new F;else throw new Error("Unknown prime "+o);return C[o]=u,u};function N(b){if(typeof b=="string"){var o=n._prime(b);this.m=o.p,this.prime=o}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},N.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},N.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},N.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},N.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},N.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},N.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},N.prototype.isqr=function(o){return this.imul(o,o.clone())},N.prototype.sqr=function(o){return this.mul(o,o)},N.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(o,h)}for(var l=this.m.subn(1),d=0;!l.isZero()&&l.andln(1)===0;)d++,l.iushrn(1);r(!l.isZero());var y=new n(1).toRed(this),v=y.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var g=this.pow(a,l),P=this.pow(o,l.addn(1).iushrn(1)),S=this.pow(o,l),B=d;S.cmp(y)!==0;){for(var z=S,H=0;z.cmp(y)!==0;H++)z=z.redSqr();r(H<B);var G=this.pow(g,new n(1).iushln(B-H-1));P=P.redMul(G),g=G.redSqr(),S=S.redMul(g),B=H}return P},N.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,l=new Array(1<<h);l[0]=new n(1).toRed(this),l[1]=o;for(var d=2;d<l.length;d++)l[d]=this.mul(l[d-1],o);var y=l[0],v=0,p=0,a=u.bitLength()%26;for(a===0&&(a=26),d=u.length-1;d>=0;d--){for(var g=u.words[d],P=a-1;P>=0;P--){var S=g>>P&1;if(y!==l[0]&&(y=this.sqr(y)),S===0&&v===0){p=0;continue}v<<=1,v|=S,p++,!(p!==h&&(d!==0||P!==0))&&(y=this.mul(y,l[v]),p=0,v=0)}a=26}return y},N.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},N.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new V(o)};function V(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,N),V.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},V.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var h=o.mul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof T8>"u"||T8,Oz)});var Lb=Z((PRe,qz)=>{"use strict";E();var Nb=Wt(),Qc=Nb.Buffer,Xo={},Qo;for(Qo in Nb)Nb.hasOwnProperty(Qo)&&(Qo==="SlowBuffer"||Qo==="Buffer"||(Xo[Qo]=Nb[Qo]));var e0=Xo.Buffer={};for(Qo in Qc)Qc.hasOwnProperty(Qo)&&(Qo==="allocUnsafe"||Qo==="allocUnsafeSlow"||(e0[Qo]=Qc[Qo]));Xo.Buffer.prototype=Qc.prototype;(!e0.from||e0.from===Uint8Array.from)&&(e0.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Qc(t,e,r)});e0.alloc||(e0.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=Qc(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!Xo.kStringMaxLength)try{Xo.kStringMaxLength=q.default.binding("buffer").kStringMaxLength}catch{}Xo.constants||(Xo.constants={MAX_LENGTH:Xo.kMaxLength},Xo.kStringMaxLength&&(Xo.constants.MAX_STRING_LENGTH=Xo.kStringMaxLength));qz.exports=Xo});var zb=Z(jz=>{"use strict";E();var n0e=Qe();function es(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}jz.Reporter=es;es.prototype.isError=function(e){return e instanceof t0};es.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};es.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};es.prototype.enterKey=function(e){return this._reporterState.path.push(e)};es.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};es.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};es.prototype.path=function(){return this._reporterState.path.join("/")};es.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};es.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};es.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof t0;if(n?r=e:r=new t0(i.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};es.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function t0(t,e){this.path=t,this.rethrow(e)}n0e(t0,Error);t0.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,t0),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var n0=Z(P8=>{"use strict";E();var o0e=Qe(),Ub=zb().Reporter,r0=Lb().Buffer;function ts(t,e){if(Ub.call(this,e),!r0.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}o0e(ts,Ub);P8.DecoderBuffer=ts;ts.isDecoderBuffer=function(e){return e instanceof ts?!0:typeof e=="object"&&r0.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};ts.prototype.save=function(){return{offset:this.offset,reporter:Ub.prototype.save.call(this)}};ts.prototype.restore=function(e){let r=new ts(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,Ub.prototype.restore.call(this,e.reporter),r};ts.prototype.isEmpty=function(){return this.offset===this.length};ts.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};ts.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new ts(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};ts.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function i0(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return i0.isEncoderBuffer(r)||(r=new i0(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=r0.byteLength(t);else if(r0.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}P8.EncoderBuffer=i0;i0.isEncoderBuffer=function(e){return e instanceof i0?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};i0.prototype.join=function(e,r){return e||(e=r0.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):r0.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var Fb=Z((ORe,Lz)=>{"use strict";E();var s0e=zb().Reporter,a0e=n0().EncoderBuffer,f0e=n0().DecoderBuffer,Wn=xo(),Nz=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u0e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Nz),l0e=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function nr(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}Lz.exports=nr;var d0e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];nr.prototype.clone=function(){let e=this._baseState,r={};d0e.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};nr.prototype._wrap=function(){let e=this._baseState;u0e.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};nr.prototype._init=function(e){let r=this._baseState;Wn(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),Wn.equal(r.children.length,1,"Root node can have only one child")};nr.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(Wn(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(Wn(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let s={};return Object.keys(n).forEach(function(f){f==(f|0)&&(f|=0);let c=n[f];s[c]=f}),s}))};l0e.forEach(function(t){nr.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});Nz.forEach(function(t){nr.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return Wn(r.tag===null),r.tag=t,this._useArgs(i),this}});nr.prototype.use=function(e){Wn(e);let r=this._baseState;return Wn(r.use===null),r.use=e,this};nr.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};nr.prototype.def=function(e){let r=this._baseState;return Wn(r.default===null),r.default=e,r.optional=!0,this};nr.prototype.explicit=function(e){let r=this._baseState;return Wn(r.explicit===null&&r.implicit===null),r.explicit=e,this};nr.prototype.implicit=function(e){let r=this._baseState;return Wn(r.explicit===null&&r.implicit===null),r.implicit=e,this};nr.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};nr.prototype.key=function(e){let r=this._baseState;return Wn(r.key===null),r.key=e,this};nr.prototype.any=function(){let e=this._baseState;return e.any=!0,this};nr.prototype.choice=function(e){let r=this._baseState;return Wn(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};nr.prototype.contains=function(e){let r=this._baseState;return Wn(r.use===null),r.contains=e,this};nr.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,s=!0,f=null;if(i.key!==null&&(f=e.enterKey(i.key)),i.optional){let m=null;if(i.explicit!==null?m=i.explicit:i.implicit!==null?m=i.implicit:i.tag!==null&&(m=i.tag),m===null&&!i.any){let w=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(w)}else if(s=this._peekTag(e,m,i.any),e.isError(s))return s}let c;if(i.obj&&s&&(c=e.enterObject()),s){if(i.explicit!==null){let w=this._decodeTag(e,i.explicit);if(e.isError(w))return w;e=w}let m=e.offset;if(i.use===null&&i.choice===null){let w;i.any&&(w=e.save());let _=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(_))return _;i.any?n=e.raw(w):e=_}if(r&&r.track&&i.tag!==null&&r.track(e.path(),m,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(_){_._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let w=new f0e(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(w,r)}}return i.obj&&s&&(n=e.leaveObject(c)),i.key!==null&&(n!==null||s===!0)?e.leaveKey(f,i.key,n):f!==null&&e.exitKey(f),n};nr.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};nr.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),Wn(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};nr.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,s=!1;return Object.keys(i.choice).some(function(f){let c=e.save(),m=i.choice[f];try{let w=m._decode(e,r);if(e.isError(w))return!1;n={type:f,value:w},s=!0}catch{return e.restore(c),!1}return!0},this),s?n:e.error("Choice not matched")};nr.prototype._createEncoderBuffer=function(e){return new a0e(e,this.reporter)};nr.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let s=this._encodeValue(e,r,i);if(s!==void 0&&!this._skipDefault(s,r,i))return s};nr.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new s0e);let s=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let f=null,c=!1;if(n.any)s=this._createEncoderBuffer(e);else if(n.choice)s=this._encodeChoice(e,r);else if(n.contains)f=this._getUse(n.contains,i)._encode(e,r),c=!0;else if(n.children)f=n.children.map(function(m){if(m._baseState.tag==="null_")return m._encode(null,r,e);if(m._baseState.key===null)return r.error("Child should have a key");let w=r.enterKey(m._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let _=m._encode(e[m._baseState.key],r,e);return r.leaveKey(w),_},this).filter(function(m){return m}),f=this._createEncoderBuffer(f);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let m=this.clone();m._baseState.implicit=null,f=this._createEncoderBuffer(e.map(function(w){let _=this._baseState;return this._getUse(_.args[0],e)._encode(w,r)},m))}else n.use!==null?s=this._getUse(n.use,i)._encode(e,r):(f=this._encodePrimitive(n.tag,e),c=!0);if(!n.any&&n.choice===null){let m=n.implicit!==null?n.implicit:n.tag,w=n.implicit===null?"universal":"context";m===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(s=this._encodeComposite(m,c,w,f))}return n.explicit!==null&&(s=this._encodeComposite(n.explicit,!1,"context",s)),s};nr.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||Wn(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};nr.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};nr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};nr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var $b=Z(kd=>{"use strict";E();function zz(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}kd.tagClass={0:"universal",1:"application",2:"context",3:"private"};kd.tagClassByName=zz(kd.tagClass);kd.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};kd.tagByName=zz(kd.tag)});var I8=Z((LRe,$z)=>{"use strict";E();var h0e=Qe(),qf=Lb().Buffer,Uz=Fb(),k8=$b();function Fz(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Bs,this.tree._init(t.body)}$z.exports=Fz;Fz.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function Bs(t){Uz.call(this,"der",t)}h0e(Bs,Uz);Bs.prototype._encodeComposite=function(e,r,i,n){let s=c0e(e,r,i,this.reporter);if(n.length<128){let m=qf.alloc(2);return m[0]=s,m[1]=n.length,this._createEncoderBuffer([m,n])}let f=1;for(let m=n.length;m>=256;m>>=8)f++;let c=qf.alloc(1+1+f);c[0]=s,c[1]=128|f;for(let m=1+f,w=n.length;w>0;m--,w>>=8)c[m]=w&255;return this._createEncoderBuffer([c,n])};Bs.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=qf.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};Bs.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let c=0;c<e.length;c++){let m=e[c];for(n++;m>=128;m>>=7)n++}let s=qf.alloc(n),f=s.length-1;for(let c=e.length-1;c>=0;c--){let m=e[c];for(s[f--]=m&127;(m>>=7)>0;)s[f--]=128|m&127}return this._createEncoderBuffer(s)};function rs(t){return t<10?"0"+t:t}Bs.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[rs(n.getUTCFullYear()),rs(n.getUTCMonth()+1),rs(n.getUTCDate()),rs(n.getUTCHours()),rs(n.getUTCMinutes()),rs(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[rs(n.getUTCFullYear()%100),rs(n.getUTCMonth()+1),rs(n.getUTCDate()),rs(n.getUTCHours()),rs(n.getUTCMinutes()),rs(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};Bs.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Bs.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!qf.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=qf.from(s)}if(qf.isBuffer(e)){let s=e.length;e.length===0&&s++;let f=qf.alloc(s);return e.copy(f),e.length===0&&(f[0]=0),this._createEncoderBuffer(f)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let s=e;s>=256;s>>=8)i++;let n=new Array(i);for(let s=n.length-1;s>=0;s--)n[s]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(qf.from(n))};Bs.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Bs.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};Bs.prototype._skipDefault=function(e,r,i){let n=this._baseState,s;if(n.default===null)return!1;let f=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),f.length!==n.defaultBuffer.length)return!1;for(s=0;s<f.length;s++)if(f[s]!==n.defaultBuffer[s])return!1;return!0};function c0e(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),k8.tagByName.hasOwnProperty(t))n=k8.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=k8.tagClassByName[r||"universal"]<<6,n)}});var Hz=Z((URe,Wz)=>{"use strict";E();var p0e=Qe(),B8=I8();function D8(t){B8.call(this,t),this.enc="pem"}p0e(D8,B8);Wz.exports=D8;D8.prototype.encode=function(e,r){let n=B8.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let f=0;f<n.length;f+=64)s.push(n.slice(f,f+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)}});var C8=Z(Kz=>{"use strict";E();var Gz=Kz;Gz.der=I8();Gz.pem=Hz()});var q8=Z((HRe,Qz)=>{"use strict";E();var m0e=Qe(),y0e=R8(),Zz=n0().DecoderBuffer,Yz=Fb(),Vz=$b();function Jz(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Eo,this.tree._init(t.body)}Qz.exports=Jz;Jz.prototype.decode=function(e,r){return Zz.isDecoderBuffer(e)||(e=new Zz(e,r)),this.tree._decode(e,r)};function Eo(t){Yz.call(this,"der",t)}m0e(Eo,Yz);Eo.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),s=O8(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(n),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||i)};Eo.prototype._decodeTag=function(e,r,i){let n=O8(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let s=Xz(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let f=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(s=e.offset-f.offset,e.restore(f),e.skip(s,'Failed to match body of: "'+r+'"'))};Eo.prototype._skipUntilEnd=function(e,r){for(;;){let i=O8(e,r);if(e.isError(i))return i;let n=Xz(e,i.primitive,r);if(e.isError(n))return n;let s;if(i.primitive||n!==null?s=e.skip(n):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(i.tagStr==="end")break}};Eo.prototype._decodeList=function(e,r,i,n){let s=[];for(;!e.isEmpty();){let f=this._peekTag(e,"end");if(e.isError(f))return f;let c=i.decode(e,"der",n);if(e.isError(c)&&f)break;s.push(c)}return s};Eo.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let s=0;s<i.length/2;s++)n+=String.fromCharCode(i.readUInt16BE(s*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Eo.prototype._decodeObjid=function(e,r,i){let n,s=[],f=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),f<<=7,f|=c&127,c&128||(s.push(f),f=0);c&128&&s.push(f);let m=s[0]/40|0,w=s[0]%40;if(i?n=s:n=[m,w].concat(s.slice(1)),r){let _=r[n.join(" ")];_===void 0&&(_=r[n.join(".")]),_!==void 0&&(n=_)}return n};Eo.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,s,f,c,m,w;if(r==="gentime")n=i.slice(0,4)|0,s=i.slice(4,6)|0,f=i.slice(6,8)|0,c=i.slice(8,10)|0,m=i.slice(10,12)|0,w=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,s=i.slice(2,4)|0,f=i.slice(4,6)|0,c=i.slice(6,8)|0,m=i.slice(8,10)|0,w=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,s-1,f,c,m,w,0)};Eo.prototype._decodeNull=function(){return null};Eo.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};Eo.prototype._decodeInt=function(e,r){let i=e.raw(),n=new y0e(i);return r&&(n=r[n.toString(10)]||n),n};Eo.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function O8(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=Vz.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let f=r;for(r=0;(f&128)===128;){if(f=t.readUInt8(e),t.isError(f))return f;r<<=7,r|=f&127}}else r&=31;let s=Vz.tag[r];return{cls:i,primitive:n,tag:r,tagStr:s}}function Xz(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let s=0;s<n;s++){i<<=8;let f=t.readUInt8(r);if(t.isError(f))return f;i|=f}return i}});var tU=Z((KRe,eU)=>{"use strict";E();var g0e=Qe(),v0e=Lb().Buffer,j8=q8();function N8(t){j8.call(this,t),this.enc="pem"}g0e(N8,j8);eU.exports=N8;N8.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,c=-1;for(let _=0;_<i.length;_++){let M=i[_].match(s);if(M!==null&&M[2]===n)if(f===-1){if(M[1]!=="BEGIN")break;f=_}else{if(M[1]!=="END")break;c=_;break}}if(f===-1||c===-1)throw new Error("PEM section not found for: "+n);let m=i.slice(f+1,c).join("");m.replace(/[^a-z0-9+/=]+/gi,"");let w=v0e.from(m,"base64");return j8.prototype.decode.call(this,w,r)}});var L8=Z(iU=>{"use strict";E();var rU=iU;rU.der=q8();rU.pem=tU()});var oU=Z(nU=>{"use strict";E();var b0e=C8(),w0e=L8(),_0e=Qe(),M0e=nU;M0e.define=function(e,r){return new o0(e,r)};function o0(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}o0.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return _0e(i,e),i.prototype._initNamed=function(s,f){e.call(this,s,f)},new i(this)};o0.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(w0e[e])),this.decoders[e]};o0.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};o0.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(b0e[e])),this.encoders[e]};o0.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var aU=Z(sU=>{"use strict";E();var Wb=sU;Wb.Reporter=zb().Reporter;Wb.DecoderBuffer=n0().DecoderBuffer;Wb.EncoderBuffer=n0().EncoderBuffer;Wb.Node=Fb()});var lU=Z(uU=>{"use strict";E();var fU=uU;fU._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};fU.der=$b()});var z8=Z(dU=>{"use strict";E();var s0=dU;s0.bignum=R8();s0.define=oU().define;s0.base=aU();s0.constants=lU();s0.decoders=L8();s0.encoders=C8()});var mU=Z((oPe,pU)=>{"use strict";E();var Ds=z8(),hU=Ds.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),x0e=Ds.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),U8=Ds.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),S0e=Ds.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(U8),this.key("subjectPublicKey").bitstr())}),E0e=Ds.define("RelativeDistinguishedName",function(){this.setof(x0e)}),A0e=Ds.define("RDNSequence",function(){this.seqof(E0e)}),cU=Ds.define("Name",function(){this.choice({rdnSequence:this.use(A0e)})}),T0e=Ds.define("Validity",function(){this.seq().obj(this.key("notBefore").use(hU),this.key("notAfter").use(hU))}),R0e=Ds.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),P0e=Ds.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(U8),this.key("issuer").use(cU),this.key("validity").use(T0e),this.key("subject").use(cU),this.key("subjectPublicKeyInfo").use(S0e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(R0e).optional())}),k0e=Ds.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(P0e),this.key("signatureAlgorithm").use(U8),this.key("signatureValue").bitstr())});pU.exports=k0e});var gU=Z(Os=>{"use strict";E();var Cs=z8();Os.certificate=mU();var I0e=Cs.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Os.RSAPrivateKey=I0e;var B0e=Cs.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Os.RSAPublicKey=B0e;var D0e=Cs.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(yU),this.key("subjectPublicKey").bitstr())});Os.PublicKey=D0e;var yU=Cs.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),C0e=Cs.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(yU),this.key("subjectPrivateKey").octstr())});Os.PrivateKey=C0e;var O0e=Cs.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Os.EncryptedPrivateKey=O0e;var q0e=Cs.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Os.DSAPrivateKey=q0e;Os.DSAparam=Cs.define("DSAparam",function(){this.int()});var j0e=Cs.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(N0e),this.key("publicKey").optional().explicit(1).bitstr())});Os.ECPrivateKey=j0e;var N0e=Cs.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Os.signature=Cs.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var vU=Z((uPe,L0e)=>{L0e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var wU=Z((lPe,bU)=>{E();var z0e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,U0e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,F0e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,$0e=Rm(),W0e=X1(),Hb=qt().Buffer;bU.exports=function(t,e){var r=t.toString(),i=r.match(z0e),n;if(i){var f="aes"+i[1],c=Hb.from(i[2],"hex"),m=Hb.from(i[3].replace(/[\r\n]/g,""),"base64"),w=$0e(e,c.slice(0,8),parseInt(i[1],10)).key,_=[],M=W0e.createDecipheriv(f,w,c);_.push(M.update(m)),_.push(M.final()),n=Hb.concat(_)}else{var s=r.match(F0e);n=Hb.from(s[2].replace(/[\r\n]/g,""),"base64")}var x=r.match(U0e)[1];return{tag:x,data:n}}});var Fm=Z((hPe,MU)=>{E();var no=gU(),H0e=vU(),G0e=wU(),K0e=X1(),Z0e=r4(),F8=qt().Buffer;MU.exports=_U;function _U(t){var e;typeof t=="object"&&!F8.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=F8.from(t));var r=G0e(t,e),i=r.tag,n=r.data,s,f;switch(i){case"CERTIFICATE":f=no.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=no.PublicKey.decode(n,"der")),s=f.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return no.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=no.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":n=no.EncryptedPrivateKey.decode(n,"der"),n=V0e(n,e);case"PRIVATE KEY":switch(f=no.PrivateKey.decode(n,"der"),s=f.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return no.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:no.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=no.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return no.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return no.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:no.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=no.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}_U.signature=no.signature;function V0e(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=H0e[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,f=t.subjectPrivateKey,c=parseInt(n.split("-")[1],10)/8,m=Z0e.pbkdf2Sync(e,r,i,c,"sha1"),w=K0e.createDecipheriv(n,m,s),_=[];return _.push(w.update(f)),_.push(w.final()),F8.concat(_)}});var $8=Z((pPe,Y0e)=>{Y0e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var EU=Z((mPe,Kb)=>{E();var kn=nb().Buffer,Id=Gx(),J0e=wb(),X0e=jb().ec,Gb=bb(),Q0e=Fm(),epe=$8();function tpe(t,e,r,i,n){var s=Q0e(e);if(s.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return rpe(t,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return ipe(t,s,r)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");t=kn.concat([n,t]);for(var f=s.modulus.byteLength(),c=[0,1];t.length+c.length+1<f;)c.push(255);c.push(0);for(var m=-1;++m<t.length;)c.push(t[m]);var w=J0e(c,s);return w}function rpe(t,e){var r=epe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new X0e(r),n=i.keyFromPrivate(e.privateKey),s=n.sign(t);return kn.from(s.toDER())}function ipe(t,e,r){for(var i=e.params.priv_key,n=e.params.p,s=e.params.q,f=e.params.g,c=new Gb(0),m,w=W8(t,s).mod(s),_=!1,M=xU(i,s,t,r);_===!1;)m=SU(s,M,r),c=spe(f,m,n,s),_=m.invm(s).imul(w.add(i.mul(c))).mod(s),_.cmpn(0)===0&&(_=!1,c=new Gb(0));return npe(c,_)}function npe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),kn.from(i)}function xU(t,e,r,i){if(t=kn.from(t.toArray()),t.length<e.byteLength()){var n=kn.alloc(e.byteLength()-t.length);t=kn.concat([n,t])}var s=r.length,f=ope(r,e),c=kn.alloc(s);c.fill(1);var m=kn.alloc(s);return m=Id(i,m).update(c).update(kn.from([0])).update(t).update(f).digest(),c=Id(i,m).update(c).digest(),m=Id(i,m).update(c).update(kn.from([1])).update(t).update(f).digest(),c=Id(i,m).update(c).digest(),{k:m,v:c}}function W8(t,e){var r=new Gb(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function ope(t,e){t=W8(t,e),t=t.mod(e);var r=kn.from(t.toArray());if(r.length<e.byteLength()){var i=kn.alloc(e.byteLength()-r.length);r=kn.concat([i,r])}return r}function SU(t,e,r){var i,n;do{for(i=kn.alloc(0);i.length*8<t.bitLength();)e.v=Id(r,e.k).update(e.v).digest(),i=kn.concat([i,e.v]);n=W8(i,t),e.k=Id(r,e.k).update(e.v).update(kn.from([0])).digest(),e.v=Id(r,e.k).update(e.v).digest()}while(n.cmp(t)!==-1);return n}function spe(t,e,r,i){return t.toRed(Gb.mont(r)).redPow(e).fromRed().mod(i)}Kb.exports=tpe;Kb.exports.getKey=xU;Kb.exports.makeKey=SU});var PU=Z((gPe,RU)=>{E();var H8=nb().Buffer,$m=bb(),ape=jb().ec,TU=Fm(),fpe=$8();function upe(t,e,r,i,n){var s=TU(r);if(s.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return lpe(t,e,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return dpe(t,e,s)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=H8.concat([n,e]);for(var f=s.modulus.byteLength(),c=[1],m=0;e.length+c.length+2<f;)c.push(255),m++;c.push(0);for(var w=-1;++w<e.length;)c.push(e[w]);c=H8.from(c);var _=$m.mont(s.modulus);t=new $m(t).toRed(_),t=t.redPow(new $m(s.publicExponent)),t=H8.from(t.fromRed().toArray());var M=m<8?1:0;for(f=Math.min(t.length,c.length),t.length!==c.length&&(M=1),w=-1;++w<f;)M|=t[w]^c[w];return M===0}function lpe(t,e,r){var i=fpe[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new ape(i),s=r.data.subjectPrivateKey.data;return n.verify(e,t,s)}function dpe(t,e,r){var i=r.data.p,n=r.data.q,s=r.data.g,f=r.data.pub_key,c=TU.signature.decode(t,"der"),m=c.s,w=c.r;AU(m,n),AU(w,n);var _=$m.mont(i),M=m.invm(n),x=s.toRed(_).redPow(new $m(e).mul(M).mod(n)).fromRed().mul(f.toRed(_).redPow(w.mul(M).mod(n)).fromRed()).mod(i).mod(n);return x.cmp(w)===0}function AU(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}RU.exports=upe});var OU=Z((bPe,CU)=>{E();var Zb=nb().Buffer,BU=kc(),Vb=sL(),DU=Qe(),hpe=EU(),cpe=PU(),Bd=Kx();Object.keys(Bd).forEach(function(t){Bd[t].id=Zb.from(Bd[t].id,"hex"),Bd[t.toLowerCase()]=Bd[t]});function Wm(t){Vb.Writable.call(this);var e=Bd[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=BU(e.hash),this._tag=e.id,this._signType=e.sign}DU(Wm,Vb.Writable);Wm.prototype._write=function(e,r,i){this._hash.update(e),i()};Wm.prototype.update=function(e,r){return typeof e=="string"&&(e=Zb.from(e,r)),this._hash.update(e),this};Wm.prototype.sign=function(e,r){this.end();var i=this._hash.digest(),n=hpe(i,e,this._hashType,this._signType,this._tag);return r?n.toString(r):n};function Hm(t){Vb.Writable.call(this);var e=Bd[t];if(!e)throw new Error("Unknown message digest");this._hash=BU(e.hash),this._tag=e.id,this._signType=e.sign}DU(Hm,Vb.Writable);Hm.prototype._write=function(e,r,i){this._hash.update(e),i()};Hm.prototype.update=function(e,r){return typeof e=="string"&&(e=Zb.from(e,r)),this._hash.update(e),this};Hm.prototype.verify=function(e,r,i){typeof r=="string"&&(r=Zb.from(r,i)),this.end();var n=this._hash.digest();return cpe(r,n,e,this._signType,this._tag)};function kU(t){return new Wm(t)}function IU(t){return new Hm(t)}CU.exports={Sign:kU,Verify:IU,createSign:kU,createVerify:IU}});var jU=Z((qU,G8)=>{E();(function(t,e){"use strict";function r(b,o){if(!b)throw new Error(o||"Assertion failed")}function i(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function n(b,o,u){if(n.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wt().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(u===16?this._parseHex(o,l,h):(this._parseBase(o,u,l),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d,y,v=0;if(h==="be")for(l=o.length-1,d=0;l>=0;l-=3)y=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);else if(h==="le")for(l=0,d=0;l<o.length;l+=3)y=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);return this.strip()};function f(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(b,o,u){var h=f(b,u);return u-1>=o&&(h|=f(b,u-1)<<4),h}n.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d=0,y=0,v;if(h==="be")for(l=o.length-1;l>=u;l-=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8;else{var p=o.length-u;for(l=p%2===0?u+1:u;l<o.length;l+=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8}this.strip()};function m(b,o,u,h){for(var l=0,d=Math.min(b.length,u),y=o;y<d;y++){var v=b.charCodeAt(y)-48;l*=h,v>=49?l+=v-49+10:v>=17?l+=v-17+10:l+=v}return l}n.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var l=0,d=1;d<=67108863;d*=u)l++;l--,d=d/u|0;for(var y=o.length-h,v=y%l,p=Math.min(y,y-v)+h,a=0,g=h;g<p;g+=l)a=m(o,g,g+l,u),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var P=1;for(a=m(o,g,o.length,u),g=0;g<v;g++)P*=u;this.imuln(P),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var l=0,d=0,y=0;y<this.length;y++){var v=this.words[y],p=((v<<l|d)&16777215).toString(16);d=v>>>24-l&16777215,d!==0||y!==this.length-1?h=w[6-p.length]+p+h:h=p+h,l+=2,l>=26&&(l-=26,y--)}for(d!==0&&(h=d.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=M[o];h="";var P=this.clone();for(P.negative=0;!P.isZero();){var S=P.modn(g).toString(o);P=P.idivn(g),P.isZero()?h=S+h:h=w[a-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return r(typeof s<"u"),this.toArrayLike(s,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,h){var l=this.byteLength(),d=h||Math.max(1,l);r(l<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var y=u==="le",v=new o(d),p,a,g=this.clone();if(y){for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[a]=p;for(;a<d;a++)v[a]=0}else{for(a=0;a<d-l;a++)v[a]=0;for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[d-a-1]=p}return v},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var h=u/26|0,l=u%26;o[u]=(b.words[h]&1<<l)>>>l}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var l=0;l<h.length;l++)this.words[l]=u.words[l]^h.words[l];if(this!==u)for(;l<u.length;l++)this.words[l]=u.words[l];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var l=0;l<u;l++)this.words[l]=~this.words[l]&67108863;return h>0&&(this.words[l]=~this.words[l]&67108863>>26-h),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,l=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<l:this.words[h]=this.words[h]&~(1<<l),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,l;this.length>o.length?(h=this,l=o):(h=o,l=this);for(var d=0,y=0;y<l.length;y++)u=(h.words[y]|0)+(l.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;for(;d!==0&&y<h.length;y++)u=(h.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;if(this.length=h.length,d!==0)this.words[this.length]=d,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,d;h>0?(l=this,d=o):(l=o,d=this);for(var y=0,v=0;v<d.length;v++)u=(l.words[v]|0)-(d.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;for(;y!==0&&v<l.length;v++)u=(l.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;if(y===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function T(b,o,u){u.negative=o.negative^b.negative;var h=b.length+o.length|0;u.length=h,h=h-1|0;var l=b.words[0]|0,d=o.words[0]|0,y=l*d,v=y&67108863,p=y/67108864|0;u.words[0]=v;for(var a=1;a<h;a++){for(var g=p>>>26,P=p&67108863,S=Math.min(a,o.length-1),B=Math.max(0,a-b.length+1);B<=S;B++){var z=a-B|0;l=b.words[z]|0,d=o.words[B]|0,y=l*d+P,g+=y/67108864|0,P=y&67108863}u.words[a]=P|0,p=g|0}return p!==0?u.words[a]=p|0:u.length--,u.strip()}var A=function(o,u,h){var l=o.words,d=u.words,y=h.words,v=0,p,a,g,P=l[0]|0,S=P&8191,B=P>>>13,z=l[1]|0,H=z&8191,G=z>>>13,J=l[2]|0,K=J&8191,Y=J>>>13,ze=l[3]|0,X=ze&8191,Q=ze>>>13,et=l[4]|0,te=et&8191,re=et>>>13,$t=l[5]|0,ie=$t&8191,ne=$t>>>13,Dr=l[6]|0,se=Dr&8191,oe=Dr>>>13,fi=l[7]|0,ae=fi&8191,fe=fi>>>13,ui=l[8]|0,ue=ui&8191,le=ui>>>13,li=l[9]|0,de=li&8191,he=li>>>13,di=d[0]|0,ce=di&8191,pe=di>>>13,hi=d[1]|0,me=hi&8191,ye=hi>>>13,ci=d[2]|0,ge=ci&8191,ve=ci>>>13,pi=d[3]|0,be=pi&8191,we=pi>>>13,mi=d[4]|0,_e=mi&8191,Me=mi>>>13,yi=d[5]|0,xe=yi&8191,Se=yi>>>13,gi=d[6]|0,Ee=gi&8191,Ae=gi>>>13,vi=d[7]|0,Te=vi&8191,Re=vi>>>13,bi=d[8]|0,Pe=bi&8191,ke=bi>>>13,wi=d[9]|0,Ie=wi&8191,Be=wi>>>13;h.negative=o.negative^u.negative,h.length=19,p=Math.imul(S,ce),a=Math.imul(S,pe),a=a+Math.imul(B,ce)|0,g=Math.imul(B,pe);var Ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(H,ce),a=Math.imul(H,pe),a=a+Math.imul(G,ce)|0,g=Math.imul(G,pe),p=p+Math.imul(S,me)|0,a=a+Math.imul(S,ye)|0,a=a+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var dt=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dt>>>26)|0,dt&=67108863,p=Math.imul(K,ce),a=Math.imul(K,pe),a=a+Math.imul(Y,ce)|0,g=Math.imul(Y,pe),p=p+Math.imul(H,me)|0,a=a+Math.imul(H,ye)|0,a=a+Math.imul(G,me)|0,g=g+Math.imul(G,ye)|0,p=p+Math.imul(S,ge)|0,a=a+Math.imul(S,ve)|0,a=a+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var ht=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ht>>>26)|0,ht&=67108863,p=Math.imul(X,ce),a=Math.imul(X,pe),a=a+Math.imul(Q,ce)|0,g=Math.imul(Q,pe),p=p+Math.imul(K,me)|0,a=a+Math.imul(K,ye)|0,a=a+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,p=p+Math.imul(H,ge)|0,a=a+Math.imul(H,ve)|0,a=a+Math.imul(G,ge)|0,g=g+Math.imul(G,ve)|0,p=p+Math.imul(S,be)|0,a=a+Math.imul(S,we)|0,a=a+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var or=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(or>>>26)|0,or&=67108863,p=Math.imul(te,ce),a=Math.imul(te,pe),a=a+Math.imul(re,ce)|0,g=Math.imul(re,pe),p=p+Math.imul(X,me)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(Q,me)|0,g=g+Math.imul(Q,ye)|0,p=p+Math.imul(K,ge)|0,a=a+Math.imul(K,ve)|0,a=a+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,p=p+Math.imul(H,be)|0,a=a+Math.imul(H,we)|0,a=a+Math.imul(G,be)|0,g=g+Math.imul(G,we)|0,p=p+Math.imul(S,_e)|0,a=a+Math.imul(S,Me)|0,a=a+Math.imul(B,_e)|0,g=g+Math.imul(B,Me)|0;var sr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,p=Math.imul(ie,ce),a=Math.imul(ie,pe),a=a+Math.imul(ne,ce)|0,g=Math.imul(ne,pe),p=p+Math.imul(te,me)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,p=p+Math.imul(X,ge)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(Q,ge)|0,g=g+Math.imul(Q,ve)|0,p=p+Math.imul(K,be)|0,a=a+Math.imul(K,we)|0,a=a+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,p=p+Math.imul(H,_e)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(G,_e)|0,g=g+Math.imul(G,Me)|0,p=p+Math.imul(S,xe)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(B,xe)|0,g=g+Math.imul(B,Se)|0;var ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,p=Math.imul(se,ce),a=Math.imul(se,pe),a=a+Math.imul(oe,ce)|0,g=Math.imul(oe,pe),p=p+Math.imul(ie,me)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,p=p+Math.imul(te,ge)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,p=p+Math.imul(X,be)|0,a=a+Math.imul(X,we)|0,a=a+Math.imul(Q,be)|0,g=g+Math.imul(Q,we)|0,p=p+Math.imul(K,_e)|0,a=a+Math.imul(K,Me)|0,a=a+Math.imul(Y,_e)|0,g=g+Math.imul(Y,Me)|0,p=p+Math.imul(H,xe)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(G,xe)|0,g=g+Math.imul(G,Se)|0,p=p+Math.imul(S,Ee)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(B,Ee)|0,g=g+Math.imul(B,Ae)|0;var fr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,p=Math.imul(ae,ce),a=Math.imul(ae,pe),a=a+Math.imul(fe,ce)|0,g=Math.imul(fe,pe),p=p+Math.imul(se,me)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,p=p+Math.imul(ie,ge)|0,a=a+Math.imul(ie,ve)|0,a=a+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,p=p+Math.imul(te,be)|0,a=a+Math.imul(te,we)|0,a=a+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,p=p+Math.imul(X,_e)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(Q,_e)|0,g=g+Math.imul(Q,Me)|0,p=p+Math.imul(K,xe)|0,a=a+Math.imul(K,Se)|0,a=a+Math.imul(Y,xe)|0,g=g+Math.imul(Y,Se)|0,p=p+Math.imul(H,Ee)|0,a=a+Math.imul(H,Ae)|0,a=a+Math.imul(G,Ee)|0,g=g+Math.imul(G,Ae)|0,p=p+Math.imul(S,Te)|0,a=a+Math.imul(S,Re)|0,a=a+Math.imul(B,Te)|0,g=g+Math.imul(B,Re)|0;var ur=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,p=Math.imul(ue,ce),a=Math.imul(ue,pe),a=a+Math.imul(le,ce)|0,g=Math.imul(le,pe),p=p+Math.imul(ae,me)|0,a=a+Math.imul(ae,ye)|0,a=a+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,p=p+Math.imul(se,ge)|0,a=a+Math.imul(se,ve)|0,a=a+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,p=p+Math.imul(ie,be)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,p=p+Math.imul(te,_e)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(re,_e)|0,g=g+Math.imul(re,Me)|0,p=p+Math.imul(X,xe)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(Q,xe)|0,g=g+Math.imul(Q,Se)|0,p=p+Math.imul(K,Ee)|0,a=a+Math.imul(K,Ae)|0,a=a+Math.imul(Y,Ee)|0,g=g+Math.imul(Y,Ae)|0,p=p+Math.imul(H,Te)|0,a=a+Math.imul(H,Re)|0,a=a+Math.imul(G,Te)|0,g=g+Math.imul(G,Re)|0,p=p+Math.imul(S,Pe)|0,a=a+Math.imul(S,ke)|0,a=a+Math.imul(B,Pe)|0,g=g+Math.imul(B,ke)|0;var lr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,p=Math.imul(de,ce),a=Math.imul(de,pe),a=a+Math.imul(he,ce)|0,g=Math.imul(he,pe),p=p+Math.imul(ue,me)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(le,me)|0,g=g+Math.imul(le,ye)|0,p=p+Math.imul(ae,ge)|0,a=a+Math.imul(ae,ve)|0,a=a+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,p=p+Math.imul(se,be)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,p=p+Math.imul(ie,_e)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(ne,_e)|0,g=g+Math.imul(ne,Me)|0,p=p+Math.imul(te,xe)|0,a=a+Math.imul(te,Se)|0,a=a+Math.imul(re,xe)|0,g=g+Math.imul(re,Se)|0,p=p+Math.imul(X,Ee)|0,a=a+Math.imul(X,Ae)|0,a=a+Math.imul(Q,Ee)|0,g=g+Math.imul(Q,Ae)|0,p=p+Math.imul(K,Te)|0,a=a+Math.imul(K,Re)|0,a=a+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Re)|0,p=p+Math.imul(H,Pe)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(G,Pe)|0,g=g+Math.imul(G,ke)|0,p=p+Math.imul(S,Ie)|0,a=a+Math.imul(S,Be)|0,a=a+Math.imul(B,Ie)|0,g=g+Math.imul(B,Be)|0;var dr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(de,me),a=Math.imul(de,ye),a=a+Math.imul(he,me)|0,g=Math.imul(he,ye),p=p+Math.imul(ue,ge)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(le,ge)|0,g=g+Math.imul(le,ve)|0,p=p+Math.imul(ae,be)|0,a=a+Math.imul(ae,we)|0,a=a+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,p=p+Math.imul(se,_e)|0,a=a+Math.imul(se,Me)|0,a=a+Math.imul(oe,_e)|0,g=g+Math.imul(oe,Me)|0,p=p+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(ne,xe)|0,g=g+Math.imul(ne,Se)|0,p=p+Math.imul(te,Ee)|0,a=a+Math.imul(te,Ae)|0,a=a+Math.imul(re,Ee)|0,g=g+Math.imul(re,Ae)|0,p=p+Math.imul(X,Te)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(Q,Te)|0,g=g+Math.imul(Q,Re)|0,p=p+Math.imul(K,Pe)|0,a=a+Math.imul(K,ke)|0,a=a+Math.imul(Y,Pe)|0,g=g+Math.imul(Y,ke)|0,p=p+Math.imul(H,Ie)|0,a=a+Math.imul(H,Be)|0,a=a+Math.imul(G,Ie)|0,g=g+Math.imul(G,Be)|0;var hr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,p=Math.imul(de,ge),a=Math.imul(de,ve),a=a+Math.imul(he,ge)|0,g=Math.imul(he,ve),p=p+Math.imul(ue,be)|0,a=a+Math.imul(ue,we)|0,a=a+Math.imul(le,be)|0,g=g+Math.imul(le,we)|0,p=p+Math.imul(ae,_e)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(fe,_e)|0,g=g+Math.imul(fe,Me)|0,p=p+Math.imul(se,xe)|0,a=a+Math.imul(se,Se)|0,a=a+Math.imul(oe,xe)|0,g=g+Math.imul(oe,Se)|0,p=p+Math.imul(ie,Ee)|0,a=a+Math.imul(ie,Ae)|0,a=a+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,Ae)|0,p=p+Math.imul(te,Te)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(re,Te)|0,g=g+Math.imul(re,Re)|0,p=p+Math.imul(X,Pe)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(Q,Pe)|0,g=g+Math.imul(Q,ke)|0,p=p+Math.imul(K,Ie)|0,a=a+Math.imul(K,Be)|0,a=a+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,Be)|0;var cr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,p=Math.imul(de,be),a=Math.imul(de,we),a=a+Math.imul(he,be)|0,g=Math.imul(he,we),p=p+Math.imul(ue,_e)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(le,_e)|0,g=g+Math.imul(le,Me)|0,p=p+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(fe,xe)|0,g=g+Math.imul(fe,Se)|0,p=p+Math.imul(se,Ee)|0,a=a+Math.imul(se,Ae)|0,a=a+Math.imul(oe,Ee)|0,g=g+Math.imul(oe,Ae)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,Re)|0,a=a+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Re)|0,p=p+Math.imul(te,Pe)|0,a=a+Math.imul(te,ke)|0,a=a+Math.imul(re,Pe)|0,g=g+Math.imul(re,ke)|0,p=p+Math.imul(X,Ie)|0,a=a+Math.imul(X,Be)|0,a=a+Math.imul(Q,Ie)|0,g=g+Math.imul(Q,Be)|0;var pr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(de,_e),a=Math.imul(de,Me),a=a+Math.imul(he,_e)|0,g=Math.imul(he,Me),p=p+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(le,xe)|0,g=g+Math.imul(le,Se)|0,p=p+Math.imul(ae,Ee)|0,a=a+Math.imul(ae,Ae)|0,a=a+Math.imul(fe,Ee)|0,g=g+Math.imul(fe,Ae)|0,p=p+Math.imul(se,Te)|0,a=a+Math.imul(se,Re)|0,a=a+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Re)|0,p=p+Math.imul(ie,Pe)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,ke)|0,p=p+Math.imul(te,Ie)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(re,Ie)|0,g=g+Math.imul(re,Be)|0;var mr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,p=Math.imul(de,xe),a=Math.imul(de,Se),a=a+Math.imul(he,xe)|0,g=Math.imul(he,Se),p=p+Math.imul(ue,Ee)|0,a=a+Math.imul(ue,Ae)|0,a=a+Math.imul(le,Ee)|0,g=g+Math.imul(le,Ae)|0,p=p+Math.imul(ae,Te)|0,a=a+Math.imul(ae,Re)|0,a=a+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Re)|0,p=p+Math.imul(se,Pe)|0,a=a+Math.imul(se,ke)|0,a=a+Math.imul(oe,Pe)|0,g=g+Math.imul(oe,ke)|0,p=p+Math.imul(ie,Ie)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,Be)|0;var yr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,p=Math.imul(de,Ee),a=Math.imul(de,Ae),a=a+Math.imul(he,Ee)|0,g=Math.imul(he,Ae),p=p+Math.imul(ue,Te)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(le,Te)|0,g=g+Math.imul(le,Re)|0,p=p+Math.imul(ae,Pe)|0,a=a+Math.imul(ae,ke)|0,a=a+Math.imul(fe,Pe)|0,g=g+Math.imul(fe,ke)|0,p=p+Math.imul(se,Ie)|0,a=a+Math.imul(se,Be)|0,a=a+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,Be)|0;var gr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(de,Te),a=Math.imul(de,Re),a=a+Math.imul(he,Te)|0,g=Math.imul(he,Re),p=p+Math.imul(ue,Pe)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(le,Pe)|0,g=g+Math.imul(le,ke)|0,p=p+Math.imul(ae,Ie)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,Be)|0;var vr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,p=Math.imul(de,Pe),a=Math.imul(de,ke),a=a+Math.imul(he,Pe)|0,g=Math.imul(he,ke),p=p+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(le,Ie)|0,g=g+Math.imul(le,Be)|0;var br=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(br>>>26)|0,br&=67108863,p=Math.imul(de,Ie),a=Math.imul(de,Be),a=a+Math.imul(he,Ie)|0,g=Math.imul(he,Be);var wr=(v+p|0)+((a&8191)<<13)|0;return v=(g+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,y[0]=Ar,y[1]=dt,y[2]=ht,y[3]=or,y[4]=sr,y[5]=ar,y[6]=fr,y[7]=ur,y[8]=lr,y[9]=dr,y[10]=hr,y[11]=cr,y[12]=pr,y[13]=mr,y[14]=yr,y[15]=gr,y[16]=vr,y[17]=br,y[18]=wr,v!==0&&(y[19]=v,h.length++),h};Math.imul||(A=T);function I(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var h=0,l=0,d=0;d<u.length-1;d++){var y=l;l=0;for(var v=h&67108863,p=Math.min(d,o.length-1),a=Math.max(0,d-b.length+1);a<=p;a++){var g=d-a,P=b.words[g]|0,S=o.words[a]|0,B=P*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+v|0,v=z&67108863,y=y+(z>>>26)|0,l+=y>>>26,y&=67108863}u.words[d]=v,h=y,y=l}return h!==0?u.words[d]=h:u.length--,u.strip()}function D(b,o,u){var h=new k;return h.mulp(b,o,u)}n.prototype.mulTo=function(o,u){var h,l=this.length+o.length;return this.length===10&&o.length===10?h=A(this,o,u):l<63?h=T(this,o,u):l<1024?h=I(this,o,u):h=D(this,o,u),h};function k(b,o){this.x=b,this.y=o}k.prototype.makeRBT=function(o){for(var u=new Array(o),h=n.prototype._countBits(o)-1,l=0;l<o;l++)u[l]=this.revBin(l,h,o);return u},k.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var l=0,d=0;d<u;d++)l|=(o&1)<<u-d-1,o>>=1;return l},k.prototype.permute=function(o,u,h,l,d,y){for(var v=0;v<y;v++)l[v]=u[o[v]],d[v]=h[o[v]]},k.prototype.transform=function(o,u,h,l,d,y){this.permute(y,o,u,h,l,d);for(var v=1;v<d;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),g=Math.sin(2*Math.PI/p),P=0;P<d;P+=p)for(var S=a,B=g,z=0;z<v;z++){var H=h[P+z],G=l[P+z],J=h[P+z+v],K=l[P+z+v],Y=S*J-B*K;K=S*K+B*J,J=Y,h[P+z]=H+J,l[P+z]=G+K,h[P+z+v]=H-J,l[P+z+v]=G-K,z!==p&&(Y=a*S-g*B,B=a*B+g*S,S=Y)}},k.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,l=h&1,d=0;for(h=h/2|0;h;h=h>>>1)d++;return 1<<d+1+l},k.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var l=0;l<h/2;l++){var d=o[l];o[l]=o[h-l-1],o[h-l-1]=d,d=u[l],u[l]=-u[h-l-1],u[h-l-1]=-d}},k.prototype.normalize13b=function(o,u){for(var h=0,l=0;l<u/2;l++){var d=Math.round(o[2*l+1]/u)*8192+Math.round(o[2*l]/u)+h;o[l]=d&67108863,d<67108864?h=0:h=d/67108864|0}return o},k.prototype.convert13b=function(o,u,h,l){for(var d=0,y=0;y<u;y++)d=d+(o[y]|0),h[2*y]=d&8191,d=d>>>13,h[2*y+1]=d&8191,d=d>>>13;for(y=2*u;y<l;++y)h[y]=0;r(d===0),r((d&-8192)===0)},k.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},k.prototype.mulp=function(o,u,h){var l=2*this.guessLen13b(o.length,u.length),d=this.makeRBT(l),y=this.stub(l),v=new Array(l),p=new Array(l),a=new Array(l),g=new Array(l),P=new Array(l),S=new Array(l),B=h.words;B.length=l,this.convert13b(o.words,o.length,v,l),this.convert13b(u.words,u.length,g,l),this.transform(v,y,p,a,l,d),this.transform(g,y,P,S,l,d);for(var z=0;z<l;z++){var H=p[z]*P[z]-a[z]*S[z];a[z]=p[z]*S[z]+a[z]*P[z],p[z]=H}return this.conjugate(p,a,l),this.transform(p,a,B,y,l,d),this.conjugate(B,y,l),this.normalize13b(B,l),h.negative=o.negative^u.negative,h.length=o.length+u.length,h.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),D(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var u=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,d=(l&67108863)+(u&67108863);u>>=26,u+=l/67108864|0,u+=d>>>26,this.words[h]=d&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var h=this,l=0;l<u.length&&u[l]===0;l++,h=h.sqr());if(++l<u.length)for(var d=h.sqr();l<u.length;l++,d=d.sqr())u[l]!==0&&(h=h.mul(d));return h},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=67108863>>>26-u<<26-u,d;if(u!==0){var y=0;for(d=0;d<this.length;d++){var v=this.words[d]&l,p=(this.words[d]|0)-v<<u;this.words[d]=p|y,y=v>>>26-u}y&&(this.words[d]=y,this.length++)}if(h!==0){for(d=this.length-1;d>=0;d--)this.words[d+h]=this.words[d];for(d=0;d<h;d++)this.words[d]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var l;u?l=(u-u%26)/26:l=0;var d=o%26,y=Math.min((o-d)/26,this.length),v=67108863^67108863>>>d<<d,p=h;if(l-=y,l=Math.max(0,l),p){for(var a=0;a<y;a++)p.words[a]=this.words[a];p.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=l);a--){var P=this.words[a]|0;this.words[a]=g<<26-d|P>>>d,g=P&v}return p&&g!==0&&(p.words[p.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return!1;var d=this.words[h];return!!(d&l)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var l=67108863^67108863>>>u<<u;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,h){var l=o.length+h,d;this._expand(l);var y,v=0;for(d=0;d<o.length;d++){y=(this.words[d+h]|0)+v;var p=(o.words[d]|0)*u;y-=p&67108863,v=(y>>26)-(p/67108864|0),this.words[d+h]=y&67108863}for(;d<this.length-h;d++)y=(this.words[d+h]|0)+v,v=y>>26,this.words[d+h]=y&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+v,v=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var h=this.length-o.length,l=this.clone(),d=o,y=d.words[d.length-1]|0,v=this._countBits(y);h=26-v,h!==0&&(d=d.ushln(h),l.iushln(h),y=d.words[d.length-1]|0);var p=l.length-d.length,a;if(u!=="mod"){a=new n(null),a.length=p+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var P=l.clone()._ishlnsubmul(d,1,p);P.negative===0&&(l=P,a&&(a.words[p]=1));for(var S=p-1;S>=0;S--){var B=(l.words[d.length+S]|0)*67108864+(l.words[d.length+S-1]|0);for(B=Math.min(B/y|0,67108863),l._ishlnsubmul(d,B,S);l.negative!==0;)B--,l.negative=0,l._ishlnsubmul(d,1,S),l.isZero()||(l.negative^=1);a&&(a.words[S]=B)}return a&&a.strip(),l.strip(),u!=="div"&&h!==0&&l.iushrn(h),{div:a||null,mod:l}},n.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,d,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,u),u!=="mod"&&(l=y.div.neg()),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.iadd(o)),{div:l,mod:d}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),u),u!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),u),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.isub(o)),{div:y.div,mod:d}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,l=o.ushrn(1),d=o.andln(1),y=h.cmp(l);return y<0||d===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){r(o<=67108863);for(var u=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(u*h+(this.words[l]|0))%o;return h},n.prototype.idivn=function(o){r(o<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+u*67108864;this.words[h]=l/o|0,u=l%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=new n(0),v=new n(1),p=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++p;for(var a=h.clone(),g=u.clone();!u.isZero();){for(var P=0,S=1;!(u.words[0]&S)&&P<26;++P,S<<=1);if(P>0)for(u.iushrn(P);P-- >0;)(l.isOdd()||d.isOdd())&&(l.iadd(a),d.isub(g)),l.iushrn(1),d.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(a),v.isub(g)),y.iushrn(1),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(y),d.isub(v)):(h.isub(u),y.isub(l),v.isub(d))}return{a:y,b:v,gcd:h.iushln(p)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,p=1;!(u.words[0]&p)&&v<26;++v,p<<=1);if(v>0)for(u.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var a=0,g=1;!(h.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(h.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(d)):(h.isub(u),d.isub(l))}var P;return u.cmpn(1)===0?P=l:P=d,P.cmpn(0)<0&&P.iadd(o),P},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var l=0;u.isEven()&&h.isEven();l++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var d=u.cmp(h);if(d<0){var y=u;u=h,h=y}else if(d===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(l)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=l,this;for(var d=l,y=h;d!==0&&y<this.length;y++){var v=this.words[y]|0;v+=d,d=v>>>26,v&=67108863,this.words[y]=v}return d!==0&&(this.words[y]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var l=this.words[0]|0;h=l===o?0:l<o?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var l=this.words[h]|0,d=o.words[h]|0;if(l!==d){l<d?u=-1:l>d&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new N(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(b,o){this.name=b,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var l=h<this.n?-1:u.ucmp(this.p);return l===0?(u.words[0]=0,u.length=1):l>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function U(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,O),U.prototype.split=function(o,u){for(var h=4194303,l=Math.min(o.length,9),d=0;d<l;d++)u.words[d]=o.words[d];if(u.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(u.words[u.length++]=y&h,d=10;d<o.length;d++){var v=o.words[d]|0;o.words[d-10]=(v&h)<<4|y>>>22,y=v}y>>>=22,o.words[d-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},U.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var l=o.words[h]|0;u+=l*977,o.words[h]=u&67108863,u=l*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,O);function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,O);function F(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,O),F.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var l=(o.words[h]|0)*19+u,d=l&67108863;l>>>=26,o.words[h]=d,u=l}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(C[o])return C[o];var u;if(o==="k256")u=new U;else if(o==="p224")u=new $;else if(o==="p192")u=new W;else if(o==="p25519")u=new F;else throw new Error("Unknown prime "+o);return C[o]=u,u};function N(b){if(typeof b=="string"){var o=n._prime(b);this.m=o.p,this.prime=o}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},N.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},N.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},N.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},N.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},N.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},N.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},N.prototype.isqr=function(o){return this.imul(o,o.clone())},N.prototype.sqr=function(o){return this.mul(o,o)},N.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(o,h)}for(var l=this.m.subn(1),d=0;!l.isZero()&&l.andln(1)===0;)d++,l.iushrn(1);r(!l.isZero());var y=new n(1).toRed(this),v=y.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var g=this.pow(a,l),P=this.pow(o,l.addn(1).iushrn(1)),S=this.pow(o,l),B=d;S.cmp(y)!==0;){for(var z=S,H=0;z.cmp(y)!==0;H++)z=z.redSqr();r(H<B);var G=this.pow(g,new n(1).iushln(B-H-1));P=P.redMul(G),g=G.redSqr(),S=S.redMul(g),B=H}return P},N.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,l=new Array(1<<h);l[0]=new n(1).toRed(this),l[1]=o;for(var d=2;d<l.length;d++)l[d]=this.mul(l[d-1],o);var y=l[0],v=0,p=0,a=u.bitLength()%26;for(a===0&&(a=26),d=u.length-1;d>=0;d--){for(var g=u.words[d],P=a-1;P>=0;P--){var S=g>>P&1;if(y!==l[0]&&(y=this.sqr(y)),S===0&&v===0){p=0;continue}v<<=1,v|=S,p++,!(p!==h&&(d!==0||P!==0))&&(y=this.mul(y,l[v]),p=0,v=0)}a=26}return y},N.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},N.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new V(o)};function V(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,N),V.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},V.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var h=o.mul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof G8>"u"||G8,qU)});var LU=Z((MPe,NU)=>{E();var ppe=jb(),mpe=jU();NU.exports=function(e){return new Dd(e)};var Ao={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Ao.p224=Ao.secp224r1;Ao.p256=Ao.secp256r1=Ao.prime256v1;Ao.p192=Ao.secp192r1=Ao.prime192v1;Ao.p384=Ao.secp384r1;Ao.p521=Ao.secp521r1;function Dd(t){this.curveType=Ao[t],this.curveType||(this.curveType={name:t}),this.curve=new ppe.ec(this.curveType.name),this.keys=void 0}Dd.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Dd.prototype.computeSecret=function(t,e,r){e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e));var i=this.curve.keyFromPublic(t).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return K8(n,r,this.curveType.byteLength)};Dd.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),K8(r,t)};Dd.prototype.getPrivateKey=function(t){return K8(this.keys.getPrivate(),t)};Dd.prototype.setPublicKey=function(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this.keys._importPublic(t),this};Dd.prototype.setPrivateKey=function(t,e){e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e));var r=new mpe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function K8(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new L.Buffer(t);if(r&&i.length<r){var n=new L.Buffer(r-i.length);n.fill(0),i=L.Buffer.concat([n,i])}return e?i.toString(e):i}});var V8=Z((SPe,zU)=>{E();var ype=kc(),Z8=qt().Buffer;zU.exports=function(t,e){for(var r=Z8.alloc(0),i=0,n;r.length<e;)n=gpe(i++),r=Z8.concat([r,ype("sha1").update(t).update(n).digest()]);return r.slice(0,e)};function gpe(t){var e=Z8.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var Y8=Z((APe,UU)=>{E();UU.exports=function(e,r){for(var i=e.length,n=-1;++n<i;)e[n]^=r[n];return e}});var Yb=Z((FU,J8)=>{E();(function(t,e){"use strict";function r(b,o){if(!b)throw new Error(o||"Assertion failed")}function i(b,o){b.super_=o;var u=function(){};u.prototype=o.prototype,b.prototype=new u,b.prototype.constructor=b}function n(b,o,u){if(n.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(b||0,o||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wt().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,u){return o.cmp(u)>0?o:u},n.min=function(o,u){return o.cmp(u)<0?o:u},n.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(u===16?this._parseHex(o,l,h):(this._parseBase(o,u,l),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d,y,v=0;if(h==="be")for(l=o.length-1,d=0;l>=0;l-=3)y=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);else if(h==="le")for(l=0,d=0;l<o.length;l+=3)y=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[d]|=y<<v&67108863,this.words[d+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,d++);return this.strip()};function f(b,o){var u=b.charCodeAt(o);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(b,o,u){var h=f(b,u);return u-1>=o&&(h|=f(b,u-1)<<4),h}n.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var d=0,y=0,v;if(h==="be")for(l=o.length-1;l>=u;l-=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8;else{var p=o.length-u;for(l=p%2===0?u+1:u;l<o.length;l+=2)v=c(o,u,l)<<d,this.words[y]|=v&67108863,d>=18?(d-=18,y+=1,this.words[y]|=v>>>26):d+=8}this.strip()};function m(b,o,u,h){for(var l=0,d=Math.min(b.length,u),y=o;y<d;y++){var v=b.charCodeAt(y)-48;l*=h,v>=49?l+=v-49+10:v>=17?l+=v-17+10:l+=v}return l}n.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var l=0,d=1;d<=67108863;d*=u)l++;l--,d=d/u|0;for(var y=o.length-h,v=y%l,p=Math.min(y,y-v)+h,a=0,g=h;g<p;g+=l)a=m(o,g,g+l,u),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var P=1;for(a=m(o,g,o.length,u),g=0;g<v;g++)P*=u;this.imuln(P),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var l=0,d=0,y=0;y<this.length;y++){var v=this.words[y],p=((v<<l|d)&16777215).toString(16);d=v>>>24-l&16777215,d!==0||y!==this.length-1?h=w[6-p.length]+p+h:h=p+h,l+=2,l>=26&&(l-=26,y--)}for(d!==0&&(h=d.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=M[o];h="";var P=this.clone();for(P.negative=0;!P.isZero();){var S=P.modn(g).toString(o);P=P.idivn(g),P.isZero()?h=S+h:h=w[a-S.length]+S+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(o,u){return r(typeof s<"u"),this.toArrayLike(s,o,u)},n.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)},n.prototype.toArrayLike=function(o,u,h){var l=this.byteLength(),d=h||Math.max(1,l);r(l<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var y=u==="le",v=new o(d),p,a,g=this.clone();if(y){for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[a]=p;for(;a<d;a++)v[a]=0}else{for(a=0;a<d-l;a++)v[a]=0;for(a=0;!g.isZero();a++)p=g.andln(255),g.iushrn(8),v[d-a-1]=p}return v},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function x(b){for(var o=new Array(b.bitLength()),u=0;u<o.length;u++){var h=u/26|0,l=u%26;o[u]=(b.words[h]&1<<l)>>>l}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this.strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var l=0;l<h.length;l++)this.words[l]=u.words[l]^h.words[l];if(this!==u)for(;l<u.length;l++)this.words[l]=u.words[l];return this.length=u.length,this.strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var l=0;l<u;l++)this.words[l]=~this.words[l]&67108863;return h>0&&(this.words[l]=~this.words[l]&67108863>>26-h),this.strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,l=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<l:this.words[h]=this.words[h]&~(1<<l),this.strip()},n.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,l;this.length>o.length?(h=this,l=o):(h=o,l=this);for(var d=0,y=0;y<l.length;y++)u=(h.words[y]|0)+(l.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;for(;d!==0&&y<h.length;y++)u=(h.words[y]|0)+d,this.words[y]=u&67108863,d=u>>>26;if(this.length=h.length,d!==0)this.words[this.length]=d,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,d;h>0?(l=this,d=o):(l=o,d=this);for(var y=0,v=0;v<d.length;v++)u=(l.words[v]|0)-(d.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;for(;y!==0&&v<l.length;v++)u=(l.words[v]|0)+y,y=u>>26,this.words[v]=u&67108863;if(y===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function T(b,o,u){u.negative=o.negative^b.negative;var h=b.length+o.length|0;u.length=h,h=h-1|0;var l=b.words[0]|0,d=o.words[0]|0,y=l*d,v=y&67108863,p=y/67108864|0;u.words[0]=v;for(var a=1;a<h;a++){for(var g=p>>>26,P=p&67108863,S=Math.min(a,o.length-1),B=Math.max(0,a-b.length+1);B<=S;B++){var z=a-B|0;l=b.words[z]|0,d=o.words[B]|0,y=l*d+P,g+=y/67108864|0,P=y&67108863}u.words[a]=P|0,p=g|0}return p!==0?u.words[a]=p|0:u.length--,u.strip()}var A=function(o,u,h){var l=o.words,d=u.words,y=h.words,v=0,p,a,g,P=l[0]|0,S=P&8191,B=P>>>13,z=l[1]|0,H=z&8191,G=z>>>13,J=l[2]|0,K=J&8191,Y=J>>>13,ze=l[3]|0,X=ze&8191,Q=ze>>>13,et=l[4]|0,te=et&8191,re=et>>>13,$t=l[5]|0,ie=$t&8191,ne=$t>>>13,Dr=l[6]|0,se=Dr&8191,oe=Dr>>>13,fi=l[7]|0,ae=fi&8191,fe=fi>>>13,ui=l[8]|0,ue=ui&8191,le=ui>>>13,li=l[9]|0,de=li&8191,he=li>>>13,di=d[0]|0,ce=di&8191,pe=di>>>13,hi=d[1]|0,me=hi&8191,ye=hi>>>13,ci=d[2]|0,ge=ci&8191,ve=ci>>>13,pi=d[3]|0,be=pi&8191,we=pi>>>13,mi=d[4]|0,_e=mi&8191,Me=mi>>>13,yi=d[5]|0,xe=yi&8191,Se=yi>>>13,gi=d[6]|0,Ee=gi&8191,Ae=gi>>>13,vi=d[7]|0,Te=vi&8191,Re=vi>>>13,bi=d[8]|0,Pe=bi&8191,ke=bi>>>13,wi=d[9]|0,Ie=wi&8191,Be=wi>>>13;h.negative=o.negative^u.negative,h.length=19,p=Math.imul(S,ce),a=Math.imul(S,pe),a=a+Math.imul(B,ce)|0,g=Math.imul(B,pe);var Ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(H,ce),a=Math.imul(H,pe),a=a+Math.imul(G,ce)|0,g=Math.imul(G,pe),p=p+Math.imul(S,me)|0,a=a+Math.imul(S,ye)|0,a=a+Math.imul(B,me)|0,g=g+Math.imul(B,ye)|0;var dt=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dt>>>26)|0,dt&=67108863,p=Math.imul(K,ce),a=Math.imul(K,pe),a=a+Math.imul(Y,ce)|0,g=Math.imul(Y,pe),p=p+Math.imul(H,me)|0,a=a+Math.imul(H,ye)|0,a=a+Math.imul(G,me)|0,g=g+Math.imul(G,ye)|0,p=p+Math.imul(S,ge)|0,a=a+Math.imul(S,ve)|0,a=a+Math.imul(B,ge)|0,g=g+Math.imul(B,ve)|0;var ht=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ht>>>26)|0,ht&=67108863,p=Math.imul(X,ce),a=Math.imul(X,pe),a=a+Math.imul(Q,ce)|0,g=Math.imul(Q,pe),p=p+Math.imul(K,me)|0,a=a+Math.imul(K,ye)|0,a=a+Math.imul(Y,me)|0,g=g+Math.imul(Y,ye)|0,p=p+Math.imul(H,ge)|0,a=a+Math.imul(H,ve)|0,a=a+Math.imul(G,ge)|0,g=g+Math.imul(G,ve)|0,p=p+Math.imul(S,be)|0,a=a+Math.imul(S,we)|0,a=a+Math.imul(B,be)|0,g=g+Math.imul(B,we)|0;var or=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(or>>>26)|0,or&=67108863,p=Math.imul(te,ce),a=Math.imul(te,pe),a=a+Math.imul(re,ce)|0,g=Math.imul(re,pe),p=p+Math.imul(X,me)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(Q,me)|0,g=g+Math.imul(Q,ye)|0,p=p+Math.imul(K,ge)|0,a=a+Math.imul(K,ve)|0,a=a+Math.imul(Y,ge)|0,g=g+Math.imul(Y,ve)|0,p=p+Math.imul(H,be)|0,a=a+Math.imul(H,we)|0,a=a+Math.imul(G,be)|0,g=g+Math.imul(G,we)|0,p=p+Math.imul(S,_e)|0,a=a+Math.imul(S,Me)|0,a=a+Math.imul(B,_e)|0,g=g+Math.imul(B,Me)|0;var sr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,p=Math.imul(ie,ce),a=Math.imul(ie,pe),a=a+Math.imul(ne,ce)|0,g=Math.imul(ne,pe),p=p+Math.imul(te,me)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(re,me)|0,g=g+Math.imul(re,ye)|0,p=p+Math.imul(X,ge)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(Q,ge)|0,g=g+Math.imul(Q,ve)|0,p=p+Math.imul(K,be)|0,a=a+Math.imul(K,we)|0,a=a+Math.imul(Y,be)|0,g=g+Math.imul(Y,we)|0,p=p+Math.imul(H,_e)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(G,_e)|0,g=g+Math.imul(G,Me)|0,p=p+Math.imul(S,xe)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(B,xe)|0,g=g+Math.imul(B,Se)|0;var ar=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,p=Math.imul(se,ce),a=Math.imul(se,pe),a=a+Math.imul(oe,ce)|0,g=Math.imul(oe,pe),p=p+Math.imul(ie,me)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(ne,me)|0,g=g+Math.imul(ne,ye)|0,p=p+Math.imul(te,ge)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(re,ge)|0,g=g+Math.imul(re,ve)|0,p=p+Math.imul(X,be)|0,a=a+Math.imul(X,we)|0,a=a+Math.imul(Q,be)|0,g=g+Math.imul(Q,we)|0,p=p+Math.imul(K,_e)|0,a=a+Math.imul(K,Me)|0,a=a+Math.imul(Y,_e)|0,g=g+Math.imul(Y,Me)|0,p=p+Math.imul(H,xe)|0,a=a+Math.imul(H,Se)|0,a=a+Math.imul(G,xe)|0,g=g+Math.imul(G,Se)|0,p=p+Math.imul(S,Ee)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(B,Ee)|0,g=g+Math.imul(B,Ae)|0;var fr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,p=Math.imul(ae,ce),a=Math.imul(ae,pe),a=a+Math.imul(fe,ce)|0,g=Math.imul(fe,pe),p=p+Math.imul(se,me)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(oe,me)|0,g=g+Math.imul(oe,ye)|0,p=p+Math.imul(ie,ge)|0,a=a+Math.imul(ie,ve)|0,a=a+Math.imul(ne,ge)|0,g=g+Math.imul(ne,ve)|0,p=p+Math.imul(te,be)|0,a=a+Math.imul(te,we)|0,a=a+Math.imul(re,be)|0,g=g+Math.imul(re,we)|0,p=p+Math.imul(X,_e)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(Q,_e)|0,g=g+Math.imul(Q,Me)|0,p=p+Math.imul(K,xe)|0,a=a+Math.imul(K,Se)|0,a=a+Math.imul(Y,xe)|0,g=g+Math.imul(Y,Se)|0,p=p+Math.imul(H,Ee)|0,a=a+Math.imul(H,Ae)|0,a=a+Math.imul(G,Ee)|0,g=g+Math.imul(G,Ae)|0,p=p+Math.imul(S,Te)|0,a=a+Math.imul(S,Re)|0,a=a+Math.imul(B,Te)|0,g=g+Math.imul(B,Re)|0;var ur=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,p=Math.imul(ue,ce),a=Math.imul(ue,pe),a=a+Math.imul(le,ce)|0,g=Math.imul(le,pe),p=p+Math.imul(ae,me)|0,a=a+Math.imul(ae,ye)|0,a=a+Math.imul(fe,me)|0,g=g+Math.imul(fe,ye)|0,p=p+Math.imul(se,ge)|0,a=a+Math.imul(se,ve)|0,a=a+Math.imul(oe,ge)|0,g=g+Math.imul(oe,ve)|0,p=p+Math.imul(ie,be)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(ne,be)|0,g=g+Math.imul(ne,we)|0,p=p+Math.imul(te,_e)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(re,_e)|0,g=g+Math.imul(re,Me)|0,p=p+Math.imul(X,xe)|0,a=a+Math.imul(X,Se)|0,a=a+Math.imul(Q,xe)|0,g=g+Math.imul(Q,Se)|0,p=p+Math.imul(K,Ee)|0,a=a+Math.imul(K,Ae)|0,a=a+Math.imul(Y,Ee)|0,g=g+Math.imul(Y,Ae)|0,p=p+Math.imul(H,Te)|0,a=a+Math.imul(H,Re)|0,a=a+Math.imul(G,Te)|0,g=g+Math.imul(G,Re)|0,p=p+Math.imul(S,Pe)|0,a=a+Math.imul(S,ke)|0,a=a+Math.imul(B,Pe)|0,g=g+Math.imul(B,ke)|0;var lr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,p=Math.imul(de,ce),a=Math.imul(de,pe),a=a+Math.imul(he,ce)|0,g=Math.imul(he,pe),p=p+Math.imul(ue,me)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(le,me)|0,g=g+Math.imul(le,ye)|0,p=p+Math.imul(ae,ge)|0,a=a+Math.imul(ae,ve)|0,a=a+Math.imul(fe,ge)|0,g=g+Math.imul(fe,ve)|0,p=p+Math.imul(se,be)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(oe,be)|0,g=g+Math.imul(oe,we)|0,p=p+Math.imul(ie,_e)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(ne,_e)|0,g=g+Math.imul(ne,Me)|0,p=p+Math.imul(te,xe)|0,a=a+Math.imul(te,Se)|0,a=a+Math.imul(re,xe)|0,g=g+Math.imul(re,Se)|0,p=p+Math.imul(X,Ee)|0,a=a+Math.imul(X,Ae)|0,a=a+Math.imul(Q,Ee)|0,g=g+Math.imul(Q,Ae)|0,p=p+Math.imul(K,Te)|0,a=a+Math.imul(K,Re)|0,a=a+Math.imul(Y,Te)|0,g=g+Math.imul(Y,Re)|0,p=p+Math.imul(H,Pe)|0,a=a+Math.imul(H,ke)|0,a=a+Math.imul(G,Pe)|0,g=g+Math.imul(G,ke)|0,p=p+Math.imul(S,Ie)|0,a=a+Math.imul(S,Be)|0,a=a+Math.imul(B,Ie)|0,g=g+Math.imul(B,Be)|0;var dr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(de,me),a=Math.imul(de,ye),a=a+Math.imul(he,me)|0,g=Math.imul(he,ye),p=p+Math.imul(ue,ge)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(le,ge)|0,g=g+Math.imul(le,ve)|0,p=p+Math.imul(ae,be)|0,a=a+Math.imul(ae,we)|0,a=a+Math.imul(fe,be)|0,g=g+Math.imul(fe,we)|0,p=p+Math.imul(se,_e)|0,a=a+Math.imul(se,Me)|0,a=a+Math.imul(oe,_e)|0,g=g+Math.imul(oe,Me)|0,p=p+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(ne,xe)|0,g=g+Math.imul(ne,Se)|0,p=p+Math.imul(te,Ee)|0,a=a+Math.imul(te,Ae)|0,a=a+Math.imul(re,Ee)|0,g=g+Math.imul(re,Ae)|0,p=p+Math.imul(X,Te)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(Q,Te)|0,g=g+Math.imul(Q,Re)|0,p=p+Math.imul(K,Pe)|0,a=a+Math.imul(K,ke)|0,a=a+Math.imul(Y,Pe)|0,g=g+Math.imul(Y,ke)|0,p=p+Math.imul(H,Ie)|0,a=a+Math.imul(H,Be)|0,a=a+Math.imul(G,Ie)|0,g=g+Math.imul(G,Be)|0;var hr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,p=Math.imul(de,ge),a=Math.imul(de,ve),a=a+Math.imul(he,ge)|0,g=Math.imul(he,ve),p=p+Math.imul(ue,be)|0,a=a+Math.imul(ue,we)|0,a=a+Math.imul(le,be)|0,g=g+Math.imul(le,we)|0,p=p+Math.imul(ae,_e)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(fe,_e)|0,g=g+Math.imul(fe,Me)|0,p=p+Math.imul(se,xe)|0,a=a+Math.imul(se,Se)|0,a=a+Math.imul(oe,xe)|0,g=g+Math.imul(oe,Se)|0,p=p+Math.imul(ie,Ee)|0,a=a+Math.imul(ie,Ae)|0,a=a+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,Ae)|0,p=p+Math.imul(te,Te)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(re,Te)|0,g=g+Math.imul(re,Re)|0,p=p+Math.imul(X,Pe)|0,a=a+Math.imul(X,ke)|0,a=a+Math.imul(Q,Pe)|0,g=g+Math.imul(Q,ke)|0,p=p+Math.imul(K,Ie)|0,a=a+Math.imul(K,Be)|0,a=a+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,Be)|0;var cr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,p=Math.imul(de,be),a=Math.imul(de,we),a=a+Math.imul(he,be)|0,g=Math.imul(he,we),p=p+Math.imul(ue,_e)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(le,_e)|0,g=g+Math.imul(le,Me)|0,p=p+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(fe,xe)|0,g=g+Math.imul(fe,Se)|0,p=p+Math.imul(se,Ee)|0,a=a+Math.imul(se,Ae)|0,a=a+Math.imul(oe,Ee)|0,g=g+Math.imul(oe,Ae)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,Re)|0,a=a+Math.imul(ne,Te)|0,g=g+Math.imul(ne,Re)|0,p=p+Math.imul(te,Pe)|0,a=a+Math.imul(te,ke)|0,a=a+Math.imul(re,Pe)|0,g=g+Math.imul(re,ke)|0,p=p+Math.imul(X,Ie)|0,a=a+Math.imul(X,Be)|0,a=a+Math.imul(Q,Ie)|0,g=g+Math.imul(Q,Be)|0;var pr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(de,_e),a=Math.imul(de,Me),a=a+Math.imul(he,_e)|0,g=Math.imul(he,Me),p=p+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(le,xe)|0,g=g+Math.imul(le,Se)|0,p=p+Math.imul(ae,Ee)|0,a=a+Math.imul(ae,Ae)|0,a=a+Math.imul(fe,Ee)|0,g=g+Math.imul(fe,Ae)|0,p=p+Math.imul(se,Te)|0,a=a+Math.imul(se,Re)|0,a=a+Math.imul(oe,Te)|0,g=g+Math.imul(oe,Re)|0,p=p+Math.imul(ie,Pe)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,ke)|0,p=p+Math.imul(te,Ie)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(re,Ie)|0,g=g+Math.imul(re,Be)|0;var mr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,p=Math.imul(de,xe),a=Math.imul(de,Se),a=a+Math.imul(he,xe)|0,g=Math.imul(he,Se),p=p+Math.imul(ue,Ee)|0,a=a+Math.imul(ue,Ae)|0,a=a+Math.imul(le,Ee)|0,g=g+Math.imul(le,Ae)|0,p=p+Math.imul(ae,Te)|0,a=a+Math.imul(ae,Re)|0,a=a+Math.imul(fe,Te)|0,g=g+Math.imul(fe,Re)|0,p=p+Math.imul(se,Pe)|0,a=a+Math.imul(se,ke)|0,a=a+Math.imul(oe,Pe)|0,g=g+Math.imul(oe,ke)|0,p=p+Math.imul(ie,Ie)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(ne,Ie)|0,g=g+Math.imul(ne,Be)|0;var yr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,p=Math.imul(de,Ee),a=Math.imul(de,Ae),a=a+Math.imul(he,Ee)|0,g=Math.imul(he,Ae),p=p+Math.imul(ue,Te)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(le,Te)|0,g=g+Math.imul(le,Re)|0,p=p+Math.imul(ae,Pe)|0,a=a+Math.imul(ae,ke)|0,a=a+Math.imul(fe,Pe)|0,g=g+Math.imul(fe,ke)|0,p=p+Math.imul(se,Ie)|0,a=a+Math.imul(se,Be)|0,a=a+Math.imul(oe,Ie)|0,g=g+Math.imul(oe,Be)|0;var gr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(de,Te),a=Math.imul(de,Re),a=a+Math.imul(he,Te)|0,g=Math.imul(he,Re),p=p+Math.imul(ue,Pe)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(le,Pe)|0,g=g+Math.imul(le,ke)|0,p=p+Math.imul(ae,Ie)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(fe,Ie)|0,g=g+Math.imul(fe,Be)|0;var vr=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,p=Math.imul(de,Pe),a=Math.imul(de,ke),a=a+Math.imul(he,Pe)|0,g=Math.imul(he,ke),p=p+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(le,Ie)|0,g=g+Math.imul(le,Be)|0;var br=(v+p|0)+((a&8191)<<13)|0;v=(g+(a>>>13)|0)+(br>>>26)|0,br&=67108863,p=Math.imul(de,Ie),a=Math.imul(de,Be),a=a+Math.imul(he,Ie)|0,g=Math.imul(he,Be);var wr=(v+p|0)+((a&8191)<<13)|0;return v=(g+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,y[0]=Ar,y[1]=dt,y[2]=ht,y[3]=or,y[4]=sr,y[5]=ar,y[6]=fr,y[7]=ur,y[8]=lr,y[9]=dr,y[10]=hr,y[11]=cr,y[12]=pr,y[13]=mr,y[14]=yr,y[15]=gr,y[16]=vr,y[17]=br,y[18]=wr,v!==0&&(y[19]=v,h.length++),h};Math.imul||(A=T);function I(b,o,u){u.negative=o.negative^b.negative,u.length=b.length+o.length;for(var h=0,l=0,d=0;d<u.length-1;d++){var y=l;l=0;for(var v=h&67108863,p=Math.min(d,o.length-1),a=Math.max(0,d-b.length+1);a<=p;a++){var g=d-a,P=b.words[g]|0,S=o.words[a]|0,B=P*S,z=B&67108863;y=y+(B/67108864|0)|0,z=z+v|0,v=z&67108863,y=y+(z>>>26)|0,l+=y>>>26,y&=67108863}u.words[d]=v,h=y,y=l}return h!==0?u.words[d]=h:u.length--,u.strip()}function D(b,o,u){var h=new k;return h.mulp(b,o,u)}n.prototype.mulTo=function(o,u){var h,l=this.length+o.length;return this.length===10&&o.length===10?h=A(this,o,u):l<63?h=T(this,o,u):l<1024?h=I(this,o,u):h=D(this,o,u),h};function k(b,o){this.x=b,this.y=o}k.prototype.makeRBT=function(o){for(var u=new Array(o),h=n.prototype._countBits(o)-1,l=0;l<o;l++)u[l]=this.revBin(l,h,o);return u},k.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var l=0,d=0;d<u;d++)l|=(o&1)<<u-d-1,o>>=1;return l},k.prototype.permute=function(o,u,h,l,d,y){for(var v=0;v<y;v++)l[v]=u[o[v]],d[v]=h[o[v]]},k.prototype.transform=function(o,u,h,l,d,y){this.permute(y,o,u,h,l,d);for(var v=1;v<d;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),g=Math.sin(2*Math.PI/p),P=0;P<d;P+=p)for(var S=a,B=g,z=0;z<v;z++){var H=h[P+z],G=l[P+z],J=h[P+z+v],K=l[P+z+v],Y=S*J-B*K;K=S*K+B*J,J=Y,h[P+z]=H+J,l[P+z]=G+K,h[P+z+v]=H-J,l[P+z+v]=G-K,z!==p&&(Y=a*S-g*B,B=a*B+g*S,S=Y)}},k.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,l=h&1,d=0;for(h=h/2|0;h;h=h>>>1)d++;return 1<<d+1+l},k.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var l=0;l<h/2;l++){var d=o[l];o[l]=o[h-l-1],o[h-l-1]=d,d=u[l],u[l]=-u[h-l-1],u[h-l-1]=-d}},k.prototype.normalize13b=function(o,u){for(var h=0,l=0;l<u/2;l++){var d=Math.round(o[2*l+1]/u)*8192+Math.round(o[2*l]/u)+h;o[l]=d&67108863,d<67108864?h=0:h=d/67108864|0}return o},k.prototype.convert13b=function(o,u,h,l){for(var d=0,y=0;y<u;y++)d=d+(o[y]|0),h[2*y]=d&8191,d=d>>>13,h[2*y+1]=d&8191,d=d>>>13;for(y=2*u;y<l;++y)h[y]=0;r(d===0),r((d&-8192)===0)},k.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},k.prototype.mulp=function(o,u,h){var l=2*this.guessLen13b(o.length,u.length),d=this.makeRBT(l),y=this.stub(l),v=new Array(l),p=new Array(l),a=new Array(l),g=new Array(l),P=new Array(l),S=new Array(l),B=h.words;B.length=l,this.convert13b(o.words,o.length,v,l),this.convert13b(u.words,u.length,g,l),this.transform(v,y,p,a,l,d),this.transform(g,y,P,S,l,d);for(var z=0;z<l;z++){var H=p[z]*P[z]-a[z]*S[z];a[z]=p[z]*S[z]+a[z]*P[z],p[z]=H}return this.conjugate(p,a,l),this.transform(p,a,B,y,l,d),this.conjugate(B,y,l),this.normalize13b(B,l),h.negative=o.negative^u.negative,h.length=o.length+u.length,h.strip()},n.prototype.mul=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},n.prototype.mulf=function(o){var u=new n(null);return u.words=new Array(this.length+o.length),D(this,o,u)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var u=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,d=(l&67108863)+(u&67108863);u>>=26,u+=l/67108864|0,u+=d>>>26,this.words[h]=d&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var u=x(o);if(u.length===0)return new n(1);for(var h=this,l=0;l<u.length&&u[l]===0;l++,h=h.sqr());if(++l<u.length)for(var d=h.sqr();l<u.length;l++,d=d.sqr())u[l]!==0&&(h=h.mul(d));return h},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=67108863>>>26-u<<26-u,d;if(u!==0){var y=0;for(d=0;d<this.length;d++){var v=this.words[d]&l,p=(this.words[d]|0)-v<<u;this.words[d]=p|y,y=v>>>26-u}y&&(this.words[d]=y,this.length++)}if(h!==0){for(d=this.length-1;d>=0;d--)this.words[d+h]=this.words[d];for(d=0;d<h;d++)this.words[d]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var l;u?l=(u-u%26)/26:l=0;var d=o%26,y=Math.min((o-d)/26,this.length),v=67108863^67108863>>>d<<d,p=h;if(l-=y,l=Math.max(0,l),p){for(var a=0;a<y;a++)p.words[a]=this.words[a];p.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=l);a--){var P=this.words[a]|0;this.words[a]=g<<26-d|P>>>d,g=P&v}return p&&g!==0&&(p.words[p.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return!1;var d=this.words[h];return!!(d&l)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var l=67108863^67108863>>>u<<u;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,u,h){var l=o.length+h,d;this._expand(l);var y,v=0;for(d=0;d<o.length;d++){y=(this.words[d+h]|0)+v;var p=(o.words[d]|0)*u;y-=p&67108863,v=(y>>26)-(p/67108864|0),this.words[d+h]=y&67108863}for(;d<this.length-h;d++)y=(this.words[d+h]|0)+v,v=y>>26,this.words[d+h]=y&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+v,v=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(o,u){var h=this.length-o.length,l=this.clone(),d=o,y=d.words[d.length-1]|0,v=this._countBits(y);h=26-v,h!==0&&(d=d.ushln(h),l.iushln(h),y=d.words[d.length-1]|0);var p=l.length-d.length,a;if(u!=="mod"){a=new n(null),a.length=p+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var P=l.clone()._ishlnsubmul(d,1,p);P.negative===0&&(l=P,a&&(a.words[p]=1));for(var S=p-1;S>=0;S--){var B=(l.words[d.length+S]|0)*67108864+(l.words[d.length+S-1]|0);for(B=Math.min(B/y|0,67108863),l._ishlnsubmul(d,B,S);l.negative!==0;)B--,l.negative=0,l._ishlnsubmul(d,1,S),l.isZero()||(l.negative^=1);a&&(a.words[S]=B)}return a&&a.strip(),l.strip(),u!=="div"&&h!==0&&l.iushrn(h),{div:a||null,mod:l}},n.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,d,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,u),u!=="mod"&&(l=y.div.neg()),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.iadd(o)),{div:l,mod:d}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),u),u!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),u),u!=="div"&&(d=y.mod.neg(),h&&d.negative!==0&&d.isub(o)),{div:y.div,mod:d}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modn(o.words[0]))}:this._wordDiv(o,u)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,l=o.ushrn(1),d=o.andln(1),y=h.cmp(l);return y<0||d===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(o){r(o<=67108863);for(var u=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(u*h+(this.words[l]|0))%o;return h},n.prototype.idivn=function(o){r(o<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+u*67108864;this.words[h]=l/o|0,u=l%o}return this.strip()},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=new n(0),v=new n(1),p=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++p;for(var a=h.clone(),g=u.clone();!u.isZero();){for(var P=0,S=1;!(u.words[0]&S)&&P<26;++P,S<<=1);if(P>0)for(u.iushrn(P);P-- >0;)(l.isOdd()||d.isOdd())&&(l.iadd(a),d.isub(g)),l.iushrn(1),d.iushrn(1);for(var B=0,z=1;!(h.words[0]&z)&&B<26;++B,z<<=1);if(B>0)for(h.iushrn(B);B-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(a),v.isub(g)),y.iushrn(1),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(y),d.isub(v)):(h.isub(u),y.isub(l),v.isub(d))}return{a:y,b:v,gcd:h.iushln(p)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new n(1),d=new n(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,p=1;!(u.words[0]&p)&&v<26;++v,p<<=1);if(v>0)for(u.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var a=0,g=1;!(h.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(h.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);u.cmp(h)>=0?(u.isub(h),l.isub(d)):(h.isub(u),d.isub(l))}var P;return u.cmpn(1)===0?P=l:P=d,P.cmpn(0)<0&&P.iadd(o),P},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var l=0;u.isEven()&&h.isEven();l++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var d=u.cmp(h);if(d<0){var y=u;u=h,h=y}else if(d===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(l)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,l=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=l,this;for(var d=l,y=h;d!==0&&y<this.length;y++){var v=this.words[y]|0;v+=d,d=v>>>26,v&=67108863,this.words[y]=v}return d!==0&&(this.words[y]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var l=this.words[0]|0;h=l===o?0:l<o?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var l=this.words[h]|0,d=o.words[h]|0;if(l!==d){l<d?u=-1:l>d&&(u=1);break}}return u},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new N(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(b,o){this.name=b,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var l=h<this.n?-1:u.ucmp(this.p);return l===0?(u.words[0]=0,u.length=1):l>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(o,u){o.iushrn(this.n,0,u)},O.prototype.imulK=function(o){return o.imul(this.k)};function U(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,O),U.prototype.split=function(o,u){for(var h=4194303,l=Math.min(o.length,9),d=0;d<l;d++)u.words[d]=o.words[d];if(u.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(u.words[u.length++]=y&h,d=10;d<o.length;d++){var v=o.words[d]|0;o.words[d-10]=(v&h)<<4|y>>>22,y=v}y>>>=22,o.words[d-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},U.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var l=o.words[h]|0;u+=l*977,o.words[h]=u&67108863,u=l*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function $(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,O);function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,O);function F(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,O),F.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var l=(o.words[h]|0)*19+u,d=l&67108863;l>>>=26,o.words[h]=d,u=l}return u!==0&&(o.words[o.length++]=u),o},n._prime=function(o){if(C[o])return C[o];var u;if(o==="k256")u=new U;else if(o==="p224")u=new $;else if(o==="p192")u=new W;else if(o==="p25519")u=new F;else throw new Error("Unknown prime "+o);return C[o]=u,u};function N(b){if(typeof b=="string"){var o=n._prime(b);this.m=o.p,this.prime=o}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},N.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},N.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},N.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},N.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},N.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},N.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},N.prototype.isqr=function(o){return this.imul(o,o.clone())},N.prototype.sqr=function(o){return this.mul(o,o)},N.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(o,h)}for(var l=this.m.subn(1),d=0;!l.isZero()&&l.andln(1)===0;)d++,l.iushrn(1);r(!l.isZero());var y=new n(1).toRed(this),v=y.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new n(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var g=this.pow(a,l),P=this.pow(o,l.addn(1).iushrn(1)),S=this.pow(o,l),B=d;S.cmp(y)!==0;){for(var z=S,H=0;z.cmp(y)!==0;H++)z=z.redSqr();r(H<B);var G=this.pow(g,new n(1).iushln(B-H-1));P=P.redMul(G),g=G.redSqr(),S=S.redMul(g),B=H}return P},N.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(o,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,l=new Array(1<<h);l[0]=new n(1).toRed(this),l[1]=o;for(var d=2;d<l.length;d++)l[d]=this.mul(l[d-1],o);var y=l[0],v=0,p=0,a=u.bitLength()%26;for(a===0&&(a=26),d=u.length-1;d>=0;d--){for(var g=u.words[d],P=a-1;P>=0;P--){var S=g>>P&1;if(y!==l[0]&&(y=this.sqr(y)),S===0&&v===0){p=0;continue}v<<=1,v|=S,p++,!(p!==h&&(d!==0||P!==0))&&(y=this.mul(y,l[v]),p=0,v=0)}a=26}return y},N.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},N.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},n.mont=function(o){return new V(o)};function V(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,N),V.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},V.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new n(0)._forceRed(this);var h=o.mul(u),l=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(l).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof J8>"u"||J8,FU)});var X8=Z((PPe,WU)=>{E();var $U=Yb(),vpe=qt().Buffer;function bpe(t,e){return vpe.from(t.toRed($U.mont(e.modulus)).redPow(new $U(e.publicExponent)).fromRed().toArray())}WU.exports=bpe});var ZU=Z((IPe,KU)=>{E();var wpe=Fm(),Q8=ed(),_pe=kc(),HU=V8(),GU=Y8(),e5=Yb(),Mpe=X8(),xpe=wb(),qs=qt().Buffer;KU.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=wpe(e),f;if(n===4)f=Spe(s,r);else if(n===1)f=Epe(s,r,i);else if(n===3){if(f=new e5(r),f.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?xpe(f,s):Mpe(f,s)};function Spe(t,e){var r=t.modulus.byteLength(),i=e.length,n=_pe("sha1").update(qs.alloc(0)).digest(),s=n.length,f=2*s;if(i>r-f-2)throw new Error("message too long");var c=qs.alloc(r-i-f-2),m=r-s-1,w=Q8(s),_=GU(qs.concat([n,c,qs.alloc(1,1),e],m),HU(w,m)),M=GU(w,HU(_,s));return new e5(qs.concat([qs.alloc(1),M,_],r))}function Epe(t,e,r){var i=e.length,n=t.modulus.byteLength();if(i>n-11)throw new Error("message too long");var s;return r?s=qs.alloc(n-i-3,255):s=Ape(n-i-3),new e5(qs.concat([qs.from([0,r?1:2]),s,qs.alloc(1),e],n))}function Ape(t){for(var e=qs.allocUnsafe(t),r=0,i=Q8(t*2),n=0,s;r<t;)n===i.length&&(i=Q8(t*2),n=0),s=i[n++],s&&(e[r++]=s);return e}});var QU=Z((DPe,XU)=>{E();var Tpe=Fm(),VU=V8(),YU=Y8(),JU=Yb(),Rpe=wb(),Ppe=kc(),kpe=X8(),Gm=qt().Buffer;XU.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=Tpe(e),f=s.modulus.byteLength();if(r.length>f||new JU(r).cmp(s.modulus)>=0)throw new Error("decryption error");var c;i?c=kpe(new JU(r),s):c=Rpe(r,s);var m=Gm.alloc(f-c.length);if(c=Gm.concat([m,c],f),n===4)return Ipe(s,c);if(n===1)return Bpe(s,c,i);if(n===3)return c;throw new Error("unknown padding")};function Ipe(t,e){var r=t.modulus.byteLength(),i=Ppe("sha1").update(Gm.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,n+1),f=e.slice(n+1),c=YU(s,VU(f,n)),m=YU(f,VU(c,r-n-1));if(Dpe(i,m.slice(0,n)))throw new Error("decryption error");for(var w=n;m[w]===0;)w++;if(m[w++]!==1)throw new Error("decryption error");return m.slice(w)}function Bpe(t,e,r){for(var i=e.slice(0,2),n=2,s=0;e[n++]!==0;)if(n>=e.length){s++;break}var f=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!r||i.toString("hex")!=="0001"&&r)&&s++,f.length<8&&s++,s)throw new Error("decryption error");return e.slice(n)}function Dpe(t,e){t=Gm.from(t),e=Gm.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}});var eF=Z(Cd=>{E();Cd.publicEncrypt=ZU();Cd.privateDecrypt=QU();Cd.privateEncrypt=function(e,r){return Cd.publicEncrypt(e,r,!0)};Cd.publicDecrypt=function(e,r){return Cd.privateDecrypt(e,r,!0)}});var lF=Z(Km=>{"use strict";E();function tF(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var iF=qt(),rF=ed(),nF=iF.Buffer,oF=iF.kMaxLength,t5=globalThis.crypto||globalThis.msCrypto,sF=Math.pow(2,32)-1;function aF(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>sF||t<0)throw new TypeError("offset must be a uint32");if(t>oF||t>e)throw new RangeError("offset out of range")}function fF(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>sF||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>oF)throw new RangeError("buffer too small")}t5&&t5.getRandomValues||!q.default.browser?(Km.randomFill=Cpe,Km.randomFillSync=Ope):(Km.randomFill=tF,Km.randomFillSync=tF);function Cpe(t,e,r,i){if(!nF.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,r=t.length;else if(typeof r=="function")i=r,r=t.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return aF(e,t.length),fF(r,e,t.length),uF(t,e,r,i)}function uF(t,e,r,i){if(q.default.browser){var n=t.buffer,s=new Uint8Array(n,e,r);if(t5.getRandomValues(s),i){q.default.nextTick(function(){i(null,t)});return}return t}if(i){rF(r,function(c,m){if(c)return i(c);m.copy(t,e),i(null,t)});return}var f=rF(r);return f.copy(t,e),t}function Ope(t,e,r){if(typeof e>"u"&&(e=0),!nF.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return aF(e,t.length),r===void 0&&(r=t.length-e),fF(r,e,t.length),uF(t,e,r)}});var eb=Z(mt=>{"use strict";E();mt.randomBytes=mt.rng=mt.pseudoRandomBytes=mt.prng=ed();mt.createHash=mt.Hash=kc();mt.createHmac=mt.Hmac=Gx();var qpe=Eq(),jpe=Object.keys(qpe),Npe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(jpe);mt.getHashes=function(){return Npe};var dF=r4();mt.pbkdf2=dF.pbkdf2;mt.pbkdf2Sync=dF.pbkdf2Sync;var ja=Kj();mt.Cipher=ja.Cipher;mt.createCipher=ja.createCipher;mt.Cipheriv=ja.Cipheriv;mt.createCipheriv=ja.createCipheriv;mt.Decipher=ja.Decipher;mt.createDecipher=ja.createDecipher;mt.Decipheriv=ja.Decipheriv;mt.createDecipheriv=ja.createDecipheriv;mt.getCiphers=ja.getCiphers;mt.listCiphers=ja.listCiphers;var Zm=fN();mt.DiffieHellmanGroup=Zm.DiffieHellmanGroup;mt.createDiffieHellmanGroup=Zm.createDiffieHellmanGroup;mt.getDiffieHellman=Zm.getDiffieHellman;mt.createDiffieHellman=Zm.createDiffieHellman;mt.DiffieHellman=Zm.DiffieHellman;var Jb=OU();mt.createSign=Jb.createSign;mt.Sign=Jb.Sign;mt.createVerify=Jb.createVerify;mt.Verify=Jb.Verify;mt.createECDH=LU();var Xb=eF();mt.publicEncrypt=Xb.publicEncrypt;mt.privateEncrypt=Xb.privateEncrypt;mt.publicDecrypt=Xb.publicDecrypt;mt.privateDecrypt=Xb.privateDecrypt;var hF=lF();mt.randomFill=hF.randomFill;mt.randomFillSync=hF.randomFillSync;mt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};mt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Qb=Z(In=>{"use strict";E();Object.defineProperty(In,"__esModule",{value:!0});In.ONE=In.SECRET_KEY_LENGTH=In.AES_IV_PLUS_TAG_LENGTH=In.AES_TAG_LENGTH=In.AES_IV_LENGTH=In.UNCOMPRESSED_PUBLIC_KEY_SIZE=void 0;In.UNCOMPRESSED_PUBLIC_KEY_SIZE=65;In.AES_IV_LENGTH=16;In.AES_TAG_LENGTH=16;In.AES_IV_PLUS_TAG_LENGTH=In.AES_IV_LENGTH+In.AES_TAG_LENGTH;In.SECRET_KEY_LENGTH=32;In.ONE=BigInt(1)});var tw=Z(Hn=>{"use strict";E();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.output=Hn.exists=Hn.hash=Hn.bytes=Hn.bool=Hn.number=void 0;function ew(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Hn.number=ew;function cF(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Hn.bool=cF;function r5(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Hn.bytes=r5;function pF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ew(t.outputLen),ew(t.blockLen)}Hn.hash=pF;function mF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Hn.exists=mF;function yF(t,e){r5(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Hn.output=yF;var Lpe={number:ew,bool:cF,bytes:r5,hash:pF,exists:mF,output:yF};Hn.default=Lpe});var gF=Z(rw=>{"use strict";E();Object.defineProperty(rw,"__esModule",{value:!0});rw.crypto=void 0;rw.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Od=Z(yt=>{"use strict";E();Object.defineProperty(yt,"__esModule",{value:!0});yt.randomBytes=yt.wrapXOFConstructorWithOpts=yt.wrapConstructorWithOpts=yt.wrapConstructor=yt.checkOpts=yt.Hash=yt.concatBytes=yt.toBytes=yt.utf8ToBytes=yt.asyncLoop=yt.nextTick=yt.hexToBytes=yt.bytesToHex=yt.isLE=yt.rotr=yt.createView=yt.u32=yt.u8=void 0;var i5=gF(),o5=t=>t instanceof Uint8Array,zpe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);yt.u8=zpe;var Upe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));yt.u32=Upe;var Fpe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);yt.createView=Fpe;var $pe=(t,e)=>t<<32-e|t>>>e;yt.rotr=$pe;yt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yt.isLE)throw new Error("Non little-endian hardware is not supported");var Wpe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Hpe(t){if(!o5(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Wpe[t[r]];return e}yt.bytesToHex=Hpe;function Gpe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,s=t.slice(n,n+2),f=Number.parseInt(s,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");r[i]=f}return r}yt.hexToBytes=Gpe;var Kpe=async()=>{};yt.nextTick=Kpe;async function Zpe(t,e,r){let i=Date.now();for(let n=0;n<t;n++){r(n);let s=Date.now()-i;s>=0&&s<e||(await(0,yt.nextTick)(),i+=s)}}yt.asyncLoop=Zpe;function vF(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}yt.utf8ToBytes=vF;function iw(t){if(typeof t=="string"&&(t=vF(t)),!o5(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}yt.toBytes=iw;function Vpe(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!o5(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}yt.concatBytes=Vpe;var n5=class{clone(){return this._cloneInto()}};yt.Hash=n5;var Ype=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Jpe(t,e){if(e!==void 0&&(typeof e!="object"||!Ype(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}yt.checkOpts=Jpe;function Xpe(t){let e=i=>t().update(iw(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}yt.wrapConstructor=Xpe;function Qpe(t){let e=(i,n)=>t(n).update(iw(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}yt.wrapConstructorWithOpts=Qpe;function eme(t){let e=(i,n)=>t(n).update(iw(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}yt.wrapXOFConstructorWithOpts=eme;function tme(t=32){if(i5.crypto&&typeof i5.crypto.getRandomValues=="function")return i5.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}yt.randomBytes=tme});var bF=Z(nw=>{"use strict";E();Object.defineProperty(nw,"__esModule",{value:!0});nw.SHA2=void 0;var s5=tw(),Vm=Od();function rme(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),s=BigInt(4294967295),f=Number(r>>n&s),c=Number(r&s),m=i?4:0,w=i?0:4;t.setUint32(e+m,f,i),t.setUint32(e+w,c,i)}var a5=class extends Vm.Hash{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Vm.createView)(this.buffer)}update(e){s5.default.exists(this);let{view:r,buffer:i,blockLen:n}=this;e=(0,Vm.toBytes)(e);let s=e.length;for(let f=0;f<s;){let c=Math.min(n-this.pos,s-f);if(c===n){let m=(0,Vm.createView)(e);for(;n<=s-f;f+=n)this.process(m,f);continue}i.set(e.subarray(f,f+c),this.pos),this.pos+=c,f+=c,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){s5.default.exists(this),s5.default.output(e,this),this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:s}=this,{pos:f}=this;r[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>n-f&&(this.process(i,0),f=0);for(let M=f;M<n;M++)r[M]=0;rme(i,n-8,BigInt(this.length*8),s),this.process(i,0);let c=(0,Vm.createView)(e),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let w=m/4,_=this.get();if(w>_.length)throw new Error("_sha2: outputLen bigger than state");for(let M=0;M<w;M++)c.setUint32(4*M,_[M],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:i,length:n,finished:s,destroyed:f,pos:c}=this;return e.length=n,e.pos=c,e.finished=s,e.destroyed=f,n%r&&e.buffer.set(i),e}};nw.SHA2=a5});var sw=Z(a0=>{"use strict";E();Object.defineProperty(a0,"__esModule",{value:!0});a0.sha224=a0.sha256=void 0;var ime=bF(),is=Od(),nme=(t,e,r)=>t&e^~t&r,ome=(t,e,r)=>t&e^t&r^e&r,sme=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Lu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zu=new Uint32Array(64),ow=class extends ime.SHA2{constructor(){super(64,32,8,!1),this.A=Lu[0]|0,this.B=Lu[1]|0,this.C=Lu[2]|0,this.D=Lu[3]|0,this.E=Lu[4]|0,this.F=Lu[5]|0,this.G=Lu[6]|0,this.H=Lu[7]|0}get(){let{A:e,B:r,C:i,D:n,E:s,F:f,G:c,H:m}=this;return[e,r,i,n,s,f,c,m]}set(e,r,i,n,s,f,c,m){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=s|0,this.F=f|0,this.G=c|0,this.H=m|0}process(e,r){for(let M=0;M<16;M++,r+=4)zu[M]=e.getUint32(r,!1);for(let M=16;M<64;M++){let x=zu[M-15],T=zu[M-2],A=(0,is.rotr)(x,7)^(0,is.rotr)(x,18)^x>>>3,I=(0,is.rotr)(T,17)^(0,is.rotr)(T,19)^T>>>10;zu[M]=I+zu[M-7]+A+zu[M-16]|0}let{A:i,B:n,C:s,D:f,E:c,F:m,G:w,H:_}=this;for(let M=0;M<64;M++){let x=(0,is.rotr)(c,6)^(0,is.rotr)(c,11)^(0,is.rotr)(c,25),T=_+x+nme(c,m,w)+sme[M]+zu[M]|0,I=((0,is.rotr)(i,2)^(0,is.rotr)(i,13)^(0,is.rotr)(i,22))+ome(i,n,s)|0;_=w,w=m,m=c,c=f+T|0,f=s,s=n,n=i,i=T+I|0}i=i+this.A|0,n=n+this.B|0,s=s+this.C|0,f=f+this.D|0,c=c+this.E|0,m=m+this.F|0,w=w+this.G|0,_=_+this.H|0,this.set(i,n,s,f,c,m,w,_)}roundClean(){zu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},f5=class extends ow{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};a0.sha256=(0,is.wrapConstructor)(()=>new ow);a0.sha224=(0,is.wrapConstructor)(()=>new f5)});var qd=Z(gt=>{"use strict";E();Object.defineProperty(gt,"__esModule",{value:!0});gt.validateObject=gt.createHmacDrbg=gt.bitMask=gt.bitSet=gt.bitGet=gt.bitLen=gt.utf8ToBytes=gt.equalBytes=gt.concatBytes=gt.ensureBytes=gt.numberToVarBytesBE=gt.numberToBytesLE=gt.numberToBytesBE=gt.bytesToNumberLE=gt.bytesToNumberBE=gt.hexToBytes=gt.hexToNumber=gt.numberToHexUnpadded=gt.bytesToHex=void 0;var _F=BigInt(0),aw=BigInt(1),ame=BigInt(2),fw=t=>t instanceof Uint8Array,fme=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function l5(t){if(!fw(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=fme[t[r]];return e}gt.bytesToHex=l5;function MF(t){let e=t.toString(16);return e.length&1?`0${e}`:e}gt.numberToHexUnpadded=MF;function d5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}gt.hexToNumber=d5;function uw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,s=t.slice(n,n+2),f=Number.parseInt(s,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");r[i]=f}return r}gt.hexToBytes=uw;function ume(t){return d5(l5(t))}gt.bytesToNumberBE=ume;function lme(t){if(!fw(t))throw new Error("Uint8Array expected");return d5(l5(Uint8Array.from(t).reverse()))}gt.bytesToNumberLE=lme;function xF(t,e){return uw(t.toString(16).padStart(e*2,"0"))}gt.numberToBytesBE=xF;function dme(t,e){return xF(t,e).reverse()}gt.numberToBytesLE=dme;function hme(t){return uw(MF(t))}gt.numberToVarBytesBE=hme;function cme(t,e,r){let i;if(typeof e=="string")try{i=uw(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(fw(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}gt.ensureBytes=cme;function SF(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!fw(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}gt.concatBytes=SF;function pme(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}gt.equalBytes=pme;function mme(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}gt.utf8ToBytes=mme;function yme(t){let e;for(e=0;t>_F;t>>=aw,e+=1);return e}gt.bitLen=yme;function gme(t,e){return t>>BigInt(e)&aw}gt.bitGet=gme;var vme=(t,e,r)=>t|(r?aw:_F)<<BigInt(e);gt.bitSet=vme;var bme=t=>(ame<<BigInt(t-1))-aw;gt.bitMask=bme;var u5=t=>new Uint8Array(t),wF=t=>Uint8Array.from(t);function wme(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=u5(t),n=u5(t),s=0,f=()=>{i.fill(1),n.fill(0),s=0},c=(...M)=>r(n,i,...M),m=(M=u5())=>{n=c(wF([0]),M),i=c(),M.length!==0&&(n=c(wF([1]),M),i=c())},w=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let M=0,x=[];for(;M<e;){i=c();let T=i.slice();x.push(T),M+=i.length}return SF(...x)};return(M,x)=>{f(),m(M);let T;for(;!(T=x(w()));)m();return f(),T}}gt.createHmacDrbg=wme;var _me={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Mme(t,e,r={}){let i=(n,s,f)=>{let c=_me[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let m=t[n];if(!(f&&m===void 0)&&!c(m,t))throw new Error(`Invalid param ${String(n)}=${m} (${typeof m}), expected ${s}`)};for(let[n,s]of Object.entries(e))i(n,s,!1);for(let[n,s]of Object.entries(r))i(n,s,!0);return t}gt.validateObject=Mme});var Ym=Z(Dt=>{"use strict";E();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.hashToPrivateScalar=Dt.FpSqrtEven=Dt.FpSqrtOdd=Dt.Field=Dt.nLength=Dt.FpIsSquare=Dt.FpDiv=Dt.FpInvertBatch=Dt.FpPow=Dt.validateField=Dt.isNegativeLE=Dt.FpSqrt=Dt.tonelliShanks=Dt.invert=Dt.pow2=Dt.pow=Dt.mod=void 0;var jf=qd(),qi=BigInt(0),Or=BigInt(1),Uu=BigInt(2),xme=BigInt(3),h5=BigInt(4),EF=BigInt(5),AF=BigInt(8),Sme=BigInt(9),Eme=BigInt(16);function ns(t,e){let r=t%e;return r>=qi?r:e+r}Dt.mod=ns;function TF(t,e,r){if(r<=qi||e<qi)throw new Error("Expected power/modulo > 0");if(r===Or)return qi;let i=Or;for(;e>qi;)e&Or&&(i=i*t%r),t=t*t%r,e>>=Or;return i}Dt.pow=TF;function Ame(t,e,r){let i=t;for(;e-- >qi;)i*=i,i%=r;return i}Dt.pow2=Ame;function lw(t,e){if(t===qi||e<=qi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ns(t,e),i=e,n=qi,s=Or,f=Or,c=qi;for(;r!==qi;){let w=i/r,_=i%r,M=n-f*w,x=s-c*w;i=r,r=_,n=f,s=c,f=M,c=x}if(i!==Or)throw new Error("invert: does not exist");return ns(n,e)}Dt.invert=lw;function RF(t){let e=(t-Or)/Uu,r,i,n;for(r=t-Or,i=0;r%Uu===qi;r/=Uu,i++);for(n=Uu;n<t&&TF(n,e,t)!==t-Or;n++);if(i===1){let f=(t+Or)/h5;return function(m,w){let _=m.pow(w,f);if(!m.eql(m.sqr(_),w))throw new Error("Cannot find square root");return _}}let s=(r+Or)/Uu;return function(c,m){if(c.pow(m,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let w=i,_=c.pow(c.mul(c.ONE,n),r),M=c.pow(m,s),x=c.pow(m,r);for(;!c.eql(x,c.ONE);){if(c.eql(x,c.ZERO))return c.ZERO;let T=1;for(let I=c.sqr(x);T<w&&!c.eql(I,c.ONE);T++)I=c.sqr(I);let A=c.pow(_,Or<<BigInt(w-T-1));_=c.sqr(A),M=c.mul(M,A),x=c.mul(x,_),w=T}return M}}Dt.tonelliShanks=RF;function PF(t){if(t%h5===xme){let e=(t+Or)/h5;return function(i,n){let s=i.pow(n,e);if(!i.eql(i.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%AF===EF){let e=(t-EF)/AF;return function(i,n){let s=i.mul(n,Uu),f=i.pow(s,e),c=i.mul(n,f),m=i.mul(i.mul(c,Uu),f),w=i.mul(c,i.sub(m,i.ONE));if(!i.eql(i.sqr(w),n))throw new Error("Cannot find square root");return w}}return t%Eme,RF(t)}Dt.FpSqrt=PF;var Tme=(t,e)=>(ns(t,e)&Or)===Or;Dt.isNegativeLE=Tme;var Rme=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pme(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Rme.reduce((i,n)=>(i[n]="function",i),e);return(0,jf.validateObject)(t,r)}Dt.validateField=Pme;function kF(t,e,r){if(r<qi)throw new Error("Expected power > 0");if(r===qi)return t.ONE;if(r===Or)return e;let i=t.ONE,n=e;for(;r>qi;)r&Or&&(i=t.mul(i,n)),n=t.sqr(n),r>>=Or;return i}Dt.FpPow=kF;function IF(t,e){let r=new Array(e.length),i=e.reduce((s,f,c)=>t.is0(f)?s:(r[c]=s,t.mul(s,f)),t.ONE),n=t.inv(i);return e.reduceRight((s,f,c)=>t.is0(f)?s:(r[c]=t.mul(s,r[c]),t.mul(s,f)),n),r}Dt.FpInvertBatch=IF;function kme(t,e,r){return t.mul(e,typeof r=="bigint"?lw(r,t.ORDER):t.inv(r))}Dt.FpDiv=kme;function Ime(t){let e=(t.ORDER-Or)/Uu;return r=>{let i=t.pow(r,e);return t.eql(i,t.ZERO)||t.eql(i,t.ONE)}}Dt.FpIsSquare=Ime;function c5(t,e){let r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}Dt.nLength=c5;function Bme(t,e,r=!1,i={}){if(t<=qi)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:n,nByteLength:s}=c5(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let f=PF(t),c=Object.freeze({ORDER:t,BITS:n,BYTES:s,MASK:(0,jf.bitMask)(n),ZERO:qi,ONE:Or,create:m=>ns(m,t),isValid:m=>{if(typeof m!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof m}`);return qi<=m&&m<t},is0:m=>m===qi,isOdd:m=>(m&Or)===Or,neg:m=>ns(-m,t),eql:(m,w)=>m===w,sqr:m=>ns(m*m,t),add:(m,w)=>ns(m+w,t),sub:(m,w)=>ns(m-w,t),mul:(m,w)=>ns(m*w,t),pow:(m,w)=>kF(c,m,w),div:(m,w)=>ns(m*lw(w,t),t),sqrN:m=>m*m,addN:(m,w)=>m+w,subN:(m,w)=>m-w,mulN:(m,w)=>m*w,inv:m=>lw(m,t),sqrt:i.sqrt||(m=>f(c,m)),invertBatch:m=>IF(c,m),cmov:(m,w,_)=>_?w:m,toBytes:m=>r?(0,jf.numberToBytesLE)(m,s):(0,jf.numberToBytesBE)(m,s),fromBytes:m=>{if(m.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${m.length}`);return r?(0,jf.bytesToNumberLE)(m):(0,jf.bytesToNumberBE)(m)}});return Object.freeze(c)}Dt.Field=Bme;function Dme(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}Dt.FpSqrtOdd=Dme;function Cme(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}Dt.FpSqrtEven=Cme;function Ome(t,e,r=!1){t=(0,jf.ensureBytes)("privateHash",t);let i=t.length,n=c5(e).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);let s=r?(0,jf.bytesToNumberLE)(t):(0,jf.bytesToNumberBE)(t);return ns(s,e-Or)+Or}Dt.hashToPrivateScalar=Ome});var DF=Z(f0=>{"use strict";E();Object.defineProperty(f0,"__esModule",{value:!0});f0.validateBasic=f0.wNAF=void 0;var BF=Ym(),qme=qd(),jme=BigInt(0),p5=BigInt(1);function Nme(t,e){let r=(n,s)=>{let f=s.negate();return n?f:s},i=n=>{let s=Math.ceil(e/n)+1,f=2**(n-1);return{windows:s,windowSize:f}};return{constTimeNegate:r,unsafeLadder(n,s){let f=t.ZERO,c=n;for(;s>jme;)s&p5&&(f=f.add(c)),c=c.double(),s>>=p5;return f},precomputeWindow(n,s){let{windows:f,windowSize:c}=i(s),m=[],w=n,_=w;for(let M=0;M<f;M++){_=w,m.push(_);for(let x=1;x<c;x++)_=_.add(w),m.push(_);w=_.double()}return m},wNAF(n,s,f){let{windows:c,windowSize:m}=i(n),w=t.ZERO,_=t.BASE,M=BigInt(2**n-1),x=2**n,T=BigInt(n);for(let A=0;A<c;A++){let I=A*m,D=Number(f&M);f>>=T,D>m&&(D-=x,f+=p5);let k=I,C=I+Math.abs(D)-1,O=A%2!==0,U=D<0;D===0?_=_.add(r(O,s[k])):w=w.add(r(U,s[C]))}return{p:w,f:_}},wNAFCached(n,s,f,c){let m=n._WINDOW_SIZE||1,w=s.get(n);return w||(w=this.precomputeWindow(n,m),m!==1&&s.set(n,c(w))),this.wNAF(m,w,f)}}}f0.wNAF=Nme;function Lme(t){return(0,BF.validateField)(t.Fp),(0,qme.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,BF.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}f0.validateBasic=Lme});var y5=Z(ji=>{"use strict";E();Object.defineProperty(ji,"__esModule",{value:!0});ji.mapToCurveSimpleSWU=ji.SWUFpSqrtRatio=ji.weierstrass=ji.weierstrassPoints=ji.DER=void 0;var Jm=Ym(),Ei=qd(),Na=qd(),m5=DF();function zme(t){let e=(0,m5.validateBasic)(t);Ei.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Ume,hexToBytes:Fme}=Ei;ji.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=ji.DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Ume(i),l:t.subarray(r+2)}},toSig(t){let{Err:e}=ji.DER,r=typeof t=="string"?Fme(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");let{d:n,l:s}=ji.DER._parseInt(r.subarray(2)),{d:f,l:c}=ji.DER._parseInt(s);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s:f}},hexFromSig(t){let e=w=>Number.parseInt(w[0],16)&8?"00"+w:w,r=w=>{let _=w.toString(16);return _.length&1?`0${_}`:_},i=e(r(t.s)),n=e(r(t.r)),s=i.length/2,f=n.length/2,c=r(s),m=r(f);return`30${r(f+s+4)}02${m}${n}02${c}${i}`}};var js=BigInt(0),Xr=BigInt(1),Fu=BigInt(2),dw=BigInt(3),CF=BigInt(4);function OF(t){let e=zme(t),{Fp:r}=e,i=e.toBytes||((A,I,D)=>{let k=I.toAffine();return Ei.concatBytes(Uint8Array.from([4]),r.toBytes(k.x),r.toBytes(k.y))}),n=e.fromBytes||(A=>{let I=A.subarray(1),D=r.fromBytes(I.subarray(0,r.BYTES)),k=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:D,y:k}});function s(A){let{a:I,b:D}=e,k=r.sqr(A),C=r.mul(k,A);return r.add(r.add(C,r.mul(A,I)),D)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function f(A){return typeof A=="bigint"&&js<A&&A<e.n}function c(A){if(!f(A))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(A){let{allowedPrivateKeyLengths:I,nByteLength:D,wrapPrivateKey:k,n:C}=e;if(I&&typeof A!="bigint"){if(A instanceof Uint8Array&&(A=Ei.bytesToHex(A)),typeof A!="string"||!I.includes(A.length))throw new Error("Invalid key");A=A.padStart(D*2,"0")}let O;try{O=typeof A=="bigint"?A:Ei.bytesToNumberBE((0,Na.ensureBytes)("private key",A,D))}catch{throw new Error(`private key must be ${D} bytes, hex or bigint, not ${typeof A}`)}return k&&(O=Jm.mod(O,C)),c(O),O}let w=new Map;function _(A){if(!(A instanceof M))throw new Error("ProjectivePoint expected")}class M{constructor(I,D,k){if(this.px=I,this.py=D,this.pz=k,I==null||!r.isValid(I))throw new Error("x required");if(D==null||!r.isValid(D))throw new Error("y required");if(k==null||!r.isValid(k))throw new Error("z required")}static fromAffine(I){let{x:D,y:k}=I||{};if(!I||!r.isValid(D)||!r.isValid(k))throw new Error("invalid affine point");if(I instanceof M)throw new Error("projective point not allowed");let C=O=>r.eql(O,r.ZERO);return C(D)&&C(k)?M.ZERO:new M(D,k,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){let D=r.invertBatch(I.map(k=>k.pz));return I.map((k,C)=>k.toAffine(D[C])).map(M.fromAffine)}static fromHex(I){let D=M.fromAffine(n((0,Na.ensureBytes)("pointHex",I)));return D.assertValidity(),D}static fromPrivateKey(I){return M.BASE.multiply(m(I))}_setWindowSize(I){this._WINDOW_SIZE=I,w.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:I,y:D}=this.toAffine();if(!r.isValid(I)||!r.isValid(D))throw new Error("bad point: x or y not FE");let k=r.sqr(D),C=s(I);if(!r.eql(k,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:I}=this.toAffine();if(r.isOdd)return!r.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){_(I);let{px:D,py:k,pz:C}=this,{px:O,py:U,pz:$}=I,W=r.eql(r.mul(D,$),r.mul(O,C)),F=r.eql(r.mul(k,$),r.mul(U,C));return W&&F}negate(){return new M(this.px,r.neg(this.py),this.pz)}double(){let{a:I,b:D}=e,k=r.mul(D,dw),{px:C,py:O,pz:U}=this,$=r.ZERO,W=r.ZERO,F=r.ZERO,N=r.mul(C,C),V=r.mul(O,O),b=r.mul(U,U),o=r.mul(C,O);return o=r.add(o,o),F=r.mul(C,U),F=r.add(F,F),$=r.mul(I,F),W=r.mul(k,b),W=r.add($,W),$=r.sub(V,W),W=r.add(V,W),W=r.mul($,W),$=r.mul(o,$),F=r.mul(k,F),b=r.mul(I,b),o=r.sub(N,b),o=r.mul(I,o),o=r.add(o,F),F=r.add(N,N),N=r.add(F,N),N=r.add(N,b),N=r.mul(N,o),W=r.add(W,N),b=r.mul(O,U),b=r.add(b,b),N=r.mul(b,o),$=r.sub($,N),F=r.mul(b,V),F=r.add(F,F),F=r.add(F,F),new M($,W,F)}add(I){_(I);let{px:D,py:k,pz:C}=this,{px:O,py:U,pz:$}=I,W=r.ZERO,F=r.ZERO,N=r.ZERO,V=e.a,b=r.mul(e.b,dw),o=r.mul(D,O),u=r.mul(k,U),h=r.mul(C,$),l=r.add(D,k),d=r.add(O,U);l=r.mul(l,d),d=r.add(o,u),l=r.sub(l,d),d=r.add(D,C);let y=r.add(O,$);return d=r.mul(d,y),y=r.add(o,h),d=r.sub(d,y),y=r.add(k,C),W=r.add(U,$),y=r.mul(y,W),W=r.add(u,h),y=r.sub(y,W),N=r.mul(V,d),W=r.mul(b,h),N=r.add(W,N),W=r.sub(u,N),N=r.add(u,N),F=r.mul(W,N),u=r.add(o,o),u=r.add(u,o),h=r.mul(V,h),d=r.mul(b,d),u=r.add(u,h),h=r.sub(o,h),h=r.mul(V,h),d=r.add(d,h),o=r.mul(u,d),F=r.add(F,o),o=r.mul(y,d),W=r.mul(l,W),W=r.sub(W,o),o=r.mul(l,u),N=r.mul(y,N),N=r.add(N,o),new M(W,F,N)}subtract(I){return this.add(I.negate())}is0(){return this.equals(M.ZERO)}wNAF(I){return T.wNAFCached(this,w,I,D=>{let k=r.invertBatch(D.map(C=>C.pz));return D.map((C,O)=>C.toAffine(k[O])).map(M.fromAffine)})}multiplyUnsafe(I){let D=M.ZERO;if(I===js)return D;if(c(I),I===Xr)return this;let{endo:k}=e;if(!k)return T.unsafeLadder(this,I);let{k1neg:C,k1:O,k2neg:U,k2:$}=k.splitScalar(I),W=D,F=D,N=this;for(;O>js||$>js;)O&Xr&&(W=W.add(N)),$&Xr&&(F=F.add(N)),N=N.double(),O>>=Xr,$>>=Xr;return C&&(W=W.negate()),U&&(F=F.negate()),F=new M(r.mul(F.px,k.beta),F.py,F.pz),W.add(F)}multiply(I){c(I);let D=I,k,C,{endo:O}=e;if(O){let{k1neg:U,k1:$,k2neg:W,k2:F}=O.splitScalar(D),{p:N,f:V}=this.wNAF($),{p:b,f:o}=this.wNAF(F);N=T.constTimeNegate(U,N),b=T.constTimeNegate(W,b),b=new M(r.mul(b.px,O.beta),b.py,b.pz),k=N.add(b),C=V.add(o)}else{let{p:U,f:$}=this.wNAF(D);k=U,C=$}return M.normalizeZ([k,C])[0]}multiplyAndAddUnsafe(I,D,k){let C=M.BASE,O=($,W)=>W===js||W===Xr||!$.equals(C)?$.multiplyUnsafe(W):$.multiply(W),U=O(this,D).add(O(I,k));return U.is0()?void 0:U}toAffine(I){let{px:D,py:k,pz:C}=this,O=this.is0();I==null&&(I=O?r.ONE:r.inv(C));let U=r.mul(D,I),$=r.mul(k,I),W=r.mul(C,I);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(W,r.ONE))throw new Error("invZ was invalid");return{x:U,y:$}}isTorsionFree(){let{h:I,isTorsionFree:D}=e;if(I===Xr)return!0;if(D)return D(M,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:I,clearCofactor:D}=e;return I===Xr?this:D?D(M,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return this.assertValidity(),i(M,this,I)}toHex(I=!0){return Ei.bytesToHex(this.toRawBytes(I))}}M.BASE=new M(e.Gx,e.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO);let x=e.nBitLength,T=(0,m5.wNAF)(M,e.endo?Math.ceil(x/2):x);return{CURVE:e,ProjectivePoint:M,normPrivateKeyToScalar:m,weierstrassEquation:s,isWithinCurveOrder:f}}ji.weierstrassPoints=OF;function $me(t){let e=(0,m5.validateBasic)(t);return Ei.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Wme(t){let e=$me(t),{Fp:r,n:i}=e,n=r.BYTES+1,s=2*r.BYTES+1;function f(d){return js<d&&d<r.ORDER}function c(d){return Jm.mod(d,i)}function m(d){return Jm.invert(d,i)}let{ProjectivePoint:w,normPrivateKeyToScalar:_,weierstrassEquation:M,isWithinCurveOrder:x}=OF({...e,toBytes(d,y,v){let p=y.toAffine(),a=r.toBytes(p.x),g=Ei.concatBytes;return v?g(Uint8Array.from([y.hasEvenY()?2:3]),a):g(Uint8Array.from([4]),a,r.toBytes(p.y))},fromBytes(d){let y=d.length,v=d[0],p=d.subarray(1);if(y===n&&(v===2||v===3)){let a=Ei.bytesToNumberBE(p);if(!f(a))throw new Error("Point is not on curve");let g=M(a),P=r.sqrt(g),S=(P&Xr)===Xr;return(v&1)===1!==S&&(P=r.neg(P)),{x:a,y:P}}else if(y===s&&v===4){let a=r.fromBytes(p.subarray(0,r.BYTES)),g=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:a,y:g}}else throw new Error(`Point of length ${y} was invalid. Expected ${n} compressed bytes or ${s} uncompressed bytes`)}}),T=d=>Ei.bytesToHex(Ei.numberToBytesBE(d,e.nByteLength));function A(d){let y=i>>Xr;return d>y}function I(d){return A(d)?c(-d):d}let D=(d,y,v)=>Ei.bytesToNumberBE(d.slice(y,v));class k{constructor(y,v,p){this.r=y,this.s=v,this.recovery=p,this.assertValidity()}static fromCompact(y){let v=e.nByteLength;return y=(0,Na.ensureBytes)("compactSignature",y,v*2),new k(D(y,0,v),D(y,v,2*v))}static fromDER(y){let{r:v,s:p}=ji.DER.toSig((0,Na.ensureBytes)("DER",y));return new k(v,p)}assertValidity(){if(!x(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!x(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(y){return new k(this.r,this.s,y)}recoverPublicKey(y){let{r:v,s:p,recovery:a}=this,g=F((0,Na.ensureBytes)("msgHash",y));if(a==null||![0,1,2,3].includes(a))throw new Error("recovery id invalid");let P=a===2||a===3?v+e.n:v;if(P>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let S=a&1?"03":"02",B=w.fromHex(S+T(P)),z=m(P),H=c(-g*z),G=c(p*z),J=w.BASE.multiplyAndAddUnsafe(B,H,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ei.hexToBytes(this.toDERHex())}toDERHex(){return ji.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ei.hexToBytes(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let C={isValidPrivateKey(d){try{return _(d),!0}catch{return!1}},normPrivateKeyToScalar:_,randomPrivateKey:()=>{let d=e.randomBytes(r.BYTES+8),y=Jm.hashToPrivateScalar(d,i);return Ei.numberToBytesBE(y,e.nByteLength)},precompute(d=8,y=w.BASE){return y._setWindowSize(d),y.multiply(BigInt(3)),y}};function O(d,y=!0){return w.fromPrivateKey(d).toRawBytes(y)}function U(d){let y=d instanceof Uint8Array,v=typeof d=="string",p=(y||v)&&d.length;return y?p===n||p===s:v?p===2*n||p===2*s:d instanceof w}function $(d,y,v=!0){if(U(d))throw new Error("first arg must be private key");if(!U(y))throw new Error("second arg must be public key");return w.fromHex(y).multiply(_(d)).toRawBytes(v)}let W=e.bits2int||function(d){let y=Ei.bytesToNumberBE(d),v=d.length*8-e.nBitLength;return v>0?y>>BigInt(v):y},F=e.bits2int_modN||function(d){return c(W(d))},N=Ei.bitMask(e.nBitLength);function V(d){if(typeof d!="bigint")throw new Error("bigint expected");if(!(js<=d&&d<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ei.numberToBytesBE(d,e.nByteLength)}function b(d,y,v=o){if(["recovered","canonical"].some(Y=>Y in v))throw new Error("sign() legacy options not supported");let{hash:p,randomBytes:a}=e,{lowS:g,prehash:P,extraEntropy:S}=v;g==null&&(g=!0),d=(0,Na.ensureBytes)("msgHash",d),P&&(d=(0,Na.ensureBytes)("prehashed msgHash",p(d)));let B=F(d),z=_(y),H=[V(z),V(B)];if(S!=null){let Y=S===!0?a(r.BYTES):S;H.push((0,Na.ensureBytes)("extraEntropy",Y,r.BYTES))}let G=Ei.concatBytes(...H),J=B;function K(Y){let ze=W(Y);if(!x(ze))return;let X=m(ze),Q=w.BASE.multiply(ze).toAffine(),et=c(Q.x);if(et===js)return;let te=c(X*c(J+et*z));if(te===js)return;let re=(Q.x===et?0:2)|Number(Q.y&Xr),$t=te;return g&&A(te)&&($t=I(te),re^=1),new k(et,$t,re)}return{seed:G,k2sig:K}}let o={lowS:e.lowS,prehash:!1},u={lowS:e.lowS,prehash:!1};function h(d,y,v=o){let{seed:p,k2sig:a}=b(d,y,v),g=e;return Ei.createHmacDrbg(g.hash.outputLen,g.nByteLength,g.hmac)(p,a)}w.BASE._setWindowSize(8);function l(d,y,v,p=u){let a=d;if(y=(0,Na.ensureBytes)("msgHash",y),v=(0,Na.ensureBytes)("publicKey",v),"strict"in p)throw new Error("options.strict was renamed to lowS");let{lowS:g,prehash:P}=p,S,B;try{if(typeof a=="string"||a instanceof Uint8Array)try{S=k.fromDER(a)}catch(Q){if(!(Q instanceof ji.DER.Err))throw Q;S=k.fromCompact(a)}else if(typeof a=="object"&&typeof a.r=="bigint"&&typeof a.s=="bigint"){let{r:Q,s:et}=a;S=new k(Q,et)}else throw new Error("PARSE");B=w.fromHex(v)}catch(Q){if(Q.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(g&&S.hasHighS())return!1;P&&(y=e.hash(y));let{r:z,s:H}=S,G=F(y),J=m(H),K=c(G*J),Y=c(z*J),ze=w.BASE.multiplyAndAddUnsafe(B,K,Y)?.toAffine();return ze?c(ze.x)===z:!1}return{CURVE:e,getPublicKey:O,getSharedSecret:$,sign:h,verify:l,ProjectivePoint:w,Signature:k,utils:C}}ji.weierstrass=Wme;function qF(t,e){let r=t.ORDER,i=js;for(let A=r-Xr;A%Fu===js;A/=Fu)i+=Xr;let n=i,s=Fu<<n-Xr-Xr,f=s*Fu,c=(r-Xr)/f,m=(c-Xr)/Fu,w=f-Xr,_=s,M=t.pow(e,c),x=t.pow(e,(c+Xr)/Fu),T=(A,I)=>{let D=M,k=t.pow(I,w),C=t.sqr(k);C=t.mul(C,I);let O=t.mul(A,C);O=t.pow(O,m),O=t.mul(O,k),k=t.mul(O,I),C=t.mul(O,A);let U=t.mul(C,k);O=t.pow(U,_);let $=t.eql(O,t.ONE);k=t.mul(C,x),O=t.mul(U,D),C=t.cmov(k,C,$),U=t.cmov(O,U,$);for(let W=n;W>Xr;W--){let F=W-Fu;F=Fu<<F-Xr;let N=t.pow(U,F),V=t.eql(N,t.ONE);k=t.mul(C,D),D=t.mul(D,D),N=t.mul(U,D),C=t.cmov(k,C,V),U=t.cmov(N,U,V)}return{isValid:$,value:C}};if(t.ORDER%CF===dw){let A=(t.ORDER-dw)/CF,I=t.sqrt(t.neg(e));T=(D,k)=>{let C=t.sqr(k),O=t.mul(D,k);C=t.mul(C,O);let U=t.pow(C,A);U=t.mul(U,O);let $=t.mul(U,I),W=t.mul(t.sqr(U),k),F=t.eql(W,D),N=t.cmov($,U,F);return{isValid:F,value:N}}}return T}ji.SWUFpSqrtRatio=qF;function Hme(t,e){if(Jm.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=qF(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return i=>{let n,s,f,c,m,w,_,M;n=t.sqr(i),n=t.mul(n,e.Z),s=t.sqr(n),s=t.add(s,n),f=t.add(s,t.ONE),f=t.mul(f,e.B),c=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),c=t.mul(c,e.A),s=t.sqr(f),w=t.sqr(c),m=t.mul(w,e.A),s=t.add(s,m),s=t.mul(s,f),w=t.mul(w,c),m=t.mul(w,e.B),s=t.add(s,m),_=t.mul(n,f);let{isValid:x,value:T}=r(s,w);M=t.mul(n,i),M=t.mul(M,T),_=t.cmov(_,f,x),M=t.cmov(M,T,x);let A=t.isOdd(i)===t.isOdd(M);return M=t.cmov(t.neg(M),M,A),_=t.div(_,c),{x:_,y:M}}}ji.mapToCurveSimpleSWU=Hme});var LF=Z(os=>{"use strict";E();Object.defineProperty(os,"__esModule",{value:!0});os.createHasher=os.isogenyMap=os.hash_to_field=os.expand_message_xof=os.expand_message_xmd=void 0;var Gme=Ym(),Ns=qd();function Kme(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,Ns.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}var Zme=Ns.bytesToNumberBE;function $u(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let i=e-1;i>=0;i--)r[i]=t&255,t>>>=8;return new Uint8Array(r)}function Vme(t,e){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t[i]^e[i];return r}function Xm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function v5(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function jF(t,e,r,i){Xm(t),Xm(e),v5(r),e.length>255&&(e=i((0,Ns.concatBytes)((0,Ns.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:n,blockLen:s}=i,f=Math.ceil(r/n);if(f>255)throw new Error("Invalid xmd length");let c=(0,Ns.concatBytes)(e,$u(e.length,1)),m=$u(0,s),w=$u(r,2),_=new Array(f),M=i((0,Ns.concatBytes)(m,t,w,$u(0,1),c));_[0]=i((0,Ns.concatBytes)(M,$u(1,1),c));for(let T=1;T<=f;T++){let A=[Vme(M,_[T-1]),$u(T+1,1),c];_[T]=i((0,Ns.concatBytes)(...A))}return(0,Ns.concatBytes)(..._).slice(0,r)}os.expand_message_xmd=jF;function NF(t,e,r,i,n){if(Xm(t),Xm(e),v5(r),e.length>255){let s=Math.ceil(2*i/8);e=n.create({dkLen:s}).update((0,Ns.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:r}).update(t).update($u(r,2)).update(e).update($u(e.length,1)).digest()}os.expand_message_xof=NF;function g5(t,e,r){(0,Ns.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:n,m:s,hash:f,expand:c,DST:m}=r;Xm(t),v5(e);let w=Kme(m),_=i.toString(2).length,M=Math.ceil((_+n)/8),x=e*s*M,T;if(c==="xmd")T=jF(t,w,x,f);else if(c==="xof")T=NF(t,w,x,n,f);else if(c==="_internal_pass")T=t;else throw new Error('expand must be "xmd" or "xof"');let A=new Array(e);for(let I=0;I<e;I++){let D=new Array(s);for(let k=0;k<s;k++){let C=M*(k+I*s),O=T.subarray(C,C+M);D[k]=(0,Gme.mod)(Zme(O),i)}A[I]=D}return A}os.hash_to_field=g5;function Yme(t,e){let r=e.map(i=>Array.from(i).reverse());return(i,n)=>{let[s,f,c,m]=r.map(w=>w.reduce((_,M)=>t.add(t.mul(_,i),M)));return i=t.div(s,f),n=t.mul(n,t.div(c,m)),{x:i,y:n}}}os.isogenyMap=Yme;function Jme(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(i,n){let s=g5(i,2,{...r,DST:r.DST,...n}),f=t.fromAffine(e(s[0])),c=t.fromAffine(e(s[1])),m=f.add(c).clearCofactor();return m.assertValidity(),m},encodeToCurve(i,n){let s=g5(i,1,{...r,DST:r.encodeDST,...n}),f=t.fromAffine(e(s[0])).clearCofactor();return f.assertValidity(),f}}}os.createHasher=Jme});var b5=Z(jd=>{"use strict";E();Object.defineProperty(jd,"__esModule",{value:!0});jd.hmac=jd.HMAC=void 0;var hw=tw(),zF=Od(),Qm=class extends zF.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,hw.default.hash(e);let i=(0,zF.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,s=new Uint8Array(n);s.set(i.length>n?e.create().update(i).digest():i);for(let f=0;f<s.length;f++)s[f]^=54;this.iHash.update(s),this.oHash=e.create();for(let f=0;f<s.length;f++)s[f]^=106;this.oHash.update(s),s.fill(0)}update(e){return hw.default.exists(this),this.iHash.update(e),this}digestInto(e){hw.default.exists(this),hw.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:i,finished:n,destroyed:s,blockLen:f,outputLen:c}=this;return e=e,e.finished=n,e.destroyed=s,e.blockLen=f,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};jd.HMAC=Qm;var Xme=(t,e,r)=>new Qm(t,e).update(r).digest();jd.hmac=Xme;jd.hmac.create=(t,e)=>new Qm(t,e)});var $F=Z(u0=>{"use strict";E();Object.defineProperty(u0,"__esModule",{value:!0});u0.createCurve=u0.getHash=void 0;var Qme=b5(),UF=Od(),eye=y5();function FF(t){return{hash:t,hmac:(e,...r)=>(0,Qme.hmac)(t,e,(0,UF.concatBytes)(...r)),randomBytes:UF.randomBytes}}u0.getHash=FF;function tye(t,e){let r=i=>(0,eye.weierstrass)({...t,...FF(i)});return Object.freeze({...r(e),create:r})}u0.createCurve=tye});var bw=Z(oo=>{"use strict";E();Object.defineProperty(oo,"__esModule",{value:!0});oo.encodeToCurve=oo.hashToCurve=oo.schnorr=oo.secp256k1=void 0;var cw=sw(),rye=Od(),Qi=Ym(),iye=y5(),Bn=qd(),GF=LF(),nye=$F(),gw=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),KF=BigInt(1),mw=BigInt(2),WF=(t,e)=>(t+e/mw)/e;function ZF(t){let e=gw,r=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),f=BigInt(23),c=BigInt(44),m=BigInt(88),w=t*t*t%e,_=w*w*t%e,M=(0,Qi.pow2)(_,r,e)*_%e,x=(0,Qi.pow2)(M,r,e)*_%e,T=(0,Qi.pow2)(x,mw,e)*w%e,A=(0,Qi.pow2)(T,n,e)*T%e,I=(0,Qi.pow2)(A,s,e)*A%e,D=(0,Qi.pow2)(I,c,e)*I%e,k=(0,Qi.pow2)(D,m,e)*D%e,C=(0,Qi.pow2)(k,c,e)*I%e,O=(0,Qi.pow2)(C,r,e)*_%e,U=(0,Qi.pow2)(O,f,e)*A%e,$=(0,Qi.pow2)(U,i,e)*w%e,W=(0,Qi.pow2)($,mw,e);if(!Wu.eql(Wu.sqr(W),t))throw new Error("Cannot find square root");return W}var Wu=(0,Qi.Field)(gw,void 0,void 0,{sqrt:ZF});oo.secp256k1=(0,nye.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Wu,n:pw,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=pw,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-KF*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,f=BigInt("0x100000000000000000000000000000000"),c=WF(s*t,e),m=WF(-i*t,e),w=(0,Qi.mod)(t-c*r-m*n,e),_=(0,Qi.mod)(-c*i-m*s,e),M=w>f,x=_>f;if(M&&(w=e-w),x&&(_=e-_),w>f||_>f)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:M,k1:w,k2neg:x,k2:_}}}},cw.sha256);var vw=BigInt(0),VF=t=>typeof t=="bigint"&&vw<t&&t<gw,oye=t=>typeof t=="bigint"&&vw<t&&t<pw,HF={};function yw(t,...e){let r=HF[t];if(r===void 0){let i=(0,cw.sha256)(Uint8Array.from(t,n=>n.charCodeAt(0)));r=(0,Bn.concatBytes)(i,i),HF[t]=r}return(0,cw.sha256)((0,Bn.concatBytes)(r,...e))}var x5=t=>t.toRawBytes(!0).slice(1),_5=t=>(0,Bn.numberToBytesBE)(t,32),w5=t=>(0,Qi.mod)(t,gw),ey=t=>(0,Qi.mod)(t,pw),S5=oo.secp256k1.ProjectivePoint,sye=(t,e,r)=>S5.BASE.multiplyAndAddUnsafe(t,e,r);function M5(t){let e=oo.secp256k1.utils.normPrivateKeyToScalar(t),r=S5.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:ey(-e),bytes:x5(r)}}function YF(t){if(!VF(t))throw new Error("bad x: need 0 < x < p");let e=w5(t*t),r=w5(e*t+BigInt(7)),i=ZF(r);i%mw!==vw&&(i=w5(-i));let n=new S5(t,i,KF);return n.assertValidity(),n}function JF(...t){return ey((0,Bn.bytesToNumberBE)(yw("BIP0340/challenge",...t)))}function aye(t){return M5(t).bytes}function fye(t,e,r=(0,rye.randomBytes)(32)){let i=(0,Bn.ensureBytes)("message",t),{bytes:n,scalar:s}=M5(e),f=(0,Bn.ensureBytes)("auxRand",r,32),c=_5(s^(0,Bn.bytesToNumberBE)(yw("BIP0340/aux",f))),m=yw("BIP0340/nonce",c,n,i),w=ey((0,Bn.bytesToNumberBE)(m));if(w===vw)throw new Error("sign failed: k is zero");let{bytes:_,scalar:M}=M5(w),x=JF(_,n,i),T=new Uint8Array(64);if(T.set(_,0),T.set(_5(ey(M+x*s)),32),!XF(T,i,n))throw new Error("sign: Invalid signature produced");return T}function XF(t,e,r){let i=(0,Bn.ensureBytes)("signature",t,64),n=(0,Bn.ensureBytes)("message",e),s=(0,Bn.ensureBytes)("publicKey",r,32);try{let f=YF((0,Bn.bytesToNumberBE)(s)),c=(0,Bn.bytesToNumberBE)(i.subarray(0,32));if(!VF(c))return!1;let m=(0,Bn.bytesToNumberBE)(i.subarray(32,64));if(!oye(m))return!1;let w=JF(_5(c),x5(f),n),_=sye(f,m,ey(-w));return!(!_||!_.hasEvenY()||_.toAffine().x!==c)}catch{return!1}}oo.schnorr=(()=>({getPublicKey:aye,sign:fye,verify:XF,utils:{randomPrivateKey:oo.secp256k1.utils.randomPrivateKey,lift_x:YF,pointToBytes:x5,numberToBytesBE:Bn.numberToBytesBE,bytesToNumberBE:Bn.bytesToNumberBE,taggedHash:yw,mod:Qi.mod}}))();var uye=(()=>(0,GF.isogenyMap)(Wu,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))))(),lye=(()=>(0,iye.mapToCurveSimpleSWU)(Wu,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Wu.create(BigInt("-11"))}))(),QF=(()=>(0,GF.createHasher)(oo.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=lye(Wu.create(t[0]));return uye(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Wu.ORDER,m:1,k:128,expand:"xmd",hash:cw.sha256}))();oo.hashToCurve=(()=>QF.hashToCurve)();oo.encodeToCurve=(()=>QF.encodeToCurve)()});var T5=Z(Hu=>{"use strict";E();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.hkdf=Hu.expand=Hu.extract=void 0;var A5=tw(),e$=Od(),r$=b5();function i$(t,e,r){return A5.default.hash(t),r===void 0&&(r=new Uint8Array(t.outputLen)),(0,r$.hmac)(t,(0,e$.toBytes)(r),(0,e$.toBytes)(e))}Hu.extract=i$;var E5=new Uint8Array([0]),t$=new Uint8Array;function n$(t,e,r,i=32){if(A5.default.hash(t),A5.default.number(i),i>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");let n=Math.ceil(i/t.outputLen);r===void 0&&(r=t$);let s=new Uint8Array(n*t.outputLen),f=r$.hmac.create(t,e),c=f._cloneInto(),m=new Uint8Array(f.outputLen);for(let w=0;w<n;w++)E5[0]=w+1,c.update(w===0?t$:m).update(r).update(E5).digestInto(m),s.set(m,t.outputLen*w),f._cloneInto(c);return f.destroy(),c.destroy(),m.fill(0),E5.fill(0),s.slice(0,i)}Hu.expand=n$;var dye=(t,e,r,i,n)=>n$(t,i$(t,e,r),i,n);Hu.hkdf=dye});var _w=Z(ss=>{"use strict";E();Object.defineProperty(ss,"__esModule",{value:!0});ss.aesDecrypt=ss.aesEncrypt=ss.getValidSecret=ss.decodeHex=ss.remove0x=void 0;var hye=bw(),ww=eb(),l0=Qb();function o$(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}ss.remove0x=o$;function cye(t){return L.Buffer.from(o$(t),"hex")}ss.decodeHex=cye;function pye(){var t;do t=(0,ww.randomBytes)(l0.SECRET_KEY_LENGTH);while(!hye.secp256k1.utils.isValidPrivateKey(t));return t}ss.getValidSecret=pye;function mye(t,e){var r=(0,ww.randomBytes)(l0.AES_IV_LENGTH),i=(0,ww.createCipheriv)("aes-256-gcm",t,r),n=L.Buffer.concat([i.update(e),i.final()]),s=i.getAuthTag();return L.Buffer.concat([r,s,n])}ss.aesEncrypt=mye;function yye(t,e){var r=e.subarray(0,l0.AES_IV_LENGTH),i=e.subarray(l0.AES_IV_LENGTH,l0.AES_IV_PLUS_TAG_LENGTH),n=e.subarray(l0.AES_IV_PLUS_TAG_LENGTH),s=(0,ww.createDecipheriv)("aes-256-gcm",t,r);return s.setAuthTag(i),L.Buffer.concat([s.update(n),s.final()])}ss.aesDecrypt=yye});var k5=Z(P5=>{"use strict";E();Object.defineProperty(P5,"__esModule",{value:!0});var s$=bw(),gye=T5(),vye=sw(),R5=Qb(),bye=_w(),wye=function(){function t(e){this.uncompressed=L.Buffer.from(s$.secp256k1.getSharedSecret(R5.ONE,e,!1)),this.compressed=L.Buffer.from(s$.secp256k1.getSharedSecret(R5.ONE,e,!0))}return t.fromHex=function(e){var r=(0,bye.decodeHex)(e);if(r.length===R5.UNCOMPRESSED_PUBLIC_KEY_SIZE-1){var i=L.Buffer.from([4]),n=L.Buffer.concat([i,r]);return new t(n)}return new t(r)},t.prototype.toHex=function(e){return e===void 0&&(e=!0),e?this.compressed.toString("hex"):this.uncompressed.toString("hex")},t.prototype.decapsulate=function(e){var r=L.Buffer.concat([this.uncompressed,e.multiply(this)]);return L.Buffer.from((0,gye.hkdf)(vye.sha256,r,void 0,void 0,32))},t.prototype.equals=function(e){return this.uncompressed.equals(e.uncompressed)},t}();P5.default=wye});var f$=Z(ty=>{"use strict";E();var _ye=ty&&ty.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ty,"__esModule",{value:!0});var I5=bw(),Mye=T5(),xye=sw(),a$=_w(),Sye=_ye(k5()),Eye=function(){function t(e){if(this.secret=e||(0,a$.getValidSecret)(),!I5.secp256k1.utils.isValidPrivateKey(this.secret))throw new Error("Invalid private key");this.publicKey=new Sye.default(L.Buffer.from(I5.secp256k1.getPublicKey(this.secret)))}return t.fromHex=function(e){return new t((0,a$.decodeHex)(e))},t.prototype.toHex=function(){return this.secret.toString("hex")},t.prototype.encapsulate=function(e){var r=L.Buffer.concat([this.publicKey.uncompressed,this.multiply(e)]);return L.Buffer.from((0,Mye.hkdf)(xye.sha256,r,void 0,void 0,32))},t.prototype.multiply=function(e){return L.Buffer.from(I5.secp256k1.getSharedSecret(this.secret,e.compressed,!1))},t.prototype.equals=function(e){return this.secret.equals(e.secret)},t}();ty.default=Eye});var B5=Z(Gu=>{"use strict";E();var u$=Gu&&Gu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.PublicKey=Gu.PrivateKey=void 0;var Aye=f$();Object.defineProperty(Gu,"PrivateKey",{enumerable:!0,get:function(){return u$(Aye).default}});var Tye=k5();Object.defineProperty(Gu,"PublicKey",{enumerable:!0,get:function(){return u$(Tye).default}})});var h$=Z(as=>{"use strict";E();Object.defineProperty(as,"__esModule",{value:!0});as.utils=as.PublicKey=as.PrivateKey=as.decrypt=as.encrypt=void 0;var l$=Qb(),d0=B5(),Nd=_w();function Rye(t,e){var r=new d0.PrivateKey,i=t instanceof L.Buffer?new d0.PublicKey(t):d0.PublicKey.fromHex(t),n=r.encapsulate(i),s=(0,Nd.aesEncrypt)(n,e);return L.Buffer.concat([r.publicKey.uncompressed,s])}as.encrypt=Rye;function Pye(t,e){var r=t instanceof L.Buffer?new d0.PrivateKey(t):d0.PrivateKey.fromHex(t),i=new d0.PublicKey(e.subarray(0,l$.UNCOMPRESSED_PUBLIC_KEY_SIZE)),n=e.subarray(l$.UNCOMPRESSED_PUBLIC_KEY_SIZE),s=i.decapsulate(r);return(0,Nd.aesDecrypt)(s,n)}as.decrypt=Pye;var d$=B5();Object.defineProperty(as,"PrivateKey",{enumerable:!0,get:function(){return d$.PrivateKey}});Object.defineProperty(as,"PublicKey",{enumerable:!0,get:function(){return d$.PublicKey}});as.utils={aesDecrypt:Nd.aesDecrypt,aesEncrypt:Nd.aesEncrypt,decodeHex:Nd.decodeHex,getValidSecret:Nd.getValidSecret,remove0x:Nd.remove0x}});E();E();var c0=class{async isTenant(e){return!0}};E();var n2={};Ni(n2,{code:()=>wy,decode:()=>dH,encode:()=>lH,name:()=>uH});E();E();E();E();var Q$=["string","number","bigint","symbol"],eW=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function sS(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(Q$.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(tW(t))return"Buffer";let r=rW(t);return r||"Object"}function tW(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function rW(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(eW.includes(e))return e}E();var De=class{constructor(e,r,i){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};De.uint=new De(0,"uint",!0);De.negint=new De(1,"negint",!0);De.bytes=new De(2,"bytes",!0);De.string=new De(3,"string",!0);De.array=new De(4,"array",!1);De.map=new De(5,"map",!1);De.tag=new De(6,"tag",!1);De.float=new De(7,"float",!0);De.false=new De(7,"false",!0);De.true=new De(7,"true",!0);De.null=new De(7,"null",!0);De.undefined=new De(7,"undefined",!0);De.break=new De(7,"break",!0);var $e=class{constructor(e,r,i){this.type=e,this.value=r,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};E();E();var Fd=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",iW=new TextDecoder,nW=new TextEncoder;function ly(t){return Fd&&globalThis.Buffer.isBuffer(t)}function Uw(t){return t instanceof Uint8Array?ly(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var lS=Fd?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):fS(t,e,r):(t,e,r)=>r-e>64?iW.decode(t.subarray(e,r)):fS(t,e,r),dS=Fd?t=>t.length>64?globalThis.Buffer.from(t):aS(t):t=>t.length>64?nW.encode(t):aS(t),Ws=t=>Uint8Array.from(t),$d=Fd?(t,e,r)=>ly(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),hS=Fd?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Uw(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),i=0;for(let n of t)i+n.length>r.length&&(n=n.subarray(0,r.length-i)),r.set(n,i),i+=n.length;return r},cS=Fd?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function pS(t,e){if(ly(t)&&ly(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function aS(t,e=1/0){let r,i=t.length,n=null,s=[];for(let f=0;f<i;++f){if(r=t.charCodeAt(f),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(f+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function fS(t,e,r){let i=[];for(;e<r;){let n=t[e],s=null,f=n>239?4:n>223?3:n>191?2:1;if(e+f<=r){let c,m,w,_;switch(f){case 1:n<128&&(s=n);break;case 2:c=t[e+1],(c&192)===128&&(_=(n&31)<<6|c&63,_>127&&(s=_));break;case 3:c=t[e+1],m=t[e+2],(c&192)===128&&(m&192)===128&&(_=(n&15)<<12|(c&63)<<6|m&63,_>2047&&(_<55296||_>57343)&&(s=_));break;case 4:c=t[e+1],m=t[e+2],w=t[e+3],(c&192)===128&&(m&192)===128&&(w&192)===128&&(_=(n&15)<<18|(c&63)<<12|(m&63)<<6|w&63,_>65535&&_<1114112&&(s=_))}}s===null?(s=65533,f=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),e+=f}return oW(i)}var uS=4096;function oW(t){let e=t.length;if(e<=uS)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=uS));return r}var sW=256,p0=class{constructor(e=sW){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let n=r.length-(this.maxCursor-this.cursor)-1;r.set(e,n)}else{if(r){let n=r.length-(this.maxCursor-this.cursor)-1;n<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=cS(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let i=this.chunks[0];e&&this.cursor>i.length/2?(r=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=$d(i,0,this.cursor)}else r=hS(this.chunks,this.cursor);return e&&this.reset(),r}};E();var lt="CBOR decode error:",Fw="CBOR encode error:",m0=[];m0[23]=1;m0[24]=2;m0[25]=3;m0[26]=5;m0[27]=9;function $a(t,e,r){if(t.length-e<r)throw new Error(`${lt} not enough data for type`)}E();E();var zi=[24,256,65536,4294967296,BigInt("18446744073709551616")];function so(t,e,r){$a(t,e,1);let i=t[e];if(r.strict===!0&&i<zi[0])throw new Error(`${lt} integer encoded in more bytes than necessary (strict decode)`);return i}function ao(t,e,r){$a(t,e,2);let i=t[e]<<8|t[e+1];if(r.strict===!0&&i<zi[1])throw new Error(`${lt} integer encoded in more bytes than necessary (strict decode)`);return i}function fo(t,e,r){$a(t,e,4);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&i<zi[2])throw new Error(`${lt} integer encoded in more bytes than necessary (strict decode)`);return i}function uo(t,e,r){$a(t,e,8);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],n=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(i)<<BigInt(32))+BigInt(n);if(r.strict===!0&&s<zi[3])throw new Error(`${lt} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${lt} integers outside of the safe integer range are not supported`)}function mS(t,e,r,i){return new $e(De.uint,so(t,e+1,i),2)}function yS(t,e,r,i){return new $e(De.uint,ao(t,e+1,i),3)}function gS(t,e,r,i){return new $e(De.uint,fo(t,e+1,i),5)}function vS(t,e,r,i){return new $e(De.uint,uo(t,e+1,i),9)}function Po(t,e){return en(t,0,e.value)}function en(t,e,r){if(r<zi[0]){let i=Number(r);t.push([e|i])}else if(r<zi[1]){let i=Number(r);t.push([e|24,i])}else if(r<zi[2]){let i=Number(r);t.push([e|25,i>>>8,i&255])}else if(r<zi[3]){let i=Number(r);t.push([e|26,i>>>24&255,i>>>16&255,i>>>8&255,i&255])}else{let i=BigInt(r);if(i<zi[4]){let n=[e|27,0,0,0,0,0,0,0],s=Number(i&BigInt(4294967295)),f=Number(i>>BigInt(32)&BigInt(4294967295));n[8]=s&255,s=s>>8,n[7]=s&255,s=s>>8,n[6]=s&255,s=s>>8,n[5]=s&255,n[4]=f&255,f=f>>8,n[3]=f&255,f=f>>8,n[2]=f&255,f=f>>8,n[1]=f&255,t.push(n)}else throw new Error(`${lt} encountered BigInt larger than allowable range`)}}Po.encodedSize=function(e){return en.encodedSize(e.value)};en.encodedSize=function(e){return e<zi[0]?1:e<zi[1]?2:e<zi[2]?3:e<zi[3]?5:9};Po.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};E();function bS(t,e,r,i){return new $e(De.negint,-1-so(t,e+1,i),2)}function wS(t,e,r,i){return new $e(De.negint,-1-ao(t,e+1,i),3)}function _S(t,e,r,i){return new $e(De.negint,-1-fo(t,e+1,i),5)}var $w=BigInt(-1),MS=BigInt(1);function xS(t,e,r,i){let n=uo(t,e+1,i);if(typeof n!="bigint"){let s=-1-n;if(s>=Number.MIN_SAFE_INTEGER)return new $e(De.negint,s,9)}if(i.allowBigInt!==!0)throw new Error(`${lt} integers outside of the safe integer range are not supported`);return new $e(De.negint,$w-BigInt(n),9)}function dy(t,e){let r=e.value,i=typeof r=="bigint"?r*$w-MS:r*-1-1;en(t,e.type.majorEncoded,i)}dy.encodedSize=function(e){let r=e.value,i=typeof r=="bigint"?r*$w-MS:r*-1-1;return i<zi[0]?1:i<zi[1]?2:i<zi[2]?3:i<zi[3]?5:9};dy.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};E();function y0(t,e,r,i){$a(t,e,r+i);let n=$d(t,e+r,e+r+i);return new $e(De.bytes,n,r+i)}function SS(t,e,r,i){return y0(t,e,1,r)}function ES(t,e,r,i){return y0(t,e,2,so(t,e+1,i))}function AS(t,e,r,i){return y0(t,e,3,ao(t,e+1,i))}function TS(t,e,r,i){return y0(t,e,5,fo(t,e+1,i))}function RS(t,e,r,i){let n=uo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${lt} 64-bit integer bytes lengths not supported`);return y0(t,e,9,n)}function hy(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===De.string?dS(t.value):t.value),t.encodedBytes}function Wd(t,e){let r=hy(e);en(t,e.type.majorEncoded,r.length),t.push(r)}Wd.encodedSize=function(e){let r=hy(e);return en.encodedSize(r.length)+r.length};Wd.compareTokens=function(e,r){return fW(hy(e),hy(r))};function fW(t,e){return t.length<e.length?-1:t.length>e.length?1:pS(t,e)}E();function g0(t,e,r,i,n){let s=r+i;$a(t,e,s);let f=new $e(De.string,lS(t,e+r,e+s),s);return n.retainStringBytes===!0&&(f.byteValue=$d(t,e+r,e+s)),f}function PS(t,e,r,i){return g0(t,e,1,r,i)}function kS(t,e,r,i){return g0(t,e,2,so(t,e+1,i),i)}function IS(t,e,r,i){return g0(t,e,3,ao(t,e+1,i),i)}function BS(t,e,r,i){return g0(t,e,5,fo(t,e+1,i),i)}function DS(t,e,r,i){let n=uo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${lt} 64-bit integer string lengths not supported`);return g0(t,e,9,n,i)}var CS=Wd;E();function Hd(t,e,r,i){return new $e(De.array,i,r)}function OS(t,e,r,i){return Hd(t,e,1,r)}function qS(t,e,r,i){return Hd(t,e,2,so(t,e+1,i))}function jS(t,e,r,i){return Hd(t,e,3,ao(t,e+1,i))}function NS(t,e,r,i){return Hd(t,e,5,fo(t,e+1,i))}function LS(t,e,r,i){let n=uo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${lt} 64-bit integer array lengths not supported`);return Hd(t,e,9,n)}function zS(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${lt} indefinite length items not allowed`);return Hd(t,e,1,1/0)}function cy(t,e){en(t,De.array.majorEncoded,e.value)}cy.compareTokens=Po.compareTokens;cy.encodedSize=function(e){return en.encodedSize(e.value)};E();function Gd(t,e,r,i){return new $e(De.map,i,r)}function US(t,e,r,i){return Gd(t,e,1,r)}function FS(t,e,r,i){return Gd(t,e,2,so(t,e+1,i))}function $S(t,e,r,i){return Gd(t,e,3,ao(t,e+1,i))}function WS(t,e,r,i){return Gd(t,e,5,fo(t,e+1,i))}function HS(t,e,r,i){let n=uo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${lt} 64-bit integer map lengths not supported`);return Gd(t,e,9,n)}function GS(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${lt} indefinite length items not allowed`);return Gd(t,e,1,1/0)}function py(t,e){en(t,De.map.majorEncoded,e.value)}py.compareTokens=Po.compareTokens;py.encodedSize=function(e){return en.encodedSize(e.value)};E();function KS(t,e,r,i){return new $e(De.tag,r,1)}function ZS(t,e,r,i){return new $e(De.tag,so(t,e+1,i),2)}function VS(t,e,r,i){return new $e(De.tag,ao(t,e+1,i),3)}function YS(t,e,r,i){return new $e(De.tag,fo(t,e+1,i),5)}function JS(t,e,r,i){return new $e(De.tag,uo(t,e+1,i),9)}function my(t,e){en(t,De.tag.majorEncoded,e.value)}my.compareTokens=Po.compareTokens;my.encodedSize=function(e){return en.encodedSize(e.value)};E();var pW=20,mW=21,yW=22,gW=23;function XS(t,e,r,i){if(i.allowUndefined===!1)throw new Error(`${lt} undefined values are not supported`);return i.coerceUndefinedToNull===!0?new $e(De.null,null,1):new $e(De.undefined,void 0,1)}function QS(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${lt} indefinite length items not allowed`);return new $e(De.break,void 0,1)}function Ww(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${lt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${lt} Infinity values are not supported`)}return new $e(De.float,t,e)}function eE(t,e,r,i){return Ww(Hw(t,e+1),3,i)}function tE(t,e,r,i){return Ww(Gw(t,e+1),5,i)}function rE(t,e,r,i){return Ww(sE(t,e+1),9,i)}function yy(t,e,r){let i=e.value;if(i===!1)t.push([De.float.majorEncoded|pW]);else if(i===!0)t.push([De.float.majorEncoded|mW]);else if(i===null)t.push([De.float.majorEncoded|yW]);else if(i===void 0)t.push([De.float.majorEncoded|gW]);else{let n,s=!1;(!r||r.float64!==!0)&&(nE(i),n=Hw(fs,1),i===n||Number.isNaN(i)?(fs[0]=249,t.push(fs.slice(0,3)),s=!0):(oE(i),n=Gw(fs,1),i===n&&(fs[0]=250,t.push(fs.slice(0,5)),s=!0))),s||(vW(i),n=sE(fs,1),fs[0]=251,t.push(fs.slice(0,9)))}}yy.encodedSize=function(e,r){let i=e.value;if(i===!1||i===!0||i===null||i===void 0)return 1;if(!r||r.float64!==!0){nE(i);let n=Hw(fs,1);if(i===n||Number.isNaN(i))return 3;if(oE(i),n=Gw(fs,1),i===n)return 5}return 9};var iE=new ArrayBuffer(9),ko=new DataView(iE,1),fs=new Uint8Array(iE,0);function nE(t){if(t===1/0)ko.setUint16(0,31744,!1);else if(t===-1/0)ko.setUint16(0,64512,!1);else if(Number.isNaN(t))ko.setUint16(0,32256,!1);else{ko.setFloat32(0,t);let e=ko.getUint32(0),r=(e&2139095040)>>23,i=e&8388607;if(r===255)ko.setUint16(0,31744,!1);else if(r===0)ko.setUint16(0,(t&2147483648)>>16|i>>13,!1);else{let n=r-127;n<-24?ko.setUint16(0,0):n<-14?ko.setUint16(0,(e&2147483648)>>16|1<<24+n,!1):ko.setUint16(0,(e&2147483648)>>16|n+15<<10|i>>13,!1)}}}function Hw(t,e){if(t.length-e<2)throw new Error(`${lt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let i=r>>10&31,n=r&1023,s;return i===0?s=n*2**-24:i!==31?s=(n+1024)*2**(i-25):s=n===0?1/0:NaN,r&32768?-s:s}function oE(t){ko.setFloat32(0,t,!1)}function Gw(t,e){if(t.length-e<4)throw new Error(`${lt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function vW(t){ko.setFloat64(0,t,!1)}function sE(t,e){if(t.length-e<8)throw new Error(`${lt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}yy.compareTokens=Po.compareTokens;function Ft(t,e,r){throw new Error(`${lt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function gy(t){return()=>{throw new Error(`${lt} ${t}`)}}var Le=[];for(let t=0;t<=23;t++)Le[t]=Ft;Le[24]=mS;Le[25]=yS;Le[26]=gS;Le[27]=vS;Le[28]=Ft;Le[29]=Ft;Le[30]=Ft;Le[31]=Ft;for(let t=32;t<=55;t++)Le[t]=Ft;Le[56]=bS;Le[57]=wS;Le[58]=_S;Le[59]=xS;Le[60]=Ft;Le[61]=Ft;Le[62]=Ft;Le[63]=Ft;for(let t=64;t<=87;t++)Le[t]=SS;Le[88]=ES;Le[89]=AS;Le[90]=TS;Le[91]=RS;Le[92]=Ft;Le[93]=Ft;Le[94]=Ft;Le[95]=gy("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)Le[t]=PS;Le[120]=kS;Le[121]=IS;Le[122]=BS;Le[123]=DS;Le[124]=Ft;Le[125]=Ft;Le[126]=Ft;Le[127]=gy("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)Le[t]=OS;Le[152]=qS;Le[153]=jS;Le[154]=NS;Le[155]=LS;Le[156]=Ft;Le[157]=Ft;Le[158]=Ft;Le[159]=zS;for(let t=160;t<=183;t++)Le[t]=US;Le[184]=FS;Le[185]=$S;Le[186]=WS;Le[187]=HS;Le[188]=Ft;Le[189]=Ft;Le[190]=Ft;Le[191]=GS;for(let t=192;t<=215;t++)Le[t]=KS;Le[216]=ZS;Le[217]=VS;Le[218]=YS;Le[219]=JS;Le[220]=Ft;Le[221]=Ft;Le[222]=Ft;Le[223]=Ft;for(let t=224;t<=243;t++)Le[t]=gy("simple values are not supported");Le[244]=Ft;Le[245]=Ft;Le[246]=Ft;Le[247]=XS;Le[248]=gy("simple values are not supported");Le[249]=eE;Le[250]=tE;Le[251]=rE;Le[252]=Ft;Le[253]=Ft;Le[254]=Ft;Le[255]=QS;var us=[];for(let t=0;t<24;t++)us[t]=new $e(De.uint,t,1);for(let t=-1;t>=-24;t--)us[31-t]=new $e(De.negint,t,1);us[64]=new $e(De.bytes,new Uint8Array(0),1);us[96]=new $e(De.string,"",1);us[128]=new $e(De.array,0,1);us[160]=new $e(De.map,0,1);us[244]=new $e(De.false,!1,1);us[245]=new $e(De.true,!0,1);us[246]=new $e(De.null,null,1);function aE(t){switch(t.type){case De.false:return Ws([244]);case De.true:return Ws([245]);case De.null:return Ws([246]);case De.bytes:return t.value.length?void 0:Ws([64]);case De.string:return t.value===""?Ws([96]):void 0;case De.array:return t.value===0?Ws([128]):void 0;case De.map:return t.value===0?Ws([160]):void 0;case De.uint:return t.value<24?Ws([Number(t.value)]):void 0;case De.negint:if(t.value>=-24)return Ws([31-Number(t.value)])}}var wW={float64:!1,mapSorter:xW,quickEncodeToken:aE};function _W(){let t=[];return t[De.uint.major]=Po,t[De.negint.major]=dy,t[De.bytes.major]=Wd,t[De.string.major]=CS,t[De.array.major]=cy,t[De.map.major]=py,t[De.tag.major]=my,t[De.float.major]=yy,t}var fE=_W(),Kw=new p0,Kd=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${Fw} object contains circular references`);return new Kd(r,e)}},Nf={null:new $e(De.null,null),undefined:new $e(De.undefined,void 0),true:new $e(De.true,!0),false:new $e(De.false,!1),emptyArray:new $e(De.array,0),emptyMap:new $e(De.map,0)},Lf={number(t,e,r,i){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new $e(De.float,t):t>=0?new $e(De.uint,t):new $e(De.negint,t)},bigint(t,e,r,i){return t>=BigInt(0)?new $e(De.uint,t):new $e(De.negint,t)},Uint8Array(t,e,r,i){return new $e(De.bytes,t)},string(t,e,r,i){return new $e(De.string,t)},boolean(t,e,r,i){return t?Nf.true:Nf.false},null(t,e,r,i){return Nf.null},undefined(t,e,r,i){return Nf.undefined},ArrayBuffer(t,e,r,i){return new $e(De.bytes,new Uint8Array(t))},DataView(t,e,r,i){return new $e(De.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,i){if(!t.length)return r.addBreakTokens===!0?[Nf.emptyArray,new $e(De.break)]:Nf.emptyArray;i=Kd.createCheck(i,t);let n=[],s=0;for(let f of t)n[s++]=vy(f,r,i);return r.addBreakTokens?[new $e(De.array,t.length),n,new $e(De.break)]:[new $e(De.array,t.length),n]},Object(t,e,r,i){let n=e!=="Object",s=n?t.keys():Object.keys(t),f=n?t.size:s.length;if(!f)return r.addBreakTokens===!0?[Nf.emptyMap,new $e(De.break)]:Nf.emptyMap;i=Kd.createCheck(i,t);let c=[],m=0;for(let w of s)c[m++]=[vy(w,r,i),vy(n?t.get(w):t[w],r,i)];return MW(c,r),r.addBreakTokens?[new $e(De.map,f),c,new $e(De.break)]:[new $e(De.map,f),c]}};Lf.Map=Lf.Object;Lf.Buffer=Lf.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Lf[`${t}Array`]=Lf.DataView;function vy(t,e={},r){let i=sS(t),n=e&&e.typeEncoders&&e.typeEncoders[i]||Lf[i];if(typeof n=="function"){let f=n(t,i,e,r);if(f!=null)return f}let s=Lf[i];if(!s)throw new Error(`${Fw} unsupported type: ${i}`);return s(t,i,e,r)}function MW(t,e){e.mapSorter&&t.sort(e.mapSorter)}function xW(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],i=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==i.type)return r.type.compare(i.type);let n=r.type.major,s=fE[n].compareTokens(r,i);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function uE(t,e,r,i){if(Array.isArray(e))for(let n of e)uE(t,n,r,i);else r[e.type.major](t,e,i)}function SW(t,e,r){let i=vy(t,r);if(!Array.isArray(i)&&r.quickEncodeToken){let n=r.quickEncodeToken(i);if(n)return n;let s=e[i.type.major];if(s.encodedSize){let f=s.encodedSize(i,r),c=new p0(f);if(s(c,i,r),c.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return Uw(c.chunks[0])}}return Kw.reset(),uE(Kw,i,e,r),Kw.toBytes(!0)}function Zw(t,e){return e=Object.assign({},wW,e),SW(t,fE,e)}E();var EW={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Vw=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=us[e];if(r===void 0){let i=Le[e];if(!i)throw new Error(`${lt} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;r=i(this.data,this.pos,n,this.options)}return this.pos+=r.encodedLength,r}},v0=Symbol.for("DONE"),by=Symbol.for("BREAK");function AW(t,e,r){let i=[];for(let n=0;n<t.value;n++){let s=b0(e,r);if(s===by){if(t.value===1/0)break;throw new Error(`${lt} got unexpected break to lengthed array`)}if(s===v0)throw new Error(`${lt} found array but not enough entries (got ${n}, expected ${t.value})`);i[n]=s}return i}function TW(t,e,r){let i=r.useMaps===!0,n=i?void 0:{},s=i?new Map:void 0;for(let f=0;f<t.value;f++){let c=b0(e,r);if(c===by){if(t.value===1/0)break;throw new Error(`${lt} got unexpected break to lengthed map`)}if(c===v0)throw new Error(`${lt} found map but not enough entries (got ${f} [no key], expected ${t.value})`);if(i!==!0&&typeof c!="string")throw new Error(`${lt} non-string keys not supported (got ${typeof c})`);if(r.rejectDuplicateMapKeys===!0&&(i&&s.has(c)||!i&&c in n))throw new Error(`${lt} found repeat map key "${c}"`);let m=b0(e,r);if(m===v0)throw new Error(`${lt} found map but not enough entries (got ${f} [no value], expected ${t.value})`);i?s.set(c,m):n[c]=m}return i?s:n}function b0(t,e){if(t.done())return v0;let r=t.next();if(r.type===De.break)return by;if(r.type.terminal)return r.value;if(r.type===De.array)return AW(r,t,e);if(r.type===De.map)return TW(r,t,e);if(r.type===De.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let i=b0(t,e);return e.tags[r.value](i)}throw new Error(`${lt} tag not supported (${r.value})`)}throw new Error("unsupported")}function Yw(t,e){if(!(t instanceof Uint8Array))throw new Error(`${lt} data to decode must be a Uint8Array`);e=Object.assign({},EW,e);let r=e.tokenizer||new Vw(t,e),i=b0(r,e);if(i===v0)throw new Error(`${lt} did not find any content to decode`);if(i===by)throw new Error(`${lt} got unexpected break`);if(!r.done())throw new Error(`${lt} too many terminals, data makes no sense`);return i}E();E();E();var PW=hE,lE=128,kW=127,IW=~kW,BW=Math.pow(2,31);function hE(t,e,r){e=e||[],r=r||0;for(var i=r;t>=BW;)e[r++]=t&255|lE,t/=128;for(;t&IW;)e[r++]=t&255|lE,t>>>=7;return e[r]=t|0,hE.bytes=r-i+1,e}var DW=Jw,CW=128,dE=127;function Jw(t,i){var r=0,i=i||0,n=0,s=i,f,c=t.length;do{if(s>=c)throw Jw.bytes=0,new RangeError("Could not decode varint");f=t[s++],r+=n<28?(f&dE)<<n:(f&dE)*Math.pow(2,n),n+=7}while(f>=CW);return Jw.bytes=s-i,r}var OW=Math.pow(2,7),qW=Math.pow(2,14),jW=Math.pow(2,21),NW=Math.pow(2,28),LW=Math.pow(2,35),zW=Math.pow(2,42),UW=Math.pow(2,49),FW=Math.pow(2,56),$W=Math.pow(2,63),WW=function(t){return t<OW?1:t<qW?2:t<jW?3:t<NW?4:t<LW?5:t<zW?6:t<UW?7:t<FW?8:t<$W?9:10},HW={encode:PW,decode:DW,encodingLength:WW},GW=HW,w0=GW;var _0=(t,e=0)=>[w0.decode(t,e),w0.decode.bytes],Zd=(t,e,r=0)=>(w0.encode(t,e,r),e),Vd=t=>w0.encodingLength(t);E();E();var dve=new Uint8Array(0);var pE=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Yd=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var mE=(t,e)=>{let r=e.byteLength,i=Vd(t),n=i+Vd(r),s=new Uint8Array(n+r);return Zd(t,s,0),Zd(r,s,i),s.set(e,n),new Jd(t,r,e,s)},yE=t=>{let e=Yd(t),[r,i]=_0(e),[n,s]=_0(e.subarray(i)),f=e.subarray(i+s);if(f.byteLength!==n)throw new Error("Incorrect length");return new Jd(r,n,f,e)},gE=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&pE(t.bytes,r.bytes)}},Jd=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};E();E();E();function ZW(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),f=s.charCodeAt(0);if(r[f]!==255)throw new TypeError(s+" is ambiguous");r[f]=n}var c=t.length,m=t.charAt(0),w=Math.log(c)/Math.log(256),_=Math.log(256)/Math.log(c);function M(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var I=0,D=0,k=0,C=A.length;k!==C&&A[k]===0;)k++,I++;for(var O=(C-k)*_+1>>>0,U=new Uint8Array(O);k!==C;){for(var $=A[k],W=0,F=O-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%c>>>0,$=$/c>>>0;if($!==0)throw new Error("Non-zero carry");D=W,k++}for(var N=O-D;N!==O&&U[N]===0;)N++;for(var V=m.repeat(I);N<O;++N)V+=t.charAt(U[N]);return V}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var I=0;if(A[I]!==" "){for(var D=0,k=0;A[I]===m;)D++,I++;for(var C=(A.length-I)*w+1>>>0,O=new Uint8Array(C);A[I];){var U=r[A.charCodeAt(I)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<k)&&W!==-1;W--,$++)U+=c*O[W]>>>0,O[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");k=$,I++}if(A[I]!==" "){for(var F=C-k;F!==C&&O[F]===0;)F++;for(var N=new Uint8Array(D+(C-F)),V=D;F!==C;)N[V++]=O[F++];return N}}}function T(A){var I=x(A);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:M,decodeUnsafe:x,decode:T}}var VW=ZW,YW=VW,vE=YW;E();var Xw=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Qw=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return bE(this,e)}},e2=class{constructor(e){this.decoders=e}or(e){return bE(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},bE=(t,e)=>new e2({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),t2=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new Xw(e,r,i),this.decoder=new Qw(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},wE=({name:t,prefix:e,encode:r,decode:i})=>new t2(t,e,r,i),r2=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=vE(r,e);return wE({prefix:t,name:e,encode:i,decode:s=>Yd(n(s))})},JW=(t,e,r,i)=>{let n={};for(let _=0;_<e.length;++_)n[e[_]]=_;let s=t.length;for(;t[s-1]==="=";)--s;let f=new Uint8Array(s*r/8|0),c=0,m=0,w=0;for(let _=0;_<s;++_){let M=n[t[_]];if(M===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|M,c+=r,c>=8&&(c-=8,f[w++]=255&m>>c)}if(c>=r||255&m<<8-c)throw new SyntaxError("Unexpected end of data");return f},XW=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",f=0,c=0;for(let m=0;m<t.length;++m)for(c=c<<8|t[m],f+=8;f>r;)f-=r,s+=e[n&c>>f];if(f&&(s+=e[n&c<<r-f]),i)for(;s.length*r&7;)s+="=";return s},Hs=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>wE({prefix:e,name:t,encode(n){return XW(n,i,r)},decode(n){return JW(n,i,r,t)}});var Wa=r2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Eve=r2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});E();var M0=Hs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pve=Hs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kve=Hs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ive=Hs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Bve=Hs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Dve=Hs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cve=Hs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ove=Hs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qve=Hs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});E();var _E=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return eH(r,i2(t),e||Wa.encoder);default:return tH(r,i2(t),e||M0.encoder)}};var ME=new WeakMap,i2=t=>{let e=ME.get(t);if(e==null){let r=new Map;return ME.set(t,r),r}return e},ei=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==x0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==rH)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ei.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=mE(e,r);return ei.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return ei.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&gE(e.multihash,i.multihash)}toString(e){return _E(this,e)}toJSON(){return{"/":_E(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof ei)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:s,bytes:f}=r;return new ei(i,n,s,f||xE(i,n,s.bytes))}else if(r[iH]===!0){let{version:i,multihash:n,code:s}=r,f=yE(n);return ei.create(i,s,f)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==x0)throw new Error(`Version 0 CID must use dag-pb (code: ${x0}) block encoding`);return new ei(e,r,i,i.bytes)}case 1:{let n=xE(e,r,i.bytes);return new ei(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return ei.create(0,x0,e)}static createV1(e,r){return ei.create(1,e,r)}static decode(e){let[r,i]=ei.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=ei.inspectBytes(e),i=r.size-r.multihashSize,n=Yd(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),f=new Jd(r.multihashCode,r.digestSize,s,n);return[r.version===0?ei.createV0(f):ei.createV1(r.codec,f),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[M,x]=_0(e.subarray(r));return r+=x,M},n=i(),s=x0;if(n===18?(n=0,r=0):s=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let f=r,c=i(),m=i(),w=r+m,_=w-f;return{version:n,codec:s,multihashCode:c,digestSize:m,multihashSize:_,size:w}}static parse(e,r){let[i,n]=QW(e,r),s=ei.decode(n);if(s.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return i2(s).set(i,e),s}},QW=(t,e)=>{switch(t[0]){case"Q":{let r=e||Wa;return[Wa.prefix,r.decode(`${Wa.prefix}${t}`)]}case Wa.prefix:{let r=e||Wa;return[Wa.prefix,r.decode(t)]}case M0.prefix:{let r=e||M0;return[M0.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},eH=(t,e,r)=>{let{prefix:i}=r;if(i!==Wa.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},tH=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},x0=112,rH=18,xE=(t,e,r)=>{let i=Vd(t),n=i+Vd(e),s=new Uint8Array(n+r.byteLength);return Zd(t,s,0),Zd(e,s,i),s.set(r,n),s},iH=Symbol.for("@ipld/js-cid/CID");var SE=42;function nH(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=ei.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new $e(De.tag,SE),new $e(De.bytes,r)]}function oH(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function sH(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var aH={float64:!0,typeEncoders:{Object:nH,undefined:oH,number:sH}};function fH(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ei.decode(t.subarray(1))}var EE={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};EE.tags[SE]=fH;var uH="dag-cbor",wy=113,lH=t=>Zw(t,aH),dH=t=>Yw(t,EE);E();E();E();var hH=RE,AE=128,cH=127,pH=~cH,mH=Math.pow(2,31);function RE(t,e,r){e=e||[],r=r||0;for(var i=r;t>=mH;)e[r++]=t&255|AE,t/=128;for(;t&pH;)e[r++]=t&255|AE,t>>>=7;return e[r]=t|0,RE.bytes=r-i+1,e}var yH=o2,gH=128,TE=127;function o2(t,i){var r=0,i=i||0,n=0,s=i,f,c=t.length;do{if(s>=c)throw o2.bytes=0,new RangeError("Could not decode varint");f=t[s++],r+=n<28?(f&TE)<<n:(f&TE)*Math.pow(2,n),n+=7}while(f>=gH);return o2.bytes=s-i,r}var vH=Math.pow(2,7),bH=Math.pow(2,14),wH=Math.pow(2,21),_H=Math.pow(2,28),MH=Math.pow(2,35),xH=Math.pow(2,42),SH=Math.pow(2,49),EH=Math.pow(2,56),AH=Math.pow(2,63),TH=function(t){return t<vH?1:t<bH?2:t<wH?3:t<_H?4:t<MH?5:t<xH?6:t<SH?7:t<EH?8:t<AH?9:10},RH={encode:hH,decode:yH,encodingLength:TH},PH=RH,S0=PH;var E0=(t,e=0)=>[S0.decode(t,e),S0.decode.bytes],Xd=(t,e,r=0)=>(S0.encode(t,e,r),e),Qd=t=>S0.encodingLength(t);E();E();var Qve=new Uint8Array(0);var PE=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},ls=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var kE=t=>new TextEncoder().encode(t),IE=t=>new TextDecoder().decode(t);var el=(t,e)=>{let r=e.byteLength,i=Qd(t),n=i+Qd(r),s=new Uint8Array(n+r);return Xd(t,s,0),Xd(r,s,i),s.set(e,n),new eh(t,r,e,s)},My=t=>{let e=ls(t),[r,i]=E0(e),[n,s]=E0(e.subarray(i)),f=e.subarray(i+s);if(f.byteLength!==n)throw new Error("Incorrect length");return new eh(r,n,f,e)},DE=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&PE(t.bytes,r.bytes)}},eh=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var l2={};Ni(l2,{base58btc:()=>lo,base58flickr:()=>OH});E();E();E();function kH(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),f=s.charCodeAt(0);if(r[f]!==255)throw new TypeError(s+" is ambiguous");r[f]=n}var c=t.length,m=t.charAt(0),w=Math.log(c)/Math.log(256),_=Math.log(256)/Math.log(c);function M(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var I=0,D=0,k=0,C=A.length;k!==C&&A[k]===0;)k++,I++;for(var O=(C-k)*_+1>>>0,U=new Uint8Array(O);k!==C;){for(var $=A[k],W=0,F=O-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%c>>>0,$=$/c>>>0;if($!==0)throw new Error("Non-zero carry");D=W,k++}for(var N=O-D;N!==O&&U[N]===0;)N++;for(var V=m.repeat(I);N<O;++N)V+=t.charAt(U[N]);return V}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var I=0;if(A[I]!==" "){for(var D=0,k=0;A[I]===m;)D++,I++;for(var C=(A.length-I)*w+1>>>0,O=new Uint8Array(C);A[I];){var U=r[A.charCodeAt(I)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<k)&&W!==-1;W--,$++)U+=c*O[W]>>>0,O[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");k=$,I++}if(A[I]!==" "){for(var F=C-k;F!==C&&O[F]===0;)F++;for(var N=new Uint8Array(D+(C-F)),V=D;F!==C;)N[V++]=O[F++];return N}}}function T(A){var I=x(A);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:M,decodeUnsafe:x,decode:T}}var IH=kH,BH=IH,CE=BH;E();var s2=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},a2=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return OE(this,e)}},f2=class{constructor(e){this.decoders=e}or(e){return OE(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},OE=(t,e)=>new f2({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),u2=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new s2(e,r,i),this.decoder=new a2(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},rh=({name:t,prefix:e,encode:r,decode:i})=>new u2(t,e,r,i),zf=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=CE(r,e);return rh({prefix:t,name:e,encode:i,decode:s=>ls(n(s))})},DH=(t,e,r,i)=>{let n={};for(let _=0;_<e.length;++_)n[e[_]]=_;let s=t.length;for(;t[s-1]==="=";)--s;let f=new Uint8Array(s*r/8|0),c=0,m=0,w=0;for(let _=0;_<s;++_){let M=n[t[_]];if(M===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|M,c+=r,c>=8&&(c-=8,f[w++]=255&m>>c)}if(c>=r||255&m<<8-c)throw new SyntaxError("Unexpected end of data");return f},CH=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",f=0,c=0;for(let m=0;m<t.length;++m)for(c=c<<8|t[m],f+=8;f>r;)f-=r,s+=e[n&c>>f];if(f&&(s+=e[n&c<<r-f]),i)for(;s.length*r&7;)s+="=";return s},Wr=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>rh({prefix:e,name:t,encode(n){return CH(n,i,r)},decode(n){return DH(n,i,r,t)}});var lo=zf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),OH=zf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var d2={};Ni(d2,{base32:()=>Io,base32hex:()=>LH,base32hexpad:()=>UH,base32hexpadupper:()=>FH,base32hexupper:()=>zH,base32pad:()=>jH,base32padupper:()=>NH,base32upper:()=>qH,base32z:()=>$H});E();var Io=Wr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qH=Wr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jH=Wr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),NH=Wr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),LH=Wr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zH=Wr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),UH=Wr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),FH=Wr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$H=Wr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});E();var qE=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return HH(r,h2(t),e||lo.encoder);default:return GH(r,h2(t),e||Io.encoder)}};var jE=new WeakMap,h2=t=>{let e=jE.get(t);if(e==null){let r=new Map;return jE.set(t,r),r}return e},Ht=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==A0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==KH)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ht.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=el(e,r);return Ht.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Ht.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&DE(e.multihash,i.multihash)}toString(e){return qE(this,e)}toJSON(){return{"/":qE(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof Ht)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:s,bytes:f}=r;return new Ht(i,n,s,f||NE(i,n,s.bytes))}else if(r[ZH]===!0){let{version:i,multihash:n,code:s}=r,f=My(n);return Ht.create(i,s,f)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==A0)throw new Error(`Version 0 CID must use dag-pb (code: ${A0}) block encoding`);return new Ht(e,r,i,i.bytes)}case 1:{let n=NE(e,r,i.bytes);return new Ht(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Ht.create(0,A0,e)}static createV1(e,r){return Ht.create(1,e,r)}static decode(e){let[r,i]=Ht.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Ht.inspectBytes(e),i=r.size-r.multihashSize,n=ls(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),f=new eh(r.multihashCode,r.digestSize,s,n);return[r.version===0?Ht.createV0(f):Ht.createV1(r.codec,f),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[M,x]=E0(e.subarray(r));return r+=x,M},n=i(),s=A0;if(n===18?(n=0,r=0):s=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let f=r,c=i(),m=i(),w=r+m,_=w-f;return{version:n,codec:s,multihashCode:c,digestSize:m,multihashSize:_,size:w}}static parse(e,r){let[i,n]=WH(e,r),s=Ht.decode(n);if(s.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return h2(s).set(i,e),s}},WH=(t,e)=>{switch(t[0]){case"Q":{let r=e||lo;return[lo.prefix,r.decode(`${lo.prefix}${t}`)]}case lo.prefix:{let r=e||lo;return[lo.prefix,r.decode(t)]}case Io.prefix:{let r=e||Io;return[Io.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},HH=(t,e,r)=>{let{prefix:i}=r;if(i!==lo.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},GH=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},A0=112,KH=18,NE=(t,e,r)=>{let i=Qd(t),n=i+Qd(e),s=new Uint8Array(n+r.byteLength);return Xd(t,s,0),Xd(e,s,i),s.set(r,n),s},ZH=Symbol.for("@ipld/js-cid/CID");E();var AZ=Lr(ih(),1);E();E();E();function YH(t){return t[Symbol.asyncIterator]!=null}function JH(t,e=1){return e=Number(e),YH(t)?async function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for await(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}():function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}()}var T0=JH;async function*R0(t,e=1){for await(let r of T0(t,e)){let i=r.map(async n=>n().then(s=>({ok:!0,value:s}),s=>({ok:!1,err:s})));for(let n=0;n<i.length;n++){let s=await i[n];if(s.ok)yield s.value;else throw s.err}}}E();E();E();E();E();function tl(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ha(t=0){return globalThis.Buffer?.alloc!=null?tl(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function rl(t=0){return globalThis.Buffer?.allocUnsafe!=null?tl(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function P0(t,e){e==null&&(e=t.reduce((n,s)=>n+s.length,0));let r=rl(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return tl(r)}E();function UE(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var $E=Symbol.for("@achingbrain/uint8arraylist");function FE(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let i of t){let n=r+i.byteLength;if(e<n)return{buf:i,index:e-r};r=n}throw new RangeError("index is out of bounds")}function xy(t){return Boolean(t?.[$E])}var Gs=class{constructor(...e){Object.defineProperty(this,$E,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let i of e)if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.push(i);else if(xy(i))r+=i.byteLength,this.bufs.push(...i.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let i of e.reverse())if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.unshift(i);else if(xy(i))r+=i.byteLength,this.bufs.unshift(...i.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=FE(this.bufs,e);return r.buf[r.index]}set(e,r){let i=FE(this.bufs,e);i.buf[i.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let i=0;i<e.length;i++)this.set(r+i,e[i]);else if(xy(e))for(let i=0;i<e.length;i++)this.set(r+i,e.get(i));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){let{bufs:i,length:n}=this._subList(e,r);return P0(i,n)}subarray(e,r){let{bufs:i,length:n}=this._subList(e,r);return i.length===1?i[0]:P0(i,n)}sublist(e,r){let{bufs:i,length:n}=this._subList(e,r),s=new Gs;return s.length=n,s.bufs=i,s}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let i=[],n=0;for(let s=0;s<this.bufs.length;s++){let f=this.bufs[s],c=n,m=c+f.byteLength;if(n=m,e>=m)continue;let w=e>=c&&e<m,_=r>c&&r<=m;if(w&&_){if(e===c&&r===m){i.push(f);break}let M=e-c;i.push(f.subarray(M,M+(r-e)));break}if(w){if(e===0){i.push(f);continue}i.push(f.subarray(e-c));continue}if(_){if(r===m){i.push(f);break}i.push(f.subarray(0,r-c));break}i.push(f)}return{bufs:i,length:r-e}}indexOf(e,r=0){if(!xy(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let i=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let n=i.byteLength;if(n===0)throw new TypeError("search must be at least 1 byte long");let s=256,f=new Int32Array(s);for(let M=0;M<s;M++)f[M]=-1;for(let M=0;M<n;M++)f[i[M]]=M;let c=f,m=this.byteLength-i.byteLength,w=i.byteLength-1,_;for(let M=r;M<=m;M+=_){_=0;for(let x=w;x>=0;x--){let T=this.get(M+x);if(i[x]!==T){_=Math.max(1,x-c[T]);break}}if(_===0)return M}return-1}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let i=rl(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,r),this.write(i,e)}getInt16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,r)}setInt16(e,r,i){let n=Ha(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,r,i),this.write(n,e)}getInt32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,r)}setInt32(e,r,i){let n=Ha(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,r,i),this.write(n,e)}getBigInt64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,r)}setBigInt64(e,r,i){let n=Ha(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,r,i),this.write(n,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let i=rl(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,r),this.write(i,e)}getUint16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,r)}setUint16(e,r,i){let n=Ha(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,r,i),this.write(n,e)}getUint32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,r)}setUint32(e,r,i){let n=Ha(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,r,i),this.write(n,e)}getBigUint64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,r)}setBigUint64(e,r,i){let n=Ha(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,r,i),this.write(n,e)}getFloat32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,r)}setFloat32(e,r,i){let n=Ha(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,r,i),this.write(n,e)}getFloat64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,r)}setFloat64(e,r,i){let n=Ha(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,r,i),this.write(n,e)}equals(e){if(e==null||!(e instanceof Gs)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!UE(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let i=new Gs;return i.bufs=e,r==null&&(r=e.reduce((n,s)=>n+s.byteLength,0)),i.length=r,i}};var XH=262144,WE=(t={})=>{let e=t.chunkSize??XH;return async function*(i){let n=new Gs,s=0,f=!1;for await(let c of i)for(n.append(c),s+=c.length;s>=e;)if(yield n.slice(0,e),f=!0,e===n.length)n=new Gs,s=0;else{let m=new Gs;m.append(n.sublist(e)),n=m,s-=e}(!f||s>0)&&(yield n.subarray(0,s))}};E();var O0={};Ni(O0,{code:()=>LG,createLink:()=>p7,createNode:()=>c7,decode:()=>zG,encode:()=>co,name:()=>NG,prepare:()=>ho,validate:()=>M2});E();E();E();E();var QH=KE,HE=128,eG=127,tG=~eG,rG=Math.pow(2,31);function KE(t,e,r){e=e||[],r=r||0;for(var i=r;t>=rG;)e[r++]=t&255|HE,t/=128;for(;t&tG;)e[r++]=t&255|HE,t>>>=7;return e[r]=t|0,KE.bytes=r-i+1,e}var iG=c2,nG=128,GE=127;function c2(t,i){var r=0,i=i||0,n=0,s=i,f,c=t.length;do{if(s>=c)throw c2.bytes=0,new RangeError("Could not decode varint");f=t[s++],r+=n<28?(f&GE)<<n:(f&GE)*Math.pow(2,n),n+=7}while(f>=nG);return c2.bytes=s-i,r}var oG=Math.pow(2,7),sG=Math.pow(2,14),aG=Math.pow(2,21),fG=Math.pow(2,28),uG=Math.pow(2,35),lG=Math.pow(2,42),dG=Math.pow(2,49),hG=Math.pow(2,56),cG=Math.pow(2,63),pG=function(t){return t<oG?1:t<sG?2:t<aG?3:t<fG?4:t<uG?5:t<lG?6:t<dG?7:t<hG?8:t<cG?9:10},mG={encode:QH,decode:iG,encodingLength:pG},yG=mG,k0=yG;var I0=(t,e=0)=>[k0.decode(t,e),k0.decode.bytes],nh=(t,e,r=0)=>(k0.encode(t,e,r),e),oh=t=>k0.encodingLength(t);E();E();var tbe=new Uint8Array(0);var VE=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},sh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var YE=(t,e)=>{let r=e.byteLength,i=oh(t),n=i+oh(r),s=new Uint8Array(n+r);return nh(t,s,0),nh(r,s,i),s.set(e,n),new ah(t,r,e,s)},JE=t=>{let e=sh(t),[r,i]=I0(e),[n,s]=I0(e.subarray(i)),f=e.subarray(i+s);if(f.byteLength!==n)throw new Error("Incorrect length");return new ah(r,n,f,e)},XE=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&VE(t.bytes,r.bytes)}},ah=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};E();E();E();function vG(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),f=s.charCodeAt(0);if(r[f]!==255)throw new TypeError(s+" is ambiguous");r[f]=n}var c=t.length,m=t.charAt(0),w=Math.log(c)/Math.log(256),_=Math.log(256)/Math.log(c);function M(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var I=0,D=0,k=0,C=A.length;k!==C&&A[k]===0;)k++,I++;for(var O=(C-k)*_+1>>>0,U=new Uint8Array(O);k!==C;){for(var $=A[k],W=0,F=O-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%c>>>0,$=$/c>>>0;if($!==0)throw new Error("Non-zero carry");D=W,k++}for(var N=O-D;N!==O&&U[N]===0;)N++;for(var V=m.repeat(I);N<O;++N)V+=t.charAt(U[N]);return V}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var I=0;if(A[I]!==" "){for(var D=0,k=0;A[I]===m;)D++,I++;for(var C=(A.length-I)*w+1>>>0,O=new Uint8Array(C);A[I];){var U=r[A.charCodeAt(I)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<k)&&W!==-1;W--,$++)U+=c*O[W]>>>0,O[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");k=$,I++}if(A[I]!==" "){for(var F=C-k;F!==C&&O[F]===0;)F++;for(var N=new Uint8Array(D+(C-F)),V=D;F!==C;)N[V++]=O[F++];return N}}}function T(A){var I=x(A);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:M,decodeUnsafe:x,decode:T}}var bG=vG,wG=bG,QE=wG;E();var p2=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},m2=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return e7(this,e)}},y2=class{constructor(e){this.decoders=e}or(e){return e7(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},e7=(t,e)=>new y2({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),g2=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new p2(e,r,i),this.decoder=new m2(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},t7=({name:t,prefix:e,encode:r,decode:i})=>new g2(t,e,r,i),v2=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=QE(r,e);return t7({prefix:t,name:e,encode:i,decode:s=>sh(n(s))})},_G=(t,e,r,i)=>{let n={};for(let _=0;_<e.length;++_)n[e[_]]=_;let s=t.length;for(;t[s-1]==="=";)--s;let f=new Uint8Array(s*r/8|0),c=0,m=0,w=0;for(let _=0;_<s;++_){let M=n[t[_]];if(M===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|M,c+=r,c>=8&&(c-=8,f[w++]=255&m>>c)}if(c>=r||255&m<<8-c)throw new SyntaxError("Unexpected end of data");return f},MG=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",f=0,c=0;for(let m=0;m<t.length;++m)for(c=c<<8|t[m],f+=8;f>r;)f-=r,s+=e[n&c>>f];if(f&&(s+=e[n&c<<r-f]),i)for(;s.length*r&7;)s+="=";return s},Ks=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>t7({prefix:e,name:t,encode(n){return MG(n,i,r)},decode(n){return _G(n,i,r,t)}});var Ga=v2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),mbe=v2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});E();var B0=Ks({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bbe=Ks({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wbe=Ks({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_be=Ks({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mbe=Ks({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),xbe=Ks({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Sbe=Ks({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ebe=Ks({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Abe=Ks({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});E();var r7=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return SG(r,b2(t),e||Ga.encoder);default:return EG(r,b2(t),e||B0.encoder)}};var i7=new WeakMap,b2=t=>{let e=i7.get(t);if(e==null){let r=new Map;return i7.set(t,r),r}return e},Cr=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==D0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==AG)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Cr.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=YE(e,r);return Cr.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Cr.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&XE(e.multihash,i.multihash)}toString(e){return r7(this,e)}toJSON(){return{"/":r7(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof Cr)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:s,bytes:f}=r;return new Cr(i,n,s,f||n7(i,n,s.bytes))}else if(r[TG]===!0){let{version:i,multihash:n,code:s}=r,f=JE(n);return Cr.create(i,s,f)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==D0)throw new Error(`Version 0 CID must use dag-pb (code: ${D0}) block encoding`);return new Cr(e,r,i,i.bytes)}case 1:{let n=n7(e,r,i.bytes);return new Cr(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Cr.create(0,D0,e)}static createV1(e,r){return Cr.create(1,e,r)}static decode(e){let[r,i]=Cr.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Cr.inspectBytes(e),i=r.size-r.multihashSize,n=sh(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),f=new ah(r.multihashCode,r.digestSize,s,n);return[r.version===0?Cr.createV0(f):Cr.createV1(r.codec,f),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[M,x]=I0(e.subarray(r));return r+=x,M},n=i(),s=D0;if(n===18?(n=0,r=0):s=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let f=r,c=i(),m=i(),w=r+m,_=w-f;return{version:n,codec:s,multihashCode:c,digestSize:m,multihashSize:_,size:w}}static parse(e,r){let[i,n]=xG(e,r),s=Cr.decode(n);if(s.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return b2(s).set(i,e),s}},xG=(t,e)=>{switch(t[0]){case"Q":{let r=e||Ga;return[Ga.prefix,r.decode(`${Ga.prefix}${t}`)]}case Ga.prefix:{let r=e||Ga;return[Ga.prefix,r.decode(t)]}case B0.prefix:{let r=e||B0;return[B0.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},SG=(t,e,r)=>{let{prefix:i}=r;if(i!==Ga.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},EG=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},D0=112,AG=18,n7=(t,e,r)=>{let i=oh(t),n=i+oh(e),s=new Uint8Array(n+r.byteLength);return nh(t,s,0),nh(e,s,i),s.set(r,n),s},TG=Symbol.for("@ipld/js-cid/CID");E();var RG=new TextDecoder;function w2(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function Sy(t,e){let r;[r,e]=w2(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function o7(t,e){let r;return[r,e]=w2(t,e),[r&7,r>>3,e]}function PG(t){let e={},r=t.length,i=0;for(;i<r;){let n,s;if([n,s,i]=o7(t,i),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=Sy(t,i)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let f;[f,i]=Sy(t,i),e.Name=RG.decode(f)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=w2(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function s7(t){let e=t.length,r=0,i,n=!1,s;for(;r<e;){let c,m;if([c,m,r]=o7(t,r),c!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${c}`);if(m===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=Sy(t,r),i&&(n=!0)}else if(m===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let w;[w,r]=Sy(t,r),i.push(PG(w))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${m}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let f={};return s&&(f.Data=s),f.Links=i||[],f}E();var f7=new TextEncoder,a7=2**32,kG=2**31;function IG(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=C0(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){let i=f7.encode(t.Name);r-=i.length,e.set(i,r),r=C0(e,r,i.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=C0(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function u7(t){let e=DG(t),r=new Uint8Array(e),i=e;if(t.Data&&(i-=t.Data.length,r.set(t.Data,i),i=C0(r,i,t.Data.length)-1,r[i]=10),t.Links)for(let n=t.Links.length-1;n>=0;n--){let s=IG(t.Links[n],r.subarray(0,i));i-=s,i=C0(r,i,s)-1,r[i]=18}return r}function BG(t){let e=0;if(t.Hash){let r=t.Hash.length;e+=1+r+fh(r)}if(typeof t.Name=="string"){let r=f7.encode(t.Name).length;e+=1+r+fh(r)}return typeof t.Tsize=="number"&&(e+=1+fh(t.Tsize)),e}function DG(t){let e=0;if(t.Data){let r=t.Data.length;e+=1+r+fh(r)}if(t.Links)for(let r of t.Links){let i=BG(r);e+=1+i+fh(i)}return e}function C0(t,e,r){e-=fh(r);let i=e;for(;r>=kG;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,i}function fh(t){return t%2===0&&t++,Math.floor((CG(t)+6)/7)}function CG(t){let e=0;return t>=a7&&(t=Math.floor(t/a7),e=32),t>=1<<16&&(t>>>=16,e+=16),t>=1<<8&&(t>>>=8,e+=8),e+OG[t]}var OG=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];E();var qG=["Data","Links"],jG=["Hash","Name","Tsize"],_2=new TextEncoder;function d7(t,e){if(t===e)return 0;let r=t.Name?_2.encode(t.Name):[],i=e.Name?_2.encode(e.Name):[],n=r.length,s=i.length;for(let f=0,c=Math.min(n,s);f<c;++f)if(r[f]!==i[f]){n=r[f],s=i[f];break}return n<s?-1:s<n?1:0}function l7(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function h7(t){if(typeof t.asCID=="object"){let r=Cr.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Hash){let r=Cr.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=Cr.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=Cr.decode(t.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function ho(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=_2.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(h7),e.Links.sort(d7);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function M2(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!l7(t,qG))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){let r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!l7(r,jG))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&d7(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function c7(t,e=[]){return ho({Data:t,Links:e})}function p7(t,e,r){return h7({Hash:r,Name:t,Tsize:e})}var NG="dag-pb",LG=112;function co(t){M2(t);let e={};return t.Links&&(e.Links=t.Links.map(r=>{let i={};return r.Hash&&(i.Hash=r.Hash.bytes),r.Name!==void 0&&(i.Name=r.Name),r.Tsize!==void 0&&(i.Tsize=r.Tsize),i})),t.Data&&(e.Data=t.Data),u7(e)}function zG(t){let e=s7(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=Cr.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}E();var z2=Lr(ih(),1);E();E();E();E();var O2=Lr(T2(),1),t9=Lr(K7(),1),r9=Lr(nl(),1),q2=Lr(C2(),1),i9=Lr(e9(),1);function VG(){r9.default._configure(),O2.default._configure(t9.default),q2.default._configure(i9.default)}VG();var n9=["uint64","int64","sint64","fixed64","sfixed64"];function YG(t){for(let e of n9){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function j2(t){return YG(new O2.default(t))}function JG(t){for(let e of n9){if(t[e]==null)continue;let r=t[e];t[e]=function(i){return r.call(this,i.toString())}}return t}function N2(){return JG(q2.default.create())}function N0(t,e){let r=j2(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}E();function L0(t,e){let r=N2();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}E();E();var lh;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(lh||(lh={}));function Py(t,e,r,i){return{name:t,type:e,encode:r,decode:i}}function L2(t){function e(n){if(t[n.toString()]==null)throw new Error("Invalid enum value");return t[n]}let r=function(s,f){let c=e(s);f.int32(c)},i=function(s){let f=s.int32();return e(f)};return Py("enum",lh.VARINT,r,i)}E();function z0(t,e){return Py("message",lh.LENGTH_DELIMITED,t,e)}var cs;(function(t){let e;(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(e=t.DataType||(t.DataType={}));let r;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(r||(r={})),function(n){n.codec=()=>L2(r)}(e=t.DataType||(t.DataType={}));let i;t.codec=()=>(i==null&&(i=z0((n,s,f={})=>{if(f.lengthDelimited!==!1&&s.fork(),n.Type!=null&&(s.uint32(8),t.DataType.codec().encode(n.Type,s)),n.Data!=null&&(s.uint32(18),s.bytes(n.Data)),n.filesize!=null&&(s.uint32(24),s.uint64(n.filesize)),n.blocksizes!=null)for(let c of n.blocksizes)s.uint32(32),s.uint64(c);n.hashType!=null&&(s.uint32(40),s.uint64(n.hashType)),n.fanout!=null&&(s.uint32(48),s.uint64(n.fanout)),n.mode!=null&&(s.uint32(56),s.uint32(n.mode)),n.mtime!=null&&(s.uint32(66),ky.codec().encode(n.mtime,s)),f.lengthDelimited!==!1&&s.ldelim()},(n,s)=>{let f={blocksizes:[]},c=s==null?n.len:n.pos+s;for(;n.pos<c;){let m=n.uint32();switch(m>>>3){case 1:f.Type=t.DataType.codec().decode(n);break;case 2:f.Data=n.bytes();break;case 3:f.filesize=n.uint64();break;case 4:f.blocksizes.push(n.uint64());break;case 5:f.hashType=n.uint64();break;case 6:f.fanout=n.uint64();break;case 7:f.mode=n.uint32();break;case 8:f.mtime=ky.codec().decode(n,n.uint32());break;default:n.skipType(m&7);break}}return f})),i),t.encode=n=>L0(n,t.codec()),t.decode=n=>N0(n,t.codec())})(cs||(cs={}));var ky;(function(t){let e;t.codec=()=>(e==null&&(e=z0((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.Seconds!=null&&(i.uint32(8),i.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(i.uint32(21),i.fixed32(r.FractionalNanoseconds)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},s=i==null?r.len:r.pos+i;for(;r.pos<s;){let f=r.uint32();switch(f>>>3){case 1:n.Seconds=r.int64();break;case 2:n.FractionalNanoseconds=r.fixed32();break;default:r.skipType(f&7);break}}return n})),e),t.encode=r=>L0(r,t.codec()),t.decode=r=>N0(r,t.codec())})(ky||(ky={}));var o9;(function(t){let e;t.codec=()=>(e==null&&(e=z0((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.MimeType!=null&&(i.uint32(10),i.string(r.MimeType)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},s=i==null?r.len:r.pos+i;for(;r.pos<s;){let f=r.uint32();switch(f>>>3){case 1:n.MimeType=r.string();break;default:r.skipType(f&7);break}}return n})),e),t.encode=r=>L0(r,t.codec()),t.decode=r=>N0(r,t.codec())})(o9||(o9={}));var s9={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},XG=["directory","hamt-sharded-directory"],a9=parseInt("0644",8),f9=parseInt("0755",8),bn=class{static unmarshal(e){let r=cs.decode(e),i=new bn({type:s9[r.Type!=null?r.Type.toString():"File"],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime!=null?{secs:r.mtime.Seconds??0n,nsecs:r.mtime.FractionalNanoseconds}:void 0});return i._originalMode=r.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){let{type:r,data:i,blockSizes:n,hashType:s,fanout:f,mtime:c,mode:m}=e;if(r!=null&&!Object.values(s9).includes(r))throw(0,z2.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r??"file",this.data=i,this.hashType=s,this.fanout=f,this.blockSizes=n??[],this._originalMode=0,this.mode=m,this.mtime=c}set mode(e){e==null?this._mode=this.isDirectory()?f9:a9:this._mode=e&4095}get mode(){return this._mode}isDirectory(){return XG.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach(r=>{e+=r}),this.data!=null&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=cs.DataType.Raw;break;case"directory":e=cs.DataType.Directory;break;case"file":e=cs.DataType.File;break;case"metadata":e=cs.DataType.Metadata;break;case"symlink":e=cs.DataType.Symlink;break;case"hamt-sharded-directory":e=cs.DataType.HAMTShard;break;default:throw(0,z2.default)(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let r=this.data;(this.data==null||this.data.length===0)&&(r=void 0);let i;this.mode!=null&&(i=this._originalMode&4294963200|(this.mode??0),i===a9&&!this.isDirectory()&&(i=void 0),i===f9&&this.isDirectory()&&(i=void 0));let n;return this.mtime!=null&&(n={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),cs.encode({Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:n})}};var hh={};Ni(hh,{code:()=>dh,decode:()=>tK,encode:()=>eK,name:()=>QG});E();var QG="raw",dh=85,eK=t=>ls(t),tK=t=>ls(t);E();var Ka=class extends Event{constructor(e,r){super(e),this.detail=r}};E();var $2={};Ni($2,{sha256:()=>Do,sha512:()=>rK});E();E();var F2=({name:t,code:e,encode:r})=>new U2(t,e,r),U2=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?el(this.code,r):r.then(i=>el(this.code,i))}else throw Error("Unknown type, must be binary type")}};var l9=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Do=F2({name:"sha2-256",code:18,encode:l9("SHA-256")}),rK=F2({name:"sha2-512",code:19,encode:l9("SHA-512")});var ps=async(t,e,r)=>{r.codec==null&&(r.codec=O0);let i=await Do.digest(t),n=Ht.create(r.cidVersion,r.codec.code,i);return await e.put(n,t,r),n};function d9(t){return async function*(r,i){let n=0n;for await(let s of r.content)yield async()=>{let f,c={codec:O0,cidVersion:t.cidVersion,onProgress:t.onProgress};t.rawLeaves?(c.codec=hh,c.cidVersion=1):(f=new bn({type:t.leafType,data:s}),s=co({Data:f.marshal(),Links:[]}));let m=await ps(s,i,c);return n+=BigInt(s.byteLength),t.onProgress?.(new Ka("unixfs:importer:progress:file:write",{bytesWritten:n,cid:m,path:r.path})),{cid:m,unixfs:f,size:BigInt(s.length),block:s}}}}E();var W2=Lr(ih(),1);E();var h9=async(t,e,r)=>{let i=new bn({type:"directory",mtime:t.mtime,mode:t.mode}),n=co(ho({Data:i.marshal()})),s=await ps(n,e,r),f=t.path;return{cid:s,path:f,unixfs:i,size:BigInt(n.length),originalPath:t.originalPath,block:n}};E();async function*iK(t,e,r){let i=-1,n;for await(let s of R0(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(i++,i===0){n={...s,single:!0};continue}else i===1&&n!=null&&(yield{...n,block:void 0,single:void 0},n=void 0);yield{...s,block:void 0}}n!=null&&(yield n)}function c9(t){return t.single===!0}var nK=(t,e,r)=>async function(n){if(n.length===1&&c9(n[0])&&r.reduceSingleLeafToSelf){let _=n[0],M=_.block;return c9(_)&&(t.mtime!==void 0||t.mode!==void 0)&&(_.unixfs=new bn({type:"file",mtime:t.mtime,mode:t.mode,data:_.block}),M={Data:_.unixfs.marshal(),Links:[]},_.block=co(ho(M)),_.cid=await ps(_.block,e,{...r,cidVersion:r.cidVersion}),_.size=BigInt(_.block.length)),r.onProgress?.(new Ka("unixfs:importer:progress:file:layout",{cid:_.cid,path:_.originalPath})),{cid:_.cid,path:t.path,unixfs:_.unixfs,size:_.size,originalPath:_.originalPath}}let s=new bn({type:"file",mtime:t.mtime,mode:t.mode}),f=n.filter(_=>_.cid.code===dh&&_.size>0||_.unixfs!=null&&_.unixfs.data==null&&_.unixfs.fileSize()>0n?!0:Boolean(_.unixfs?.data?.length)).map(_=>_.cid.code===dh?(s.addBlockSize(_.size),{Name:"",Tsize:Number(_.size),Hash:_.cid}):(_.unixfs==null||_.unixfs.data==null?s.addBlockSize(_.unixfs?.fileSize()??0n):s.addBlockSize(BigInt(_.unixfs.data.length)),{Name:"",Tsize:Number(_.size),Hash:_.cid})),c={Data:s.marshal(),Links:f},m=co(ho(c)),w=await ps(m,e,r);return r.onProgress?.(new Ka("unixfs:importer:progress:file:layout",{cid:w,path:t.originalPath})),{cid:w,path:t.path,unixfs:s,size:BigInt(m.length+c.Links.reduce((_,M)=>_+(M.Tsize??0),0)),originalPath:t.originalPath,block:m}},p9=async(t,e,r)=>r.layout(iK(t,e,r),nK(t,e,r));function oK(t){return Symbol.iterator in t}function sK(t){return Symbol.asyncIterator in t}function aK(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(oK(t))return async function*(){yield*t}();if(sK(t))return t}catch{throw(0,W2.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,W2.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function m9(t){return async function*(r,i){for await(let n of r){let s;if(n.path!=null&&(s=n.path,n.path=n.path.split("/").filter(f=>f!=null&&f!==".").join("/")),fK(n)){let f={path:n.path,mtime:n.mtime,mode:n.mode,content:async function*(){let c=0n;for await(let m of t.chunker(t.chunkValidator(aK(n.content)))){let w=BigInt(m.byteLength);c+=w,t.onProgress?.(new Ka("unixfs:importer:progress:file:read",{bytesRead:c,chunkSize:w,path:n.path})),yield m}}(),originalPath:s};yield async()=>p9(f,i,t)}else if(n.path!=null){let f={path:n.path,mtime:n.mtime,mode:n.mode,originalPath:s};yield async()=>h9(f,i,t)}else throw new Error("Import candidate must have content or path or both")}}}function fK(t){return t.content!=null}E();var r_=Lr(ih(),1);E();E();E();var H2={};Ni(H2,{identity:()=>uK});E();var uK=rh({prefix:"\0",name:"identity",encode:t=>IE(t),decode:t=>kE(t)});var G2={};Ni(G2,{base2:()=>lK});E();var lK=Wr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var K2={};Ni(K2,{base8:()=>dK});E();var dK=Wr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Z2={};Ni(Z2,{base10:()=>hK});E();var hK=zf({prefix:"9",name:"base10",alphabet:"0123456789"});var V2={};Ni(V2,{base16:()=>cK,base16upper:()=>pK});E();var cK=Wr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pK=Wr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Y2={};Ni(Y2,{base36:()=>mK,base36upper:()=>yK});E();var mK=zf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yK=zf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var J2={};Ni(J2,{base64:()=>gK,base64pad:()=>vK,base64url:()=>ch,base64urlpad:()=>bK});E();var gK=Wr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vK=Wr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ch=Wr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bK=Wr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var X2={};Ni(X2,{base256emoji:()=>SK});E();var y9=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),wK=y9.reduce((t,e,r)=>(t[r]=e,t),[]),_K=y9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function MK(t){return t.reduce((e,r)=>(e+=wK[r],e),"")}function xK(t){let e=[];for(let r of t){let i=_K[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var SK=rh({prefix:"\u{1F680}",name:"base256emoji",encode:MK,decode:xK});var Q2={};Ni(Q2,{identity:()=>TK});E();var g9=0,EK="identity",v9=ls,AK=t=>el(g9,v9(t)),TK={code:g9,name:EK,encode:v9,digest:AK};E();var K2e=new TextEncoder,Z2e=new TextDecoder;E();E();var e_={...H2,...G2,...K2,...Z2,...V2,...d2,...Y2,...l2,...J2,...X2},r_e={...$2,...Q2};function w9(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var b9=w9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),t_=w9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=rl(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),PK={utf8:b9,"utf-8":b9,hex:e_.base16,latin1:t_,ascii:t_,binary:t_,...e_},_9=PK;function Iy(t,e="utf8"){let r=_9[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?tl(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var M9=()=>async function*(e){for await(let r of e){if(r.length===void 0)throw(0,r_.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof r=="string"||r instanceof String)yield Iy(r.toString());else if(Array.isArray(r))yield Uint8Array.from(r);else if(r instanceof Uint8Array)yield r;else throw(0,r_.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}};E();E();var kK=174;function i_(t){let e=t?.maxChildrenPerNode??kK;return async function r(i,n){let s=[];for await(let f of T0(i,e))s.push(await n(f));return s.length>1?r(s,n):s[0]}}E();E();E();E();E();E();var Ys=class{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,r){this.options=r??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}},U0=Ht.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),F0=Ht.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");var sl=class extends Ys{_children;constructor(e,r){super(e,r),this._children=new Map}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,r)}async get(e){return Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[e,r]of this._children.entries())yield{key:e,child:r}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(let[e,r]of this._children.entries())r.size!=null&&r.cid!=null&&(this.nodeSize+=e.length+(this.options.cidVersion===1?F0.bytes.byteLength:U0.bytes.byteLength));return this.nodeSize}async*flush(e){let r=[];for(let[m,w]of this._children.entries()){let _=w;if(w instanceof Ys)for await(let M of w.flush(e))_=M,yield M;_.size!=null&&_.cid!=null&&r.push({Name:m,Tsize:Number(_.size),Hash:_.cid})}let i=new bn({type:"directory",mtime:this.mtime,mode:this.mode}),n={Data:i.marshal(),Links:r},s=co(ho(n)),f=await ps(s,e,this.options),c=s.length+n.Links.reduce((m,w)=>m+(w.Tsize==null?0:w.Tsize),0);this.cid=f,this.size=c,yield{cid:f,unixfs:i,path:this.path,size:BigInt(c)}}};E();E();E();E();E();E();E();var IK=E9,x9=128,BK=127,DK=~BK,CK=Math.pow(2,31);function E9(t,e,r){e=e||[],r=r||0;for(var i=r;t>=CK;)e[r++]=t&255|x9,t/=128;for(;t&DK;)e[r++]=t&255|x9,t>>>=7;return e[r]=t|0,E9.bytes=r-i+1,e}var OK=n_,qK=128,S9=127;function n_(t,i){var r=0,i=i||0,n=0,s=i,f,c=t.length;do{if(s>=c)throw n_.bytes=0,new RangeError("Could not decode varint");f=t[s++],r+=n<28?(f&S9)<<n:(f&S9)*Math.pow(2,n),n+=7}while(f>=qK);return n_.bytes=s-i,r}var jK=Math.pow(2,7),NK=Math.pow(2,14),LK=Math.pow(2,21),zK=Math.pow(2,28),UK=Math.pow(2,35),FK=Math.pow(2,42),$K=Math.pow(2,49),WK=Math.pow(2,56),HK=Math.pow(2,63),GK=function(t){return t<jK?1:t<NK?2:t<LK?3:t<zK?4:t<UK?5:t<FK?6:t<$K?7:t<WK?8:t<HK?9:10},KK={encode:IK,decode:OK,encodingLength:GK},ZK=KK,$0=ZK;var W0=(t,e=0)=>[$0.decode(t,e),$0.decode.bytes],ph=(t,e,r=0)=>($0.encode(t,e,r),e),mh=t=>$0.encodingLength(t);E();var H0={};Ni(H0,{coerce:()=>al,empty:()=>A9,equals:()=>s_,fromHex:()=>YK,fromString:()=>XK,isBinary:()=>JK,toHex:()=>VK,toString:()=>QK});E();var A9=new Uint8Array(0),VK=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),YK=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):A9},s_=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},al=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},JK=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),XK=t=>new TextEncoder().encode(t),QK=t=>new TextDecoder().decode(t);var G0=(t,e)=>{let r=e.byteLength,i=mh(t),n=i+mh(r),s=new Uint8Array(n+r);return ph(t,s,0),ph(r,s,i),s.set(e,n),new yh(t,r,e,s)},T9=t=>{let e=al(t),[r,i]=W0(e),[n,s]=W0(e.subarray(i)),f=e.subarray(i+s);if(f.byteLength!==n)throw new Error("Incorrect length");return new yh(r,n,f,e)},R9=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&s_(t.bytes,r.bytes)}},yh=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};E();E();E();function eZ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),f=s.charCodeAt(0);if(r[f]!==255)throw new TypeError(s+" is ambiguous");r[f]=n}var c=t.length,m=t.charAt(0),w=Math.log(c)/Math.log(256),_=Math.log(256)/Math.log(c);function M(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var I=0,D=0,k=0,C=A.length;k!==C&&A[k]===0;)k++,I++;for(var O=(C-k)*_+1>>>0,U=new Uint8Array(O);k!==C;){for(var $=A[k],W=0,F=O-1;($!==0||W<D)&&F!==-1;F--,W++)$+=256*U[F]>>>0,U[F]=$%c>>>0,$=$/c>>>0;if($!==0)throw new Error("Non-zero carry");D=W,k++}for(var N=O-D;N!==O&&U[N]===0;)N++;for(var V=m.repeat(I);N<O;++N)V+=t.charAt(U[N]);return V}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var I=0;if(A[I]!==" "){for(var D=0,k=0;A[I]===m;)D++,I++;for(var C=(A.length-I)*w+1>>>0,O=new Uint8Array(C);A[I];){var U=r[A.charCodeAt(I)];if(U===255)return;for(var $=0,W=C-1;(U!==0||$<k)&&W!==-1;W--,$++)U+=c*O[W]>>>0,O[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");k=$,I++}if(A[I]!==" "){for(var F=C-k;F!==C&&O[F]===0;)F++;for(var N=new Uint8Array(D+(C-F)),V=D;F!==C;)N[V++]=O[F++];return N}}}function T(A){var I=x(A);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:M,decodeUnsafe:x,decode:T}}var tZ=eZ,rZ=tZ,P9=rZ;E();var f_=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},u_=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return k9(this,e)}},l_=class{constructor(e){this.decoders=e}or(e){return k9(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},k9=(t,e)=>new l_({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),d_=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new f_(e,r,i),this.decoder=new u_(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},I9=({name:t,prefix:e,encode:r,decode:i})=>new d_(t,e,r,i),h_=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=P9(r,e);return I9({prefix:t,name:e,encode:i,decode:s=>al(n(s))})},iZ=(t,e,r,i)=>{let n={};for(let _=0;_<e.length;++_)n[e[_]]=_;let s=t.length;for(;t[s-1]==="=";)--s;let f=new Uint8Array(s*r/8|0),c=0,m=0,w=0;for(let _=0;_<s;++_){let M=n[t[_]];if(M===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|M,c+=r,c>=8&&(c-=8,f[w++]=255&m>>c)}if(c>=r||255&m<<8-c)throw new SyntaxError("Unexpected end of data");return f},nZ=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",f=0,c=0;for(let m=0;m<t.length;++m)for(c=c<<8|t[m],f+=8;f>r;)f-=r,s+=e[n&c>>f];if(f&&(s+=e[n&c<<r-f]),i)for(;s.length*r&7;)s+="=";return s},Js=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>I9({prefix:e,name:t,encode(n){return nZ(n,i,r)},decode(n){return iZ(n,i,r,t)}});var Za=h_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s3e=h_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});E();var K0=Js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l3e=Js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),d3e=Js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),h3e=Js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c3e=Js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),p3e=Js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),m3e=Js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),y3e=Js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),g3e=Js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});E();var B9=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return sZ(r,c_(t),e||Za.encoder);default:return aZ(r,c_(t),e||K0.encoder)}};var D9=new WeakMap,c_=t=>{let e=D9.get(t);if(e==null){let r=new Map;return D9.set(t,r),r}return e},Ai=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Z0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==fZ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ai.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=G0(e,r);return Ai.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Ai.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&R9(e.multihash,i.multihash)}toString(e){return B9(this,e)}toJSON(){return{"/":B9(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof Ai)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:s,bytes:f}=r;return new Ai(i,n,s,f||C9(i,n,s.bytes))}else if(r[uZ]===!0){let{version:i,multihash:n,code:s}=r,f=T9(n);return Ai.create(i,s,f)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Z0)throw new Error(`Version 0 CID must use dag-pb (code: ${Z0}) block encoding`);return new Ai(e,r,i,i.bytes)}case 1:{let n=C9(e,r,i.bytes);return new Ai(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Ai.create(0,Z0,e)}static createV1(e,r){return Ai.create(1,e,r)}static decode(e){let[r,i]=Ai.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Ai.inspectBytes(e),i=r.size-r.multihashSize,n=al(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),f=new yh(r.multihashCode,r.digestSize,s,n);return[r.version===0?Ai.createV0(f):Ai.createV1(r.codec,f),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[M,x]=W0(e.subarray(r));return r+=x,M},n=i(),s=Z0;if(n===18?(n=0,r=0):s=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let f=r,c=i(),m=i(),w=r+m,_=w-f;return{version:n,codec:s,multihashCode:c,digestSize:m,multihashSize:_,size:w}}static parse(e,r){let[i,n]=oZ(e,r),s=Ai.decode(n);if(s.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return c_(s).set(i,e),s}},oZ=(t,e)=>{switch(t[0]){case"Q":{let r=e||Za;return[Za.prefix,r.decode(`${Za.prefix}${t}`)]}case Za.prefix:{let r=e||Za;return[Za.prefix,r.decode(t)]}case K0.prefix:{let r=e||K0;return[K0.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},sZ=(t,e,r)=>{let{prefix:i}=r;if(i!==Za.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},aZ=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},Z0=112,fZ=18,C9=(t,e,r)=>{let i=mh(t),n=i+mh(e),s=new Uint8Array(n+r.byteLength);return ph(t,s,0),ph(e,s,i),s.set(r,n),s},uZ=Symbol.for("@ipld/js-cid/CID");E();var By=({name:t,code:e,encode:r})=>new p_(t,e,r),p_=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?G0(this.code,r):r.then(i=>G0(this.code,i))}else throw Error("Unknown type, must be binary type")}};E();var Cy=Lr(j9(),1);function dZ(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var L3e=By({name:"murmur3-32",code:35,encode:t=>dZ(Cy.default.x86.hash32(t))}),N9=By({name:"murmur3-128",code:34,encode:t=>H0.fromHex(Cy.default.x64.hash128(t))}),z3e=By({name:"murmur3-x64-64",code:34,encode:t=>H0.fromHex(Cy.default.x64.hash128(t)).subarray(0,8)});E();E();var F9=Lr(U9(),1);var wn=class{constructor(e,r,i=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=i,this._children=new F9.default,this.key=null}async put(e,r){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,r)}async get(e){let r=await this._findChild(e);if(r!=null)return r.value}async del(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);i!=null&&i.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,i)=>i instanceof wn?r+i.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let r of e)r instanceof wn?yield*r.eachLeafSeries():yield r}serialize(e,r){let i=[];return r(this._children.reduce((n,s,f)=>(s!=null&&(s instanceof wn?n.push(s.serialize(e,r)):n.push(e(s,f))),n),i))}async asyncTransform(e,r){return await $9(this,e,r)}toJSON(){return this.serialize(yZ,gZ)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);if(!(i instanceof wn)&&i!=null&&i.key===e)return i}async _findPlace(e){let r=this._options.hash(typeof e=="string"?Iy(e):e),i=await r.take(this._options.bits),n=this._children.get(i);return n instanceof wn?await n._findPlace(r):{bucket:this,pos:i,hash:r,existingChild:n}}async _findNewBucketAndPos(e){let r=await this._findPlace(e);if(r.existingChild!=null&&r.existingChild.key!==e){let i=new wn(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,i);let n=await i._findPlace(r.existingChild.hash);return n.bucket._putAt(n,r.existingChild.key,r.existingChild.value),await i._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,i){this._putObjectAt(e.pos,{key:r,value:i,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)==null&&this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)!=null&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(mZ);if(e!=null&&!(e instanceof wn)){let r=e.hash;r.untake(this._options.bits);let i={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function mZ(t){return Boolean(t)}function yZ(t,e){return t.key}function gZ(t){return t}async function $9(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof wn)await $9(n,e,r);else{let s=await e(n);i.push({bitField:t._children.bitField(),children:s})}return await r(i)}E();E();var vZ=[255,254,252,248,240,224,192,128],bZ=[1,3,7,15,31,63,127,255],Oy=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,i=0;for(;r>0&&this._haveBits();){let n=this._value[this._currentBytePos],s=this._currentBitPos+1,f=Math.min(s,r),c=wZ(n,s-f,f);i=(i<<f)+c,r-=f,this._currentBitPos-=f,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function wZ(t,e,r){let i=_Z(e,r);return(t&i)>>>e}function _Z(t,e){return vZ[t]&bZ[Math.min(e+t-1,7)]}function W9(t){function e(r){return r instanceof qy?r:new qy(r,t)}return e}var qy=class{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let i=0;for(;r>0;){let n=this._buffers[this._currentBufferIndex],s=Math.min(n.availableBits(),r),f=n.take(s);i=(i<<s)+f,r-=s,this._availableBits-=s,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let r=e;for(;r>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),r);i.untake(n),r-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth>0?P0([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),i=new Oy(r);this._buffers.push(i),this._availableBits+=i.availableBits()}};function H9(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");let e={bits:t.bits??8,hash:W9(t.hashFn)};return new wn(e)}async function MZ(t){return(await N9.encode(t)).slice(0,8).reverse()}var G9=BigInt(34),m_=class extends Ys{_bucket;constructor(e,r){super(e,r),this._bucket=H9({hashFn:MZ,bits:8})}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,r)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=V9(this._bucket,this,this.options),this.nodeSize)}async*flush(e){for await(let r of Z9(this._bucket,e,this,this.options))yield{...r,path:this.path}}},K9=m_;async function*Z9(t,e,r,i){let n=t._children,s=[],f=0n;for(let T=0;T<n.length;T++){let A=n.get(T);if(A==null)continue;let I=T.toString(16).toUpperCase().padStart(2,"0");if(A instanceof wn){let D;for await(let k of Z9(A,e,null,i))D=k;if(D==null)throw new Error("Could not flush sharded directory, no subshard found");s.push({Name:I,Tsize:Number(D.size),Hash:D.cid}),f+=D.size}else if(xZ(A.value)){let D=A.value,k;for await(let O of D.flush(e))k=O,yield k;if(k==null)throw new Error("Did not flush dir");let C=I+A.key;s.push({Name:C,Tsize:Number(k.size),Hash:k.cid}),f+=k.size}else{let D=A.value;if(D.cid==null)continue;let k=I+A.key,C=D.size;s.push({Name:k,Tsize:Number(C),Hash:D.cid}),f+=BigInt(C??0)}}let c=Uint8Array.from(n.bitField().reverse()),m=new bn({type:"hamt-sharded-directory",data:c,fanout:BigInt(t.tableSize()),hashType:G9,mtime:r?.mtime,mode:r?.mode}),w={Data:m.marshal(),Links:s},_=co(ho(w)),M=await ps(_,e,i),x=BigInt(_.byteLength)+f;yield{cid:M,unixfs:m,size:x}}function xZ(t){return typeof t.flush=="function"}function V9(t,e,r){let i=t._children,n=[];for(let m=0;m<i.length;m++){let w=i.get(m);if(w==null)continue;let _=m.toString(16).toUpperCase().padStart(2,"0");if(w instanceof wn){let M=V9(w,null,r);n.push({Name:_,Tsize:Number(M),Hash:r.cidVersion===0?U0:F0})}else if(typeof w.value.flush=="function"){let x=w.value.nodeSize();n.push({Name:_+w.key,Tsize:Number(x),Hash:r.cidVersion===0?U0:F0})}else{let M=w.value;if(M.cid==null)continue;let x=_+w.key,T=M.size;n.push({Name:x,Tsize:Number(T),Hash:M.cid})}}let s=Uint8Array.from(i.bitField().reverse()),f=new bn({type:"hamt-sharded-directory",data:s,fanout:BigInt(t.tableSize()),hashType:G9,mtime:e?.mtime,mode:e?.mode});return co(ho({Data:f.marshal(),Links:n})).length}async function y_(t,e,r,i){let n=e;e instanceof sl&&e.estimateNodeSize()>r&&(n=await SZ(e,i));let s=n.parent;if(s!=null){if(n!==e){if(t!=null&&(t.parent=n),n.parentKey==null)throw new Error("No parent key found");await s.put(n.parentKey,n)}return y_(n,s,r,i)}return n}async function SZ(t,e){let r=new K9({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(let{key:i,child:n}of t.eachChildSeries())await r.put(i,n);return r}E();var Y9=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function EZ(t,e,r){let i=Y9(t.path??""),n=i.length-1,s=e,f="";for(let c=0;c<i.length;c++){let m=i[c];f+=`${f!==""?"/":""}${m}`;let w=c===n;if(s.dirty=!0,s.cid=void 0,s.size=void 0,w)await s.put(m,t),e=await y_(null,s,r.shardSplitThresholdBytes,r);else{let _=await s.get(m);(_==null||!(_ instanceof Ys))&&(_=new sl({root:!1,dir:!0,parent:s,parentKey:m,path:f,dirty:!0,flat:!0,mtime:_?.unixfs?.mtime,mode:_?.unixfs?.mode},r)),await s.put(m,_),s=_}}return e}async function*J9(t,e){if(!(t instanceof Ys)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function X9(t){return async function*(r,i){let n=new sl({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),s,f=!1;for await(let c of r){if(c==null)continue;let m=`${c.originalPath??""}`.split("/")[0];m!=null&&m!==""&&(s==null?(s=m,f=!0):s!==m&&(f=!1)),n=await EZ(c,n,t),(c.unixfs==null||!c.unixfs.isDirectory())&&(yield c)}if(t.wrapWithDirectory||f&&n.childCount()>1)yield*J9(n,i);else for await(let c of n.eachChildSeries())c!=null&&(yield*J9(c.child,i))}}async function*g_(t,e,r={}){let i;Symbol.asyncIterator in t||Symbol.iterator in t?i=t:i=[t];let n=r.wrapWithDirectory??!1,s=r.shardSplitThresholdBytes??262144,f=r.cidVersion??1,c=r.rawLeaves??!0,m=r.leafType??"file",w=r.fileImportConcurrency??50,_=r.blockWriteConcurrency??10,M=r.reduceSingleLeafToSelf??!0,x=r.chunker??WE(),T=r.chunkValidator??M9(),A=r.dagBuilder??m9({chunker:x,chunkValidator:T,wrapWithDirectory:n,layout:r.layout??i_(),bufferImporter:r.bufferImporter??d9({cidVersion:f,rawLeaves:c,leafType:m,onProgress:r.onProgress}),blockWriteConcurrency:_,reduceSingleLeafToSelf:M,cidVersion:f,onProgress:r.onProgress}),I=r.treeBuilder??X9({wrapWithDirectory:n,shardSplitThresholdBytes:s,cidVersion:f,onProgress:r.onProgress});for await(let D of I(R0(A(i,e),w),e))yield{cid:D.cid,path:D.path,unixfs:D.unixfs,size:D.size}}E();var jy={};Ni(jy,{abortedError:()=>DZ,closeFailedError:()=>RZ,deleteFailedError:()=>IZ,getFailedError:()=>kZ,hasFailedError:()=>BZ,notFoundError:()=>v_,openFailedError:()=>TZ,putFailedError:()=>PZ});E();var Va=Lr(ih(),1);function TZ(t){return t=t??new Error("Open failed"),(0,Va.default)(t,"ERR_OPEN_FAILED")}function RZ(t){return t=t??new Error("Close failed"),(0,Va.default)(t,"ERR_CLOSE_FAILED")}function PZ(t){return t=t??new Error("Put failed"),(0,Va.default)(t,"ERR_PUT_FAILED")}function kZ(t){return t=t??new Error("Get failed"),(0,Va.default)(t,"ERR_GET_FAILED")}function IZ(t){return t=t??new Error("Delete failed"),(0,Va.default)(t,"ERR_DELETE_FAILED")}function BZ(t){return t=t??new Error("Has failed"),(0,Va.default)(t,"ERR_HAS_FAILED")}function v_(t){return t=t??new Error("Not Found"),(0,Va.default)(t,"ERR_NOT_FOUND")}function DZ(t){return t=t??new Error("Aborted"),(0,Va.default)(t,"ERR_ABORTED")}E();var Y0=class{has(e,r){return Promise.reject(new Error(".has is not implemented"))}put(e,r,i){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,r){for await(let{cid:i,block:n}of e)await this.put(i,n,r),yield i}get(e,r){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async delete(e,r){await Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async*getAll(e){throw new Error(".getAll is not implemented")}};E();var gh=class extends Y0{data;constructor(){super(),this.data=new Map}put(e,r){return this.data.set(Io.encode(e.multihash.bytes),r),e}get(e){let r=this.data.get(Io.encode(e.multihash.bytes));if(r==null)throw v_();return r}has(e){return this.data.has(Io.encode(e.multihash.bytes))}async delete(e){this.data.delete(Io.encode(e.multihash.bytes))}async*getAll(){for(let[e,r]of this.data.entries())yield{cid:Ht.createV1(dh,My(Io.decode(e))),block:r}}};var W6e={...jy};var Q9={[Do.code]:Do},eA={[wy]:n2},Hr=class{static async computeCid(e,r=wy,i=Do.code){let n=eA[r];if(!n)throw new Error(`codec [${r}] not supported`);let s=Q9[i];if(!s)throw new Error(`multihash code [${i}] not supported`);let f=n.encode(e),c=await s.digest(f);return(await Ht.createV1(n.code,c)).toString()}static parseCid(e){let r=Ht.parse(e).toV1();if(!eA[r.code])throw new Error(`codec [${r.code}] not supported`);if(!Q9[r.multihash.code])throw new Error(`multihash code [${r.multihash.code}] not supported`);return r}static async computeDagPbCidFromBytes(e){let r=g_([{content:e}],new gh,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}static async computeDagPbCidFromStream(e){let r=g_([{content:e}],new gh,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}};E();E();E();E();var j=Lr(tA(),1),T_={};function aa(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,r,i))}for(let r of Object.getOwnPropertyNames(t.prototype)){let i=Object.getOwnPropertyDescriptor(t.prototype,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t.prototype,r,i))}Mr(e,t),Mr(`${e}.prototype`,t.prototype)}function Mr(t,e){let r=`%${t}%`;if(T_[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);T_[r]=e}function qe(t){return T_[t]}var rA,iA,Ge="slot-epochNanoSeconds",Qs="slot-timezone-identifier",je="slot-year",Ne="slot-month",Ue="slot-day",tt="slot-hour",rt="slot-minute",it="slot-second",nt="slot-millisecond",ot="slot-microsecond",st="slot-nanosecond",ee="slot-calendar",NA="slot-date-brand",LA="slot-year-month-brand",zA="slot-month-day-brand",Wi="slot-cached-instant",Ct="slot-time-zone",tn="slot-years",_i="slot-months",_n="slot-weeks",rn="slot-days",nn="slot-hours",on="slot-minutes",sn="slot-seconds",an="slot-milliseconds",fn="slot-microseconds",un="slot-nanoseconds",_r="slot-calendar-identifier",UA=new WeakMap,R_=Symbol.for("@@Temporal__GetSlots");(rA=globalThis)[R_]||(rA[R_]=function(e){return UA.get(e)});var i3=globalThis[R_],P_=Symbol.for("@@Temporal__CreateSlots");(iA=globalThis)[P_]||(iA[P_]=function(e){UA.set(e,Object.create(null))});var fa=globalThis[P_];function ni(t,...e){if(!t||typeof t!="object")return!1;let r=i3(t);return!!r&&e.every(i=>i in r)}function R(t,e){let r=i3(t)?.[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function ft(t,e,r){let i=i3(t);if(i===void 0)throw new TypeError("Missing slots for the given container");if(i[e])throw new TypeError(`${e} already has set`);i[e]=r}var nA=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,up=new RegExp("(?:"+[`(?:${nA.source})(?:\\/(?:${nA.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),FA=/(?:[+\u2212-]\d{6}|\d{4})/,$y=/(?:0[1-9]|1[0-2])/,k_=/(?:0[1-9]|[12]\d|3[01])/,CZ=new RegExp(`(${FA.source})(?:-(${$y.source})-(${k_.source})|(${$y.source})(${k_.source}))`),$A=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,WA=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,HA=new RegExp(`([zZ])|${WA.source}?`),Xf=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,OZ=new RegExp([`^${CZ.source}`,`(?:(?:T|\\s+)${$A.source}(?:${HA.source})?)?`,`(?:\\[!?(${up.source})\\])?`,`((?:${Xf.source})*)$`].join(""),"i"),qZ=new RegExp([`^T?${$A.source}`,`(?:${HA.source})?`,`(?:\\[!?${up.source}\\])?`,`((?:${Xf.source})*)$`].join(""),"i"),jZ=new RegExp(`^(${FA.source})-?(${$y.source})(?:\\[!?${up.source}\\])?((?:${Xf.source})*)$`),NZ=new RegExp(`^(?:--)?(${$y.source})-?(${k_.source})(?:\\[!?${up.source}\\])?((?:${Xf.source})*)$`),__=/(\d+)(?:[.,](\d{1,9}))?/,LZ=new RegExp(`(?:${__.source}H)?(?:${__.source}M)?(?:${__.source}S)?`),zZ=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${LZ.source})?$`,"i"),UZ=Array.prototype.includes,GA=Array.prototype.push,KA=globalThis.Intl.DateTimeFormat,FZ=Math.min,$Z=Math.max,Vt=Math.abs,On=Math.floor,Rh=Math.sign,ll=Math.trunc,og=Number.isNaN,ln=Number.isFinite,WZ=Number,lp=String,HZ=Number.MAX_SAFE_INTEGER,Gi=Object.create,GZ=Object.getOwnPropertyDescriptor,sg=Reflect.apply,KZ=Reflect.ownKeys,kr=j.default.BigInt(0),jh=j.default.BigInt(1),ta=j.default.BigInt(60),ZA=j.default.BigInt(24),Mt=j.default.BigInt(1e3),go=j.default.BigInt(1e6),ra=j.default.BigInt(1e9),ZZ=j.default.BigInt(-1),VA=j.default.multiply(j.default.BigInt(3600),ra),YA=j.default.multiply(ta,ra),na=j.default.multiply(VA,ZA),tp=j.default.multiply(j.default.BigInt(-86400),j.default.BigInt(1e17)),Ph=j.default.multiply(j.default.BigInt(86400),j.default.BigInt(1e17)),Wy=-271821,Hy=275760,_h=j.default.multiply(j.default.BigInt(-388152),j.default.BigInt(1e13)),VZ=j.default.multiply(na,j.default.BigInt(3660)),JA=j.default.multiply(na,j.default.BigInt(366)),XA=j.default.multiply(na,j.default.BigInt(14)),YZ=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function mo(t){return j.default.equal(t,kr)}function At(t,e){let r=t[e];if(r!==void 0)return r}function He(t,e,r){let i=arguments.length>2?r:[];return sg(t,e,i)}function Yt(t){return typeof t=="object"&&t!==null||typeof t=="function"}function kh(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return WZ(t)}function zr(t){let e=kh(t);if(og(e)||e===0)return 0;if(!ln(e))return e;let r=On(Vt(e));return r===0?0:Rh(e)*r}function Vn(t){if(typeof t!="number"||og(t)||!ln(t))return!1;let e=Vt(t);return On(e)===e}function hn(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return lp(t)}function vt(t){let e=kh(t);if(e===0)return 0;if(og(e)||!ln(e))throw new RangeError("invalid number value");let r=ll(e);return r===0?0:r}function oA(t,e){let r=vt(t);if(r<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function ii(t){let e=kh(t);if(!ln(e))throw new RangeError("infinity is out of range");if(!Vn(e))throw new RangeError(`unsupported fractional value ${t}`);return e===0?0:e}function qr(t,e){return{quotient:j.default.divide(t,e),remainder:j.default.remainder(t,e)}}function Gy(t){return j.default.lessThan(t,kr)}function sA(t){return mo(t)?0:Gy(t)?-1:1}function ms(t){return j.default.lessThan(t,kr)?j.default.multiply(t,ZZ):t}var aA=new Map([["year",vt],["month",oA],["monthCode",hn],["day",oA],["hour",vt],["minute",vt],["second",vt],["millisecond",vt],["microsecond",vt],["nanosecond",vt],["years",ii],["months",ii],["weeks",ii],["days",ii],["hours",ii],["minutes",ii],["seconds",ii],["milliseconds",ii],["microseconds",ii],["nanoseconds",ii],["era",hn],["eraYear",zr],["offset",hn]]),JZ=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),dp=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Ky=new Map(dp.map(t=>[t[0],t[1]])),XZ=new Map(dp.map(([t,e])=>[e,t])),fA=dp.map(([,t])=>t),uA=Array.from(Ky.keys()).sort(),lA=new Map;function QA(t){let e=lA.get(t);return e===void 0&&(e=new KA("en-us",{timeZone:lp(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),lA.set(t,e)),e}function dA(t){if(t==null)throw new TypeError(`Expected object not ${t}`);return Object(t)}function Mh(t,e,r,i){if(e==null)return;let n=KZ(e);for(let s of n)if(!r.some(f=>Object.is(f,s))&&Object.prototype.propertyIsEnumerable.call(e,s)){let f=e[s];if(i&&i.some(c=>Object.is(c,f)))continue;t[s]=f}}function Gr(t){return ni(t,Ge)&&!ni(t,Ct,ee)}function po(t){return ni(t,Qs)}function Tr(t){return ni(t,_r)}function Rr(t){return ni(t,tn,_i,rn,nn,on,sn,an,fn,un)}function ct(t){return ni(t,NA)}function Pr(t){return ni(t,tt,rt,it,nt,ot,st)&&!ni(t,je,Ne,Ue)}function Xe(t){return ni(t,je,Ne,Ue,tt,rt,it,nt,ot,st)}function _t(t){return ni(t,LA)}function ri(t){return ni(t,zA)}function Fe(t){return ni(t,Ge,Ct,ee)}function Nh(t){if(ni(t,ee)||ni(t,Ct))throw new TypeError("with() does not support a calendar or timeZone property");if(Pr(t))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function QZ(t){let{ianaName:e,offset:r,z:i}=function(s){if(new RegExp(`^${up.source}$`,"i").test(s))return{ianaName:s};try{let f=ua(s);if(f.z||f.offset||f.ianaName)return f}catch{}throw new RangeError(`Invalid time zone: ${s}`)}(t);return e?p3(e):i?"UTC":vg(Gf(r))}function n3(t,e){return e==="never"?"":o3(ki(t),e)}function o3(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${t}]`}function ua(t){let e=OZ.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]==="\u2212"&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);let i=zr(r),n=zr(e[2]||e[4]),s=zr(e[3]||e[5]),f=zr(e[6]),c=e[6]!==void 0,m=zr(e[7]||e[10]),w=zr(e[8]||e[11]);w===60&&(w=59);let _=(e[9]||e[12])+"000000000",M=zr(_.slice(0,3)),x=zr(_.slice(3,6)),T=zr(_.slice(6,9)),A,I=!1;if(e[13])A=void 0,I=!0;else if(e[14]&&e[15]){let O=e[14]==="-"||e[14]==="\u2212"?"-":"+",U=e[15]||"00",$=e[16]||"00",W=e[17]||"00",F=e[18]||"0";if(A=`${O}${U}:${$}`,+F){for(;F.endsWith("0");)F=F.slice(0,-1);A+=`:${W}.${F}`}else+W&&(A+=`:${W}`);A==="-00:00"&&(A="+00:00")}let D=e[19],k=e[20],C;for(let[,O,U,$]of k.matchAll(Xf))if(U==="u-ca")C===void 0&&(C=$);else if(O==="!")throw new RangeError(`Unrecognized annotation: !${U}=${$}`);return g3(i,n,s,f,m,w,M,x,T),{year:i,month:n,day:s,hasTime:c,hour:f,minute:m,second:w,millisecond:M,microsecond:x,nanosecond:T,ianaName:D,offset:A,z:I,calendar:C}}function s3(t){let e=jZ.exec(t),r,i,n,s;if(e){let f=e[1];if(f[0]==="\u2212"&&(f=`-${f.slice(1)}`),f==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=zr(f),i=zr(e[2]);let c=e[3];for(let[,m,w,_]of c.matchAll(Xf))if(w==="u-ca")n===void 0&&(n=_);else if(m==="!")throw new RangeError(`Unrecognized annotation: !${w}=${_}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let f;if({year:r,month:i,calendar:n,day:s,z:f}=ua(t),f)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:s}}function a3(t){let e=NZ.exec(t),r,i,n,s;if(e){r=zr(e[1]),i=zr(e[2]);let f=e[3];for(let[,c,m,w]of f.matchAll(Xf))if(m==="u-ca")n===void 0&&(n=w);else if(c==="!")throw new RangeError(`Unrecognized annotation: !${m}=${w}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let f;if({month:r,day:i,calendar:n,year:s,z:f}=ua(t),f)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:s}}function eV(t){let{year:e,month:r,day:i,hour:n,minute:s,second:f,millisecond:c,microsecond:m,nanosecond:w,offset:_,z:M}=function(I){let D=ua(I);if(!D.z&&!D.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return D}(t);if(!M&&!_)throw new RangeError("Temporal.Instant requires a time zone offset");let x=M?0:Gf(_);({year:e,month:r,day:i,hour:n,minute:s,second:f,millisecond:c,microsecond:m,nanosecond:w}=m3(e,r,i,n,s,f,c,m,w-x));let T=Kf(e,r,i,n,s,f,c,m,w);if(T===null)throw new RangeError("DateTime outside of supported range");return T}function Zy(t,e,r,i){let n=t,s=e,f=r;switch(i){case"reject":oa(n,s,f);break;case"constrain":({year:n,month:s,day:f}=yT(n,s,f))}return{year:n,month:s,day:f}}function ag(t,e,r,i,n,s,f){let c=t,m=e,w=r,_=i,M=n,x=s;switch(f){case"reject":wg(c,m,w,_,M,x);break;case"constrain":({hour:c,minute:m,second:w,millisecond:_,microsecond:M,nanosecond:x}=function(A,I,D,k,C,O){let U=Cn(A,0,23),$=Cn(I,0,59),W=Cn(D,0,59),F=Cn(k,0,999),N=Cn(C,0,999),V=Cn(O,0,999);return{hour:U,minute:$,second:W,millisecond:F,microsecond:N,nanosecond:V}}(c,m,w,_,M,x))}return{hour:c,minute:m,second:w,millisecond:_,microsecond:M,nanosecond:x}}function xl(t){if(!Yt(t))return function(A){let I=zZ.exec(A);if(!I)throw new RangeError(`invalid duration: ${A}`);if(I.slice(2).every(v=>v===void 0))throw new RangeError(`invalid duration: ${A}`);let D=I[1]==="-"||I[1]==="\u2212"?-1:1,k=I[2]===void 0?0:vt(I[2])*D,C=I[3]===void 0?0:vt(I[3])*D,O=I[4]===void 0?0:vt(I[4])*D,U=I[5]===void 0?0:vt(I[5])*D,$=I[6]===void 0?0:vt(I[6])*D,W=I[7],F=I[8],N=I[9],V=I[10],b=I[11],o=0,u=0,h=0;if(W!==void 0){if(F??N??V??b)throw new RangeError("only the smallest unit can be fractional");h=3600*zr((W+"000000000").slice(0,9))*D}else if(o=F===void 0?0:vt(F)*D,N!==void 0){if(V??b)throw new RangeError("only the smallest unit can be fractional");h=60*zr((N+"000000000").slice(0,9))*D}else u=V===void 0?0:vt(V)*D,b!==void 0&&(h=zr((b+"000000000").slice(0,9))*D);let l=h%1e3,d=ll(h/1e3)%1e3,y=ll(h/1e6)%1e3;return u+=ll(h/1e9)%60,o+=ll(h/6e10),eg(k,C,O,U,$,o,u,y,d,l),{years:k,months:C,weeks:O,days:U,hours:$,minutes:o,seconds:u,milliseconds:y,microseconds:d,nanoseconds:l}}(hn(t));if(Rr(t))return{years:R(t,tn),months:R(t,_i),weeks:R(t,_n),days:R(t,rn),hours:R(t,nn),minutes:R(t,on),seconds:R(t,sn),milliseconds:R(t,an),microseconds:R(t,fn),nanoseconds:R(t,un)};let e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(A){if(!Yt(A))throw new TypeError("invalid duration-like");let I={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},D=!1;for(let k of uA){let C=A[k];C!==void 0&&(D=!0,I[k]=ii(C))}if(!D)throw new TypeError("invalid duration-like");return I}(t);for(let T of uA){let A=r[T];A!==void 0&&(e[T]=A)}let{years:i,months:n,weeks:s,days:f,hours:c,minutes:m,seconds:w,milliseconds:_,microseconds:M,nanoseconds:x}=e;return eg(i,n,s,f,c,m,w,_,M,x),{years:i,months:n,weeks:s,days:f,hours:c,minutes:m,seconds:w,milliseconds:_,microseconds:M,nanoseconds:x}}function jr(t){return t===void 0?"constrain":Vf(t,"overflow",["constrain","reject"],"constrain")}function Ih(t){return t===void 0?"compatible":Vf(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function gs(t,e){return Vf(t,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function Vy(t,e){return t===void 0?e:Vf(t,"offset",["prefer","use","ignore","reject"],e)}function hp(t){return Vf(t,"calendarName",["auto","always","never","critical"],"auto")}function Lh(t){let e=t.roundingIncrement;if(e===void 0)return 1;if(e=kh(e),!ln(e))throw new RangeError("roundingIncrement must be finite");let r=ll(e);if(r<1||r>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return r}function zh(t,e,r){let i=r?e:e-1;if(t>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${t}`);if(e%t!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function cp(t){let e=t.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(hn(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}let r=On(e);if(!ln(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return r}function pp(t,e){switch(t){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}var ml=Symbol("~required~");function qn(t,e,r,i,n=[]){let s=[];for(let[,w,_]of dp)r!=="datetime"&&r!==_||s.push(w);s.push(...n);let f=i;f===ml?f=void 0:f!==void 0&&s.push(f);let c=[...s];for(let w of s){let _=XZ.get(w);_!==void 0&&c.push(_)}let m=Vf(t,e,c,f);if(m===void 0&&i===ml)throw new RangeError(`${e} is required`);return Ky.has(m)?Ky.get(m):m}function Ly(t){let e=t.relativeTo;if(e===void 0)return e;let r,i,n,s,f,c,m,w,_,M,x,T,A="option",I=!1;if(Yt(e)){if(Fe(e)||ct(e))return e;if(Xe(e))return Dh(e);M=vp(e);let D=Ur(M,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);D.push("timeZone","offset");let k=ut(e,D,[]),C=Gi(null);C.overflow="constrain",{year:r,month:i,day:n,hour:s,minute:f,second:c,millisecond:m,microsecond:w,nanosecond:_}=mp(M,k,C),T=k.offset,T===void 0&&(A="wall"),x=k.timeZone,x!==void 0&&(x=Hi(x))}else{let D,k;if({year:r,month:i,day:n,hour:s,minute:f,second:c,millisecond:m,microsecond:w,nanosecond:_,calendar:M,ianaName:D,offset:T,z:k}=ua(hn(e)),D)x=Hi(D),k?A="exact":T||(A="wall"),I=!0;else if(k)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(M||(M="iso8601"),!of(M))throw new RangeError(`invalid calendar identifier ${M}`);M=sa(M)}return x===void 0?bo(r,i,n,M):Ti(Jy(r,i,n,s,f,c,m,w,_,A,A==="option"?Gf(T):0,x,"compatible","reject",I),x,M)}function I_(t,e,r,i,n,s,f,c,m,w){for(let[_,M]of[["years",t],["months",e],["weeks",r],["days",i],["hours",n],["minutes",s],["seconds",f],["milliseconds",c],["microseconds",m],["nanoseconds",w]])if(M!==0)return Ky.get(_);return"nanosecond"}function yl(t,e){return fA.indexOf(t)>fA.indexOf(e)?e:t}function ut(t,e,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){let n=Gi(null),s=!1;e.sort();for(let f of e){let c=t[f];if(c!==void 0)s=!0,aA.has(f)&&(c=aA.get(f)(c)),n[f]=c;else if(r!=="partial"){if(UZ.call(r,f))throw new TypeError(`required property '${f}' missing or undefined`);c=JZ.get(f),n[f]=c}}if(r==="partial"&&!s)throw new TypeError(i);return n}function Yy(t,e="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=ut(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(let s of r){let f=GZ(i,s);f!==void 0?n[s]=f.value:e==="complete"&&(n[s]=0)}return n}function jt(t,e){let r=t;if(Yt(r)){if(ct(r))return r;if(Fe(r)&&(jr(e),r=Zn(R(r,Ct),R(r,Wi),R(r,ee))),Xe(r))return jr(e),bo(R(r,je),R(r,Ne),R(r,Ue),R(r,ee));let m=vp(r);return rf(m,ut(r,Ur(m,["day","month","monthCode","year"]),[]),e)}jr(e);let{year:i,month:n,day:s,calendar:f,z:c}=function(w){return ua(w)}(hn(r));if(c)throw new RangeError("Z designator not supported for PlainDate");if(f||(f="iso8601"),!of(f))throw new RangeError(`invalid calendar identifier ${f}`);return f=sa(f),bo(i,n,s,f)}function mp(t,e,r){let{hour:i,minute:n,second:s,millisecond:f,microsecond:c,nanosecond:m}=Yy(e),w=jr(r),_=rf(t,e,r),M=R(_,je),x=R(_,Ne),T=R(_,Ue);return{hour:i,minute:n,second:s,millisecond:f,microsecond:c,nanosecond:m}=ag(i,n,s,f,c,m,w),{year:M,month:x,day:T,hour:i,minute:n,second:s,millisecond:f,microsecond:c,nanosecond:m}}function dl(t,e){let r,i,n,s,f,c,m,w,_,M;if(Yt(t)){if(Xe(t))return t;if(Fe(t))return jr(e),Zn(R(t,Ct),R(t,Wi),R(t,ee));if(ct(t))return jr(e),Dn(R(t,je),R(t,Ne),R(t,Ue),0,0,0,0,0,0,R(t,ee));M=vp(t);let x=ut(t,Ur(M,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:s,minute:f,second:c,millisecond:m,microsecond:w,nanosecond:_}=mp(M,x,e))}else{let x;if(jr(e),{year:r,month:i,day:n,hour:s,minute:f,second:c,millisecond:m,microsecond:w,nanosecond:_,calendar:M,z:x}=function(A){return ua(A)}(hn(t)),x)throw new RangeError("Z designator not supported for PlainDateTime");if(g3(r,i,n,s,f,c,m,w,_),M||(M="iso8601"),!of(M))throw new RangeError(`invalid calendar identifier ${M}`);M=sa(M)}return Dn(r,i,n,s,f,c,m,w,_,M)}function xh(t){if(Rr(t))return t;let{years:e,months:r,weeks:i,days:n,hours:s,minutes:f,seconds:c,milliseconds:m,microseconds:w,nanoseconds:_}=xl(t);return new(qe("%Temporal.Duration%"))(e,r,i,n,s,f,c,m,w,_)}function ys(t){if(Gr(t))return t;if(Fe(t))return new(qe("%Temporal.Instant%"))(R(t,Ge));let e=eV(hn(t));return new(qe("%Temporal.Instant%"))(e)}function hA(t,e){let r=t;if(Yt(r)){if(ri(r))return r;let c,m;if(ni(r,ee))c=R(r,ee),m=!1;else{let _=r.calendar;m=_===void 0,_===void 0&&(_="iso8601"),c=jn(_)}let w=ut(r,Ur(c,["day","month","monthCode","year"]),[]);return m&&w.month!==void 0&&w.monthCode===void 0&&w.year===void 0&&(w.year=1972),Bh(c,w,e)}jr(e);let{month:i,day:n,referenceISOYear:s,calendar:f}=a3(hn(r));if(f===void 0&&(f="iso8601"),!of(f))throw new RangeError(`invalid calendar identifier ${f}`);return f=sa(f),s===void 0?(oa(1972,i,n),rp(i,n,f)):Bh(f,rp(i,n,f,s))}function Ja(t,e="constrain"){let r,i,n,s,f,c,m=t;if(Yt(m)){if(Pr(m))return m;if(Fe(m)&&(m=Zn(R(m,Ct),R(m,Wi),R(m,ee))),Xe(m))return new(qe("%Temporal.PlainTime%"))(R(m,tt),R(m,rt),R(m,it),R(m,nt),R(m,ot),R(m,st));({hour:r,minute:i,second:n,millisecond:s,microsecond:f,nanosecond:c}=Yy(m)),{hour:r,minute:i,second:n,millisecond:s,microsecond:f,nanosecond:c}=ag(r,i,n,s,f,c,e)}else({hour:r,minute:i,second:n,millisecond:s,microsecond:f,nanosecond:c}=function(_){let M=qZ.exec(_),x,T,A,I,D,k,C;if(M){x=zr(M[1]),T=zr(M[2]||M[5]),A=zr(M[3]||M[6]),A===60&&(A=59);let O=(M[4]||M[7])+"000000000";I=zr(O.slice(0,3)),D=zr(O.slice(3,6)),k=zr(O.slice(6,9)),C=M[14];for(let[,U,$,W]of C.matchAll(Xf))if($!=="u-ca"&&U==="!")throw new RangeError(`Unrecognized annotation: !${$}=${W}`);if(M[8])throw new RangeError("Z designator not supported for PlainTime")}else{let O,U;if({hasTime:U,hour:x,minute:T,second:A,millisecond:I,microsecond:D,nanosecond:k,z:O}=ua(_),!U)throw new RangeError(`time is missing in string: ${_}`);if(O)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(_))return{hour:x,minute:T,second:A,millisecond:I,microsecond:D,nanosecond:k};try{let{month:O,day:U}=a3(_);oa(1972,O,U)}catch{try{let{year:O,month:U}=s3(_);oa(O,U,1)}catch{return{hour:x,minute:T,second:A,millisecond:I,microsecond:D,nanosecond:k}}}throw new RangeError(`invalid ISO 8601 time-only string ${_}; may need a T prefix`)}(hn(m))),wg(r,i,n,s,f,c);return new(qe("%Temporal.PlainTime%"))(r,i,n,s,f,c)}function J0(t,e){if(Yt(t)){if(_t(t))return t;let f=vp(t);return vl(f,ut(t,Ur(f,["month","monthCode","year"]),[]),e)}jr(e);let{year:r,month:i,referenceISODay:n,calendar:s}=s3(hn(t));if(s===void 0&&(s="iso8601"),!of(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=sa(s),n===void 0?(oa(r,i,1),ip(r,i,s)):vl(s,ip(r,i,s,n))}function Jy(t,e,r,i,n,s,f,c,m,w,_,M,x,T,A){let I=new(qe("%Temporal.PlainDateTime%"))(t,e,r,i,n,s,f,c,m);if(w==="wall"||T==="ignore")return R(dn(M,I,x),Ge);if(w==="exact"||T==="use"){let k=Kf(t,e,r,i,n,s,f,c,m);if(k===null)throw new RangeError("ZonedDateTime outside of supported range");return j.default.subtract(k,j.default.BigInt(_))}let D=Xy(M,I);for(let k of D){let C=vs(M,k),O=j.default.toNumber(Kn(j.default.BigInt(C),YA,"halfExpand"));if(C===_||A&&O===_)return R(k,Ge)}if(T==="reject"){let k=vg(_),C=po(M)?R(M,Qs):"time zone";throw new RangeError(`Offset ${k} is invalid for ${I.toString()} in ${C}`)}return R(fT(D,M,I,x),Ge)}function X0(t,e){let r,i,n,s,f,c,m,w,_,M,x,T,A,I,D=!1,k="option";if(Yt(t)){if(Fe(t))return t;T=vp(t);let O=Ur(T,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);O.push("timeZone","offset");let U=ut(t,O,["timeZone"]);M=Hi(U.timeZone),x=U.offset,x===void 0&&(k="wall"),A=Ih(e),I=Vy(e,"reject"),{year:r,month:i,day:n,hour:s,minute:f,second:c,millisecond:m,microsecond:w,nanosecond:_}=mp(T,U,e)}else{let O,U;if({year:r,month:i,day:n,hour:s,minute:f,second:c,millisecond:m,microsecond:w,nanosecond:_,ianaName:O,offset:x,z:U,calendar:T}=function(W){let F=ua(W);if(!F.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return F}(hn(t)),M=Hi(O),U?k="exact":x||(k="wall"),T||(T="iso8601"),!of(T))throw new RangeError(`invalid calendar identifier ${T}`);T=sa(T),D=!0,A=Ih(e),I=Vy(e,"reject"),jr(e)}let C=0;return k==="option"&&(C=Gf(x)),Ti(Jy(r,i,n,s,f,c,m,w,_,k,C,M,A,I,D),M,T)}function eT(t,e,r,i,n){oa(e,r,i),gT(e,r,i),fa(t),ft(t,je,e),ft(t,Ne,r),ft(t,Ue,i),ft(t,ee,n),ft(t,NA,!0)}function bo(t,e,r,i="iso8601"){let n=qe("%Temporal.PlainDate%"),s=Gi(n.prototype);return eT(s,t,e,r,i),s}function tT(t,e,r,i,n,s,f,c,m,w,_){g3(e,r,i,n,s,f,c,m,w),vT(e,r,i,n,s,f,c,m,w),fa(t),ft(t,je,e),ft(t,Ne,r),ft(t,Ue,i),ft(t,tt,n),ft(t,rt,s),ft(t,it,f),ft(t,nt,c),ft(t,ot,m),ft(t,st,w),ft(t,ee,_)}function Dn(t,e,r,i,n,s,f,c,m,w="iso8601"){let _=qe("%Temporal.PlainDateTime%"),M=Gi(_.prototype);return tT(M,t,e,r,i,n,s,f,c,m,w),M}function rT(t,e,r,i,n){oa(n,e,r),gT(n,e,r),fa(t),ft(t,Ne,e),ft(t,Ue,r),ft(t,je,n),ft(t,ee,i),ft(t,zA,!0)}function rp(t,e,r="iso8601",i=1972){let n=qe("%Temporal.PlainMonthDay%"),s=Gi(n.prototype);return rT(s,t,e,r,i),s}function iT(t,e,r,i,n){oa(e,r,n),function(f,c){Pi(f,Wy,Hy),f===Wy?Pi(c,4,12):f===Hy&&Pi(c,1,9)}(e,r),fa(t),ft(t,je,e),ft(t,Ne,r),ft(t,Ue,n),ft(t,ee,i),ft(t,LA,!0)}function ip(t,e,r="iso8601",i=1){let n=qe("%Temporal.PlainYearMonth%"),s=Gi(n.prototype);return iT(s,t,e,r,i),s}function nT(t,e,r,i){ul(e),fa(t),ft(t,Ge,e),ft(t,Ct,r),ft(t,ee,i);let n=new(qe("%Temporal.Instant%"))(R(t,Ge));ft(t,Wi,n)}function Ti(t,e,r="iso8601"){let i=qe("%Temporal.ZonedDateTime%"),n=Gi(i.prototype);return nT(n,t,e,r),n}function Ur(t,e){if(typeof t=="string"){let n=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.fields%"),n,[e])}let r=He(At(t,"fields"),t,[e]),i=[];for(let n of r){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");GA.call(i,n)}return i}function gl(t,e,r){if(typeof t=="string"){let n=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.mergeFields%"),n,[e,r])}let i=He(At(t,"mergeFields"),t,[e,r]);if(!Yt(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Ri(t,e,r,i,n){let s=n;if(typeof t=="string"){let c=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.dateAdd%"),c,[e,r,i])}s===void 0&&(s=At(t,"dateAdd"));let f=sg(s,t,[e,r,i]);if(!ct(f))throw new TypeError("invalid result");return f}function Hf(t,e,r,i,n){let s=n;if(typeof t=="string"){let c=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.dateUntil%"),c,[e,r,i])}s===void 0&&(s=At(t,"dateUntil"));let f=sg(s,t,[e,r,i]);if(!Rr(f))throw new TypeError("invalid result");return f}function fg(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.year%"),i,[e])}let r=He(At(t,"year"),t,[e]);if(typeof r!="number")throw new TypeError("calendar year result must be an integer");if(!Vn(r))throw new RangeError("calendar year result must be an integer");return r}function ug(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.month%"),i,[e])}let r=He(At(t,"month"),t,[e]);if(typeof r!="number")throw new TypeError("calendar month result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar month result must be a positive integer");return r}function yp(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.monthCode%"),i,[e])}let r=He(At(t,"monthCode"),t,[e]);if(typeof r!="string")throw new TypeError("calendar monthCode result must be a string");return r}function gp(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.day%"),i,[e])}let r=He(At(t,"day"),t,[e]);if(typeof r!="number")throw new TypeError("calendar day result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar day result must be a positive integer");return r}function lg(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.era%"),i,[e])}let r=He(At(t,"era"),t,[e]);if(r===void 0)return r;if(typeof r!="string")throw new TypeError("calendar era result must be a string or undefined");return r}function dg(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.eraYear%"),i,[e])}let r=He(At(t,"eraYear"),t,[e]);if(r===void 0)return r;if(typeof r!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Vn(r))throw new RangeError("calendar eraYear result must be an integer or undefined");return r}function f3(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.dayOfWeek%"),i,[e])}let r=He(At(t,"dayOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return r}function u3(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.dayOfYear%"),i,[e])}let r=He(At(t,"dayOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return r}function l3(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.weekOfYear%"),i,[e])}let r=He(At(t,"weekOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return r}function d3(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.yearOfWeek%"),i,[e])}let r=He(At(t,"yearOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!Vn(r))throw new RangeError("calendar yearOfWeek result must be an integer");return r}function h3(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.daysInWeek%"),i,[e])}let r=He(At(t,"daysInWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return r}function hg(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.daysInMonth%"),i,[e])}let r=He(At(t,"daysInMonth"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return r}function cg(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.daysInYear%"),i,[e])}let r=He(At(t,"daysInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar daysInYear result must be a positive integer");return r}function pg(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.monthsInYear%"),i,[e])}let r=He(At(t,"monthsInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Vn(r)||r<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return r}function mg(t,e){if(typeof t=="string"){let i=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.inLeapYear%"),i,[e])}let r=He(At(t,"inLeapYear"),t,[e]);if(typeof r!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return r}function jn(t){if(Yt(t)){if(ni(t,ee))return R(t,ee);if(!function(n){return!!Tr(n)||"dateAdd"in n&&"dateFromFields"in n&&"dateUntil"in n&&"day"in n&&"dayOfWeek"in n&&"dayOfYear"in n&&"daysInMonth"in n&&"daysInWeek"in n&&"daysInYear"in n&&"fields"in n&&"id"in n&&"inLeapYear"in n&&"mergeFields"in n&&"month"in n&&"monthCode"in n&&"monthDayFromFields"in n&&"monthsInYear"in n&&"weekOfYear"in n&&"year"in n&&"yearMonthFromFields"in n&&"yearOfWeek"in n}(t))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return t}let e=hn(t);if(of(e))return sa(e);let r;try{({calendar:r}=ua(e))}catch{try{({calendar:r}=s3(e))}catch{({calendar:r}=a3(e))}}if(r||(r="iso8601"),!of(r))throw new RangeError(`invalid calendar identifier ${r}`);return sa(r)}function vp(t){if(ni(t,ee))return R(t,ee);let{calendar:e}=t;return e===void 0?"iso8601":jn(e)}function ki(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function Uh(t){return Yt(t)?t:new(qe("%Temporal.Calendar%"))(t)}function bp(t,e){return t===e?!0:ki(t)===ki(e)}function yg(t,e,r){if(t===e)return;let i=ki(t),n=ki(e);if(i!==n)throw new RangeError(`cannot ${r} of ${i} and ${n} calendars`)}function oT(t,e){if(t===e)return e;let r=ki(t),i=ki(e);if(r===i||r==="iso8601")return e;if(i==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function rf(t,e,r,i){if(typeof t=="string"){let s=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.dateFromFields%"),s,[e,r])}let n=He(i??At(t,"dateFromFields"),t,[e,r]);if(!ct(n))throw new TypeError("invalid result");return n}function vl(t,e,r){if(typeof t=="string"){let n=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.yearMonthFromFields%"),n,[e,r])}let i=He(At(t,"yearMonthFromFields"),t,[e,r]);if(!_t(i))throw new TypeError("invalid result");return i}function Bh(t,e,r){if(typeof t=="string"){let n=new(qe("%Temporal.Calendar%"))(t);return He(qe("%Temporal.Calendar.prototype.monthDayFromFields%"),n,[e,r])}let i=He(At(t,"monthDayFromFields"),t,[e,r]);if(!ri(i))throw new TypeError("invalid result");return i}function Hi(t){if(Yt(t)){if(Fe(t))return R(t,Ct);if(!function(r){return!!po(r)||"getOffsetNanosecondsFor"in r&&"getPossibleInstantsFor"in r&&"id"in r}(t))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return t}return QZ(hn(t))}function np(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function sT(t){return Yt(t)?t:new(qe("%Temporal.TimeZone%"))(t)}function aT(t,e){return t===e?!0:np(t)===np(e)}function Dh(t){return bo(R(t,je),R(t,Ne),R(t,Ue),R(t,ee))}function c3(t){return new(qe("%Temporal.PlainTime%"))(R(t,tt),R(t,rt),R(t,it),R(t,nt),R(t,ot),R(t,st))}function vs(t,e,r){if(typeof t=="string"){let n=new(qe("%Temporal.TimeZone%"))(t);return He(qe("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),n,[e])}let i=He(r??At(t,"getOffsetNanosecondsFor"),t,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Vn(i)||Vt(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function B_(t,e){return vg(vs(t,e))}function Zn(t,e,r){let i=R(e,Ge),n=vs(t,e),{year:s,month:f,day:c,hour:m,minute:w,second:_,millisecond:M,microsecond:x,nanosecond:T}=lT(i);return{year:s,month:f,day:c,hour:m,minute:w,second:_,millisecond:M,microsecond:x,nanosecond:T}=m3(s,f,c,m,w,_,M,x,T+n),Dn(s,f,c,m,w,_,M,x,T,r)}function dn(t,e,r){return fT(Xy(t,e),t,e,r)}function fT(t,e,r,i){let n=qe("%Temporal.Instant%"),s=t.length;if(s===1)return t[0];if(s)switch(i){case"compatible":case"earlier":return t[0];case"later":return t[s-1];case"reject":throw new RangeError("multiple instants found")}let f=R(r,je),c=R(r,Ne),m=R(r,Ue),w=R(r,tt),_=R(r,rt),M=R(r,it),x=R(r,nt),T=R(r,ot),A=R(r,st),I=Kf(f,c,m,w,_,M,x,T,A);if(I===null)throw new RangeError("DateTime outside of supported range");let D=new n(j.default.subtract(I,na)),k=new n(j.default.add(I,na)),C=vs(e,D),O=vs(e,k)-C;switch(i){case"earlier":{let U=R(r,ee),$=qe("%Temporal.PlainDateTime%"),W=q_(f,c,m,w,_,M,x,T,A,U,0,0,0,0,0,0,0,0,0,-O,void 0);return Xy(e,new $(W.year,W.month,W.day,W.hour,W.minute,W.second,W.millisecond,W.microsecond,W.nanosecond,U))[0]}case"compatible":case"later":{let U=R(r,ee),$=qe("%Temporal.PlainDateTime%"),W=q_(f,c,m,w,_,M,x,T,A,U,0,0,0,0,0,0,0,0,0,O,void 0),F=Xy(e,new $(W.year,W.month,W.day,W.hour,W.minute,W.second,W.millisecond,W.microsecond,W.nanosecond,U));return F[F.length-1]}case"reject":throw new RangeError("no such instant found")}}function Xy(t,e,r){if(typeof t=="string"){let s=new(qe("%Temporal.TimeZone%"))(t);return He(qe("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),s,[e])}let i=He(r??At(t,"getPossibleInstantsFor"),t,[e]),n=[];for(let s of i){if(!Gr(s))throw new TypeError("bad return from getPossibleInstantsFor");GA.call(n,s)}return n}function Sl(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${Vt(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function Qt(t){return`00${t}`.slice(-2)}function gg(t,e,r,i,n){if(n==="minute")return"";let s=`:${Qt(t)}`,f,c=1e6*e+1e3*r+i;if(n==="auto"){if(c===0)return s;for(f=`${c}`.padStart(9,"0");f[f.length-1]==="0";)f=f.slice(0,-1)}else{if(n===0)return s;f=`${c}`.padStart(9,"0").slice(0,n)}return`${s}.${f}`}function cA(t,e,r){let i=e;i===void 0&&(i="UTC");let n=Zn(i,t,"iso8601"),s=Sl(R(n,je)),f=Qt(R(n,Ne)),c=Qt(R(n,Ue)),m=Qt(R(n,tt)),w=Qt(R(n,rt)),_=gg(R(n,it),R(n,nt),R(n,ot),R(n,st),r),M="Z";return e!==void 0&&(M=uT(vs(i,t))),`${s}-${f}-${c}T${m}:${w}${_}${M}`}function M_(t,e="auto",r){function i(V){return V<=HZ?V.toString(10):j.default.BigInt(V).toString(10)}let n=R(t,tn),s=R(t,_i),f=R(t,_n),c=R(t,rn),m=R(t,nn),w=R(t,on),_=R(t,sn),M=R(t,an),x=R(t,fn),T=R(t,un),A=ia(n,s,f,c,m,w,_,M,x,T);if(r){let{unit:V,increment:b,roundingMode:o}=r;({seconds:_,milliseconds:M,microseconds:x,nanoseconds:T}=nf(0,0,0,0,0,0,_,M,x,T,b,V,o))}let I=[];n&&I.push(`${i(Vt(n))}Y`),s&&I.push(`${i(Vt(s))}M`),f&&I.push(`${i(Vt(f))}W`),c&&I.push(`${i(Vt(c))}D`);let D=[];m&&D.push(`${i(Vt(m))}H`),w&&D.push(`${i(Vt(w))}M`);let k=[],C,O,U,$,W=Ch(0,0,0,_,M,x,T,0);({quotient:W,remainder:C}=qr(W,Mt)),{quotient:W,remainder:O}=qr(W,Mt),{quotient:$,remainder:U}=qr(W,Mt);let F=1e6*Vt(j.default.toNumber(U))+1e3*Vt(j.default.toNumber(O))+Vt(j.default.toNumber(C)),N;if(e==="auto"){if(F!==0)for(N=`${F}`.padStart(9,"0");N[N.length-1]==="0";)N=N.slice(0,-1)}else e!==0&&(N=`${F}`.padStart(9,"0").slice(0,e));return N&&k.unshift(".",N),j.default.equal($,kr)&&!k.length&&e==="auto"||k.unshift(ms($).toString()),k.length&&D.push(`${k.join("")}S`),D.length&&D.unshift("T"),I.length||D.length?`${A<0?"-":""}P${I.join("")}${D.join("")}`:"PT0S"}function pA(t,e="auto"){return`${Sl(R(t,je))}-${Qt(R(t,Ne))}-${Qt(R(t,Ue))}${n3(R(t,ee),e)}`}function mA(t,e,r="auto",i){let n=R(t,je),s=R(t,Ne),f=R(t,Ue),c=R(t,tt),m=R(t,rt),w=R(t,it),_=R(t,nt),M=R(t,ot),x=R(t,st);if(i){let{unit:T,increment:A,roundingMode:I}=i;({year:n,month:s,day:f,hour:c,minute:m,second:w,millisecond:_,microsecond:M,nanosecond:x}=_3(n,s,f,c,m,w,_,M,x,A,T,I))}return`${Sl(n)}-${Qt(s)}-${Qt(f)}T${Qt(c)}:${Qt(m)}${gg(w,_,M,x,e)}${n3(R(t,ee),r)}`}function yA(t,e="auto"){let r=`${Qt(R(t,Ne))}-${Qt(R(t,Ue))}`,i=ki(R(t,ee));(e==="always"||e==="critical"||i!=="iso8601")&&(r=`${Sl(R(t,je))}-${r}`);let n=o3(i,e);return n&&(r+=n),r}function gA(t,e="auto"){let r=`${Sl(R(t,je))}-${Qt(R(t,Ne))}`,i=ki(R(t,ee));(e==="always"||e==="critical"||i!=="iso8601")&&(r+=`-${Qt(R(t,Ue))}`);let n=o3(i,e);return n&&(r+=n),r}function vA(t,e,r="auto",i="auto",n="auto",s){let f=R(t,Wi);if(s){let{unit:_,increment:M,roundingMode:x}=s,T=tg(R(t,Ge),M,_,x);f=new(qe("%Temporal.Instant%"))(T)}let c=R(t,Ct),m=Zn(c,f,"iso8601"),w=`${Sl(R(m,je))}-${Qt(R(m,Ne))}-${Qt(R(m,Ue))}T${Qt(R(m,tt))}:${Qt(R(m,rt))}${gg(R(m,it),R(m,nt),R(m,ot),R(m,st),e)}`;return n!=="never"&&(w+=uT(vs(c,f))),i!=="never"&&(w+=`[${i==="critical"?"!":""}${np(c)}]`),w+=n3(R(t,ee),r),w}function wh(t){return ET.test(lp(t))}function Gf(t){let e=ET.exec(lp(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function p3(t){return wh(t)?vg(Gf(t)):QA(lp(t)).resolvedOptions().timeZone}function Xa(t,e){let{year:r,month:i,day:n,hour:s,minute:f,second:c,millisecond:m,microsecond:w,nanosecond:_}=dT(t,e),M=r%400,x=(r-M)/400,T=j.default.multiply(j.default.BigInt(146097),na),A=Kf(M,i,n,s,f,c,m,w,_),I=j.default.add(A,j.default.multiply(T,j.default.BigInt(x)));return j.default.toNumber(j.default.subtract(I,e))}function vg(t){let e=t<0?"-":"+",r=Vt(t),i=r%1e9,n=On(r/1e9)%60,s=On(r/6e10)%60,f=Qt(On(r/36e11)),c=Qt(s),m=Qt(n),w="";if(i){let _=`${i}`.padStart(9,"0");for(;_[_.length-1]==="0";)_=_.slice(0,-1);w=`:${m}.${_}`}else n&&(w=`:${m}`);return`${e}${f}:${c}${w}`}function uT(t){let e=j.default.toNumber(Kn(j.default.BigInt(t),YA,"halfExpand")),r=e<0?"-":"+";e=Vt(e);let i=e/6e10%60;return`${r}${Qt(On(e/36e11))}:${Qt(i)}`}function Kf(t,e,r,i,n,s,f,c,m){let w=new Date;w.setUTCHours(i,n,s,f),w.setUTCFullYear(t,e-1,r);let _=w.getTime();if(og(_))return null;let M=j.default.multiply(j.default.BigInt(_),go);return M=j.default.add(M,j.default.multiply(j.default.BigInt(c),Mt)),M=j.default.add(M,j.default.BigInt(m)),j.default.lessThan(M,tp)||j.default.greaterThan(M,Ph)?null:M}function lT(t){let{quotient:e,remainder:r}=qr(t,go),i=j.default.toNumber(e),n=j.default.toNumber(r);n<0&&(n+=1e6,i-=1);let s=On(n/1e3)%1e3,f=n%1e3,c=new Date(i);return{epochMilliseconds:i,year:c.getUTCFullYear(),month:c.getUTCMonth()+1,day:c.getUTCDate(),hour:c.getUTCHours(),minute:c.getUTCMinutes(),second:c.getUTCSeconds(),millisecond:c.getUTCMilliseconds(),microsecond:s,nanosecond:f}}function dT(t,e){let{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:s}=lT(e),{year:f,month:c,day:m,hour:w,minute:_,second:M}=function(T,A){let I=QA(T).format(new Date(A));return function(k){let C=k.split(/[^\w]+/);if(C.length!==7)throw new RangeError(`expected 7 parts in "${k}`);let O=+C[0],U=+C[1],$=+C[2],W=C[3].toUpperCase();if(W==="B"||W==="BC")$=1-$;else if(W!=="A"&&W!=="AD")throw new RangeError(`Unknown era ${W} in "${k}`);let F=+C[4];F===24&&(F=0);let N=+C[5],V=+C[6];if(!(ln($)&&ln(O)&&ln(U)&&ln(F)&&ln(N)&&ln(V)))throw new RangeError(`Invalid number in "${k}`);return{year:$,month:O,day:U,hour:F,minute:N,second:V}}(I)}(t,r);return m3(f,c,m,w,_,M,i,n,s)}function bA(t,e){return j.default.lessThan(t,e)?e:t}function hT(){return j.default.add(x3(),VZ)}function cT(t,e){if(j.default.lessThan(e,_h))return cT(t,_h);let r=j.default.add(e,JA),i=bA(hT(),r),n=bA(_h,e),s=Xa(t,n),f=n,c=s;for(;s===c&&j.default.lessThan(j.default.BigInt(n),i);){if(f=j.default.add(n,XA),j.default.greaterThan(f,Ph))return null;c=Xa(t,f),s===c&&(n=f)}return s===c?null:AT(m=>Xa(t,m),n,f,s,c)}function D_(t,e){let r=hT(),i=j.default.greaterThan(e,r),n=i?j.default.subtract(e,JA):_h;if(t==="Africa/Casablanca"||t==="Africa/El_Aaiun"){let w=R(ys("2088-01-01T00Z"),Ge);if(j.default.lessThan(w,e))return D_(t,w)}let s=j.default.subtract(e,jh);if(j.default.lessThan(s,_h))return null;let f=Xa(t,s),c=s,m=f;for(;f===m&&j.default.greaterThan(s,n);){if(c=j.default.subtract(s,XA),j.default.lessThan(c,_h))return null;m=Xa(t,c),f===m&&(s=c)}if(f===m){if(i){let w=j.default.subtract(r,na);return D_(t,w)}return null}return AT(w=>Xa(t,w),c,s,m,f)}function Zf(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function Qa(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Zf(t)?"leapyear":"standard"][e-1]}function C_(t,e,r){let i=e+(e<3?10:-2),n=t-(e<3?1:0),s=On(n/100),f=n-100*s,c=(r+On(2.6*i-.2)+(f+On(f/4))+(On(s/4)-2*s))%7;return c+(c<=0?7:0)}function Qy(t,e,r){let i=r;for(let n=e-1;n>0;n--)i+=Qa(t,n);return i}function wA(t,e,r){let i=Qy(t,e,r),n=C_(t,e,r)||7,s=C_(t,1,1),f=On((i-n+10)/7);return f<1?s===5||s===6&&Zf(t-1)?{week:53,year:t-1}:{week:52,year:t-1}:f===53&&(Zf(t)?366:365)-i<4-n?{week:1,year:t+1}:{week:f,year:t}}function ia(t,e,r,i,n,s,f,c,m,w){for(let _ of[t,e,r,i,n,s,f,c,m,w])if(_!==0)return _<0?-1:1;return 0}function zy(t,e){let r=t,i=e;if(!ln(r)||!ln(i))throw new RangeError("infinity is out of range");return i-=1,r+=On(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function bg(t,e,r){let i=t,n=e,s=r;if(!ln(s))throw new RangeError("infinity is out of range");({year:i,month:n}=zy(i,n));let f=146097;if(Vt(s)>f){let w=ll(s/f);i+=400*w,s-=w*f}let c=0,m=n>2?i:i-1;for(;c=Zf(m)?366:365,s<-c;)i-=1,m-=1,s+=c;for(m+=1;c=Zf(m)?366:365,s>c;)i+=1,m+=1,s-=c;for(;s<1;)({year:i,month:n}=zy(i,n-1)),s+=Qa(i,n);for(;s>Qa(i,n);)s-=Qa(i,n),{year:i,month:n}=zy(i,n+1);return{year:i,month:n,day:s}}function m3(t,e,r,i,n,s,f,c,m){let{deltaDays:w,hour:_,minute:M,second:x,millisecond:T,microsecond:A,nanosecond:I}=Ya(i,n,s,f,c,m),{year:D,month:k,day:C}=bg(t,e,r+w);return{year:D,month:k,day:C,hour:_,minute:M,second:x,millisecond:T,microsecond:A,nanosecond:I}}function Ya(t,e,r,i,n,s){let f,c=j.default.BigInt(t),m=j.default.BigInt(e),w=j.default.BigInt(r),_=j.default.BigInt(i),M=j.default.BigInt(n),x=j.default.BigInt(s);return{quotient:f,remainder:x}=fl(x,Mt),M=j.default.add(M,f),{quotient:f,remainder:M}=fl(M,Mt),_=j.default.add(_,f),{quotient:f,remainder:_}=fl(_,Mt),w=j.default.add(w,f),{quotient:f,remainder:w}=fl(w,ta),m=j.default.add(m,f),{quotient:f,remainder:m}=fl(m,ta),c=j.default.add(c,f),{quotient:f,remainder:c}=fl(c,ZA),{deltaDays:j.default.toNumber(f),hour:j.default.toNumber(c),minute:j.default.toNumber(m),second:j.default.toNumber(w),millisecond:j.default.toNumber(_),microsecond:j.default.toNumber(M),nanosecond:j.default.toNumber(x)}}function Ch(t,e,r,i,n,s,f,c){let m=j.default.BigInt(t),w=j.default.BigInt(f);t!==0&&(w=j.default.subtract(j.default.BigInt(f),j.default.BigInt(c)));let _=j.default.add(j.default.BigInt(e),j.default.multiply(m,j.default.BigInt(24))),M=j.default.add(j.default.BigInt(r),j.default.multiply(_,ta)),x=j.default.add(j.default.BigInt(i),j.default.multiply(M,ta)),T=j.default.add(j.default.BigInt(n),j.default.multiply(x,Mt)),A=j.default.add(j.default.BigInt(s),j.default.multiply(T,Mt));return j.default.add(j.default.BigInt(w),j.default.multiply(A,Mt))}function y3(t,e){let r=qe("%Temporal.Instant%"),i=Rh(j.default.toNumber(t)),n=j.default.BigInt(t),s=864e11;if(i===0)return{days:0,nanoseconds:kr,dayLengthNs:s};if(!Fe(e)){let O;return{quotient:O,remainder:n}=qr(n,j.default.BigInt(s)),{days:j.default.toNumber(O),nanoseconds:n,dayLengthNs:s}}let f=R(e,Ge),c=R(e,Wi),m=j.default.add(f,n),w=new r(m),_=R(e,Ct),M=R(e,ee),x=Zn(_,c,M),T=Zn(_,w,M),{days:A}=w3(R(x,je),R(x,Ne),R(x,Ue),R(x,tt),R(x,rt),R(x,it),R(x,nt),R(x,ot),R(x,st),R(T,je),R(T,Ne),R(T,Ue),R(T,tt),R(T,rt),R(T,it),R(T,nt),R(T,ot),R(T,st),M,"day",Gi(null)),I=vo(c,_,M,0,0,0,A,0,0,0,0,0,0),D=j.default.BigInt(A);if(i===1)for(;j.default.greaterThan(D,kr)&&j.default.greaterThan(I,m);)D=j.default.subtract(D,jh),I=vo(c,_,M,0,0,0,j.default.toNumber(D),0,0,0,0,0,0);n=j.default.subtract(m,I);let k=!1,C=new r(I);do{let O=vo(C,_,M,0,0,0,i,0,0,0,0,0,0),U=R(C,Ge);s=j.default.toNumber(j.default.subtract(O,U)),k=j.default.greaterThanOrEqual(j.default.multiply(j.default.subtract(n,j.default.BigInt(s)),j.default.BigInt(i)),kr),k&&(n=j.default.subtract(n,j.default.BigInt(s)),C=new r(O),D=j.default.add(D,j.default.BigInt(i)))}while(k);if(!mo(D)&&sA(D)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!mo(n)&&sA(n)!==i)throw Gy(n)&&i===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(j.default.greaterThanOrEqual(ms(n),ms(j.default.BigInt(s))))throw new Error("assert not reached");return{days:j.default.toNumber(D),nanoseconds:n,dayLengthNs:Vt(s)}}function Oo(t,e,r,i,n,s,f,c,m){let w=pT(t,e,r,i,n,s,f,c,m);if(w==="positive overflow"||w==="negative overflow")throw new RangeError("Duration out of range");return w}function pT(t,e,r,i,n,s,f,c,m){let w,_,M,x,T,A,I=t;if(Fe(m)){let F=vo(R(m,Wi),R(m,Ct),R(m,ee),0,0,0,I,e,r,i,n,s,f),N=R(m,Ge);w=j.default.subtract(F,N)}else w=Ch(I,e,r,i,n,s,f,0);c==="year"||c==="month"||c==="week"||c==="day"?{days:I,nanoseconds:w}=y3(w,m):I=0;let D=j.default.lessThan(w,kr)?-1:1;switch(w=ms(w),_=M=x=T=A=kr,c){case"year":case"month":case"week":case"day":case"hour":({quotient:_,remainder:w}=qr(w,Mt)),{quotient:M,remainder:_}=qr(_,Mt),{quotient:x,remainder:M}=qr(M,Mt),{quotient:T,remainder:x}=qr(x,ta),{quotient:A,remainder:T}=qr(T,ta);break;case"minute":({quotient:_,remainder:w}=qr(w,Mt)),{quotient:M,remainder:_}=qr(_,Mt),{quotient:x,remainder:M}=qr(M,Mt),{quotient:T,remainder:x}=qr(x,ta);break;case"second":({quotient:_,remainder:w}=qr(w,Mt)),{quotient:M,remainder:_}=qr(_,Mt),{quotient:x,remainder:M}=qr(M,Mt);break;case"millisecond":({quotient:_,remainder:w}=qr(w,Mt)),{quotient:M,remainder:_}=qr(_,Mt);break;case"microsecond":({quotient:_,remainder:w}=qr(w,Mt));break;case"nanosecond":break;default:throw new Error("assert not reached")}let k=j.default.toNumber(A)*D,C=j.default.toNumber(T)*D,O=j.default.toNumber(x)*D,U=j.default.toNumber(M)*D,$=j.default.toNumber(_)*D,W=j.default.toNumber(w)*D;for(let F of[I,k,C,O,U,$,W])if(!ln(F))return D===1?"positive overflow":"negative overflow";return{days:I,hours:k,minutes:C,seconds:O,milliseconds:U,microseconds:$,nanoseconds:W}}function Ny(t,e,r,i,n,s){let f=qe("%Temporal.Duration%"),c=ia(t,e,r,i,0,0,0,0,0,0);if(c===0)return{years:t,months:e,weeks:r,days:i};let m=j.default.BigInt(c),w,_,M=j.default.BigInt(t),x=j.default.BigInt(e),T=j.default.BigInt(r),A=j.default.BigInt(i);s&&(_=jt(s),w=R(_,ee));let I=new f(c),D=new f(0,c),k=new f(0,0,c);switch(n){case"year":break;case"month":{if(!w)throw new RangeError("a starting point is required for months balancing");let C,O;for(typeof w!="string"&&(C=At(w,"dateAdd"),O=At(w,"dateUntil"));!mo(M);){let U=Ri(w,_,I,void 0,C),$=Gi(null);$.largestUnit="month";let W=Hf(w,_,U,$,O),F=j.default.BigInt(R(W,_i));_=U,x=j.default.add(x,F),M=j.default.subtract(M,m)}}break;case"week":{if(!w)throw new RangeError("a starting point is required for weeks balancing");let C=typeof w!="string"?At(w,"dateAdd"):void 0;for(;!mo(M);){let O;({relativeTo:_,days:O}=$i(w,_,I,C)),A=j.default.add(A,j.default.BigInt(O)),M=j.default.subtract(M,m)}for(;!mo(x);){let O;({relativeTo:_,days:O}=$i(w,_,D,C)),A=j.default.add(A,j.default.BigInt(O)),x=j.default.subtract(x,m)}break}default:{if(mo(M)&&mo(x)&&mo(T))break;if(!w)throw new RangeError("a starting point is required for balancing calendar units");let C=typeof w!="string"?At(w,"dateAdd"):void 0;for(;!mo(M);){let O;({relativeTo:_,days:O}=$i(w,_,I,C)),A=j.default.add(A,j.default.BigInt(O)),M=j.default.subtract(M,m)}for(;!mo(x);){let O;({relativeTo:_,days:O}=$i(w,_,D,C)),A=j.default.add(A,j.default.BigInt(O)),x=j.default.subtract(x,m)}for(;!mo(T);){let O;({relativeTo:_,days:O}=$i(w,_,k,C)),A=j.default.add(A,j.default.BigInt(O)),T=j.default.subtract(T,m)}break}}return{years:j.default.toNumber(M),months:j.default.toNumber(x),weeks:j.default.toNumber(T),days:j.default.toNumber(A)}}function _A(t,e,r,i,n){if(Fe(t)){let s=R(t,Wi),f=R(t,Ct),c=R(t,ee),m=vs(f,s),w=vo(s,f,c,e,r,i,n,0,0,0,0,0,0);return vs(f,new(qe("%Temporal.Instant%"))(w))-m}return 0}function mT(t){return new(qe("%Temporal.Duration%"))(-R(t,tn),-R(t,_i),-R(t,_n),-R(t,rn),-R(t,nn),-R(t,on),-R(t,sn),-R(t,an),-R(t,fn),-R(t,un))}function Cn(t,e,r){return FZ(r,$Z(e,t))}function yT(t,e,r){let i=Cn(e,1,12);return{year:t,month:i,day:Cn(r,1,Qa(t,i))}}function Pi(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function oa(t,e,r){Pi(e,1,12),Pi(r,1,Qa(t,e))}function gT(t,e,r){vT(t,e,r,12,0,0,0,0,0)}function wg(t,e,r,i,n,s){Pi(t,0,23),Pi(e,0,59),Pi(r,0,59),Pi(i,0,999),Pi(n,0,999),Pi(s,0,999)}function g3(t,e,r,i,n,s,f,c,m){oa(t,e,r),wg(i,n,s,f,c,m)}function vT(t,e,r,i,n,s,f,c,m){if(Pi(t,Wy,Hy),t===Wy&&Kf(t,e,r+1,i,n,s,f,c,m-1)==null||t===Hy&&Kf(t,e,r-1,i,n,s,f,c,m+1)==null)throw new RangeError("DateTime outside of supported range")}function ul(t){if(j.default.lessThan(t,tp)||j.default.greaterThan(t,Ph))throw new RangeError("Instant outside of supported range")}function eg(t,e,r,i,n,s,f,c,m,w){let _=ia(t,e,r,i,n,s,f,c,m,w);for(let M of[t,e,r,i,n,s,f,c,m,w]){if(!ln(M))throw new RangeError("infinite values not allowed as duration fields");let x=Rh(M);if(x!==0&&x!==_)throw new RangeError("mixed-sign values not allowed as duration fields")}}function v3(t,e,r,i,n,s,f){switch(f){case"year":case"month":{let c=-Wf(t,e,r,i,n,s);if(c===0)return{years:0,months:0,weeks:0,days:0};let m={year:t,month:e,day:r},w={year:i,month:n,day:s},_=w.year-m.year,M=hl(t,e,r,_,0,0,0,"constrain"),x=-Wf(M.year,M.month,M.day,i,n,s);if(x===0)return f==="year"?{years:_,months:0,weeks:0,days:0}:{years:0,months:12*_,weeks:0,days:0};let T=w.month-m.month;if(x!==c&&(_-=c,T+=12*c),M=hl(t,e,r,_,T,0,0,"constrain"),x=-Wf(M.year,M.month,M.day,i,n,s),x===0)return f==="year"?{years:_,months:T,weeks:0,days:0}:{years:0,months:T+12*_,weeks:0,days:0};x!==c&&(T-=c,T===-c&&(_-=c,T=11*c),M=hl(t,e,r,_,T,0,0,"constrain"));let A=0;return A=M.month===w.month?w.day-M.day:c<0?-M.day-(Qa(w.year,w.month)-w.day):w.day+(Qa(M.year,M.month)-M.day),f==="month"&&(T+=12*_,_=0),{years:_,months:T,weeks:0,days:A}}case"week":case"day":{let c,m,w;Wf(t,e,r,i,n,s)<0?(m={year:t,month:e,day:r},c={year:i,month:n,day:s},w=1):(m={year:i,month:n,day:s},c={year:t,month:e,day:r},w=-1);let _=Qy(c.year,c.month,c.day)-Qy(m.year,m.month,m.day);for(let x=m.year;x<c.year;++x)_+=Zf(x)?366:365;let M=0;return f==="week"&&(M=On(_/7),_%=7),M*=w,_*=w,{years:0,months:0,weeks:M,days:_}}default:throw new Error("assert not reached")}}function bT(t,e,r,i,n,s,f,c,m,w,_,M){let x=f-t,T=c-e,A=m-r,I=w-i,D=_-n,k=M-s,C=ia(0,0,0,0,x,T,A,I,D,k);x*=C,T*=C,A*=C,I*=C,D*=C,k*=C;let O=0;if({deltaDays:O,hour:x,minute:T,second:A,millisecond:I,microsecond:D,nanosecond:k}=Ya(x,T,A,I,D,k),O!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return x*=C,T*=C,A*=C,I*=C,D*=C,k*=C,{hours:x,minutes:T,seconds:A,milliseconds:I,microseconds:D,nanoseconds:k}}function b3(t,e,r,i,n,s){let f=j.default.subtract(e,t),c=0,m=0,w=j.default.toNumber(j.default.remainder(f,Mt)),_=j.default.toNumber(j.default.remainder(j.default.divide(f,Mt),Mt)),M=j.default.toNumber(j.default.remainder(j.default.divide(f,go),Mt)),x=j.default.toNumber(j.default.divide(f,ra));return{hours:c,minutes:m,seconds:x,milliseconds:M,microseconds:_,nanoseconds:w}=nf(0,0,0,0,0,0,x,M,_,w,r,i,s),Oo(0,c,m,x,M,_,w,n)}function w3(t,e,r,i,n,s,f,c,m,w,_,M,x,T,A,I,D,k,C,O,U){let $=t,W=e,F=r,{hours:N,minutes:V,seconds:b,milliseconds:o,microseconds:u,nanoseconds:h}=bT(i,n,s,f,c,m,x,T,A,I,D,k),l=ia(0,0,0,0,N,V,b,o,u,h);Wf(w,_,M,$,W,F)===-l&&({year:$,month:W,day:F}=bg($,W,F-l),{hours:N,minutes:V,seconds:b,milliseconds:o,microseconds:u,nanoseconds:h}=Oo(-l,N,V,b,o,u,h,O));let d=bo($,W,F,C),y=bo(w,_,M,C),v=yl("day",O),p=Qf(U);p.largestUnit=v;let{years:a,months:g,weeks:P,days:S}=Hf(C,d,y,p);return{days:S,hours:N,minutes:V,seconds:b,milliseconds:o,microseconds:u,nanoseconds:h}=Oo(S,N,V,b,o,u,h,O),{years:a,months:g,weeks:P,days:S,hours:N,minutes:V,seconds:b,milliseconds:o,microseconds:u,nanoseconds:h}}function wT(t,e,r,i,n,s){let f=j.default.subtract(e,t);if(j.default.equal(f,kr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let c=qe("%Temporal.Instant%"),m=new c(t),w=new c(e),_=Zn(r,m,i),M=Zn(r,w,i),{years:x,months:T,weeks:A,days:I}=w3(R(_,je),R(_,Ne),R(_,Ue),R(_,tt),R(_,rt),R(_,it),R(_,nt),R(_,ot),R(_,st),R(M,je),R(M,Ne),R(M,Ue),R(M,tt),R(M,rt),R(M,it),R(M,nt),R(M,ot),R(M,st),i,n,s),D=vo(m,r,i,x,T,A,0,0,0,0,0,0,0),k=j.default.subtract(e,D),C=Ti(D,r,i);({nanoseconds:k,days:I}=y3(k,C));let{hours:O,minutes:U,seconds:$,milliseconds:W,microseconds:F,nanoseconds:N}=Oo(0,0,0,0,0,0,j.default.toNumber(k),"hour");return{years:x,months:T,weeks:A,days:I,hours:O,minutes:U,seconds:$,milliseconds:W,microseconds:F,nanoseconds:N}}function Fh(t,e,r,i,n,s){let f=dp.reduce((T,A)=>{let I=A[0],D=A[1],k=A[2];return r!=="datetime"&&k!==r||i.includes(D)||T.push(D,I),T},[]),c=qn(e,"largestUnit",r,"auto");if(i.includes(c))throw new RangeError(`largestUnit must be one of ${f.join(", ")}, not ${c}`);let m=Lh(e),w=gs(e,"trunc");t==="since"&&(w=function(A){switch(A){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return A}}(w));let _=qn(e,"smallestUnit",r,n);if(i.includes(_))throw new RangeError(`smallestUnit must be one of ${f.join(", ")}, not ${_}`);let M=yl(s,_);if(c==="auto"&&(c=M),yl(c,_)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${_}`);let x={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[_];return x!==void 0&&zh(m,x,!1),{largestUnit:c,roundingIncrement:m,roundingMode:w,smallestUnit:_}}function MA(t,e,r,i){let n=t==="since"?-1:1,s=ys(r),f=Fh(t,Qf(i),"time",[],"nanosecond","second"),c=R(e,Ge),m=R(s,Ge),{hours:w,minutes:_,seconds:M,milliseconds:x,microseconds:T,nanoseconds:A}=b3(c,m,f.roundingIncrement,f.smallestUnit,f.largestUnit,f.roundingMode);return new(qe("%Temporal.Duration%"))(0,0,0,0,n*w,n*_,n*M,n*x,n*T,n*A)}function xA(t,e,r,i){let n=t==="since"?-1:1,s=jt(r),f=R(e,ee);yg(f,R(s,ee),"compute difference between dates");let c=Qf(i),m=Fh(t,c,"date",[],"day","day");c.largestUnit=m.largestUnit;let{years:w,months:_,weeks:M,days:x}=Hf(f,e,s,c);return m.smallestUnit==="day"&&m.roundingIncrement===1||({years:w,months:_,weeks:M,days:x}=nf(w,_,M,x,0,0,0,0,0,0,m.roundingIncrement,m.smallestUnit,m.roundingMode,e)),new(qe("%Temporal.Duration%"))(n*w,n*_,n*M,n*x,0,0,0,0,0,0)}function SA(t,e,r,i){let n=t==="since"?-1:1,s=dl(r),f=R(e,ee);yg(f,R(s,ee),"compute difference between dates");let c=Qf(i),m=Fh(t,c,"datetime",[],"nanosecond","day"),{years:w,months:_,weeks:M,days:x,hours:T,minutes:A,seconds:I,milliseconds:D,microseconds:k,nanoseconds:C}=w3(R(e,je),R(e,Ne),R(e,Ue),R(e,tt),R(e,rt),R(e,it),R(e,nt),R(e,ot),R(e,st),R(s,je),R(s,Ne),R(s,Ue),R(s,tt),R(s,rt),R(s,it),R(s,nt),R(s,ot),R(s,st),f,m.largestUnit,c),O=Dh(e);return{years:w,months:_,weeks:M,days:x,hours:T,minutes:A,seconds:I,milliseconds:D,microseconds:k,nanoseconds:C}=nf(w,_,M,x,T,A,I,D,k,C,m.roundingIncrement,m.smallestUnit,m.roundingMode,O),{days:x,hours:T,minutes:A,seconds:I,milliseconds:D,microseconds:k,nanoseconds:C}=Oo(x,T,A,I,D,k,C,m.largestUnit),new(qe("%Temporal.Duration%"))(n*w,n*_,n*M,n*x,n*T,n*A,n*I,n*D,n*k,n*C)}function EA(t,e,r,i){let n=t==="since"?-1:1,s=Ja(r),f=Fh(t,Qf(i),"time",[],"nanosecond","hour"),{hours:c,minutes:m,seconds:w,milliseconds:_,microseconds:M,nanoseconds:x}=bT(R(e,tt),R(e,rt),R(e,it),R(e,nt),R(e,ot),R(e,st),R(s,tt),R(s,rt),R(s,it),R(s,nt),R(s,ot),R(s,st));return{hours:c,minutes:m,seconds:w,milliseconds:_,microseconds:M,nanoseconds:x}=nf(0,0,0,0,c,m,w,_,M,x,f.roundingIncrement,f.smallestUnit,f.roundingMode),{hours:c,minutes:m,seconds:w,milliseconds:_,microseconds:M,nanoseconds:x}=Oo(0,c,m,w,_,M,x,f.largestUnit),new(qe("%Temporal.Duration%"))(0,0,0,0,n*c,n*m,n*w,n*_,n*M,n*x)}function AA(t,e,r,i){let n=t==="since"?-1:1,s=J0(r),f=R(e,ee);yg(f,R(s,ee),"compute difference between months");let c=Qf(i),m=Fh(t,c,"date",["week","day"],"month","year");c.largestUnit=m.largestUnit;let w=Ur(f,["monthCode","year"]),_=ut(e,w,[]);_.day=1;let M=rf(f,_),x=ut(s,w,[]);x.day=1;let T=rf(f,x),{years:A,months:I}=Hf(f,M,T,c);return m.smallestUnit==="month"&&m.roundingIncrement===1||({years:A,months:I}=nf(A,I,0,0,0,0,0,0,0,0,m.roundingIncrement,m.smallestUnit,m.roundingMode,M)),new(qe("%Temporal.Duration%"))(n*A,n*I,0,0,0,0,0,0,0,0)}function TA(t,e,r,i){let n=t==="since"?-1:1,s=X0(r),f=R(e,ee);yg(f,R(s,ee),"compute difference between dates");let c=Qf(i),m=Fh(t,c,"datetime",[],"nanosecond","hour");c.largestUnit=m.largestUnit;let w=R(e,Ge),_=R(s,Ge),M,x,T,A,I,D,k,C,O,U;if(m.largestUnit!=="year"&&m.largestUnit!=="month"&&m.largestUnit!=="week"&&m.largestUnit!=="day")M=0,x=0,T=0,A=0,{hours:I,minutes:D,seconds:k,milliseconds:C,microseconds:O,nanoseconds:U}=b3(w,_,m.roundingIncrement,m.smallestUnit,m.largestUnit,m.roundingMode);else{let $=R(e,Ct);if(!aT($,R(s,Ct)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:M,months:x,weeks:T,days:A,hours:I,minutes:D,seconds:k,milliseconds:C,microseconds:O,nanoseconds:U}=wT(w,_,$,f,m.largestUnit,c)),{years:M,months:x,weeks:T,days:A,hours:I,minutes:D,seconds:k,milliseconds:C,microseconds:O,nanoseconds:U}=nf(M,x,T,A,I,D,k,C,O,U,m.roundingIncrement,m.smallestUnit,m.roundingMode,e),{years:M,months:x,weeks:T,days:A,hours:I,minutes:D,seconds:k,milliseconds:C,microseconds:O,nanoseconds:U}=ST(M,x,T,A,I,D,k,C,O,U,m.roundingIncrement,m.smallestUnit,m.roundingMode,e)}return new(qe("%Temporal.Duration%"))(n*M,n*x,n*T,n*A,n*I,n*D,n*k,n*C,n*O,n*U)}function hl(t,e,r,i,n,s,f,c){let m=t,w=e,_=r,M=s,x=f;return m+=i,w+=n,{year:m,month:w}=zy(m,w),{year:m,month:w,day:_}=Zy(m,w,_,c),x+=7*M,_+=x,{year:m,month:w,day:_}=bg(m,w,_),{year:m,month:w,day:_}}function _T(t,e,r,i,n,s,f,c,m,w,_,M){let x=t,T=e,A=r,I=i,D=n,k=s;x+=f,T+=c,A+=m,I+=w,D+=_,k+=M;let C=0;return{deltaDays:C,hour:x,minute:T,second:A,millisecond:I,microsecond:D,nanosecond:k}=Ya(x,T,A,I,D,k),{deltaDays:C,hour:x,minute:T,second:A,millisecond:I,microsecond:D,nanosecond:k}}function MT(t,e,r,i,n,s,f,c,m,w,_,M,x,T,A,I,D,k,C,O,U){let $=yl(I_(t,e,r,i,n,s,f,c,m,w),I_(_,M,x,T,A,I,D,k,C,O)),W,F,N,V,b,o,u,h,l,d;if(U)if(ct(U)){let y=qe("%Temporal.Duration%"),v=R(U,ee),p=new y(t,e,r,i,0,0,0,0,0,0),a=new y(_,M,x,T,0,0,0,0,0,0),g=typeof v!="string"?At(v,"dateAdd"):void 0,P=Ri(v,U,p,void 0,g),S=Ri(v,P,a,void 0,g),B=yl("day",$),z=Gi(null);z.largestUnit=B,{years:W,months:F,weeks:N,days:V}=Hf(v,U,S,z),{days:V,hours:b,minutes:o,seconds:u,milliseconds:h,microseconds:l,nanoseconds:d}=Oo(V,j.default.add(j.default.BigInt(n),j.default.BigInt(A)),j.default.add(j.default.BigInt(s),j.default.BigInt(I)),j.default.add(j.default.BigInt(f),j.default.BigInt(D)),j.default.add(j.default.BigInt(c),j.default.BigInt(k)),j.default.add(j.default.BigInt(m),j.default.BigInt(C)),j.default.add(j.default.BigInt(w),j.default.BigInt(O)),$)}else{let y=qe("%Temporal.Instant%"),v=R(U,Ct),p=R(U,ee),a=vo(R(U,Wi),v,p,t,e,r,i,n,s,f,c,m,w),g=vo(new y(a),v,p,_,M,x,T,A,I,D,k,C,O);$!=="year"&&$!=="month"&&$!=="week"&&$!=="day"?(W=0,F=0,N=0,V=0,{hours:b,minutes:o,seconds:u,milliseconds:h,microseconds:l,nanoseconds:d}=b3(R(U,Ge),g,1,"nanosecond",$,"halfExpand")):{years:W,months:F,weeks:N,days:V,hours:b,minutes:o,seconds:u,milliseconds:h,microseconds:l,nanoseconds:d}=wT(R(U,Ge),g,v,p,$,Gi(null))}else{if($==="year"||$==="month"||$==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");W=F=N=0,{days:V,hours:b,minutes:o,seconds:u,milliseconds:h,microseconds:l,nanoseconds:d}=Oo(i+T,j.default.add(j.default.BigInt(n),j.default.BigInt(A)),j.default.add(j.default.BigInt(s),j.default.BigInt(I)),j.default.add(j.default.BigInt(f),j.default.BigInt(D)),j.default.add(j.default.BigInt(c),j.default.BigInt(k)),j.default.add(j.default.BigInt(m),j.default.BigInt(C)),j.default.add(j.default.BigInt(w),j.default.BigInt(O)),$)}return eg(W,F,N,V,b,o,u,h,l,d),{years:W,months:F,weeks:N,days:V,hours:b,minutes:o,seconds:u,milliseconds:h,microseconds:l,nanoseconds:d}}function O_(t,e,r,i,n,s,f){let c=kr;c=j.default.add(c,j.default.BigInt(f)),c=j.default.add(c,j.default.multiply(j.default.BigInt(s),Mt)),c=j.default.add(c,j.default.multiply(j.default.BigInt(n),go)),c=j.default.add(c,j.default.multiply(j.default.BigInt(i),ra)),c=j.default.add(c,j.default.multiply(j.default.BigInt(r),j.default.BigInt(6e10))),c=j.default.add(c,j.default.multiply(j.default.BigInt(e),j.default.BigInt(36e11)));let m=j.default.add(t,c);return ul(m),m}function q_(t,e,r,i,n,s,f,c,m,w,_,M,x,T,A,I,D,k,C,O,U){let $=T,{deltaDays:W,hour:F,minute:N,second:V,millisecond:b,microsecond:o,nanosecond:u}=_T(i,n,s,f,c,m,A,I,D,k,C,O);$+=W;let h=qe("%Temporal.Duration%"),l=Ri(w,bo(t,e,r,w),new h(_,M,x,$,0,0,0,0,0,0),U);return{year:R(l,je),month:R(l,Ne),day:R(l,Ue),hour:F,minute:N,second:V,millisecond:b,microsecond:o,nanosecond:u}}function vo(t,e,r,i,n,s,f,c,m,w,_,M,x,T){let A=qe("%Temporal.Duration%");if(ia(i,n,s,f,0,0,0,0,0,0)===0)return O_(R(t,Ge),c,m,w,_,M,x);let I=Zn(e,t,r),D=Ri(r,bo(R(I,je),R(I,Ne),R(I,Ue),r),new A(i,n,s,f,0,0,0,0,0,0),T),k=Dn(R(D,je),R(D,Ne),R(D,Ue),R(I,tt),R(I,rt),R(I,it),R(I,nt),R(I,ot),R(I,st),r);return O_(R(dn(e,k,"compatible"),Ge),c,m,w,_,M,x)}function RA(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:f,weeks:c,days:m,hours:w,minutes:_,seconds:M,milliseconds:x,microseconds:T,nanoseconds:A}=xl(r),I=Ly(pt(i));return{years:s,months:f,weeks:c,days:m,hours:w,minutes:_,seconds:M,milliseconds:x,microseconds:T,nanoseconds:A}=MT(R(e,tn),R(e,_i),R(e,_n),R(e,rn),R(e,nn),R(e,on),R(e,sn),R(e,an),R(e,fn),R(e,un),n*s,n*f,n*c,n*m,n*w,n*_,n*M,n*x,n*T,n*A,I),new(qe("%Temporal.Duration%"))(s,f,c,m,w,_,M,x,T,A)}function PA(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:s,seconds:f,milliseconds:c,microseconds:m,nanoseconds:w}=function(x,T){let A=xl(x);for(let I of T)if(A[I]!==0)throw new RangeError(`Duration field ${I} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return A}(r,["years","months","weeks","days"]),_=O_(R(e,Ge),i*n,i*s,i*f,i*c,i*m,i*w);return new(qe("%Temporal.Instant%"))(_)}function kA(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:f,weeks:c,days:m,hours:w,minutes:_,seconds:M,milliseconds:x,microseconds:T,nanoseconds:A}=xl(r),I=pt(i),D=R(e,ee),{year:k,month:C,day:O,hour:U,minute:$,second:W,millisecond:F,microsecond:N,nanosecond:V}=q_(R(e,je),R(e,Ne),R(e,Ue),R(e,tt),R(e,rt),R(e,it),R(e,nt),R(e,ot),R(e,st),D,n*s,n*f,n*c,n*m,n*w,n*_,n*M,n*x,n*T,n*A,I);return Dn(k,C,O,U,$,W,F,N,V,D)}function IA(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:s,seconds:f,milliseconds:c,microseconds:m,nanoseconds:w}=xl(r),{hour:_,minute:M,second:x,millisecond:T,microsecond:A,nanosecond:I}=_T(R(e,tt),R(e,rt),R(e,it),R(e,nt),R(e,ot),R(e,st),i*n,i*s,i*f,i*c,i*m,i*w);return{hour:_,minute:M,second:x,millisecond:T,microsecond:A,nanosecond:I}=ag(_,M,x,T,A,I,"reject"),new(qe("%Temporal.PlainTime%"))(_,M,x,T,A,I)}function BA(t,e,r,i){let n=xl(r);t==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:s,months:f,weeks:c,days:m,hours:w,minutes:_,seconds:M,milliseconds:x,microseconds:T,nanoseconds:A}=n;({days:m}=Oo(m,w,_,M,x,T,A,"day"));let I=pt(i),D=R(e,ee),k=Ur(D,["monthCode","year"]),C=ut(e,k,[]),O=Gi(null);Mh(O,C,[]),C.day=1;let U=rf(D,C),$=ia(s,f,c,m,0,0,0,0,0,0),W=At(D,"dateAdd"),F=qe("%Temporal.Duration%");if($<0){let b=Ri(D,U,new F(0,1,0,0,0,0,0,0,0,0),void 0,W),o=Ri(D,b,new F(0,0,0,-1,0,0,0,0,0,0),void 0,W);O.day=gp(D,o),U=rf(D,O)}let N=new F(s,f,c,m,0,0,0,0,0,0),V=Qf(I);return vl(D,ut(Ri(D,U,N,I,W),k,[]),V)}function DA(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:f,weeks:c,days:m,hours:w,minutes:_,seconds:M,milliseconds:x,microseconds:T,nanoseconds:A}=xl(r),I=pt(i),D=R(e,Ct),k=R(e,ee);return Ti(vo(R(e,Wi),D,k,n*s,n*f,n*c,n*m,n*w,n*_,n*M,n*x,n*T,n*A,I),D,k)}function Kn(t,e,r){if(j.default.equal(e,jh))return t;let{quotient:i,remainder:n}=qr(t,e);if(j.default.equal(n,kr))return t;let s=j.default.lessThan(n,kr)?-1:1,f=ms(j.default.multiply(n,j.default.BigInt(2))),c=j.default.equal(f,e),m=j.default.greaterThan(f,e);switch(r){case"ceil":s>0&&(i=j.default.add(i,j.default.BigInt(s)));break;case"floor":s<0&&(i=j.default.add(i,j.default.BigInt(s)));break;case"expand":i=j.default.add(i,j.default.BigInt(s));break;case"trunc":break;case"halfCeil":(m||c&&s>0)&&(i=j.default.add(i,j.default.BigInt(s)));break;case"halfFloor":(m||c&&s<0)&&(i=j.default.add(i,j.default.BigInt(s)));break;case"halfExpand":(m||c)&&(i=j.default.add(i,j.default.BigInt(s)));break;case"halfTrunc":m&&(i=j.default.add(i,j.default.BigInt(s)));break;case"halfEven":(m||c&&j.default.toNumber(j.default.remainder(ms(i),j.default.BigInt(2)))===1)&&(i=j.default.add(i,j.default.BigInt(s)))}return j.default.multiply(i,e)}function tg(t,e,r,i){let{remainder:n}=fl(t,na),s=j.default.subtract(t,n),f=Kn(n,j.default.BigInt(TT[r]*e),i);return j.default.add(s,f)}function _3(t,e,r,i,n,s,f,c,m,w,_,M,x=864e11){let{deltaDays:T,hour:A,minute:I,second:D,millisecond:k,microsecond:C,nanosecond:O}=M3(i,n,s,f,c,m,w,_,M,x),{year:U,month:$,day:W}=bg(t,e,r+T);return{year:U,month:$,day:W,hour:A,minute:I,second:D,millisecond:k,microsecond:C,nanosecond:O}}function M3(t,e,r,i,n,s,f,c,m,w=864e11){let _=kr;switch(c){case"day":case"hour":_=j.default.BigInt(t);case"minute":_=j.default.add(j.default.multiply(_,ta),j.default.BigInt(e));case"second":_=j.default.add(j.default.multiply(_,ta),j.default.BigInt(r));case"millisecond":_=j.default.add(j.default.multiply(_,Mt),j.default.BigInt(i));case"microsecond":_=j.default.add(j.default.multiply(_,Mt),j.default.BigInt(n));case"nanosecond":_=j.default.add(j.default.multiply(_,Mt),j.default.BigInt(s))}let M=c==="day"?w:TT[c],x=Kn(_,j.default.BigInt(M*f),m),T=j.default.toNumber(j.default.divide(x,j.default.BigInt(M)));switch(c){case"day":return{deltaDays:T,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Ya(T,0,0,0,0,0);case"minute":return Ya(t,T,0,0,0,0);case"second":return Ya(t,e,T,0,0,0);case"millisecond":return Ya(t,e,r,T,0,0);case"microsecond":return Ya(t,e,r,i,T,0);case"nanosecond":return Ya(t,e,r,i,n,T);default:throw new Error(`Invalid unit ${c}`)}}function Uy(t,e){return v3(R(t,je),R(t,Ne),R(t,Ue),R(e,je),R(e,Ne),R(e,Ue),"day").days}function $i(t,e,r,i){let n=Ri(t,e,r,void 0,i);return{relativeTo:n,days:Uy(e,n)}}function xT(t,e,r,i,n){let s=R(t,Ct),f=R(t,ee);return Ti(vo(R(t,Wi),s,f,e,r,i,n,0,0,0,0,0,0),s,f)}function ST(t,e,r,i,n,s,f,c,m,w,_,M,x,T){let A=t,I=e,D=r,k=i,C=n,O=s,U=f,$=c,W=m,F=w;if(!Fe(T)||M==="year"||M==="month"||M==="week"||M==="day"||M==="nanosecond"&&_===1)return{years:A,months:I,weeks:D,days:k,hours:C,minutes:O,seconds:U,milliseconds:$,microseconds:W,nanoseconds:F};let N=Ch(0,C,O,U,$,W,F,0),V=Rh(j.default.toNumber(N)),b=R(T,Ct),o=R(T,ee),u=vo(R(T,Wi),b,o,A,I,D,k,0,0,0,0,0,0),h=vo(new(qe("%Temporal.Instant%"))(u),b,o,0,0,0,V,0,0,0,0,0,0),l=j.default.subtract(h,u);return j.default.greaterThanOrEqual(j.default.multiply(j.default.subtract(N,l),j.default.BigInt(V)),kr)&&({years:A,months:I,weeks:D,days:k}=MT(A,I,D,k,0,0,0,0,0,0,0,0,0,V,0,0,0,0,0,0,T),N=tg(j.default.subtract(N,l),_,M,x),{hours:C,minutes:O,seconds:U,milliseconds:$,microseconds:W,nanoseconds:F}=Oo(0,0,0,0,0,0,j.default.toNumber(N),"hour")),{years:A,months:I,weeks:D,days:k,hours:C,minutes:O,seconds:U,milliseconds:$,microseconds:W,nanoseconds:F}}function nf(t,e,r,i,n,s,f,c,m,w,_,M,x,T){let A=t,I=e,D=r,k=i,C=n,O=s,U=f,$=c,W=m,F=j.default.BigInt(w),N=qe("%Temporal.Duration%"),V,b,o,u,h=T;if(h){if(Fe(h))b=h,h=jt(h);else if(!ct(h))throw new TypeError("starting point must be PlainDate or ZonedDateTime");V=R(h,ee)}if(M==="year"||M==="month"||M==="week"||M==="day"){let l,d,y;F=Ch(0,C,O,U,$,W,w,0),b&&(l=xT(b,A,I,D,k)),{days:d,nanoseconds:F,dayLengthNs:y}=y3(F,l),o=j.default.BigInt(y),k+=d,C=O=U=$=W=0}switch(M){case"year":{if(!V)throw new RangeError("A starting point is required for years rounding");let l=new N(A),d=typeof V!="string"?At(V,"dateAdd"):void 0,y=Ri(V,h,l,void 0,d),v=Ri(V,h,new N(A,I,D),void 0,d);h=y,k+=Uy(y,v);let p=Ri(V,h,new N(0,0,0,k),void 0,d),a=Gi(null);a.largestUnit="year";let g=Hf(V,h,p,a).years;A+=g;let P=h;h=Ri(V,h,new N(g),void 0,d),k-=Uy(P,h);let S=new N(k<0?-1:1),{days:B}=$i(V,h,S,d);B=Vt(B);let z=j.default.multiply(j.default.BigInt(B),o);F=j.default.add(j.default.add(j.default.multiply(z,j.default.BigInt(A)),j.default.multiply(j.default.BigInt(k),o)),F);let H=Kn(F,j.default.multiply(z,j.default.BigInt(_)),x);u=Xs(F,z),A=j.default.toNumber(j.default.divide(H,z)),F=kr,I=D=k=0;break}case"month":{if(!V)throw new RangeError("A starting point is required for months rounding");let l=new N(A,I),d=typeof V!="string"?At(V,"dateAdd"):void 0,y=Ri(V,h,l,void 0,d),v=Ri(V,h,new N(A,I,D),void 0,d);h=y,k+=Uy(y,v);let p=Rh(k),a=new N(0,k<0?-1:1),g;for({relativeTo:h,days:g}=$i(V,h,a,d);Vt(k)>=Vt(g);)I+=p,k-=g,{relativeTo:h,days:g}=$i(V,h,a,d);g=Vt(g);let P=j.default.multiply(j.default.BigInt(g),o);F=j.default.add(j.default.add(j.default.multiply(P,j.default.BigInt(I)),j.default.multiply(j.default.BigInt(k),o)),F);let S=Kn(F,j.default.multiply(P,j.default.BigInt(_)),x);u=Xs(F,P),I=j.default.toNumber(j.default.divide(S,P)),F=kr,D=k=0;break}case"week":{if(!V)throw new RangeError("A starting point is required for weeks rounding");let l=Rh(k),d=new N(0,0,k<0?-1:1),y=typeof V!="string"?At(V,"dateAdd"):void 0,v;for({relativeTo:h,days:v}=$i(V,h,d,y);Vt(k)>=Vt(v);)D+=l,k-=v,{relativeTo:h,days:v}=$i(V,h,d,y);v=Vt(v);let p=j.default.multiply(j.default.BigInt(v),o);F=j.default.add(j.default.add(j.default.multiply(p,j.default.BigInt(D)),j.default.multiply(j.default.BigInt(k),o)),F);let a=Kn(F,j.default.multiply(p,j.default.BigInt(_)),x);u=Xs(F,p),D=j.default.toNumber(j.default.divide(a,p)),F=kr,k=0;break}case"day":{let l=o;F=j.default.add(j.default.multiply(l,j.default.BigInt(k)),F);let d=Kn(F,j.default.multiply(l,j.default.BigInt(_)),x);u=Xs(F,l),k=j.default.toNumber(j.default.divide(d,l)),F=kr;break}case"hour":{let d=j.default.multiply(j.default.BigInt(C),j.default.BigInt(36e11));d=j.default.add(d,j.default.multiply(j.default.BigInt(O),j.default.BigInt(6e10))),d=j.default.add(d,j.default.multiply(j.default.BigInt(U),ra)),d=j.default.add(d,j.default.multiply(j.default.BigInt($),go)),d=j.default.add(d,j.default.multiply(j.default.BigInt(W),Mt)),d=j.default.add(d,F),u=Xs(d,j.default.BigInt(36e11));let y=Kn(d,j.default.BigInt(36e11*_),x);C=j.default.toNumber(j.default.divide(y,j.default.BigInt(36e11))),F=kr,O=U=$=W=0;break}case"minute":{let d=j.default.multiply(j.default.BigInt(O),j.default.BigInt(6e10));d=j.default.add(d,j.default.multiply(j.default.BigInt(U),ra)),d=j.default.add(d,j.default.multiply(j.default.BigInt($),go)),d=j.default.add(d,j.default.multiply(j.default.BigInt(W),Mt)),d=j.default.add(d,F),u=Xs(d,j.default.BigInt(6e10));let y=Kn(d,j.default.BigInt(6e10*_),x);O=j.default.toNumber(j.default.divide(y,j.default.BigInt(6e10))),F=kr,U=$=W=0;break}case"second":{let d=j.default.multiply(j.default.BigInt(U),ra);d=j.default.add(d,j.default.multiply(j.default.BigInt($),go)),d=j.default.add(d,j.default.multiply(j.default.BigInt(W),Mt)),d=j.default.add(d,F),u=Xs(d,j.default.BigInt(1e9));let y=Kn(d,j.default.BigInt(1e9*_),x);U=j.default.toNumber(j.default.divide(y,j.default.BigInt(1e9))),F=kr,$=W=0;break}case"millisecond":{let d=j.default.multiply(j.default.BigInt($),go);d=j.default.add(d,j.default.multiply(j.default.BigInt(W),Mt)),d=j.default.add(d,F),u=Xs(d,j.default.BigInt(1e6));let y=Kn(d,j.default.BigInt(1e6*_),x);$=j.default.toNumber(j.default.divide(y,j.default.BigInt(1e6))),F=kr,W=0;break}case"microsecond":{let d=j.default.multiply(j.default.BigInt(W),Mt);d=j.default.add(d,F),u=Xs(d,j.default.BigInt(1e3));let y=Kn(d,j.default.BigInt(1e3*_),x);W=j.default.toNumber(j.default.divide(y,j.default.BigInt(1e3))),F=kr;break}case"nanosecond":u=j.default.toNumber(F),F=Kn(j.default.BigInt(F),j.default.BigInt(_),x)}return{years:A,months:I,weeks:D,days:k,hours:C,minutes:O,seconds:U,milliseconds:$,microseconds:W,nanoseconds:j.default.toNumber(F),total:u}}function Wf(t,e,r,i,n,s){for(let[f,c]of[[t,i],[e,n],[r,s]])if(f!==c)return cl(f-c);return 0}function fl(t,e){let{quotient:r,remainder:i}=qr(t,e);return j.default.lessThan(i,kr)&&(r=j.default.subtract(r,jh),i=j.default.add(i,e)),{quotient:r,remainder:i}}function Sh(t,e){let{quotient:r,remainder:i}=qr(t,e);return mo(i)||!Gy(t)==!Gy(e)?r:j.default.subtract(r,jh)}function Xs(t,e){let{quotient:r,remainder:i}=qr(t,e);return j.default.toNumber(r)+j.default.toNumber(i)/j.default.toNumber(e)}function rg(t){let e=Q0(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Q0(t){let e=t;if(typeof t=="object"){let r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=sg(r,t,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?j.default.BigInt(e.toString(10)):j.default.BigInt(e)}var x3=(()=>{let t=j.default.BigInt(Date.now()%1e6);return()=>{let e=j.default.BigInt(Date.now()),r=j.default.add(j.default.multiply(e,go),t);return t=j.default.remainder(e,go),j.default.greaterThan(r,Ph)?Ph:j.default.lessThan(r,tp)?tp:r}})();function $f(){return new KA().resolvedOptions().timeZone}function cl(t){return t<0?-1:t>0?1:t}function pt(t){if(t===void 0)return Gi(null);if(Yt(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function Oh(t,e){let r=Gi(null);return r[t]=e,r}function Qf(t){let e=Gi(null);return Mh(e,pt(t),[]),e}function Vf(t,e,r,i){let n=t[e];if(n!==void 0){if(n=hn(n),!r.includes(n))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function of(t){return YZ.includes(sa(t))}function sa(t){return t.replace(/[A-Z]/g,e=>{let r=e.charCodeAt(0);return String.fromCharCode(r+32)})}var ET=new RegExp(`^${WA.source}$`);function AT(t,e,r,i=t(e),n=t(r)){let s=j.default.BigInt(e),f=j.default.BigInt(r),c=i,m=n;for(;j.default.greaterThan(j.default.subtract(f,s),jh);){let w=j.default.divide(j.default.add(s,f),j.default.BigInt(2)),_=t(w);if(_===c)s=w,c=_;else{if(_!==m)throw new Error(`invalid state in bisection ${c} - ${_} - ${m}`);f=w,m=_}}return f}var TT={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},RT=Symbol("date"),PT=Symbol("ym"),kT=Symbol("md"),IT=Symbol("time"),BT=Symbol("datetime"),DT=Symbol("instant"),Eh=Symbol("original"),bh=Symbol("timezone"),Co=Symbol("calendar-id"),CT=Symbol("locale"),j_=Symbol("options"),ep=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),Ah=globalThis.Intl.DateTimeFormat,sf=Object.assign,tV=Object.prototype.hasOwnProperty,rV=Reflect.apply;function vh(t,e){let r=t[e];return typeof r=="function"&&(r=new Ah(t[CT],r(t[j_])),t[e]=r),r}function bl(t,e={}){if(!(this instanceof bl))return new bl(t,e);let r=e!==void 0,i=r?sf({},e):{},n=new Ah(t,i),s=n.resolvedOptions();if(r){let f=sf({},s);for(let c in f)rV(tV,i,[c])||delete f[c];this[j_]=f}else this[j_]=i;this[CT]=s.locale,this[Eh]=n,this[bh]=s.timeZone,this[Co]=s.calendar,this[RT]=sV,this[PT]=nV,this[kT]=oV,this[IT]=iV,this[BT]=aV,this[DT]=fV}Object.defineProperty(bl,"name",{writable:!0,value:"DateTimeFormat"}),bl.supportedLocalesOf=function(t,e){return Ah.supportedLocalesOf(t,e)};var x_={resolvedOptions:ep(function(){return this[Eh].resolvedOptions()}),format:ep(function(e,...r){let{instant:i,formatter:n}=Th(e,this);return i&&n?n.format(i.epochMilliseconds):this[Eh].format(e,...r)}),formatRange:ep(function(e,r){if(qh(e)||qh(r)){if(!OT(e,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:i,formatter:n}=Th(e,this),{instant:s,formatter:f}=Th(r,this);if(i&&s&&n&&f&&n===f)return n.formatRange(i.epochMilliseconds,s.epochMilliseconds)}return this[Eh].formatRange(e,r)})};"formatToParts"in Ah.prototype&&(x_.formatToParts=ep(function(e,...r){let{instant:i,formatter:n}=Th(e,this);return i&&n?n.formatToParts(i.epochMilliseconds):this[Eh].formatToParts(e,...r)})),"formatRangeToParts"in Ah.prototype&&(x_.formatRangeToParts=ep(function(e,r){if(qh(e)||qh(r)){if(!OT(e,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:i,formatter:n}=Th(e,this),{instant:s,formatter:f}=Th(r,this);if(i&&s&&n&&f&&n===f)return n.formatRangeToParts(i.epochMilliseconds,s.epochMilliseconds)}return this[Eh].formatRangeToParts(e,r)})),bl.prototype=Object.create(Ah.prototype,x_),Object.defineProperty(bl,"prototype",{writable:!1,enumerable:!1,configurable:!1});var af=bl;function wp(t={},e={}){let r=sf({},t);for(let i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[i]=i in e?e[i]:r[i],r[i]!==!1&&r[i]!==void 0||delete r[i];return r}function iV(t){let e=wp(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return E3(e)||(e=sf({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function nV(t){let e=wp(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=sf(e,{year:"numeric",month:"numeric"})),e}function oV(t){let e=wp(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=sf({},e,{month:"numeric",day:"numeric"})),e}function sV(t){let e=wp(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return S3(e)||(e=sf({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function aV(t){let e=wp(t,{timeZoneName:!1});return E3(e)||S3(e)||(e=sf({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function fV(t){let e=t;return E3(e)||S3(e)||(e=sf({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function S3(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function E3(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function qh(t){return ct(t)||Pr(t)||Xe(t)||Fe(t)||_t(t)||ri(t)||Gr(t)}function OT(t,e){return!(!qh(t)||!qh(e))&&!(Pr(t)&&!Pr(e))&&!(ct(t)&&!ct(e))&&!(Xe(t)&&!Xe(e))&&!(Fe(t)&&!Fe(e))&&!(_t(t)&&!_t(e))&&!(ri(t)&&!ri(e))&&!(Gr(t)&&!Gr(e))}function Th(t,e){let r=qe("%Temporal.PlainDateTime%");if(Pr(t)){let i=new r(1970,1,1,R(t,tt),R(t,rt),R(t,it),R(t,nt),R(t,ot),R(t,st),e[Co]);return{instant:dn(e[bh],i,"compatible"),formatter:vh(e,IT)}}if(_t(t)){let i=R(t,je),n=R(t,Ne),s=R(t,Ue),f=ki(R(t,ee));if(f!==e[Co])throw new RangeError(`cannot format PlainYearMonth with calendar ${f} in locale with calendar ${e[Co]}`);let c=new r(i,n,s,12,0,0,0,0,0,f);return{instant:dn(e[bh],c,"compatible"),formatter:vh(e,PT)}}if(ri(t)){let i=R(t,je),n=R(t,Ne),s=R(t,Ue),f=ki(R(t,ee));if(f!==e[Co])throw new RangeError(`cannot format PlainMonthDay with calendar ${f} in locale with calendar ${e[Co]}`);let c=new r(i,n,s,12,0,0,0,0,0,f);return{instant:dn(e[bh],c,"compatible"),formatter:vh(e,kT)}}if(ct(t)){let i=R(t,je),n=R(t,Ne),s=R(t,Ue),f=ki(R(t,ee));if(f!=="iso8601"&&f!==e[Co])throw new RangeError(`cannot format PlainDate with calendar ${f} in locale with calendar ${e[Co]}`);let c=new r(i,n,s,12,0,0,0,0,0,e[Co]);return{instant:dn(e[bh],c,"compatible"),formatter:vh(e,RT)}}if(Xe(t)){let i=R(t,je),n=R(t,Ne),s=R(t,Ue),f=R(t,tt),c=R(t,rt),m=R(t,it),w=R(t,nt),_=R(t,ot),M=R(t,st),x=ki(R(t,ee));if(x!=="iso8601"&&x!==e[Co])throw new RangeError(`cannot format PlainDateTime with calendar ${x} in locale with calendar ${e[Co]}`);let T=t;return x==="iso8601"&&(T=new r(i,n,s,f,c,m,w,_,M,e[Co])),{instant:dn(e[bh],T,"compatible"),formatter:vh(e,BT)}}if(Fe(t))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Gr(t)?{instant:t,formatter:vh(e,DT)}:{}}var iMe=Object.freeze({__proto__:null,DateTimeFormat:af}),yo=class{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let r=Q0(e);ul(r),fa(this),ft(this,Ge,r)}get epochSeconds(){if(!Gr(this))throw new TypeError("invalid receiver");let e=R(this,Ge);return j.default.toNumber(Sh(e,ra))}get epochMilliseconds(){if(!Gr(this))throw new TypeError("invalid receiver");let e=j.default.BigInt(R(this,Ge));return j.default.toNumber(Sh(e,go))}get epochMicroseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return rg(Sh(j.default.BigInt(R(this,Ge)),Mt))}get epochNanoseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return rg(j.default.BigInt(R(this,Ge)))}add(e){if(!Gr(this))throw new TypeError("invalid receiver");return PA("add",this,e)}subtract(e){if(!Gr(this))throw new TypeError("invalid receiver");return PA("subtract",this,e)}until(e,r){if(!Gr(this))throw new TypeError("invalid receiver");return MA("until",this,e,r)}since(e,r){if(!Gr(this))throw new TypeError("invalid receiver");return MA("since",this,e,r)}round(e){if(!Gr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Oh("smallestUnit",e):pt(e),i=Lh(r),n=gs(r,"halfExpand"),s=qn(r,"smallestUnit","time",ml);zh(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[s],!0);let f=tg(R(this,Ge),i,s,n);return new yo(f)}equals(e){if(!Gr(this))throw new TypeError("invalid receiver");let r=ys(e),i=R(this,Ge),n=R(r,Ge);return j.default.equal(j.default.BigInt(i),j.default.BigInt(n))}toString(e){if(!Gr(this))throw new TypeError("invalid receiver");let r=pt(e),i=cp(r),n=gs(r,"trunc"),s=qn(r,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let f=r.timeZone;f!==void 0&&(f=Hi(f));let{precision:c,unit:m,increment:w}=pp(s,i),_=tg(R(this,Ge),w,m,n);return cA(new yo(_),f,c)}toJSON(){if(!Gr(this))throw new TypeError("invalid receiver");return cA(this,void 0,"auto")}toLocaleString(e,r){if(!Gr(this))throw new TypeError("invalid receiver");return new af(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Gr(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid argument in toZonedDateTime");let r=e.calendar;if(r===void 0)throw new TypeError("missing calendar property in toZonedDateTime");let i=jn(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");let s=Hi(n);return Ti(R(this,Ge),s,i)}toZonedDateTimeISO(e){if(!Gr(this))throw new TypeError("invalid receiver");let r=Hi(e);return Ti(R(this,Ge),r,"iso8601")}static fromEpochSeconds(e){let r=kh(e),i=j.default.multiply(j.default.BigInt(r),ra);return ul(i),new yo(i)}static fromEpochMilliseconds(e){let r=kh(e),i=j.default.multiply(j.default.BigInt(r),go);return ul(i),new yo(i)}static fromEpochMicroseconds(e){let r=Q0(e),i=j.default.multiply(r,Mt);return ul(i),new yo(i)}static fromEpochNanoseconds(e){let r=Q0(e);return ul(r),new yo(r)}static from(e){return Gr(e)?new yo(R(e,Ge)):ys(e)}static compare(e,r){let i=ys(e),n=ys(r),s=R(i,Ge),f=R(n,Ge);return j.default.lessThan(s,f)?-1:j.default.greaterThan(s,f)?1:0}};aa(yo,"Temporal.Instant");var qT=Array.prototype.includes,uV=Array.prototype.push,lV=globalThis.Intl.DateTimeFormat,dV=Array.prototype.sort,hV=Math.abs,cV=Math.floor,S_=Object.create,N_=Object.entries,jT=Set,CA=Reflect.ownKeys,Fi=Set.prototype.add,NT=Set.prototype.values,Xt={},Jt=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");let r=hn(e);if(!of(r))throw new RangeError(`invalid calendar identifier ${r}`);fa(this),ft(this,_r,sa(r))}get id(){if(!Tr(this))throw new TypeError("invalid receiver");return R(this,_r)}dateFromFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid fields");let i=pt(r),n=R(this,_r);return Xt[n].dateFromFields(e,i,n)}yearMonthFromFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid fields");let i=pt(r),n=R(this,_r);return Xt[n].yearMonthFromFields(e,i,n)}monthDayFromFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid fields");let i=pt(r),n=R(this,_r);return Xt[n].monthDayFromFields(e,i,n)}fields(e){if(!Tr(this))throw new TypeError("invalid receiver");let r=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let n of e){if(typeof n!="string")throw new TypeError("invalid fields");if(!i.has(n))throw new RangeError(`invalid field name ${n}`);i.delete(n),uV.call(r,n)}return Xt[R(this,_r)].fields(r)}mergeFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");let i=dA(e),n=S_(null);Mh(n,i,[],[void 0]);let s=dA(r),f=S_(null);Mh(f,s,[],[void 0]);let c=CA(f),m=Xt[R(this,_r)].fieldKeysToIgnore(c),w=S_(null),_=CA(n);for(let M of _){let x;x=He(qT,m,[M])?f[M]:n[M],x!==void 0&&(w[M]=x)}return Mh(w,f,[]),w}dateAdd(e,r,i){if(!Tr(this))throw new TypeError("invalid receiver");let n=jt(e),s=xh(r),f=jr(pt(i)),{days:c}=Oo(R(s,rn),R(s,nn),R(s,on),R(s,sn),R(s,an),R(s,fn),R(s,un),"day"),m=R(this,_r);return Xt[m].dateAdd(n,R(s,tn),R(s,_i),R(s,_n),c,f,m)}dateUntil(e,r,i){if(!Tr(this))throw new TypeError("invalid receiver");let n=jt(e),s=jt(r),f=qn(pt(i),"largestUnit","date","auto");f==="auto"&&(f="day");let{years:c,months:m,weeks:w,days:_}=Xt[R(this,_r)].dateUntil(n,s,f);return new(qe("%Temporal.Duration%"))(c,m,w,_,0,0,0,0,0,0)}year(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||(r=jt(r)),Xt[R(this,_r)].year(r)}month(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");if(ri(r))throw new TypeError("use monthCode on PlainMonthDay instead");return _t(r)||(r=jt(r)),Xt[R(this,_r)].month(r)}monthCode(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||ri(r)||(r=jt(r)),Xt[R(this,_r)].monthCode(r)}day(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return ri(r)||(r=jt(r)),Xt[R(this,_r)].day(r)}era(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||(r=jt(r)),Xt[R(this,_r)].era(r)}eraYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||(r=jt(r)),Xt[R(this,_r)].eraYear(r)}dayOfWeek(e){if(!Tr(this))throw new TypeError("invalid receiver");let r=jt(e);return Xt[R(this,_r)].dayOfWeek(r)}dayOfYear(e){if(!Tr(this))throw new TypeError("invalid receiver");let r=jt(e);return Xt[R(this,_r)].dayOfYear(r)}weekOfYear(e){if(!Tr(this))throw new TypeError("invalid receiver");let r=jt(e);return Xt[R(this,_r)].weekOfYear(r)}yearOfWeek(e){if(!Tr(this))throw new TypeError("invalid receiver");let r=jt(e);return Xt[R(this,_r)].yearOfWeek(r)}daysInWeek(e){if(!Tr(this))throw new TypeError("invalid receiver");let r=jt(e);return Xt[R(this,_r)].daysInWeek(r)}daysInMonth(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||(r=jt(r)),Xt[R(this,_r)].daysInMonth(r)}daysInYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||(r=jt(r)),Xt[R(this,_r)].daysInYear(r)}monthsInYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||(r=jt(r)),Xt[R(this,_r)].monthsInYear(r)}inLeapYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return _t(r)||(r=jt(r)),Xt[R(this,_r)].inLeapYear(r)}toString(){if(!Tr(this))throw new TypeError("invalid receiver");return R(this,_r)}toJSON(){if(!Tr(this))throw new TypeError("invalid receiver");return R(this,_r)}static from(e){return Uh(jn(e))}};function A3(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function ef(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function Fy(t,e,r=12){let{month:i,monthCode:n}=t;if(n===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Pi(i,1,r),e==="constrain"&&(i=Cn(i,1,r)),n=ef(i)}else{let s=A3(n);if(i!==void 0&&i!==s)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==ef(s))throw new RangeError(`Invalid month code: ${n}`);if(i=s,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...t,month:i,monthCode:n}}aa(Jt,"Temporal.Calendar"),Mr("Temporal.Calendar.from",Jt.from),Mr("Temporal.Calendar.prototype.dateAdd",Jt.prototype.dateAdd),Mr("Temporal.Calendar.prototype.dateFromFields",Jt.prototype.dateFromFields),Mr("Temporal.Calendar.prototype.dateUntil",Jt.prototype.dateUntil),Mr("Temporal.Calendar.prototype.day",Jt.prototype.day),Mr("Temporal.Calendar.prototype.dayOfWeek",Jt.prototype.dayOfWeek),Mr("Temporal.Calendar.prototype.dayOfYear",Jt.prototype.dayOfYear),Mr("Temporal.Calendar.prototype.daysInMonth",Jt.prototype.daysInMonth),Mr("Temporal.Calendar.prototype.daysInWeek",Jt.prototype.daysInWeek),Mr("Temporal.Calendar.prototype.daysInYear",Jt.prototype.daysInYear),Mr("Temporal.Calendar.prototype.era",Jt.prototype.era),Mr("Temporal.Calendar.prototype.eraYear",Jt.prototype.eraYear),Mr("Temporal.Calendar.prototype.fields",Jt.prototype.fields),Mr("Temporal.Calendar.prototype.inLeapYear",Jt.prototype.inLeapYear),Mr("Temporal.Calendar.prototype.mergeFields",Jt.prototype.mergeFields),Mr("Temporal.Calendar.prototype.month",Jt.prototype.month),Mr("Temporal.Calendar.prototype.monthCode",Jt.prototype.monthCode),Mr("Temporal.Calendar.prototype.monthDayFromFields",Jt.prototype.monthDayFromFields),Mr("Temporal.Calendar.prototype.monthsInYear",Jt.prototype.monthsInYear),Mr("Temporal.Calendar.prototype.weekOfYear",Jt.prototype.weekOfYear),Mr("Temporal.Calendar.prototype.year",Jt.prototype.year),Mr("Temporal.Calendar.prototype.yearMonthFromFields",Jt.prototype.yearMonthFromFields),Mr("Temporal.Calendar.prototype.yearOfWeek",Jt.prototype.yearOfWeek),Xt.iso8601={dateFromFields(t,e,r){let i=ut(t,["day","month","monthCode","year"],["year","day"]),n=jr(e);i=Fy(i);let{year:s,month:f,day:c}=i;return{year:s,month:f,day:c}=Zy(s,f,c,n),bo(s,f,c,r)},yearMonthFromFields(t,e,r){let i=ut(t,["month","monthCode","year"],["year"]),n=jr(e);i=Fy(i);let{year:s,month:f}=i;return{year:s,month:f}=function(m,w,_){let M=m,x=w;switch(_){case"reject":oa(M,x,1);break;case"constrain":({year:M,month:x}=yT(M,x))}return{year:M,month:x}}(s,f,n),ip(s,f,r,1)},monthDayFromFields(t,e,r){let i=ut(t,["day","month","monthCode","year"],["day"]),n=jr(e);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");let s=i.monthCode===void 0;i=Fy(i);let{month:f,day:c,year:m}=i;return{month:f,day:c}=Zy(s?m:1972,f,c,n),rp(f,c,r,1972)},fields:t=>t,fieldKeysToIgnore(t){let e=new jT;for(let r=0;r<t.length;r++){let i=t[r];He(Fi,e,[i]),i==="month"?He(Fi,e,["monthCode"]):i==="monthCode"&&He(Fi,e,["month"])}return[...He(NT,e,[])]},dateAdd(t,e,r,i,n,s,f){let c=R(t,je),m=R(t,Ne),w=R(t,Ue);return{year:c,month:m,day:w}=hl(c,m,w,e,r,i,n,s),bo(c,m,w,f)},dateUntil:(t,e,r)=>v3(R(t,je),R(t,Ne),R(t,Ue),R(e,je),R(e,Ne),R(e,Ue),r),year:t=>R(t,je),era(){},eraYear(){},month:t=>R(t,Ne),monthCode:t=>ef(R(t,Ne)),day:t=>R(t,Ue),dayOfWeek:t=>C_(R(t,je),R(t,Ne),R(t,Ue)),dayOfYear:t=>Qy(R(t,je),R(t,Ne),R(t,Ue)),weekOfYear:t=>wA(R(t,je),R(t,Ne),R(t,Ue)).week,yearOfWeek:t=>wA(R(t,je),R(t,Ne),R(t,Ue)).year,daysInWeek:()=>7,daysInMonth:t=>Qa(R(t,je),R(t,Ne)),daysInYear(t){let e=t;return ni(e,je)||(e=jt(e)),Zf(R(e,je))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return ni(e,je)||(e=jt(e)),Zf(R(e,je))}};var Zt=class{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let r=0;for(let i of e.map.entries()){if(++r>Zt.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){let r=this.map.get(e);return r&&(this.hits++,this.report()),this.calls++,r}set(e,r){this.map.set(e,r),this.misses++,this.report()}report(){}setObject(e){if(Zt.objectMap.get(e))throw new RangeError("object already cached");Zt.objectMap.set(e,this),this.report()}static getCacheForObject(e){let r=Zt.objectMap.get(e);return r||(r=new Zt,Zt.objectMap.set(e,r)),r}};function LT({isoYear:t,isoMonth:e,isoDay:r}){return`${Sl(t)}-${Qt(e)}-${Qt(r)}T00:00Z`}function E_(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}Zt.objectMap=new WeakMap,Zt.MAX_CACHE_ENTRIES=1e3;var Yf=class{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new lV(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,r){let{year:i,month:n,day:s}=e,f=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:n,isoDay:s,id:this.id}),c=r.get(f);if(c)return c;let m=this.getFormatter(),w,_;try{_=LT({isoYear:i,isoMonth:n,isoDay:s}),w=m.formatToParts(new Date(_))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:n,isoDay:s})}`)}let M={};for(let{type:T,value:A}of w){if(T==="year"&&(M.eraYear=+A),T==="relatedYear"&&(M.eraYear=+A),T==="month"){let I=/^([0-9]*)(.*?)$/.exec(A);if(!I||I.length!=3||!I[1]&&!I[2])throw new RangeError(`Unexpected month: ${A}`);if(M.month=I[1]?+I[1]:1,M.month<1)throw new RangeError(`Invalid month ${A} from ${_}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(M.month>13)throw new RangeError(`Invalid month ${A} from ${_}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);I[2]&&(M.monthExtra=I[2])}T==="day"&&(M.day=+A),this.hasEra&&T==="era"&&A!=null&&A!==""&&(A=A.split(" (")[0],M.era=A.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(M.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:T,eraYear:A}=this.reviseIntlEra(M,e);M.era=T,M.eraYear=A}this.checkIcuBugs&&this.checkIcuBugs(e);let x=this.adjustCalendarDate(M,r,"constrain",!0);if(x.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(x.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(x.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return r.set(f,x),["constrain","reject"].forEach(T=>{let A=JSON.stringify({func:"calendarToIsoDate",year:x.year,month:x.month,day:x.day,overflow:T,id:this.id});r.set(A,e)}),x}validateCalendarDate(e){let{era:r,month:i,year:n,day:s,eraYear:f,monthCode:c,monthExtra:m}=e;if(m!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(n===void 0&&f===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&c===void 0)throw new TypeError("month or monthCode is required");if(s===void 0)throw new RangeError("Missing day");if(c!==void 0){if(typeof c!="string")throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.constantEra){if(r!==void 0&&r!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${r}`);if(f!==void 0&&n!==void 0&&f!==n)throw new RangeError(`eraYear ${f} does not match year ${n}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,r,i="constrain",n=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=e;if(this.validateCalendarDate(s),this.constantEra){let{year:w,eraYear:_}=s;s={...s,era:this.constantEra,year:w!==void 0?w:_,eraYear:_!==void 0?_:w}}let f=this.monthsInYear(s,r),{month:c,monthCode:m}=s;return{month:c,monthCode:m}=Fy(s,i,f),{...s,month:c,monthCode:m}}regulateMonthDayNaive(e,r,i){let n=this.monthsInYear(e,i),{month:s,day:f}=e;return r==="reject"?(Pi(s,1,n),Pi(f,1,this.maximumMonthLength(e))):(s=Cn(s,1,n),f=Cn(f,1,this.maximumMonthLength({...e,month:s}))),{...e,month:s,day:f}}calendarToIsoDate(e,r="constrain",i){let n=e,s=this.adjustCalendarDate(e,i,r,!1);s=this.regulateMonthDayNaive(s,r,i);let{year:f,month:c,day:m}=s,w=JSON.stringify({func:"calendarToIsoDate",year:f,month:c,day:m,overflow:r,id:this.id}),_,M=i.get(w);if(M||n.year!==void 0&&n.month!==void 0&&n.day!==void 0&&(n.year!==s.year||n.month!==s.month||n.day!==s.day)&&(_=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:r,id:this.id}),M=i.get(_),M))return M;let x=this.estimateIsoDate({year:f,month:c,day:m}),T=C=>{let O=this.addDaysIso(x,C);if(s.day>this.minimumMonthLength(s)){let U=this.isoToCalendarDate(O,i);for(;U.month!==c||U.year!==f;){if(r==="reject")throw new RangeError(`day ${m} does not exist in month ${c} of year ${f}`);O=this.addDaysIso(O,-1),U=this.isoToCalendarDate(O,i)}}return O},A=0,I=this.isoToCalendarDate(x,i),D=E_(s,I);if(D.years!==0||D.months!==0||D.days!==0){let C=365*D.years+30*D.months+D.days;x=this.addDaysIso(x,C),I=this.isoToCalendarDate(x,i),D=E_(s,I),D.years===0&&D.months===0?x=T(D.days):A=this.compareCalendarDates(s,I)}let k=8;for(;A;){x=this.addDaysIso(x,A*k);let C=I;I=this.isoToCalendarDate(x,i);let O=A;if(A=this.compareCalendarDates(s,I),A){if(D=E_(s,I),D.years===0&&D.months===0)x=T(D.days),A=0;else if(O&&A!==O)if(k>1)k/=2;else{if(r==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(I,C)>0&&(x=this.addDaysIso(x,-1)),A=0}}}if(i.set(w,x),_&&i.set(_,x),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");return x}temporalToCalendarDate(e,r){let i={year:R(e,je),month:R(e,Ne),day:R(e,Ue)};return this.isoToCalendarDate(i,r)}compareCalendarDates(e,r){let i=ut(e,["day","month","year"],["day","month","year"]),n=ut(r,["day","month","year"],["day","month","year"]);return i.year!==n.year?cl(i.year-n.year):i.month!==n.month?cl(i.month-n.month):i.day!==n.day?cl(i.day-n.day):0}regulateDate(e,r="constrain",i){let n=this.calendarToIsoDate(e,r,i);return this.isoToCalendarDate(n,i)}addDaysIso(e,r){return hl(e.year,e.month,e.day,0,0,0,r,"constrain")}addDaysCalendar(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),s=this.addDaysIso(n,r);return this.isoToCalendarDate(s,i)}addMonthsCalendar(e,r,i,n){let s=e,{day:f}=s;for(let c=0,m=hV(r);c<m;c++){let{month:w}=s,_=s,M=r<0?-Math.max(f,this.daysInPreviousMonth(s,n)):this.daysInMonth(s,n),x=this.calendarToIsoDate(s,"constrain",n),T=this.addDaysIso(x,M);if(s=this.isoToCalendarDate(T,n),r>0){let A=this.monthsInYear(_,n);for(;s.month-1!=w%A;)T=this.addDaysIso(T,-1),s=this.isoToCalendarDate(T,n)}s.day!==f&&(s=this.regulateDate({...s,day:f},"constrain",n))}if(i==="reject"&&s.day!==f)throw new RangeError(`Day ${f} does not exist in resulting calendar month`);return s}addCalendar(e,{years:r=0,months:i=0,weeks:n=0,days:s=0},f,c){let{year:m,day:w,monthCode:_}=e,M=this.adjustCalendarDate({year:m+r,monthCode:_,day:w},c),x=this.addMonthsCalendar(M,i,f,c),T=s+7*n;return this.addDaysCalendar(x,T,c)}untilCalendar(e,r,i,n){let s=0,f=0,c=0,m=0;switch(i){case"day":s=this.calendarDaysUntil(e,r,n);break;case"week":{let w=this.calendarDaysUntil(e,r,n);s=w%7,f=(w-s)/7;break}case"month":case"year":{let w=this.compareCalendarDates(r,e);if(!w)return{years:0,months:0,weeks:0,days:0};let _=r.year-e.year,M=r.day-e.day;if(i==="year"&&_){let A=0;r.monthCode>e.monthCode&&(A=1),r.monthCode<e.monthCode&&(A=-1),A||(A=Math.sign(M)),m=A*w<0?_-w:_}let x,T=m?this.addCalendar(e,{years:m},"constrain",n):e;do c+=w,x=T,T=this.addMonthsCalendar(x,w,"constrain",n),T.day!==e.day&&(T=this.regulateDate({...T,day:e.day},"constrain",n));while(this.compareCalendarDates(r,T)*w>=0);c-=w,s=this.calendarDaysUntil(x,r,n);break}}return{years:m,months:c,weeks:f,days:s}}daysInMonth(e,r){let{day:i}=e,n=this.maximumMonthLength(e),s=this.minimumMonthLength(e);if(s===n)return s;let f=i<=n-s?n:s,c=this.calendarToIsoDate(e,"constrain",r),m=this.addDaysIso(c,f),w=this.isoToCalendarDate(m,r),_=this.addDaysIso(m,-w.day);return this.isoToCalendarDate(_,r).day}daysInPreviousMonth(e,r){let{day:i,month:n,year:s}=e,f={year:n>1?s:s-1,month:n,day:1},c=n>1?n-1:this.monthsInYear(f,r);f={...f,month:c};let m=this.minimumMonthLength(f),w=this.maximumMonthLength(f);if(m===w)return w;let _=this.calendarToIsoDate(e,"constrain",r),M=this.addDaysIso(_,-i);return this.isoToCalendarDate(M,r).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),s=this.calendarToIsoDate(r,"constrain",i);return this.isoDaysUntil(n,s)}isoDaysUntil(e,r){return v3(e.year,e.month,e.day,r.year,r.month,r.day,"day").days}monthDayFromFields(e,r,i){let n,s,f,c,m,{monthCode:w,day:_}=e;if(w===void 0){let{year:T,era:A,eraYear:I}=e;if(T===void 0&&(A===void 0||I===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:w,day:_}=this.isoToCalendarDate(this.calendarToIsoDate(e,r,i),i))}let M=this.isoToCalendarDate({year:1972,month:12,day:31},i),x=M.monthCode>w||M.monthCode===w&&M.day>=_?M.year:M.year-1;for(let T=0;T<100;T++){let A=this.adjustCalendarDate({day:_,monthCode:w,year:x-T},i),I=this.calendarToIsoDate(A,"constrain",i),D=this.isoToCalendarDate(I,i);if({year:n,month:s,day:f}=I,D.monthCode===w&&D.day===_)return{month:s,day:f,year:n};r==="constrain"&&(c===void 0||D.monthCode===c.monthCode&&D.day>c.day)&&(c=D,m=I)}if(r==="constrain"&&m!==void 0)return m;throw new RangeError(`No recent ${this.id} year with monthCode ${w} and day ${_}`)}},L_=class extends Yf{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){let{year:r}=e;return(7*r+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,r){let{month:i,year:n}=e,s=this.getMonthCode(n,i),f=N_(this.months).find(m=>m[1].monthCode===s);if(f===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);let c=f[1].days;return typeof c=="number"?c:c[r]}estimateIsoDate(e){let{year:r}=e;return{year:r-3760,month:1,day:1}}getMonthCode(e,r){return this.inLeapYear({year:e})?r===6?ef(5,!0):ef(r<6?r:r-1):ef(r)}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:s,eraYear:f,month:c,monthCode:m,day:w,monthExtra:_}=e;if(s===void 0&&f!==void 0&&(s=f),f===void 0&&s!==void 0&&(f=s),n){if(_){let M=this.months[_];if(!M)throw new RangeError(`Unrecognized month from formatToParts: ${_}`);c=this.inLeapYear({year:s})?M.leap:M.regular}return m=this.getMonthCode(s,c),{year:s,month:c,day:w,era:void 0,eraYear:f,monthCode:m}}if(this.validateCalendarDate(e),c===void 0)if(m.endsWith("L")){if(m!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${m}`);if(c=6,!this.inLeapYear({year:s})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);c=6,m="M06"}}else{c=A3(m),this.inLeapYear({year:s})&&c>=6&&c++;let M=this.monthsInYear({year:s});if(c<1||c>M)throw new RangeError(`Invalid monthCode: ${m}`)}else if(i==="reject"?(Pi(c,1,this.monthsInYear({year:s})),Pi(w,1,this.maximumMonthLength({year:s,month:c}))):(c=Cn(c,1,this.monthsInYear({year:s})),w=Cn(w,1,this.maximumMonthLength({year:s,month:c}))),m===void 0)m=this.getMonthCode(s,c);else if(this.getMonthCode(s,c)!==m)throw new RangeError(`monthCode ${m} doesn't correspond to month ${c} in Hebrew year ${s}`);return{...e,day:w,month:c,monthCode:m,year:s,eraYear:f}}},Jf=class extends Yf{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,r){return this.daysInMonth({year:e.year,month:12,day:1},r)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:cV(r*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},ig=class extends Jf{constructor(){super(...arguments),this.id="islamic"}},z_=class extends Jf{constructor(){super(...arguments),this.id="islamic-umalqura"}},U_=class extends Jf{constructor(){super(...arguments),this.id="islamic-tbla"}},F_=class extends Jf{constructor(){super(...arguments),this.id="islamic-civil"}},$_=class extends Jf{constructor(){super(...arguments),this.id="islamic-rgsa"}},W_=class extends Jf{constructor(){super(...arguments),this.id="islamicc"}},H_=class extends Yf{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,r){return ig.prototype.inLeapYear.call(this,e,r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===12?29:r<=6?31:30}maximumMonthLength(e){let{month:r}=e;return r===12?30:r<=6?31:30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:r+621,month:1,day:1}}},G_=class extends Yf{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return zT(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){let{month:r}=e,i=this.months[r];if(i===void 0)throw new RangeError(`Invalid month: ${r}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){let r=this.adjustCalendarDate(e),i=this.getMonthInfo(r);return hl(r.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,r.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function zT(t){return t%4==0&&(t%100!=0||t%400==0)}var wl=class extends Yf{constructor(e,r){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;let{eras:i,anchorEra:n}=function(f){let c,m=f;if(m.length===0)throw new RangeError("Invalid era data: eras are required");if(m.length===1&&m[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(m.length===1&&!m[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(m.filter(_=>_.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");m.forEach(_=>{if(_.isAnchor||!_.anchorEpoch&&!_.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=_,_.anchorEpoch={year:_.hasYearZero?0:1}}else if(!_.name)throw new RangeError("If era name is blank, it must be the anchor era")}),m=m.filter(_=>_.name),m.forEach(_=>{let{reverseOf:M}=_;if(M){let x=m.find(T=>T.name===M);if(x===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${M}`);_.reverseOf=x,_.anchorEpoch=x.anchorEpoch,_.isoEpoch=x.isoEpoch}_.anchorEpoch.month===void 0&&(_.anchorEpoch.month=1),_.anchorEpoch.day===void 0&&(_.anchorEpoch.day=1)}),dV.call(m,(_,M)=>{if(_.reverseOf)return 1;if(M.reverseOf)return-1;if(!_.isoEpoch||!M.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return M.isoEpoch.year-_.isoEpoch.year});let w=m[m.length-1].reverseOf;if(w&&w!==m[m.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return m.forEach((_,M)=>{_.genericName="era"+(m.length-1-M)}),{eras:m,anchorEra:c||m[0]}}(r);this.anchorEra=n,this.eras=i}inLeapYear(e){let{year:r}=this.estimateIsoDate({month:1,day:1,year:e.year});return zT(r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(r)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){let r=(c,m)=>{let w=e[c];if(w!=null&&w!=m)throw new RangeError(`Input ${c} ${w} doesn't match calculated value ${m}`)},i=c=>{let m,w={...e,year:c},_=this.eras.find((M,x)=>{if(x===this.eras.length-1){if(M.reverseOf){if(c>0)throw new RangeError(`Signed year ${c} is invalid for era ${M.name}`);return m=M.anchorEpoch.year-c,!0}return m=c-M.anchorEpoch.year+(M.hasYearZero?0:1),!0}return this.compareCalendarDates(w,M.anchorEpoch)>=0&&(m=c-M.anchorEpoch.year+(M.hasYearZero?0:1),!0)});if(!_)throw new RangeError(`Year ${c} was not matched by any era`);return{eraYear:m,era:_.name}},{year:n,eraYear:s,era:f}=e;if(n!=null)({eraYear:s,era:f}=i(n)),r("era",f),r("eraYear",s);else{if(s==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let c=f===void 0?void 0:this.eras.find(m=>m.name===f||m.genericName===f);if(!c)throw new RangeError(`Era ${f} (ISO year ${s}) was not matched by any era`);if(s<1&&c.reverseOf)throw new RangeError(`Years in ${f} era must be positive, not ${n}`);n=c.reverseOf?c.anchorEpoch.year-s:s+c.anchorEpoch.year-(c.hasYearZero?0:1),r("year",n),{eraYear:s,era:f}=i(n)}}return{...e,year:n,eraYear:s,era:f}}adjustCalendarDate(e,r,i="constrain"){let n=e,{month:s,monthCode:f}=n;return s===void 0&&(n={...n,month:A3(f)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,r,i)}estimateIsoDate(e){let r=this.adjustCalendarDate(e),{year:i,month:n,day:s}=r,{anchorEra:f}=this;return Zy(i+f.isoEpoch.year-(f.hasYearZero?0:1),n,s,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Wf(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},op=class extends wl{constructor(e,r){super(e,r)}inLeapYear(e){let{year:r}=e;return(r+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){let{month:r}=e;return r===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}},K_=class extends op{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},Z_=class extends op{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},V_=class extends op{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},Y_=class extends wl{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},J_=class extends wl{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},X_=class extends wl{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:r,eraYear:i}=e;return r!=="bc"&&r!=="b"||(r="bce"),r!=="ad"&&r!=="a"||(r="ce"),{era:r,eraYear:i}}},Q_=class extends wl{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,r){let{era:i,eraYear:n}=e,{year:s}=r;return this.eras.find(f=>f.name===i)?{era:i,eraYear:n}:s<1?{era:"bce",eraYear:1-s}:{era:"ce",eraYear:s}}},ng=class extends Yf{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,r){let i=this.getMonthList(e.year,r);return N_(i).length===13}monthsInYear(e,r){return this.inLeapYear(e,r)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,r){if(e===void 0)throw new TypeError("Missing year");let i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=r.get(i);if(n)return n;let s=this.getFormatter(),f=(D,k)=>{let C=LT({isoYear:D,isoMonth:2,isoDay:1}),O=new Date(C);O.setUTCDate(k+1);let U=s.formatToParts(O),$=U.find(N=>N.type==="month").value,W=+U.find(N=>N.type==="day").value,F=U.find(N=>N.type==="relatedYear");if(F===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return F=+F.value,{calendarMonthString:$,calendarDay:W,calendarYearToVerify:F}},c=17,{calendarMonthString:m,calendarDay:w,calendarYearToVerify:_}=f(e,c);m!=="1"&&(c+=29,{calendarMonthString:m,calendarDay:w}=f(e,c)),c-=w-5;let M={},x,T,A=1,I=!1;do({calendarMonthString:m,calendarDay:w,calendarYearToVerify:_}=f(e,c)),x&&(M[T].daysInMonth=x+30-w),_!==e?I=!0:(M[m]={monthIndex:A++},c+=30),x=w,T=m;while(!I);return M[T].daysInMonth=x+30-w,r.set(i,M),M}estimateIsoDate(e){let{year:r,month:i}=e;return{year:r,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:s,month:f,monthExtra:c,day:m,monthCode:w,eraYear:_}=e;if(n){if(s=_,c&&c!=="bis")throw new RangeError(`Unexpected leap month suffix: ${c}`);let M=ef(f,c!==void 0),x=`${f}${c||""}`,T=this.getMonthList(s,r)[x];if(T===void 0)throw new RangeError(`Unmatched month ${x} in Chinese year ${s}`);return f=T.monthIndex,{year:s,month:f,day:m,era:void 0,eraYear:_,monthCode:M}}if(this.validateCalendarDate(e),s===void 0&&(s=_),_===void 0&&(_=s),f===void 0){let M=this.getMonthList(s,r),x=w.replace("L","bis").slice(1);x[0]==="0"&&(x=x.slice(1));let T=M[x];if(f=T&&T.monthIndex,f===void 0&&w.endsWith("L")&&w!="M13L"&&i==="constrain"){let A=w.slice(1,-1);A[0]==="0"&&(A=A.slice(1)),T=M[A],T&&(f=T.monthIndex,w=ef(A))}if(f===void 0)throw new RangeError(`Unmatched month ${w} in Chinese year ${s}`)}else if(w===void 0){let M=this.getMonthList(s,r),x=N_(M),T=x.length;i==="reject"?(Pi(f,1,T),Pi(m,1,this.maximumMonthLength())):(f=Cn(f,1,T),m=Cn(m,1,this.maximumMonthLength()));let A=x.find(([,I])=>I.monthIndex===f);if(A===void 0)throw new RangeError(`Invalid month ${f} in Chinese year ${s}`);w=ef(A[0].replace("bis",""),A[0].indexOf("bis")!==-1)}else{let M=this.getMonthList(s,r),x=w.replace("L","bis").slice(1);x[0]==="0"&&(x=x.slice(1));let T=M[x];if(!T)throw new RangeError(`Unmatched monthCode ${w} in Chinese year ${s}`);if(f!==T.monthIndex)throw new RangeError(`monthCode ${w} doesn't correspond to month ${f} in Chinese year ${s}`)}return{...e,year:s,eraYear:_,month:f,monthCode:w,day:m}}},e3=class extends ng{constructor(){super(...arguments),this.id="chinese"}},t3=class extends ng{constructor(){super(...arguments),this.id="dangi"}},r3=class{constructor(e){this.helper=e}dateFromFields(e,r,i){let n=new Zt,s=ut(e,this.fields(["day","month","monthCode","year"]),[]),f=jr(r),{year:c,month:m,day:w}=this.helper.calendarToIsoDate(s,f,n),_=bo(c,m,w,i);return n.setObject(_),_}yearMonthFromFields(e,r,i){let n=new Zt,s=ut(e,this.fields(["month","monthCode","year"]),[]),f=jr(r),{year:c,month:m,day:w}=this.helper.calendarToIsoDate({...s,day:1},f,n),_=ip(c,m,i,w);return n.setObject(_),_}monthDayFromFields(e,r,i){let n=new Zt,s=ut(e,this.fields(["day","month","monthCode","year"]),[]),f=jr(r),{year:c,month:m,day:w}=this.helper.monthDayFromFields(s,f,n),_=rp(m,w,i,c);return n.setObject(_),_}fields(e){let r=e;return qT.call(r,"year")&&(r=[...r,"era","eraYear"]),r}fieldKeysToIgnore(e){let r=new jT;for(let i=0;i<e.length;i++){let n=e[i];switch(He(Fi,r,[n]),n){case"era":He(Fi,r,["eraYear"]),He(Fi,r,["year"]);break;case"eraYear":He(Fi,r,["era"]),He(Fi,r,["year"]);break;case"year":He(Fi,r,["era"]),He(Fi,r,["eraYear"]);break;case"month":He(Fi,r,["monthCode"]),this.helper.erasBeginMidYear&&(He(Fi,r,["era"]),He(Fi,r,["eraYear"]));break;case"monthCode":He(Fi,r,["month"]),this.helper.erasBeginMidYear&&(He(Fi,r,["era"]),He(Fi,r,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(He(Fi,r,["era"]),He(Fi,r,["eraYear"]))}}return[...He(NT,r,[])]}dateAdd(e,r,i,n,s,f,c){let m=Zt.getCacheForObject(e),w=this.helper.temporalToCalendarDate(e,m),_=this.helper.addCalendar(w,{years:r,months:i,weeks:n,days:s},f,m),M=this.helper.calendarToIsoDate(_,"constrain",m),{year:x,month:T,day:A}=M,I=bo(x,T,A,c);return new Zt(m).setObject(I),I}dateUntil(e,r,i){let n=Zt.getCacheForObject(e),s=Zt.getCacheForObject(r),f=this.helper.temporalToCalendarDate(e,n),c=this.helper.temporalToCalendarDate(r,s);return this.helper.untilCalendar(f,c,i,n)}year(e){let r=Zt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).year}month(e){let r=Zt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).month}day(e){let r=Zt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).day}era(e){if(!this.helper.hasEra)return;let r=Zt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).era}eraYear(e){if(!this.helper.hasEra)return;let r=Zt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).eraYear}monthCode(e){let r=Zt.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).monthCode}dayOfWeek(e){return Xt.iso8601.dayOfWeek(e)}dayOfYear(e){let r=Zt.getCacheForObject(e),i=this.helper.isoToCalendarDate(e,r),n=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(n,i,r)+1}weekOfYear(e){return Xt.iso8601.weekOfYear(e)}yearOfWeek(e){return Xt.iso8601.yearOfWeek(e)}daysInWeek(e){return Xt.iso8601.daysInWeek(e)}daysInMonth(e){let r=Zt.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r),n=this.helper.maximumMonthLength(i);if(n===this.helper.minimumMonthLength(i))return n;let s=this.helper.startOfCalendarMonth(i),f=this.helper.addMonthsCalendar(s,1,"constrain",r);return this.helper.calendarDaysUntil(s,f,r)}daysInYear(e){let r=e;ni(r,je)||(r=jt(r));let i=Zt.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i),s=this.helper.startOfCalendarYear(n),f=this.helper.addCalendar(s,{years:1},"constrain",i);return this.helper.calendarDaysUntil(s,f,i)}monthsInYear(e){let r=Zt.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r);return this.helper.monthsInYear(i,r)}inLeapYear(e){let r=e;ni(r,je)||(r=jt(r));let i=Zt.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i);return this.helper.inLeapYear(n,i)}};for(let t of[L_,H_,V_,K_,Z_,e3,t3,Y_,G_,J_,X_,Q_,ig,z_,U_,F_,$_,W_]){let e=new t;Xt[e.id]=new r3(e)}var _l=class{constructor(e,r,i,n="iso8601"){eT(this,vt(e),vt(r),vt(i),jn(n))}get calendarId(){if(!ct(this))throw new TypeError("invalid receiver");return ki(R(this,ee))}get era(){if(!ct(this))throw new TypeError("invalid receiver");return lg(R(this,ee),this)}get eraYear(){if(!ct(this))throw new TypeError("invalid receiver");return dg(R(this,ee),this)}get year(){if(!ct(this))throw new TypeError("invalid receiver");return fg(R(this,ee),this)}get month(){if(!ct(this))throw new TypeError("invalid receiver");return ug(R(this,ee),this)}get monthCode(){if(!ct(this))throw new TypeError("invalid receiver");return yp(R(this,ee),this)}get day(){if(!ct(this))throw new TypeError("invalid receiver");return gp(R(this,ee),this)}get dayOfWeek(){if(!ct(this))throw new TypeError("invalid receiver");return f3(R(this,ee),this)}get dayOfYear(){if(!ct(this))throw new TypeError("invalid receiver");return u3(R(this,ee),this)}get weekOfYear(){if(!ct(this))throw new TypeError("invalid receiver");return l3(R(this,ee),this)}get yearOfWeek(){if(!ct(this))throw new TypeError("invalid receiver");return d3(R(this,ee),this)}get daysInWeek(){if(!ct(this))throw new TypeError("invalid receiver");return h3(R(this,ee),this)}get daysInMonth(){if(!ct(this))throw new TypeError("invalid receiver");return hg(R(this,ee),this)}get daysInYear(){if(!ct(this))throw new TypeError("invalid receiver");return cg(R(this,ee),this)}get monthsInYear(){if(!ct(this))throw new TypeError("invalid receiver");return pg(R(this,ee),this)}get inLeapYear(){if(!ct(this))throw new TypeError("invalid receiver");return mg(R(this,ee),this)}with(e,r){if(!ct(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid argument");Nh(e);let i=pt(r),n=R(this,ee),s=Ur(n,["day","month","monthCode","year"]),f=ut(this,s,[]);return f=gl(n,f,ut(e,s,"partial")),f=ut(f,s,[]),rf(n,f,i)}withCalendar(e){if(!ct(this))throw new TypeError("invalid receiver");let r=jn(e);return new _l(R(this,je),R(this,Ne),R(this,Ue),r)}add(e,r){if(!ct(this))throw new TypeError("invalid receiver");let i=xh(e),n=pt(r);return Ri(R(this,ee),this,i,n)}subtract(e,r){if(!ct(this))throw new TypeError("invalid receiver");let i=mT(xh(e)),n=pt(r);return Ri(R(this,ee),this,i,n)}until(e,r){if(!ct(this))throw new TypeError("invalid receiver");return xA("until",this,e,r)}since(e,r){if(!ct(this))throw new TypeError("invalid receiver");return xA("since",this,e,r)}equals(e){if(!ct(this))throw new TypeError("invalid receiver");let r=jt(e);for(let i of[je,Ne,Ue])if(R(this,i)!==R(r,i))return!1;return bp(R(this,ee),R(r,ee))}toString(e){if(!ct(this))throw new TypeError("invalid receiver");return pA(this,hp(pt(e)))}toJSON(){if(!ct(this))throw new TypeError("invalid receiver");return pA(this)}toLocaleString(e,r){if(!ct(this))throw new TypeError("invalid receiver");return new af(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!ct(this))throw new TypeError("invalid receiver");let r=R(this,je),i=R(this,Ne),n=R(this,Ue),s=R(this,ee);if(e===void 0)return Dn(r,i,n,0,0,0,0,0,0,s);let f=Ja(e);return Dn(r,i,n,R(f,tt),R(f,rt),R(f,it),R(f,nt),R(f,ot),R(f,st),s)}toZonedDateTime(e){if(!ct(this))throw new TypeError("invalid receiver");let r,i;if(Yt(e))if(po(e))r=e;else{let A=e.timeZone;A===void 0?r=Hi(e):(r=Hi(A),i=e.plainTime)}else r=Hi(e);let n=R(this,je),s=R(this,Ne),f=R(this,Ue),c=R(this,ee),m=0,w=0,_=0,M=0,x=0,T=0;return i!==void 0&&(i=Ja(i),m=R(i,tt),w=R(i,rt),_=R(i,it),M=R(i,nt),x=R(i,ot),T=R(i,st)),Ti(R(dn(r,Dn(n,s,f,m,w,_,M,x,T,c),"compatible"),Ge),r,c)}toPlainYearMonth(){if(!ct(this))throw new TypeError("invalid receiver");let e=R(this,ee);return vl(e,ut(this,Ur(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ct(this))throw new TypeError("invalid receiver");let e=R(this,ee);return Bh(e,ut(this,Ur(e,["day","monthCode"]),[]))}getISOFields(){if(!ct(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,Ue),isoMonth:R(this,Ne),isoYear:R(this,je)}}getCalendar(){if(!ct(this))throw new TypeError("invalid receiver");return Uh(R(this,ee))}static from(e,r){let i=pt(r);return ct(e)?(jr(i),bo(R(e,je),R(e,Ne),R(e,Ue),R(e,ee))):jt(e,i)}static compare(e,r){let i=jt(e),n=jt(r);return Wf(R(i,je),R(i,Ne),R(i,Ue),R(n,je),R(n,Ne),R(n,Ue))}};aa(_l,"Temporal.PlainDate");var Ml=class{constructor(e,r,i,n=0,s=0,f=0,c=0,m=0,w=0,_="iso8601"){tT(this,vt(e),vt(r),vt(i),n===void 0?0:vt(n),s===void 0?0:vt(s),f===void 0?0:vt(f),c===void 0?0:vt(c),m===void 0?0:vt(m),w===void 0?0:vt(w),jn(_))}get calendarId(){if(!Xe(this))throw new TypeError("invalid receiver");return ki(R(this,ee))}get year(){if(!Xe(this))throw new TypeError("invalid receiver");return fg(R(this,ee),this)}get month(){if(!Xe(this))throw new TypeError("invalid receiver");return ug(R(this,ee),this)}get monthCode(){if(!Xe(this))throw new TypeError("invalid receiver");return yp(R(this,ee),this)}get day(){if(!Xe(this))throw new TypeError("invalid receiver");return gp(R(this,ee),this)}get hour(){if(!Xe(this))throw new TypeError("invalid receiver");return R(this,tt)}get minute(){if(!Xe(this))throw new TypeError("invalid receiver");return R(this,rt)}get second(){if(!Xe(this))throw new TypeError("invalid receiver");return R(this,it)}get millisecond(){if(!Xe(this))throw new TypeError("invalid receiver");return R(this,nt)}get microsecond(){if(!Xe(this))throw new TypeError("invalid receiver");return R(this,ot)}get nanosecond(){if(!Xe(this))throw new TypeError("invalid receiver");return R(this,st)}get era(){if(!Xe(this))throw new TypeError("invalid receiver");return lg(R(this,ee),this)}get eraYear(){if(!Xe(this))throw new TypeError("invalid receiver");return dg(R(this,ee),this)}get dayOfWeek(){if(!Xe(this))throw new TypeError("invalid receiver");return f3(R(this,ee),this)}get dayOfYear(){if(!Xe(this))throw new TypeError("invalid receiver");return u3(R(this,ee),this)}get weekOfYear(){if(!Xe(this))throw new TypeError("invalid receiver");return l3(R(this,ee),this)}get yearOfWeek(){if(!Xe(this))throw new TypeError("invalid receiver");return d3(R(this,ee),this)}get daysInWeek(){if(!Xe(this))throw new TypeError("invalid receiver");return h3(R(this,ee),this)}get daysInYear(){if(!Xe(this))throw new TypeError("invalid receiver");return cg(R(this,ee),this)}get daysInMonth(){if(!Xe(this))throw new TypeError("invalid receiver");return hg(R(this,ee),this)}get monthsInYear(){if(!Xe(this))throw new TypeError("invalid receiver");return pg(R(this,ee),this)}get inLeapYear(){if(!Xe(this))throw new TypeError("invalid receiver");return mg(R(this,ee),this)}with(e,r){if(!Xe(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid argument");Nh(e);let i=pt(r),n=R(this,ee),s=Ur(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),f=ut(this,s,[]);f=gl(n,f,ut(e,s,"partial")),f=ut(f,s,[]);let{year:c,month:m,day:w,hour:_,minute:M,second:x,millisecond:T,microsecond:A,nanosecond:I}=mp(n,f,i);return Dn(c,m,w,_,M,x,T,A,I,n)}withPlainTime(e){if(!Xe(this))throw new TypeError("invalid receiver");let r=R(this,je),i=R(this,Ne),n=R(this,Ue),s=R(this,ee);if(e===void 0)return Dn(r,i,n,0,0,0,0,0,0,s);let f=Ja(e);return Dn(r,i,n,R(f,tt),R(f,rt),R(f,it),R(f,nt),R(f,ot),R(f,st),s)}withPlainDate(e){if(!Xe(this))throw new TypeError("invalid receiver");let r=jt(e),i=R(r,je),n=R(r,Ne),s=R(r,Ue),f=R(r,ee),c=R(this,tt),m=R(this,rt),w=R(this,it),_=R(this,nt),M=R(this,ot),x=R(this,st);return f=oT(R(this,ee),f),Dn(i,n,s,c,m,w,_,M,x,f)}withCalendar(e){if(!Xe(this))throw new TypeError("invalid receiver");let r=jn(e);return new Ml(R(this,je),R(this,Ne),R(this,Ue),R(this,tt),R(this,rt),R(this,it),R(this,nt),R(this,ot),R(this,st),r)}add(e,r){if(!Xe(this))throw new TypeError("invalid receiver");return kA("add",this,e,r)}subtract(e,r){if(!Xe(this))throw new TypeError("invalid receiver");return kA("subtract",this,e,r)}until(e,r){if(!Xe(this))throw new TypeError("invalid receiver");return SA("until",this,e,r)}since(e,r){if(!Xe(this))throw new TypeError("invalid receiver");return SA("since",this,e,r)}round(e){if(!Xe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Oh("smallestUnit",e):pt(e),i=Lh(r),n=gs(r,"halfExpand"),s=qn(r,"smallestUnit","time",ml,["day"]),f={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];zh(i,f,f===1);let c=R(this,je),m=R(this,Ne),w=R(this,Ue),_=R(this,tt),M=R(this,rt),x=R(this,it),T=R(this,nt),A=R(this,ot),I=R(this,st);return{year:c,month:m,day:w,hour:_,minute:M,second:x,millisecond:T,microsecond:A,nanosecond:I}=_3(c,m,w,_,M,x,T,A,I,i,s,n),Dn(c,m,w,_,M,x,T,A,I,R(this,ee))}equals(e){if(!Xe(this))throw new TypeError("invalid receiver");let r=dl(e);for(let i of[je,Ne,Ue,tt,rt,it,nt,ot,st])if(R(this,i)!==R(r,i))return!1;return bp(R(this,ee),R(r,ee))}toString(e){if(!Xe(this))throw new TypeError("invalid receiver");let r=pt(e),i=hp(r),n=cp(r),s=gs(r,"trunc"),f=qn(r,"smallestUnit","time",void 0);if(f==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:c,unit:m,increment:w}=pp(f,n);return mA(this,c,i,{unit:m,increment:w,roundingMode:s})}toJSON(){if(!Xe(this))throw new TypeError("invalid receiver");return mA(this,"auto")}toLocaleString(e,r){if(!Xe(this))throw new TypeError("invalid receiver");return new af(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,r){if(!Xe(this))throw new TypeError("invalid receiver");let i=Hi(e);return Ti(R(dn(i,this,Ih(pt(r))),Ge),i,R(this,ee))}toPlainDate(){if(!Xe(this))throw new TypeError("invalid receiver");return Dh(this)}toPlainYearMonth(){if(!Xe(this))throw new TypeError("invalid receiver");let e=R(this,ee);return vl(e,ut(this,Ur(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Xe(this))throw new TypeError("invalid receiver");let e=R(this,ee);return Bh(e,ut(this,Ur(e,["day","monthCode"]),[]))}toPlainTime(){if(!Xe(this))throw new TypeError("invalid receiver");return c3(this)}getISOFields(){if(!Xe(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,Ue),isoHour:R(this,tt),isoMicrosecond:R(this,ot),isoMillisecond:R(this,nt),isoMinute:R(this,rt),isoMonth:R(this,Ne),isoNanosecond:R(this,st),isoSecond:R(this,it),isoYear:R(this,je)}}getCalendar(){if(!Xe(this))throw new TypeError("invalid receiver");return Uh(R(this,ee))}static from(e,r){let i=pt(r);return Xe(e)?(jr(i),Dn(R(e,je),R(e,Ne),R(e,Ue),R(e,tt),R(e,rt),R(e,it),R(e,nt),R(e,ot),R(e,st),R(e,ee))):dl(e,i)}static compare(e,r){let i=dl(e),n=dl(r);for(let s of[je,Ne,Ue,tt,rt,it,nt,ot,st]){let f=R(i,s),c=R(n,s);if(f!==c)return cl(f-c)}return 0}};aa(Ml,"Temporal.PlainDateTime");var ea=class{constructor(e=0,r=0,i=0,n=0,s=0,f=0,c=0,m=0,w=0,_=0){let M=e===void 0?0:ii(e),x=r===void 0?0:ii(r),T=i===void 0?0:ii(i),A=n===void 0?0:ii(n),I=s===void 0?0:ii(s),D=f===void 0?0:ii(f),k=c===void 0?0:ii(c),C=m===void 0?0:ii(m),O=w===void 0?0:ii(w),U=_===void 0?0:ii(_);eg(M,x,T,A,I,D,k,C,O,U),fa(this),ft(this,tn,M),ft(this,_i,x),ft(this,_n,T),ft(this,rn,A),ft(this,nn,I),ft(this,on,D),ft(this,sn,k),ft(this,an,C),ft(this,fn,O),ft(this,un,U)}get years(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,tn)}get months(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,_i)}get weeks(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,_n)}get days(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,rn)}get hours(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,nn)}get minutes(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,on)}get seconds(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,sn)}get milliseconds(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,an)}get microseconds(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,fn)}get nanoseconds(){if(!Rr(this))throw new TypeError("invalid receiver");return R(this,un)}get sign(){if(!Rr(this))throw new TypeError("invalid receiver");return ia(R(this,tn),R(this,_i),R(this,_n),R(this,rn),R(this,nn),R(this,on),R(this,sn),R(this,an),R(this,fn),R(this,un))}get blank(){if(!Rr(this))throw new TypeError("invalid receiver");return ia(R(this,tn),R(this,_i),R(this,_n),R(this,rn),R(this,nn),R(this,on),R(this,sn),R(this,an),R(this,fn),R(this,un))===0}with(e){if(!Rr(this))throw new TypeError("invalid receiver");let r=ut(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=R(this,tn),months:n=R(this,_i),weeks:s=R(this,_n),days:f=R(this,rn),hours:c=R(this,nn),minutes:m=R(this,on),seconds:w=R(this,sn),milliseconds:_=R(this,an),microseconds:M=R(this,fn),nanoseconds:x=R(this,un)}=r;return new ea(i,n,s,f,c,m,w,_,M,x)}negated(){if(!Rr(this))throw new TypeError("invalid receiver");return mT(this)}abs(){if(!Rr(this))throw new TypeError("invalid receiver");return new ea(Math.abs(R(this,tn)),Math.abs(R(this,_i)),Math.abs(R(this,_n)),Math.abs(R(this,rn)),Math.abs(R(this,nn)),Math.abs(R(this,on)),Math.abs(R(this,sn)),Math.abs(R(this,an)),Math.abs(R(this,fn)),Math.abs(R(this,un)))}add(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return RA("add",this,e,r)}subtract(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return RA("subtract",this,e,r)}round(e){if(!Rr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=R(this,tn),i=R(this,_i),n=R(this,_n),s=R(this,rn),f=R(this,nn),c=R(this,on),m=R(this,sn),w=R(this,an),_=R(this,fn),M=R(this,un),x=I_(r,i,n,s,f,c,m,w,_,M),T=typeof e=="string"?Oh("smallestUnit",e):pt(e),A=qn(T,"largestUnit","datetime",void 0,["auto"]),I=Ly(T),D=Lh(T),k=gs(T,"halfExpand"),C=qn(T,"smallestUnit","datetime",void 0),O=!0;C||(O=!1,C="nanosecond"),x=yl(x,C);let U=!0;if(A||(U=!1,A=x),A==="auto"&&(A=x),!O&&!U)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(yl(A,C)!==A)throw new RangeError(`largestUnit ${A} cannot be smaller than smallestUnit ${C}`);let $={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[C];return $!==void 0&&zh(D,$,!1),{years:r,months:i,weeks:n,days:s}=Ny(r,i,n,s,A,I),{years:r,months:i,weeks:n,days:s,hours:f,minutes:c,seconds:m,milliseconds:w,microseconds:_,nanoseconds:M}=nf(r,i,n,s,f,c,m,w,_,M,D,C,k,I),{years:r,months:i,weeks:n,days:s,hours:f,minutes:c,seconds:m,milliseconds:w,microseconds:_,nanoseconds:M}=ST(r,i,n,s,f,c,m,w,_,M,D,C,k,I),{days:s,hours:f,minutes:c,seconds:m,milliseconds:w,microseconds:_,nanoseconds:M}=Oo(s,f,c,m,w,_,M,A,I),{years:r,months:i,weeks:n,days:s}=function(F,N,V,b,o,u){let h=qe("%Temporal.Duration%"),l=ia(F,N,V,b,0,0,0,0,0,0);if(l===0)return{years:F,months:N,weeks:V,days:b};let d=j.default.BigInt(l),y,v,p=j.default.BigInt(F),a=j.default.BigInt(N),g=j.default.BigInt(V),P=j.default.BigInt(b);u&&(v=jt(u),y=R(v,ee));let S=new h(l),B=new h(0,l),z=new h(0,0,l);switch(o){case"year":{if(!y)throw new RangeError("a starting point is required for years balancing");let H=typeof y!="string"?At(y,"dateAdd"):void 0,G,J,K;for({relativeTo:G,days:J}=$i(y,v,S,H);j.default.greaterThanOrEqual(ms(P),j.default.BigInt(Vt(J)));)P=j.default.subtract(P,j.default.BigInt(J)),p=j.default.add(p,d),v=G,{relativeTo:G,days:J}=$i(y,v,S,H);for({relativeTo:G,days:K}=$i(y,v,B,H);j.default.greaterThanOrEqual(ms(P),j.default.BigInt(Vt(K)));)P=j.default.subtract(P,j.default.BigInt(K)),a=j.default.add(a,d),v=G,{relativeTo:G,days:K}=$i(y,v,B,H);G=Ri(y,v,S,void 0,H);let Y=typeof y!="string"?At(y,"dateUntil"):void 0,ze=Gi(null);ze.largestUnit="month";let X=Hf(y,v,G,ze,Y),Q=R(X,_i);for(;j.default.greaterThanOrEqual(ms(a),j.default.BigInt(Vt(Q)));){a=j.default.subtract(a,j.default.BigInt(Q)),p=j.default.add(p,d),v=G,G=Ri(y,v,S,void 0,H);let et=Gi(null);et.largestUnit="month",X=Hf(y,v,G,et,Y),Q=R(X,_i)}break}case"month":{if(!y)throw new RangeError("a starting point is required for months balancing");let H=typeof y!="string"?At(y,"dateAdd"):void 0,G,J;for({relativeTo:G,days:J}=$i(y,v,B,H);j.default.greaterThanOrEqual(ms(P),j.default.BigInt(Vt(J)));)P=j.default.subtract(P,j.default.BigInt(J)),a=j.default.add(a,d),v=G,{relativeTo:G,days:J}=$i(y,v,B,H);break}case"week":{if(!y)throw new RangeError("a starting point is required for weeks balancing");let H=typeof y!="string"?At(y,"dateAdd"):void 0,G,J;for({relativeTo:G,days:J}=$i(y,v,z,H);j.default.greaterThanOrEqual(ms(P),j.default.BigInt(Vt(J)));)P=j.default.subtract(P,j.default.BigInt(J)),g=j.default.add(g,d),v=G,{relativeTo:G,days:J}=$i(y,v,z,H);break}}return{years:j.default.toNumber(p),months:j.default.toNumber(a),weeks:j.default.toNumber(g),days:j.default.toNumber(P)}}(r,i,n,s,A,I),new ea(r,i,n,s,f,c,m,w,_,M)}total(e){if(!Rr(this))throw new TypeError("invalid receiver");let r=R(this,tn),i=R(this,_i),n=R(this,_n),s=R(this,rn),f=R(this,nn),c=R(this,on),m=R(this,sn),w=R(this,an),_=R(this,fn),M=R(this,un);if(e===void 0)throw new TypeError("options argument is required");let x=typeof e=="string"?Oh("unit",e):pt(e),T=Ly(x),A=qn(x,"unit","datetime",ml),I;({years:r,months:i,weeks:n,days:s}=Ny(r,i,n,s,A,T)),Fe(T)&&(I=xT(T,r,i,n,0));let D=pT(s,f,c,m,w,_,M,A,I);if(D==="positive overflow")return 1/0;if(D==="negative overflow")return-1/0;({days:s,hours:f,minutes:c,seconds:m,milliseconds:w,microseconds:_,nanoseconds:M}=D);let{total:k}=nf(r,i,n,s,f,c,m,w,_,M,1,A,"trunc",T);return k}toString(e){if(!Rr(this))throw new TypeError("invalid receiver");let r=pt(e),i=cp(r),n=gs(r,"trunc"),s=qn(r,"smallestUnit","time",void 0);if(s==="hour"||s==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');let{precision:f,unit:c,increment:m}=pp(s,i);return M_(this,f,{unit:c,increment:m,roundingMode:n})}toJSON(){if(!Rr(this))throw new TypeError("invalid receiver");return M_(this)}toLocaleString(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,r).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),M_(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Rr(e)?new ea(R(e,tn),R(e,_i),R(e,_n),R(e,rn),R(e,nn),R(e,on),R(e,sn),R(e,an),R(e,fn),R(e,un)):xh(e)}static compare(e,r,i){let n=xh(e),s=xh(r),f=Ly(pt(i)),c=R(n,tn),m=R(n,_i),w=R(n,_n),_=R(n,rn),M=R(n,nn),x=R(n,on),T=R(n,sn),A=R(n,an),I=R(n,fn),D=R(n,un),k=R(s,tn),C=R(s,_i),O=R(s,_n),U=R(s,rn),$=R(s,nn),W=R(s,on),F=R(s,sn),N=R(s,an),V=R(s,fn),b=R(s,un),o=_A(f,c,m,w,_),u=_A(f,k,C,O,U);c===0&&k===0&&m===0&&C===0&&w===0&&O===0||({days:_}=Ny(c,m,w,_,"day",f),{days:U}=Ny(k,C,O,U,"day",f));let h=Ch(_,M,x,T,A,I,D,o),l=Ch(U,$,W,F,N,V,b,u);return cl(j.default.toNumber(j.default.subtract(h,l)))}};aa(ea,"Temporal.Duration");var pV=Object.create,sp=class{constructor(e,r,i="iso8601",n=1972){rT(this,vt(e),vt(r),jn(i),vt(n))}get monthCode(){if(!ri(this))throw new TypeError("invalid receiver");return yp(R(this,ee),this)}get day(){if(!ri(this))throw new TypeError("invalid receiver");return gp(R(this,ee),this)}get calendarId(){if(!ri(this))throw new TypeError("invalid receiver");return ki(R(this,ee))}with(e,r){if(!ri(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid argument");Nh(e);let i=pt(r),n=R(this,ee),s=Ur(n,["day","month","monthCode","year"]),f=ut(this,s,[]);return f=gl(n,f,ut(e,s,"partial")),f=ut(f,s,[]),Bh(n,f,i)}equals(e){if(!ri(this))throw new TypeError("invalid receiver");let r=hA(e);for(let i of[Ne,Ue,je])if(R(this,i)!==R(r,i))return!1;return bp(R(this,ee),R(r,ee))}toString(e){if(!ri(this))throw new TypeError("invalid receiver");return yA(this,hp(pt(e)))}toJSON(){if(!ri(this))throw new TypeError("invalid receiver");return yA(this)}toLocaleString(e,r){if(!ri(this))throw new TypeError("invalid receiver");return new af(e,r).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!ri(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("argument should be an object");let r=R(this,ee),i=Ur(r,["day","monthCode"]),n=ut(this,i,[]),s=Ur(r,["year"]),f=gl(r,n,ut(e,s,[]));f=ut(f,[...new Set([...i,...s])],[]);let c=pV(null);return c.overflow="reject",rf(r,f,c)}getISOFields(){if(!ri(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,Ue),isoMonth:R(this,Ne),isoYear:R(this,je)}}getCalendar(){if(!ri(this))throw new TypeError("invalid receiver");return Uh(R(this,ee))}static from(e,r){let i=pt(r);return ri(e)?(jr(i),rp(R(e,Ne),R(e,Ue),R(e,ee),R(e,je))):hA(e,i)}};aa(sp,"Temporal.PlainMonthDay");var T3=()=>new(qe("%Temporal.Instant%"))(x3()),OA=(t,e=$f())=>{let r=Hi(e),i=jn(t);return Zn(r,T3(),i)},A_=(t=$f())=>Zn(Hi(t),T3(),"iso8601"),qA=(t,e=$f())=>{let r=Hi(e),i=jn(t);return Ti(x3(),r,i)},UT={instant:T3,plainDateTime:OA,plainDateTimeISO:A_,plainDate:(t,e=$f())=>Dh(OA(t,e)),plainDateISO:(t=$f())=>Dh(A_(t)),plainTimeISO:(t=$f())=>c3(A_(t)),timeZoneId:()=>$f(),zonedDateTime:qA,zonedDateTimeISO:(t=$f())=>qA("iso8601",t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(UT,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var mV=Object.assign;function jA(t,e,r){let i=R(t,tt),n=R(t,rt),s=R(t,it),f=R(t,nt),c=R(t,ot),m=R(t,st);if(r){let{unit:w,increment:_,roundingMode:M}=r;({hour:i,minute:n,second:s,millisecond:f,microsecond:c,nanosecond:m}=M3(i,n,s,f,c,m,_,w,M))}return`${Qt(i)}:${Qt(n)}${gg(s,f,c,m,e)}`}var tf=class{constructor(e=0,r=0,i=0,n=0,s=0,f=0){let c=e===void 0?0:vt(e),m=r===void 0?0:vt(r),w=i===void 0?0:vt(i),_=n===void 0?0:vt(n),M=s===void 0?0:vt(s),x=f===void 0?0:vt(f);wg(c,m,w,_,M,x),fa(this),ft(this,tt,c),ft(this,rt,m),ft(this,it,w),ft(this,nt,_),ft(this,ot,M),ft(this,st,x)}get hour(){if(!Pr(this))throw new TypeError("invalid receiver");return R(this,tt)}get minute(){if(!Pr(this))throw new TypeError("invalid receiver");return R(this,rt)}get second(){if(!Pr(this))throw new TypeError("invalid receiver");return R(this,it)}get millisecond(){if(!Pr(this))throw new TypeError("invalid receiver");return R(this,nt)}get microsecond(){if(!Pr(this))throw new TypeError("invalid receiver");return R(this,ot)}get nanosecond(){if(!Pr(this))throw new TypeError("invalid receiver");return R(this,st)}with(e,r){if(!Pr(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid argument");Nh(e);let i=jr(pt(r)),n=Yy(e,"partial"),s=Yy(this),{hour:f,minute:c,second:m,millisecond:w,microsecond:_,nanosecond:M}=mV(s,n);return{hour:f,minute:c,second:m,millisecond:w,microsecond:_,nanosecond:M}=ag(f,c,m,w,_,M,i),new tf(f,c,m,w,_,M)}add(e){if(!Pr(this))throw new TypeError("invalid receiver");return IA("add",this,e)}subtract(e){if(!Pr(this))throw new TypeError("invalid receiver");return IA("subtract",this,e)}until(e,r){if(!Pr(this))throw new TypeError("invalid receiver");return EA("until",this,e,r)}since(e,r){if(!Pr(this))throw new TypeError("invalid receiver");return EA("since",this,e,r)}round(e){if(!Pr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Oh("smallestUnit",e):pt(e),i=Lh(r),n=gs(r,"halfExpand"),s=qn(r,"smallestUnit","time",ml);zh(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s],!1);let f=R(this,tt),c=R(this,rt),m=R(this,it),w=R(this,nt),_=R(this,ot),M=R(this,st);return{hour:f,minute:c,second:m,millisecond:w,microsecond:_,nanosecond:M}=M3(f,c,m,w,_,M,i,s,n),new tf(f,c,m,w,_,M)}equals(e){if(!Pr(this))throw new TypeError("invalid receiver");let r=Ja(e);for(let i of[tt,rt,it,nt,ot,st])if(R(this,i)!==R(r,i))return!1;return!0}toString(e){if(!Pr(this))throw new TypeError("invalid receiver");let r=pt(e),i=cp(r),n=gs(r,"trunc"),s=qn(r,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:f,unit:c,increment:m}=pp(s,i);return jA(this,f,{unit:c,increment:m,roundingMode:n})}toJSON(){if(!Pr(this))throw new TypeError("invalid receiver");return jA(this,"auto")}toLocaleString(e,r){if(!Pr(this))throw new TypeError("invalid receiver");return new af(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Pr(this))throw new TypeError("invalid receiver");let r=jt(e),i=R(r,je),n=R(r,Ne),s=R(r,Ue),f=R(r,ee);return Dn(i,n,s,R(this,tt),R(this,rt),R(this,it),R(this,nt),R(this,ot),R(this,st),f)}toZonedDateTime(e){if(!Pr(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid argument");let r=e.plainDate;if(r===void 0)throw new TypeError("missing date property");let i=jt(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property");let s=Hi(n),f=R(i,je),c=R(i,Ne),m=R(i,Ue),w=R(i,ee),_=R(this,tt),M=R(this,rt),x=R(this,it),T=R(this,nt),A=R(this,ot),I=R(this,st);return Ti(R(dn(s,new(qe("%Temporal.PlainDateTime%"))(f,c,m,_,M,x,T,A,I,w),"compatible"),Ge),s,w)}getISOFields(){if(!Pr(this))throw new TypeError("invalid receiver");return{isoHour:R(this,tt),isoMicrosecond:R(this,ot),isoMillisecond:R(this,nt),isoMinute:R(this,rt),isoNanosecond:R(this,st),isoSecond:R(this,it)}}static from(e,r){let i=jr(pt(r));return Pr(e)?new tf(R(e,tt),R(e,rt),R(e,it),R(e,nt),R(e,ot),R(e,st)):Ja(e,i)}static compare(e,r){let i=Ja(e),n=Ja(r);for(let s of[tt,rt,it,nt,ot,st]){let f=R(i,s),c=R(n,s);if(f!==c)return cl(f-c)}return 0}};aa(tf,"Temporal.PlainTime");var pl=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let r=p3(e);fa(this),ft(this,Qs,r)}get id(){if(!po(this))throw new TypeError("invalid receiver");return R(this,Qs)}getOffsetNanosecondsFor(e){if(!po(this))throw new TypeError("invalid receiver");let r=ys(e),i=R(this,Qs);return wh(i)?Gf(i):Xa(i,R(r,Ge))}getOffsetStringFor(e){if(!po(this))throw new TypeError("invalid receiver");return B_(this,ys(e))}getPlainDateTimeFor(e,r="iso8601"){if(!po(this))throw new TypeError("invalid receiver");return Zn(this,ys(e),jn(r))}getInstantFor(e,r){if(!po(this))throw new TypeError("invalid receiver");return dn(this,dl(e),Ih(pt(r)))}getPossibleInstantsFor(e){if(!po(this))throw new TypeError("invalid receiver");let r=dl(e),i=qe("%Temporal.Instant%"),n=R(this,Qs);if(wh(n)){let f=Kf(R(r,je),R(r,Ne),R(r,Ue),R(r,tt),R(r,rt),R(r,it),R(r,nt),R(r,ot),R(r,st));if(f===null)throw new RangeError("DateTime outside of supported range");let c=Gf(n);return[new i(j.default.subtract(f,j.default.BigInt(c)))]}return function(c,m,w,_,M,x,T,A,I,D){let k=Kf(m,w,_,M,x,T,A,I,D);if(k===null)throw new RangeError("DateTime outside of supported range");let C=j.default.subtract(k,na);j.default.lessThan(C,tp)&&(C=k);let O=j.default.add(k,na);j.default.greaterThan(O,Ph)&&(O=k);let U=Xa(c,C),$=Xa(c,O);return(U===$?[U]:[U,$]).map(W=>{let F=j.default.subtract(k,j.default.BigInt(W)),N=dT(c,F);if(m===N.year&&w===N.month&&_===N.day&&M===N.hour&&x===N.minute&&T===N.second&&A===N.millisecond&&I===N.microsecond&&D===N.nanosecond)return F}).filter(W=>W!==void 0)}(n,R(r,je),R(r,Ne),R(r,Ue),R(r,tt),R(r,rt),R(r,it),R(r,nt),R(r,ot),R(r,st)).map(f=>new i(f))}getNextTransition(e){if(!po(this))throw new TypeError("invalid receiver");let r=ys(e),i=R(this,Qs);if(wh(i)||i==="UTC")return null;let n=R(r,Ge),s=qe("%Temporal.Instant%");return n=cT(i,n),n===null?null:new s(n)}getPreviousTransition(e){if(!po(this))throw new TypeError("invalid receiver");let r=ys(e),i=R(this,Qs);if(wh(i)||i==="UTC")return null;let n=R(r,Ge),s=qe("%Temporal.Instant%");return n=D_(i,n),n===null?null:new s(n)}toString(){if(!po(this))throw new TypeError("invalid receiver");return R(this,Qs)}toJSON(){if(!po(this))throw new TypeError("invalid receiver");return R(this,Qs)}static from(e){return sT(Hi(e))}};aa(pl,"Temporal.TimeZone"),Mr("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",pl.prototype.getOffsetNanosecondsFor),Mr("Temporal.TimeZone.prototype.getPossibleInstantsFor",pl.prototype.getPossibleInstantsFor);var yV=Object.create,ap=class{constructor(e,r,i="iso8601",n=1){iT(this,vt(e),vt(r),jn(i),vt(n))}get year(){if(!_t(this))throw new TypeError("invalid receiver");return fg(R(this,ee),this)}get month(){if(!_t(this))throw new TypeError("invalid receiver");return ug(R(this,ee),this)}get monthCode(){if(!_t(this))throw new TypeError("invalid receiver");return yp(R(this,ee),this)}get calendarId(){if(!_t(this))throw new TypeError("invalid receiver");return ki(R(this,ee))}get era(){if(!_t(this))throw new TypeError("invalid receiver");return lg(R(this,ee),this)}get eraYear(){if(!_t(this))throw new TypeError("invalid receiver");return dg(R(this,ee),this)}get daysInMonth(){if(!_t(this))throw new TypeError("invalid receiver");return hg(R(this,ee),this)}get daysInYear(){if(!_t(this))throw new TypeError("invalid receiver");return cg(R(this,ee),this)}get monthsInYear(){if(!_t(this))throw new TypeError("invalid receiver");return pg(R(this,ee),this)}get inLeapYear(){if(!_t(this))throw new TypeError("invalid receiver");return mg(R(this,ee),this)}with(e,r){if(!_t(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid argument");Nh(e);let i=pt(r),n=R(this,ee),s=Ur(n,["month","monthCode","year"]),f=ut(this,s,[]);return f=gl(n,f,ut(e,s,"partial")),f=ut(f,s,[]),vl(n,f,i)}add(e,r){if(!_t(this))throw new TypeError("invalid receiver");return BA("add",this,e,r)}subtract(e,r){if(!_t(this))throw new TypeError("invalid receiver");return BA("subtract",this,e,r)}until(e,r){if(!_t(this))throw new TypeError("invalid receiver");return AA("until",this,e,r)}since(e,r){if(!_t(this))throw new TypeError("invalid receiver");return AA("since",this,e,r)}equals(e){if(!_t(this))throw new TypeError("invalid receiver");let r=J0(e);for(let i of[je,Ne,Ue])if(R(this,i)!==R(r,i))return!1;return bp(R(this,ee),R(r,ee))}toString(e){if(!_t(this))throw new TypeError("invalid receiver");return gA(this,hp(pt(e)))}toJSON(){if(!_t(this))throw new TypeError("invalid receiver");return gA(this)}toLocaleString(e,r){if(!_t(this))throw new TypeError("invalid receiver");return new af(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!_t(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("argument should be an object");let r=R(this,ee),i=Ur(r,["monthCode","year"]),n=ut(this,i,[]),s=Ur(r,["day"]),f=gl(r,n,ut(e,s,[]));f=ut(f,[...new Set([...i,...s])],[]);let c=yV(null);return c.overflow="reject",rf(r,f,c)}getISOFields(){if(!_t(this))throw new TypeError("invalid receiver");return{calendar:R(this,ee),isoDay:R(this,Ue),isoMonth:R(this,Ne),isoYear:R(this,je)}}getCalendar(){if(!_t(this))throw new TypeError("invalid receiver");return Uh(R(this,ee))}static from(e,r){let i=pt(r);return _t(e)?(jr(i),ip(R(e,je),R(e,Ne),R(e,ee),R(e,Ue))):J0(e,i)}static compare(e,r){let i=J0(e),n=J0(r);return Wf(R(i,je),R(i,Ne),R(i,Ue),R(n,je),R(n,Ne),R(n,Ue))}};aa(ap,"Temporal.PlainYearMonth");var gV=af.prototype.resolvedOptions,vV=Object.create,fp=class{constructor(e,r,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");nT(this,Q0(e),Hi(r),jn(i))}get calendarId(){if(!Fe(this))throw new TypeError("invalid receiver");return ki(R(this,ee))}get timeZoneId(){if(!Fe(this))throw new TypeError("invalid receiver");return np(R(this,Ct))}get year(){if(!Fe(this))throw new TypeError("invalid receiver");return fg(R(this,ee),Gt(this))}get month(){if(!Fe(this))throw new TypeError("invalid receiver");return ug(R(this,ee),Gt(this))}get monthCode(){if(!Fe(this))throw new TypeError("invalid receiver");return yp(R(this,ee),Gt(this))}get day(){if(!Fe(this))throw new TypeError("invalid receiver");return gp(R(this,ee),Gt(this))}get hour(){if(!Fe(this))throw new TypeError("invalid receiver");return R(Gt(this),tt)}get minute(){if(!Fe(this))throw new TypeError("invalid receiver");return R(Gt(this),rt)}get second(){if(!Fe(this))throw new TypeError("invalid receiver");return R(Gt(this),it)}get millisecond(){if(!Fe(this))throw new TypeError("invalid receiver");return R(Gt(this),nt)}get microsecond(){if(!Fe(this))throw new TypeError("invalid receiver");return R(Gt(this),ot)}get nanosecond(){if(!Fe(this))throw new TypeError("invalid receiver");return R(Gt(this),st)}get era(){if(!Fe(this))throw new TypeError("invalid receiver");return lg(R(this,ee),Gt(this))}get eraYear(){if(!Fe(this))throw new TypeError("invalid receiver");return dg(R(this,ee),Gt(this))}get epochSeconds(){if(!Fe(this))throw new TypeError("invalid receiver");let e=R(this,Ge);return j.default.toNumber(Sh(e,ra))}get epochMilliseconds(){if(!Fe(this))throw new TypeError("invalid receiver");let e=R(this,Ge);return j.default.toNumber(Sh(e,go))}get epochMicroseconds(){if(!Fe(this))throw new TypeError("invalid receiver");return rg(Sh(R(this,Ge),Mt))}get epochNanoseconds(){if(!Fe(this))throw new TypeError("invalid receiver");return rg(R(this,Ge))}get dayOfWeek(){if(!Fe(this))throw new TypeError("invalid receiver");return f3(R(this,ee),Gt(this))}get dayOfYear(){if(!Fe(this))throw new TypeError("invalid receiver");return u3(R(this,ee),Gt(this))}get weekOfYear(){if(!Fe(this))throw new TypeError("invalid receiver");return l3(R(this,ee),Gt(this))}get yearOfWeek(){if(!Fe(this))throw new TypeError("invalid receiver");return d3(R(this,ee),Gt(this))}get hoursInDay(){if(!Fe(this))throw new TypeError("invalid receiver");let e=Gt(this),r=qe("%Temporal.PlainDateTime%"),i=R(e,je),n=R(e,Ne),s=R(e,Ue),f=new r(i,n,s,0,0,0,0,0,0),c=hl(i,n,s,0,0,0,1,"reject"),m=new r(c.year,c.month,c.day,0,0,0,0,0,0),w=R(this,Ct),_=R(dn(w,f,"compatible"),Ge),M=R(dn(w,m,"compatible"),Ge);return Xs(j.default.subtract(M,_),VA)}get daysInWeek(){if(!Fe(this))throw new TypeError("invalid receiver");return h3(R(this,ee),Gt(this))}get daysInMonth(){if(!Fe(this))throw new TypeError("invalid receiver");return hg(R(this,ee),Gt(this))}get daysInYear(){if(!Fe(this))throw new TypeError("invalid receiver");return cg(R(this,ee),Gt(this))}get monthsInYear(){if(!Fe(this))throw new TypeError("invalid receiver");return pg(R(this,ee),Gt(this))}get inLeapYear(){if(!Fe(this))throw new TypeError("invalid receiver");return mg(R(this,ee),Gt(this))}get offset(){if(!Fe(this))throw new TypeError("invalid receiver");return B_(R(this,Ct),R(this,Wi))}get offsetNanoseconds(){if(!Fe(this))throw new TypeError("invalid receiver");return vs(R(this,Ct),R(this,Wi))}with(e,r){if(!Fe(this))throw new TypeError("invalid receiver");if(!Yt(e))throw new TypeError("invalid zoned-date-time-like");Nh(e);let i=pt(r),n=R(this,ee),s=Ur(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);s.push("offset");let f=ut(this,s,["offset"]);f=gl(n,f,ut(e,s,"partial")),f=ut(f,s,["offset"]);let c=Ih(i),m=Vy(i,"prefer"),{year:w,month:_,day:M,hour:x,minute:T,second:A,millisecond:I,microsecond:D,nanosecond:k}=mp(n,f,i),C=Gf(f.offset),O=R(this,Ct);return Ti(Jy(w,_,M,x,T,A,I,D,k,"option",C,O,c,m,!1),O,n)}withPlainDate(e){if(!Fe(this))throw new TypeError("invalid receiver");let r=jt(e),i=R(r,je),n=R(r,Ne),s=R(r,Ue),f=R(r,ee),c=Gt(this),m=R(c,tt),w=R(c,rt),_=R(c,it),M=R(c,nt),x=R(c,ot),T=R(c,st);f=oT(R(this,ee),f);let A=R(this,Ct);return Ti(R(dn(A,new(qe("%Temporal.PlainDateTime%"))(i,n,s,m,w,_,M,x,T,f),"compatible"),Ge),A,f)}withPlainTime(e){if(!Fe(this))throw new TypeError("invalid receiver");let r=qe("%Temporal.PlainTime%"),i=e===void 0?new r:Ja(e),n=Gt(this),s=R(n,je),f=R(n,Ne),c=R(n,Ue),m=R(this,ee),w=R(i,tt),_=R(i,rt),M=R(i,it),x=R(i,nt),T=R(i,ot),A=R(i,st),I=R(this,Ct);return Ti(R(dn(I,new(qe("%Temporal.PlainDateTime%"))(s,f,c,w,_,M,x,T,A,m),"compatible"),Ge),I,m)}withTimeZone(e){if(!Fe(this))throw new TypeError("invalid receiver");let r=Hi(e);return Ti(R(this,Ge),r,R(this,ee))}withCalendar(e){if(!Fe(this))throw new TypeError("invalid receiver");let r=jn(e);return Ti(R(this,Ge),R(this,Ct),r)}add(e,r){if(!Fe(this))throw new TypeError("invalid receiver");return DA("add",this,e,r)}subtract(e,r){if(!Fe(this))throw new TypeError("invalid receiver");return DA("subtract",this,e,r)}until(e,r){if(!Fe(this))throw new TypeError("invalid receiver");return TA("until",this,e,r)}since(e,r){if(!Fe(this))throw new TypeError("invalid receiver");return TA("since",this,e,r)}round(e){if(!Fe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Oh("smallestUnit",e):pt(e),i=Lh(r),n=gs(r,"halfExpand"),s=qn(r,"smallestUnit","time",ml,["day"]),f={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];zh(i,f,f===1);let c=Gt(this),m=R(c,je),w=R(c,Ne),_=R(c,Ue),M=R(c,tt),x=R(c,rt),T=R(c,it),A=R(c,nt),I=R(c,ot),D=R(c,st),k=qe("%Temporal.PlainDateTime%"),C=R(this,Ct),O=R(this,ee),U=dn(C,new k(R(c,je),R(c,Ne),R(c,Ue),0,0,0,0,0,0),"compatible"),$=vo(U,C,O,0,0,0,1,0,0,0,0,0,0),W=j.default.subtract($,j.default.BigInt(R(U,Ge)));if(j.default.lessThanOrEqual(W,kr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:m,month:w,day:_,hour:M,minute:x,second:T,millisecond:A,microsecond:I,nanosecond:D}=_3(m,w,_,M,x,T,A,I,D,i,s,n,j.default.toNumber(W)),Ti(Jy(m,w,_,M,x,T,A,I,D,"option",vs(C,R(this,Wi)),C,"compatible","prefer",!1),C,R(this,ee))}equals(e){if(!Fe(this))throw new TypeError("invalid receiver");let r=X0(e),i=R(this,Ge),n=R(r,Ge);return!!j.default.equal(j.default.BigInt(i),j.default.BigInt(n))&&!!aT(R(this,Ct),R(r,Ct))&&bp(R(this,ee),R(r,ee))}toString(e){if(!Fe(this))throw new TypeError("invalid receiver");let r=pt(e),i=hp(r),n=cp(r),s=function(T){return Vf(T,"offset",["auto","never"],"auto")}(r),f=gs(r,"trunc"),c=qn(r,"smallestUnit","time",void 0);if(c==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let m=function(T){return Vf(T,"timeZoneName",["auto","never","critical"],"auto")}(r),{precision:w,unit:_,increment:M}=pp(c,n);return vA(this,w,i,m,s,{unit:_,increment:M,roundingMode:f})}toLocaleString(e,r){if(!Fe(this))throw new TypeError("invalid receiver");let i=pt(r),n=vV(null);if(Mh(n,i,["timeZone"]),i.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");n.year===void 0&&n.month===void 0&&n.day===void 0&&n.weekday===void 0&&n.dateStyle===void 0&&n.hour===void 0&&n.minute===void 0&&n.second===void 0&&n.timeStyle===void 0&&n.dayPeriod===void 0&&n.timeZoneName===void 0&&(n.timeZoneName="short");let s=np(R(this,Ct));if(wh(s))throw new RangeError("toLocaleString does not support offset string time zones");s=p3(s),n.timeZone=s;let f=new af(e,n),c=He(gV,f,[]).calendar,m=ki(R(this,ee));if(m!=="iso8601"&&c!=="iso8601"&&c!==m)throw new RangeError(`cannot format ZonedDateTime with calendar ${m} in locale with calendar ${c}`);return f.format(R(this,Wi))}toJSON(){if(!Fe(this))throw new TypeError("invalid receiver");return vA(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Fe(this))throw new TypeError("invalid receiver");let e=Gt(this),r=qe("%Temporal.PlainDateTime%"),i=R(this,ee),n=new r(R(e,je),R(e,Ne),R(e,Ue),0,0,0,0,0,0,i),s=R(this,Ct);return Ti(R(dn(s,n,"compatible"),Ge),s,i)}toInstant(){if(!Fe(this))throw new TypeError("invalid receiver");return new(qe("%Temporal.Instant%"))(R(this,Ge))}toPlainDate(){if(!Fe(this))throw new TypeError("invalid receiver");return Dh(Gt(this))}toPlainTime(){if(!Fe(this))throw new TypeError("invalid receiver");return c3(Gt(this))}toPlainDateTime(){if(!Fe(this))throw new TypeError("invalid receiver");return Gt(this)}toPlainYearMonth(){if(!Fe(this))throw new TypeError("invalid receiver");let e=R(this,ee);return vl(e,ut(this,Ur(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Fe(this))throw new TypeError("invalid receiver");let e=R(this,ee);return Bh(e,ut(this,Ur(e,["day","monthCode"]),[]))}getISOFields(){if(!Fe(this))throw new TypeError("invalid receiver");let e=Gt(this),r=R(this,Ct);return{calendar:R(this,ee),isoDay:R(e,Ue),isoHour:R(e,tt),isoMicrosecond:R(e,ot),isoMillisecond:R(e,nt),isoMinute:R(e,rt),isoMonth:R(e,Ne),isoNanosecond:R(e,st),isoSecond:R(e,it),isoYear:R(e,je),offset:B_(r,R(this,Wi)),timeZone:r}}getCalendar(){if(!Fe(this))throw new TypeError("invalid receiver");return Uh(R(this,ee))}getTimeZone(){if(!Fe(this))throw new TypeError("invalid receiver");return sT(R(this,Ct))}static from(e,r){let i=pt(r);return Fe(e)?(Ih(i),Vy(i,"reject"),jr(i),Ti(R(e,Ge),R(e,Ct),R(e,ee))):X0(e,i)}static compare(e,r){let i=X0(e),n=X0(r),s=R(i,Ge),f=R(n,Ge);return j.default.lessThan(j.default.BigInt(s),j.default.BigInt(f))?-1:j.default.greaterThan(j.default.BigInt(s),j.default.BigInt(f))?1:0}};function Gt(t){return Zn(R(t,Ct),R(t,Wi),R(t,ee))}aa(fp,"Temporal.ZonedDateTime");var FT=Object.freeze({__proto__:null,Calendar:Jt,Duration:ea,Instant:yo,Now:UT,PlainDate:_l,PlainDateTime:Ml,PlainMonthDay:sp,PlainTime:tf,PlainYearMonth:ap,TimeZone:pl,ZonedDateTime:fp});var bV=[yo,Jt,_l,Ml,ea,sp,tf,pl,ap,fp];for(let t of bV){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}function xr(){return FT.Now.instant().toString({smallestUnit:"microseconds"})}E();E();E();var R3=new TextEncoder,wV=new TextDecoder,at=class{static base64UrlToBytes(e){return ch.baseDecode(e)}static base64UrlToObject(e){let r=ch.baseDecode(e),i=at.bytesToString(r);return JSON.parse(i)}static bytesToBase64Url(e){return ch.baseEncode(e)}static bytesToString(e){return wV.decode(e)}static objectToBytes(e){let r=JSON.stringify(e);return R3.encode(r)}static stringToBase64Url(e){let r=R3.encode(e);return ch.baseEncode(r)}static stringToBytes(e){return R3.encode(e)}};E();E();E();var cn=2n**255n-19n,$h=2n**252n+27742317777372353535851937790883648493n,P3=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,k3=0x6666666666666666666666666666666666666666666666666666666666666658n,_g={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:cn,n:$h,h:8,Gx:P3,Gy:k3},Nn=(t="")=>{throw new Error(t)},KT=t=>typeof t=="string",Sg=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?Nn("Uint8Array expected"):t,Wh=t=>new Uint8Array(t),Hh=(t,e)=>Sg(KT(t)?B3(t):Wh(t),e),Je=(t,e=cn)=>{let r=t%e;return r>=0n?r:e+r},$T=t=>t instanceof Mn?t:Nn("Point expected"),WT,Mn=class{constructor(e,r,i,n){this.ex=e,this.ey=r,this.ez=i,this.et=n}static fromAffine(e){return new Mn(e.x,e.y,1n,Je(e.x*e.y))}static fromHex(e,r=!0){let{d:i}=_g;e=Hh(e,32);let n=e.slice();n[31]=e[31]&-129;let s=D3(n);s===0n||(r&&!(0n<s&&s<cn)&&Nn("bad y coord 1"),!r&&!(0n<s&&s<2n**256n)&&Nn("bad y coord 2"));let f=Je(s*s),c=Je(f-1n),m=Je(i*f+1n),{isValid:w,value:_}=MV(c,m);w||Nn("bad y coordinate 3");let M=(_&1n)===1n;return(e[31]&128)!==0!==M&&(_=Je(-_)),new Mn(_,s,1n,Je(_*s))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){let{ex:r,ey:i,ez:n}=this,{ex:s,ey:f,ez:c}=$T(e),m=Je(r*c),w=Je(s*n),_=Je(i*c),M=Je(f*n);return m===w&&_===M}is0(){return this.equals(Mg)}negate(){return new Mn(Je(-this.ex),this.ey,this.ez,Je(-this.et))}double(){let{ex:e,ey:r,ez:i}=this,{a:n}=_g,s=Je(e*e),f=Je(r*r),c=Je(2n*Je(i*i)),m=Je(n*s),w=e+r,_=Je(Je(w*w)-s-f),M=m+f,x=M-c,T=m-f,A=Je(_*x),I=Je(M*T),D=Je(_*T),k=Je(x*M);return new Mn(A,I,k,D)}add(e){let{ex:r,ey:i,ez:n,et:s}=this,{ex:f,ey:c,ez:m,et:w}=$T(e),{a:_,d:M}=_g,x=Je(r*f),T=Je(i*c),A=Je(s*M*w),I=Je(n*m),D=Je((r+i)*(f+c)-x-T),k=Je(I-A),C=Je(I+A),O=Je(T-_*x),U=Je(D*k),$=Je(C*O),W=Je(D*O),F=Je(k*C);return new Mn(U,$,F,W)}mul(e,r=!0){if(e===0n)return r===!0?Nn("cannot multiply by 0"):Mg;if(typeof e=="bigint"&&0n<e&&e<$h||Nn("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(eu))return TV(e).p;let i=Mg,n=eu;for(let s=this;e>0n;s=s.double(),e>>=1n)e&1n?i=i.add(s):r&&(n=n.add(s));return i}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(_g.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul($h/2n,!1).double();return $h%2n&&(e=e.add(this)),e.is0()}toAffine(){let{ex:e,ey:r,ez:i}=this;if(this.is0())return{x:0n,y:0n};let n=YT(i);return Je(i*n)!==1n&&Nn("invalid inverse"),{x:Je(e*n),y:Je(r*n)}}toRawBytes(){let{x:e,y:r}=this.toAffine(),i=VT(r);return i[31]|=e&1n?128:0,i}toHex(){return I3(this.toRawBytes())}};Mn.BASE=new Mn(P3,k3,1n,Je(P3*k3));Mn.ZERO=new Mn(0n,1n,1n,0n);var{BASE:eu,ZERO:Mg}=Mn,ZT=(t,e)=>t.toString(16).padStart(e,"0"),I3=t=>Array.from(t).map(e=>ZT(e,2)).join(""),B3=t=>{let e=t.length;(!KT(t)||e%2)&&Nn("hex invalid 1");let r=Wh(e/2);for(let i=0;i<r.length;i++){let n=i*2,s=t.slice(n,n+2),f=Number.parseInt(s,16);(Number.isNaN(f)||f<0)&&Nn("hex invalid 2"),r[i]=f}return r},VT=t=>B3(ZT(t,32*2)).reverse(),D3=t=>BigInt("0x"+I3(Wh(Sg(t)).reverse())),Mp=(...t)=>{let e=Wh(t.reduce((i,n)=>i+Sg(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},YT=(t,e=cn)=>{(t===0n||e<=0n)&&Nn("no inverse n="+t+" mod="+e);let r=Je(t,e),i=e,n=0n,s=1n,f=1n,c=0n;for(;r!==0n;){let m=i/r,w=i%r,_=n-f*m,M=s-c*m;i=r,r=w,n=f,s=c,f=_,c=M}return i===1n?Je(n,e):Nn("no inverse")},la=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=cn;return r},_V=t=>{let r=t*t%cn*t%cn,i=la(r,2n)*r%cn,n=la(i,1n)*t%cn,s=la(n,5n)*n%cn,f=la(s,10n)*s%cn,c=la(f,20n)*f%cn,m=la(c,40n)*c%cn,w=la(m,80n)*m%cn,_=la(w,80n)*m%cn,M=la(_,10n)*s%cn;return{pow_p_5_8:la(M,2n)*t%cn,b2:r}},HT=19681161376707505956807079304988542015446066515923890162744021073123829784752n,MV=(t,e)=>{let r=Je(e*e*e),i=Je(r*r*e),n=_V(t*i).pow_p_5_8,s=Je(t*r*n),f=Je(e*s*s),c=s,m=Je(s*HT),w=f===t,_=f===Je(-t),M=f===Je(-t*HT);return w&&(s=c),(_||M)&&(s=m),(Je(s)&1n)===1n&&(s=Je(-s)),{isValid:w||_,value:s}},xg=t=>Je(D3(t),$h),_p,C3=(...t)=>Al.sha512Async(...t),JT=(...t)=>typeof _p=="function"?_p(...t):Nn("etc.sha512Sync not set"),XT=t=>{let e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;let r=t.slice(32,64),i=xg(e),n=eu.mul(i),s=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:s}},O3=t=>C3(Hh(t,32)).then(XT),xV=t=>XT(JT(Hh(t,32))),QT=t=>O3(t).then(e=>e.pointBytes);function eR(t,e){return t?C3(e.hashable).then(e.finish):e.finish(JT(e.hashable))}var SV=(t,e,r)=>{let{pointBytes:i,scalar:n}=t,s=xg(e),f=eu.mul(s).toRawBytes();return{hashable:Mp(f,i,r),finish:w=>{let _=Je(s+xg(w)*n,$h);return Sg(Mp(f,VT(_)),64)}}},tR=async(t,e)=>{let r=Hh(t),i=await O3(e),n=await C3(i.prefix,r);return eR(!0,SV(i,n,r))};var EV=(t,e,r)=>{e=Hh(e),t=Hh(t,64);let i=Mn.fromHex(r,!1),n=Mn.fromHex(t.slice(0,32),!1),s=D3(t.slice(32,64)),f=eu.mul(s,!1);return{hashable:Mp(n.toRawBytes(),i.toRawBytes(),e),finish:w=>{let _=xg(w);return n.add(i.mul(_,!1)).add(f.negate()).clearCofactor().is0()}}},rR=async(t,e,r)=>eR(!0,EV(t,e,r));var GT=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,Al={bytesToHex:I3,hexToBytes:B3,concatBytes:Mp,mod:Je,invert:YT,randomBytes:t=>{let e=GT();return e||Nn("crypto.getRandomValues must be defined"),e.getRandomValues(Wh(t))},sha512Async:async(...t)=>{let e=GT();e||Nn("crypto.subtle or etc.sha512Async must be defined");let r=Mp(...t);return Wh(await e.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(Al,{sha512Sync:{configurable:!1,get(){return _p},set(t){_p||(_p=t)}}});var iR={getExtendedPublicKeyAsync:O3,getExtendedPublicKey:xV,randomPrivateKey:()=>Al.randomBytes(32),precompute(t=8,e=eu){return e.multiply(3n),e}},El=8,AV=()=>{let t=[],e=256/El+1,r=eu,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let s=1;s<2**(El-1);s++)i=i.add(r),t.push(i);r=i.double()}return t},TV=t=>{let e=WT||(WT=AV()),r=(_,M)=>{let x=M.negate();return _?x:M},i=Mg,n=eu,s=1+256/El,f=2**(El-1),c=BigInt(2**El-1),m=2**El,w=BigInt(El);for(let _=0;_<s;_++){let M=_*f,x=Number(t&c);t>>=w,x>f&&(x-=m,t+=1n);let T=M,A=M+Math.abs(x)-1,I=_%2!==0,D=x<0;x===0?n=n.add(r(I,e[T])):i=i.add(r(D,e[A]))}return{p:i,f:n}};function nR(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new Error("invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function oR(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:at.bytesToBase64Url(t)}}var xp={sign:async(t,e)=>{nR(e);let r=Al.bytesToHex(t),i=at.base64UrlToBytes(e.d),n=Al.bytesToHex(i);return tR(r,n)},verify:async(t,e,r)=>{nR(r);let i=at.base64UrlToBytes(r.x);return rR(e,t,i)},generateKeyPair:async()=>{let t=iR.randomPrivateKey(),e=Al.bytesToHex(t),r=await QT(e),i=at.bytesToBase64Url(t),n=oR(r),s={...n,d:i};return{publicJwk:n,privateJwk:s}},publicKeyToJwk:async t=>oR(t)};E();E();var N3=2n**256n,tu=N3-0x1000003d1n,Ii=N3-0x14551231950b75fc4402da1732fc9bebfn,dR=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,hR=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,cR={p:tu,n:Ii,a:0n,b:7n,Gx:dR,Gy:hR},xn=32,sR=t=>We(We(t*t)*t+cR.b),er=(t="")=>{throw new Error(t)},Rg=t=>typeof t=="bigint",pR=t=>typeof t=="string",q3=t=>Rg(t)&&0n<t&&t<tu,Ap=t=>Rg(t)&&0n<t&&t<Ii,mR=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?er("Uint8Array expected"):t,wo=t=>new Uint8Array(t),uf=(t,e)=>mR(pR(t)?Tp(t):wo(t),e),We=(t,e=tu)=>{let r=t%e;return r>=0n?r:e+r},aR=t=>t instanceof Mi?t:er("Point expected"),fR,Mi=class{constructor(e,r,i){this.px=e,this.py=r,this.pz=i}static fromAffine(e){return new Mi(e.x,e.y,1n)}static fromHex(e){e=uf(e);let r,i=e[0],n=e.subarray(1),s=Ag(n,0,xn),f=e.length;if(f===33&&[2,3].includes(i)){q3(s)||er("Point hex invalid: x not FE");let c=PV(sR(s)),m=(c&1n)===1n;(i&1)===1!==m&&(c=We(-c)),r=new Mi(s,c,1n)}return f===65&&i===4&&(r=new Mi(s,Ag(n,xn,2*xn),1n)),r?r.ok():er("Point is not on curve")}static fromPrivateKey(e){return ff.mul(Tg(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){let{px:r,py:i,pz:n}=this,{px:s,py:f,pz:c}=aR(e),m=We(r*c),w=We(s*n),_=We(i*c),M=We(f*n);return m===w&&_===M}negate(){return new Mi(this.px,We(-this.py),this.pz)}double(){return this.add(this)}add(e){let{px:r,py:i,pz:n}=this,{px:s,py:f,pz:c}=aR(e),{a:m,b:w}=cR,_=0n,M=0n,x=0n,T=We(w*3n),A=We(r*s),I=We(i*f),D=We(n*c),k=We(r+i),C=We(s+f);k=We(k*C),C=We(A+I),k=We(k-C),C=We(r+n);let O=We(s+c);return C=We(C*O),O=We(A+D),C=We(C-O),O=We(i+n),_=We(f+c),O=We(O*_),_=We(I+D),O=We(O-_),x=We(m*C),_=We(T*D),x=We(_+x),_=We(I-x),x=We(I+x),M=We(_*x),I=We(A+A),I=We(I+A),D=We(m*D),C=We(T*C),I=We(I+D),D=We(A-D),D=We(m*D),C=We(C+D),A=We(I*C),M=We(M+A),A=We(O*C),_=We(k*_),_=We(_-A),A=We(k*I),x=We(O*x),x=We(x+A),new Mi(_,M,x)}mul(e,r=!0){if(!r&&e===0n)return Eg;if(Ap(e)||er("invalid scalar"),this.equals(ff))return CV(e).p;let i=Eg,n=ff;for(let s=this;e>0n;s=s.double(),e>>=1n)e&1n?i=i.add(s):r&&(n=n.add(s));return i}mulAddQUns(e,r,i){return this.mul(r,!1).add(e.mul(i,!1)).ok()}toAffine(){let{px:e,py:r,pz:i}=this;if(this.equals(Eg))return{x:0n,y:0n};if(i===1n)return{x:e,y:r};let n=Pp(i);return We(i*n)!==1n&&er("invalid inverse"),{x:We(e*n),y:We(r*n)}}assertValidity(){let{x:e,y:r}=this.aff();return(!q3(e)||!q3(r))&&er("Point invalid: x or y"),We(r*r)===sR(e)?this:er("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){let{x:r,y:i}=this.aff();return(e?(i&1n)===0n?"02":"03":"04")+Sp(r)+(e?"":Sp(i))}toRawBytes(e=!0){return Tp(this.toHex(e))}};Mi.BASE=new Mi(dR,hR,1n);Mi.ZERO=new Mi(0n,1n,0n);var{BASE:ff,ZERO:Eg}=Mi,yR=(t,e)=>t.toString(16).padStart(e,"0"),L3=t=>Array.from(t).map(e=>yR(e,2)).join(""),Tp=t=>{let e=t.length;(!pR(t)||e%2)&&er("hex invalid 1");let r=wo(e/2);for(let i=0;i<r.length;i++){let n=i*2,s=t.slice(n,n+2),f=Number.parseInt(s,16);(Number.isNaN(f)||f<0)&&er("hex invalid 2"),r[i]=f}return r},Rp=t=>BigInt("0x"+(L3(t)||"0")),Ag=(t,e,r)=>Rp(t.slice(e,r)),Pg=t=>Rg(t)&&t>=0n&&t<N3?Tp(yR(t,2*xn)):er("bigint expected"),Sp=t=>L3(Pg(t)),j3=(...t)=>{let e=wo(t.reduce((i,n)=>i+mR(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},Pp=(t,e=tu)=>{(t===0n||e<=0n)&&er("no inverse n="+t+" mod="+e);let r=We(t,e),i=e,n=0n,s=1n,f=1n,c=0n;for(;r!==0n;){let m=i/r,w=i%r,_=n-f*m,M=s-c*m;i=r,r=w,n=f,s=c,f=_,c=M}return i===1n?We(n,e):er("no inverse")},PV=t=>{let e=1n;for(let r=t,i=(tu+1n)/4n;i>0n;i>>=1n)i&1n&&(e=e*r%tu),r=r*r%tu;return We(e*e)===t?e:er("sqrt invalid")},Tg=t=>(Rg(t)||(t=Rp(uf(t,xn))),Ap(t)?t:er("private key out of range")),z3=t=>t>Ii>>1n;function kg(t,e=!0){return Mi.fromPrivateKey(t).toRawBytes(e)}var ru=class{constructor(e,r,i){this.r=e,this.s=r,this.recovery=i,this.assertValidity()}static fromCompact(e){return e=uf(e,64),new ru(Ag(e,0,xn),Ag(e,xn,2*xn))}assertValidity(){return Ap(this.r)&&Ap(this.s)?this:er()}addRecoveryBit(e){return new ru(this.r,this.s,e)}hasHighS(){return z3(this.s)}recoverPublicKey(e){let{r,s:i,recovery:n}=this;[0,1,2,3].includes(n)||er("recovery id invalid");let s=U3(uf(e,32)),f=n===2||n===3?r+Ii:r;f>=tu&&er("q.x invalid");let c=n&1?"03":"02",m=Mi.fromHex(c+Sp(f)),w=Pp(f,Ii),_=We(-s*w,Ii),M=We(i*w,Ii);return ff.mulAddQUns(m,_,M)}toCompactRawBytes(){return Tp(this.toCompactHex())}toCompactHex(){return Sp(this.r)+Sp(this.s)}},gR=t=>{let e=t.length*8-256,r=Rp(t);return e>0?r>>BigInt(e):r},U3=t=>We(gR(t),Ii),uR=t=>Pg(t),lR=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,Ep,vR={lowS:!0},kV={lowS:!0};function IV(t,e,r=vR){["der","recovered","canonical"].some(M=>M in r)&&er("sign() legacy options not supported");let{lowS:i}=r;i==null&&(i=!0);let n=U3(uf(t)),s=uR(n),f=Tg(e),c=[uR(f),s],m=r.extraEntropy;if(m){m===!0&&(m=da.randomBytes(xn));let M=uf(m);M.length!==xn&&er(),c.push(M)}let w=n,_=M=>{let x=gR(M);if(!Ap(x))return;let T=Pp(x,Ii),A=ff.mul(x).aff(),I=We(A.x,Ii);if(I===0n)return;let D=We(T*We(w+We(f*I,Ii),Ii),Ii);if(D===0n)return;let k=D,C=(A.x===I?0:2)|Number(A.y&1n);return i&&z3(D)&&(k=We(-D,Ii),C^=1),new ru(I,k,C)};return{seed:j3(...c),k2sig:_}}function BV(t){let e=wo(xn),r=wo(xn),i=0,n=()=>{e.fill(1),r.fill(0),i=0},s="drbg: tried 1000 values";if(t){let f=(...w)=>da.hmacSha256Async(r,e,...w),c=async(w=wo())=>{r=await f(wo([0]),w),e=await f(),w.length!==0&&(r=await f(wo([1]),w),e=await f())},m=async()=>(i++>=1e3&&er(s),e=await f(),e);return async(w,_)=>{n(),await c(w);let M;for(;!(M=_(await m()));)await c();return n(),M}}else{let f=(...w)=>{let _=Ep;return _||er("etc.hmacSha256Sync not set"),_(r,e,...w)},c=(w=wo())=>{r=f(wo([0]),w),e=f(),w.length!==0&&(r=f(wo([1]),w),e=f())},m=()=>(i++>=1e3&&er(s),e=f(),e);return(w,_)=>{n(),c(w);let M;for(;!(M=_(m()));)c();return n(),M}}}async function bR(t,e,r=vR){let{seed:i,k2sig:n}=IV(t,e,r);return BV(!0)(i,n)}function wR(t,e,r,i=kV){let{lowS:n}=i;n==null&&(n=!0),"strict"in i&&er("verify() legacy options not supported");let s,f,c,m=t&&typeof t=="object"&&"r"in t;!m&&uf(t).length!==2*xn&&er("signature must be 64 bytes");try{s=m?new ru(t.r,t.s).assertValidity():ru.fromCompact(t),f=U3(uf(e,xn)),c=r instanceof Mi?r.ok():Mi.fromHex(r)}catch{return!1}if(!s)return!1;let{r:w,s:_}=s;if(n&&z3(_))return!1;let M;try{let T=Pp(_,Ii),A=We(f*T,Ii),I=We(w*T,Ii);M=ff.mulAddQUns(c,A,I).aff()}catch{return!1}return M?We(M.x,Ii)===w:!1}function _R(t){t=uf(t);let e=xn+8;(t.length<e||t.length>1024)&&er("expected proper params");let r=We(Rp(t),Ii-1n)+1n;return Pg(r)}var da={hexToBytes:Tp,bytesToHex:L3,concatBytes:j3,bytesToNumberBE:Rp,numberToBytesBE:Pg,mod:We,invert:Pp,hmacSha256Async:async(t,...e)=>{let r=lR();if(!r)return er("etc.hmacSha256Async not set");let i=r.subtle,n=await i.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return wo(await i.sign("HMAC",n,j3(...e)))},hmacSha256Sync:Ep,hashToPrivateKey:_R,randomBytes:t=>{let e=lR();return e||er("crypto.getRandomValues must be defined"),e.getRandomValues(wo(t))}},F3={normPrivateKeyToScalar:Tg,isValidPrivateKey:t=>{try{return!!Tg(t)}catch{return!1}},randomPrivateKey:()=>_R(da.randomBytes(xn+8)),precompute(t=8,e=ff){return e.multiply(3n),e}};Object.defineProperties(da,{hmacSha256Sync:{configurable:!1,get(){return Ep},set(t){Ep||(Ep=t)}}});var Tl=8,DV=()=>{let t=[],e=256/Tl+1,r=ff,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let s=1;s<2**(Tl-1);s++)i=i.add(r),t.push(i);r=i.double()}return t},CV=t=>{let e=fR||(fR=DV()),r=(_,M)=>{let x=M.negate();return _?x:M},i=Eg,n=ff,s=1+256/Tl,f=2**(Tl-1),c=BigInt(2**Tl-1),m=2**Tl,w=BigInt(Tl);for(let _=0;_<s;_++){let M=_*f,x=Number(t&c);t>>=w,x>f&&(x-=m,t+=1n);let T=M,A=M+Math.abs(x)-1,I=_%2!==0,D=x<0;x===0?n=n.add(r(I,e[T])):i=i.add(r(D,e[A]))}return{p:i,f:n}};E();var Ye=class extends Error{constructor(r,i){super(`${r}: ${i}`);this.code=r;this.name="DwnError"}},_o=(K=>(K.AuthenticateJwsMissing="AuthenticateJwsMissing",K.AuthorizationMissing="AuthorizationMissing",K.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",K.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",K.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",K.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",K.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",K.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",K.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",K.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",K.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",K.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",K.PermissionsGrantGrantedByMismatch="PermissionsGrantGrantedByMismatch",K.PermissionsGrantUnauthorizedGrant="PermissionsGrantUnauthorizedGrant",K.PermissionsRevokeMissingPermissionsGrant="PermissionsRevokeMissingPermissionsGrant",K.PermissionsRevokeUnauthorizedRevoke="PermissionsRevokeUnauthorizedRevoke",K.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",K.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",K.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",K.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",K.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",K.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",K.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",K.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",K.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",K.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",K.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",K.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",K.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",K.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",K.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",K.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",K.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",K.RecordsWriteMissingAuthorizationSignatureInput="RecordsWriteMissingAuthorizationSignatureInput",K.RecordsWriteMissingData="RecordsWriterMissingData",K.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",K.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",K.RecordsWriteMissingSchema="RecordsWriteMissingSchema",K.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",K.Secp256k1KeyNotValid="Secp256k1KeyNotValid",K.UrlProtocolNotNormalized="UrlProtocolNotNormalized",K.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",K.UrlSchemaNotNormalized="UrlSchemaNotNormalized",K.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",K))(_o||{});var Tt=class{static validateKey(e){if(e.kty!=="EC"||e.crv!=="secp256k1")throw new Ye("Secp256k1KeyNotValid","Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static async publicKeyToJwk(e){let r;if(e.byteLength===33){let f=da.bytesToHex(e);r=Mi.fromHex(f).toRawBytes(!1)}else r=e;let i=at.bytesToBase64Url(r.subarray(1,33)),n=at.bytesToBase64Url(r.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:i,y:n}}static async privateKeyToJwk(e){let r=await Tt.getPublicKey(e),i=await Tt.publicKeyToJwk(r);return i.d=at.bytesToBase64Url(e),i}static publicJwkToBytes(e){let r=at.base64UrlToBytes(e.x),i=at.base64UrlToBytes(e.y);return new Uint8Array([4,...r,...i])}static privateJwkToBytes(e){return at.base64UrlToBytes(e.d)}static async sign(e,r){Tt.validateKey(r);let i=await Do.encode(e),n=da.bytesToHex(i),s=Tt.privateJwkToBytes(r),f=da.bytesToHex(s);return(await bR(n,f)).toCompactRawBytes()}static async verify(e,r,i){Tt.validateKey(i);let n=Tt.publicJwkToBytes(i),s=await Do.encode(e);return wR(r,s,n)}static async generateKeyPair(){let e=F3.randomPrivateKey(),r=kg(e,!1),i=at.bytesToBase64Url(e),n=await Tt.publicKeyToJwk(r),s={...n,d:i};return{publicJwk:n,privateJwk:s}}static async generateKeyPairRaw(){let e=F3.randomPrivateKey();return{publicKey:kg(e,!1),privateKey:e}}static async getPublicKey(e){return kg(e,!1)}static async getPublicJwk(e){let{d:r,...i}=e;return i}static async derivePublicKey(e,r){Tt.validateKeyDerivationPath(r);let i=await Tt.derivePrivateKey(e,r);return await Tt.getPublicKey(i)}static async derivePrivateKey(e,r){Tt.validateKeyDerivationPath(r);let i=e;for(let n of r){let s=at.stringToBytes(n);i=await Tt.deriveChildPrivateKey(i,s)}return i}static async deriveChildPrivateKey(e,r){let i=await Do.encode(e),n=await Do.encode(r),s=da.concatBytes(i,n);return da.hashToPrivateKey(s)}static validateKeyDerivationPath(e){if(e.includes(""))throw new Ye("HdKeyDerivationPathInvalid",`Invalid key derivation path: ${e}`)}};var Gh={Ed25519:xp,secp256k1:{sign:Tt.sign,verify:Tt.verify,generateKeyPair:Tt.generateKeyPair,publicKeyToJwk:Tt.publicKeyToJwk}};var lf=class{constructor(e){this.jws=e}static async create(e,r=[]){let i={payload:at.bytesToBase64Url(e),signatures:[]},n=new lf(i);for(let s of r)await n.addSignature(s);return n}async addSignature(e){let{privateJwk:r,protectedHeader:i}=e,n=Gh[r.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(Gh)}`);let s=JSON.stringify(i),f=at.stringToBase64Url(s),c=`${f}.${this.jws.payload}`,m=at.stringToBytes(c),w=await n.sign(m,r),_=at.bytesToBase64Url(w);this.jws.signatures.push({protected:f,signature:_})}getJws(){return this.jws}};E();var GR=Lr(HR(),1);var Fr=class{static getKid(e){let{kid:r}=at.base64UrlToObject(e.protected);return r}static getSignerDid(e){let r=Fr.getKid(e);return Fr.extractDid(r)}static async verifySignature(e,r,i){let n=Gh[i.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(Gh)}`);let s=at.stringToBytes(`${r.protected}.${e}`),f=at.base64UrlToBytes(r.signature);return await n.verify(s,f,i)}static decodePlainObjectPayload(e){let r;try{r=at.base64UrlToObject(e.payload)}catch{throw new Error("payload is not a JSON object")}if(!(0,GR.default)(r))throw new Error("signed payload must be a plain object");return r}static extractDid(e){let[r]=e.split("#");return r}static createSignatureInputs(e){return e.map(i=>Fr.createSignatureInput(i))}static createSignatureInput(e){return{privateJwk:e.keyPair.privateJwk,protectedHeader:{alg:e.keyPair.privateJwk.alg,kid:e.keyId}}}};E();function Rl(t,e){return t>e?1:t<e?-1:0}E();var hY=Lr(JR(),1);function pn(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&pn(t[e])})}E();var V3={};Ni(V3,{BaseAuthorizationPayload:()=>qY,Definitions:()=>bY,EventsGet:()=>vY,GeneralJwk:()=>wY,GeneralJws:()=>_Y,HooksWrite:()=>MY,JwkVerificationMethod:()=>xY,MessagesGet:()=>SY,PermissionsDefinitions:()=>EY,PermissionsGrant:()=>AY,PermissionsRequest:()=>TY,PermissionsRevoke:()=>RY,ProtocolDefinition:()=>PY,ProtocolRuleSet:()=>kY,ProtocolsConfigure:()=>IY,ProtocolsQuery:()=>BY,PublicJwk:()=>CY,RecordsDelete:()=>cY,RecordsQuery:()=>pY,RecordsRead:()=>DY,RecordsWrite:()=>mY,RecordsWriteAuthorizationPayload:()=>jY,RecordsWriteUnidentified:()=>gY,SnapshotsCreate:()=>OY});E();var cY=Yn,XR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{type:"string"},recordId:{type:"string"}}}}};var kl=new RegExp("^[A-Za-z0-9_-]+$","u");function Ve(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let _=f;for(let M in t)if(!(M==="payload"||M==="signatures")){return Ve.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.payload!==void 0){let M=t.payload,x=f;if(f===f)if(typeof M=="string"){if(!kl.test(M))return Ve.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ve.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=x===f}else var c=!0;if(c)if(t.signatures!==void 0){let M=t.signatures,x=f;if(f===x)if(Array.isArray(M)){if(M.length<1)return Ve.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var m=!0;let A=M.length;for(let I=0;I<A;I++){let D=M[I],k=f;if(f===k)if(D&&typeof D=="object"&&!Array.isArray(D)){if(D.protected!==void 0){let O=D.protected,U=f;if(f===f)if(typeof O=="string"){if(!kl.test(O))return Ve.errors=[{instancePath:e+"/signatures/"+I+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ve.errors=[{instancePath:e+"/signatures/"+I+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=U===f}else var w=!0;if(w)if(D.signature!==void 0){let O=D.signature,U=f;if(f===f)if(typeof O=="string"){if(!kl.test(O))return Ve.errors=[{instancePath:e+"/signatures/"+I+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ve.errors=[{instancePath:e+"/signatures/"+I+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=U===f}else var w=!0}else return Ve.errors=[{instancePath:e+"/signatures/"+I,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=k===f;if(!m)break}}}else return Ve.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=x===f}else var c=!0}}else return Ve.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ve.errors=s,f===0}function Yn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.authorization===void 0&&(w="authorization")||t.descriptor===void 0&&(w="descriptor"))return Yn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let _=f;for(let M in t)if(!(M==="authorization"||M==="descriptor")){return Yn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.authorization!==void 0){let M=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=M===f}else var c=!0;if(c)if(t.descriptor!==void 0){let M=t.descriptor,x=f;if(f===x)if(M&&typeof M=="object"&&!Array.isArray(M)){let A;if(M.interface===void 0&&(A="interface")||M.method===void 0&&(A="method")||M.messageTimestamp===void 0&&(A="messageTimestamp")||M.recordId===void 0&&(A="recordId"))return Yn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let I=f;for(let D in M)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="recordId")){return Yn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(I===f){if(M.interface!==void 0){let D=M.interface,k=f;if(typeof D!="string")return Yn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Records")return Yn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:XR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.method!==void 0){let D=M.method,k=f;if(typeof D!="string")return Yn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Delete")return Yn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:XR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.messageTimestamp!==void 0){let D=f;if(typeof M.messageTimestamp!="string")return Yn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0;if(m)if(M.recordId!==void 0){let D=f;if(typeof M.recordId!="string")return Yn.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0}}}}}else return Yn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=x===f}else var c=!0}}}else return Yn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Yn.errors=s,f===0}var pY=Rt,Ig={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}};var bs=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),ws=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Cg=Object.prototype.hasOwnProperty;function Rt(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.descriptor===void 0&&(M="descriptor"))return Rt.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"}],!1;{let x=f;for(let T in t)if(!(T==="authorization"||T==="descriptor")){return Rt.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(x===f){if(t.authorization!==void 0){let T=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=T===f}else var c=!0;if(c)if(t.descriptor!==void 0){let T=t.descriptor,A=f;if(f===A)if(T&&typeof T=="object"&&!Array.isArray(T)){let D;if(T.interface===void 0&&(D="interface")||T.method===void 0&&(D="method")||T.messageTimestamp===void 0&&(D="messageTimestamp")||T.filter===void 0&&(D="filter"))return Rt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{let k=f;for(let C in T)if(!(C==="interface"||C==="method"||C==="messageTimestamp"||C==="filter"||C==="dateSort")){return Rt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(k===f){if(T.interface!==void 0){let C=T.interface,O=f;if(typeof C!="string")return Rt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(C!=="Records")return Rt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ig.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=O===f}else var m=!0;if(m){if(T.method!==void 0){let C=T.method,O=f;if(typeof C!="string")return Rt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(C!=="Query")return Rt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ig.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=O===f}else var m=!0;if(m){if(T.messageTimestamp!==void 0){let C=T.messageTimestamp,O=f;if(f===f)if(typeof C=="string"){if(!bs.test(C))return Rt.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Rt.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=O===f}else var m=!0;if(m){if(T.filter!==void 0){let C=T.filter,O=f;if(f===O)if(C&&typeof C=="object"&&!Array.isArray(C)){if(Object.keys(C).length<1)return Rt.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let $=f;for(let W in C)if(!Cg.call(Ig.properties.descriptor.properties.filter.properties,W)){return Rt.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"}],!1;break}if($===f){if(C.protocol!==void 0){let W=f;if(typeof C.protocol!="string")return Rt.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w){if(C.protocolPath!==void 0){let W=f;if(typeof C.protocolPath!="string")return Rt.errors=[{instancePath:e+"/descriptor/filter/protocolPath",schemaPath:"#/properties/descriptor/properties/filter/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w){if(C.attester!==void 0){let W=C.attester,F=f;if(f===f)if(typeof W=="string"){if(!ws.test(W))return Rt.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Rt.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=F===f}else var w=!0;if(w){if(C.recipient!==void 0){let W=C.recipient,F=f;if(f===f)if(typeof W=="string"){if(!ws.test(W))return Rt.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Rt.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=F===f}else var w=!0;if(w){if(C.contextId!==void 0){let W=f;if(typeof C.contextId!="string")return Rt.errors=[{instancePath:e+"/descriptor/filter/contextId",schemaPath:"#/properties/descriptor/properties/filter/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w){if(C.schema!==void 0){let W=f;if(typeof C.schema!="string")return Rt.errors=[{instancePath:e+"/descriptor/filter/schema",schemaPath:"#/properties/descriptor/properties/filter/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w){if(C.recordId!==void 0){let W=f;if(typeof C.recordId!="string")return Rt.errors=[{instancePath:e+"/descriptor/filter/recordId",schemaPath:"#/properties/descriptor/properties/filter/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w){if(C.parentId!==void 0){let W=f;if(typeof C.parentId!="string")return Rt.errors=[{instancePath:e+"/descriptor/filter/parentId",schemaPath:"#/properties/descriptor/properties/filter/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w){if(C.dataFormat!==void 0){let W=f;if(typeof C.dataFormat!="string")return Rt.errors=[{instancePath:e+"/descriptor/filter/dataFormat",schemaPath:"#/properties/descriptor/properties/filter/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w)if(C.dateCreated!==void 0){let W=C.dateCreated,F=f;if(f===F)if(W&&typeof W=="object"&&!Array.isArray(W)){if(Object.keys(W).length<1)return Rt.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let V=f;for(let b in W)if(!(b==="from"||b==="to")){return Rt.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;break}if(V===f){if(W.from!==void 0){let b=W.from,o=f;if(f===f)if(typeof b=="string"){if(!bs.test(b))return Rt.errors=[{instancePath:e+"/descriptor/filter/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Rt.errors=[{instancePath:e+"/descriptor/filter/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _=o===f}else var _=!0;if(_)if(W.to!==void 0){let b=W.to,o=f;if(f===f)if(typeof b=="string"){if(!bs.test(b))return Rt.errors=[{instancePath:e+"/descriptor/filter/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Rt.errors=[{instancePath:e+"/descriptor/filter/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _=o===f}else var _=!0}}}else return Rt.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var w=F===f}else var w=!0}}}}}}}}}}}else return Rt.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=O===f}else var m=!0;if(m)if(T.dateSort!==void 0){let C=T.dateSort,O=f;if(typeof C!="string")return Rt.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(C==="createdAscending"||C==="createdDescending"||C==="publishedAscending"||C==="publishedDescending"))return Rt.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:Ig.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var m=O===f}else var m=!0}}}}}}else return Rt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=A===f}else var c=!0}}}else return Rt.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Rt.errors=s,f===0}var mY=Dg;var iu={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath","schema"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]};var uP={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function rr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0,c=f,m=f,w=!1,_=null,M=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.crv===void 0&&(b="crv")||t.x===void 0&&(b="x")){let o={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};s===null?s=[o]:s.push(o),f++}else{if(t.kty!==void 0){let o=f;if(t.kty!=="EC"){let u={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};s===null?s=[u]:s.push(u),f++}var x=o===f}else var x=!0;if(x){if(t.crv!==void 0){let o=f;if(typeof t.crv!="string"){let h={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),f++}var x=o===f}else var x=!0;if(x){if(t.x!==void 0){let o=f;if(typeof t.x!="string"){let h={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),f++}var x=o===f}else var x=!0;if(x){if(t.y!==void 0){let o=f;if(typeof t.y!="string"){let h={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),f++}var x=o===f}else var x=!0;if(x)if(t.d!==void 0){let o=f;if(typeof t.d!="string"){let h={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),f++}var x=o===f}else var x=!0}}}}}var I=M===f;I&&(w=!0,_=0);let T=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.crv===void 0&&(b="crv")||t.x===void 0&&(b="x")){let o={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};s===null?s=[o]:s.push(o),f++}else{if(t.kty!==void 0){let o=f;if(t.kty!=="OKP"){let u={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};s===null?s=[u]:s.push(u),f++}var A=o===f}else var A=!0;if(A){if(t.crv!==void 0){let o=f;if(typeof t.crv!="string"){let h={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),f++}var A=o===f}else var A=!0;if(A){if(t.x!==void 0){let o=f;if(typeof t.x!="string"){let h={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),f++}var A=o===f}else var A=!0;if(A)if(t.d!==void 0){let o=f;if(typeof t.d!="string"){let h={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),f++}var A=o===f}else var A=!0}}}}var I=T===f;if(I&&w)w=!1,_=[_,1];else{I&&(w=!0,_=1);let b=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.n===void 0&&(u="n")||t.e===void 0&&(u="e")){let h={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};s===null?s=[h]:s.push(h),f++}else{if(t.kty!==void 0){let h=f;if(t.kty!=="RSA"){let l={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};s===null?s=[l]:s.push(l),f++}var D=h===f}else var D=!0;if(D){if(t.n!==void 0){let h=f;if(typeof t.n!="string"){let d={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D){if(t.e!==void 0){let h=f;if(typeof t.e!="string"){let d={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D){if(t.d!==void 0){let h=f;if(typeof t.d!="string"){let d={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D){if(t.p!==void 0){let h=f;if(typeof t.p!="string"){let d={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D){if(t.q!==void 0){let h=f;if(typeof t.q!="string"){let d={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D){if(t.dp!==void 0){let h=f;if(typeof t.dp!="string"){let d={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D){if(t.dq!==void 0){let h=f;if(typeof t.dq!="string"){let d={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D){if(t.qi!==void 0){let h=f;if(typeof t.qi!="string"){let d={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}var D=h===f}else var D=!0;if(D)if(t.oth!==void 0){let h=t.oth,l=f;if(!(h&&typeof h=="object"&&!Array.isArray(h))){let y={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[y]:s.push(y),f++}var D=l===f}else var D=!0}}}}}}}}}}var I=b===f;if(I&&w)w=!1,_=[_,2];else{I&&(w=!0,_=2);let u=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.k===void 0&&(l="k")){let d={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"};s===null?s=[d]:s.push(d),f++}else{if(t.kty!==void 0){let d=f;if(t.kty!=="oct"){let y={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};s===null?s=[y]:s.push(y),f++}var k=d===f}else var k=!0;if(k)if(t.k!==void 0){let d=f;if(typeof t.k!="string"){let v={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[v]:s.push(v),f++}var k=d===f}else var k=!0}}var I=u===f;I&&w?(w=!1,_=[_,3]):I&&(w=!0,_=3)}}if(w)f=m,s!==null&&(m?s.length=m:s=null);else{let b={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:_},message:"must match exactly one schema in oneOf"};return s===null?s=[b]:s.push(b),f++,rr.errors=s,!1}if(f===c)if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.kty===void 0&&(b="kty"))return rr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;if(t.alg!==void 0){let o=f;if(typeof t.alg!="string")return rr.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C){if(t.kid!==void 0){let o=f;if(typeof t.kid!="string")return rr.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C){if(t.kty!==void 0){let o=t.kty,u=f;if(!(o==="EC"||o==="RSA"||o==="oct"||o==="OKP"))return rr.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:uP.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var C=u===f}else var C=!0;if(C){if(t.crv!==void 0){let o=f;if(typeof t.crv!="string")return rr.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C){if(t.use!==void 0){let o=f;if(typeof t.use!="string")return rr.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C){if(t.key_ops!==void 0){let o=f;if(typeof t.key_ops!="string")return rr.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C){if(t.x5u!==void 0){let o=f;if(typeof t.x5u!="string")return rr.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C){if(t.x5c!==void 0){let o=f;if(typeof t.x5c!="string")return rr.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C){if(t.x5t!==void 0){let o=f;if(typeof t.x5t!="string")return rr.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0;if(C)if(t["x5t#S256"]!==void 0){let o=f;if(typeof t["x5t#S256"]!="string")return rr.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=o===f}else var C=!0}}}}}}}}}else return rr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var O=c===f;if(O){let b=f,o=f,u=f,h=!1,l=f,d=f,y=!1,v=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.d===void 0&&(p="d")){let a={};s===null?s=[a]:s.push(a),f++}}var U=v===f;if(y=y||U,y)f=d,s!==null&&(d?s.length=d:s=null);else{let p={};s===null?s=[p]:s.push(p),f++}if(f===l)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){let p={};s===null?s=[p]:s.push(p),f++}}else{let p={};s===null?s=[p]:s.push(p),f++}var $=l===f;if(h=h||$,!h){let p=f,a=f,g=!1,P=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.d===void 0&&(B="d")){let z={};s===null?s=[z]:s.push(z),f++}}var W=P===f;if(g=g||W,g)f=a,s!==null&&(a?s.length=a:s=null);else{let B={};s===null?s=[B]:s.push(B),f++}if(f===p)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){let B={};s===null?s=[B]:s.push(B),f++}}else{let B={};s===null?s=[B]:s.push(B),f++}var $=p===f;if(h=h||$,!h){let B=f,z=f,H=!1,G=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.d===void 0&&(K="d")){let Y={};s===null?s=[Y]:s.push(Y),f++}}var F=G===f;if(H=H||F,!H){let K=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let ze;if(t.p===void 0&&(ze="p")){let X={};s===null?s=[X]:s.push(X),f++}}var F=K===f;if(H=H||F,!H){let ze=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let Q;if(t.q===void 0&&(Q="q")){let et={};s===null?s=[et]:s.push(et),f++}}var F=ze===f;if(H=H||F,!H){let Q=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let te;if(t.dp===void 0&&(te="dp")){let re={};s===null?s=[re]:s.push(re),f++}}var F=Q===f;if(H=H||F,!H){let te=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let $t;if(t.dq===void 0&&($t="dq")){let ie={};s===null?s=[ie]:s.push(ie),f++}}var F=te===f;if(H=H||F,!H){let $t=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let ne;if(t.qi===void 0&&(ne="qi")){let Dr={};s===null?s=[Dr]:s.push(Dr),f++}}var F=$t===f;if(H=H||F,!H){let ne=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let se;if(t.oth===void 0&&(se="oth")){let oe={};s===null?s=[oe]:s.push(oe),f++}}var F=ne===f;H=H||F}}}}}}if(H)f=z,s!==null&&(z?s.length=z:s=null);else{let K={};s===null?s=[K]:s.push(K),f++}if(f===B)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){let K=f;if(t.kty!=="RSA"){let Y={};s===null?s=[Y]:s.push(Y),f++}var N=K===f}else var N=!0;if(N)if(t.oth!==void 0){let K=t.oth,Y=f;if(!(K&&typeof K=="object"&&!Array.isArray(K))){let X={};s===null?s=[X]:s.push(X),f++}var N=Y===f}else var N=!0}else{let K={};s===null?s=[K]:s.push(K),f++}var $=B===f;h=h||$}}if(h)f=u,s!==null&&(u?s.length=u:s=null);else{let p={};s===null?s=[p]:s.push(p),f++}var V=o===f;if(V)return rr.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=b,s!==null&&(b?s.length=b:s=null)}return rr.errors=s,f===0}var yY=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u");function Ke(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0,c=f,m=!1,w=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let V;if(t.contextId===void 0&&(V="contextId")){let b={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:V},message:"must have required property '"+V+"'"};s===null?s=[b]:s.push(b),f++}else if(t.descriptor!==void 0){let b=t.descriptor;if(f===f)if(b&&typeof b=="object"&&!Array.isArray(b)){let u;if(b.protocol===void 0&&(u="protocol")||b.protocolPath===void 0&&(u="protocolPath")||b.schema===void 0&&(u="schema")){let h={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};s===null?s=[h]:s.push(h),f++}}else{let u={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[u]:s.push(u),f++}}}var _=w===f;if(m=m||_,!m){let V=f,b=f,o=f,u=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.contextId===void 0&&(l="contextId")){let d={};s===null?s=[d]:s.push(d),f++}}var M=u===f;if(M){let l={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[l]:s.push(l),f++}else f=o,s!==null&&(o?s.length=o:s=null);var x=b===f;if(x){let l=f;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let y=t.descriptor;if(!(y&&typeof y=="object"&&!Array.isArray(y))){let a={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[a]:s.push(a),f++}let v=f,p=f;if(y&&typeof y=="object"&&!Array.isArray(y)){let a;if(y.protocol===void 0&&(a="protocol")){let g={};s===null?s=[g]:s.push(g),f++}}var T=p===f;if(T){let a={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[a]:s.push(a),f++}else f=v,s!==null&&(v?s.length=v:s=null)}var x=l===f;if(x){let y=f;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let p=t.descriptor;if(!(p&&typeof p=="object"&&!Array.isArray(p))){let P={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[P]:s.push(P),f++}let a=f,g=f;if(p&&typeof p=="object"&&!Array.isArray(p)){let P;if(p.protocolPath===void 0&&(P="protocolPath")){let S={};s===null?s=[S]:s.push(S),f++}}var A=g===f;if(A){let P={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[P]:s.push(P),f++}else f=a,s!==null&&(a?s.length=a:s=null)}var x=y===f}}var _=V===f;m=m||_}if(m)f=c,s!==null&&(c?s.length=c:s=null);else{let V={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[V]:s.push(V),f++,Ke.errors=s,!1}if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let V;if(t.descriptor===void 0&&(V="descriptor"))return Ke.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:V},message:"must have required property '"+V+"'"}],!1;{let b=f;for(let o in t)if(!(o==="recordId"||o==="contextId"||o==="attestation"||o==="authorization"||o==="encryption"||o==="descriptor")){return Ke.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:o},message:"must NOT have additional properties"}],!1;break}if(b===f){if(t.recordId!==void 0){let o=f;if(typeof t.recordId!="string")return Ke.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=o===f}else var I=!0;if(I){if(t.contextId!==void 0){let o=f;if(typeof t.contextId!="string")return Ke.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=o===f}else var I=!0;if(I){if(t.attestation!==void 0){let o=f;Ve(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var I=o===f}else var I=!0;if(I){if(t.authorization!==void 0){let o=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var I=o===f}else var I=!0;if(I){if(t.encryption!==void 0){let o=t.encryption,u=f;if(f===u)if(o&&typeof o=="object"&&!Array.isArray(o)){let l;if(o.algorithm===void 0&&(l="algorithm")||o.initializationVector===void 0&&(l="initializationVector")||o.keyEncryption===void 0&&(l="keyEncryption"))return Ke.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let d=f;for(let y in o)if(!(y==="algorithm"||y==="initializationVector"||y==="keyEncryption")){return Ke.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(d===f){if(o.algorithm!==void 0){let y=o.algorithm,v=f;if(typeof y!="string")return Ke.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="A256CTR")return Ke.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:iu.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var D=v===f}else var D=!0;if(D){if(o.initializationVector!==void 0){let y=o.initializationVector,v=f;if(f===f)if(typeof y=="string"){if(!kl.test(y))return Ke.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ke.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=v===f}else var D=!0;if(D)if(o.keyEncryption!==void 0){let y=o.keyEncryption,v=f;if(f===v)if(Array.isArray(y)){if(y.length<1)return Ke.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var k=!0;let a=y.length;for(let g=0;g<a;g++){let P=y[g],S=f;if(f===S)if(P&&typeof P=="object"&&!Array.isArray(P)){let z;if(P.rootKeyId===void 0&&(z="rootKeyId")||P.derivationScheme===void 0&&(z="derivationScheme")||P.algorithm===void 0&&(z="algorithm")||P.encryptedKey===void 0&&(z="encryptedKey")||P.initializationVector===void 0&&(z="initializationVector")||P.ephemeralPublicKey===void 0&&(z="ephemeralPublicKey")||P.messageAuthenticationCode===void 0&&(z="messageAuthenticationCode"))return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"}],!1;{let H=f;for(let G in P)if(!(G==="rootKeyId"||G==="derivationScheme"||G==="derivedPublicKey"||G==="algorithm"||G==="encryptedKey"||G==="initializationVector"||G==="ephemeralPublicKey"||G==="messageAuthenticationCode")){return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(H===f){if(P.rootKeyId!==void 0){let G=f;if(typeof P.rootKeyId!="string")return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=G===f}else var C=!0;if(C){if(P.derivationScheme!==void 0){let G=P.derivationScheme,J=f;if(typeof G!="string")return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(G==="dataFormats"||G==="protocolContext"||G==="protocolPath"||G==="schemas"))return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:iu.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var C=J===f}else var C=!0;if(C){if(P.derivedPublicKey!==void 0){let G=f;rr(P.derivedPublicKey,{instancePath:e+"/encryption/keyEncryption/"+g+"/derivedPublicKey",parentData:P,parentDataProperty:"derivedPublicKey",rootData:n})||(s=s===null?rr.errors:s.concat(rr.errors),f=s.length);var C=G===f}else var C=!0;if(C){if(P.algorithm!==void 0){let G=P.algorithm,J=f;if(typeof G!="string")return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(G!=="ECIES-ES256K")return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:iu.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var C=J===f}else var C=!0;if(C){if(P.encryptedKey!==void 0){let G=P.encryptedKey,J=f;if(f===f)if(typeof G=="string"){if(!kl.test(G))return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===f}else var C=!0;if(C){if(P.initializationVector!==void 0){let G=P.initializationVector,J=f;if(f===f)if(typeof G=="string"){if(!kl.test(G))return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===f}else var C=!0;if(C){if(P.ephemeralPublicKey!==void 0){let G=f;rr(P.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+g+"/ephemeralPublicKey",parentData:P,parentDataProperty:"ephemeralPublicKey",rootData:n})||(s=s===null?rr.errors:s.concat(rr.errors),f=s.length);var C=G===f}else var C=!0;if(C)if(P.messageAuthenticationCode!==void 0){let G=P.messageAuthenticationCode,J=f;if(f===f)if(typeof G=="string"){if(!kl.test(G))return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===f}else var C=!0}}}}}}}}}else return Ke.errors=[{instancePath:e+"/encryption/keyEncryption/"+g,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k=S===f;if(!k)break}}}else return Ke.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var D=v===f}else var D=!0}}}}else return Ke.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I=u===f}else var I=!0;if(I)if(t.descriptor!==void 0){let o=t.descriptor,u=f,h=f,l=!1,d=f;if(o&&typeof o=="object"&&!Array.isArray(o)){let v;if(o.published===void 0&&(v="published")||o.datePublished===void 0&&(v="datePublished")){let p={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};s===null?s=[p]:s.push(p),f++}else if(o.published!==void 0){let p=o.published;if(typeof p!="boolean"){let a={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[a]:s.push(a),f++}if(p!==!0){let a={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:iu.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};s===null?s=[a]:s.push(a),f++}}}var O=d===f;if(l=l||O,!l){let v=f,p=f,a=f;if(o&&typeof o=="object"&&!Array.isArray(o)){let P;if(o.datePublished===void 0&&(P="datePublished")){let S={};s===null?s=[S]:s.push(S),f++}}var U=a===f;if(U){let P={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[P]:s.push(P),f++}else f=p,s!==null&&(p?s.length=p:s=null);if(f===v&&o&&typeof o=="object"&&!Array.isArray(o)&&o.published!==void 0){let P=o.published;if(typeof P!="boolean"){let S={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[S]:s.push(S),f++}if(P!==!1){let S={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:iu.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};s===null?s=[S]:s.push(S),f++}}var O=v===f;if(l=l||O,!l){let P=f,S=f,B=f,z=f;if(o&&typeof o=="object"&&!Array.isArray(o)){let G;if(o.published===void 0&&(G="published")){let J={};s===null?s=[J]:s.push(J),f++}}var $=z===f;if($){let G={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[G]:s.push(G),f++}else f=B,s!==null&&(B?s.length=B:s=null);var W=S===f;if(W){let G=f,J=f,K=f;if(o&&typeof o=="object"&&!Array.isArray(o)){let ze;if(o.datePublished===void 0&&(ze="datePublished")){let X={};s===null?s=[X]:s.push(X),f++}}var F=K===f;if(F){let ze={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[ze]:s.push(ze),f++}else f=J,s!==null&&(J?s.length=J:s=null);var W=G===f}var O=P===f;l=l||O}}if(l)f=h,s!==null&&(h?s.length=h:s=null);else{let v={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[v]:s.push(v),f++,Ke.errors=s,!1}if(f===u)if(o&&typeof o=="object"&&!Array.isArray(o)){let v;if(o.interface===void 0&&(v="interface")||o.method===void 0&&(v="method")||o.dataCid===void 0&&(v="dataCid")||o.dataSize===void 0&&(v="dataSize")||o.dateCreated===void 0&&(v="dateCreated")||o.messageTimestamp===void 0&&(v="messageTimestamp")||o.dataFormat===void 0&&(v="dataFormat"))return Ke.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let p=f;for(let a in o)if(!Cg.call(iu.properties.descriptor.properties,a)){return Ke.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;break}if(p===f){let a;if(o.parentId!==void 0&&o.protocol===void 0&&(a="protocol"))return Ke.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:a,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(o.interface!==void 0){let g=o.interface,P=f;if(typeof g!="string")return Ke.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(g!=="Records")return Ke.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:iu.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=P===f}else var N=!0;if(N){if(o.method!==void 0){let g=o.method,P=f;if(typeof g!="string")return Ke.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(g!=="Write")return Ke.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:iu.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var N=P===f}else var N=!0;if(N){if(o.recipient!==void 0){let g=o.recipient,P=f;if(f===f)if(typeof g=="string"){if(!ws.test(g))return Ke.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ke.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=P===f}else var N=!0;if(N){if(o.protocol!==void 0){let g=f;if(typeof o.protocol!="string")return Ke.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=g===f}else var N=!0;if(N){if(o.protocolPath!==void 0){let g=o.protocolPath,P=f;if(f===P)if(typeof g=="string"){if(!yY.test(g))return Ke.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}else return Ke.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=P===f}else var N=!0;if(N){if(o.schema!==void 0){let g=f;if(typeof o.schema!="string")return Ke.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=g===f}else var N=!0;if(N){if(o.parentId!==void 0){let g=f;if(typeof o.parentId!="string")return Ke.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=g===f}else var N=!0;if(N){if(o.dataCid!==void 0){let g=f;if(typeof o.dataCid!="string")return Ke.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=g===f}else var N=!0;if(N){if(o.dataSize!==void 0){let g=o.dataSize,P=f;if(!(typeof g=="number"&&isFinite(g)))return Ke.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var N=P===f}else var N=!0;if(N){if(o.dateCreated!==void 0){let g=o.dateCreated,P=f;if(f===f)if(typeof g=="string"){if(!bs.test(g))return Ke.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ke.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=P===f}else var N=!0;if(N){if(o.messageTimestamp!==void 0){let g=o.messageTimestamp,P=f;if(f===f)if(typeof g=="string"){if(!bs.test(g))return Ke.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ke.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=P===f}else var N=!0;if(N){if(o.published!==void 0){let g=f;if(typeof o.published!="boolean")return Ke.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var N=g===f}else var N=!0;if(N){if(o.datePublished!==void 0){let g=o.datePublished,P=f;if(f===f)if(typeof g=="string"){if(!bs.test(g))return Ke.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ke.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=P===f}else var N=!0;if(N)if(o.dataFormat!==void 0){let g=f;if(typeof o.dataFormat!="string")return Ke.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=g===f}else var N=!0}}}}}}}}}}}}}}}else return Ke.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I=u===f}else var I=!0}}}}}}}else return Ke.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ke.errors=s,f===0}function Dg(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(!Ke(t,{instancePath:e,parentData:r,parentDataProperty:i,rootData:n}))s=s===null?Ke.errors:s.concat(Ke.errors),f=s.length;else if(f===f)if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.recordId===void 0&&(m="recordId")||t.authorization===void 0&&(m="authorization"))return Dg.errors=[{instancePath:e,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1}else return Dg.errors=[{instancePath:e,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Dg.errors=s,f===0}var gY=Ke,vY=Jn,QR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},watermark:{type:"string"}}}}};function Jn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.authorization===void 0&&(w="authorization")||t.descriptor===void 0&&(w="descriptor"))return Jn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let _=f;for(let M in t)if(!(M==="authorization"||M==="descriptor")){return Jn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.authorization!==void 0){let M=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=M===f}else var c=!0;if(c)if(t.descriptor!==void 0){let M=t.descriptor,x=f;if(f===x)if(M&&typeof M=="object"&&!Array.isArray(M)){let A;if(M.interface===void 0&&(A="interface")||M.method===void 0&&(A="method")||M.messageTimestamp===void 0&&(A="messageTimestamp"))return Jn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let I=f;for(let D in M)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="watermark")){return Jn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(I===f){if(M.interface!==void 0){let D=M.interface,k=f;if(typeof D!="string")return Jn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Events")return Jn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:QR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.method!==void 0){let D=M.method,k=f;if(typeof D!="string")return Jn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Get")return Jn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:QR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.messageTimestamp!==void 0){let D=f;if(typeof M.messageTimestamp!="string")return Jn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0;if(m)if(M.watermark!==void 0){let D=f;if(typeof M.watermark!="string")return Jn.errors=[{instancePath:e+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0}}}}}else return Jn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=x===f}else var c=!0}}}else return Jn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Jn.errors=s,f===0}var bY=K3;function K3(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;return t&&typeof t=="object"&&!Array.isArray(t)?(K3.errors=s,f===0):(K3.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var wY=Ln;function Ln(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0,c=f,m=!1,w=null,_=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.crv===void 0&&(C="crv")||t.x===void 0&&(C="x")){let O={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};s===null?s=[O]:s.push(O),f++}else{if(t.kty!==void 0){let O=f;if(t.kty!=="EC"){let U={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};s===null?s=[U]:s.push(U),f++}var M=O===f}else var M=!0;if(M){if(t.crv!==void 0){let O=f;if(typeof t.crv!="string"){let $={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[$]:s.push($),f++}var M=O===f}else var M=!0;if(M){if(t.x!==void 0){let O=f;if(typeof t.x!="string"){let $={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[$]:s.push($),f++}var M=O===f}else var M=!0;if(M){if(t.y!==void 0){let O=f;if(typeof t.y!="string"){let $={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[$]:s.push($),f++}var M=O===f}else var M=!0;if(M)if(t.d!==void 0){let O=f;if(typeof t.d!="string"){let $={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[$]:s.push($),f++}var M=O===f}else var M=!0}}}}}var A=_===f;A&&(m=!0,w=0);let x=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.crv===void 0&&(C="crv")||t.x===void 0&&(C="x")){let O={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};s===null?s=[O]:s.push(O),f++}else{if(t.kty!==void 0){let O=f;if(t.kty!=="OKP"){let U={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};s===null?s=[U]:s.push(U),f++}var T=O===f}else var T=!0;if(T){if(t.crv!==void 0){let O=f;if(typeof t.crv!="string"){let $={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[$]:s.push($),f++}var T=O===f}else var T=!0;if(T){if(t.x!==void 0){let O=f;if(typeof t.x!="string"){let $={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[$]:s.push($),f++}var T=O===f}else var T=!0;if(T)if(t.d!==void 0){let O=f;if(typeof t.d!="string"){let $={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[$]:s.push($),f++}var T=O===f}else var T=!0}}}}var A=x===f;if(A&&m)m=!1,w=[w,1];else{A&&(m=!0,w=1);let C=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let U;if(t.n===void 0&&(U="n")||t.e===void 0&&(U="e")){let $={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"};s===null?s=[$]:s.push($),f++}else{if(t.kty!==void 0){let $=f;if(t.kty!=="RSA"){let W={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};s===null?s=[W]:s.push(W),f++}var I=$===f}else var I=!0;if(I){if(t.n!==void 0){let $=f;if(typeof t.n!="string"){let F={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I){if(t.e!==void 0){let $=f;if(typeof t.e!="string"){let F={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I){if(t.d!==void 0){let $=f;if(typeof t.d!="string"){let F={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I){if(t.p!==void 0){let $=f;if(typeof t.p!="string"){let F={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I){if(t.q!==void 0){let $=f;if(typeof t.q!="string"){let F={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I){if(t.dp!==void 0){let $=f;if(typeof t.dp!="string"){let F={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I){if(t.dq!==void 0){let $=f;if(typeof t.dq!="string"){let F={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I){if(t.qi!==void 0){let $=f;if(typeof t.qi!="string"){let F={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[F]:s.push(F),f++}var I=$===f}else var I=!0;if(I)if(t.oth!==void 0){let $=t.oth,W=f;if(!($&&typeof $=="object"&&!Array.isArray($))){let N={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[N]:s.push(N),f++}var I=W===f}else var I=!0}}}}}}}}}}var A=C===f;if(A&&m)m=!1,w=[w,2];else{A&&(m=!0,w=2);let U=f;if(t&&typeof t=="object"&&!Array.isArray(t)){let W;if(t.k===void 0&&(W="k")){let F={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"};s===null?s=[F]:s.push(F),f++}else{if(t.kty!==void 0){let F=f;if(t.kty!=="oct"){let N={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};s===null?s=[N]:s.push(N),f++}var D=F===f}else var D=!0;if(D)if(t.k!==void 0){let F=f;if(typeof t.k!="string"){let V={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[V]:s.push(V),f++}var D=F===f}else var D=!0}}var A=U===f;A&&m?(m=!1,w=[w,3]):A&&(m=!0,w=3)}}if(m)f=c,s!==null&&(c?s.length=c:s=null);else{let C={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:w},message:"must match exactly one schema in oneOf"};return s===null?s=[C]:s.push(C),f++,Ln.errors=s,!1}if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.kty===void 0&&(C="kty"))return Ln.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;if(t.alg!==void 0){let O=f;if(typeof t.alg!="string")return Ln.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k){if(t.kid!==void 0){let O=f;if(typeof t.kid!="string")return Ln.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k){if(t.kty!==void 0){let O=t.kty,U=f;if(!(O==="EC"||O==="RSA"||O==="oct"||O==="OKP"))return Ln.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:uP.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var k=U===f}else var k=!0;if(k){if(t.crv!==void 0){let O=f;if(typeof t.crv!="string")return Ln.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k){if(t.use!==void 0){let O=f;if(typeof t.use!="string")return Ln.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k){if(t.key_ops!==void 0){let O=f;if(typeof t.key_ops!="string")return Ln.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k){if(t.x5u!==void 0){let O=f;if(typeof t.x5u!="string")return Ln.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k){if(t.x5c!==void 0){let O=f;if(typeof t.x5c!="string")return Ln.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k){if(t.x5t!==void 0){let O=f;if(typeof t.x5t!="string")return Ln.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0;if(k)if(t["x5t#S256"]!==void 0){let O=f;if(typeof t["x5t#S256"]!="string")return Ln.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=O===f}else var k=!0}}}}}}}}}else return Ln.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ln.errors=s,f===0}var _Y=Ve,MY=Bi,eP={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/hooks-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","uri","filter"],properties:{interface:{enum:["Hooks"],type:"string"},method:{enum:["Write"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},schema:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{method:{type:"string"}}}}}}};function Bi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.authorization===void 0&&(w="authorization")||t.descriptor===void 0&&(w="descriptor"))return Bi.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let _=f;for(let M in t)if(!(M==="authorization"||M==="descriptor")){return Bi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.authorization!==void 0){let M=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=M===f}else var c=!0;if(c)if(t.descriptor!==void 0){let M=t.descriptor,x=f;if(f===x)if(M&&typeof M=="object"&&!Array.isArray(M)){let A;if(M.interface===void 0&&(A="interface")||M.method===void 0&&(A="method")||M.messageTimestamp===void 0&&(A="messageTimestamp")||M.uri===void 0&&(A="uri")||M.filter===void 0&&(A="filter"))return Bi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let I=f;for(let D in M)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="schema"||D==="filter")){return Bi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(I===f){if(M.interface!==void 0){let D=M.interface,k=f;if(typeof D!="string")return Bi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Hooks")return Bi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:eP.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.method!==void 0){let D=M.method,k=f;if(typeof D!="string")return Bi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Write")return Bi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:eP.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.messageTimestamp!==void 0){let D=M.messageTimestamp,k=f;if(f===f)if(typeof D=="string"){if(!bs.test(D))return Bi.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Bi.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m){if(M.schema!==void 0){let D=f;if(typeof M.schema!="string")return Bi.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0;if(m)if(M.filter!==void 0){let D=M.filter,k=f;if(f===k)if(D&&typeof D=="object"&&!Array.isArray(D)){if(Object.keys(D).length<1)return Bi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=f;for(let U in D)if(U!=="method"){return Bi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:U},message:"must NOT have additional properties"}],!1;break}if(O===f&&D.method!==void 0&&typeof D.method!="string")return Bi.errors=[{instancePath:e+"/descriptor/filter/method",schemaPath:"#/properties/descriptor/properties/filter/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}}else return Bi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=k===f}else var m=!0}}}}}}else return Bi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=x===f}else var c=!0}}}else return Bi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Bi.errors=s,f===0}var xY=df;function df(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.id===void 0&&(m="id")||t.type===void 0&&(m="type")||t.controller===void 0&&(m="controller")||t.publicKeyJwk===void 0&&(m="publicKeyJwk"))return df.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{let w=f;for(let _ in t)if(!(_==="id"||_==="type"||_==="controller"||_==="publicKeyJwk")){return df.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(w===f){if(t.id!==void 0){let _=f;if(typeof t.id!="string")return df.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0;if(c){if(t.type!==void 0){let _=f;if(t.type!=="JsonWebKey2020")return df.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var c=_===f}else var c=!0;if(c){if(t.controller!==void 0){let _=t.controller,M=f;if(f===f)if(typeof _=="string"){if(!ws.test(_))return df.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return df.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=M===f}else var c=!0;if(c)if(t.publicKeyJwk!==void 0){let _=f;rr(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:n})||(s=s===null?rr.errors:s.concat(rr.errors),f=s.length);var c=_===f}else var c=!0}}}}}else return df.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return df.errors=s,f===0}var SY=Sn,tP={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Sn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.authorization===void 0&&(_="authorization")||t.descriptor===void 0&&(_="descriptor"))return Sn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"}],!1;{let M=f;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return Sn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(M===f){if(t.authorization!==void 0){let x=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=x===f}else var c=!0;if(c)if(t.descriptor!==void 0){let x=t.descriptor,T=f;if(f===T)if(x&&typeof x=="object"&&!Array.isArray(x)){let I;if(x.interface===void 0&&(I="interface")||x.method===void 0&&(I="method")||x.messageTimestamp===void 0&&(I="messageTimestamp"))return Sn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{let D=f;for(let k in x)if(!(k==="interface"||k==="method"||k==="messageTimestamp"||k==="messageCids")){return Sn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;break}if(D===f){if(x.interface!==void 0){let k=x.interface,C=f;if(typeof k!="string")return Sn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Messages")return Sn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:tP.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.method!==void 0){let k=x.method,C=f;if(typeof k!="string")return Sn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Get")return Sn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:tP.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.messageTimestamp!==void 0){let k=f;if(typeof x.messageTimestamp!="string")return Sn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m)if(x.messageCids!==void 0){let k=x.messageCids,C=f;if(f===C)if(Array.isArray(k)){if(k.length<1)return Sn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var w=!0;let U=k.length;for(let $=0;$<U;$++){let W=f;if(typeof k[$]!="string")return Sn.errors=[{instancePath:e+"/descriptor/messageCids/"+$,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f;if(!w)break}}}else return Sn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var m=C===f}else var m=!0}}}}}else return Sn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=T===f}else var c=!0}}}else return Sn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Sn.errors=s,f===0}var EY=Z3;function Z3(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;return t&&typeof t=="object"&&!Array.isArray(t)?(Z3.errors=s,f===0):(Z3.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var AY=Ot,W3={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","dateExpires"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dateExpires:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},permissionsRequestId:{description:"CID of an associated PermissionsRequest message",type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};function Ot(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.authorization===void 0&&(_="authorization")||t.descriptor===void 0&&(_="descriptor"))return Ot.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"}],!1;{let M=f;for(let x in t)if(!(x==="authorization"||x==="delegationChain"||x==="descriptor")){return Ot.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(M===f){if(t.authorization!==void 0){let x=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=x===f}else var c=!0;if(c){if(t.delegationChain!==void 0){let x=f;Ot(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:n})||(s=s===null?Ot.errors:s.concat(Ot.errors),f=s.length);var c=x===f}else var c=!0;if(c)if(t.descriptor!==void 0){let x=t.descriptor,T=f;if(f===T)if(x&&typeof x=="object"&&!Array.isArray(x)){let I;if(x.interface===void 0&&(I="interface")||x.method===void 0&&(I="method")||x.messageTimestamp===void 0&&(I="messageTimestamp")||x.dateExpires===void 0&&(I="dateExpires"))return Ot.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{let D=f;for(let k in x)if(!Cg.call(W3.properties.descriptor.properties,k)){return Ot.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;break}if(D===f){if(x.messageTimestamp!==void 0){let k=x.messageTimestamp,C=f;if(f===f)if(typeof k=="string"){if(!bs.test(k))return Ot.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ot.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.dateExpires!==void 0){let k=x.dateExpires,C=f;if(f===f)if(typeof k=="string"){if(!bs.test(k))return Ot.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ot.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.description!==void 0){let k=f;if(typeof x.description!="string")return Ot.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m){if(x.grantedTo!==void 0){let k=x.grantedTo,C=f;if(f===f)if(typeof k=="string"){if(!ws.test(k))return Ot.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ot.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.grantedBy!==void 0){let k=x.grantedBy,C=f;if(f===f)if(typeof k=="string"){if(!ws.test(k))return Ot.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ot.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.grantedFor!==void 0){let k=x.grantedFor,C=f;if(f===f)if(typeof k=="string"){if(!ws.test(k))return Ot.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ot.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.permissionsRequestId!==void 0){let k=f;if(typeof x.permissionsRequestId!="string")return Ot.errors=[{instancePath:e+"/descriptor/permissionsRequestId",schemaPath:"#/properties/descriptor/properties/permissionsRequestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m){if(x.interface!==void 0){let k=x.interface,C=f;if(typeof k!="string")return Ot.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Permissions")return Ot.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:W3.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.method!==void 0){let k=x.method,C=f;if(typeof k!="string")return Ot.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Grant")return Ot.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:W3.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.scope!==void 0){let k=x.scope,C=f;if(f===f)if(k&&typeof k=="object"&&!Array.isArray(k)){let $;if(k.interface===void 0&&($="interface")||k.method===void 0&&($="method"))return Ot.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/required",keyword:"required",params:{missingProperty:$},message:"must have required property '"+$+"'"}],!1;{let W=f;for(let F in k)if(!(F==="interface"||F==="method")){return Ot.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:F},message:"must NOT have additional properties"}],!1;break}if(W===f){if(k.interface!==void 0){let F=f;if(typeof k.interface!="string")return Ot.errors=[{instancePath:e+"/descriptor/scope/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=F===f}else var w=!0;if(w)if(k.method!==void 0){let F=f;if(typeof k.method!="string")return Ot.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=F===f}else var w=!0}}}else return Ot.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=C===f}else var m=!0;if(m)if(x.conditions!==void 0){let k=x.conditions,C=f;if(f===f)if(k&&typeof k=="object"&&!Array.isArray(k)){let $=f;for(let W in k)if(W!=="publication"){return Ot.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"}],!1;break}if($===f&&k.publication!==void 0&&typeof k.publication!="boolean")return Ot.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1}else return Ot.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=C===f}else var m=!0}}}}}}}}}}}}else return Ot.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=T===f}else var c=!0}}}}else return Ot.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ot.errors=s,f===0}var TY=tr,H3={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","grantedBy","grantedTo","grantedFor","scope"],properties:{interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},messageTimestamp:{type:"string"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};function tr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.authorization===void 0&&(_="authorization")||t.descriptor===void 0&&(_="descriptor"))return tr.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"}],!1;{let M=f;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return tr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(M===f){if(t.authorization!==void 0){let x=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=x===f}else var c=!0;if(c)if(t.descriptor!==void 0){let x=t.descriptor,T=f;if(f===T)if(x&&typeof x=="object"&&!Array.isArray(x)){let I;if(x.interface===void 0&&(I="interface")||x.method===void 0&&(I="method")||x.messageTimestamp===void 0&&(I="messageTimestamp")||x.grantedBy===void 0&&(I="grantedBy")||x.grantedTo===void 0&&(I="grantedTo")||x.grantedFor===void 0&&(I="grantedFor")||x.scope===void 0&&(I="scope"))return tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{let D=f;for(let k in x)if(!Cg.call(H3.properties.descriptor.properties,k)){return tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;break}if(D===f){if(x.interface!==void 0){let k=x.interface,C=f;if(typeof k!="string")return tr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Permissions")return tr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:H3.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.method!==void 0){let k=x.method,C=f;if(typeof k!="string")return tr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Request")return tr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:H3.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.messageTimestamp!==void 0){let k=f;if(typeof x.messageTimestamp!="string")return tr.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m){if(x.description!==void 0){let k=f;if(typeof x.description!="string")return tr.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m){if(x.grantedTo!==void 0){let k=x.grantedTo,C=f;if(f===f)if(typeof k=="string"){if(!ws.test(k))return tr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return tr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.grantedBy!==void 0){let k=x.grantedBy,C=f;if(f===f)if(typeof k=="string"){if(!ws.test(k))return tr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return tr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.grantedFor!==void 0){let k=x.grantedFor,C=f;if(f===f)if(typeof k=="string"){if(!ws.test(k))return tr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return tr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=C===f}else var m=!0;if(m){if(x.scope!==void 0){let k=x.scope,C=f;if(f===f)if(k&&typeof k=="object"&&!Array.isArray(k)){let $;if(k.interface===void 0&&($="interface")||k.method===void 0&&($="method"))return tr.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/required",keyword:"required",params:{missingProperty:$},message:"must have required property '"+$+"'"}],!1;{let W=f;for(let F in k)if(!(F==="interface"||F==="method")){return tr.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:F},message:"must NOT have additional properties"}],!1;break}if(W===f){if(k.interface!==void 0){let F=f;if(typeof k.interface!="string")return tr.errors=[{instancePath:e+"/descriptor/scope/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=F===f}else var w=!0;if(w)if(k.method!==void 0){let F=f;if(typeof k.method!="string")return tr.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=F===f}else var w=!0}}}else return tr.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=C===f}else var m=!0;if(m)if(x.conditions!==void 0){let k=x.conditions,C=f;if(f===f)if(k&&typeof k=="object"&&!Array.isArray(k)){let $=f;for(let W in k)if(W!=="publication"){return tr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"}],!1;break}if($===f&&k.publication!==void 0&&typeof k.publication!="boolean")return tr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1}else return tr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=C===f}else var m=!0}}}}}}}}}}else return tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=T===f}else var c=!0}}}else return tr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return tr.errors=s,f===0}var RY=Xn,rP={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-revoke.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","permissionsGrantId"],properties:{messageTimestamp:{type:"string"},permissionsGrantId:{type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Revoke"],type:"string"}}}}};function Xn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.authorization===void 0&&(w="authorization")||t.descriptor===void 0&&(w="descriptor"))return Xn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let _=f;for(let M in t)if(!(M==="authorization"||M==="descriptor")){return Xn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.authorization!==void 0){let M=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=M===f}else var c=!0;if(c)if(t.descriptor!==void 0){let M=t.descriptor,x=f;if(f===x)if(M&&typeof M=="object"&&!Array.isArray(M)){let A;if(M.interface===void 0&&(A="interface")||M.method===void 0&&(A="method")||M.messageTimestamp===void 0&&(A="messageTimestamp")||M.permissionsGrantId===void 0&&(A="permissionsGrantId"))return Xn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let I=f;for(let D in M)if(!(D==="messageTimestamp"||D==="permissionsGrantId"||D==="interface"||D==="method")){return Xn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(I===f){if(M.messageTimestamp!==void 0){let D=f;if(typeof M.messageTimestamp!="string")return Xn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0;if(m){if(M.permissionsGrantId!==void 0){let D=f;if(typeof M.permissionsGrantId!="string")return Xn.errors=[{instancePath:e+"/descriptor/permissionsGrantId",schemaPath:"#/properties/descriptor/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0;if(m){if(M.interface!==void 0){let D=M.interface,k=f;if(typeof D!="string")return Xn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Permissions")return Xn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:rP.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m)if(M.method!==void 0){let D=M.method,k=f;if(typeof D!="string")return Xn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Revoke")return Xn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:rP.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0}}}}}else return Xn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=x===f}else var c=!0}}}else return Xn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Xn.errors=s,f===0}var PY=Ki;var iP=new RegExp(".*","u"),Bg={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}},$actions:{type:"array",minItems:1,items:{type:"object",anyOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone"]},can:{type:"string",enum:["read","write"]}}},{required:["who","of","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["author","recipient"]},of:{type:"string"},can:{type:"string",enum:["read","write"]}}}]}}},patternProperties:{"^[^$].*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},nP=new RegExp("^[^$].*","u"),G3={validate:Un};function Un(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let A=f;for(let I in t)if(!(I==="$encryption"||I==="$actions"||nP.test(I))){return Un.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(A===f){if(t.$encryption!==void 0){let I=t.$encryption,D=f;if(f===D)if(I&&typeof I=="object"&&!Array.isArray(I)){let k=f;for(let C in I)if(!(C==="rootKeyId"||C==="publicKeyJwk")){return Un.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(k===f){if(I.rootKeyId!==void 0){let C=f;if(typeof I.rootKeyId!="string")return Un.errors=[{instancePath:e+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=C===f}else var c=!0;if(c)if(I.publicKeyJwk!==void 0){let C=f;rr(I.publicKeyJwk,{instancePath:e+"/$encryption/publicKeyJwk",parentData:I,parentDataProperty:"publicKeyJwk",rootData:n})||(s=s===null?rr.errors:s.concat(rr.errors),f=s.length);var c=C===f}else var c=!0}}else return Un.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=D===f}else var m=!0;if(m){if(t.$actions!==void 0){let I=t.$actions,D=f;if(f===D)if(Array.isArray(I)){if(I.length<1)return Un.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var w=!0;let C=I.length;for(let O=0;O<C;O++){let U=I[O],$=f;if(!(U&&typeof U=="object"&&!Array.isArray(U)))return Un.errors=[{instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;let W=f,F=!1,N=f;if(U&&typeof U=="object"&&!Array.isArray(U)){let b;if(U.who===void 0&&(b="who")||U.can===void 0&&(b="can")){let o={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/anyOf/0/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};s===null?s=[o]:s.push(o),f++}else{let o=f;for(let u in U)if(!(u==="who"||u==="can")){let h={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/anyOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"};s===null?s=[h]:s.push(h),f++;break}if(o===f){if(U.who!==void 0){let u=U.who,h=f;if(typeof u!="string"){let l={instancePath:e+"/$actions/"+O+"/who",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[l]:s.push(l),f++}if(u!=="anyone"){let l={instancePath:e+"/$actions/"+O+"/who",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:Bg.properties.$actions.items.anyOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};s===null?s=[l]:s.push(l),f++}var _=h===f}else var _=!0;if(_)if(U.can!==void 0){let u=U.can,h=f;if(typeof u!="string"){let d={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),f++}if(!(u==="read"||u==="write")){let d={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/can/enum",keyword:"enum",params:{allowedValues:Bg.properties.$actions.items.anyOf[0].properties.can.enum},message:"must be equal to one of the allowed values"};s===null?s=[d]:s.push(d),f++}var _=h===f}else var _=!0}}}var M=N===f;if(F=F||M,!F){let b=f;if(U&&typeof U=="object"&&!Array.isArray(U)){let u;if(U.who===void 0&&(u="who")||U.of===void 0&&(u="of")||U.can===void 0&&(u="can")){let h={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/anyOf/1/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};s===null?s=[h]:s.push(h),f++}else{let h=f;for(let l in U)if(!(l==="who"||l==="of"||l==="can")){let d={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/anyOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};s===null?s=[d]:s.push(d),f++;break}if(h===f){if(U.who!==void 0){let l=U.who,d=f;if(typeof l!="string"){let y={instancePath:e+"/$actions/"+O+"/who",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[y]:s.push(y),f++}if(!(l==="author"||l==="recipient")){let y={instancePath:e+"/$actions/"+O+"/who",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/who/enum",keyword:"enum",params:{allowedValues:Bg.properties.$actions.items.anyOf[1].properties.who.enum},message:"must be equal to one of the allowed values"};s===null?s=[y]:s.push(y),f++}var x=d===f}else var x=!0;if(x){if(U.of!==void 0){let l=f;if(typeof U.of!="string"){let y={instancePath:e+"/$actions/"+O+"/of",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[y]:s.push(y),f++}var x=l===f}else var x=!0;if(x)if(U.can!==void 0){let l=U.can,d=f;if(typeof l!="string"){let v={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[v]:s.push(v),f++}if(!(l==="read"||l==="write")){let v={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/can/enum",keyword:"enum",params:{allowedValues:Bg.properties.$actions.items.anyOf[1].properties.can.enum},message:"must be equal to one of the allowed values"};s===null?s=[v]:s.push(v),f++}var x=d===f}else var x=!0}}}}var M=b===f;F=F||M}if(F)f=W,s!==null&&(W?s.length=W:s=null);else{let b={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[b]:s.push(b),f++,Un.errors=s,!1}var w=$===f;if(!w)break}}}else return Un.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var m=D===f}else var m=!0;if(m){var T=!0;for(let I in t)if(nP.test(I)){let D=f;G3.validate(t[I],{instancePath:e+"/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:t,parentDataProperty:I,rootData:n})||(s=s===null?G3.validate.errors:s.concat(G3.validate.errors),f=s.length);var T=D===f;if(!T)break}}}}}else return Un.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Un.errors=s,f===0}function Ki(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let x;if(t.protocol===void 0&&(x="protocol")||t.published===void 0&&(x="published")||t.types===void 0&&(x="types")||t.structure===void 0&&(x="structure"))return Ki.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let T=f;for(let A in t)if(!(A==="protocol"||A==="published"||A==="types"||A==="structure")){return Ki.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties"}],!1;break}if(T===f){if(t.protocol!==void 0){let A=f;if(typeof t.protocol!="string")return Ki.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=A===f}else var c=!0;if(c){if(t.published!==void 0){let A=f;if(typeof t.published!="boolean")return Ki.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=A===f}else var c=!0;if(c){if(t.types!==void 0){let A=t.types,I=f;if(f===I)if(A&&typeof A=="object"&&!Array.isArray(A)){var m=!0;for(let k in A)if(iP.test(k)){let C=A[k],O=f;if(f===O)if(C&&typeof C=="object"&&!Array.isArray(C)){let $=f;for(let W in C)if(!(W==="schema"||W==="dataFormats")){return Ki.errors=[{instancePath:e+"/types/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"}],!1;break}if($===f){if(C.schema!==void 0){let W=f;if(typeof C.schema!="string")return Ki.errors=[{instancePath:e+"/types/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0;if(w)if(C.dataFormats!==void 0){let W=C.dataFormats,F=f;if(f===F)if(Array.isArray(W)){if(W.length<1)return Ki.errors=[{instancePath:e+"/types/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var _=!0;let V=W.length;for(let b=0;b<V;b++){let o=f;if(typeof W[b]!="string")return Ki.errors=[{instancePath:e+"/types/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+b,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _=o===f;if(!_)break}}}else return Ki.errors=[{instancePath:e+"/types/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var w=F===f}else var w=!0}}else return Ki.errors=[{instancePath:e+"/types/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=O===f;if(!m)break}}else return Ki.errors=[{instancePath:e+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=I===f}else var c=!0;if(c)if(t.structure!==void 0){let A=t.structure,I=f;if(f===I)if(A&&typeof A=="object"&&!Array.isArray(A)){var M=!0;for(let k in A)if(iP.test(k)){let C=f;Un(A[k],{instancePath:e+"/structure/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:A,parentDataProperty:k,rootData:n})||(s=s===null?Un.errors:s.concat(Un.errors),f=s.length);var M=C===f;if(!M)break}}else return Ki.errors=[{instancePath:e+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=I===f}else var c=!0}}}}}else return Ki.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ki.errors=s,f===0}var kY=Un,IY=Qn,oP={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Qn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.authorization===void 0&&(w="authorization")||t.descriptor===void 0&&(w="descriptor"))return Qn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let _=f;for(let M in t)if(!(M==="authorization"||M==="descriptor")){return Qn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.authorization!==void 0){let M=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=M===f}else var c=!0;if(c)if(t.descriptor!==void 0){let M=t.descriptor,x=f;if(f===x)if(M&&typeof M=="object"&&!Array.isArray(M)){let A;if(M.interface===void 0&&(A="interface")||M.method===void 0&&(A="method")||M.messageTimestamp===void 0&&(A="messageTimestamp")||M.definition===void 0&&(A="definition"))return Qn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let I=f;for(let D in M)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="definition")){return Qn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(I===f){if(M.interface!==void 0){let D=M.interface,k=f;if(typeof D!="string")return Qn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Protocols")return Qn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:oP.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.method!==void 0){let D=M.method,k=f;if(typeof D!="string")return Qn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Configure")return Qn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:oP.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.messageTimestamp!==void 0){let D=M.messageTimestamp,k=f;if(f===f)if(typeof D=="string"){if(!bs.test(D))return Qn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Qn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m)if(M.definition!==void 0){let D=f;Ki(M.definition,{instancePath:e+"/descriptor/definition",parentData:M,parentDataProperty:"definition",rootData:n})||(s=s===null?Ki.errors:s.concat(Ki.errors),f=s.length);var m=D===f}else var m=!0}}}}}else return Qn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=x===f}else var c=!0}}}else return Qn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Qn.errors=s,f===0}var BY=Di,sP={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function Di(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.descriptor===void 0&&(_="descriptor"))return Di.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"}],!1;{let M=f;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return Di.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(M===f){if(t.authorization!==void 0){let x=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=x===f}else var c=!0;if(c)if(t.descriptor!==void 0){let x=t.descriptor,T=f;if(f===T)if(x&&typeof x=="object"&&!Array.isArray(x)){let I;if(x.interface===void 0&&(I="interface")||x.method===void 0&&(I="method")||x.messageTimestamp===void 0&&(I="messageTimestamp"))return Di.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{let D=f;for(let k in x)if(!(k==="interface"||k==="method"||k==="messageTimestamp"||k==="filter")){return Di.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;break}if(D===f){if(x.interface!==void 0){let k=x.interface,C=f;if(typeof k!="string")return Di.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Protocols")return Di.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:sP.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.method!==void 0){let k=x.method,C=f;if(typeof k!="string")return Di.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(k!=="Query")return Di.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:sP.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=C===f}else var m=!0;if(m){if(x.messageTimestamp!==void 0){let k=f;if(typeof x.messageTimestamp!="string")return Di.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m)if(x.filter!==void 0){let k=x.filter,C=f;if(f===C)if(k&&typeof k=="object"&&!Array.isArray(k)){if(Object.keys(k).length<1)return Di.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let U=f;for(let $ in k)if(!($==="protocol"||$==="recipient")){return Di.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$},message:"must NOT have additional properties"}],!1;break}if(U===f){if(k.protocol!==void 0){let $=f;if(typeof k.protocol!="string")return Di.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=$===f}else var w=!0;if(w)if(k.recipient!==void 0){let $=k.recipient,W=f;if(f===f)if(typeof $=="string"){if(!ws.test($))return Di.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Di.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=W===f}else var w=!0}}}else return Di.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=C===f}else var m=!0}}}}}else return Di.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=T===f}else var c=!0}}}else return Di.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Di.errors=s,f===0}var DY=eo,aP={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{type:"string"},recordId:{type:"string"}}}}};function eo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.descriptor===void 0&&(w="descriptor"))return eo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let _=f;for(let M in t)if(!(M==="authorization"||M==="descriptor")){return eo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.authorization!==void 0){let M=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=M===f}else var c=!0;if(c)if(t.descriptor!==void 0){let M=t.descriptor,x=f;if(f===x)if(M&&typeof M=="object"&&!Array.isArray(M)){let A;if(M.interface===void 0&&(A="interface")||M.method===void 0&&(A="method")||M.messageTimestamp===void 0&&(A="messageTimestamp")||M.recordId===void 0&&(A="recordId"))return eo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let I=f;for(let D in M)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="recordId")){return eo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(I===f){if(M.interface!==void 0){let D=M.interface,k=f;if(typeof D!="string")return eo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Records")return eo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:aP.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.method!==void 0){let D=M.method,k=f;if(typeof D!="string")return eo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Read")return eo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:aP.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.messageTimestamp!==void 0){let D=f;if(typeof M.messageTimestamp!="string")return eo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0;if(m)if(M.recordId!==void 0){let D=f;if(typeof M.recordId!="string")return eo.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0}}}}}else return eo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=x===f}else var c=!0}}}else return eo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return eo.errors=s,f===0}var CY=rr,OY=zn,fP={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/snapshots-create.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definitionCid"],properties:{interface:{enum:["Snapshots"],type:"string"},method:{enum:["Create"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},definitionCid:{type:"string"}}}}};function zn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let w;if(t.authorization===void 0&&(w="authorization")||t.descriptor===void 0&&(w="descriptor"))return zn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let _=f;for(let M in t)if(!(M==="authorization"||M==="descriptor")){return zn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(_===f){if(t.authorization!==void 0){let M=f;Ve(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?Ve.errors:s.concat(Ve.errors),f=s.length);var c=M===f}else var c=!0;if(c)if(t.descriptor!==void 0){let M=t.descriptor,x=f;if(f===x)if(M&&typeof M=="object"&&!Array.isArray(M)){let A;if(M.interface===void 0&&(A="interface")||M.method===void 0&&(A="method")||M.messageTimestamp===void 0&&(A="messageTimestamp")||M.definitionCid===void 0&&(A="definitionCid"))return zn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let I=f;for(let D in M)if(!(D==="interface"||D==="method"||D==="messageTimestamp"||D==="definitionCid")){return zn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(I===f){if(M.interface!==void 0){let D=M.interface,k=f;if(typeof D!="string")return zn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Snapshots")return zn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:fP.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.method!==void 0){let D=M.method,k=f;if(typeof D!="string")return zn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Create")return zn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:fP.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=k===f}else var m=!0;if(m){if(M.messageTimestamp!==void 0){let D=M.messageTimestamp,k=f;if(f===f)if(typeof D=="string"){if(!bs.test(D))return zn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return zn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=k===f}else var m=!0;if(m)if(M.definitionCid!==void 0){let D=f;if(typeof M.definitionCid!="string")return zn.errors=[{instancePath:e+"/descriptor/definitionCid",schemaPath:"#/properties/descriptor/properties/definitionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=D===f}else var m=!0}}}}}else return zn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=x===f}else var c=!0}}}else return zn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return zn.errors=s,f===0}var qY=Pl;function Pl(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.descriptorCid===void 0&&(m="descriptorCid"))return Pl.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{let w=f;for(let _ in t)if(!(_==="descriptorCid"||_==="permissionsGrantId")){return Pl.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(w===f){if(t.descriptorCid!==void 0){let _=f;if(typeof t.descriptorCid!="string")return Pl.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0;if(c)if(t.permissionsGrantId!==void 0){let _=f;if(typeof t.permissionsGrantId!="string")return Pl.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0}}}else return Pl.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Pl.errors=s,f===0}var jY=ha;function ha(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,f=0;if(f===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.descriptorCid===void 0&&(m="descriptorCid")||t.recordId===void 0&&(m="recordId"))return ha.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{let w=f;for(let _ in t)if(!(_==="descriptorCid"||_==="recordId"||_==="contextId"||_==="attestationCid"||_==="encryptionCid")){return ha.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(w===f){if(t.descriptorCid!==void 0){let _=f;if(typeof t.descriptorCid!="string")return ha.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0;if(c){if(t.recordId!==void 0){let _=f;if(typeof t.recordId!="string")return ha.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0;if(c){if(t.contextId!==void 0){let _=f;if(typeof t.contextId!="string")return ha.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0;if(c){if(t.attestationCid!==void 0){let _=f;if(typeof t.attestationCid!="string")return ha.errors=[{instancePath:e+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0;if(c)if(t.encryptionCid!==void 0){let _=f;if(typeof t.encryptionCid!="string")return ha.errors=[{instancePath:e+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===f}else var c=!0}}}}}}else return ha.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ha.errors=s,f===0}function Kh(t,e){let r=V3[t];if(!r)throw new Error(`schema for ${t} not found.`);if(r(e),!r.errors)return;let[i]=r.errors,{instancePath:n,message:s}=i;throw n||(n=t),new Error(`${n}: ${s}`)}var Ir=(c=>(c.Events="Events",c.Hooks="Hooks",c.Messages="Messages",c.Permissions="Permissions",c.Protocols="Protocols",c.Records="Records",c.Snapshots="Snapshots",c))(Ir||{}),Sr=(_=>(_.Configure="Configure",_.Create="Create",_.Get="Get",_.Grant="Grant",_.Query="Query",_.Read="Read",_.Request="Request",_.Revoke="Revoke",_.Write="Write",_.Delete="Delete",_))(Sr||{}),Oe=class{constructor(e){this.message=e,e.authorization!==void 0&&(this.authorizationPayload=Fr.decodePlainObjectPayload(e.authorization),this.author=Oe.getAuthor(e))}toJSON(){return this.message}static validateJsonSchema(e){let r=e.descriptor.interface,i=e.descriptor.method,n=r+i;Kh(n,e)}static getAuthor(e){return e.authorization===void 0?void 0:Fr.getSignerDid(e.authorization.signatures[0])}static async getCid(e){return await Hr.computeCid(e)}static async compareCid(e,r){let i=await Oe.getCid(e),n=await Oe.getCid(r);return Rl(i,n)}static async isCidLarger(e,r){return await Oe.compareCid(e,r)>0}static async getMessageWithLargestCid(e){let r;for(let i of e)(r===void 0||await Oe.isCidLarger(i,r))&&(r=i);return r}static async signAsAuthorization(e,r,i){let s={descriptorCid:await Hr.computeCid(e),permissionsGrantId:i};pn(s);let f=JSON.stringify(s),c=new TextEncoder().encode(f);return(await lf.create(c,[r])).getJws()}static async getNewestMessage(e){let r;for(let i of e)(r===void 0||await Oe.isNewer(i,r))&&(r=i);return r}static async getOldestMessage(e){let r;for(let i of e)(r===void 0||await Oe.isOlder(i,r))&&(r=i);return r}static async isNewer(e,r){return await Oe.compareMessageTimestamp(e,r)>0}static async isOlder(e,r){return await Oe.compareMessageTimestamp(e,r)<0}static async compareMessageTimestamp(e,r){return e.descriptor.messageTimestamp>r.descriptor.messageTimestamp?1:e.descriptor.messageTimestamp<r.descriptor.messageTimestamp?-1:Oe.compareCid(e,r)}};E();E();E();E();var Bp=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,dP=new Set,Y3=typeof q.default=="object"&&q.default?q.default:{},hP=(t,e,r,i)=>{typeof Y3.emitWarning=="function"?Y3.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)},qg=globalThis.AbortController,lP=globalThis.AbortSignal;if(typeof qg>"u"){lP=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n)}},qg=class{constructor(){e()}signal=new lP;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let t=Y3.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,hP("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var NY=t=>!dP.has(t),_xe=Symbol("type"),nu=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),cP=t=>nu(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Vh:null:null,Vh=class extends Array{constructor(e){super(e),this.fill(0)}},Yh,Zh=class{heap;length;static create(e){let r=cP(e);if(!r)return[];Pw(Zh,Yh,!0);let i=new Zh(e,r);return Pw(Zh,Yh,!1),i}constructor(e,r){if(!N5(Zh,Yh))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Og=Zh;Yh=new WeakMap,L5(Og,Yh,!1);var Jh=class{#c;#l;#v;#p;#P;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#m;#n;#r;#e;#f;#d;#a;#o;#y;#s;#M;#x;#g;#b;#E;#u;static unsafeExposeInternals(e){return{starts:e.#x,ttls:e.#g,sizes:e.#M,keyMap:e.#n,keyList:e.#r,valList:e.#e,next:e.#f,prev:e.#d,get head(){return e.#a},get tail(){return e.#o},free:e.#y,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,i,n,s)=>e.#B(r,i,n,s),moveToTail:r=>e.#R(r),indexes:r=>e.#w(r),rindexes:r=>e.#_(r),isStale:r=>e.#h(r)}}get max(){return this.#c}get maxSize(){return this.#l}get calculatedSize(){return this.#m}get size(){return this.#i}get fetchMethod(){return this.#P}get dispose(){return this.#v}get disposeAfter(){return this.#p}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:s,updateAgeOnGet:f,updateAgeOnHas:c,allowStale:m,dispose:w,disposeAfter:_,noDisposeOnSet:M,noUpdateTTL:x,maxSize:T=0,maxEntrySize:A=0,sizeCalculation:I,fetchMethod:D,noDeleteOnFetchRejection:k,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:U,ignoreFetchAbort:$}=e;if(r!==0&&!nu(r))throw new TypeError("max option must be a nonnegative integer");let W=r?cP(r):Array;if(!W)throw new Error("invalid max value: "+r);if(this.#c=r,this.#l=T,this.maxEntrySize=A||this.#l,this.sizeCalculation=I,this.sizeCalculation){if(!this.#l&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(D!==void 0&&typeof D!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#P=D,this.#E=!!D,this.#n=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#f=new W(r),this.#d=new W(r),this.#a=0,this.#o=0,this.#y=Og.create(r),this.#i=0,this.#m=0,typeof w=="function"&&(this.#v=w),typeof _=="function"?(this.#p=_,this.#s=[]):(this.#p=void 0,this.#s=void 0),this.#b=!!this.#v,this.#u=!!this.#p,this.noDisposeOnSet=!!M,this.noUpdateTTL=!!x,this.noDeleteOnFetchRejection=!!k,this.allowStaleOnFetchRejection=!!O,this.allowStaleOnFetchAbort=!!U,this.ignoreFetchAbort=!!$,this.maxEntrySize!==0){if(this.#l!==0&&!nu(this.#l))throw new TypeError("maxSize must be a positive integer if specified");if(!nu(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#N()}if(this.allowStale=!!m,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!f,this.updateAgeOnHas=!!c,this.ttlResolution=nu(n)||n===0?n:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!nu(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#D()}if(this.#c===0&&this.ttl===0&&this.#l===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#c&&!this.#l){let F="LRU_CACHE_UNBOUNDED";NY(F)&&(dP.add(F),hP("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",F,Jh))}}getRemainingTTL(e){return this.#n.has(e)?1/0:0}#D(){let e=new Vh(this.#c),r=new Vh(this.#c);this.#g=e,this.#x=r,this.#C=(s,f,c=Bp.now())=>{if(r[s]=f!==0?c:0,e[s]=f,f!==0&&this.ttlAutopurge){let m=setTimeout(()=>{this.#h(s)&&this.delete(this.#r[s])},f+1);m.unref&&m.unref()}},this.#A=s=>{r[s]=e[s]!==0?Bp.now():0},this.#S=(s,f)=>{if(e[f]){let c=e[f],m=r[f];s.ttl=c,s.start=m,s.now=i||n();let w=s.now-m;s.remainingTTL=c-w}};let i=0,n=()=>{let s=Bp.now();if(this.ttlResolution>0){i=s;let f=setTimeout(()=>i=0,this.ttlResolution);f.unref&&f.unref()}return s};this.getRemainingTTL=s=>{let f=this.#n.get(s);if(f===void 0)return 0;let c=e[f],m=r[f];if(c===0||m===0)return 1/0;let w=(i||n())-m;return c-w},this.#h=s=>e[s]!==0&&r[s]!==0&&(i||n())-r[s]>e[s]}#A=()=>{};#S=()=>{};#C=()=>{};#h=()=>!1;#N(){let e=new Vh(this.#c);this.#m=0,this.#M=e,this.#T=r=>{this.#m-=e[r],e[r]=0},this.#O=(r,i,n,s)=>{if(this.#t(i))return 0;if(!nu(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(i,r),!nu(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(r,i,n)=>{if(e[r]=i,this.#l){let s=this.#l-e[r];for(;this.#m>s;)this.#I(!0)}this.#m+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#m)}}#T=e=>{};#k=(e,r,i)=>{};#O=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#o;!(!this.#q(r)||((e||!this.#h(r))&&(yield r),r===this.#a));)r=this.#d[r]}*#_({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#a;!(!this.#q(r)||((e||!this.#h(r))&&(yield r),r===this.#o));)r=this.#f[r]}#q(e){return e!==void 0&&this.#n.get(this.#r[e])===e}*entries(){for(let e of this.#w())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*rentries(){for(let e of this.#_())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*keys(){for(let e of this.#w()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*rkeys(){for(let e of this.#_()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*values(){for(let e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(let e of this.#_())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.#w()){let n=this.#e[i],s=this.#t(n)?n.__staleWhileFetching:n;if(s!==void 0&&e(s,this.#r[i],this))return this.get(this.#r[i],r)}}forEach(e,r=this){for(let i of this.#w()){let n=this.#e[i],s=this.#t(n)?n.__staleWhileFetching:n;s!==void 0&&e.call(r,s,this.#r[i],this)}}rforEach(e,r=this){for(let i of this.#_()){let n=this.#e[i],s=this.#t(n)?n.__staleWhileFetching:n;s!==void 0&&e.call(r,s,this.#r[i],this)}}purgeStale(){let e=!1;for(let r of this.#_({allowStale:!0}))this.#h(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#w({allowStale:!0})){let i=this.#r[r],n=this.#e[r],s=this.#t(n)?n.__staleWhileFetching:n;if(s===void 0||i===void 0)continue;let f={value:s};if(this.#g&&this.#x){f.ttl=this.#g[r];let c=Bp.now()-this.#x[r];f.start=Math.floor(Date.now()-c)}this.#M&&(f.size=this.#M[r]),e.unshift([i,f])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=Bp.now()-n}this.set(r,i.value,i)}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:s,noDisposeOnSet:f=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:m}=i,{noUpdateTTL:w=this.noUpdateTTL}=i,_=this.#O(e,r,i.size||0,c);if(this.maxEntrySize&&_>this.maxEntrySize)return m&&(m.set="miss",m.maxEntrySizeExceeded=!0),this.delete(e),this;let M=this.#i===0?void 0:this.#n.get(e);if(M===void 0)M=this.#i===0?this.#o:this.#y.length!==0?this.#y.pop():this.#i===this.#c?this.#I(!1):this.#i,this.#r[M]=e,this.#e[M]=r,this.#n.set(e,M),this.#f[this.#o]=M,this.#d[M]=this.#o,this.#o=M,this.#i++,this.#k(M,_,m),m&&(m.set="add"),w=!1;else{this.#R(M);let x=this.#e[M];if(r!==x){if(this.#E&&this.#t(x)?x.__abortController.abort(new Error("replaced")):f||(this.#b&&this.#v?.(x,e,"set"),this.#u&&this.#s?.push([x,e,"set"])),this.#T(M),this.#k(M,_,m),this.#e[M]=r,m){m.set="replace";let T=x&&this.#t(x)?x.__staleWhileFetching:x;T!==void 0&&(m.oldValue=T)}}else m&&(m.set="update")}if(n!==0&&!this.#g&&this.#D(),this.#g&&(w||this.#C(M,n,s),m&&this.#S(m,M)),!f&&this.#u&&this.#s){let x=this.#s,T;for(;T=x?.shift();)this.#p?.(...T)}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#a];if(this.#I(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#s){let e=this.#s,r;for(;r=e?.shift();)this.#p?.(...r)}}}#I(e){let r=this.#a,i=this.#r[r],n=this.#e[r];return this.#E&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#b||this.#u)&&(this.#b&&this.#v?.(n,i,"evict"),this.#u&&this.#s?.push([n,i,"evict"])),this.#T(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#y.push(r)),this.#i===1?(this.#a=this.#o=0,this.#y.length=0):this.#a=this.#f[r],this.#n.delete(i),this.#i--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,s=this.#n.get(e);if(s!==void 0){let f=this.#e[s];if(this.#t(f)&&f.__staleWhileFetching===void 0)return!1;if(this.#h(s))n&&(n.has="stale",this.#S(n,s));else return i&&this.#A(s),n&&(n.has="hit",this.#S(n,s)),!0}else n&&(n.has="miss");return!1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#n.get(e);if(n!==void 0&&(i||!this.#h(n))){let s=this.#e[n];return this.#t(s)?s.__staleWhileFetching:s}}#B(e,r,i,n){let s=r===void 0?void 0:this.#e[r];if(this.#t(s))return s;let f=new qg,{signal:c}=i;c?.addEventListener("abort",()=>f.abort(c.reason),{signal:f.signal});let m={signal:f.signal,options:i,context:n},w=(I,D=!1)=>{let{aborted:k}=f.signal,C=i.ignoreFetchAbort&&I!==void 0;if(i.status&&(k&&!D?(i.status.fetchAborted=!0,i.status.fetchError=f.signal.reason,C&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),k&&!C&&!D)return M(f.signal.reason);let O=T;return this.#e[r]===T&&(I===void 0?O.__staleWhileFetching?this.#e[r]=O.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,I,m.options))),I},_=I=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=I),M(I)),M=I=>{let{aborted:D}=f.signal,k=D&&i.allowStaleOnFetchAbort,C=k||i.allowStaleOnFetchRejection,O=C||i.noDeleteOnFetchRejection,U=T;if(this.#e[r]===T&&(!O||U.__staleWhileFetching===void 0?this.delete(e):k||(this.#e[r]=U.__staleWhileFetching)),C)return i.status&&U.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),U.__staleWhileFetching;if(U.__returned===U)throw I},x=(I,D)=>{let k=this.#P?.(e,s,m);k&&k instanceof Promise&&k.then(C=>I(C),D),f.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(I(),i.allowStaleOnFetchAbort&&(I=C=>w(C,!0)))})};i.status&&(i.status.fetchDispatched=!0);let T=new Promise(x).then(w,_),A=Object.assign(T,{__abortController:f,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,A,{...m.options,status:void 0}),r=this.#n.get(e)):this.#e[r]=A,A}#t(e){if(!this.#E)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof qg}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:f=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:m=0,sizeCalculation:w=this.sizeCalculation,noUpdateTTL:_=this.noUpdateTTL,noDeleteOnFetchRejection:M=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:x=this.allowStaleOnFetchRejection,ignoreFetchAbort:T=this.ignoreFetchAbort,allowStaleOnFetchAbort:A=this.allowStaleOnFetchAbort,context:I,forceRefresh:D=!1,status:k,signal:C}=r;if(!this.#E)return k&&(k.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,status:k});let O={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:f,noDisposeOnSet:c,size:m,sizeCalculation:w,noUpdateTTL:_,noDeleteOnFetchRejection:M,allowStaleOnFetchRejection:x,allowStaleOnFetchAbort:A,ignoreFetchAbort:T,status:k,signal:C},U=this.#n.get(e);if(U===void 0){k&&(k.fetch="miss");let $=this.#B(e,U,O,I);return $.__returned=$}else{let $=this.#e[U];if(this.#t($)){let b=i&&$.__staleWhileFetching!==void 0;return k&&(k.fetch="inflight",b&&(k.returnedStale=!0)),b?$.__staleWhileFetching:$.__returned=$}let W=this.#h(U);if(!D&&!W)return k&&(k.fetch="hit"),this.#R(U),n&&this.#A(U),k&&this.#S(k,U),$;let F=this.#B(e,U,O,I),V=F.__staleWhileFetching!==void 0&&i;return k&&(k.fetch=W?"stale":"refresh",V&&W&&(k.returnedStale=!0)),V?F.__staleWhileFetching:F.__returned=F}}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:f}=r,c=this.#n.get(e);if(c!==void 0){let m=this.#e[c],w=this.#t(m);return f&&this.#S(f,c),this.#h(c)?(f&&(f.get="stale"),w?(f&&i&&m.__staleWhileFetching!==void 0&&(f.returnedStale=!0),i?m.__staleWhileFetching:void 0):(s||this.delete(e),f&&i&&(f.returnedStale=!0),i?m:void 0)):(f&&(f.get="hit"),w?m.__staleWhileFetching:(this.#R(c),n&&this.#A(c),m))}else f&&(f.get="miss")}#j(e,r){this.#d[r]=e,this.#f[e]=r}#R(e){e!==this.#o&&(e===this.#a?this.#a=this.#f[e]:this.#j(this.#d[e],this.#f[e]),this.#j(this.#o,e),this.#o=e)}delete(e){let r=!1;if(this.#i!==0){let i=this.#n.get(e);if(i!==void 0)if(r=!0,this.#i===1)this.clear();else{this.#T(i);let n=this.#e[i];this.#t(n)?n.__abortController.abort(new Error("deleted")):(this.#b||this.#u)&&(this.#b&&this.#v?.(n,e,"delete"),this.#u&&this.#s?.push([n,e,"delete"])),this.#n.delete(e),this.#r[i]=void 0,this.#e[i]=void 0,i===this.#o?this.#o=this.#d[i]:i===this.#a?this.#a=this.#f[i]:(this.#f[this.#d[i]]=this.#f[i],this.#d[this.#f[i]]=this.#d[i]),this.#i--,this.#y.push(i)}}if(this.#u&&this.#s?.length){let i=this.#s,n;for(;n=i?.shift();)this.#p?.(...n)}return r}clear(){for(let e of this.#_({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else{let i=this.#r[e];this.#b&&this.#v?.(r,i,"delete"),this.#u&&this.#s?.push([r,i,"delete"])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#g&&this.#x&&(this.#g.fill(0),this.#x.fill(0)),this.#M&&this.#M.fill(0),this.#a=0,this.#o=0,this.#y.length=0,this.#m=0,this.#i=0,this.#u&&this.#s){let e=this.#s,r;for(;r=e?.shift();)this.#p?.(...r)}}};var Xh=class{constructor(e){this.timeToLiveInSeconds=e;this.cache=new Jh({max:1e5,ttl:e*1e3})}async set(e,r){try{this.cache.set(e,r)}catch{}}async get(e){return this.cache.get(e)}async dump(){for(let[e,r]of this.cache)console.debug(e,r)}};var Qh=class{constructor(e,r){this.jws=e,this.cache=r||new Xh(600)}async verify(e){let r=[];for(let i of this.jws.signatures){let n,s=`${i.protected}.${this.jws.payload}.${i.signature}`,f=Fr.getKid(i),c=await Qh.getPublicKey(f,e),m=await this.cache.get(s);m===void 0?(n=await Fr.verifySignature(this.jws.payload,i,c),await this.cache.set(s,n)):n=m;let w=Fr.extractDid(f);if(n)r.push(w);else throw new Error(`signature verification failed for ${w}`)}return{signers:r}}static async getPublicKey(e,r){let i=Fr.extractDid(e),{didDocument:n}=await r.resolve(i),{verificationMethod:s=[]}=n||{},f;for(let m of s)if(e.endsWith(m.id)){f=m;break}if(!f)throw new Error("public key needed to verify signature not found in DID Document");Kh("JwkVerificationMethod",f);let{publicKeyJwk:c}=f;return c}};async function Nr(t,e="BaseAuthorizationPayload"){if(t.authorization===void 0)throw new Ye("AuthorizationMissing","Property `authorization` is missing.");if(t.authorization.signatures.length!==1)throw new Error("expected no more than 1 signature for authorization");let r=Fr.decodePlainObjectPayload(t.authorization);Kh(e,r);let{descriptorCid:i}=r,n=await Hr.computeCid(t.descriptor);if(i!==n)throw new Error(`provided descriptorCid ${i} does not match expected CID ${n}`);return r}async function Kr(t,e){if(t===void 0)throw new Ye("AuthenticateJwsMissing","Missing JWS.");await new Qh(t).verify(e)}async function ca(t,e){if(e.author!==t)throw new Error("message failed authorization, permission grant check not yet implemented")}E();function ou(t){let e;try{e=hf(t)}catch{e=void 0}if(t!==e)throw new Ye("UrlProtocolNotNormalized",`Protocol URI ${t} must be normalized.`)}function hf(t){return pP(t)}function ec(t){let e;try{e=Il(t)}catch{e=void 0}if(t!==e)throw new Ye("UrlSchemaNotNormalized",`Schema URI ${t} must be normalized.`)}function Il(t){return pP(t)}function pP(t){let e;/^[^:]+:(\/{2})?[^\/].*/.test(t)?e=t:e=`http://${t}`;try{let r=new URL(e);return r.search="",r.hash="",LY(r.href)}catch{throw new Ye("UrlProtocolNotNormalizable","Could not normalize protocol URI")}}function LY(t){return t.endsWith("/")?t.slice(0,-1):t}var J3=(n=>(n.CreatedAscending="createdAscending",n.CreatedDescending="createdDescending",n.PublishedAscending="publishedAscending",n.PublishedDescending="publishedDescending",n))(J3||{}),Mo=class extends Oe{static async parse(e){return e.authorization!==void 0&&await Nr(e),e.descriptor.filter.protocol!==void 0&&ou(e.descriptor.filter.protocol),e.descriptor.filter.schema!==void 0&&ec(e.descriptor.filter.schema),new Mo(e)}static async create(e){let r={interface:"Records",method:"Query",messageTimestamp:e.messageTimestamp??xr(),filter:Mo.normalizeFilter(e.filter),dateSort:e.dateSort};pn(r);let i=e.authorizationSignatureInput,n=i?await Oe.signAsAuthorization(r,i):void 0,s={descriptor:r,authorization:n};return Oe.validateJsonSchema(s),new Mo(s)}static convertFilter(e){let r={...e},{dateCreated:i}=r,n;return i!==void 0&&(i.to!==void 0&&i.from!==void 0?n={gte:i.from,lt:i.to}:i.to!==void 0?n={lt:i.to}:i.from!==void 0&&(n={gte:i.from})),n&&(r.dateCreated=n),r}static normalizeFilter(e){let r;e.protocol===void 0?r=void 0:r=hf(e.protocol);let i;return e.schema===void 0?i=void 0:i=Il(e.schema),{...e,protocol:r,schema:i}}};E();var bC=Lr(fx(),1),Ma=class{static async toBytes(e){return new Promise((r,i)=>{let n=[];e.on("data",s=>{n.push(s)}),e.on("end",()=>{let s=Ma.concatenateArrayOfBytes(n);r(s)}),e.on("error",i)})}static concatenateArrayOfBytes(e){let r=e.reduce((s,f)=>s+f.length,0),i=new Uint8Array(r),n=0;for(let s of e)i.set(s,n),n+=s.length;return i}static fromBytes(e){let i=0;return new bC.Readable({read(s){i+1e5>e.length?(this.push(e.subarray(i)),this.push(null)):(this.push(e.subarray(i,i+1e5)),i=i+1e5)}})}static fromObject(e){let r=at.objectToBytes(e);return Ma.fromBytes(r)}};E();var tm=(n=>(n.DataFormats="dataFormats",n.ProtocolContext="protocolContext",n.ProtocolPath="protocolPath",n.Schemas="schemas",n))(tm||{}),cu=class{static async derivePrivateKey(e,r){let i=Tt.privateJwkToBytes(e.derivedPrivateKey),n=e.derivationPath??[],s=await Tt.derivePrivateKey(i,r),f=await Tt.privateKeyToJwk(s);return{rootKeyId:e.rootKeyId,derivationScheme:e.derivationScheme,derivationPath:[...n,...r],derivedPrivateKey:f}}static async derivePublicKey(e,r){let i=await cu.derivePrivateKey(e,r);return await Tt.getPublicJwk(i.derivedPrivateKey)}};E();var dx=Lr(PC(),1);E();var Mc=class{static getMethodSpecificId(e){let r=e.indexOf(":",4);return e.substring(r+1)}static validate(e){if(typeof e!="string")throw new Error(`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new TypeError(`DID is not a valid DID: ${e}`)}static getMethodName(e){let r=e.indexOf(":",4);return e.substring(4,r)}};var pu=class{method(){return"key"}static getMulticodecSize(e){let r=0;for(;;){let i=e[r];if(r++,(i&128)!==128)break}return r}async resolve(e){let[r,i,n]=e.split(":",3);try{let s=lo.decode(n),f=dx.default.decode(s),c=pu.getMulticodecSize(s),m=s.slice(c),w=[],_;if(f===237)w.push("https://w3id.org/security/suites/ed25519-2020/v1"),_=await xp.publicKeyToJwk(m);else if(f===231)_=await Tt.publicKeyToJwk(m);else throw Error(`key type of multicodec ${f} is not supported`);let M=`${e}#${n}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...w],id:e,verificationMethod:[{id:M,type:"JsonWebKey2020",controller:e,publicKeyJwk:_}],authentication:[M],assertionMethod:[M],capabilityDelegation:[M],capabilityInvocation:[M]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}}static async generate(){let{publicJwk:e,privateJwk:r}=await xp.generateKeyPair(),i=dx.default.encode(237),n=at.base64UrlToBytes(e.x),s=new Uint8Array(i.length+n.byteLength);s.set(i,0),s.set(n,i.length);let c=`did:key:${lo.encode(s)}`,m=pu.getKeyId(c);return{did:c,keyId:m,keyPair:{publicJwk:e,privateJwk:r}}}static getKeyId(e){let r=Mc.getMethodSpecificId(e);return`${e}#${r}`}async dump(){}};E();var BC=Lr(IC(),1),Ooe=globalThis.fetch??BC.default,rm=class{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}async resolve(e){let r=new URL("./"+e,this.resolutionEndpoint).toString(),i=await Ooe(r);if(i.status!==200)throw new Error(`unable to resolve ${e}, got http status ${i.status}`);return await i.json()}async dump(){}};E();var im=class{constructor(e,r){this.cache=r||new Xh(600),(e===void 0||e.length===0)&&(e=[new rm,new pu]),this.didResolvers=new Map;for(let i of e)this.didResolvers.set(i.method(),i)}async resolve(e){Mc.validate(e);let i=e.split(":",3)[1],n=this.didResolvers.get(i);if(!n)throw new Error(`${i} DID method not supported`);let s=await this.cache.get(e),f=s??await n.resolve(e);s===void 0&&await this.cache.set(e,f);let{didDocument:c,didResolutionMetadata:m}=f;if(!c||m?.error){let{error:w}=m,_=`Failed to resolve DID ${e}.`;throw _+=w?` Error: ${w}`:"",new Error(_)}return f}async dump(){console.group("didResolvers");for(let[e,r]of this.didResolvers)console.group(e),await r.dump?.(),console.groupEnd();console.groupEnd(),console.group("didCache"),await this.cache.dump?.(),console.groupEnd()}};E();E();E();var yu=class extends Oe{static async parse(e){return Oe.validateJsonSchema(e),await Nr(e),new yu(e)}static async create(e){let r={interface:"Events",method:"Get",messageTimestamp:e.messageTimestamp??xr()};e.watermark&&(r.watermark=e.watermark);let i=await Oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return Oe.validateJsonSchema(n),new yu(n)}};E();function wt(t,e){let r=t instanceof Error?t.message:"Error";return{status:{code:e,detail:r}}}var n1=class{constructor(e,r){this.didResolver=e;this.eventLog=r}async handle({tenant:e,message:r}){let i;try{i=await yu.parse(r)}catch(f){return wt(f,400)}try{await Kr(r.authorization,this.didResolver),await ca(e,i)}catch(f){return wt(f,401)}let n;r.descriptor.watermark&&(n={gt:r.descriptor.watermark});let s=await this.eventLog.getEvents(e,n);return{status:{code:200,detail:"OK"},events:s}}};E();E();var gu=class{};gu.maxDataSizeAllowedToBeEncoded=1e4;E();var bf=class extends Oe{static async parse(e){return Oe.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),await Nr(e),new bf(e)}static async create(e){let r={interface:"Messages",method:"Get",messageCids:e.messageCids,messageTimestamp:e?.messageTimestamp??xr()},i=await Oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return Oe.validateJsonSchema(n),bf.validateMessageCids(e.messageCids),new bf(n)}static validateMessageCids(e){for(let r of e)try{Hr.parseCid(r)}catch{throw new Error(`${r} is not a valid CID`)}}};var nm=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await bf.parse(r)}catch(c){return wt(c,400)}try{await Kr(r.authorization,this.didResolver),await ca(e,i)}catch(c){return wt(c,401)}let n=[],s=new Set(r.descriptor.messageCids);for(let c of s){let m=this.messageStore.get(e,c).then(w=>({messageCid:c,message:w})).catch(w=>({messageCid:c,message:void 0,error:`Failed to get message ${c}`}));n.push(m)}let f=await Promise.all(n);for(let c of f){let{message:m}=c;if(!m)continue;let{interface:w,method:_}=m.descriptor;if(w!=="Records"||_!=="Write")continue;let M=m,x=M.descriptor.dataCid,T=M.descriptor.dataSize;if(x!==void 0&&T<=gu.maxDataSizeAllowedToBeEncoded){let A=await Oe.getCid(m),I=await this.dataStore.get(e,A,x);if(I){let D=await Ma.toBytes(I.dataStream);c.encodedData=at.bytesToBase64Url(D)}}}return{status:{code:200,detail:"OK"},messages:f}}};E();E();var wf=class extends Oe{static async parse(e){return await Nr(e),new wf(e)}static async create(e){let r={interface:"Permissions",method:"Grant",messageTimestamp:e.messageTimestamp??xr(),dateExpires:e.dateExpires,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,permissionsRequestId:e.permissionsRequestId,scope:e.scope,conditions:e.conditions};pn(r);let i=await Oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return Oe.validateJsonSchema(n),new wf(n)}static async createFromPermissionsRequest(e,r,i){let n=e.message.descriptor;return wf.create({dateExpires:i.dateExpires,description:i.description??n.description,grantedBy:i.grantedBy??n.grantedBy,grantedTo:i.grantedTo??n.grantedTo,grantedFor:i.grantedFor??n.grantedFor,permissionsRequestId:await Oe.getCid(e.message),scope:i.scope??n.scope,conditions:i.conditions??n.conditions,authorizationSignatureInput:r})}authorize(){let{grantedBy:e,grantedFor:r}=this.message.descriptor;if(this.author!==e)throw new Ye("PermissionsGrantGrantedByMismatch","Message author must match grantedBy property");if(e!==r)throw new Ye("PermissionsGrantUnauthorizedGrant",`${e} is not authorized to give access to the DWN belonging to ${r}`)}};var o1=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await wf.parse(r)}catch(_){return wt(_,400)}try{await Kr(r.authorization,this.didResolver),await i.authorize()}catch(_){return wt(_,401)}let{scope:n,conditions:s,...f}=r.descriptor,c={author:i.author,...f},m=await Oe.getCid(r);return await this.messageStore.get(e,m)===void 0&&(await this.messageStore.put(e,r,c),await this.eventLog.append(e,m)),{status:{code:202,detail:"Accepted"}}}};E();E();var vu=class extends Oe{static async parse(e){return await Nr(e),new vu(e)}static async create(e){let r={interface:"Permissions",method:"Request",messageTimestamp:e.messageTimestamp??xr(),description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,scope:e.scope,conditions:e.conditions};pn(r);let i=await Oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return Oe.validateJsonSchema(n),new vu(n)}};var s1=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await vu.parse(r)}catch(_){return wt(_,400)}try{await Kr(r.authorization,this.didResolver)}catch(_){return wt(_,401)}let{scope:n,conditions:s,...f}=r.descriptor,c={...f,author:i.author},m=await Oe.getCid(r);return await this.messageStore.get(e,m)===void 0&&(await this.messageStore.put(e,r,c),await this.eventLog.append(e,m)),{status:{code:202,detail:"Accepted"}}}};E();E();var bu=class extends Oe{static async parse(e){return await Nr(e),new bu(e)}static async create(e){let r={interface:"Permissions",method:"Revoke",messageTimestamp:e.messageTimestamp??xr(),permissionsGrantId:e.permissionsGrantId},i=await Oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return Oe.validateJsonSchema(n),new bu(n)}async authorize(e){if(this.author!==e.descriptor.grantedFor)throw new Ye("PermissionsRevokeUnauthorizedRevoke","Only the DWN owner may revoke a grant")}};var a1=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await bu.parse(r)}catch(A){return wt(A,400)}try{await Kr(r.authorization,this.didResolver)}catch(A){return wt(A,401)}let n=r.descriptor.permissionsGrantId,s=await this.messageStore.get(e,n);if(s===void 0)return{status:{code:400,detail:`Could not find PermissionsGrant with CID ${n}`}};try{await i.authorize(s)}catch(A){return wt(A,401)}if(r.descriptor.messageTimestamp<s.descriptor.messageTimestamp)return{status:{code:400,detail:"PermissionsRevoke has earlier date than associated PermissionsGrant"}};let f={interface:"Permissions",method:"Revoke",permissionsGrantId:n},c=await this.messageStore.query(e,f),m=await Oe.getOldestMessage(c);if(m!==void 0&&!await Oe.isOlder(r,m))return{status:{code:409,detail:"Conflict"}};let w={interface:"Permissions",method:"Revoke",permissionsGrantId:r.descriptor.permissionsGrantId};await this.messageStore.put(e,r,w),await this.eventLog.append(e,await Oe.getCid(r));let _=[];for(let A of c){let I=await Oe.getCid(A);await this.messageStore.delete(e,I),_.push(I)}await this.eventLog.deleteEventsByCid(e,_);let M={permissionsGrantId:n,dateCreated:{gte:r.descriptor.messageTimestamp}},x=await this.messageStore.query(e,M),T=[];for(let A of x){let I=await Oe.getCid(A);await this.messageStore.delete(e,I)}return this.eventLog.deleteEventsByCid(e,T),{status:{code:202,detail:"Accepted"}}}};E();E();var xa=class extends Oe{static async parse(r){return await Nr(r),xa.validateDefinitionNormalized(r.descriptor.definition),new xa(r)}static async create(r){let i={interface:"Protocols",method:"Configure",messageTimestamp:r.messageTimestamp??xr(),definition:xa.normalizeDefinition(r.definition)},n=await Oe.signAsAuthorization(i,r.authorizationSignatureInput,r.permissionsGrantId),s={descriptor:i,authorization:n};return Oe.validateJsonSchema(s),new xa(s)}static validateDefinitionNormalized(r){let{protocol:i,types:n}=r;ou(i);for(let s in n){let f=n[s].schema;f!==void 0&&ec(f)}}static normalizeDefinition(r){let i={...r.types};for(let n in i){let s=i[n].schema;s!==void 0&&(i[n].schema=Il(s))}return{...r,protocol:hf(r.protocol),types:i}}};var Sc=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,dataStream:i}){let n;try{n=await xa.parse(r)}catch(M){return wt(M,400)}try{await Kr(r.authorization,this.didResolver),await ca(e,n)}catch(M){return wt(M,401)}let s={interface:"Protocols",method:"Configure",protocol:r.descriptor.definition.protocol},f=await this.messageStore.query(e,s),c=await Oe.getNewestMessage(f),m=!1;(c===void 0||await Oe.isNewer(r,c))&&(m=!0,c=r);let w;if(m){let M=Sc.constructProtocolsConfigureIndexes(n),x=await Oe.getCid(r);await this.messageStore.put(e,r,M),await this.eventLog.append(e,x),w={status:{code:202,detail:"Accepted"}}}else w={status:{code:409,detail:"Conflict"}};let _=[];for(let M of f)if(await Oe.isNewer(c,M)){let x=await Oe.getCid(M);_.push(x),await this.messageStore.delete(e,x)}return await this.eventLog.deleteEventsByCid(e,_),w}static constructProtocolsConfigureIndexes(e){let{definition:r,...i}=e.message.descriptor,{author:n}=e;return{...i,author:n,protocol:r.protocol,published:r.published}}};E();E();E();var wu=class{static async authorizeGenericMessage(e,r,i,n){let s=r.authorizationPayload.permissionsGrantId,f=await wu.fetchGrant(e,i,n,s);await wu.verifyGrantActive(e,r.message,f,s,n),await wu.verifyGrantScopeInterfaceAndMethod(r.message,f,s)}static async fetchGrant(e,r,i,n){let s=await i.get(e,n),f=s?.descriptor.interface,c=s?.descriptor.method;if(s===void 0||f!=="Permissions"||c!=="Grant")throw new Ye("GrantAuthorizationGrantMissing",`Could not find PermissionsGrant with CID ${n}`);let m=s;if(m.descriptor.grantedTo!==r)throw new Ye("GrantAuthorizationNotGrantedToAuthor",`PermissionsGrant with CID ${n} is not granted to ${r}`);if(m.descriptor.grantedFor!==e)throw new Ye("GrantAuthorizationNotGrantedForTenant",`PermissionsGrant with CID ${n} is not granted for DWN belonging to ${e}`);return m}static async verifyGrantActive(e,r,i,n,s){if(r.descriptor.messageTimestamp<i.descriptor.messageTimestamp)throw new Ye("GrantAuthorizationGrantNotYetActive","The message has a timestamp before the associated PermissionsGrant becomes active");if(r.descriptor.messageTimestamp>=i.descriptor.dateExpires)throw new Ye("GrantAuthorizationGrantExpired","The message has timestamp after the expiry of the associated PermissionsGrant");let f={interface:"Permissions",method:"Revoke",permissionsGrantId:n},c=await s.query(e,f),m=await Oe.getOldestMessage(c);if(m!==void 0&&m.descriptor.messageTimestamp<=r.descriptor.messageTimestamp)throw new Ye("GrantAuthorizationGrantRevoked",`PermissionsGrant with CID ${n} has been revoked`)}static async verifyGrantScopeInterfaceAndMethod(e,r,i){if(e.descriptor.interface!==r.descriptor.scope.interface)throw new Ye("GrantAuthorizationInterfaceMismatch",`DWN Interface of incoming message is outside the scope of PermissionsGrant with CID ${i}`);if(e.descriptor.method!==r.descriptor.scope.method)throw new Ye("GrantAuthorizationMethodMismatch",`DWN Method of incoming message is outside the scope of PermissionsGrant with CID ${i}`)}};var _f=class extends Oe{static async parse(e){return e.authorization!==void 0&&await Nr(e),e.descriptor.filter!==void 0&&ou(e.descriptor.filter.protocol),new _f(e)}static async create(e){let r={interface:"Protocols",method:"Query",messageTimestamp:e.messageTimestamp??xr(),filter:_f.normalizeFilter(e.filter)};pn(r);let i;e.authorizationSignatureInput!==void 0&&(i=await Oe.signAsAuthorization(r,e.authorizationSignatureInput,e.permissionsGrantId));let n={descriptor:r,authorization:i};return Oe.validateJsonSchema(n),new _f(n)}static normalizeFilter(e){if(e!==void 0)return{...e,protocol:hf(e.protocol)}}async authorize(e,r){if(this.author!==e)if(this.authorizationPayload?.permissionsGrantId)await wu.authorizeGenericMessage(e,this,this.author,r);else throw new Ye("ProtocolsQueryUnauthorized","The ProtocolsQuery failed authorization")}};var f1=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await _f.parse(r)}catch(f){return wt(f,400)}if(i.author===void 0){let f=await this.fetchPublishedProtocolsConfigure(e,i);return{status:{code:200,detail:"OK"},entries:f}}try{await Kr(r.authorization,this.didResolver),await i.authorize(e,this.messageStore)}catch(f){return wt(f,401)}let n={...r.descriptor.filter,interface:"Protocols",method:"Configure"};pn(n);let s=await this.messageStore.query(e,n);return{status:{code:200,detail:"OK"},entries:s}}async fetchPublishedProtocolsConfigure(e,r){let i={...r.message.descriptor.filter,interface:"Protocols",method:"Configure",published:!0};return await this.messageStore.query(e,i)}};E();E();var _u=class extends Oe{static async parse(e){return await Nr(e),new _u(e)}static async create(e){let r=e.recordId,i=xr(),n={interface:"Records",method:"Delete",recordId:r,messageTimestamp:e.messageTimestamp??i},s=await Oe.signAsAuthorization(n,e.authorizationSignatureInput),f={descriptor:n,authorization:s};return Oe.validateJsonSchema(f),new _u(f)}async authorize(e){await ca(e,this)}};E();E();E();E();var Mw=Lr(eb(),1),xw=Lr(h$(),1),D5=Lr(fx(),1),Ku=class{static async aes256CtrEncrypt(e,r,i){let n=Mw.createCipheriv("aes-256-ctr",e,r),s=new D5.Readable({read(){}});return i.on("data",f=>{let c=n.update(f);s.push(c)}),i.on("end",()=>{let f=n.final();s.push(f),s.push(null)}),i.on("error",f=>{s.emit("error",f)}),s}static async aes256CtrDecrypt(e,r,i){let n=Mw.createDecipheriv("aes-256-ctr",e,r),s=new D5.Readable({read(){}});return i.on("data",f=>{let c=n.update(f);s.push(c)}),i.on("end",()=>{let f=n.final();s.push(f),s.push(null)}),i.on("error",f=>{s.emit("error",f)}),s}static async eciesSecp256k1Encrypt(e,r){let i=L.Buffer.from(e),n=L.Buffer.from(r),s=xw.encrypt(i,n),f=s.subarray(0,65),c=s.subarray(65,81),m=s.subarray(81,97);return{ciphertext:s.subarray(97),ephemeralPublicKey:f,initializationVector:c,messageAuthenticationCode:m}}static async eciesSecp256k1Decrypt(e){let r=L.Buffer.from(e.privateKey),i=L.Buffer.concat([e.ephemeralPublicKey,e.initializationVector,e.messageAuthenticationCode,e.ciphertext]);return xw.decrypt(r,i)}},C5=(r=>(r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r))(C5||{});E();E();var kye={["Write"]:"write",["Read"]:"read"},ai=class{static async authorize(e,r,i,n){let s=await ai.constructAncestorMessageChain(e,r,n),f=await ai.fetchProtocolDefinition(e,r,s,n);ai.verifyType(r.message,f.types),ai.verifyProtocolPath(r,s);let c=ai.getRuleSet(r.message,f,s);ai.verifyAllowedActions(e,i,r.message.descriptor.method,c,s),await ai.verifyActionCondition(e,r,n)}static async fetchProtocolDefinition(e,r,i,n){let s;r.message.descriptor.method==="Write"?s=r.message.descriptor.protocol:s=i[i.length-1].descriptor.protocol;let f={interface:"Protocols",method:"Configure",protocol:s},c=await n.query(e,f);if(c.length===0)throw new Error(`unable to find protocol definition for ${s}`);return c[0].descriptor.definition}static async constructAncestorMessageChain(e,r,i){let n=[],s;if(r.message.descriptor.method==="Write")s=r;else{let w=r,_={interface:"Records",method:"Write",recordId:w.message.descriptor.recordId},M=await i.query(e,_),x=await Oe.getNewestMessage(M);s=await Kt.parse(x),n.push(s.message)}let f=s.message.descriptor.protocol,c=s.message.contextId,m=s.message.descriptor.parentId;for(;m!==void 0;){let w={interface:"Records",method:"Write",protocol:f,contextId:c,recordId:m},_=await i.query(e,w);if(_.length===0)throw new Error(`no parent found with ID ${m}`);let M=_[0];n.push(M),m=M.descriptor.parentId}return n.reverse()}static getRuleSet(e,r,i){let n;e.descriptor.method==="Write"?n=e.descriptor.protocolPath:n=i[i.length-1].descriptor.protocolPath;let s=n.split("/"),f=r.structure,c=0;for(;c<s.length;){let m=s[c],w=f[m];if(w===void 0){let _=s.slice(0,c+1).join("/");throw new Ye("ProtocolAuthorizationMissingRuleSet",`No rule set defined for protocolPath ${_}`)}f=w,c++}return f}static verifyProtocolPath(e,r){if(e.message.descriptor.method!=="Write")return;let i=e.message.descriptor.protocolPath,n=ai.getTypeName(i),s="";for(let c of r){let m=c.descriptor.protocolPath,w=ai.getTypeName(m);s+=`${w}/`}let f=s+n;if(i!==f)throw new Ye("ProtocolAuthorizationIncorrectProtocolPath",`Declared protocol path '${i}' is not the same as actual protocol path '${f}'.`)}static verifyType(e,r){if(e.descriptor.method!=="Write")return;let i=e,n=Object.keys(r),s=i.descriptor.protocolPath,f=ai.getTypeName(s);if(!n.includes(f))throw new Ye("ProtocolAuthorizationInvalidType",`record with type ${f} not allowed in protocol`);let c=i.descriptor.protocolPath,m=ai.getTypeName(c),w=r[m],{schema:_}=i.descriptor;if(w.schema!==void 0&&w.schema!==_)throw new Ye("ProtocolAuthorizationInvalidSchema",`type '${m}' must have schema '${w.schema}',         instead has '${_}'`);let{dataFormat:M}=i.descriptor;if(w.dataFormats!==void 0&&!w.dataFormats.includes(M))throw new Ye("ProtocolAuthorizationIncorrectDataFormat",`type '${m}' must have data format in (${w.dataFormats}),         instead has '${M}'`)}static verifyAllowedActions(e,r,i,n,s){let f=kye[i],c=n.$actions;if(c===void 0){if(r===e)return;throw new Error(`no action rule defined for ${i}, ${r} is unauthorized`)}for(let m of c)if(m.can===f)switch(m.who){case"anyone":return;case"author":let w=ai.getMessage(s,m.of);if(w!==void 0){let M=Oe.getAuthor(w);if(r===M)return}break;case"recipient":let _=ai.getMessage(s,m.of);if(_!==void 0){let M=_.descriptor.recipient;if(r===M)return}break}throw new Ye("ProtocolAuthorizationActionNotAllowed",`inbound message action ${f} not allowed for author`)}static async verifyActionCondition(e,r,i){if(r.message.descriptor.method!=="Read"){if(r.message.descriptor.method==="Write"){let n=r;if(!await n.isInitialWrite()){let f={entryId:n.message.recordId},m=(await i.query(e,f))[0],w=Oe.getAuthor(m);if(n.author!==w)throw new Error(`author of incoming message '${n.author}' must match to author of initial write '${w}'`)}}}}static getMessage(e,r){let i=r.split("/");if(i.length>e.length)return;let n=0;for(;;){let s=i[n],f=e[n],c=ai.getTypeName(f.descriptor.protocolPath);if(c!==s)throw new Error(`mismatching record schema: expecting ${s} but actual ${c}`);if(n+1===i.length)return f;n++}}static getTypeName(e){return e.split("/").slice(-1)[0]}};var Kt=class{get message(){if(this._message.authorization===void 0)throw new Ye("RecordsWriteMissingAuthorizationSignatureInput","This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get authorizationPayload(){return this._authorizationPayload}constructor(e){this._message=e,e.authorization!==void 0&&(this._authorizationPayload=Fr.decodePlainObjectPayload(e.authorization),this._author=Oe.getAuthor(e)),this.attesters=Kt.getAttesters(e)}static async parse(e){await Nr(e,"RecordsWriteAuthorizationPayload"),await Kt.validateAttestationIntegrity(e);let r=new Kt(e);return await r.validateIntegrity(),r}static async create(e){if(e.protocol===void 0&&e.protocolPath!==void 0||e.protocol!==void 0&&e.protocolPath===void 0)throw new Error("`protocol` and `protocolPath` must both be defined or undefined at the same time");if(e.data===void 0&&e.dataCid===void 0||e.data!==void 0&&e.dataCid!==void 0)throw new Error("one and only one parameter between `data` and `dataCid` is allowed");if(e.dataCid===void 0&&e.dataSize!==void 0||e.dataCid!==void 0&&e.dataSize===void 0)throw new Error("`dataCid` and `dataSize` must both be defined or undefined at the same time");if(e.parentId!==void 0&&e.contextId===void 0)throw new Error("`contextId` must also be given when `parentId` is specified");let r=e.dataCid??await Hr.computeDagPbCidFromBytes(e.data),i=e.dataSize??e.data.length,n=xr(),s={interface:"Records",method:"Write",protocol:e.protocol!==void 0?hf(e.protocol):void 0,protocolPath:e.protocolPath,recipient:e.recipient,schema:e.schema!==void 0?Il(e.schema):void 0,parentId:e.parentId,dataCid:r,dataSize:i,dateCreated:e.dateCreated??n,messageTimestamp:e.messageTimestamp??n,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};e.published===!0&&e.datePublished===void 0&&(s.datePublished=n),pn(s);let f=e.recordId,c=e.contextId,m=await Hr.computeCid(s),w=await Kt.createAttestation(m,e.attestationSignatureInputs),_=await Kt.createEncryptionProperty(s,e.encryptionInput),M={recordId:f,descriptor:s};c!==void 0&&(M.contextId=c),w!==void 0&&(M.attestation=w),_!==void 0&&(M.encryption=_);let x=new Kt(M);return e.authorizationSignatureInput!==void 0&&await x.sign(e.authorizationSignatureInput),x}static async createFrom(e){let r=e.unsignedRecordsWriteMessage,i=xr(),n=e.published??(e.datePublished?!0:r.descriptor.published),s;e.datePublished?s=e.datePublished:n&&(r.descriptor.published?s=r.descriptor.datePublished:s=i);let f={recipient:r.descriptor.recipient,recordId:r.recordId,dateCreated:r.descriptor.dateCreated,contextId:r.contextId,protocol:r.descriptor.protocol,protocolPath:r.descriptor.protocolPath,parentId:r.descriptor.parentId,schema:r.descriptor.schema,dataFormat:r.descriptor.dataFormat,messageTimestamp:e.messageTimestamp??i,published:n,datePublished:s,data:e.data,dataCid:e.data?void 0:r.descriptor.dataCid,dataSize:e.data?void 0:r.descriptor.dataSize,authorizationSignatureInput:e.authorizationSignatureInput,attestationSignatureInputs:e.attestationSignatureInputs};return await Kt.create(f)}toJSON(){return this.message}async encryptSymmetricEncryptionKey(e){this._message.encryption=await Kt.createEncryptionProperty(this._message.descriptor,e),delete this._message.authorization,this._authorizationPayload=void 0,this._author=void 0}async sign(e){let r=Fr.extractDid(e.protectedHeader.kid),i=this._message.descriptor,n=await Hr.computeCid(i);this._message.recordId=this._message.recordId??await Kt.getEntryId(r,i),this._message.contextId===void 0&&this._message.descriptor.protocol!==void 0&&(this._message.contextId=await Kt.getEntryId(r,i));let s=await Kt.createAuthorization(this._message.recordId,this._message.contextId,n,this._message.attestation,this._message.encryption,e);this._message.authorization=s,this._authorizationPayload=Fr.decodePlainObjectPayload(s),this._author=r}async authorize(e,r){this.message.descriptor.protocol!==void 0?await ai.authorize(e,this,this.author,r):await ca(e,this)}async validateIntegrity(){let e=this.authorizationPayload;if(this.message.recordId!==e.recordId)throw new Error(`recordId in message ${this.message.recordId} does not match recordId in authorization: ${e.recordId}`);if(await this.isInitialWrite()){let i=this.message.descriptor.dateCreated,n=this.message.descriptor.messageTimestamp;if(n!==i)throw new Error(`messageTimestamp ${n} must match dateCreated ${i} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){let s=await this.getEntryId();if(this.message.contextId!==s)throw new Error(`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${s}`)}}if(this.message.contextId!==e.contextId)throw new Error(`contextId in message ${this.message.contextId} does not match contextId in authorization: ${e.contextId}`);if(e.attestationCid!==void 0){let i=await Hr.computeCid(this.message.attestation),n=e.attestationCid;if(n!==i)throw new Error(`CID ${i} of attestation property in message does not match attestationCid in authorization: ${n}`)}if(e.encryptionCid!==void 0){let i=await Hr.computeCid(this.message.encryption),n=e.encryptionCid;if(n!==i)throw new Ye("RecordsWriteValidateIntegrityEncryptionCidMismatch",`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${n}`)}this.message.descriptor.protocol!==void 0&&ou(this.message.descriptor.protocol),this.message.descriptor.schema!==void 0&&ec(this.message.descriptor.schema)}static async validateAttestationIntegrity(e){if(e.attestation===void 0)return;if(e.attestation.signatures.length!==1)throw new Error(`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);let r=Fr.decodePlainObjectPayload(e.attestation),{descriptorCid:i}=r,n=await Hr.computeCid(e.descriptor);if(i!==n)throw new Error(`descriptorCid ${i} does not match expected descriptorCid ${n}`);let s=Object.keys(r).length;if(s>1)throw new Error(`Only 'descriptorCid' is allowed in attestation payload, but got ${s} properties.`)}async getEntryId(){return await Kt.getEntryId(this.author,this.message.descriptor)}static async getEntryId(e,r){if(e===void 0)throw new Ye("RecordsWriteGetEntryIdUndefinedAuthor","Property `author` is needed to compute entry ID.");let i={...r};return i.author=e,await Hr.computeCid(i)}async isInitialWrite(){return await this.getEntryId()===this.message.recordId}static async isInitialWrite(e){if(e.descriptor.interface!=="Records"||e.descriptor.method!=="Write")return!1;let r=e,i=Oe.getAuthor(e);return await Kt.getEntryId(i,r.descriptor)===r.recordId}static async createEncryptionProperty(e,r){if(r===void 0)return;let i=[];for(let s of r.keyEncryptionInputs){if(s.derivationScheme==="protocolPath"&&e.protocol===void 0)throw new Ye("RecordsWriteMissingProtocol","`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(s.derivationScheme==="schemas"&&e.schema===void 0)throw new Ye("RecordsWriteMissingSchema","`schemas` encryption scheme cannot be applied to record without the `schema` property.");let f=Tt.publicJwkToBytes(s.publicKey),c=await Ku.eciesSecp256k1Encrypt(f,r.key),m=at.bytesToBase64Url(c.ciphertext),w=await Tt.publicKeyToJwk(c.ephemeralPublicKey),_=at.bytesToBase64Url(c.initializationVector),M=at.bytesToBase64Url(c.messageAuthenticationCode),x={rootKeyId:s.publicKeyId,algorithm:s.algorithm??"ECIES-ES256K",derivationScheme:s.derivationScheme,ephemeralPublicKey:w,initializationVector:_,messageAuthenticationCode:M,encryptedKey:m};s.derivationScheme==="protocolContext"&&(x.derivedPublicKey=s.publicKey),i.push(x)}return{algorithm:r.algorithm??"A256CTR",initializationVector:at.bytesToBase64Url(r.initializationVector),keyEncryption:i}}static async createAttestation(e,r){if(r===void 0||r.length===0)return;let i={descriptorCid:e},n=at.objectToBytes(i);return(await lf.create(n,r)).getJws()}static async createAuthorization(e,r,i,n,s,f){let c={recordId:e,descriptorCid:i},m=n?await Hr.computeCid(n):void 0,w=s?await Hr.computeCid(s):void 0;r!==void 0&&(c.contextId=r),m!==void 0&&(c.attestationCid=m),w!==void 0&&(c.encryptionCid=w);let _=at.objectToBytes(c);return(await lf.create(_,[f])).getJws()}static async getInitialWrite(e){for(let r of e)if(await Kt.isInitialWrite(r))return r;throw new Error("initial write is not found")}static verifyEqualityOfImmutableProperties(e,r){let i=["dataCid","dataSize","datePublished","published","messageTimestamp"],n=[];n.push(...Object.keys(e.descriptor)),n.push(...Object.keys(r.descriptor)),n=[...new Set(n)];for(let s of n)if(i.indexOf(s)===-1){let f=e.descriptor[s],c=r.descriptor[s];if(c!==f)throw new Error(`${s} is an immutable property: cannot change '${f}' to '${c}'`)}return!0}static getAttesters(e){return(e.attestation?.signatures??[]).map(n=>Fr.getSignerDid(n))}};var ry=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,options:i,dataStream:n}){let s;try{s=await Kt.parse(r)}catch(I){return wt(I,400)}try{await Kr(r.authorization,this.didResolver),await s.authorize(e,this.messageStore)}catch(I){return wt(I,401)}let f={interface:"Records",recordId:r.recordId},c=await this.messageStore.query(e,f);if(!await s.isInitialWrite())try{let I=await Kt.getInitialWrite(c);Kt.verifyEqualityOfImmutableProperties(I,r)}catch(I){return wt(I,400)}let w=await Oe.getNewestMessage(c),_=!1,M;if(w===void 0||await Oe.isNewer(r,w)?(_=!0,M=r):M=w,!_)return{status:{code:409,detail:"Conflict"}};let T=await O5(s,!0);try{(i===void 0||!i.skipDataStorage)&&await this.putData(e,r,n,w)}catch(I){let D=I;if(D.code==="RecordsWriteMissingDataStream"||D.code==="RecordsWriterMissingData"||D.code==="RecordsWriteDataCidMismatch"||D.code==="RecordsWriteDataSizeMismatch")return wt(I,400);throw I}await this.messageStore.put(e,r,T),await this.eventLog.append(e,await Oe.getCid(r));let A={status:{code:202,detail:"Accepted"}};return await To.deleteAllOlderMessagesButKeepInitialWrite(e,c,M,this.messageStore,this.dataStore,this.eventLog),A}async putData(e,r,i,n){let s,f=await Oe.getCid(r);if(i===void 0){if(n?.descriptor.method==="Delete"||n?.descriptor.dataCid!==r.descriptor.dataCid)throw new Ye("RecordsWriteMissingDataStream","Data stream is not provided.");let c=await this.dataStore.associate(e,f,r.descriptor.dataCid);if(c===void 0)throw new Ye("RecordsWriterMissingData",`Unable to associate dataCid ${r.descriptor.dataCid} to messageCid ${f} because dataStream was not provided and data was not found in dataStore`);s=c}else s=await this.dataStore.put(e,f,r.descriptor.dataCid,i);if(r.descriptor.dataSize!==s.dataSize)throw await this.dataStore.delete(e,f,r.descriptor.dataCid),new Ye("RecordsWriteDataSizeMismatch",`actual data size ${s.dataSize} bytes does not match dataSize in descriptor: ${r.descriptor.dataSize}`);if(r.descriptor.dataCid!==s.dataCid)throw await this.dataStore.delete(e,f,r.descriptor.dataCid),new Ye("RecordsWriteDataCidMismatch",`actual data CID ${s.dataCid} does not match dataCid in descriptor: ${r.descriptor.dataCid}`)}};async function O5(t,e){let r=t.message,i={...r.descriptor};delete i.published;let n={...i,isLatestBaseState:e,published:!!r.descriptor.published,author:t.author,recordId:r.recordId,entryId:await Kt.getEntryId(t.author,t.message.descriptor)};return t.attesters.length>0&&(n.attester=t.attesters[0]),r.contextId!==void 0&&(n.contextId=r.contextId),n}var To=class{static async query(e,r,i,n){let s=await e.query(i,n);for(let f of s){let c=f.descriptor.dataCid,m=f.descriptor.dataSize;if(c!==void 0&&m<=gu.maxDataSizeAllowedToBeEncoded){let w=await Oe.getCid(f),_=await r.get(i,w,c);if(_){let M=await Ma.toBytes(_.dataStream);f.encodedData=at.bytesToBase64Url(M)}}}return s}static async delete(e,r,i,n){let s=await Oe.getCid(n);if(n.descriptor.method==="Write"){let f=n;await r.delete(i,s,f.descriptor.dataCid)}await e.delete(i,s)}static async deleteAllOlderMessagesButKeepInitialWrite(e,r,i,n,s,f){let c=[];for(let m of r){if(await Oe.isOlder(m,i))if(await To.delete(n,s,e,m),await Kt.isInitialWrite(m)){let M=await Kt.parse(m),T=await O5(M,!1);await n.put(e,m,T)}else{let M=await Oe.getCid(m);c.push(M)}await f.deleteEventsByCid(e,c)}}};var Sw=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r}){let i;try{i=await _u.parse(r)}catch(x){return wt(x,400)}try{await Kr(r.authorization,this.didResolver),await i.authorize(e)}catch(x){return wt(x,401)}let n={interface:"Records",recordId:r.descriptor.recordId},s=await this.messageStore.query(e,n),f=await Oe.getNewestMessage(s),c=!1,m;if(f===void 0||await Oe.isNewer(r,f)?(c=!0,m=r):m=f,!c)return{status:{code:409,detail:"Conflict"}};if(f===void 0||f.descriptor.method==="Delete")return{status:{code:404,detail:"Not Found"}};let w=await Iye(e,i);await this.messageStore.put(e,r,w);let _=await Oe.getCid(r);return await this.eventLog.append(e,_),await To.deleteAllOlderMessagesButKeepInitialWrite(e,s,m,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}}};async function Iye(t,e){let i={...e.message.descriptor};return{author:e.author,...i}}E();var Zu=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await Mo.parse(r)}catch(f){return wt(f,400)}if(i.author===void 0){let f=await this.fetchPublishedRecords(e,i);f=await c$(f,i.message.descriptor.dateSort);let c=Zu.removeAuthorization(f);return{status:{code:200,detail:"OK"},entries:c}}try{await Kr(r.authorization,this.didResolver)}catch(f){return wt(f,401)}let n;i.author===e?n=await this.fetchRecordsAsOwner(e,i):n=await this.fetchRecordsAsNonOwner(e,i),n=await c$(n,i.message.descriptor.dateSort);let s=Zu.removeAuthorization(n);return{status:{code:200,detail:"OK"},entries:s}}static removeAuthorization(e){let r=[];for(let i of e){let{authorization:n,...s}=i;r.push(s)}return r}async fetchRecordsAsOwner(e,r){let i={...Mo.convertFilter(r.message.descriptor.filter),interface:"Records",method:"Write",isLatestBaseState:!0};return await To.query(this.messageStore,this.dataStore,e,i)}async fetchRecordsAsNonOwner(e,r){let i=await this.fetchPublishedRecords(e,r),n=await this.fetchUnpublishedRecordsByAuthor(e,r),s=[],f=r.message.descriptor.filter.recipient;(f===void 0||f===r.author)&&(s=await this.fetchUnpublishedRecordsForQueryAuthor(e,r));let c=[...i,...n,...s],m=new Map;for(let w of c)m.has(w.recordId)||m.set(w.recordId,w);return Array.from(m.values())}async fetchPublishedRecords(e,r){let i={...Mo.convertFilter(r.message.descriptor.filter),interface:"Records",method:"Write",published:!0,isLatestBaseState:!0};return await To.query(this.messageStore,this.dataStore,e,i)}async fetchUnpublishedRecordsForQueryAuthor(e,r){let i={...Mo.convertFilter(r.message.descriptor.filter),interface:"Records",method:"Write",recipient:r.author,isLatestBaseState:!0,published:!1};return await To.query(this.messageStore,this.dataStore,e,i)}async fetchUnpublishedRecordsByAuthor(e,r){let i={...Mo.convertFilter(r.message.descriptor.filter),author:r.author,interface:"Records",method:"Write",isLatestBaseState:!0,published:!1};return await To.query(this.messageStore,this.dataStore,e,i)}};async function c$(t,e="createdAscending"){switch(e){case"createdAscending":return t.sort((r,i)=>Rl(r.descriptor.dateCreated,i.descriptor.dateCreated));case"createdDescending":return t.sort((r,i)=>Rl(i.descriptor.dateCreated,r.descriptor.dateCreated));case"publishedAscending":return t.filter(r=>r.descriptor.published).sort((r,i)=>Rl(r.descriptor.datePublished,i.descriptor.datePublished));case"publishedDescending":return t.filter(r=>r.descriptor.published).sort((r,i)=>Rl(i.descriptor.datePublished,r.descriptor.datePublished))}}E();E();var Vu=class extends Oe{static async parse(e){return e.authorization!==void 0&&await Nr(e),new Vu(e)}static async create(e){let{recordId:r,authorizationSignatureInput:i}=e,n=xr(),s={interface:"Records",method:"Read",recordId:r,messageTimestamp:e.date??n},f=i?await Oe.signAsAuthorization(s,i):void 0,c={descriptor:s,authorization:f};return Oe.validateJsonSchema(c),new Vu(c)}async authorize(e,r,i){let{descriptor:n}=r.message;if(this.author!==e){if(n.published===!0)return;if(this.author!==void 0&&this.author===n.recipient)return;if(n.protocol!==void 0)await ai.authorize(e,this,this.author,i);else throw new Error("message failed authorization")}}};var iy=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await Vu.parse(r)}catch(T){return wt(T,400)}try{i.author!==void 0&&await Kr(r.authorization,this.didResolver)}catch(T){return wt(T,401)}let n={interface:"Records",recordId:r.descriptor.recordId},s=await this.messageStore.query(e,n),f=await Oe.getNewestMessage(s);if(f===void 0||f.descriptor.method==="Delete")return{status:{code:404,detail:"Not Found"}};let c=f;try{await i.authorize(e,await Kt.parse(c),this.messageStore)}catch(T){return wt(T,401)}let m=await Oe.getCid(c),w=await this.dataStore.get(e,m,c.descriptor.dataCid);if(w?.dataStream===void 0)return{status:{code:404,detail:"Not Found"}};let{authorization:_,...M}=c;return{status:{code:200,detail:"OK"},record:{...M,data:w.dataStream}}}};var ny=class{constructor(e){this.didResolver=e.didResolver,this.tenantGate=e.tenantGate,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.methodHandlers={["Events"+"Get"]:new n1(this.didResolver,this.eventLog),["Messages"+"Get"]:new nm(this.didResolver,this.messageStore,this.dataStore),["Permissions"+"Grant"]:new o1(this.didResolver,this.messageStore,this.eventLog),["Permissions"+"Request"]:new s1(this.didResolver,this.messageStore,this.eventLog),["Permissions"+"Revoke"]:new a1(this.didResolver,this.messageStore,this.eventLog),["Protocols"+"Configure"]:new Sc(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Protocols"+"Query"]:new f1(this.didResolver,this.messageStore,this.dataStore),["Records"+"Delete"]:new Sw(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Records"+"Query"]:new Zu(this.didResolver,this.messageStore,this.dataStore),["Records"+"Read"]:new iy(this.didResolver,this.messageStore,this.dataStore),["Records"+"Write"]:new ry(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static async create(e){e.didResolver??=new im,e.tenantGate??=new c0;let r=new ny(e);return await r.open(),r}async open(){await this.messageStore.open(),await this.dataStore.open(),await this.eventLog.open()}async close(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()}async processMessage(e,r,i){let n=await this.validateTenant(e)??await this.validateMessageIntegrity(r);if(n!==void 0)return n;let s=r.descriptor.interface+r.descriptor.method;return await this.methodHandlers[s].handle({tenant:e,message:r,dataStream:i})}async handleRecordsQuery(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Records","Query");return i!==void 0?i:new Zu(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async handleRecordsRead(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Records","Read");return i!==void 0?i:new iy(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async handleMessagesGet(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Messages","Get");return i!==void 0?i:new nm(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async synchronizePrunedInitialRecordsWrite(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Records","Write");if(i!==void 0)return i;let n={skipDataStorage:!0};return await new ry(this.didResolver,this.messageStore,this.dataStore,this.eventLog).handle({tenant:e,message:r,options:n})}async validateTenant(e){if(!await this.tenantGate.isTenant(e))return{status:{code:401,detail:`${e} is not a tenant`}}}async validateMessageIntegrity(e,r,i){let n=e?.descriptor?.interface,s=e?.descriptor?.method;if(n===void 0||s===void 0)return{status:{code:400,detail:`Both interface and method must be present, interface: ${n}, method: ${s}`}};if(r!==void 0&&r!==n)return{status:{code:400,detail:`Expected interface ${r}, received ${n}`}};if(i!==void 0&&i!==s)return{status:{code:400,detail:`Expected method ${r}${i}, received ${n}${s}`}};try{Oe.validateJsonSchema(e)}catch(f){return wt(f,400)}}};E();function Bye(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}async function Dye(t,e){return e?Promise.race([t,Bye(e)]):t}E();var oy=class extends Oe{static async create(e){let r={interface:"Hooks",method:"Write",messageTimestamp:e.messageTimestamp??xr(),uri:e.uri,filter:e.filter};pn(r);let i=await Oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return Oe.validateJsonSchema(n),new oy(n)}};E();E();E();var q5=class{static async deriveAndInjectPublicEncryptionKeys(e,r,i){let n=JSON.parse(JSON.stringify(e));async function s(m,w){for(let _ in m)if(!_.startsWith("$")){let M=await cu.derivePrivateKey(w,[_]),x=await Tt.getPublicJwk(M.derivedPrivateKey);m[_].$encryption={rootKeyId:r,publicKeyJwk:x},await s(m[_],M)}}let f={derivationScheme:"protocolPath",derivedPrivateKey:i,rootKeyId:r},c=await cu.derivePrivateKey(f,["protocolPath",e.protocol]);return await s(n.structure,c),n}};E();var Ls=class{static async decrypt(e,r,i){let{encryption:n}=e,s=n.keyEncryption.find(I=>I.rootKeyId===r.rootKeyId&&I.derivationScheme===r.derivationScheme);if(s===void 0)throw new Ye("RecordsDecryptNoMatchingKeyEncryptedFound",`Unable to find a symmetric key encrypted using key         with ID '${r.rootKeyId}' and '${r.derivationScheme}' derivation scheme.`);let f=Ls.constructKeyDerivationPath(s.derivationScheme,e),c=await Ls.derivePrivateKey(r,f),m=at.base64UrlToBytes(s.encryptedKey),w=Tt.publicJwkToBytes(s.ephemeralPublicKey),_=at.base64UrlToBytes(s.initializationVector),M=at.base64UrlToBytes(s.messageAuthenticationCode),x=await Ku.eciesSecp256k1Decrypt({ciphertext:m,ephemeralPublicKey:w,initializationVector:_,messageAuthenticationCode:M,privateKey:c}),T=at.base64UrlToBytes(n.initializationVector);return await Ku.aes256CtrDecrypt(x,T,i)}static constructKeyDerivationPath(e,r){let i=r.descriptor,n=r.contextId,s;return e==="dataFormats"?s=Ls.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):e==="protocolPath"?s=Ls.constructKeyDerivationPathUsingProtocolPathScheme(i):e==="protocolContext"?s=Ls.constructKeyDerivationPathUsingProtocolContextScheme(n):s=Ls.constructKeyDerivationPathUsingSchemasScheme(i.schema),s}static constructKeyDerivationPathUsingDataFormatsScheme(e,r){return e!==void 0?["dataFormats",e,r]:["dataFormats",r]}static constructKeyDerivationPathUsingProtocolPathScheme(e){if(e.protocol===void 0)throw new Ye("RecordsProtocolPathDerivationSchemeMissingProtocol","Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");let r=e.protocolPath.split("/");return["protocolPath",e.protocol,...r]}static constructKeyDerivationPathUsingProtocolContextScheme(e){if(e===void 0)throw new Ye("RecordsProtocolContextDerivationSchemeMissingContextId","Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");return["protocolContext",e]}static constructKeyDerivationPathUsingSchemasScheme(e){if(e===void 0)throw new Ye("RecordsSchemasDerivationSchemeMissingSchema","Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return["schemas",e]}static async derivePrivateKey(e,r){if(e.derivedPrivateKey.crv!=="secp256k1")throw new Ye("RecordsDerivePrivateKeyUnSupportedCurve",`Curve ${e.derivedPrivateKey.crv} is not supported.`);let i=e.derivationPath??[];Ls.validateAncestorKeyAndDescentKeyDerivationPathsMatch(i,r);let n=r.slice(i.length),s=Tt.privateJwkToBytes(e.derivedPrivateKey);return await Tt.derivePrivateKey(s,n)}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,r){for(let i=0;i<e.length;i++){let n=e[i],s=r[i];if(n!==s)throw new Ye("RecordsInvalidAncestorKeyDerivationSegment",`Ancestor key derivation segment '${n}' mismatches against the descendant key derivation segment '${s}'.`)}}};E();var h0=class extends Oe{static async parse(e){return await Nr(e),new h0(e)}static async create(e){let r=await Hr.computeCid(e.definition),i={interface:"Snapshots",method:"Create",messageTimestamp:e.messageTimestamp??xr(),definitionCid:r},n=await Oe.signAsAuthorization(i,e.authorizationSignatureInput),s={descriptor:i,authorization:n};return Oe.validateJsonSchema(s),new h0(s)}};E();export{c0 as AllowAllTenantGate,Hr as Cid,Ma as DataStream,J3 as DateSort,rm as DidIonResolver,pu as DidKeyResolver,im as DidResolver,ny as Dwn,gu as DwnConstant,Ye as DwnError,_o as DwnErrorCode,Ir as DwnInterfaceName,Sr as DwnMethodName,at as Encoder,Ku as Encryption,C5 as EncryptionAlgorithm,yu as EventsGet,cu as HdKey,oy as HooksWrite,Fr as Jws,tm as KeyDerivationScheme,Oe as Message,bf as MessagesGet,wf as PermissionsGrant,vu as PermissionsRequest,bu as PermissionsRevoke,q5 as Protocols,xa as ProtocolsConfigure,_f as ProtocolsQuery,Ls as Records,_u as RecordsDelete,Mo as RecordsQuery,Vu as RecordsRead,Kt as RecordsWrite,Tt as Secp256k1,h0 as SnapshotsCreate,Dye as executeUnlessAborted};
//! NOTE: this is somewhat duplicate code that also exists in `StorageController.query`.
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
