var oQ=Object.create;var U6=Object.defineProperty;var sQ=Object.getOwnPropertyDescriptor;var aQ=Object.getOwnPropertyNames;var fQ=Object.getPrototypeOf,uQ=Object.prototype.hasOwnProperty;var cQ=(t,e)=>()=>(t&&(e=t(t=0)),e);var V=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),fn=(t,e)=>{for(var r in e)U6(t,r,{get:e[r],enumerable:!0})},lQ=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of aQ(e))!uQ.call(t,n)&&n!==r&&U6(t,n,{get:()=>e[n],enumerable:!(i=sQ(e,n))||i.enumerable});return t};var Yt=(t,e,r)=>(r=t!=null?oQ(fQ(t)):{},lQ(e||!t||!t.__esModule?U6(r,"default",{value:t,enumerable:!0}):r,t));var T9=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var P9=(t,e,r)=>(T9(t,e,"read from private field"),r?r.call(t):e.get(t)),R9=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},F6=(t,e,r,i)=>(T9(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r);var B9=V(v1=>{"use strict";M();v1.byteLength=hQ;v1.toByteArray=mQ;v1.fromByteArray=vQ;var za=[],bs=[],dQ=typeof Uint8Array<"u"?Uint8Array:Array,z6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Bl=0,k9=z6.length;Bl<k9;++Bl)za[Bl]=z6[Bl],bs[z6.charCodeAt(Bl)]=Bl;var Bl,k9;bs["-".charCodeAt(0)]=62;bs["_".charCodeAt(0)]=63;function I9(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function hQ(t){var e=I9(t),r=e[0],i=e[1];return(r+i)*3/4-i}function pQ(t,e,r){return(e+r)*3/4-r}function mQ(t){var e,r=I9(t),i=r[0],n=r[1],o=new dQ(pQ(t,i,n)),s=0,d=n>0?i-4:i,p;for(p=0;p<d;p+=4)e=bs[t.charCodeAt(p)]<<18|bs[t.charCodeAt(p+1)]<<12|bs[t.charCodeAt(p+2)]<<6|bs[t.charCodeAt(p+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return n===2&&(e=bs[t.charCodeAt(p)]<<2|bs[t.charCodeAt(p+1)]>>4,o[s++]=e&255),n===1&&(e=bs[t.charCodeAt(p)]<<10|bs[t.charCodeAt(p+1)]<<4|bs[t.charCodeAt(p+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function yQ(t){return za[t>>18&63]+za[t>>12&63]+za[t>>6&63]+za[t&63]}function gQ(t,e,r){for(var i,n=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),n.push(yQ(i));return n.join("")}function vQ(t){for(var e,r=t.length,i=r%3,n=[],o=16383,s=0,d=r-i;s<d;s+=o)n.push(gQ(t,s,s+o>d?d:s+o));return i===1?(e=t[r-1],n.push(za[e>>2]+za[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(za[e>>10]+za[e>>4&63]+za[e<<2&63]+"=")),n.join("")}});var D9=V($6=>{M();$6.read=function(t,e,r,i,n){var o,s,d=n*8-i-1,p=(1<<d)-1,v=p>>1,b=-7,x=r?n-1:0,E=r?-1:1,T=t[e+x];for(x+=E,o=T&(1<<-b)-1,T>>=-b,b+=d;b>0;o=o*256+t[e+x],x+=E,b-=8);for(s=o&(1<<-b)-1,o>>=-b,b+=i;b>0;s=s*256+t[e+x],x+=E,b-=8);if(o===0)o=1-v;else{if(o===p)return s?NaN:(T?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-v}return(T?-1:1)*s*Math.pow(2,o-i)};$6.write=function(t,e,r,i,n,o){var s,d,p,v=o*8-n-1,b=(1<<v)-1,x=b>>1,E=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:o-1,S=i?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,s=b):(s=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-s))<1&&(s--,p*=2),s+x>=1?e+=E/p:e+=E*Math.pow(2,1-x),e*p>=2&&(s++,p/=2),s+x>=b?(d=0,s=b):s+x>=1?(d=(e*p-1)*Math.pow(2,n),s=s+x):(d=e*Math.pow(2,x-1)*Math.pow(2,n),s=0));n>=8;t[r+T]=d&255,T+=S,d/=256,n-=8);for(s=s<<n|d,v+=n;v>0;t[r+T]=s&255,T+=S,s/=256,v-=8);t[r+T-S]|=P*128}});var Jt=V($h=>{"use strict";M();var G6=B9(),zh=D9(),C9=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$h.Buffer=je;$h.SlowBuffer=EQ;$h.INSPECT_MAX_BYTES=50;var b1=2147483647;$h.kMaxLength=b1;je.TYPED_ARRAY_SUPPORT=bQ();!je.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function bQ(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(je.prototype,"parent",{enumerable:!0,get:function(){if(je.isBuffer(this))return this.buffer}});Object.defineProperty(je.prototype,"offset",{enumerable:!0,get:function(){if(je.isBuffer(this))return this.byteOffset}});function Wf(t){if(t>b1)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,je.prototype),e}function je(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return V6(t)}return q9(t,e,r)}je.poolSize=8192;function q9(t,e,r){if(typeof t=="string")return _Q(t,e);if(ArrayBuffer.isView(t))return xQ(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($a(t,ArrayBuffer)||t&&$a(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($a(t,SharedArrayBuffer)||t&&$a(t.buffer,SharedArrayBuffer)))return K6(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return je.from(i,e,r);var n=MQ(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return je.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}je.from=function(t,e,r){return q9(t,e,r)};Object.setPrototypeOf(je.prototype,Uint8Array.prototype);Object.setPrototypeOf(je,Uint8Array);function N9(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function wQ(t,e,r){return N9(t),t<=0?Wf(t):e!==void 0?typeof r=="string"?Wf(t).fill(e,r):Wf(t).fill(e):Wf(t)}je.alloc=function(t,e,r){return wQ(t,e,r)};function V6(t){return N9(t),Wf(t<0?0:Z6(t)|0)}je.allocUnsafe=function(t){return V6(t)};je.allocUnsafeSlow=function(t){return V6(t)};function _Q(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!je.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=L9(t,e)|0,i=Wf(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function W6(t){for(var e=t.length<0?0:Z6(t.length)|0,r=Wf(e),i=0;i<e;i+=1)r[i]=t[i]&255;return r}function xQ(t){if($a(t,Uint8Array)){var e=new Uint8Array(t);return K6(e.buffer,e.byteOffset,e.byteLength)}return W6(t)}function K6(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,je.prototype),i}function MQ(t){if(je.isBuffer(t)){var e=Z6(t.length)|0,r=Wf(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Y6(t.length)?Wf(0):W6(t);if(t.type==="Buffer"&&Array.isArray(t.data))return W6(t.data)}function Z6(t){if(t>=b1)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b1.toString(16)+" bytes");return t|0}function EQ(t){return+t!=t&&(t=0),je.alloc(+t)}je.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==je.prototype};je.compare=function(e,r){if($a(e,Uint8Array)&&(e=je.from(e,e.offset,e.byteLength)),$a(r,Uint8Array)&&(r=je.from(r,r.offset,r.byteLength)),!je.isBuffer(e)||!je.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==r[o]){i=e[o],n=r[o];break}return i<n?-1:n<i?1:0};je.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};je.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return je.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=je.allocUnsafe(r),o=0;for(i=0;i<e.length;++i){var s=e[i];if($a(s,Uint8Array))o+s.length>n.length?je.from(s).copy(n,o):Uint8Array.prototype.set.call(n,s,o);else if(je.isBuffer(s))s.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return n};function L9(t,e){if(je.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$a(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H6(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return W9(t).length;default:if(n)return i?-1:H6(t).length;e=(""+e).toLowerCase(),n=!0}}je.byteLength=L9;function SQ(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return OQ(this,e,r);case"utf8":case"utf-8":return F9(this,e,r);case"ascii":return DQ(this,e,r);case"latin1":case"binary":return CQ(this,e,r);case"base64":return IQ(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jQ(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}je.prototype._isBuffer=!0;function Dl(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}je.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Dl(this,r,r+1);return this};je.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Dl(this,r,r+3),Dl(this,r+1,r+2);return this};je.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Dl(this,r,r+7),Dl(this,r+1,r+6),Dl(this,r+2,r+5),Dl(this,r+3,r+4);return this};je.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?F9(this,0,e):SQ.apply(this,arguments)};je.prototype.toLocaleString=je.prototype.toString;je.prototype.equals=function(e){if(!je.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:je.compare(this,e)===0};je.prototype.inspect=function(){var e="",r=$h.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};C9&&(je.prototype[C9]=je.prototype.inspect);je.prototype.compare=function(e,r,i,n,o){if($a(e,Uint8Array)&&(e=je.from(e,e.offset,e.byteLength)),!je.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),r<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=i)return 0;if(n>=o)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var s=o-n,d=i-r,p=Math.min(s,d),v=this.slice(n,o),b=e.slice(r,i),x=0;x<p;++x)if(v[x]!==b[x]){s=v[x],d=b[x];break}return s<d?-1:d<s?1:0};function U9(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Y6(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=je.from(e,i)),je.isBuffer(e))return e.length===0?-1:O9(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):O9(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function O9(t,e,r,i,n){var o=1,s=t.length,d=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,d/=2,r/=2}function p(T,S){return o===1?T[S]:T.readUInt16BE(S*o)}var v;if(n){var b=-1;for(v=r;v<s;v++)if(p(t,v)===p(e,b===-1?0:v-b)){if(b===-1&&(b=v),v-b+1===d)return b*o}else b!==-1&&(v-=v-b),b=-1}else for(r+d>s&&(r=s-d),v=r;v>=0;v--){for(var x=!0,E=0;E<d;E++)if(p(t,v+E)!==p(e,E)){x=!1;break}if(x)return v}return-1}je.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};je.prototype.indexOf=function(e,r,i){return U9(this,e,r,i,!0)};je.prototype.lastIndexOf=function(e,r,i){return U9(this,e,r,i,!1)};function AQ(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var d=parseInt(e.substr(s*2,2),16);if(Y6(d))return s;t[r+s]=d}return s}function TQ(t,e,r,i){return w1(H6(e,t.length-r),t,r,i)}function PQ(t,e,r,i){return w1(LQ(e),t,r,i)}function RQ(t,e,r,i){return w1(W9(e),t,r,i)}function kQ(t,e,r,i){return w1(UQ(e,t.length-r),t,r,i)}je.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return AQ(this,e,r,i);case"utf8":case"utf-8":return TQ(this,e,r,i);case"ascii":case"latin1":case"binary":return PQ(this,e,r,i);case"base64":return RQ(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kQ(this,e,r,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}};je.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function IQ(t,e,r){return e===0&&r===t.length?G6.fromByteArray(t):G6.fromByteArray(t.slice(e,r))}function F9(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o=t[n],s=null,d=o>239?4:o>223?3:o>191?2:1;if(n+d<=r){var p,v,b,x;switch(d){case 1:o<128&&(s=o);break;case 2:p=t[n+1],(p&192)===128&&(x=(o&31)<<6|p&63,x>127&&(s=x));break;case 3:p=t[n+1],v=t[n+2],(p&192)===128&&(v&192)===128&&(x=(o&15)<<12|(p&63)<<6|v&63,x>2047&&(x<55296||x>57343)&&(s=x));break;case 4:p=t[n+1],v=t[n+2],b=t[n+3],(p&192)===128&&(v&192)===128&&(b&192)===128&&(x=(o&15)<<18|(p&63)<<12|(v&63)<<6|b&63,x>65535&&x<1114112&&(s=x))}}s===null?(s=65533,d=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),n+=d}return BQ(i)}var j9=4096;function BQ(t){var e=t.length;if(e<=j9)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=j9));return r}function DQ(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function CQ(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function OQ(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=FQ[t[o]];return n}function jQ(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}je.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,je.prototype),n};function un(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}je.prototype.readUintLE=je.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||un(e,r,this.length);for(var n=this[e],o=1,s=0;++s<r&&(o*=256);)n+=this[e+s]*o;return n};je.prototype.readUintBE=je.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||un(e,r,this.length);for(var n=this[e+--r],o=1;r>0&&(o*=256);)n+=this[e+--r]*o;return n};je.prototype.readUint8=je.prototype.readUInt8=function(e,r){return e=e>>>0,r||un(e,1,this.length),this[e]};je.prototype.readUint16LE=je.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||un(e,2,this.length),this[e]|this[e+1]<<8};je.prototype.readUint16BE=je.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||un(e,2,this.length),this[e]<<8|this[e+1]};je.prototype.readUint32LE=je.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||un(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};je.prototype.readUint32BE=je.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||un(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};je.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||un(e,r,this.length);for(var n=this[e],o=1,s=0;++s<r&&(o*=256);)n+=this[e+s]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*r)),n};je.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||un(e,r,this.length);for(var n=r,o=1,s=this[e+--n];n>0&&(o*=256);)s+=this[e+--n]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};je.prototype.readInt8=function(e,r){return e=e>>>0,r||un(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};je.prototype.readInt16LE=function(e,r){e=e>>>0,r||un(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};je.prototype.readInt16BE=function(e,r){e=e>>>0,r||un(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};je.prototype.readInt32LE=function(e,r){return e=e>>>0,r||un(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};je.prototype.readInt32BE=function(e,r){return e=e>>>0,r||un(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};je.prototype.readFloatLE=function(e,r){return e=e>>>0,r||un(e,4,this.length),zh.read(this,e,!0,23,4)};je.prototype.readFloatBE=function(e,r){return e=e>>>0,r||un(e,4,this.length),zh.read(this,e,!1,23,4)};je.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||un(e,8,this.length),zh.read(this,e,!0,52,8)};je.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||un(e,8,this.length),zh.read(this,e,!1,52,8)};function So(t,e,r,i,n,o){if(!je.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}je.prototype.writeUintLE=je.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;So(this,e,r,i,o,0)}var s=1,d=0;for(this[r]=e&255;++d<i&&(s*=256);)this[r+d]=e/s&255;return r+i};je.prototype.writeUintBE=je.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;So(this,e,r,i,o,0)}var s=i-1,d=1;for(this[r+s]=e&255;--s>=0&&(d*=256);)this[r+s]=e/d&255;return r+i};je.prototype.writeUint8=je.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,1,255,0),this[r]=e&255,r+1};je.prototype.writeUint16LE=je.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};je.prototype.writeUint16BE=je.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};je.prototype.writeUint32LE=je.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};je.prototype.writeUint32BE=je.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};je.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);So(this,e,r,i,o-1,-o)}var s=0,d=1,p=0;for(this[r]=e&255;++s<i&&(d*=256);)e<0&&p===0&&this[r+s-1]!==0&&(p=1),this[r+s]=(e/d>>0)-p&255;return r+i};je.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);So(this,e,r,i,o-1,-o)}var s=i-1,d=1,p=0;for(this[r+s]=e&255;--s>=0&&(d*=256);)e<0&&p===0&&this[r+s+1]!==0&&(p=1),this[r+s]=(e/d>>0)-p&255;return r+i};je.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};je.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};je.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};je.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};je.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||So(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function z9(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $9(t,e,r,i,n){return e=+e,r=r>>>0,n||z9(t,e,r,4,34028234663852886e22,-34028234663852886e22),zh.write(t,e,r,i,23,4),r+4}je.prototype.writeFloatLE=function(e,r,i){return $9(this,e,r,!0,i)};je.prototype.writeFloatBE=function(e,r,i){return $9(this,e,r,!1,i)};function G9(t,e,r,i,n){return e=+e,r=r>>>0,n||z9(t,e,r,8,17976931348623157e292,-17976931348623157e292),zh.write(t,e,r,i,52,8),r+8}je.prototype.writeDoubleLE=function(e,r,i){return G9(this,e,r,!0,i)};je.prototype.writeDoubleBE=function(e,r,i){return G9(this,e,r,!1,i)};je.prototype.copy=function(e,r,i,n){if(!je.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),o};je.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!je.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<i;++s)this[s]=e;else{var d=je.isBuffer(e)?e:je.from(e,n),p=d.length;if(p===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=d[s%p]}return this};var qQ=/[^+/0-9A-Za-z-_]/g;function NQ(t){if(t=t.split("=")[0],t=t.trim().replace(qQ,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function H6(t,e){e=e||1/0;for(var r,i=t.length,n=null,o=[],s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function LQ(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function UQ(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}function W9(t){return G6.toByteArray(NQ(t))}function w1(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function $a(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Y6(t){return t!==t}var FQ=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var i=r*16,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()});var Vf=V((Q4e,Z9)=>{M();var Mi=Z9.exports={},Ga,Wa;function J6(){throw new Error("setTimeout has not been defined")}function Q6(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ga=setTimeout:Ga=J6}catch{Ga=J6}try{typeof clearTimeout=="function"?Wa=clearTimeout:Wa=Q6}catch{Wa=Q6}})();function K9(t){if(Ga===setTimeout)return setTimeout(t,0);if((Ga===J6||!Ga)&&setTimeout)return Ga=setTimeout,setTimeout(t,0);try{return Ga(t,0)}catch{try{return Ga.call(null,t,0)}catch{return Ga.call(this,t,0)}}}function zQ(t){if(Wa===clearTimeout)return clearTimeout(t);if((Wa===Q6||!Wa)&&clearTimeout)return Wa=clearTimeout,clearTimeout(t);try{return Wa(t)}catch{try{return Wa.call(null,t)}catch{return Wa.call(this,t)}}}var Kf=[],Gh=!1,Cl,_1=-1;function $Q(){!Gh||!Cl||(Gh=!1,Cl.length?Kf=Cl.concat(Kf):_1=-1,Kf.length&&H9())}function H9(){if(!Gh){var t=K9($Q);Gh=!0;for(var e=Kf.length;e;){for(Cl=Kf,Kf=[];++_1<e;)Cl&&Cl[_1].run();_1=-1,e=Kf.length}Cl=null,Gh=!1,zQ(t)}}Mi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Kf.push(new V9(t,e)),Kf.length===1&&!Gh&&K9(H9)};function V9(t,e){this.fun=t,this.array=e}V9.prototype.run=function(){this.fun.apply(null,this.array)};Mi.title="browser";Mi.browser=!0;Mi.env={};Mi.argv=[];Mi.version="";Mi.versions={};function Hf(){}Mi.on=Hf;Mi.addListener=Hf;Mi.once=Hf;Mi.off=Hf;Mi.removeListener=Hf;Mi.removeAllListeners=Hf;Mi.emit=Hf;Mi.prependListener=Hf;Mi.prependOnceListener=Hf;Mi.listeners=function(t){return[]};Mi.binding=function(t){throw new Error("process.binding is not supported")};Mi.cwd=function(){return"/"};Mi.chdir=function(t){throw new Error("process.chdir is not supported")};Mi.umask=function(){return 0}});var L,j,e8e,M=cQ(()=>{L=Yt(Jt()),j=Yt(Vf()),e8e=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object)});var J9=V((r8e,Y9)=>{M();var GQ=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;Y9.exports=GQ});var X9=V((n8e,Q9)=>{M();var WQ=J9(),KQ=typeof self=="object"&&self&&self.Object===Object&&self,HQ=WQ||KQ||Function("return this")();Q9.exports=HQ});var X6=V((s8e,eP)=>{M();var VQ=X9(),ZQ=VQ.Symbol;eP.exports=ZQ});var nP=V((f8e,iP)=>{M();var tP=X6(),rP=Object.prototype,YQ=rP.hasOwnProperty,JQ=rP.toString,Nm=tP?tP.toStringTag:void 0;function QQ(t){var e=YQ.call(t,Nm),r=t[Nm];try{t[Nm]=void 0;var i=!0}catch{}var n=JQ.call(t);return i&&(e?t[Nm]=r:delete t[Nm]),n}iP.exports=QQ});var sP=V((c8e,oP)=>{M();var XQ=Object.prototype,eX=XQ.toString;function tX(t){return eX.call(t)}oP.exports=tX});var cP=V((d8e,uP)=>{M();var aP=X6(),rX=nP(),iX=sP(),nX="[object Null]",oX="[object Undefined]",fP=aP?aP.toStringTag:void 0;function sX(t){return t==null?t===void 0?oX:nX:fP&&fP in Object(t)?rX(t):iX(t)}uP.exports=sX});var dP=V((p8e,lP)=>{M();function aX(t,e){return function(r){return t(e(r))}}lP.exports=aX});var pP=V((y8e,hP)=>{M();var fX=dP(),uX=fX(Object.getPrototypeOf,Object);hP.exports=uX});var yP=V((v8e,mP)=>{M();function cX(t){return t!=null&&typeof t=="object"}mP.exports=cX});var bP=V((w8e,vP)=>{M();var lX=cP(),dX=pP(),hX=yP(),pX="[object Object]",mX=Function.prototype,yX=Object.prototype,gP=mX.toString,gX=yX.hasOwnProperty,vX=gP.call(Object);function bX(t){if(!hX(t)||lX(t)!=pX)return!1;var e=dX(t);if(e===null)return!0;var r=gX.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&gP.call(r)==vX}vP.exports=bX});var Ro=V((QSe,Jk)=>{"use strict";M();function Yk(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function lre(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Yk(t,r)}catch{r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),Yk(new n,r)}}Jk.exports=lre});var TI=V((ETe,AI)=>{"use strict";M();AI.exports=tie;function tie(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,o=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(d,p){r[i]=function(b){if(o)if(o=!1,b)p(b);else{for(var x=new Array(arguments.length-1),E=0;E<x.length;)x[E++]=arguments[E];d.apply(null,x)}};try{t.apply(e||null,r)}catch(v){o&&(o=!1,p(v))}})}});var II=V(kI=>{"use strict";M();var Z1=kI;Z1.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var x0=new Array(64),RI=new Array(123);for(oa=0;oa<64;)RI[x0[oa]=oa<26?oa+65:oa<52?oa+71:oa<62?oa-4:oa-59|43]=oa++;var oa;Z1.encode=function(e,r,i){for(var n=null,o=[],s=0,d=0,p;r<i;){var v=e[r++];switch(d){case 0:o[s++]=x0[v>>2],p=(v&3)<<4,d=1;break;case 1:o[s++]=x0[p|v>>4],p=(v&15)<<2,d=2;break;case 2:o[s++]=x0[p|v>>6],o[s++]=x0[v&63],d=0;break}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),s=0)}return d&&(o[s++]=x0[p],o[s++]=61,d===1&&(o[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,o.slice(0,s))),n.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var PI="invalid encoding";Z1.decode=function(e,r,i){for(var n=i,o=0,s,d=0;d<e.length;){var p=e.charCodeAt(d++);if(p===61&&o>1)break;if((p=RI[p])===void 0)throw Error(PI);switch(o){case 0:s=p,o=1;break;case 1:r[i++]=s<<2|(p&48)>>4,s=p,o=2;break;case 2:r[i++]=(s&15)<<4|(p&60)>>2,s=p,o=3;break;case 3:r[i++]=(s&3)<<6|p,o=0;break}}if(o===1)throw Error(PI);return i-n};Z1.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var DI=V((PTe,BI)=>{"use strict";M();BI.exports=Y1;function Y1(){this._listeners={}}Y1.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};Y1.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};Y1.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var UI=V((kTe,LI)=>{"use strict";M();LI.exports=CI(CI);function CI(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(p,v,b){e[0]=p,v[b]=r[0],v[b+1]=r[1],v[b+2]=r[2],v[b+3]=r[3]}function o(p,v,b){e[0]=p,v[b]=r[3],v[b+1]=r[2],v[b+2]=r[1],v[b+3]=r[0]}t.writeFloatLE=i?n:o,t.writeFloatBE=i?o:n;function s(p,v){return r[0]=p[v],r[1]=p[v+1],r[2]=p[v+2],r[3]=p[v+3],e[0]}function d(p,v){return r[3]=p[v],r[2]=p[v+1],r[1]=p[v+2],r[0]=p[v+3],e[0]}t.readFloatLE=i?s:d,t.readFloatBE=i?d:s}():function(){function e(i,n,o,s){var d=n<0?1:0;if(d&&(n=-n),n===0)i(1/n>0?0:2147483648,o,s);else if(isNaN(n))i(2143289344,o,s);else if(n>34028234663852886e22)i((d<<31|2139095040)>>>0,o,s);else if(n<11754943508222875e-54)i((d<<31|Math.round(n/1401298464324817e-60))>>>0,o,s);else{var p=Math.floor(Math.log(n)/Math.LN2),v=Math.round(n*Math.pow(2,-p)*8388608)&8388607;i((d<<31|p+127<<23|v)>>>0,o,s)}}t.writeFloatLE=e.bind(null,OI),t.writeFloatBE=e.bind(null,jI);function r(i,n,o){var s=i(n,o),d=(s>>31)*2+1,p=s>>>23&255,v=s&8388607;return p===255?v?NaN:d*(1/0):p===0?d*1401298464324817e-60*v:d*Math.pow(2,p-150)*(v+8388608)}t.readFloatLE=r.bind(null,qI),t.readFloatBE=r.bind(null,NI)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(p,v,b){e[0]=p,v[b]=r[0],v[b+1]=r[1],v[b+2]=r[2],v[b+3]=r[3],v[b+4]=r[4],v[b+5]=r[5],v[b+6]=r[6],v[b+7]=r[7]}function o(p,v,b){e[0]=p,v[b]=r[7],v[b+1]=r[6],v[b+2]=r[5],v[b+3]=r[4],v[b+4]=r[3],v[b+5]=r[2],v[b+6]=r[1],v[b+7]=r[0]}t.writeDoubleLE=i?n:o,t.writeDoubleBE=i?o:n;function s(p,v){return r[0]=p[v],r[1]=p[v+1],r[2]=p[v+2],r[3]=p[v+3],r[4]=p[v+4],r[5]=p[v+5],r[6]=p[v+6],r[7]=p[v+7],e[0]}function d(p,v){return r[7]=p[v],r[6]=p[v+1],r[5]=p[v+2],r[4]=p[v+3],r[3]=p[v+4],r[2]=p[v+5],r[1]=p[v+6],r[0]=p[v+7],e[0]}t.readDoubleLE=i?s:d,t.readDoubleBE=i?d:s}():function(){function e(i,n,o,s,d,p){var v=s<0?1:0;if(v&&(s=-s),s===0)i(0,d,p+n),i(1/s>0?0:2147483648,d,p+o);else if(isNaN(s))i(0,d,p+n),i(2146959360,d,p+o);else if(s>17976931348623157e292)i(0,d,p+n),i((v<<31|2146435072)>>>0,d,p+o);else{var b;if(s<22250738585072014e-324)b=s/5e-324,i(b>>>0,d,p+n),i((v<<31|b/4294967296)>>>0,d,p+o);else{var x=Math.floor(Math.log(s)/Math.LN2);x===1024&&(x=1023),b=s*Math.pow(2,-x),i(b*4503599627370496>>>0,d,p+n),i((v<<31|x+1023<<20|b*1048576&1048575)>>>0,d,p+o)}}}t.writeDoubleLE=e.bind(null,OI,0,4),t.writeDoubleBE=e.bind(null,jI,4,0);function r(i,n,o,s,d){var p=i(s,d+n),v=i(s,d+o),b=(v>>31)*2+1,x=v>>>20&2047,E=4294967296*(v&1048575)+p;return x===2047?E?NaN:b*(1/0):x===0?b*5e-324*E:b*Math.pow(2,x-1075)*(E+4503599627370496)}t.readDoubleLE=r.bind(null,qI,0,4),t.readDoubleBE=r.bind(null,NI,4,0)}(),t}function OI(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function jI(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function qI(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function NI(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var FI=V((exports,module)=>{"use strict";M();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var $I=V(zI=>{"use strict";M();var dM=zI;dM.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};dM.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var o=null,s=[],d=0,p;r<i;)p=e[r++],p<128?s[d++]=p:p>191&&p<224?s[d++]=(p&31)<<6|e[r++]&63:p>239&&p<365?(p=((p&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[d++]=55296+(p>>10),s[d++]=56320+(p&1023)):s[d++]=(p&15)<<12|(e[r++]&63)<<6|e[r++]&63,d>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),d=0);return o?(d&&o.push(String.fromCharCode.apply(String,s.slice(0,d))),o.join("")):String.fromCharCode.apply(String,s.slice(0,d))};dM.write=function(e,r,i){for(var n=i,o,s,d=0;d<e.length;++d)o=e.charCodeAt(d),o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):(o&64512)===55296&&((s=e.charCodeAt(d+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++d,r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128);return i-n}});var WI=V((OTe,GI)=>{"use strict";M();GI.exports=rie;function rie(t,e,r){var i=r||8192,n=i>>>1,o=null,s=i;return function(p){if(p<1||p>n)return t(p);s+p>i&&(o=t(i),s=0);var v=e.call(o,s,s+=p);return s&7&&(s=(s|7)+1),v}}});var HI=V((qTe,KI)=>{"use strict";M();KI.exports=dn;var _y=Kl();function dn(t,e){this.lo=t>>>0,this.hi=e>>>0}var Wl=dn.zero=new dn(0,0);Wl.toNumber=function(){return 0};Wl.zzEncode=Wl.zzDecode=function(){return this};Wl.length=function(){return 1};var iie=dn.zeroHash="\0\0\0\0\0\0\0\0";dn.fromNumber=function(e){if(e===0)return Wl;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new dn(i,n)};dn.from=function(e){if(typeof e=="number")return dn.fromNumber(e);if(_y.isString(e))if(_y.Long)e=_y.Long.fromString(e);else return dn.fromNumber(parseInt(e,10));return e.low||e.high?new dn(e.low>>>0,e.high>>>0):Wl};dn.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};dn.prototype.toLong=function(e){return _y.Long?new _y.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var lc=String.prototype.charCodeAt;dn.fromHash=function(e){return e===iie?Wl:new dn((lc.call(e,0)|lc.call(e,1)<<8|lc.call(e,2)<<16|lc.call(e,3)<<24)>>>0,(lc.call(e,4)|lc.call(e,5)<<8|lc.call(e,6)<<16|lc.call(e,7)<<24)>>>0)};dn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};dn.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};dn.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};dn.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var Kl=V(hM=>{"use strict";M();var tt=hM;tt.asPromise=TI();tt.base64=II();tt.EventEmitter=DI();tt.float=UI();tt.inquire=FI();tt.utf8=$I();tt.pool=WI();tt.LongBits=HI();tt.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);tt.global=tt.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||hM;tt.emptyArray=Object.freeze?Object.freeze([]):[];tt.emptyObject=Object.freeze?Object.freeze({}):{};tt.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};tt.isString=function(e){return typeof e=="string"||e instanceof String};tt.isObject=function(e){return e&&typeof e=="object"};tt.isset=tt.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};tt.Buffer=function(){try{var t=tt.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();tt._Buffer_from=null;tt._Buffer_allocUnsafe=null;tt.newBuffer=function(e){return typeof e=="number"?tt.Buffer?tt._Buffer_allocUnsafe(e):new tt.Array(e):tt.Buffer?tt._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};tt.Array=typeof Uint8Array<"u"?Uint8Array:Array;tt.Long=tt.global.dcodeIO&&tt.global.dcodeIO.Long||tt.global.Long||tt.inquire("long");tt.key2Re=/^true|false|0|1$/;tt.key32Re=/^-?(?:0|[1-9][0-9]*)$/;tt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;tt.longToHash=function(e){return e?tt.LongBits.from(e).toHash():tt.LongBits.zeroHash};tt.longFromHash=function(e,r){var i=tt.LongBits.fromHash(e);return tt.Long?tt.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function VI(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}tt.merge=VI;tt.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function ZI(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&VI(this,i)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}tt.newError=ZI;tt.ProtocolError=ZI("ProtocolError");tt.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),o=n.length-1;o>-1;--o)if(r[n[o]]===1&&this[n[o]]!==void 0&&this[n[o]]!==null)return n[o]}};tt.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};tt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};tt._configure=function(){var t=tt.Buffer;if(!t){tt._Buffer_from=tt._Buffer_allocUnsafe=null;return}tt._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},tt._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var yM=V((FTe,eB)=>{"use strict";M();eB.exports=Ti;var Ja=Kl(),mM,QI=Ja.LongBits,nie=Ja.utf8;function sa(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Ti(t){this.buf=t,this.pos=0,this.len=t.length}var YI=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ti(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ti(e);throw Error("illegal buffer")},XI=function(){return Ja.Buffer?function(r){return(Ti.create=function(n){return Ja.Buffer.isBuffer(n)?new mM(n):YI(n)})(r)}:YI};Ti.create=XI();Ti.prototype._slice=Ja.Array.prototype.subarray||Ja.Array.prototype.slice;Ti.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,sa(this,10);return e}}();Ti.prototype.int32=function(){return this.uint32()|0};Ti.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function pM(){var t=new QI(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw sa(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw sa(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Ti.prototype.bool=function(){return this.uint32()!==0};function J1(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Ti.prototype.fixed32=function(){if(this.pos+4>this.len)throw sa(this,4);return J1(this.buf,this.pos+=4)};Ti.prototype.sfixed32=function(){if(this.pos+4>this.len)throw sa(this,4);return J1(this.buf,this.pos+=4)|0};function JI(){if(this.pos+8>this.len)throw sa(this,8);return new QI(J1(this.buf,this.pos+=4),J1(this.buf,this.pos+=4))}Ti.prototype.float=function(){if(this.pos+4>this.len)throw sa(this,4);var e=Ja.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ti.prototype.double=function(){if(this.pos+8>this.len)throw sa(this,4);var e=Ja.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ti.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw sa(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};Ti.prototype.string=function(){var e=this.bytes();return nie.read(e,0,e.length)};Ti.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw sa(this,e);this.pos+=e}else do if(this.pos>=this.len)throw sa(this);while(this.buf[this.pos++]&128);return this};Ti.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Ti._configure=function(t){mM=t,Ti.create=XI(),mM._configure();var e=Ja.Long?"toLong":"toNumber";Ja.merge(Ti.prototype,{int64:function(){return pM.call(this)[e](!1)},uint64:function(){return pM.call(this)[e](!0)},sint64:function(){return pM.call(this).zzDecode()[e](!1)},fixed64:function(){return JI.call(this)[e](!0)},sfixed64:function(){return JI.call(this)[e](!1)}})}});var nB=V(($Te,iB)=>{"use strict";M();iB.exports=Hl;var rB=yM();(Hl.prototype=Object.create(rB.prototype)).constructor=Hl;var tB=Kl();function Hl(t){rB.call(this,t)}Hl._configure=function(){tB.Buffer&&(Hl.prototype._slice=tB.Buffer.prototype.slice)};Hl.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Hl._configure()});var MM=V((WTe,fB)=>{"use strict";M();fB.exports=er;var Ss=Kl(),gM,Q1=Ss.LongBits,oB=Ss.base64,sB=Ss.utf8;function xy(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function bM(){}function oie(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function er(){this.len=0,this.head=new xy(bM,0,0),this.tail=this.head,this.states=null}var aB=function(){return Ss.Buffer?function(){return(er.create=function(){return new gM})()}:function(){return new er}};er.create=aB();er.alloc=function(e){return new Ss.Array(e)};Ss.Array!==Array&&(er.alloc=Ss.pool(er.alloc,Ss.Array.prototype.subarray));er.prototype._push=function(e,r,i){return this.tail=this.tail.next=new xy(e,r,i),this.len+=r,this};function wM(t,e,r){e[r]=t&255}function sie(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function _M(t,e){this.len=t,this.next=void 0,this.val=e}_M.prototype=Object.create(xy.prototype);_M.prototype.fn=sie;er.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new _M((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};er.prototype.int32=function(e){return e<0?this._push(xM,10,Q1.fromNumber(e)):this.uint32(e)};er.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function xM(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}er.prototype.uint64=function(e){var r=Q1.from(e);return this._push(xM,r.length(),r)};er.prototype.int64=er.prototype.uint64;er.prototype.sint64=function(e){var r=Q1.from(e).zzEncode();return this._push(xM,r.length(),r)};er.prototype.bool=function(e){return this._push(wM,1,e?1:0)};function vM(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}er.prototype.fixed32=function(e){return this._push(vM,4,e>>>0)};er.prototype.sfixed32=er.prototype.fixed32;er.prototype.fixed64=function(e){var r=Q1.from(e);return this._push(vM,4,r.lo)._push(vM,4,r.hi)};er.prototype.sfixed64=er.prototype.fixed64;er.prototype.float=function(e){return this._push(Ss.float.writeFloatLE,4,e)};er.prototype.double=function(e){return this._push(Ss.float.writeDoubleLE,8,e)};var aie=Ss.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};er.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(wM,1,0);if(Ss.isString(e)){var i=er.alloc(r=oB.length(e));oB.decode(e,i,0),e=i}return this.uint32(r)._push(aie,r,e)};er.prototype.string=function(e){var r=sB.length(e);return r?this.uint32(r)._push(sB.write,r,e):this._push(wM,1,0)};er.prototype.fork=function(){return this.states=new oie(this),this.head=this.tail=new xy(bM,0,0),this.len=0,this};er.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new xy(bM,0,0),this.len=0),this};er.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};er.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};er._configure=function(t){gM=t,er.create=aB(),gM._configure()}});var lB=V((HTe,cB)=>{"use strict";M();cB.exports=Qa;var uB=MM();(Qa.prototype=Object.create(uB.prototype)).constructor=Qa;var dc=Kl();function Qa(){uB.call(this)}Qa._configure=function(){Qa.alloc=dc._Buffer_allocUnsafe,Qa.writeBytesBuffer=dc.Buffer&&dc.Buffer.prototype instanceof Uint8Array&&dc.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};Qa.prototype.bytes=function(e){dc.isString(e)&&(e=dc._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Qa.writeBytesBuffer,r,e),this};function fie(t,e,r){t.length<40?dc.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Qa.prototype.string=function(e){var r=dc.Buffer.byteLength(e);return this.uint32(r),r&&this._push(fie,r,e),this};Qa._configure()});var GB=V((Cy,ib)=>{M();(function(t,e){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(T){if(!Array.isArray(T)&&!ArrayBuffer.isView(T))return!1;for(var S=0;S<T.length;S++)if(!Number.isInteger(T[S])||T[S]<0||T[S]>255)return!1;return!0}function n(T,S){return(T&65535)*S+(((T>>>16)*S&65535)<<16)}function o(T,S){return T<<S|T>>>32-S}function s(T){return T^=T>>>16,T=n(T,2246822507),T^=T>>>13,T=n(T,3266489909),T^=T>>>16,T}function d(T,S){T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535],S=[S[0]>>>16,S[0]&65535,S[1]>>>16,S[1]&65535];var P=[0,0,0,0];return P[3]+=T[3]+S[3],P[2]+=P[3]>>>16,P[3]&=65535,P[2]+=T[2]+S[2],P[1]+=P[2]>>>16,P[2]&=65535,P[1]+=T[1]+S[1],P[0]+=P[1]>>>16,P[1]&=65535,P[0]+=T[0]+S[0],P[0]&=65535,[P[0]<<16|P[1],P[2]<<16|P[3]]}function p(T,S){T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535],S=[S[0]>>>16,S[0]&65535,S[1]>>>16,S[1]&65535];var P=[0,0,0,0];return P[3]+=T[3]*S[3],P[2]+=P[3]>>>16,P[3]&=65535,P[2]+=T[2]*S[3],P[1]+=P[2]>>>16,P[2]&=65535,P[2]+=T[3]*S[2],P[1]+=P[2]>>>16,P[2]&=65535,P[1]+=T[1]*S[3],P[0]+=P[1]>>>16,P[1]&=65535,P[1]+=T[2]*S[2],P[0]+=P[1]>>>16,P[1]&=65535,P[1]+=T[3]*S[1],P[0]+=P[1]>>>16,P[1]&=65535,P[0]+=T[0]*S[3]+T[1]*S[2]+T[2]*S[1]+T[3]*S[0],P[0]&=65535,[P[0]<<16|P[1],P[2]<<16|P[3]]}function v(T,S){return S%=64,S===32?[T[1],T[0]]:S<32?[T[0]<<S|T[1]>>>32-S,T[1]<<S|T[0]>>>32-S]:(S-=32,[T[1]<<S|T[0]>>>32-S,T[0]<<S|T[1]>>>32-S])}function b(T,S){return S%=64,S===0?T:S<32?[T[0]<<S|T[1]>>>32-S,T[1]<<S]:[T[1]<<S-32,0]}function x(T,S){return[T[0]^S[0],T[1]^S[1]]}function E(T){return T=x(T,[0,T[0]>>>1]),T=p(T,[4283543511,3981806797]),T=x(T,[0,T[0]>>>1]),T=p(T,[3301882366,444984403]),T=x(T,[0,T[0]>>>1]),T}r.x86.hash32=function(T,S){if(r.inputValidation&&!i(T))return e;S=S||0;for(var P=T.length%4,B=T.length-P,I=S,C=0,O=3432918353,F=461845907,q=0;q<B;q=q+4)C=T[q]|T[q+1]<<8|T[q+2]<<16|T[q+3]<<24,C=n(C,O),C=o(C,15),C=n(C,F),I^=C,I=o(I,13),I=n(I,5)+3864292196;switch(C=0,P){case 3:C^=T[q+2]<<16;case 2:C^=T[q+1]<<8;case 1:C^=T[q],C=n(C,O),C=o(C,15),C=n(C,F),I^=C}return I^=T.length,I=s(I),I>>>0},r.x86.hash128=function(T,S){if(r.inputValidation&&!i(T))return e;S=S||0;for(var P=T.length%16,B=T.length-P,I=S,C=S,O=S,F=S,q=0,G=0,$=0,N=0,K=597399067,_=2869860233,a=951274213,u=2716044179,h=0;h<B;h=h+16)q=T[h]|T[h+1]<<8|T[h+2]<<16|T[h+3]<<24,G=T[h+4]|T[h+5]<<8|T[h+6]<<16|T[h+7]<<24,$=T[h+8]|T[h+9]<<8|T[h+10]<<16|T[h+11]<<24,N=T[h+12]|T[h+13]<<8|T[h+14]<<16|T[h+15]<<24,q=n(q,K),q=o(q,15),q=n(q,_),I^=q,I=o(I,19),I+=C,I=n(I,5)+1444728091,G=n(G,_),G=o(G,16),G=n(G,a),C^=G,C=o(C,17),C+=O,C=n(C,5)+197830471,$=n($,a),$=o($,17),$=n($,u),O^=$,O=o(O,15),O+=F,O=n(O,5)+2530024501,N=n(N,u),N=o(N,18),N=n(N,K),F^=N,F=o(F,13),F+=I,F=n(F,5)+850148119;switch(q=0,G=0,$=0,N=0,P){case 15:N^=T[h+14]<<16;case 14:N^=T[h+13]<<8;case 13:N^=T[h+12],N=n(N,u),N=o(N,18),N=n(N,K),F^=N;case 12:$^=T[h+11]<<24;case 11:$^=T[h+10]<<16;case 10:$^=T[h+9]<<8;case 9:$^=T[h+8],$=n($,a),$=o($,17),$=n($,u),O^=$;case 8:G^=T[h+7]<<24;case 7:G^=T[h+6]<<16;case 6:G^=T[h+5]<<8;case 5:G^=T[h+4],G=n(G,_),G=o(G,16),G=n(G,a),C^=G;case 4:q^=T[h+3]<<24;case 3:q^=T[h+2]<<16;case 2:q^=T[h+1]<<8;case 1:q^=T[h],q=n(q,K),q=o(q,15),q=n(q,_),I^=q}return I^=T.length,C^=T.length,O^=T.length,F^=T.length,I+=C,I+=O,I+=F,C+=I,O+=I,F+=I,I=s(I),C=s(C),O=s(O),F=s(F),I+=C,I+=O,I+=F,C+=I,O+=I,F+=I,("00000000"+(I>>>0).toString(16)).slice(-8)+("00000000"+(C>>>0).toString(16)).slice(-8)+("00000000"+(O>>>0).toString(16)).slice(-8)+("00000000"+(F>>>0).toString(16)).slice(-8)},r.x64.hash128=function(T,S){if(r.inputValidation&&!i(T))return e;S=S||0;for(var P=T.length%16,B=T.length-P,I=[0,S],C=[0,S],O=[0,0],F=[0,0],q=[2277735313,289559509],G=[1291169091,658871167],$=0;$<B;$=$+16)O=[T[$+4]|T[$+5]<<8|T[$+6]<<16|T[$+7]<<24,T[$]|T[$+1]<<8|T[$+2]<<16|T[$+3]<<24],F=[T[$+12]|T[$+13]<<8|T[$+14]<<16|T[$+15]<<24,T[$+8]|T[$+9]<<8|T[$+10]<<16|T[$+11]<<24],O=p(O,q),O=v(O,31),O=p(O,G),I=x(I,O),I=v(I,27),I=d(I,C),I=d(p(I,[0,5]),[0,1390208809]),F=p(F,G),F=v(F,33),F=p(F,q),C=x(C,F),C=v(C,31),C=d(C,I),C=d(p(C,[0,5]),[0,944331445]);switch(O=[0,0],F=[0,0],P){case 15:F=x(F,b([0,T[$+14]],48));case 14:F=x(F,b([0,T[$+13]],40));case 13:F=x(F,b([0,T[$+12]],32));case 12:F=x(F,b([0,T[$+11]],24));case 11:F=x(F,b([0,T[$+10]],16));case 10:F=x(F,b([0,T[$+9]],8));case 9:F=x(F,[0,T[$+8]]),F=p(F,G),F=v(F,33),F=p(F,q),C=x(C,F);case 8:O=x(O,b([0,T[$+7]],56));case 7:O=x(O,b([0,T[$+6]],48));case 6:O=x(O,b([0,T[$+5]],40));case 5:O=x(O,b([0,T[$+4]],32));case 4:O=x(O,b([0,T[$+3]],24));case 3:O=x(O,b([0,T[$+2]],16));case 2:O=x(O,b([0,T[$+1]],8));case 1:O=x(O,[0,T[$]]),O=p(O,q),O=v(O,31),O=p(O,G),I=x(I,O)}return I=x(I,[0,T.length]),C=x(C,[0,T.length]),I=d(I,C),C=d(C,I),I=E(I),C=E(C),I=d(I,C),C=d(C,I),("00000000"+(I[0]>>>0).toString(16)).slice(-8)+("00000000"+(I[1]>>>0).toString(16)).slice(-8)+("00000000"+(C[0]>>>0).toString(16)).slice(-8)+("00000000"+(C[1]>>>0).toString(16)).slice(-8)},typeof Cy<"u"?(typeof ib<"u"&&ib.exports&&(Cy=ib.exports=r),Cy.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=t.murmurHash3,r.noConflict=function(){return t.murmurHash3=r._murmurHash3,r._murmurHash3=e,r.noConflict=e,r},t.murmurHash3=r)})(Cy)});var KB=V((oRe,WB)=>{M();WB.exports=GB()});var ZB=V((pRe,VB)=>{"use strict";M();VB.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let i=this._internalPositionFor(e,!1);if(r===void 0)i!==-1&&(this._unsetInternalPos(i),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;i===-1?(i=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(i,e,r,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,i=new Array(this.length);for(;r<this.length;)i[r]=e(this.get(r),r,this),r++;return i}reduce(e,r){let i=0,n=r;for(;i<this.length;){let o=this.get(i);n=e(n,o,i),i++}return n}find(e){let r=0,i,n;for(;r<this.length&&!i;)n=this.get(r),i=e(n),r++;return i?n:void 0}_internalPositionFor(e,r){let i=this._bytePosFor(e,r);if(i>=this._bitArrays.length)return-1;let n=this._bitArrays[i],o=e-i*7;if(!((n&1<<o)>0))return-1;let d=this._bitArrays.slice(0,i).reduce(_ne,0),p=~(4294967295<<o+1),v=HB(n&p);return d+v-1}_bytePosFor(e,r){let i=Math.floor(e/7),n=i+1;for(;!r&&this._bitArrays.length<n;)this._bitArrays.push(0);return i}_setBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*7}_unsetBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*7)}_setInternalPos(e,r,i,n){let o=this._data,s=[r,i];if(n)this._sortData(),o[e]=s;else{if(o.length)if(o[o.length-1][0]>=r)o.push(s);else if(o[0][0]<=r)o.unshift(s);else{let d=Math.round(o.length/2);this._data=o.slice(0,d).concat(s).concat(o.slice(d))}else this._data.push(s);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(xne),this._changedData=!1}bitField(){let e=[],r=8,i=0,n=0,o,s=this._bitArrays.slice();for(;s.length||i;){i===0&&(o=s.shift(),i=7);let p=Math.min(i,r),v=~(255<<p),b=o&v;n|=b<<8-r,o=o>>>p,i-=p,r-=p,(!r||!i&&!s.length)&&(e.push(n),n=0,r=8)}for(var d=e.length-1;d>0&&e[d]===0;d--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(Mne)}};function _ne(t,e){return t+HB(e)}function HB(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function xne(t,e){return t[0]-e[0]}function Mne(t){return t[1]}});var hD=V((Ike,dD)=>{M();dD.exports=qy;qy.flatten=qy;qy.unflatten=lD;function uD(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function cD(t){return t}function qy(t,e){e=e||{};let r=e.delimiter||".",i=e.maxDepth,n=e.transformKey||cD,o={};function s(d,p,v){v=v||1,Object.keys(d).forEach(function(b){let x=d[b],E=e.safe&&Array.isArray(x),T=Object.prototype.toString.call(x),S=uD(x),P=T==="[object Object]"||T==="[object Array]",B=p?p+r+n(b):n(b);if(!E&&!S&&P&&Object.keys(x).length&&(!e.maxDepth||v<i))return s(x,B,v+1);o[B]=x})}return s(t),o}function lD(t,e){e=e||{};let r=e.delimiter||".",i=e.overwrite||!1,n=e.transformKey||cD,o={};if(uD(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function d(b){let x=Number(b);return isNaN(x)||b.indexOf(".")!==-1||e.object?b:x}function p(b,x,E){return Object.keys(E).reduce(function(T,S){return T[b+r+S]=E[S],T},x)}function v(b){let x=Object.prototype.toString.call(b),E=x==="[object Array]",T=x==="[object Object]";if(b){if(E)return!b.length;if(T)return!Object.keys(b).length}else return!0}return t=Object.keys(t).reduce(function(b,x){let E=Object.prototype.toString.call(t[x]);return!(E==="[object Object]"||E==="[object Array]")||v(t[x])?(b[x]=t[x],b):p(x,b,qy(t[x],e))},{}),Object.keys(t).forEach(function(b){let x=b.split(r).map(n),E=d(x.shift()),T=d(x[0]),S=o;for(;T!==void 0;){if(E==="__proto__")return;let P=Object.prototype.toString.call(S[E]),B=P==="[object Object]"||P==="[object Array]";if(!i&&!B&&typeof S[E]<"u")return;(i&&!B||!i&&S[E]==null)&&(S[E]=typeof T=="number"&&!e.object?[]:{}),S=S[E],x.length>0&&(E=d(x.shift()),T=d(x[0]))}S[E]=lD(t[b],e)}),o}});var gD=V((n4,o4)=>{M();(function(t,e){typeof n4=="object"&&typeof o4<"u"?o4.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(n4,function(){"use strict";var t=Math.imul,e=Math.clz32;function r(N){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},r(N)}function i(N,K){if(!(N instanceof K))throw new TypeError("Cannot call a class as a function")}function n(N,K){for(var _,a=0;a<K.length;a++)_=K[a],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(N,_.key,_)}function o(N,K,_){return K&&n(N.prototype,K),_&&n(N,_),Object.defineProperty(N,"prototype",{writable:!1}),N}function s(N,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(K&&K.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),K&&p(N,K)}function d(N){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},d(N)}function p(N,K){return p=Object.setPrototypeOf||function(_,a){return _.__proto__=a,_},p(N,K)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(){return b=v()?Reflect.construct:function(N,K,_){var a=[null];a.push.apply(a,K);var u=Function.bind.apply(N,a),h=new u;return _&&p(h,_.prototype),h},b.apply(null,arguments)}function x(N){return Function.toString.call(N).indexOf("[native code]")!==-1}function E(N){var K=typeof Map=="function"?new Map:void 0;return E=function(_){function a(){return b(_,arguments,d(this).constructor)}if(_===null||!x(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(_))return K.get(_);K.set(_,a)}return a.prototype=Object.create(_.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),p(a,_)},E(N)}function T(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function S(N,K){if(K&&(typeof K=="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(N)}function P(N){var K=v();return function(){var _,a=d(N);if(K){var u=d(this).constructor;_=Reflect.construct(a,arguments,u)}else _=a.apply(this,arguments);return S(this,_)}}function B(N,K){return I(N)||C(N,K)||O(N,K)||q()}function I(N){if(Array.isArray(N))return N}function C(N,K){var _=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(_!=null){var a,u,h=[],c=!0,l=!1;try{for(_=_.call(N);!(c=(a=_.next()).done)&&(h.push(a.value),!(K&&h.length===K));c=!0);}catch(g){l=!0,u=g}finally{try{c||_.return==null||_.return()}finally{if(l)throw u}}return h}}function O(N,K){if(N){if(typeof N=="string")return F(N,K);var _=Object.prototype.toString.call(N).slice(8,-1);return _==="Object"&&N.constructor&&(_=N.constructor.name),_==="Map"||_==="Set"?Array.from(N):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?F(N,K):void 0}}function F(N,K){(K==null||K>N.length)&&(K=N.length);for(var _=0,a=Array(K);_<K;_++)a[_]=N[_];return a}function q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(N,K){var _=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!_){if(Array.isArray(N)||(_=O(N))||K&&N&&typeof N.length=="number"){_&&(N=_);var a=0,u=function(){};return{s:u,n:function(){return a>=N.length?{done:!0}:{done:!1,value:N[a++]}},e:function(g){throw g},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,c=!0,l=!1;return{s:function(){_=_.call(N)},n:function(){var g=_.next();return c=g.done,g},e:function(g){l=!0,h=g},f:function(){try{c||_.return==null||_.return()}finally{if(l)throw h}}}}var $=function(N){var K=Math.abs,_=Math.max,a=Math.floor;function u(c,l){var g;if(i(this,u),g=h.call(this,c),g.sign=l,Object.setPrototypeOf(T(g),u.prototype),c>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return g}s(u,N);var h=P(u);return o(u,[{key:"toDebugString",value:function(){var c,l=["BigInt["],g=G(this);try{for(g.s();!(c=g.n()).done;){var w=c.value;l.push((w&&(w>>>0).toString(16))+", ")}}catch(m){g.e(m)}finally{g.f()}return l.push("]"),l.join("")}},{key:"toString",value:function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>c||36<c)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":c&c-1?u.__toStringGeneric(this,c,!1):u.__toStringBasePowerOfTwo(this,c)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var c=new u(this.length,this.sign),l=0;l<this.length;l++)c[l]=this[l];return c}},{key:"__trim",value:function(){for(var c=this.length,l=this[c-1];l===0;)c--,l=this[c-1],this.pop();return c===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var c=0;c<this.length;c++)this[c]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(c,l,g){g>this.length&&(g=this.length);for(var w=32767&c,m=c>>>15,f=0,y=l,R=0;R<g;R++){var A=this.__digit(R),D=32767&A,z=A>>>15,W=u.__imul(D,w),H=u.__imul(D,m),J=u.__imul(z,w),Z=u.__imul(z,m),Y=y+W+f;f=Y>>>30,Y&=1073741823,Y+=((32767&H)<<15)+((32767&J)<<15),f+=Y>>>30,y=Z+(H>>>15)+(J>>>15),this.__setDigit(R,1073741823&Y)}if(f!==0||y!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(c,l,g){for(var w,m=0,f=0;f<g;f++)w=this.__halfDigit(l+f)+c.__halfDigit(f)+m,m=w>>>15,this.__setHalfDigit(l+f,32767&w);return m}},{key:"__inplaceSub",value:function(c,l,g){var w=0;if(1&l){l>>=1;for(var m=this.__digit(l),f=32767&m,y=0;y<g-1>>>1;y++){var R=c.__digit(y),A=(m>>>15)-(32767&R)-w;w=1&A>>>15,this.__setDigit(l+y,(32767&A)<<15|32767&f),m=this.__digit(l+y+1),f=(32767&m)-(R>>>15)-w,w=1&f>>>15}var D=c.__digit(y),z=(m>>>15)-(32767&D)-w;if(w=1&z>>>15,this.__setDigit(l+y,(32767&z)<<15|32767&f),l+y+1>=this.length)throw new RangeError("out of bounds");!(1&g)&&(m=this.__digit(l+y+1),f=(32767&m)-(D>>>15)-w,w=1&f>>>15,this.__setDigit(l+c.length,1073709056&m|32767&f))}else{l>>=1;for(var W=0;W<c.length-1;W++){var H=this.__digit(l+W),J=c.__digit(W),Z=(32767&H)-(32767&J)-w;w=1&Z>>>15;var Y=(H>>>15)-(J>>>15)-w;w=1&Y>>>15,this.__setDigit(l+W,(32767&Y)<<15|32767&Z)}var Le=this.__digit(l+W),Q=c.__digit(W),X=(32767&Le)-(32767&Q)-w;w=1&X>>>15;var Qe=0;!(1&g)&&(Qe=(Le>>>15)-(Q>>>15)-w,w=1&Qe>>>15),this.__setDigit(l+W,(32767&Qe)<<15|32767&X)}return w}},{key:"__inplaceRightShift",value:function(c){if(c!==0){for(var l,g=this.__digit(0)>>>c,w=this.length-1,m=0;m<w;m++)l=this.__digit(m+1),this.__setDigit(m,1073741823&l<<30-c|g),g=l>>>c;this.__setDigit(w,g)}}},{key:"__digit",value:function(c){return this[c]}},{key:"__unsignedDigit",value:function(c){return this[c]>>>0}},{key:"__setDigit",value:function(c,l){this[c]=0|l}},{key:"__setDigitGrow",value:function(c,l){this[c]=0|l}},{key:"__halfDigitLength",value:function(){var c=this.length;return 32767>=this.__unsignedDigit(c-1)?2*c-1:2*c}},{key:"__halfDigit",value:function(c){return 32767&this[c>>>1]>>>15*(1&c)}},{key:"__setHalfDigit",value:function(c,l){var g=c>>>1,w=this.__digit(g),m=1&c?32767&w|l<<15:1073709056&w|32767&l;this.__setDigit(g,m)}}],[{key:"BigInt",value:function(c){var l=Number.isFinite;if(typeof c=="number"){if(c===0)return u.__zero();if(u.__isOneDigitInt(c))return 0>c?u.__oneDigit(-c,!0):u.__oneDigit(c,!1);if(!l(c)||a(c)!==c)throw new RangeError("The number "+c+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(c)}if(typeof c=="string"){var g=u.__fromString(c);if(g===null)throw new SyntaxError("Cannot convert "+c+" to a BigInt");return g}if(typeof c=="boolean")return c===!0?u.__oneDigit(1,!1):u.__zero();if(r(c)==="object"){if(c.constructor===u)return c;var w=u.__toPrimitive(c);return u.BigInt(w)}throw new TypeError("Cannot convert "+c+" to a BigInt")}},{key:"toNumber",value:function(c){var l=c.length;if(l===0)return 0;if(l===1){var g=c.__unsignedDigit(0);return c.sign?-g:g}var w=c.__digit(l-1),m=u.__clz30(w),f=30*l-m;if(1024<f)return c.sign?-1/0:1/0;var y=f-1,R=w,A=l-1,D=m+3,z=D===32?0:R<<D;z>>>=12;var W=D-12,H=12<=D?0:R<<20+D,J=20+D;for(0<W&&0<A&&(A--,R=c.__digit(A),z|=R>>>30-W,H=R<<W+2,J=W+2);0<J&&0<A;)A--,R=c.__digit(A),H|=30<=J?R<<J-30:R>>>30-J,J-=30;var Z=u.__decideRounding(c,J,A,R);if((Z===1||Z===0&&(1&H)==1)&&(H=H+1>>>0,H===0&&(z++,z>>>20!=0&&(z=0,y++,1023<y))))return c.sign?-1/0:1/0;var Y=c.sign?-2147483648:0;return y=y+1023<<20,u.__kBitConversionInts[1]=Y|y|z,u.__kBitConversionInts[0]=H,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(c){if(c.length===0)return c;var l=c.__copy();return l.sign=!c.sign,l}},{key:"bitwiseNot",value:function(c){return c.sign?u.__absoluteSubOne(c).__trim():u.__absoluteAddOne(c,!0)}},{key:"exponentiate",value:function(c,l){if(l.sign)throw new RangeError("Exponent must be positive");if(l.length===0)return u.__oneDigit(1,!1);if(c.length===0)return c;if(c.length===1&&c.__digit(0)===1)return c.sign&&!(1&l.__digit(0))?u.unaryMinus(c):c;if(1<l.length)throw new RangeError("BigInt too big");var g=l.__unsignedDigit(0);if(g===1)return c;if(g>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(c.length===1&&c.__digit(0)===2){var w=1+(0|g/30),m=c.sign&&(1&g)!=0,f=new u(w,m);f.__initializeDigits();var y=1<<g%30;return f.__setDigit(w-1,y),f}var R=null,A=c;for(1&g&&(R=c),g>>=1;g!==0;g>>=1)A=u.multiply(A,A),1&g&&(R===null?R=A:R=u.multiply(R,A));return R}},{key:"multiply",value:function(c,l){if(c.length===0)return c;if(l.length===0)return l;var g=c.length+l.length;30<=c.__clzmsd()+l.__clzmsd()&&g--;var w=new u(g,c.sign!==l.sign);w.__initializeDigits();for(var m=0;m<c.length;m++)u.__multiplyAccumulate(l,c.__digit(m),w,m);return w.__trim()}},{key:"divide",value:function(c,l){if(l.length===0)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(c,l))return u.__zero();var g,w=c.sign!==l.sign,m=l.__unsignedDigit(0);if(l.length===1&&32767>=m){if(m===1)return w===c.sign?c:u.unaryMinus(c);g=u.__absoluteDivSmall(c,m,null)}else g=u.__absoluteDivLarge(c,l,!0,!1);return g.sign=w,g.__trim()}},{key:"remainder",value:function(l,g){if(g.length===0)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(l,g))return l;var w=g.__unsignedDigit(0);if(g.length===1&&32767>=w){if(w===1)return u.__zero();var m=u.__absoluteModSmall(l,w);return m===0?u.__zero():u.__oneDigit(m,l.sign)}var f=u.__absoluteDivLarge(l,g,!1,!0);return f.sign=l.sign,f.__trim()}},{key:"add",value:function(c,l){var g=c.sign;return g===l.sign?u.__absoluteAdd(c,l,g):0<=u.__absoluteCompare(c,l)?u.__absoluteSub(c,l,g):u.__absoluteSub(l,c,!g)}},{key:"subtract",value:function(c,l){var g=c.sign;return g===l.sign?0<=u.__absoluteCompare(c,l)?u.__absoluteSub(c,l,g):u.__absoluteSub(l,c,!g):u.__absoluteAdd(c,l,g)}},{key:"leftShift",value:function(c,l){return l.length===0||c.length===0?c:l.sign?u.__rightShiftByAbsolute(c,l):u.__leftShiftByAbsolute(c,l)}},{key:"signedRightShift",value:function(c,l){return l.length===0||c.length===0?c:l.sign?u.__leftShiftByAbsolute(c,l):u.__rightShiftByAbsolute(c,l)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(c,l){return 0>u.__compareToBigInt(c,l)}},{key:"lessThanOrEqual",value:function(c,l){return 0>=u.__compareToBigInt(c,l)}},{key:"greaterThan",value:function(c,l){return 0<u.__compareToBigInt(c,l)}},{key:"greaterThanOrEqual",value:function(c,l){return 0<=u.__compareToBigInt(c,l)}},{key:"equal",value:function(c,l){if(c.sign!==l.sign||c.length!==l.length)return!1;for(var g=0;g<c.length;g++)if(c.__digit(g)!==l.__digit(g))return!1;return!0}},{key:"notEqual",value:function(c,l){return!u.equal(c,l)}},{key:"bitwiseAnd",value:function(c,l){if(!c.sign&&!l.sign)return u.__absoluteAnd(c,l).__trim();if(c.sign&&l.sign){var g=_(c.length,l.length)+1,w=u.__absoluteSubOne(c,g),m=u.__absoluteSubOne(l);return w=u.__absoluteOr(w,m,w),u.__absoluteAddOne(w,!0,w).__trim()}if(c.sign){var f=[l,c];c=f[0],l=f[1]}return u.__absoluteAndNot(c,u.__absoluteSubOne(l)).__trim()}},{key:"bitwiseXor",value:function(c,l){if(!c.sign&&!l.sign)return u.__absoluteXor(c,l).__trim();if(c.sign&&l.sign){var g=_(c.length,l.length),w=u.__absoluteSubOne(c,g),m=u.__absoluteSubOne(l);return u.__absoluteXor(w,m,w).__trim()}var f=_(c.length,l.length)+1;if(c.sign){var y=[l,c];c=y[0],l=y[1]}var R=u.__absoluteSubOne(l,f);return R=u.__absoluteXor(R,c,R),u.__absoluteAddOne(R,!0,R).__trim()}},{key:"bitwiseOr",value:function(c,l){var g=_(c.length,l.length);if(!c.sign&&!l.sign)return u.__absoluteOr(c,l).__trim();if(c.sign&&l.sign){var w=u.__absoluteSubOne(c,g),m=u.__absoluteSubOne(l);return w=u.__absoluteAnd(w,m,w),u.__absoluteAddOne(w,!0,w).__trim()}if(c.sign){var f=[l,c];c=f[0],l=f[1]}var y=u.__absoluteSubOne(l,g);return y=u.__absoluteAndNot(y,c,y),u.__absoluteAddOne(y,!0,y).__trim()}},{key:"asIntN",value:function(c,l){if(l.length===0)return l;if(c=a(c),0>c)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(c===0)return u.__zero();if(c>=u.__kMaxLengthBits)return l;var g=0|(c+29)/30;if(l.length<g)return l;var w=l.__unsignedDigit(g-1),m=1<<(c-1)%30;if(l.length===g&&w<m)return l;if((w&m)!==m)return u.__truncateToNBits(c,l);if(!l.sign)return u.__truncateAndSubFromPowerOfTwo(c,l,!0);if(!(w&m-1)){for(var f=g-2;0<=f;f--)if(l.__digit(f)!==0)return u.__truncateAndSubFromPowerOfTwo(c,l,!1);return l.length===g&&w===m?l:u.__truncateToNBits(c,l)}return u.__truncateAndSubFromPowerOfTwo(c,l,!1)}},{key:"asUintN",value:function(c,l){if(l.length===0)return l;if(c=a(c),0>c)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(c===0)return u.__zero();if(l.sign){if(c>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(c,l,!1)}if(c>=u.__kMaxLengthBits)return l;var g=0|(c+29)/30;if(l.length<g)return l;var w=c%30;if(l.length==g){if(w===0)return l;var m=l.__digit(g-1);if(!(m>>>w))return l}return u.__truncateToNBits(c,l)}},{key:"ADD",value:function(c,l){if(c=u.__toPrimitive(c),l=u.__toPrimitive(l),typeof c=="string")return typeof l!="string"&&(l=l.toString()),c+l;if(typeof l=="string")return c.toString()+l;if(c=u.__toNumeric(c),l=u.__toNumeric(l),u.__isBigInt(c)&&u.__isBigInt(l))return u.add(c,l);if(typeof c=="number"&&typeof l=="number")return c+l;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(c,l){return u.__compare(c,l,0)}},{key:"LE",value:function(c,l){return u.__compare(c,l,1)}},{key:"GT",value:function(c,l){return u.__compare(c,l,2)}},{key:"GE",value:function(c,l){return u.__compare(c,l,3)}},{key:"EQ",value:function(c,l){for(;;){if(u.__isBigInt(c))return u.__isBigInt(l)?u.equal(c,l):u.EQ(l,c);if(typeof c=="number"){if(u.__isBigInt(l))return u.__equalToNumber(l,c);if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(typeof c=="string"){if(u.__isBigInt(l))return c=u.__fromString(c),c!==null&&u.equal(c,l);if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(typeof c=="boolean"){if(u.__isBigInt(l))return u.__equalToNumber(l,+c);if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(r(c)==="symbol"){if(u.__isBigInt(l))return!1;if(r(l)!=="object")return c==l;l=u.__toPrimitive(l)}else if(r(c)==="object"){if(r(l)==="object"&&l.constructor!==u)return c==l;c=u.__toPrimitive(c)}else return c==l}}},{key:"NE",value:function(c,l){return!u.EQ(c,l)}},{key:"DataViewGetBigInt64",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(c,l,g))}},{key:"DataViewGetBigUint64",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0&&arguments[2],w=g?[4,0]:[0,4],m=B(w,2),f=m[0],y=m[1],R=c.getUint32(l+f,g),A=c.getUint32(l+y,g),D=new u(3,!1);return D.__setDigit(0,1073741823&A),D.__setDigit(1,(268435455&R)<<2|A>>>30),D.__setDigit(2,R>>>28),D.__trim()}},{key:"DataViewSetBigInt64",value:function(c,l,g){var w=3<arguments.length&&arguments[3]!==void 0&&arguments[3];u.DataViewSetBigUint64(c,l,g,w)}},{key:"DataViewSetBigUint64",value:function(c,l,g){var w=3<arguments.length&&arguments[3]!==void 0&&arguments[3];g=u.asUintN(64,g);var m=0,f=0;if(0<g.length&&(f=g.__digit(0),1<g.length)){var y=g.__digit(1);f|=y<<30,m=y>>>2,2<g.length&&(m|=g.__digit(2)<<28)}var R=w?[4,0]:[0,4],A=B(R,2),D=A[0],z=A[1];c.setUint32(l+D,m,w),c.setUint32(l+z,f,w)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(c,l){var g=new u(1,l);return g.__setDigit(0,c),g}},{key:"__decideRounding",value:function(c,l,g,w){if(0<l)return-1;var m;if(0>l)m=-l-1;else{if(g===0)return-1;g--,w=c.__digit(g),m=29}var f=1<<m;if(!(w&f))return-1;if(f-=1,(w&f)!=0)return 1;for(;0<g;)if(g--,c.__digit(g)!==0)return 1;return 0}},{key:"__fromDouble",value:function(c){u.__kBitConversionDouble[0]=c;var l,g=2047&u.__kBitConversionInts[1]>>>20,w=g-1023,m=(0|w/30)+1,f=new u(m,0>c),y=1048575&u.__kBitConversionInts[1]|1048576,R=u.__kBitConversionInts[0],A=20,D=w%30,z=0;if(D<A){var W=A-D;z=W+32,l=y>>>W,y=y<<32-W|R>>>W,R<<=32-W}else if(D===A)z=32,l=y,y=R,R=0;else{var H=D-A;z=32-H,l=y<<H|R>>>32-H,y=R<<H,R=0}f.__setDigit(m-1,l);for(var J=m-2;0<=J;J--)0<z?(z-=30,l=y>>>2,y=y<<30|R>>>2,R<<=30):l=0,f.__setDigit(J,l);return f.__trim()}},{key:"__isWhitespace",value:function(c){return 13>=c&&9<=c||(159>=c?c==32:131071>=c?c==160||c==5760:196607>=c?(c&=131071,10>=c||c==40||c==41||c==47||c==95||c==4096):c==65279)}},{key:"__fromString",value:function(c){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,g=0,w=c.length,m=0;if(m===w)return u.__zero();for(var f=c.charCodeAt(m);u.__isWhitespace(f);){if(++m===w)return u.__zero();f=c.charCodeAt(m)}if(f===43){if(++m===w)return null;f=c.charCodeAt(m),g=1}else if(f===45){if(++m===w)return null;f=c.charCodeAt(m),g=-1}if(l===0){if(l=10,f===48){if(++m===w)return u.__zero();if(f=c.charCodeAt(m),f===88||f===120){if(l=16,++m===w)return null;f=c.charCodeAt(m)}else if(f===79||f===111){if(l=8,++m===w)return null;f=c.charCodeAt(m)}else if(f===66||f===98){if(l=2,++m===w)return null;f=c.charCodeAt(m)}}}else if(l===16&&f===48){if(++m===w)return u.__zero();if(f=c.charCodeAt(m),f===88||f===120){if(++m===w)return null;f=c.charCodeAt(m)}}if(g!==0&&l!==10)return null;for(;f===48;){if(++m===w)return u.__zero();f=c.charCodeAt(m)}var y=w-m,R=u.__kMaxBitsPerChar[l],A=u.__kBitsPerCharTableMultiplier-1;if(y>1073741824/R)return null;var D=R*y+A>>>u.__kBitsPerCharTableShift,z=new u(0|(D+29)/30,!1),W=10>l?l:10,H=10<l?l-10:0;if(l&l-1){z.__initializeDigits();var Qe=!1,te=0;do{for(var re,Zt=0,ie=1;;){if(re=void 0,f-48>>>0<W)re=f-48;else if((32|f)-97>>>0<H)re=(32|f)-87;else{Qe=!0;break}var ne=ie*l;if(1073741823<ne)break;if(ie=ne,Zt=Zt*l+re,te++,++m===w){Qe=!0;break}f=c.charCodeAt(m)}A=30*u.__kBitsPerCharTableMultiplier-1;var _r=0|(R*te+A>>>u.__kBitsPerCharTableShift)/30;z.__inplaceMultiplyAdd(ie,Zt,_r)}while(!Qe)}else{R>>=u.__kBitsPerCharTableShift;var J=[],Z=[],Y=!1;do{for(var Le,Q=0,X=0;;){if(Le=void 0,f-48>>>0<W)Le=f-48;else if((32|f)-97>>>0<H)Le=(32|f)-87;else{Y=!0;break}if(X+=R,Q=Q<<R|Le,++m===w){Y=!0;break}if(f=c.charCodeAt(m),30<X+R)break}J.push(Q),Z.push(X)}while(!Y);u.__fillFromParts(z,J,Z)}if(m!==w){if(!u.__isWhitespace(f))return null;for(m++;m<w;m++)if(f=c.charCodeAt(m),!u.__isWhitespace(f))return null}return z.sign=g===-1,z.__trim()}},{key:"__fillFromParts",value:function(c,l,g){for(var w=0,m=0,f=0,y=l.length-1;0<=y;y--){var R=l[y],A=g[y];m|=R<<f,f+=A,f===30?(c.__setDigit(w++,m),f=0,m=0):30<f&&(c.__setDigit(w++,1073741823&m),f-=30,m=R>>>A-f)}if(m!==0){if(w>=c.length)throw new Error("implementation bug");c.__setDigit(w++,m)}for(;w<c.length;w++)c.__setDigit(w,0)}},{key:"__toStringBasePowerOfTwo",value:function(c,l){var g=c.length,w=l-1;w=(85&w>>>1)+(85&w),w=(51&w>>>2)+(51&w),w=(15&w>>>4)+(15&w);var m=w,f=l-1,y=c.__digit(g-1),R=u.__clz30(y),A=0|(30*g-R+m-1)/m;if(c.sign&&A++,268435456<A)throw new Error("string too long");for(var D=Array(A),z=A-1,W=0,H=0,J=0;J<g-1;J++){var Z=c.__digit(J),Y=(W|Z<<H)&f;D[z--]=u.__kConversionChars[Y];var Le=m-H;for(W=Z>>>Le,H=30-Le;H>=m;)D[z--]=u.__kConversionChars[W&f],W>>>=m,H-=m}var Q=(W|y<<H)&f;for(D[z--]=u.__kConversionChars[Q],W=y>>>m-H;W!==0;)D[z--]=u.__kConversionChars[W&f],W>>>=m;if(c.sign&&(D[z--]="-"),z!==-1)throw new Error("implementation bug");return D.join("")}},{key:"__toStringGeneric",value:function(c,l,g){var w=c.length;if(w===0)return"";if(w===1){var m=c.__unsignedDigit(0).toString(l);return g===!1&&c.sign&&(m="-"+m),m}var f=30*w-u.__clz30(c.__digit(w-1)),y=u.__kMaxBitsPerChar[l],R=y-1,A=f*u.__kBitsPerCharTableMultiplier;A+=R-1,A=0|A/R;var D,z,W=A+1>>1,H=u.exponentiate(u.__oneDigit(l,!1),u.__oneDigit(W,!1)),J=H.__unsignedDigit(0);if(H.length===1&&32767>=J){D=new u(c.length,!1),D.__initializeDigits();for(var Z,Y=0,Le=2*c.length-1;0<=Le;Le--)Z=Y<<15|c.__halfDigit(Le),D.__setHalfDigit(Le,0|Z/J),Y=0|Z%J;z=Y.toString(l)}else{var Q=u.__absoluteDivLarge(c,H,!0,!0);D=Q.quotient;var X=Q.remainder.__trim();z=u.__toStringGeneric(X,l,!0)}D.__trim();for(var Qe=u.__toStringGeneric(D,l,!0);z.length<W;)z="0"+z;return g===!1&&c.sign&&(Qe="-"+Qe),Qe+z}},{key:"__unequalSign",value:function(c){return c?-1:1}},{key:"__absoluteGreater",value:function(c){return c?-1:1}},{key:"__absoluteLess",value:function(c){return c?1:-1}},{key:"__compareToBigInt",value:function(c,l){var g=c.sign;if(g!==l.sign)return u.__unequalSign(g);var w=u.__absoluteCompare(c,l);return 0<w?u.__absoluteGreater(g):0>w?u.__absoluteLess(g):0}},{key:"__compareToNumber",value:function(c,l){if(u.__isOneDigitInt(l)){var g=c.sign,w=0>l;if(g!==w)return u.__unequalSign(g);if(c.length===0){if(w)throw new Error("implementation bug");return l===0?0:-1}if(1<c.length)return u.__absoluteGreater(g);var m=K(l),f=c.__unsignedDigit(0);return f>m?u.__absoluteGreater(g):f<m?u.__absoluteLess(g):0}return u.__compareToDouble(c,l)}},{key:"__compareToDouble",value:function(c,l){if(l!==l)return l;if(l===1/0)return-1;if(l===-1/0)return 1;var g=c.sign;if(g!==0>l)return u.__unequalSign(g);if(l===0)throw new Error("implementation bug: should be handled elsewhere");if(c.length===0)return-1;u.__kBitConversionDouble[0]=l;var w=2047&u.__kBitConversionInts[1]>>>20;if(w==2047)throw new Error("implementation bug: handled elsewhere");var m=w-1023;if(0>m)return u.__absoluteGreater(g);var f=c.length,y=c.__digit(f-1),R=u.__clz30(y),A=30*f-R,D=m+1;if(A<D)return u.__absoluteLess(g);if(A>D)return u.__absoluteGreater(g);var z=1048576|1048575&u.__kBitConversionInts[1],W=u.__kBitConversionInts[0],H=20,J=29-R;if(J!==(0|(A-1)%30))throw new Error("implementation bug");var Z,Y=0;if(J<H){var Le=H-J;Y=Le+32,Z=z>>>Le,z=z<<32-Le|W>>>Le,W<<=32-Le}else if(J===H)Y=32,Z=z,z=W,W=0;else{var Q=J-H;Y=32-Q,Z=z<<Q|W>>>32-Q,z=W<<Q,W=0}if(y>>>=0,Z>>>=0,y>Z)return u.__absoluteGreater(g);if(y<Z)return u.__absoluteLess(g);for(var X=f-2;0<=X;X--){0<Y?(Y-=30,Z=z>>>2,z=z<<30|W>>>2,W<<=30):Z=0;var Qe=c.__unsignedDigit(X);if(Qe>Z)return u.__absoluteGreater(g);if(Qe<Z)return u.__absoluteLess(g)}if(z!==0||W!==0){if(Y===0)throw new Error("implementation bug");return u.__absoluteLess(g)}return 0}},{key:"__equalToNumber",value:function(c,l){return u.__isOneDigitInt(l)?l===0?c.length===0:c.length===1&&c.sign===0>l&&c.__unsignedDigit(0)===K(l):u.__compareToDouble(c,l)===0}},{key:"__comparisonResultToBool",value:function(c,l){return l===0?0>c:l===1?0>=c:l===2?0<c:l===3?0<=c:void 0}},{key:"__compare",value:function(c,l,g){if(c=u.__toPrimitive(c),l=u.__toPrimitive(l),typeof c=="string"&&typeof l=="string")switch(g){case 0:return c<l;case 1:return c<=l;case 2:return c>l;case 3:return c>=l}if(u.__isBigInt(c)&&typeof l=="string")return l=u.__fromString(l),l!==null&&u.__comparisonResultToBool(u.__compareToBigInt(c,l),g);if(typeof c=="string"&&u.__isBigInt(l))return c=u.__fromString(c),c!==null&&u.__comparisonResultToBool(u.__compareToBigInt(c,l),g);if(c=u.__toNumeric(c),l=u.__toNumeric(l),u.__isBigInt(c)){if(u.__isBigInt(l))return u.__comparisonResultToBool(u.__compareToBigInt(c,l),g);if(typeof l!="number")throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(c,l),g)}if(typeof c!="number")throw new Error("implementation bug");if(u.__isBigInt(l))return u.__comparisonResultToBool(u.__compareToNumber(l,c),2^g);if(typeof l!="number")throw new Error("implementation bug");return g===0?c<l:g===1?c<=l:g===2?c>l:g===3?c>=l:void 0}},{key:"__absoluteAdd",value:function(c,l,g){if(c.length<l.length)return u.__absoluteAdd(l,c,g);if(c.length===0)return c;if(l.length===0)return c.sign===g?c:u.unaryMinus(c);var w=c.length;(c.__clzmsd()===0||l.length===c.length&&l.__clzmsd()===0)&&w++;for(var m,f=new u(w,g),y=0,R=0;R<l.length;R++)m=c.__digit(R)+l.__digit(R)+y,y=m>>>30,f.__setDigit(R,1073741823&m);for(;R<c.length;R++){var A=c.__digit(R)+y;y=A>>>30,f.__setDigit(R,1073741823&A)}return R<f.length&&f.__setDigit(R,y),f.__trim()}},{key:"__absoluteSub",value:function(c,l,g){if(c.length===0)return c;if(l.length===0)return c.sign===g?c:u.unaryMinus(c);for(var w,m=new u(c.length,g),f=0,y=0;y<l.length;y++)w=c.__digit(y)-l.__digit(y)-f,f=1&w>>>30,m.__setDigit(y,1073741823&w);for(;y<c.length;y++){var R=c.__digit(y)-f;f=1&R>>>30,m.__setDigit(y,1073741823&R)}return m.__trim()}},{key:"__absoluteAddOne",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=c.length;g===null?g=new u(w,l):g.sign=l;for(var m,f=1,y=0;y<w;y++)m=c.__digit(y)+f,f=m>>>30,g.__setDigit(y,1073741823&m);return f!==0&&g.__setDigitGrow(w,1),g}},{key:"__absoluteSubOne",value:function(c,l){var g=c.length;l=l||g;for(var w,m=new u(l,!1),f=1,y=0;y<g;y++)w=c.__digit(y)-f,f=1&w>>>30,m.__setDigit(y,1073741823&w);if(f!==0)throw new Error("implementation bug");for(var R=g;R<l;R++)m.__setDigit(R,0);return m}},{key:"__absoluteAnd",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=c.length,m=l.length,f=m;if(w<m){f=w;var y=c,R=w;c=l,w=m,l=y,m=R}var A=f;g===null?g=new u(A,!1):A=g.length;for(var D=0;D<f;D++)g.__setDigit(D,c.__digit(D)&l.__digit(D));for(;D<A;D++)g.__setDigit(D,0);return g}},{key:"__absoluteAndNot",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=c.length,m=l.length,f=m;w<m&&(f=w);var y=w;g===null?g=new u(y,!1):y=g.length;for(var R=0;R<f;R++)g.__setDigit(R,c.__digit(R)&~l.__digit(R));for(;R<w;R++)g.__setDigit(R,c.__digit(R));for(;R<y;R++)g.__setDigit(R,0);return g}},{key:"__absoluteOr",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=c.length,m=l.length,f=m;if(w<m){f=w;var y=c,R=w;c=l,w=m,l=y,m=R}var A=w;g===null?g=new u(A,!1):A=g.length;for(var D=0;D<f;D++)g.__setDigit(D,c.__digit(D)|l.__digit(D));for(;D<w;D++)g.__setDigit(D,c.__digit(D));for(;D<A;D++)g.__setDigit(D,0);return g}},{key:"__absoluteXor",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=c.length,m=l.length,f=m;if(w<m){f=w;var y=c,R=w;c=l,w=m,l=y,m=R}var A=w;g===null?g=new u(A,!1):A=g.length;for(var D=0;D<f;D++)g.__setDigit(D,c.__digit(D)^l.__digit(D));for(;D<w;D++)g.__setDigit(D,c.__digit(D));for(;D<A;D++)g.__setDigit(D,0);return g}},{key:"__absoluteCompare",value:function(c,l){var g=c.length-l.length;if(g!=0)return g;for(var w=c.length-1;0<=w&&c.__digit(w)===l.__digit(w);)w--;return 0>w?0:c.__unsignedDigit(w)>l.__unsignedDigit(w)?1:-1}},{key:"__multiplyAccumulate",value:function(c,l,g,w){if(l!==0){for(var m=32767&l,f=l>>>15,y=0,R=0,A=0;A<c.length;A++,w++){var D=g.__digit(w),z=c.__digit(A),W=32767&z,H=z>>>15,J=u.__imul(W,m),Z=u.__imul(W,f),Y=u.__imul(H,m),Le=u.__imul(H,f);D+=R+J+y,y=D>>>30,D&=1073741823,D+=((32767&Z)<<15)+((32767&Y)<<15),y+=D>>>30,R=Le+(Z>>>15)+(Y>>>15),g.__setDigit(w,1073741823&D)}for(;y!==0||R!==0;w++){var Q=g.__digit(w);Q+=y+R,R=0,y=Q>>>30,g.__setDigit(w,1073741823&Q)}}}},{key:"__internalMultiplyAdd",value:function(c,l,g,w,m){for(var f=g,y=0,R=0;R<w;R++){var A=c.__digit(R),D=u.__imul(32767&A,l),z=u.__imul(A>>>15,l),W=D+((32767&z)<<15)+y+f;f=W>>>30,y=z>>>15,m.__setDigit(R,1073741823&W)}if(m.length>w)for(m.__setDigit(w++,f+y);w<m.length;)m.__setDigit(w++,0);else if(f+y!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(c,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;g===null&&(g=new u(c.length,!1));for(var w=0,m=2*c.length-1;0<=m;m-=2){var f=(w<<15|c.__halfDigit(m))>>>0,y=0|f/l;w=0|f%l,f=(w<<15|c.__halfDigit(m-1))>>>0;var R=0|f/l;w=0|f%l,g.__setDigit(m>>>1,y<<15|R)}return g}},{key:"__absoluteModSmall",value:function(c,l){for(var g,w=0,m=2*c.length-1;0<=m;m--)g=(w<<15|c.__halfDigit(m))>>>0,w=0|g%l;return w}},{key:"__absoluteDivLarge",value:function(c,l,g,w){var m=l.__halfDigitLength(),f=l.length,y=c.__halfDigitLength()-m,R=null;g&&(R=new u(y+2>>>1,!1),R.__initializeDigits());var A=new u(m+2>>>1,!1);A.__initializeDigits();var D=u.__clz15(l.__halfDigit(m-1));0<D&&(l=u.__specialLeftShift(l,D,0));for(var z=u.__specialLeftShift(c,D,1),W=l.__halfDigit(m-1),H=0,J=y;0<=J;J--){var Z=32767,Y=z.__halfDigit(J+m);if(Y!==W){var Le=(Y<<15|z.__halfDigit(J+m-1))>>>0;Z=0|Le/W;for(var Q=0|Le%W,X=l.__halfDigit(m-2),Qe=z.__halfDigit(J+m-2);u.__imul(Z,X)>>>0>(Q<<16|Qe)>>>0&&(Z--,Q+=W,!(32767<Q)););}u.__internalMultiplyAdd(l,Z,0,f,A);var te=z.__inplaceSub(A,J,m+1);te!==0&&(te=z.__inplaceAdd(l,J,m),z.__setHalfDigit(J+m,32767&z.__halfDigit(J+m)+te),Z--),g&&(1&J?H=Z<<15:R.__setDigit(J>>>1,H|Z))}if(w)return z.__inplaceRightShift(D),g?{quotient:R,remainder:z}:z;if(g)return R;throw new Error("unreachable")}},{key:"__clz15",value:function(c){return u.__clz30(c)-15}},{key:"__specialLeftShift",value:function(c,l,g){var w=c.length,m=new u(w+g,!1);if(l===0){for(var f=0;f<w;f++)m.__setDigit(f,c.__digit(f));return 0<g&&m.__setDigit(w,0),m}for(var y,R=0,A=0;A<w;A++)y=c.__digit(A),m.__setDigit(A,1073741823&y<<l|R),R=y>>>30-l;return 0<g&&m.__setDigit(w,R),m}},{key:"__leftShiftByAbsolute",value:function(c,l){var g=u.__toShiftAmount(l);if(0>g)throw new RangeError("BigInt too big");var w=0|g/30,m=g%30,f=c.length,y=m!==0&&c.__digit(f-1)>>>30-m!=0,R=f+w+(y?1:0),A=new u(R,c.sign);if(m===0){for(var D=0;D<w;D++)A.__setDigit(D,0);for(;D<R;D++)A.__setDigit(D,c.__digit(D-w))}else{for(var z=0,W=0;W<w;W++)A.__setDigit(W,0);for(var H,J=0;J<f;J++)H=c.__digit(J),A.__setDigit(J+w,1073741823&H<<m|z),z=H>>>30-m;if(y)A.__setDigit(f+w,z);else if(z!==0)throw new Error("implementation bug")}return A.__trim()}},{key:"__rightShiftByAbsolute",value:function(c,l){var g=c.length,w=c.sign,m=u.__toShiftAmount(l);if(0>m)return u.__rightShiftByMaximum(w);var f=0|m/30,y=m%30,R=g-f;if(0>=R)return u.__rightShiftByMaximum(w);var A=!1;if(w){if(c.__digit(f)&(1<<y)-1)A=!0;else for(var D=0;D<f;D++)if(c.__digit(D)!==0){A=!0;break}}if(A&&y===0){var z=c.__digit(g-1);!~z&&R++}var W=new u(R,w);if(y===0){W.__setDigit(R-1,0);for(var H=f;H<g;H++)W.__setDigit(H-f,c.__digit(H))}else{for(var J,Z=c.__digit(f)>>>y,Y=g-f-1,Le=0;Le<Y;Le++)J=c.__digit(Le+f+1),W.__setDigit(Le,1073741823&J<<30-y|Z),Z=J>>>y;W.__setDigit(Y,Z)}return A&&(W=u.__absoluteAddOne(W,!0,W)),W.__trim()}},{key:"__rightShiftByMaximum",value:function(c){return c?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(c){if(1<c.length)return-1;var l=c.__unsignedDigit(0);return l>u.__kMaxLengthBits?-1:l}},{key:"__toPrimitive",value:function(c){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(r(c)!=="object"||c.constructor===u)return c;if(typeof Symbol<"u"&&r(Symbol.toPrimitive)==="symbol"){var g=c[Symbol.toPrimitive];if(g){var w=g(l);if(r(w)!=="object")return w;throw new TypeError("Cannot convert object to primitive value")}}var m=c.valueOf;if(m){var f=m.call(c);if(r(f)!=="object")return f}var y=c.toString;if(y){var R=y.call(c);if(r(R)!=="object")return R}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(c){return u.__isBigInt(c)?c:+c}},{key:"__isBigInt",value:function(c){return r(c)==="object"&&c!==null&&c.constructor===u}},{key:"__truncateToNBits",value:function(c,l){for(var g=0|(c+29)/30,w=new u(g,l.sign),m=g-1,f=0;f<m;f++)w.__setDigit(f,l.__digit(f));var y=l.__digit(m);if(c%30!=0){var R=32-c%30;y=y<<R>>>R}return w.__setDigit(m,y),w.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(c,l,g){for(var w=Math.min,m,f=0|(c+29)/30,y=new u(f,g),R=0,A=f-1,D=0,z=w(A,l.length);R<z;R++)m=0-l.__digit(R)-D,D=1&m>>>30,y.__setDigit(R,1073741823&m);for(;R<A;R++)y.__setDigit(R,0|1073741823&-D);var W,H=A<l.length?l.__digit(A):0,J=c%30;if(J===0)W=0-H-D,W&=1073741823;else{var Z=32-J;H=H<<Z>>>Z;var Y=1<<32-Z;W=Y-H-D,W&=Y-1}return y.__setDigit(A,W),y.__trim()}},{key:"__digitPow",value:function(c,l){for(var g=1;0<l;)1&l&&(g*=c),l>>>=1,c*=c;return g}},{key:"__isOneDigitInt",value:function(c){return(1073741823&c)===c}}]),u}(E(Array));return $.__kMaxLength=33554432,$.__kMaxLengthBits=$.__kMaxLength<<5,$.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],$.__kBitsPerCharTableShift=5,$.__kBitsPerCharTableMultiplier=1<<$.__kBitsPerCharTableShift,$.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$.__kBitConversionBuffer=new ArrayBuffer(8),$.__kBitConversionDouble=new Float64Array($.__kBitConversionBuffer),$.__kBitConversionInts=new Int32Array($.__kBitConversionBuffer),$.__clz30=e?function(N){return e(N)-2}:function(N){var K=Math.LN2,_=Math.log;return N===0?30:0|29-(0|_(N>>>0)/K)},$.__imul=t||function(N,K){return 0|N*K},$})});var Vt=V((h8,sO)=>{M();var Hb=Jt(),bu=Hb.Buffer;function oO(t,e){for(var r in t)e[r]=t[r]}bu.from&&bu.alloc&&bu.allocUnsafe&&bu.allocUnsafeSlow?sO.exports=Hb:(oO(Hb,h8),h8.Buffer=tp);function tp(t,e,r){return bu(t,e,r)}oO(bu,tp);tp.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return bu(t,e,r)};tp.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=bu(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};tp.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return bu(t)};tp.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Hb.SlowBuffer(t)}});var pd=V((SIe,m8)=>{"use strict";M();var p8=65536,Ioe=4294967295;function Boe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Doe=Vt().Buffer,Vb=globalThis.crypto||globalThis.msCrypto;Vb&&Vb.getRandomValues?m8.exports=Coe:m8.exports=Boe;function Coe(t,e){if(t>Ioe)throw new RangeError("requested too many random bytes");var r=Doe.allocUnsafe(t);if(t>0)if(t>p8)for(var i=0;i<t;i+=p8)Vb.getRandomValues(r.slice(i,i+p8));else Vb.getRandomValues(r);return typeof e=="function"?j.default.nextTick(function(){e(null,r)}):r}});var st=V((TIe,y8)=>{M();typeof Object.create=="function"?y8.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:y8.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var uO=V((g8,fO)=>{M();var Zb=Jt(),mf=Zb.Buffer;function aO(t,e){for(var r in t)e[r]=t[r]}mf.from&&mf.alloc&&mf.allocUnsafe&&mf.allocUnsafeSlow?fO.exports=Zb:(aO(Zb,g8),g8.Buffer=md);function md(t,e,r){return mf(t,e,r)}md.prototype=Object.create(mf.prototype);aO(mf,md);md.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return mf(t,e,r)};md.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=mf(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};md.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return mf(t)};md.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Zb.SlowBuffer(t)}});var Ps=V((kIe,v8)=>{"use strict";M();var rp=typeof Reflect=="object"?Reflect:null,cO=rp&&typeof rp.apply=="function"?rp.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},Yb;rp&&typeof rp.ownKeys=="function"?Yb=rp.ownKeys:Object.getOwnPropertySymbols?Yb=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Yb=function(e){return Object.getOwnPropertyNames(e)};function Ooe(t){console&&console.warn&&console.warn(t)}var dO=Number.isNaN||function(e){return e!==e};function br(){br.init.call(this)}v8.exports=br;v8.exports.once=Loe;br.EventEmitter=br;br.prototype._events=void 0;br.prototype._eventsCount=0;br.prototype._maxListeners=void 0;var lO=10;function Jb(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(br,"defaultMaxListeners",{enumerable:!0,get:function(){return lO},set:function(t){if(typeof t!="number"||t<0||dO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");lO=t}});br.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};br.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||dO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function hO(t){return t._maxListeners===void 0?br.defaultMaxListeners:t._maxListeners}br.prototype.getMaxListeners=function(){return hO(this)};br.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var d=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw d.context=s,d}var p=o[e];if(p===void 0)return!1;if(typeof p=="function")cO(p,this,r);else for(var v=p.length,b=vO(p,v),i=0;i<v;++i)cO(b[i],this,r);return!0};function pO(t,e,r,i){var n,o,s;if(Jb(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),n=hO(t),n>0&&s.length>n&&!s.warned){s.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=t,d.type=e,d.count=s.length,Ooe(d)}return t}br.prototype.addListener=function(e,r){return pO(this,e,r,!1)};br.prototype.on=br.prototype.addListener;br.prototype.prependListener=function(e,r){return pO(this,e,r,!0)};function joe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function mO(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=joe.bind(i);return n.listener=r,i.wrapFn=n,n}br.prototype.once=function(e,r){return Jb(r),this.on(e,mO(this,e,r)),this};br.prototype.prependOnceListener=function(e,r){return Jb(r),this.prependListener(e,mO(this,e,r)),this};br.prototype.removeListener=function(e,r){var i,n,o,s,d;if(Jb(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(o=-1,s=i.length-1;s>=0;s--)if(i[s]===r||i[s].listener===r){d=i[s].listener,o=s;break}if(o<0)return this;o===0?i.shift():qoe(i,o),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,d||r)}return this};br.prototype.off=br.prototype.removeListener;br.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),s;for(n=0;n<o.length;++n)s=o[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function yO(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?Noe(n):vO(n,n.length)}br.prototype.listeners=function(e){return yO(this,e,!0)};br.prototype.rawListeners=function(e){return yO(this,e,!1)};br.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):gO.call(t,e)};br.prototype.listenerCount=gO;function gO(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}br.prototype.eventNames=function(){return this._eventsCount>0?Yb(this._events):[]};function vO(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function qoe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Noe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Loe(t,e){return new Promise(function(r,i){function n(s){t.removeListener(e,o),i(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}bO(t,e,o,{once:!0}),e!=="error"&&Uoe(t,n,{once:!0})})}function Uoe(t,e,r){typeof t.on=="function"&&bO(t,"error",e,r)}function bO(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(o){i.once&&t.removeEventListener(e,n),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var b8=V((BIe,wO)=>{M();wO.exports=Ps().EventEmitter});var w8=V((CIe,_O)=>{"use strict";M();_O.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==n||s.enumerable!==!0)return!1}return!0}});var ug=V((jIe,xO)=>{"use strict";M();var Foe=w8();xO.exports=function(){return Foe()&&!!Symbol.toStringTag}});var SO=V((NIe,EO)=>{"use strict";M();var MO=typeof Symbol<"u"&&Symbol,zoe=w8();EO.exports=function(){return typeof MO!="function"||typeof Symbol!="function"||typeof MO("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:zoe()}});var PO=V((UIe,TO)=>{"use strict";M();var AO={foo:{}},$oe=Object;TO.exports=function(){return{__proto__:AO}.foo===AO.foo&&!({__proto__:null}instanceof $oe)}});var kO=V((zIe,RO)=>{"use strict";M();var Goe="Function.prototype.bind called on incompatible ",_8=Array.prototype.slice,Woe=Object.prototype.toString,Koe="[object Function]";RO.exports=function(e){var r=this;if(typeof r!="function"||Woe.call(r)!==Koe)throw new TypeError(Goe+r);for(var i=_8.call(arguments,1),n,o=function(){if(this instanceof n){var b=r.apply(this,i.concat(_8.call(arguments)));return Object(b)===b?b:this}else return r.apply(e,i.concat(_8.call(arguments)))},s=Math.max(0,r.length-i.length),d=[],p=0;p<s;p++)d.push("$"+p);if(n=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var v=function(){};v.prototype=r.prototype,n.prototype=new v,v.prototype=null}return n}});var Qb=V((GIe,IO)=>{"use strict";M();var Hoe=kO();IO.exports=Function.prototype.bind||Hoe});var DO=V((KIe,BO)=>{"use strict";M();var Voe=Qb();BO.exports=Voe.call(Function.call,Object.prototype.hasOwnProperty)});var tw=V((VIe,NO)=>{"use strict";M();var Wt,sp=SyntaxError,qO=Function,op=TypeError,x8=function(t){try{return qO('"use strict"; return ('+t+").constructor;")()}catch{}},yd=Object.getOwnPropertyDescriptor;if(yd)try{yd({},"")}catch{yd=null}var M8=function(){throw new op},Zoe=yd?function(){try{return arguments.callee,M8}catch{try{return yd(arguments,"callee").get}catch{return M8}}}():M8,ip=SO()(),Yoe=PO()(),wn=Object.getPrototypeOf||(Yoe?function(t){return t.__proto__}:null),np={},Joe=typeof Uint8Array>"u"||!wn?Wt:wn(Uint8Array),gd={"%AggregateError%":typeof AggregateError>"u"?Wt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Wt:ArrayBuffer,"%ArrayIteratorPrototype%":ip&&wn?wn([][Symbol.iterator]()):Wt,"%AsyncFromSyncIteratorPrototype%":Wt,"%AsyncFunction%":np,"%AsyncGenerator%":np,"%AsyncGeneratorFunction%":np,"%AsyncIteratorPrototype%":np,"%Atomics%":typeof Atomics>"u"?Wt:Atomics,"%BigInt%":typeof BigInt>"u"?Wt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Wt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Wt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Wt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Wt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Wt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Wt:FinalizationRegistry,"%Function%":qO,"%GeneratorFunction%":np,"%Int8Array%":typeof Int8Array>"u"?Wt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Wt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Wt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ip&&wn?wn(wn([][Symbol.iterator]())):Wt,"%JSON%":typeof JSON=="object"?JSON:Wt,"%Map%":typeof Map>"u"?Wt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ip||!wn?Wt:wn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Wt:Promise,"%Proxy%":typeof Proxy>"u"?Wt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Wt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Wt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ip||!wn?Wt:wn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Wt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ip&&wn?wn(""[Symbol.iterator]()):Wt,"%Symbol%":ip?Symbol:Wt,"%SyntaxError%":sp,"%ThrowTypeError%":Zoe,"%TypedArray%":Joe,"%TypeError%":op,"%Uint8Array%":typeof Uint8Array>"u"?Wt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Wt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Wt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Wt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Wt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Wt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Wt:WeakSet};if(wn)try{null.error}catch(t){CO=wn(wn(t)),gd["%Error.prototype%"]=CO}var CO,Qoe=function t(e){var r;if(e==="%AsyncFunction%")r=x8("async function () {}");else if(e==="%GeneratorFunction%")r=x8("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=x8("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&wn&&(r=wn(n.prototype))}return gd[e]=r,r},OO={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cg=Qb(),Xb=DO(),Xoe=cg.call(Function.call,Array.prototype.concat),ese=cg.call(Function.apply,Array.prototype.splice),jO=cg.call(Function.call,String.prototype.replace),ew=cg.call(Function.call,String.prototype.slice),tse=cg.call(Function.call,RegExp.prototype.exec),rse=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ise=/\\(\\)?/g,nse=function(e){var r=ew(e,0,1),i=ew(e,-1);if(r==="%"&&i!=="%")throw new sp("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new sp("invalid intrinsic syntax, expected opening `%`");var n=[];return jO(e,rse,function(o,s,d,p){n[n.length]=d?jO(p,ise,"$1"):s||o}),n},ose=function(e,r){var i=e,n;if(Xb(OO,i)&&(n=OO[i],i="%"+n[0]+"%"),Xb(gd,i)){var o=gd[i];if(o===np&&(o=Qoe(i)),typeof o>"u"&&!r)throw new op("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new sp("intrinsic "+e+" does not exist!")};NO.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new op("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new op('"allowMissing" argument must be a boolean');if(tse(/^%?[^%]*%?$/,e)===null)throw new sp("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=nse(e),n=i.length>0?i[0]:"",o=ose("%"+n+"%",r),s=o.name,d=o.value,p=!1,v=o.alias;v&&(n=v[0],ese(i,Xoe([0,1],v)));for(var b=1,x=!0;b<i.length;b+=1){var E=i[b],T=ew(E,0,1),S=ew(E,-1);if((T==='"'||T==="'"||T==="`"||S==='"'||S==="'"||S==="`")&&T!==S)throw new sp("property names with quotes must have matching quotes");if((E==="constructor"||!x)&&(p=!0),n+="."+E,s="%"+n+"%",Xb(gd,s))d=gd[s];else if(d!=null){if(!(E in d)){if(!r)throw new op("base intrinsic for "+e+" exists, but the property is not available.");return}if(yd&&b+1>=i.length){var P=yd(d,E);x=!!P,x&&"get"in P&&!("originalValue"in P.get)?d=P.get:d=d[E]}else x=Xb(d,E),d=d[E];x&&!p&&(gd[s]=d)}}return d}});var iw=V((YIe,rw)=>{"use strict";M();var E8=Qb(),ap=tw(),FO=ap("%Function.prototype.apply%"),zO=ap("%Function.prototype.call%"),$O=ap("%Reflect.apply%",!0)||E8.call(zO,FO),LO=ap("%Object.getOwnPropertyDescriptor%",!0),vd=ap("%Object.defineProperty%",!0),sse=ap("%Math.max%");if(vd)try{vd({},"a",{value:1})}catch{vd=null}rw.exports=function(e){var r=$O(E8,zO,arguments);if(LO&&vd){var i=LO(r,"length");i.configurable&&vd(r,"length",{value:1+sse(0,e.length-(arguments.length-1))})}return r};var UO=function(){return $O(E8,FO,arguments)};vd?vd(rw.exports,"apply",{value:UO}):rw.exports.apply=UO});var nw=V((QIe,KO)=>{"use strict";M();var GO=tw(),WO=iw(),ase=WO(GO("String.prototype.indexOf"));KO.exports=function(e,r){var i=GO(e,!!r);return typeof i=="function"&&ase(e,".prototype.")>-1?WO(i):i}});var ZO=V((eBe,VO)=>{"use strict";M();var fse=ug()(),use=nw(),S8=use("Object.prototype.toString"),ow=function(e){return fse&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:S8(e)==="[object Arguments]"},HO=function(e){return ow(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&S8(e)!=="[object Array]"&&S8(e.callee)==="[object Function]"},cse=function(){return ow(arguments)}();ow.isLegacyArguments=HO;VO.exports=cse?ow:HO});var QO=V((rBe,JO)=>{"use strict";M();var lse=Object.prototype.toString,dse=Function.prototype.toString,hse=/^\s*(?:function)?\*/,YO=ug()(),A8=Object.getPrototypeOf,pse=function(){if(!YO)return!1;try{return Function("return function*() {}")()}catch{}},T8;JO.exports=function(e){if(typeof e!="function")return!1;if(hse.test(dse.call(e)))return!0;if(!YO){var r=lse.call(e);return r==="[object GeneratorFunction]"}if(!A8)return!1;if(typeof T8>"u"){var i=pse();T8=i?A8(i):!1}return A8(e)===T8}});var rj=V((nBe,tj)=>{"use strict";M();var ej=Function.prototype.toString,fp=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,R8,sw;if(typeof fp=="function"&&typeof Object.defineProperty=="function")try{R8=Object.defineProperty({},"length",{get:function(){throw sw}}),sw={},fp(function(){throw 42},null,R8)}catch(t){t!==sw&&(fp=null)}else fp=null;var mse=/^\s*class\b/,k8=function(e){try{var r=ej.call(e);return mse.test(r)}catch{return!1}},P8=function(e){try{return k8(e)?!1:(ej.call(e),!0)}catch{return!1}},aw=Object.prototype.toString,yse="[object Object]",gse="[object Function]",vse="[object GeneratorFunction]",bse="[object HTMLAllCollection]",wse="[object HTML document.all class]",_se="[object HTMLCollection]",xse=typeof Symbol=="function"&&!!Symbol.toStringTag,Mse=!(0 in[,]),I8=function(){return!1};typeof document=="object"&&(XO=document.all,aw.call(XO)===aw.call(document.all)&&(I8=function(e){if((Mse||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=aw.call(e);return(r===bse||r===wse||r===_se||r===yse)&&e("")==null}catch{}return!1}));var XO;tj.exports=fp?function(e){if(I8(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{fp(e,null,R8)}catch(r){if(r!==sw)return!1}return!k8(e)&&P8(e)}:function(e){if(I8(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(xse)return P8(e);if(k8(e))return!1;var r=aw.call(e);return r!==gse&&r!==vse&&!/^\[object HTML/.test(r)?!1:P8(e)}});var B8=V((sBe,nj)=>{"use strict";M();var Ese=rj(),Sse=Object.prototype.toString,ij=Object.prototype.hasOwnProperty,Ase=function(e,r,i){for(var n=0,o=e.length;n<o;n++)ij.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},Tse=function(e,r,i){for(var n=0,o=e.length;n<o;n++)i==null?r(e.charAt(n),n,e):r.call(i,e.charAt(n),n,e)},Pse=function(e,r,i){for(var n in e)ij.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},Rse=function(e,r,i){if(!Ese(r))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),Sse.call(e)==="[object Array]"?Ase(e,r,n):typeof e=="string"?Tse(e,r,n):Pse(e,r,n)};nj.exports=Rse});var C8=V((fBe,oj)=>{"use strict";M();var D8=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],kse=globalThis;oj.exports=function(){for(var e=[],r=0;r<D8.length;r++)typeof kse[D8[r]]=="function"&&(e[e.length]=D8[r]);return e}});var O8=V((cBe,sj)=>{"use strict";M();var Ise=tw(),fw=Ise("%Object.getOwnPropertyDescriptor%",!0);if(fw)try{fw([],"length")}catch{fw=null}sj.exports=fw});var L8=V((dBe,cj)=>{"use strict";M();var cw=B8(),Bse=C8(),aj=iw(),N8=nw(),Dse=N8("Object.prototype.toString"),uj=ug()(),uw=O8(),fj=globalThis,q8=Bse(),Cse=N8("Array.prototype.indexOf",!0)||function(e,r){for(var i=0;i<e.length;i+=1)if(e[i]===r)return i;return-1},Ose=N8("String.prototype.slice"),lw={__proto__:null},j8=Object.getPrototypeOf;uj&&uw&&j8?cw(q8,function(t){var e=new fj[t];if(Symbol.toStringTag in e){var r=j8(e),i=uw(r,Symbol.toStringTag);if(!i){var n=j8(r);i=uw(n,Symbol.toStringTag)}lw["$"+t]=aj(i.get)}}):cw(q8,function(t){var e=new fj[t];lw["$"+t]=aj(e.slice)});var jse=function(e){var r=!1;return cw(lw,function(i,n){if(!r)try{r="$"+i(e)===n}catch{}}),r},qse=function(e){var r=!1;return cw(lw,function(i){if(!r)try{i(e),r=!0}catch{}}),r};cj.exports=function(e){if(!e||typeof e!="object")return!1;if(!uj){var r=Ose(Dse(e),8,-1);return Cse(q8,r)>-1?!0:r!=="Object"?!1:qse(e)}return uw?jse(e):null}});var gj=V((pBe,yj)=>{"use strict";M();var dj=B8(),Nse=C8(),Lse=iw(),hj=nw(),U8=O8(),Use=hj("Object.prototype.toString"),pj=ug()(),lj=globalThis,Fse=Nse(),zse=hj("String.prototype.slice"),mj={__proto__:null},F8=Object.getPrototypeOf;pj&&U8&&F8&&dj(Fse,function(t){if(typeof lj[t]=="function"){var e=new lj[t];if(Symbol.toStringTag in e){var r=F8(e),i=U8(r,Symbol.toStringTag);if(!i){var n=F8(r);i=U8(n,Symbol.toStringTag)}mj[t]=Lse(i.get)}}});var $se=function(e){var r=!1;return dj(mj,function(i,n){if(!r)try{var o=i(e);o===n&&(r=o)}catch{}}),r},Gse=L8();yj.exports=function(e){return Gse(e)?!pj||!(Symbol.toStringTag in e)?zse(Use(e),8,-1):$se(e):!1}});var Ij=V(zt=>{"use strict";M();var Wse=ZO(),Kse=QO(),pa=gj(),vj=L8();function up(t){return t.call.bind(t)}var bj=typeof BigInt<"u",wj=typeof Symbol<"u",Rs=up(Object.prototype.toString),Hse=up(Number.prototype.valueOf),Vse=up(String.prototype.valueOf),Zse=up(Boolean.prototype.valueOf);bj&&(_j=up(BigInt.prototype.valueOf));var _j;wj&&(xj=up(Symbol.prototype.valueOf));var xj;function dg(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}zt.isArgumentsObject=Wse;zt.isGeneratorFunction=Kse;zt.isTypedArray=vj;function Yse(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}zt.isPromise=Yse;function Jse(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):vj(t)||Ej(t)}zt.isArrayBufferView=Jse;function Qse(t){return pa(t)==="Uint8Array"}zt.isUint8Array=Qse;function Xse(t){return pa(t)==="Uint8ClampedArray"}zt.isUint8ClampedArray=Xse;function eae(t){return pa(t)==="Uint16Array"}zt.isUint16Array=eae;function tae(t){return pa(t)==="Uint32Array"}zt.isUint32Array=tae;function rae(t){return pa(t)==="Int8Array"}zt.isInt8Array=rae;function iae(t){return pa(t)==="Int16Array"}zt.isInt16Array=iae;function nae(t){return pa(t)==="Int32Array"}zt.isInt32Array=nae;function oae(t){return pa(t)==="Float32Array"}zt.isFloat32Array=oae;function sae(t){return pa(t)==="Float64Array"}zt.isFloat64Array=sae;function aae(t){return pa(t)==="BigInt64Array"}zt.isBigInt64Array=aae;function fae(t){return pa(t)==="BigUint64Array"}zt.isBigUint64Array=fae;function dw(t){return Rs(t)==="[object Map]"}dw.working=typeof Map<"u"&&dw(new Map);function uae(t){return typeof Map>"u"?!1:dw.working?dw(t):t instanceof Map}zt.isMap=uae;function hw(t){return Rs(t)==="[object Set]"}hw.working=typeof Set<"u"&&hw(new Set);function cae(t){return typeof Set>"u"?!1:hw.working?hw(t):t instanceof Set}zt.isSet=cae;function pw(t){return Rs(t)==="[object WeakMap]"}pw.working=typeof WeakMap<"u"&&pw(new WeakMap);function lae(t){return typeof WeakMap>"u"?!1:pw.working?pw(t):t instanceof WeakMap}zt.isWeakMap=lae;function $8(t){return Rs(t)==="[object WeakSet]"}$8.working=typeof WeakSet<"u"&&$8(new WeakSet);function dae(t){return $8(t)}zt.isWeakSet=dae;function mw(t){return Rs(t)==="[object ArrayBuffer]"}mw.working=typeof ArrayBuffer<"u"&&mw(new ArrayBuffer);function Mj(t){return typeof ArrayBuffer>"u"?!1:mw.working?mw(t):t instanceof ArrayBuffer}zt.isArrayBuffer=Mj;function yw(t){return Rs(t)==="[object DataView]"}yw.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&yw(new DataView(new ArrayBuffer(1),0,1));function Ej(t){return typeof DataView>"u"?!1:yw.working?yw(t):t instanceof DataView}zt.isDataView=Ej;var z8=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function lg(t){return Rs(t)==="[object SharedArrayBuffer]"}function Sj(t){return typeof z8>"u"?!1:(typeof lg.working>"u"&&(lg.working=lg(new z8)),lg.working?lg(t):t instanceof z8)}zt.isSharedArrayBuffer=Sj;function hae(t){return Rs(t)==="[object AsyncFunction]"}zt.isAsyncFunction=hae;function pae(t){return Rs(t)==="[object Map Iterator]"}zt.isMapIterator=pae;function mae(t){return Rs(t)==="[object Set Iterator]"}zt.isSetIterator=mae;function yae(t){return Rs(t)==="[object Generator]"}zt.isGeneratorObject=yae;function gae(t){return Rs(t)==="[object WebAssembly.Module]"}zt.isWebAssemblyCompiledModule=gae;function Aj(t){return dg(t,Hse)}zt.isNumberObject=Aj;function Tj(t){return dg(t,Vse)}zt.isStringObject=Tj;function Pj(t){return dg(t,Zse)}zt.isBooleanObject=Pj;function Rj(t){return bj&&dg(t,_j)}zt.isBigIntObject=Rj;function kj(t){return wj&&dg(t,xj)}zt.isSymbolObject=kj;function vae(t){return Aj(t)||Tj(t)||Pj(t)||Rj(t)||kj(t)}zt.isBoxedPrimitive=vae;function bae(t){return typeof Uint8Array<"u"&&(Mj(t)||Sj(t))}zt.isAnyArrayBuffer=bae;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(zt,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var Dj=V((vBe,Bj)=>{M();Bj.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var _d=V($t=>{M();var Cj=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),i={},n=0;n<r.length;n++)i[r[n]]=Object.getOwnPropertyDescriptor(e,r[n]);return i},wae=/%[sdj%]/g;$t.format=function(t){if(!Mw(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Ac(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,n=i.length,o=String(t).replace(wae,function(d){if(d==="%%")return"%";if(r>=n)return d;switch(d){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch{return"[Circular]"}default:return d}}),s=i[r];r<n;s=i[++r])xw(s)||!cp(s)?o+=" "+s:o+=" "+Ac(s);return o};$t.deprecate=function(t,e){if(typeof j.default<"u"&&j.default.noDeprecation===!0)return t;if(typeof j.default>"u")return function(){return $t.deprecate(t,e).apply(this,arguments)};var r=!1;function i(){if(!r){if(j.default.throwDeprecation)throw new Error(e);j.default.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return i};var gw={},Oj=/^$/;j.default.env.NODE_DEBUG&&(vw=j.default.env.NODE_DEBUG,vw=vw.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Oj=new RegExp("^"+vw+"$","i"));var vw;$t.debuglog=function(t){if(t=t.toUpperCase(),!gw[t])if(Oj.test(t)){var e=j.default.pid;gw[t]=function(){var r=$t.format.apply($t,arguments);console.error("%s %d: %s",t,e,r)}}else gw[t]=function(){};return gw[t]};function Ac(t,e){var r={seen:[],stylize:xae};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),H8(e)?r.showHidden=e:e&&$t._extend(r,e),wd(r.showHidden)&&(r.showHidden=!1),wd(r.depth)&&(r.depth=2),wd(r.colors)&&(r.colors=!1),wd(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=_ae),ww(r,t,r.depth)}$t.inspect=Ac;Ac.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Ac.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function _ae(t,e){var r=Ac.styles[e];return r?"\x1B["+Ac.colors[r][0]+"m"+t+"\x1B["+Ac.colors[r][1]+"m":t}function xae(t,e){return t}function Mae(t){var e={};return t.forEach(function(r,i){e[r]=!0}),e}function ww(t,e,r){if(t.customInspect&&e&&bw(e.inspect)&&e.inspect!==$t.inspect&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(r,t);return Mw(i)||(i=ww(t,i,r)),i}var n=Eae(t,e);if(n)return n;var o=Object.keys(e),s=Mae(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),pg(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return G8(e);if(o.length===0){if(bw(e)){var d=e.name?": "+e.name:"";return t.stylize("[Function"+d+"]","special")}if(hg(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(_w(e))return t.stylize(Date.prototype.toString.call(e),"date");if(pg(e))return G8(e)}var p="",v=!1,b=["{","}"];if(jj(e)&&(v=!0,b=["[","]"]),bw(e)){var x=e.name?": "+e.name:"";p=" [Function"+x+"]"}if(hg(e)&&(p=" "+RegExp.prototype.toString.call(e)),_w(e)&&(p=" "+Date.prototype.toUTCString.call(e)),pg(e)&&(p=" "+G8(e)),o.length===0&&(!v||e.length==0))return b[0]+p+b[1];if(r<0)return hg(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return v?E=Sae(t,e,r,s,o):E=o.map(function(T){return K8(t,e,r,s,T,v)}),t.seen.pop(),Aae(E,p,b)}function Eae(t,e){if(wd(e))return t.stylize("undefined","undefined");if(Mw(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(qj(e))return t.stylize(""+e,"number");if(H8(e))return t.stylize(""+e,"boolean");if(xw(e))return t.stylize("null","null")}function G8(t){return"["+Error.prototype.toString.call(t)+"]"}function Sae(t,e,r,i,n){for(var o=[],s=0,d=e.length;s<d;++s)Nj(e,String(s))?o.push(K8(t,e,r,i,String(s),!0)):o.push("");return n.forEach(function(p){p.match(/^\d+$/)||o.push(K8(t,e,r,i,p,!0))}),o}function K8(t,e,r,i,n,o){var s,d,p;if(p=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},p.get?p.set?d=t.stylize("[Getter/Setter]","special"):d=t.stylize("[Getter]","special"):p.set&&(d=t.stylize("[Setter]","special")),Nj(i,n)||(s="["+n+"]"),d||(t.seen.indexOf(p.value)<0?(xw(r)?d=ww(t,p.value,null):d=ww(t,p.value,r-1),d.indexOf(`
`)>-1&&(o?d=d.split(`
`).map(function(v){return"  "+v}).join(`
`).substr(2):d=`
`+d.split(`
`).map(function(v){return"   "+v}).join(`
`))):d=t.stylize("[Circular]","special")),wd(s)){if(o&&n.match(/^\d+$/))return d;s=JSON.stringify(""+n),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+d}function Aae(t,e,r){var i=0,n=t.reduce(function(o,s){return i++,s.indexOf(`
`)>=0&&i++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}$t.types=Ij();function jj(t){return Array.isArray(t)}$t.isArray=jj;function H8(t){return typeof t=="boolean"}$t.isBoolean=H8;function xw(t){return t===null}$t.isNull=xw;function Tae(t){return t==null}$t.isNullOrUndefined=Tae;function qj(t){return typeof t=="number"}$t.isNumber=qj;function Mw(t){return typeof t=="string"}$t.isString=Mw;function Pae(t){return typeof t=="symbol"}$t.isSymbol=Pae;function wd(t){return t===void 0}$t.isUndefined=wd;function hg(t){return cp(t)&&V8(t)==="[object RegExp]"}$t.isRegExp=hg;$t.types.isRegExp=hg;function cp(t){return typeof t=="object"&&t!==null}$t.isObject=cp;function _w(t){return cp(t)&&V8(t)==="[object Date]"}$t.isDate=_w;$t.types.isDate=_w;function pg(t){return cp(t)&&(V8(t)==="[object Error]"||t instanceof Error)}$t.isError=pg;$t.types.isNativeError=pg;function bw(t){return typeof t=="function"}$t.isFunction=bw;function Rae(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}$t.isPrimitive=Rae;$t.isBuffer=Dj();function V8(t){return Object.prototype.toString.call(t)}function W8(t){return t<10?"0"+t.toString(10):t.toString(10)}var kae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Iae(){var t=new Date,e=[W8(t.getHours()),W8(t.getMinutes()),W8(t.getSeconds())].join(":");return[t.getDate(),kae[t.getMonth()],e].join(" ")}$t.log=function(){console.log("%s - %s",Iae(),$t.format.apply($t,arguments))};$t.inherits=st();$t._extend=function(t,e){if(!e||!cp(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};function Nj(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var bd=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;$t.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(bd&&e[bd]){var r=e[bd];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,bd,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var i,n,o=new Promise(function(p,v){i=p,n=v}),s=[],d=0;d<arguments.length;d++)s.push(arguments[d]);s.push(function(p,v){p?n(p):i(v)});try{e.apply(this,s)}catch(p){n(p)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),bd&&Object.defineProperty(r,bd,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,Cj(e))};$t.promisify.custom=bd;function Bae(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function Dae(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return n.apply(o,arguments)};t.apply(this,r).then(function(d){j.default.nextTick(s.bind(null,null,d))},function(d){j.default.nextTick(Bae.bind(null,d,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Cj(t)),e}$t.callbackify=Dae});var Gj=V((xBe,$j)=>{"use strict";M();function Lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Uj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(r),!0).forEach(function(i){Cae(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Cae(t,e,r){return e=zj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fj(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,zj(i.key),i)}}function jae(t,e,r){return e&&Fj(t.prototype,e),r&&Fj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zj(t){var e=qae(t,"string");return typeof e=="symbol"?e:String(e)}function qae(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nae=Jt(),Ew=Nae.Buffer,Lae=_d(),Z8=Lae.inspect,Uae=Z8&&Z8.custom||"inspect";function Fae(t,e,r){Ew.prototype.copy.call(t,e,r)}$j.exports=function(){function t(){Oae(this,t),this.head=null,this.tail=null,this.length=0}return jae(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Ew.alloc(0);for(var i=Ew.allocUnsafe(r>>>0),n=this.head,o=0;n;)Fae(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,d=r>s.length?s.length:r;if(d===s.length?o+=s:o+=s.slice(0,r),r-=d,r===0){d===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(d));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=Ew.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,d=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,d),r-=d,r===0){d===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(d));break}++o}return this.length-=o,i}},{key:Uae,value:function(r,i){return Z8(this,Uj(Uj({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var J8=V((EBe,Kj)=>{"use strict";M();function zae(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,j.default.nextTick(Y8,this,t)):j.default.nextTick(Y8,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?j.default.nextTick(Sw,r):(r._writableState.errorEmitted=!0,j.default.nextTick(Wj,r,o)):j.default.nextTick(Wj,r,o):e?(j.default.nextTick(Sw,r),e(o)):j.default.nextTick(Sw,r)}),this)}function Wj(t,e){Y8(t,e),Sw(t)}function Sw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function $ae(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Y8(t,e){t.emit("error",e)}function Gae(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}Kj.exports={destroy:zae,undestroy:$ae,errorOrDestroy:Gae}});var xd=V((ABe,Zj)=>{"use strict";M();function Wae(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Vj={};function ks(t,e,r){r||(r=Error);function i(o,s,d){return typeof e=="string"?e:e(o,s,d)}var n=function(o){Wae(s,o);function s(d,p,v){return o.call(this,i(d,p,v))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,Vj[t]=n}function Hj(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Kae(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Hae(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Vae(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ks("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ks("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Kae(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(Hae(t," argument"))n="The ".concat(t," ").concat(i," ").concat(Hj(e,"type"));else{var o=Vae(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(Hj(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);ks("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ks("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ks("ERR_STREAM_PREMATURE_CLOSE","Premature close");ks("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ks("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ks("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ks("ERR_STREAM_WRITE_AFTER_END","write after end");ks("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ks("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ks("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Zj.exports.codes=Vj});var Q8=V((PBe,Yj)=>{"use strict";M();var Zae=xd().codes.ERR_INVALID_OPT_VALUE;function Yae(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Jae(t,e,r,i){var n=Yae(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new Zae(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}Yj.exports={getHighWaterMark:Jae}});var Aw=V((kBe,Jj)=>{M();Jj.exports=Qae;function Qae(t,e){if(X8("noDeprecation"))return t;var r=!1;function i(){if(!r){if(X8("throwDeprecation"))throw new Error(e);X8("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function X8(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var r5=V((BBe,iq)=>{"use strict";M();iq.exports=vi;function Xj(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Sfe(e,t)}}var lp;vi.WritableState=yg;var Xae={deprecate:Aw()},eq=b8(),Pw=Jt().Buffer,efe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tfe(t){return Pw.from(t)}function rfe(t){return Pw.isBuffer(t)||t instanceof efe}var t5=J8(),ife=Q8(),nfe=ife.getHighWaterMark,Tc=xd().codes,ofe=Tc.ERR_INVALID_ARG_TYPE,sfe=Tc.ERR_METHOD_NOT_IMPLEMENTED,afe=Tc.ERR_MULTIPLE_CALLBACK,ffe=Tc.ERR_STREAM_CANNOT_PIPE,ufe=Tc.ERR_STREAM_DESTROYED,cfe=Tc.ERR_STREAM_NULL_VALUES,lfe=Tc.ERR_STREAM_WRITE_AFTER_END,dfe=Tc.ERR_UNKNOWN_ENCODING,dp=t5.errorOrDestroy;st()(vi,eq);function hfe(){}function yg(t,e,r){lp=lp||Md(),t=t||{},typeof r!="boolean"&&(r=e instanceof lp),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=nfe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){wfe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Xj(this)}yg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(yg.prototype,"buffer",{get:Xae.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Tw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Tw=Function.prototype[Symbol.hasInstance],Object.defineProperty(vi,Symbol.hasInstance,{value:function(e){return Tw.call(this,e)?!0:this!==vi?!1:e&&e._writableState instanceof yg}})):Tw=function(e){return e instanceof this};function vi(t){lp=lp||Md();var e=this instanceof lp;if(!e&&!Tw.call(vi,this))return new vi(t);this._writableState=new yg(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),eq.call(this)}vi.prototype.pipe=function(){dp(this,new ffe)};function pfe(t,e){var r=new lfe;dp(t,r),j.default.nextTick(e,r)}function mfe(t,e,r,i){var n;return r===null?n=new cfe:typeof r!="string"&&!e.objectMode&&(n=new ofe("chunk",["string","Buffer"],r)),n?(dp(t,n),j.default.nextTick(i,n),!1):!0}vi.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&rfe(t);return o&&!Pw.isBuffer(t)&&(t=tfe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=hfe),i.ending?pfe(this,r):(o||mfe(this,i,t,r))&&(i.pendingcb++,n=gfe(this,i,o,t,e,r)),n};vi.prototype.cork=function(){this._writableState.corked++};vi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&tq(this,t))};vi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new dfe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(vi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function yfe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Pw.from(e,r)),e}Object.defineProperty(vi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function gfe(t,e,r,i,n,o){if(!r){var s=yfe(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var d=e.objectMode?1:i.length;e.length+=d;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var v=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},v?v.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else e5(t,e,!1,d,i,n,o);return p}function e5(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ufe("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function vfe(t,e,r,i,n){--e.pendingcb,r?(j.default.nextTick(n,i),j.default.nextTick(mg,t,e),t._writableState.errorEmitted=!0,dp(t,i)):(n(i),t._writableState.errorEmitted=!0,dp(t,i),mg(t,e))}function bfe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function wfe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new afe;if(bfe(r),e)vfe(t,r,i,e,n);else{var o=rq(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&tq(t,r),i?j.default.nextTick(Qj,t,r,o,n):Qj(t,r,o,n)}}function Qj(t,e,r,i){r||_fe(t,e),e.pendingcb--,i(),mg(t,e)}function _fe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function tq(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,d=!0;r;)n[s]=r,r.isBuf||(d=!1),r=r.next,s+=1;n.allBuffers=d,e5(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Xj(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,v=r.encoding,b=r.callback,x=e.objectMode?1:p.length;if(e5(t,e,!1,x,p,v,b),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}vi.prototype._write=function(t,e,r){r(new sfe("_write()"))};vi.prototype._writev=null;vi.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Efe(this,i,r),this};Object.defineProperty(vi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rq(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function xfe(t,e){t._final(function(r){e.pendingcb--,r&&dp(t,r),e.prefinished=!0,t.emit("prefinish"),mg(t,e)})}function Mfe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,j.default.nextTick(xfe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function mg(t,e){var r=rq(e);if(r&&(Mfe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Efe(t,e,r){e.ending=!0,mg(t,e),r&&(e.finished?j.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Sfe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(vi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});vi.prototype.destroy=t5.destroy;vi.prototype._undestroy=t5.undestroy;vi.prototype._destroy=function(t,e){e(t)}});var Md=V((CBe,oq)=>{"use strict";M();var Afe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};oq.exports=yf;var nq=o5(),n5=r5();st()(yf,nq);for(i5=Afe(n5.prototype),Rw=0;Rw<i5.length;Rw++)kw=i5[Rw],yf.prototype[kw]||(yf.prototype[kw]=n5.prototype[kw]);var i5,kw,Rw;function yf(t){if(!(this instanceof yf))return new yf(t);nq.call(this,t),n5.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Tfe)))}Object.defineProperty(yf.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(yf.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(yf.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Tfe(){this._writableState.ended||j.default.nextTick(Pfe,this)}function Pfe(t){t.end()}Object.defineProperty(yf.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var fq=V((s5,aq)=>{M();var Iw=Jt(),gf=Iw.Buffer;function sq(t,e){for(var r in t)e[r]=t[r]}gf.from&&gf.alloc&&gf.allocUnsafe&&gf.allocUnsafeSlow?aq.exports=Iw:(sq(Iw,s5),s5.Buffer=Ed);function Ed(t,e,r){return gf(t,e,r)}Ed.prototype=Object.create(gf.prototype);sq(gf,Ed);Ed.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return gf(t,e,r)};Ed.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=gf(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Ed.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return gf(t)};Ed.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Iw.SlowBuffer(t)}});var wu=V(cq=>{"use strict";M();var f5=fq().Buffer,uq=f5.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Rfe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function kfe(t){var e=Rfe(t);if(typeof e!="string"&&(f5.isEncoding===uq||!uq(t)))throw new Error("Unknown encoding: "+t);return e||t}cq.StringDecoder=gg;function gg(t){this.encoding=kfe(t);var e;switch(this.encoding){case"utf16le":this.text=jfe,this.end=qfe,e=4;break;case"utf8":this.fillLast=Dfe,e=4;break;case"base64":this.text=Nfe,this.end=Lfe,e=3;break;default:this.write=Ufe,this.end=Ffe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=f5.allocUnsafe(e)}gg.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};gg.prototype.end=Ofe;gg.prototype.text=Cfe;gg.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function a5(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Ife(t,e,r){var i=e.length-1;if(i<r)return 0;var n=a5(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=a5(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=a5(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Bfe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Dfe(t){var e=this.lastTotal-this.lastNeed,r=Bfe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Cfe(t,e){var r=Ife(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function Ofe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function jfe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function qfe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Nfe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Lfe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Ufe(t){return t.toString(this.encoding)}function Ffe(t){return t&&t.length?this.write(t):""}});var Bw=V((LBe,hq)=>{"use strict";M();var lq=xd().codes.ERR_STREAM_PREMATURE_CLOSE;function zfe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function $fe(){}function Gfe(t){return t.setHeader&&typeof t.abort=="function"}function dq(t,e,r){if(typeof e=="function")return dq(t,null,e);e||(e={}),r=zfe(r||$fe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||d()},s=t._writableState&&t._writableState.finished,d=function(){n=!1,s=!0,i||r.call(t)},p=t._readableState&&t._readableState.endEmitted,v=function(){i=!1,p=!0,n||r.call(t)},b=function(S){r.call(t,S)},x=function(){var S;if(i&&!p)return(!t._readableState||!t._readableState.ended)&&(S=new lq),r.call(t,S);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(S=new lq),r.call(t,S)},E=function(){t.req.on("finish",d)};return Gfe(t)?(t.on("complete",d),t.on("abort",x),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",v),t.on("finish",d),e.error!==!1&&t.on("error",b),t.on("close",x),function(){t.removeListener("complete",d),t.removeListener("abort",x),t.removeListener("request",E),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",v),t.removeListener("error",b),t.removeListener("close",x)}}hq.exports=dq});var mq=V((FBe,pq)=>{"use strict";M();var Dw;function Pc(t,e,r){return e=Wfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:String(e)}function Kfe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hfe=Bw(),Rc=Symbol("lastResolve"),Sd=Symbol("lastReject"),vg=Symbol("error"),Cw=Symbol("ended"),Ad=Symbol("lastPromise"),u5=Symbol("handlePromise"),Td=Symbol("stream");function kc(t,e){return{value:t,done:e}}function Vfe(t){var e=t[Rc];if(e!==null){var r=t[Td].read();r!==null&&(t[Ad]=null,t[Rc]=null,t[Sd]=null,e(kc(r,!1)))}}function Zfe(t){j.default.nextTick(Vfe,t)}function Yfe(t,e){return function(r,i){t.then(function(){if(e[Cw]){r(kc(void 0,!0));return}e[u5](r,i)},i)}}var Jfe=Object.getPrototypeOf(function(){}),Qfe=Object.setPrototypeOf((Dw={get stream(){return this[Td]},next:function(){var e=this,r=this[vg];if(r!==null)return Promise.reject(r);if(this[Cw])return Promise.resolve(kc(void 0,!0));if(this[Td].destroyed)return new Promise(function(s,d){j.default.nextTick(function(){e[vg]?d(e[vg]):s(kc(void 0,!0))})});var i=this[Ad],n;if(i)n=new Promise(Yfe(i,this));else{var o=this[Td].read();if(o!==null)return Promise.resolve(kc(o,!1));n=new Promise(this[u5])}return this[Ad]=n,n}},Pc(Dw,Symbol.asyncIterator,function(){return this}),Pc(Dw,"return",function(){var e=this;return new Promise(function(r,i){e[Td].destroy(null,function(n){if(n){i(n);return}r(kc(void 0,!0))})})}),Dw),Jfe),Xfe=function(e){var r,i=Object.create(Qfe,(r={},Pc(r,Td,{value:e,writable:!0}),Pc(r,Rc,{value:null,writable:!0}),Pc(r,Sd,{value:null,writable:!0}),Pc(r,vg,{value:null,writable:!0}),Pc(r,Cw,{value:e._readableState.endEmitted,writable:!0}),Pc(r,u5,{value:function(o,s){var d=i[Td].read();d?(i[Ad]=null,i[Rc]=null,i[Sd]=null,o(kc(d,!1))):(i[Rc]=o,i[Sd]=s)},writable:!0}),r));return i[Ad]=null,Hfe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Sd];o!==null&&(i[Ad]=null,i[Rc]=null,i[Sd]=null,o(n)),i[vg]=n;return}var s=i[Rc];s!==null&&(i[Ad]=null,i[Rc]=null,i[Sd]=null,s(kc(void 0,!0))),i[Cw]=!0}),e.on("readable",Zfe.bind(null,i)),i};pq.exports=Xfe});var gq=V(($Be,yq)=>{M();yq.exports=function(){throw new Error("Readable.from is not available in the browser")}});var o5=V((KBe,Tq)=>{"use strict";M();Tq.exports=tr;var hp;tr.ReadableState=_q;var WBe=Ps().EventEmitter,wq=function(e,r){return e.listeners(r).length},wg=b8(),Ow=Jt().Buffer,eue=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tue(t){return Ow.from(t)}function rue(t){return Ow.isBuffer(t)||t instanceof eue}var c5=_d(),qt;c5&&c5.debuglog?qt=c5.debuglog("stream"):qt=function(){};var iue=Gj(),g5=J8(),nue=Q8(),oue=nue.getHighWaterMark,jw=xd().codes,sue=jw.ERR_INVALID_ARG_TYPE,aue=jw.ERR_STREAM_PUSH_AFTER_EOF,fue=jw.ERR_METHOD_NOT_IMPLEMENTED,uue=jw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,pp,l5,d5;st()(tr,wg);var bg=g5.errorOrDestroy,h5=["error","close","destroy","pause","resume"];function cue(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function _q(t,e,r){hp=hp||Md(),t=t||{},typeof r!="boolean"&&(r=e instanceof hp),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=oue(this,t,"readableHighWaterMark",r),this.buffer=new iue,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(pp||(pp=wu().StringDecoder),this.decoder=new pp(t.encoding),this.encoding=t.encoding)}function tr(t){if(hp=hp||Md(),!(this instanceof tr))return new tr(t);var e=this instanceof hp;this._readableState=new _q(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),wg.call(this)}Object.defineProperty(tr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});tr.prototype.destroy=g5.destroy;tr.prototype._undestroy=g5.undestroy;tr.prototype._destroy=function(t,e){e(t)};tr.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ow.from(t,e),e=""),i=!0),xq(this,t,e,!1,i)};tr.prototype.unshift=function(t){return xq(this,t,null,!0,!1)};function xq(t,e,r,i,n){qt("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,hue(t,o);else{var s;if(n||(s=lue(o,e)),s)bg(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Ow.prototype&&(e=tue(e)),i)o.endEmitted?bg(t,new uue):p5(t,o,e,!0);else if(o.ended)bg(t,new aue);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?p5(t,o,e,!1):y5(t,o)):p5(t,o,e,!1)}else i||(o.reading=!1,y5(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function p5(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&qw(t)),y5(t,e)}function lue(t,e){var r;return!rue(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new sue("chunk",["string","Buffer","Uint8Array"],e)),r}tr.prototype.isPaused=function(){return this._readableState.flowing===!1};tr.prototype.setEncoding=function(t){pp||(pp=wu().StringDecoder);var e=new pp(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var vq=1073741824;function due(t){return t>=vq?t=vq:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function bq(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=due(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}tr.prototype.read=function(t){qt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return qt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?m5(this):qw(this),null;if(t=bq(t,e),t===0&&e.ended)return e.length===0&&m5(this),null;var i=e.needReadable;qt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,qt("length less than watermark",i)),e.ended||e.reading?(i=!1,qt("reading or ended",i)):i&&(qt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=bq(r,e)));var n;return t>0?n=Sq(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&m5(this)),n!==null&&this.emit("data",n),n};function hue(t,e){if(qt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?qw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Mq(t)))}}function qw(t){var e=t._readableState;qt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(qt("emitReadable",e.flowing),e.emittedReadable=!0,j.default.nextTick(Mq,t))}function Mq(t){var e=t._readableState;qt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,v5(t)}function y5(t,e){e.readingMore||(e.readingMore=!0,j.default.nextTick(pue,t,e))}function pue(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(qt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}tr.prototype._read=function(t){bg(this,new fue("_read()"))};tr.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,qt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==j.default.stdout&&t!==j.default.stderr,o=n?d:P;i.endEmitted?j.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(B,I){qt("onunpipe"),B===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,b())}function d(){qt("onend"),t.end()}var p=mue(r);t.on("drain",p);var v=!1;function b(){qt("cleanup"),t.removeListener("close",T),t.removeListener("finish",S),t.removeListener("drain",p),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",d),r.removeListener("end",P),r.removeListener("data",x),v=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on("data",x);function x(B){qt("ondata");var I=t.write(B);qt("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&Aq(i.pipes,t)!==-1)&&!v&&(qt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(B){qt("onerror",B),P(),t.removeListener("error",E),wq(t,"error")===0&&bg(t,B)}cue(t,"error",E);function T(){t.removeListener("finish",S),P()}t.once("close",T);function S(){qt("onfinish"),t.removeListener("close",T),P()}t.once("finish",S);function P(){qt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(qt("pipe resume"),r.resume()),t};function mue(t){return function(){var r=t._readableState;qt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&wq(t,"data")&&(r.flowing=!0,v5(t))}}tr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Aq(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};tr.prototype.on=function(t,e){var r=wg.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,qt("on readable",i.length,i.reading),i.length?qw(this):i.reading||j.default.nextTick(yue,this)),r};tr.prototype.addListener=tr.prototype.on;tr.prototype.removeListener=function(t,e){var r=wg.prototype.removeListener.call(this,t,e);return t==="readable"&&j.default.nextTick(Eq,this),r};tr.prototype.removeAllListeners=function(t){var e=wg.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&j.default.nextTick(Eq,this),e};function Eq(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function yue(t){qt("readable nexttick read 0"),t.read(0)}tr.prototype.resume=function(){var t=this._readableState;return t.flowing||(qt("resume"),t.flowing=!t.readableListening,gue(this,t)),t.paused=!1,this};function gue(t,e){e.resumeScheduled||(e.resumeScheduled=!0,j.default.nextTick(vue,t,e))}function vue(t,e){qt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),v5(t),e.flowing&&!e.reading&&t.read(0)}tr.prototype.pause=function(){return qt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function v5(t){var e=t._readableState;for(qt("flow",e.flowing);e.flowing&&t.read()!==null;);}tr.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(qt("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(qt("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var d=e.push(s);d||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(d){return function(){return t[d].apply(t,arguments)}}(n));for(var o=0;o<h5.length;o++)t.on(h5[o],this.emit.bind(this,h5[o]));return this._read=function(s){qt("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(tr.prototype[Symbol.asyncIterator]=function(){return l5===void 0&&(l5=mq()),l5(this)});Object.defineProperty(tr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(tr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(tr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});tr._fromList=Sq;Object.defineProperty(tr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Sq(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function m5(t){var e=t._readableState;qt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,j.default.nextTick(bue,e,t))}function bue(t,e){if(qt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(tr.from=function(t,e){return d5===void 0&&(d5=gq()),d5(tr,t,e)});function Aq(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var b5=V((VBe,Rq)=>{"use strict";M();Rq.exports=_u;var Nw=xd().codes,wue=Nw.ERR_METHOD_NOT_IMPLEMENTED,_ue=Nw.ERR_MULTIPLE_CALLBACK,xue=Nw.ERR_TRANSFORM_ALREADY_TRANSFORMING,Mue=Nw.ERR_TRANSFORM_WITH_LENGTH_0,Lw=Md();st()(_u,Lw);function Eue(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new _ue);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function _u(t){if(!(this instanceof _u))return new _u(t);Lw.call(this,t),this._transformState={afterTransform:Eue.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Sue)}function Sue(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Pq(t,e,r)}):Pq(this,null,null)}_u.prototype.push=function(t,e){return this._transformState.needTransform=!1,Lw.prototype.push.call(this,t,e)};_u.prototype._transform=function(t,e,r){r(new wue("_transform()"))};_u.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};_u.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};_u.prototype._destroy=function(t,e){Lw.prototype._destroy.call(this,t,function(r){e(r)})};function Pq(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Mue;if(t._transformState.transforming)throw new xue;return t.push(null)}});var Bq=V((YBe,Iq)=>{"use strict";M();Iq.exports=_g;var kq=b5();st()(_g,kq);function _g(t){if(!(this instanceof _g))return new _g(t);kq.call(this,t)}_g.prototype._transform=function(t,e,r){r(null,t)}});var qq=V((QBe,jq)=>{"use strict";M();var w5;function Aue(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Oq=xd().codes,Tue=Oq.ERR_MISSING_ARGS,Pue=Oq.ERR_STREAM_DESTROYED;function Dq(t){if(t)throw t}function Rue(t){return t.setHeader&&typeof t.abort=="function"}function kue(t,e,r,i){i=Aue(i);var n=!1;t.on("close",function(){n=!0}),w5===void 0&&(w5=Bw()),w5(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,Rue(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new Pue("pipe"))}}}function Cq(t){t()}function Iue(t,e){return t.pipe(e)}function Bue(t){return!t.length||typeof t[t.length-1]!="function"?Dq:t.pop()}function Due(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Bue(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Tue("streams");var n,o=e.map(function(s,d){var p=d<e.length-1,v=d>0;return kue(s,p,v,function(b){n||(n=b),b&&o.forEach(Cq),!p&&(o.forEach(Cq),i(n))})});return e.reduce(Iue)}jq.exports=Due});var Lq=V((Is,Nq)=>{M();Is=Nq.exports=o5();Is.Stream=Is;Is.Readable=Is;Is.Writable=r5();Is.Duplex=Md();Is.Transform=b5();Is.PassThrough=Bq();Is.finished=Bw();Is.pipeline=qq()});var _5=V((tDe,Fq)=>{"use strict";M();var Uw=uO().Buffer,Uq=Lq().Transform,Cue=st();function Oue(t,e){if(!Uw.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Ic(t){Uq.call(this),this._block=Uw.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Cue(Ic,Uq);Ic.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)};Ic.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Ic.prototype.update=function(t,e){if(Oue(t,"Data"),this._finalized)throw new Error("Digest already called");Uw.isBuffer(t)||(t=Uw.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};Ic.prototype._update=function(){throw new Error("_update is not implemented")};Ic.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Ic.prototype._digest=function(){throw new Error("_digest is not implemented")};Fq.exports=Ic});var $w=V((iDe,$q)=>{"use strict";M();var jue=st(),zq=_5(),que=Vt().Buffer,Nue=new Array(16);function Fw(){zq.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}jue(Fw,zq);Fw.prototype._update=function(){for(var t=Nue,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,i=this._b,n=this._c,o=this._d;r=Yn(r,i,n,o,t[0],3614090360,7),o=Yn(o,r,i,n,t[1],3905402710,12),n=Yn(n,o,r,i,t[2],606105819,17),i=Yn(i,n,o,r,t[3],3250441966,22),r=Yn(r,i,n,o,t[4],4118548399,7),o=Yn(o,r,i,n,t[5],1200080426,12),n=Yn(n,o,r,i,t[6],2821735955,17),i=Yn(i,n,o,r,t[7],4249261313,22),r=Yn(r,i,n,o,t[8],1770035416,7),o=Yn(o,r,i,n,t[9],2336552879,12),n=Yn(n,o,r,i,t[10],4294925233,17),i=Yn(i,n,o,r,t[11],2304563134,22),r=Yn(r,i,n,o,t[12],1804603682,7),o=Yn(o,r,i,n,t[13],4254626195,12),n=Yn(n,o,r,i,t[14],2792965006,17),i=Yn(i,n,o,r,t[15],1236535329,22),r=Jn(r,i,n,o,t[1],4129170786,5),o=Jn(o,r,i,n,t[6],3225465664,9),n=Jn(n,o,r,i,t[11],643717713,14),i=Jn(i,n,o,r,t[0],3921069994,20),r=Jn(r,i,n,o,t[5],3593408605,5),o=Jn(o,r,i,n,t[10],38016083,9),n=Jn(n,o,r,i,t[15],3634488961,14),i=Jn(i,n,o,r,t[4],3889429448,20),r=Jn(r,i,n,o,t[9],568446438,5),o=Jn(o,r,i,n,t[14],3275163606,9),n=Jn(n,o,r,i,t[3],4107603335,14),i=Jn(i,n,o,r,t[8],1163531501,20),r=Jn(r,i,n,o,t[13],2850285829,5),o=Jn(o,r,i,n,t[2],4243563512,9),n=Jn(n,o,r,i,t[7],1735328473,14),i=Jn(i,n,o,r,t[12],2368359562,20),r=Qn(r,i,n,o,t[5],4294588738,4),o=Qn(o,r,i,n,t[8],2272392833,11),n=Qn(n,o,r,i,t[11],1839030562,16),i=Qn(i,n,o,r,t[14],4259657740,23),r=Qn(r,i,n,o,t[1],2763975236,4),o=Qn(o,r,i,n,t[4],1272893353,11),n=Qn(n,o,r,i,t[7],4139469664,16),i=Qn(i,n,o,r,t[10],3200236656,23),r=Qn(r,i,n,o,t[13],681279174,4),o=Qn(o,r,i,n,t[0],3936430074,11),n=Qn(n,o,r,i,t[3],3572445317,16),i=Qn(i,n,o,r,t[6],76029189,23),r=Qn(r,i,n,o,t[9],3654602809,4),o=Qn(o,r,i,n,t[12],3873151461,11),n=Qn(n,o,r,i,t[15],530742520,16),i=Qn(i,n,o,r,t[2],3299628645,23),r=Xn(r,i,n,o,t[0],4096336452,6),o=Xn(o,r,i,n,t[7],1126891415,10),n=Xn(n,o,r,i,t[14],2878612391,15),i=Xn(i,n,o,r,t[5],4237533241,21),r=Xn(r,i,n,o,t[12],1700485571,6),o=Xn(o,r,i,n,t[3],2399980690,10),n=Xn(n,o,r,i,t[10],4293915773,15),i=Xn(i,n,o,r,t[1],2240044497,21),r=Xn(r,i,n,o,t[8],1873313359,6),o=Xn(o,r,i,n,t[15],4264355552,10),n=Xn(n,o,r,i,t[6],2734768916,15),i=Xn(i,n,o,r,t[13],1309151649,21),r=Xn(r,i,n,o,t[4],4149444226,6),o=Xn(o,r,i,n,t[11],3174756917,10),n=Xn(n,o,r,i,t[2],718787259,15),i=Xn(i,n,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+o|0};Fw.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=que.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function zw(t,e){return t<<e|t>>>32-e}function Yn(t,e,r,i,n,o,s){return zw(t+(e&r|~e&i)+n+o|0,s)+e|0}function Jn(t,e,r,i,n,o,s){return zw(t+(e&i|r&~i)+n+o|0,s)+e|0}function Qn(t,e,r,i,n,o,s){return zw(t+(e^r^i)+n+o|0,s)+e|0}function Xn(t,e,r,i,n,o,s){return zw(t+(r^(e|~i))+n+o|0,s)+e|0}$q.exports=Fw});var Ww=V((oDe,Yq)=>{"use strict";M();var x5=Jt().Buffer,Lue=st(),Zq=_5(),Uue=new Array(16),xg=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Mg=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Eg=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Sg=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ag=[0,1518500249,1859775393,2400959708,2840853838],Tg=[1352829926,1548603684,1836072691,2053994217,0];function Gw(){Zq.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Lue(Gw,Zq);Gw.prototype._update=function(){for(var t=Uue,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,d=this._a|0,p=this._b|0,v=this._c|0,b=this._d|0,x=this._e|0,E=0;E<80;E+=1){var T,S;E<16?(T=Gq(r,i,n,o,s,t[xg[E]],Ag[0],Eg[E]),S=Vq(d,p,v,b,x,t[Mg[E]],Tg[0],Sg[E])):E<32?(T=Wq(r,i,n,o,s,t[xg[E]],Ag[1],Eg[E]),S=Hq(d,p,v,b,x,t[Mg[E]],Tg[1],Sg[E])):E<48?(T=Kq(r,i,n,o,s,t[xg[E]],Ag[2],Eg[E]),S=Kq(d,p,v,b,x,t[Mg[E]],Tg[2],Sg[E])):E<64?(T=Hq(r,i,n,o,s,t[xg[E]],Ag[3],Eg[E]),S=Wq(d,p,v,b,x,t[Mg[E]],Tg[3],Sg[E])):(T=Vq(r,i,n,o,s,t[xg[E]],Ag[4],Eg[E]),S=Gq(d,p,v,b,x,t[Mg[E]],Tg[4],Sg[E])),r=s,s=o,o=Pd(n,10),n=i,i=T,d=x,x=b,b=Pd(v,10),v=p,p=S}var P=this._b+n+b|0;this._b=this._c+o+x|0,this._c=this._d+s+d|0,this._d=this._e+r+p|0,this._e=this._a+i+v|0,this._a=P};Gw.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=x5.alloc?x5.alloc(20):new x5(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Pd(t,e){return t<<e|t>>>32-e}function Gq(t,e,r,i,n,o,s,d){return Pd(t+(e^r^i)+o+s|0,d)+n|0}function Wq(t,e,r,i,n,o,s,d){return Pd(t+(e&r|~e&i)+o+s|0,d)+n|0}function Kq(t,e,r,i,n,o,s,d){return Pd(t+((e|~r)^i)+o+s|0,d)+n|0}function Hq(t,e,r,i,n,o,s,d){return Pd(t+(e&i|r&~i)+o+s|0,d)+n|0}function Vq(t,e,r,i,n,o,s,d){return Pd(t+(e^(r|~i))+o+s|0,d)+n|0}Yq.exports=Gw});var Rd=V((aDe,Qq)=>{M();var Jq=Vt().Buffer;function Kw(t,e){this._block=Jq.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Kw.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Jq.from(t,e));for(var r=this._block,i=this._blockSize,n=t.length,o=this._len,s=0;s<n;){for(var d=o%i,p=Math.min(n-s,i-d),v=0;v<p;v++)r[d+v]=t[s+v];o+=p,s+=p,o%i===0&&this._update(r)}return this._len+=n,this};Kw.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};Kw.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Qq.exports=Kw});var tN=V((uDe,eN)=>{M();var Fue=st(),Xq=Rd(),zue=Vt().Buffer,$ue=[1518500249,1859775393,-1894007588,-899497514],Gue=new Array(80);function Pg(){this.init(),this._w=Gue,Xq.call(this,64,56)}Fue(Pg,Xq);Pg.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Wue(t){return t<<5|t>>>27}function Kue(t){return t<<30|t>>>2}function Hue(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}Pg.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<80;++d)e[d]=e[d-3]^e[d-8]^e[d-14]^e[d-16];for(var p=0;p<80;++p){var v=~~(p/20),b=Wue(r)+Hue(v,i,n,o)+s+e[p]+$ue[v]|0;s=o,o=n,n=Kue(i),i=r,r=b}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Pg.prototype._hash=function(){var t=zue.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};eN.exports=Pg});var nN=V((lDe,iN)=>{M();var Vue=st(),rN=Rd(),Zue=Vt().Buffer,Yue=[1518500249,1859775393,-1894007588,-899497514],Jue=new Array(80);function Rg(){this.init(),this._w=Jue,rN.call(this,64,56)}Vue(Rg,rN);Rg.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Que(t){return t<<1|t>>>31}function Xue(t){return t<<5|t>>>27}function ece(t){return t<<30|t>>>2}function tce(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}Rg.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<80;++d)e[d]=Que(e[d-3]^e[d-8]^e[d-14]^e[d-16]);for(var p=0;p<80;++p){var v=~~(p/20),b=Xue(r)+tce(v,i,n,o)+s+e[p]+Yue[v]|0;s=o,o=n,n=ece(i),i=r,r=b}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Rg.prototype._hash=function(){var t=Zue.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};iN.exports=Rg});var M5=V((hDe,sN)=>{M();var rce=st(),oN=Rd(),ice=Vt().Buffer,nce=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],oce=new Array(64);function kg(){this.init(),this._w=oce,oN.call(this,64,56)}rce(kg,oN);kg.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function sce(t,e,r){return r^t&(e^r)}function ace(t,e,r){return t&e|r&(t|e)}function fce(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function uce(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function cce(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function lce(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}kg.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,d=this._f|0,p=this._g|0,v=this._h|0,b=0;b<16;++b)e[b]=t.readInt32BE(b*4);for(;b<64;++b)e[b]=lce(e[b-2])+e[b-7]+cce(e[b-15])+e[b-16]|0;for(var x=0;x<64;++x){var E=v+uce(s)+sce(s,d,p)+nce[x]+e[x]|0,T=fce(r)+ace(r,i,n)|0;v=p,p=d,d=s,s=o+E|0,o=n,n=i,i=r,r=E+T|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=d+this._f|0,this._g=p+this._g|0,this._h=v+this._h|0};kg.prototype._hash=function(){var t=ice.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};sN.exports=kg});var fN=V((mDe,aN)=>{M();var dce=st(),hce=M5(),pce=Rd(),mce=Vt().Buffer,yce=new Array(64);function Hw(){this.init(),this._w=yce,pce.call(this,64,56)}dce(Hw,hce);Hw.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Hw.prototype._hash=function(){var t=mce.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};aN.exports=Hw});var E5=V((gDe,mN)=>{M();var gce=st(),pN=Rd(),vce=Vt().Buffer,uN=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],bce=new Array(160);function Ig(){this.init(),this._w=bce,pN.call(this,128,112)}gce(Ig,pN);Ig.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function cN(t,e,r){return r^t&(e^r)}function lN(t,e,r){return t&e|r&(t|e)}function dN(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function hN(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function wce(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function _ce(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function xce(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Mce(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function _n(t,e){return t>>>0<e>>>0?1:0}Ig.prototype._update=function(t){for(var e=this._w,r=this._ah|0,i=this._bh|0,n=this._ch|0,o=this._dh|0,s=this._eh|0,d=this._fh|0,p=this._gh|0,v=this._hh|0,b=this._al|0,x=this._bl|0,E=this._cl|0,T=this._dl|0,S=this._el|0,P=this._fl|0,B=this._gl|0,I=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var O=e[C-30],F=e[C-15*2+1],q=wce(O,F),G=_ce(F,O);O=e[C-2*2],F=e[C-2*2+1];var $=xce(O,F),N=Mce(F,O),K=e[C-7*2],_=e[C-7*2+1],a=e[C-16*2],u=e[C-16*2+1],h=G+_|0,c=q+K+_n(h,G)|0;h=h+N|0,c=c+$+_n(h,N)|0,h=h+u|0,c=c+a+_n(h,u)|0,e[C]=c,e[C+1]=h}for(var l=0;l<160;l+=2){c=e[l],h=e[l+1];var g=lN(r,i,n),w=lN(b,x,E),m=dN(r,b),f=dN(b,r),y=hN(s,S),R=hN(S,s),A=uN[l],D=uN[l+1],z=cN(s,d,p),W=cN(S,P,B),H=I+R|0,J=v+y+_n(H,I)|0;H=H+W|0,J=J+z+_n(H,W)|0,H=H+D|0,J=J+A+_n(H,D)|0,H=H+h|0,J=J+c+_n(H,h)|0;var Z=f+w|0,Y=m+g+_n(Z,f)|0;v=p,I=B,p=d,B=P,d=s,P=S,S=T+H|0,s=o+J+_n(S,T)|0,o=n,T=E,n=i,E=x,i=r,x=b,b=H+Z|0,r=J+Y+_n(b,H)|0}this._al=this._al+b|0,this._bl=this._bl+x|0,this._cl=this._cl+E|0,this._dl=this._dl+T|0,this._el=this._el+S|0,this._fl=this._fl+P|0,this._gl=this._gl+B|0,this._hl=this._hl+I|0,this._ah=this._ah+r+_n(this._al,b)|0,this._bh=this._bh+i+_n(this._bl,x)|0,this._ch=this._ch+n+_n(this._cl,E)|0,this._dh=this._dh+o+_n(this._dl,T)|0,this._eh=this._eh+s+_n(this._el,S)|0,this._fh=this._fh+d+_n(this._fl,P)|0,this._gh=this._gh+p+_n(this._gl,B)|0,this._hh=this._hh+v+_n(this._hl,I)|0};Ig.prototype._hash=function(){var t=vce.allocUnsafe(64);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};mN.exports=Ig});var gN=V((bDe,yN)=>{M();var Ece=st(),Sce=E5(),Ace=Rd(),Tce=Vt().Buffer,Pce=new Array(160);function Vw(){this.init(),this._w=Pce,Ace.call(this,128,112)}Ece(Vw,Sce);Vw.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Vw.prototype._hash=function(){var t=Tce.allocUnsafe(48);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};yN.exports=Vw});var Zw=V((xu,vN)=>{M();var xu=vN.exports=function(e){e=e.toLowerCase();var r=xu[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};xu.sha=tN();xu.sha1=nN();xu.sha224=fN();xu.sha256=M5();xu.sha384=gN();xu.sha512=E5()});var S5=V((xDe,bN)=>{M();bN.exports=Ps().EventEmitter});var SN=V((EDe,EN)=>{"use strict";M();function wN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function _N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(r),!0).forEach(function(i){Rce(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Rce(t,e,r){return e=MN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xN(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,MN(i.key),i)}}function Ice(t,e,r){return e&&xN(t.prototype,e),r&&xN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MN(t){var e=Bce(t,"string");return typeof e=="symbol"?e:String(e)}function Bce(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dce=Jt(),Yw=Dce.Buffer,Cce=_d(),A5=Cce.inspect,Oce=A5&&A5.custom||"inspect";function jce(t,e,r){Yw.prototype.copy.call(t,e,r)}EN.exports=function(){function t(){kce(this,t),this.head=null,this.tail=null,this.length=0}return Ice(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Yw.alloc(0);for(var i=Yw.allocUnsafe(r>>>0),n=this.head,o=0;n;)jce(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,d=r>s.length?s.length:r;if(d===s.length?o+=s:o+=s.slice(0,r),r-=d,r===0){d===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(d));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=Yw.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,d=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,d),r-=d,r===0){d===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(d));break}++o}return this.length-=o,i}},{key:Oce,value:function(r,i){return A5(this,_N(_N({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var P5=V((ADe,TN)=>{"use strict";M();function qce(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,j.default.nextTick(T5,this,t)):j.default.nextTick(T5,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?j.default.nextTick(Jw,r):(r._writableState.errorEmitted=!0,j.default.nextTick(AN,r,o)):j.default.nextTick(AN,r,o):e?(j.default.nextTick(Jw,r),e(o)):j.default.nextTick(Jw,r)}),this)}function AN(t,e){T5(t,e),Jw(t)}function Jw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Nce(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function T5(t,e){t.emit("error",e)}function Lce(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}TN.exports={destroy:qce,undestroy:Nce,errorOrDestroy:Lce}});var kd=V((PDe,kN)=>{"use strict";M();function Uce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var RN={};function Bs(t,e,r){r||(r=Error);function i(o,s,d){return typeof e=="string"?e:e(o,s,d)}var n=function(o){Uce(s,o);function s(d,p,v){return o.call(this,i(d,p,v))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,RN[t]=n}function PN(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Fce(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function zce(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function $ce(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Bs("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Bs("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Fce(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(zce(t," argument"))n="The ".concat(t," ").concat(i," ").concat(PN(e,"type"));else{var o=$ce(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(PN(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Bs("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Bs("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Bs("ERR_STREAM_PREMATURE_CLOSE","Premature close");Bs("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Bs("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Bs("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Bs("ERR_STREAM_WRITE_AFTER_END","write after end");Bs("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Bs("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Bs("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");kN.exports.codes=RN});var R5=V((kDe,IN)=>{"use strict";M();var Gce=kd().codes.ERR_INVALID_OPT_VALUE;function Wce(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Kce(t,e,r,i){var n=Wce(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new Gce(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}IN.exports={getHighWaterMark:Kce}});var B5=V((BDe,qN)=>{"use strict";M();qN.exports=bi;function DN(t){var e=this;this.next=null,this.entry=null,this.finish=function(){ble(e,t)}}var mp;bi.WritableState=Dg;var Hce={deprecate:Aw()},CN=S5(),Xw=Jt().Buffer,Vce=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Zce(t){return Xw.from(t)}function Yce(t){return Xw.isBuffer(t)||t instanceof Vce}var I5=P5(),Jce=R5(),Qce=Jce.getHighWaterMark,Bc=kd().codes,Xce=Bc.ERR_INVALID_ARG_TYPE,ele=Bc.ERR_METHOD_NOT_IMPLEMENTED,tle=Bc.ERR_MULTIPLE_CALLBACK,rle=Bc.ERR_STREAM_CANNOT_PIPE,ile=Bc.ERR_STREAM_DESTROYED,nle=Bc.ERR_STREAM_NULL_VALUES,ole=Bc.ERR_STREAM_WRITE_AFTER_END,sle=Bc.ERR_UNKNOWN_ENCODING,yp=I5.errorOrDestroy;st()(bi,CN);function ale(){}function Dg(t,e,r){mp=mp||Id(),t=t||{},typeof r!="boolean"&&(r=e instanceof mp),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Qce(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){ple(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new DN(this)}Dg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Dg.prototype,"buffer",{get:Hce.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Qw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qw=Function.prototype[Symbol.hasInstance],Object.defineProperty(bi,Symbol.hasInstance,{value:function(e){return Qw.call(this,e)?!0:this!==bi?!1:e&&e._writableState instanceof Dg}})):Qw=function(e){return e instanceof this};function bi(t){mp=mp||Id();var e=this instanceof mp;if(!e&&!Qw.call(bi,this))return new bi(t);this._writableState=new Dg(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),CN.call(this)}bi.prototype.pipe=function(){yp(this,new rle)};function fle(t,e){var r=new ole;yp(t,r),j.default.nextTick(e,r)}function ule(t,e,r,i){var n;return r===null?n=new nle:typeof r!="string"&&!e.objectMode&&(n=new Xce("chunk",["string","Buffer"],r)),n?(yp(t,n),j.default.nextTick(i,n),!1):!0}bi.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&Yce(t);return o&&!Xw.isBuffer(t)&&(t=Zce(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=ale),i.ending?fle(this,r):(o||ule(this,i,t,r))&&(i.pendingcb++,n=lle(this,i,o,t,e,r)),n};bi.prototype.cork=function(){this._writableState.corked++};bi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&ON(this,t))};bi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new sle(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(bi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function cle(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Xw.from(e,r)),e}Object.defineProperty(bi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lle(t,e,r,i,n,o){if(!r){var s=cle(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var d=e.objectMode?1:i.length;e.length+=d;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var v=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},v?v.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k5(t,e,!1,d,i,n,o);return p}function k5(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ile("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function dle(t,e,r,i,n){--e.pendingcb,r?(j.default.nextTick(n,i),j.default.nextTick(Bg,t,e),t._writableState.errorEmitted=!0,yp(t,i)):(n(i),t._writableState.errorEmitted=!0,yp(t,i),Bg(t,e))}function hle(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function ple(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new tle;if(hle(r),e)dle(t,r,i,e,n);else{var o=jN(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ON(t,r),i?j.default.nextTick(BN,t,r,o,n):BN(t,r,o,n)}}function BN(t,e,r,i){r||mle(t,e),e.pendingcb--,i(),Bg(t,e)}function mle(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function ON(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,d=!0;r;)n[s]=r,r.isBuf||(d=!1),r=r.next,s+=1;n.allBuffers=d,k5(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new DN(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,v=r.encoding,b=r.callback,x=e.objectMode?1:p.length;if(k5(t,e,!1,x,p,v,b),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}bi.prototype._write=function(t,e,r){r(new ele("_write()"))};bi.prototype._writev=null;bi.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||vle(this,i,r),this};Object.defineProperty(bi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jN(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function yle(t,e){t._final(function(r){e.pendingcb--,r&&yp(t,r),e.prefinished=!0,t.emit("prefinish"),Bg(t,e)})}function gle(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,j.default.nextTick(yle,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Bg(t,e){var r=jN(e);if(r&&(gle(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function vle(t,e,r){e.ending=!0,Bg(t,e),r&&(e.finished?j.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function ble(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(bi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});bi.prototype.destroy=I5.destroy;bi.prototype._undestroy=I5.undestroy;bi.prototype._destroy=function(t,e){e(t)}});var Id=V((CDe,LN)=>{"use strict";M();var wle=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};LN.exports=vf;var NN=O5(),C5=B5();st()(vf,NN);for(D5=wle(C5.prototype),e2=0;e2<D5.length;e2++)t2=D5[e2],vf.prototype[t2]||(vf.prototype[t2]=C5.prototype[t2]);var D5,t2,e2;function vf(t){if(!(this instanceof vf))return new vf(t);NN.call(this,t),C5.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_le)))}Object.defineProperty(vf.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(vf.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(vf.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _le(){this._writableState.ended||j.default.nextTick(xle,this)}function xle(t){t.end()}Object.defineProperty(vf.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var r2=V((jDe,zN)=>{"use strict";M();var UN=kd().codes.ERR_STREAM_PREMATURE_CLOSE;function Mle(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Ele(){}function Sle(t){return t.setHeader&&typeof t.abort=="function"}function FN(t,e,r){if(typeof e=="function")return FN(t,null,e);e||(e={}),r=Mle(r||Ele);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||d()},s=t._writableState&&t._writableState.finished,d=function(){n=!1,s=!0,i||r.call(t)},p=t._readableState&&t._readableState.endEmitted,v=function(){i=!1,p=!0,n||r.call(t)},b=function(S){r.call(t,S)},x=function(){var S;if(i&&!p)return(!t._readableState||!t._readableState.ended)&&(S=new UN),r.call(t,S);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(S=new UN),r.call(t,S)},E=function(){t.req.on("finish",d)};return Sle(t)?(t.on("complete",d),t.on("abort",x),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",v),t.on("finish",d),e.error!==!1&&t.on("error",b),t.on("close",x),function(){t.removeListener("complete",d),t.removeListener("abort",x),t.removeListener("request",E),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",v),t.removeListener("error",b),t.removeListener("close",x)}}zN.exports=FN});var GN=V((NDe,$N)=>{"use strict";M();var i2;function Dc(t,e,r){return e=Ale(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ale(t){var e=Tle(t,"string");return typeof e=="symbol"?e:String(e)}function Tle(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ple=r2(),Cc=Symbol("lastResolve"),Bd=Symbol("lastReject"),Cg=Symbol("error"),n2=Symbol("ended"),Dd=Symbol("lastPromise"),j5=Symbol("handlePromise"),Cd=Symbol("stream");function Oc(t,e){return{value:t,done:e}}function Rle(t){var e=t[Cc];if(e!==null){var r=t[Cd].read();r!==null&&(t[Dd]=null,t[Cc]=null,t[Bd]=null,e(Oc(r,!1)))}}function kle(t){j.default.nextTick(Rle,t)}function Ile(t,e){return function(r,i){t.then(function(){if(e[n2]){r(Oc(void 0,!0));return}e[j5](r,i)},i)}}var Ble=Object.getPrototypeOf(function(){}),Dle=Object.setPrototypeOf((i2={get stream(){return this[Cd]},next:function(){var e=this,r=this[Cg];if(r!==null)return Promise.reject(r);if(this[n2])return Promise.resolve(Oc(void 0,!0));if(this[Cd].destroyed)return new Promise(function(s,d){j.default.nextTick(function(){e[Cg]?d(e[Cg]):s(Oc(void 0,!0))})});var i=this[Dd],n;if(i)n=new Promise(Ile(i,this));else{var o=this[Cd].read();if(o!==null)return Promise.resolve(Oc(o,!1));n=new Promise(this[j5])}return this[Dd]=n,n}},Dc(i2,Symbol.asyncIterator,function(){return this}),Dc(i2,"return",function(){var e=this;return new Promise(function(r,i){e[Cd].destroy(null,function(n){if(n){i(n);return}r(Oc(void 0,!0))})})}),i2),Ble),Cle=function(e){var r,i=Object.create(Dle,(r={},Dc(r,Cd,{value:e,writable:!0}),Dc(r,Cc,{value:null,writable:!0}),Dc(r,Bd,{value:null,writable:!0}),Dc(r,Cg,{value:null,writable:!0}),Dc(r,n2,{value:e._readableState.endEmitted,writable:!0}),Dc(r,j5,{value:function(o,s){var d=i[Cd].read();d?(i[Dd]=null,i[Cc]=null,i[Bd]=null,o(Oc(d,!1))):(i[Cc]=o,i[Bd]=s)},writable:!0}),r));return i[Dd]=null,Ple(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Bd];o!==null&&(i[Dd]=null,i[Cc]=null,i[Bd]=null,o(n)),i[Cg]=n;return}var s=i[Cc];s!==null&&(i[Dd]=null,i[Cc]=null,i[Bd]=null,s(Oc(void 0,!0))),i[n2]=!0}),e.on("readable",kle.bind(null,i)),i};$N.exports=Cle});var KN=V((UDe,WN)=>{M();WN.exports=function(){throw new Error("Readable.from is not available in the browser")}});var O5=V(($De,rL)=>{"use strict";M();rL.exports=rr;var gp;rr.ReadableState=YN;var zDe=Ps().EventEmitter,ZN=function(e,r){return e.listeners(r).length},jg=S5(),o2=Jt().Buffer,Ole=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function jle(t){return o2.from(t)}function qle(t){return o2.isBuffer(t)||t instanceof Ole}var q5=_d(),Nt;q5&&q5.debuglog?Nt=q5.debuglog("stream"):Nt=function(){};var Nle=SN(),G5=P5(),Lle=R5(),Ule=Lle.getHighWaterMark,s2=kd().codes,Fle=s2.ERR_INVALID_ARG_TYPE,zle=s2.ERR_STREAM_PUSH_AFTER_EOF,$le=s2.ERR_METHOD_NOT_IMPLEMENTED,Gle=s2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,vp,N5,L5;st()(rr,jg);var Og=G5.errorOrDestroy,U5=["error","close","destroy","pause","resume"];function Wle(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function YN(t,e,r){gp=gp||Id(),t=t||{},typeof r!="boolean"&&(r=e instanceof gp),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Ule(this,t,"readableHighWaterMark",r),this.buffer=new Nle,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(vp||(vp=wu().StringDecoder),this.decoder=new vp(t.encoding),this.encoding=t.encoding)}function rr(t){if(gp=gp||Id(),!(this instanceof rr))return new rr(t);var e=this instanceof gp;this._readableState=new YN(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),jg.call(this)}Object.defineProperty(rr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});rr.prototype.destroy=G5.destroy;rr.prototype._undestroy=G5.undestroy;rr.prototype._destroy=function(t,e){e(t)};rr.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=o2.from(t,e),e=""),i=!0),JN(this,t,e,!1,i)};rr.prototype.unshift=function(t){return JN(this,t,null,!0,!1)};function JN(t,e,r,i,n){Nt("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Vle(t,o);else{var s;if(n||(s=Kle(o,e)),s)Og(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==o2.prototype&&(e=jle(e)),i)o.endEmitted?Og(t,new Gle):F5(t,o,e,!0);else if(o.ended)Og(t,new zle);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?F5(t,o,e,!1):$5(t,o)):F5(t,o,e,!1)}else i||(o.reading=!1,$5(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function F5(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&a2(t)),$5(t,e)}function Kle(t,e){var r;return!qle(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Fle("chunk",["string","Buffer","Uint8Array"],e)),r}rr.prototype.isPaused=function(){return this._readableState.flowing===!1};rr.prototype.setEncoding=function(t){vp||(vp=wu().StringDecoder);var e=new vp(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var HN=1073741824;function Hle(t){return t>=HN?t=HN:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function VN(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Hle(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}rr.prototype.read=function(t){Nt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Nt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?z5(this):a2(this),null;if(t=VN(t,e),t===0&&e.ended)return e.length===0&&z5(this),null;var i=e.needReadable;Nt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Nt("length less than watermark",i)),e.ended||e.reading?(i=!1,Nt("reading or ended",i)):i&&(Nt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=VN(r,e)));var n;return t>0?n=eL(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&z5(this)),n!==null&&this.emit("data",n),n};function Vle(t,e){if(Nt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?a2(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,QN(t)))}}function a2(t){var e=t._readableState;Nt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Nt("emitReadable",e.flowing),e.emittedReadable=!0,j.default.nextTick(QN,t))}function QN(t){var e=t._readableState;Nt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,W5(t)}function $5(t,e){e.readingMore||(e.readingMore=!0,j.default.nextTick(Zle,t,e))}function Zle(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Nt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}rr.prototype._read=function(t){Og(this,new $le("_read()"))};rr.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Nt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==j.default.stdout&&t!==j.default.stderr,o=n?d:P;i.endEmitted?j.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(B,I){Nt("onunpipe"),B===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,b())}function d(){Nt("onend"),t.end()}var p=Yle(r);t.on("drain",p);var v=!1;function b(){Nt("cleanup"),t.removeListener("close",T),t.removeListener("finish",S),t.removeListener("drain",p),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",d),r.removeListener("end",P),r.removeListener("data",x),v=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on("data",x);function x(B){Nt("ondata");var I=t.write(B);Nt("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&tL(i.pipes,t)!==-1)&&!v&&(Nt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(B){Nt("onerror",B),P(),t.removeListener("error",E),ZN(t,"error")===0&&Og(t,B)}Wle(t,"error",E);function T(){t.removeListener("finish",S),P()}t.once("close",T);function S(){Nt("onfinish"),t.removeListener("close",T),P()}t.once("finish",S);function P(){Nt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Nt("pipe resume"),r.resume()),t};function Yle(t){return function(){var r=t._readableState;Nt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&ZN(t,"data")&&(r.flowing=!0,W5(t))}}rr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=tL(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};rr.prototype.on=function(t,e){var r=jg.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Nt("on readable",i.length,i.reading),i.length?a2(this):i.reading||j.default.nextTick(Jle,this)),r};rr.prototype.addListener=rr.prototype.on;rr.prototype.removeListener=function(t,e){var r=jg.prototype.removeListener.call(this,t,e);return t==="readable"&&j.default.nextTick(XN,this),r};rr.prototype.removeAllListeners=function(t){var e=jg.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&j.default.nextTick(XN,this),e};function XN(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Jle(t){Nt("readable nexttick read 0"),t.read(0)}rr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Nt("resume"),t.flowing=!t.readableListening,Qle(this,t)),t.paused=!1,this};function Qle(t,e){e.resumeScheduled||(e.resumeScheduled=!0,j.default.nextTick(Xle,t,e))}function Xle(t,e){Nt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),W5(t),e.flowing&&!e.reading&&t.read(0)}rr.prototype.pause=function(){return Nt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Nt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function W5(t){var e=t._readableState;for(Nt("flow",e.flowing);e.flowing&&t.read()!==null;);}rr.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Nt("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Nt("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var d=e.push(s);d||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(d){return function(){return t[d].apply(t,arguments)}}(n));for(var o=0;o<U5.length;o++)t.on(U5[o],this.emit.bind(this,U5[o]));return this._read=function(s){Nt("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(rr.prototype[Symbol.asyncIterator]=function(){return N5===void 0&&(N5=GN()),N5(this)});Object.defineProperty(rr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(rr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(rr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});rr._fromList=eL;Object.defineProperty(rr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function eL(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function z5(t){var e=t._readableState;Nt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,j.default.nextTick(ede,e,t))}function ede(t,e){if(Nt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(rr.from=function(t,e){return L5===void 0&&(L5=KN()),L5(rr,t,e)});function tL(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var K5=V((WDe,nL)=>{"use strict";M();nL.exports=Mu;var f2=kd().codes,tde=f2.ERR_METHOD_NOT_IMPLEMENTED,rde=f2.ERR_MULTIPLE_CALLBACK,ide=f2.ERR_TRANSFORM_ALREADY_TRANSFORMING,nde=f2.ERR_TRANSFORM_WITH_LENGTH_0,u2=Id();st()(Mu,u2);function ode(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new rde);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Mu(t){if(!(this instanceof Mu))return new Mu(t);u2.call(this,t),this._transformState={afterTransform:ode.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",sde)}function sde(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){iL(t,e,r)}):iL(this,null,null)}Mu.prototype.push=function(t,e){return this._transformState.needTransform=!1,u2.prototype.push.call(this,t,e)};Mu.prototype._transform=function(t,e,r){r(new tde("_transform()"))};Mu.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Mu.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Mu.prototype._destroy=function(t,e){u2.prototype._destroy.call(this,t,function(r){e(r)})};function iL(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new nde;if(t._transformState.transforming)throw new ide;return t.push(null)}});var aL=V((HDe,sL)=>{"use strict";M();sL.exports=qg;var oL=K5();st()(qg,oL);function qg(t){if(!(this instanceof qg))return new qg(t);oL.call(this,t)}qg.prototype._transform=function(t,e,r){r(null,t)}});var dL=V((ZDe,lL)=>{"use strict";M();var H5;function ade(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var cL=kd().codes,fde=cL.ERR_MISSING_ARGS,ude=cL.ERR_STREAM_DESTROYED;function fL(t){if(t)throw t}function cde(t){return t.setHeader&&typeof t.abort=="function"}function lde(t,e,r,i){i=ade(i);var n=!1;t.on("close",function(){n=!0}),H5===void 0&&(H5=r2()),H5(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,cde(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new ude("pipe"))}}}function uL(t){t()}function dde(t,e){return t.pipe(e)}function hde(t){return!t.length||typeof t[t.length-1]!="function"?fL:t.pop()}function pde(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=hde(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new fde("streams");var n,o=e.map(function(s,d){var p=d<e.length-1,v=d>0;return lde(s,p,v,function(b){n||(n=b),b&&o.forEach(uL),!p&&(o.forEach(uL),i(n))})});return e.reduce(dde)}lL.exports=pde});var pL=V((JDe,hL)=>{M();hL.exports=Ds;var V5=Ps().EventEmitter,mde=st();mde(Ds,V5);Ds.Readable=O5();Ds.Writable=B5();Ds.Duplex=Id();Ds.Transform=K5();Ds.PassThrough=aL();Ds.finished=r2();Ds.pipeline=dL();Ds.Stream=Ds;function Ds(){V5.call(this)}Ds.prototype.pipe=function(t,e){var r=this;function i(b){t.writable&&t.write(b)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",d));var o=!1;function s(){o||(o=!0,t.end())}function d(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function p(b){if(v(),V5.listenerCount(this,"error")===0)throw b}r.on("error",p),t.on("error",p);function v(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",d),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",v),r.removeListener("close",v),t.removeListener("close",v)}return r.on("end",v),r.on("close",v),t.on("close",v),t.emit("pipe",r),t}});var Eu=V((XDe,gL)=>{M();var mL=Vt().Buffer,yL=pL().Transform,yde=wu().StringDecoder,gde=st();function ma(t){yL.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}gde(ma,yL);ma.prototype.update=function(t,e,r){typeof t=="string"&&(t=mL.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};ma.prototype.setAutoPadding=function(){};ma.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};ma.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};ma.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};ma.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}};ma.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};ma.prototype._finalOrDigest=function(t){var e=this.__final()||mL.alloc(0);return t&&(e=this._toString(e,t,!0)),e};ma.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new yde(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};gL.exports=ma});var bp=V((tCe,bL)=>{"use strict";M();var vde=st(),bde=$w(),wde=Ww(),_de=Zw(),vL=Eu();function c2(t){vL.call(this,"digest"),this._hash=t}vde(c2,vL);c2.prototype._update=function(t){this._hash.update(t)};c2.prototype._final=function(){return this._hash.digest()};bL.exports=function(e){return e=e.toLowerCase(),e==="md5"?new bde:e==="rmd160"||e==="ripemd160"?new wde:new c2(_de(e))}});var xL=V((iCe,_L)=>{"use strict";M();var xde=st(),Od=Vt().Buffer,wL=Eu(),Mde=Od.alloc(128),wp=64;function l2(t,e){wL.call(this,"digest"),typeof e=="string"&&(e=Od.from(e)),this._alg=t,this._key=e,e.length>wp?e=t(e):e.length<wp&&(e=Od.concat([e,Mde],wp));for(var r=this._ipad=Od.allocUnsafe(wp),i=this._opad=Od.allocUnsafe(wp),n=0;n<wp;n++)r[n]=e[n]^54,i[n]=e[n]^92;this._hash=[r]}xde(l2,wL);l2.prototype._update=function(t){this._hash.push(t)};l2.prototype._final=function(){var t=this._alg(Od.concat(this._hash));return this._alg(Od.concat([this._opad,t]))};_L.exports=l2});var Z5=V((oCe,ML)=>{M();var Ede=$w();ML.exports=function(t){return new Ede().update(t).digest()}});var Q5=V((aCe,SL)=>{"use strict";M();var Sde=st(),Ade=xL(),EL=Eu(),Ng=Vt().Buffer,Tde=Z5(),Y5=Ww(),J5=Zw(),Pde=Ng.alloc(128);function Lg(t,e){EL.call(this,"digest"),typeof e=="string"&&(e=Ng.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var i=t==="rmd160"?new Y5:J5(t);e=i.update(e).digest()}else e.length<r&&(e=Ng.concat([e,Pde],r));for(var n=this._ipad=Ng.allocUnsafe(r),o=this._opad=Ng.allocUnsafe(r),s=0;s<r;s++)n[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new Y5:J5(t),this._hash.update(n)}Sde(Lg,EL);Lg.prototype._update=function(t){this._hash.update(t)};Lg.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new Y5:J5(this._alg);return e.update(this._opad).update(t).digest()};SL.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Lg("rmd160",r):e==="md5"?new Ade(Tde,r):new Lg(e,r)}});var X5=V((uCe,Rde)=>{Rde.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var TL=V((cCe,AL)=>{"use strict";M();AL.exports=X5()});var eE=V((dCe,PL)=>{M();var kde=Math.pow(2,30)-1;PL.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>kde||e!==e)throw new TypeError("Bad key length")}});var tE=V((pCe,kL)=>{M();var d2;globalThis.process&&globalThis.process.browser?d2="utf-8":globalThis.process&&globalThis.process.version?(RL=parseInt(j.default.version.split(".")[0].slice(1),10),d2=RL>=6?"utf-8":"binary"):d2="utf-8";var RL;kL.exports=d2});var iE=V((yCe,IL)=>{M();var rE=Vt().Buffer;IL.exports=function(t,e,r){if(rE.isBuffer(t))return t;if(typeof t=="string")return rE.from(t,e);if(ArrayBuffer.isView(t))return rE.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var nE=V((vCe,OL)=>{M();var Ide=Z5(),Bde=Ww(),Dde=Zw(),jd=Vt().Buffer,Cde=eE(),BL=tE(),DL=iE(),Ode=jd.alloc(128),h2={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function CL(t,e,r){var i=jde(t),n=t==="sha512"||t==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=jd.concat([e,Ode],n));for(var o=jd.allocUnsafe(n+h2[t]),s=jd.allocUnsafe(n+h2[t]),d=0;d<n;d++)o[d]=e[d]^54,s[d]=e[d]^92;var p=jd.allocUnsafe(n+r+4);o.copy(p,0,0,n),this.ipad1=p,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=n,this.hash=i,this.size=h2[t]}CL.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function jde(t){function e(i){return Dde(t).update(i).digest()}function r(i){return new Bde().update(i).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?Ide:e}function qde(t,e,r,i,n){Cde(r,i),t=DL(t,BL,"Password"),e=DL(e,BL,"Salt"),n=n||"sha1";var o=new CL(n,t,e.length),s=jd.allocUnsafe(i),d=jd.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,v=h2[n],b=Math.ceil(i/v),x=1;x<=b;x++){d.writeUInt32BE(x,e.length);for(var E=o.run(d,o.ipad1),T=E,S=1;S<r;S++){T=o.run(T,o.ipad2);for(var P=0;P<v;P++)E[P]^=T[P]}E.copy(s,p),p+=v}return s}OL.exports=qde});var zL=V((wCe,FL)=>{M();var LL=Vt().Buffer,Nde=eE(),jL=tE(),qL=nE(),NL=iE(),p2,Ug=globalThis.crypto&&globalThis.crypto.subtle,Lde={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},oE=[];function Ude(t){if(globalThis.process&&!globalThis.process.browser||!Ug||!Ug.importKey||!Ug.deriveBits)return Promise.resolve(!1);if(oE[t]!==void 0)return oE[t];p2=p2||LL.alloc(8);var e=UL(p2,p2,10,128,t).then(function(){return!0}).catch(function(){return!1});return oE[t]=e,e}var qd;function sE(){return qd||(globalThis.process&&globalThis.process.nextTick?qd=globalThis.process.nextTick:globalThis.queueMicrotask?qd=globalThis.queueMicrotask:globalThis.setImmediate?qd=globalThis.setImmediate:qd=globalThis.setTimeout,qd)}function UL(t,e,r,i,n){return Ug.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return Ug.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},o,i<<3)}).then(function(o){return LL.from(o)})}function Fde(t,e){t.then(function(r){sE()(function(){e(null,r)})},function(r){sE()(function(){e(r)})})}FL.exports=function(t,e,r,i,n,o){typeof n=="function"&&(o=n,n=void 0),n=n||"sha1";var s=Lde[n.toLowerCase()];if(!s||typeof globalThis.Promise!="function"){sE()(function(){var d;try{d=qL(t,e,r,i,n)}catch(p){return o(p)}o(null,d)});return}if(Nde(r,i),t=NL(t,jL,"Password"),e=NL(e,jL,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");Fde(Ude(s).then(function(d){return d?UL(t,e,r,i,s):qL(t,e,r,i,n)}),o)}});var fE=V(aE=>{M();aE.pbkdf2=zL();aE.pbkdf2Sync=nE()});var uE=V(Cs=>{"use strict";M();Cs.readUInt32BE=function(e,r){var i=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return i>>>0};Cs.writeUInt32BE=function(e,r,i){e[0+i]=r>>>24,e[1+i]=r>>>16&255,e[2+i]=r>>>8&255,e[3+i]=r&255};Cs.ip=function(e,r,i,n){for(var o=0,s=0,d=6;d>=0;d-=2){for(var p=0;p<=24;p+=8)o<<=1,o|=r>>>p+d&1;for(var p=0;p<=24;p+=8)o<<=1,o|=e>>>p+d&1}for(var d=6;d>=0;d-=2){for(var p=1;p<=25;p+=8)s<<=1,s|=r>>>p+d&1;for(var p=1;p<=25;p+=8)s<<=1,s|=e>>>p+d&1}i[n+0]=o>>>0,i[n+1]=s>>>0};Cs.rip=function(e,r,i,n){for(var o=0,s=0,d=0;d<4;d++)for(var p=24;p>=0;p-=8)o<<=1,o|=r>>>p+d&1,o<<=1,o|=e>>>p+d&1;for(var d=4;d<8;d++)for(var p=24;p>=0;p-=8)s<<=1,s|=r>>>p+d&1,s<<=1,s|=e>>>p+d&1;i[n+0]=o>>>0,i[n+1]=s>>>0};Cs.pc1=function(e,r,i,n){for(var o=0,s=0,d=7;d>=5;d--){for(var p=0;p<=24;p+=8)o<<=1,o|=r>>p+d&1;for(var p=0;p<=24;p+=8)o<<=1,o|=e>>p+d&1}for(var p=0;p<=24;p+=8)o<<=1,o|=r>>p+d&1;for(var d=1;d<=3;d++){for(var p=0;p<=24;p+=8)s<<=1,s|=r>>p+d&1;for(var p=0;p<=24;p+=8)s<<=1,s|=e>>p+d&1}for(var p=0;p<=24;p+=8)s<<=1,s|=e>>p+d&1;i[n+0]=o>>>0,i[n+1]=s>>>0};Cs.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var m2=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Cs.pc2=function(e,r,i,n){for(var o=0,s=0,d=m2.length>>>1,p=0;p<d;p++)o<<=1,o|=e>>>m2[p]&1;for(var p=d;p<m2.length;p++)s<<=1,s|=r>>>m2[p]&1;i[n+0]=o>>>0,i[n+1]=s>>>0};Cs.expand=function(e,r,i){var n=0,o=0;n=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[i+0]=n>>>0,r[i+1]=o>>>0};var $L=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Cs.substitute=function(e,r){for(var i=0,n=0;n<4;n++){var o=e>>>18-n*6&63,s=$L[n*64+o];i<<=4,i|=s}for(var n=0;n<4;n++){var o=r>>>18-n*6&63,s=$L[4*64+n*64+o];i<<=4,i|=s}return i>>>0};var GL=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Cs.permute=function(e){for(var r=0,i=0;i<GL.length;i++)r<<=1,r|=e>>>GL[i]&1;return r>>>0};Cs.padSplit=function(e,r,i){for(var n=e.toString(2);n.length<r;)n="0"+n;for(var o=[],s=0;s<r;s+=i)o.push(n.slice(s,s+i));return o.join(" ")}});var ss=V((ACe,KL)=>{M();KL.exports=WL;function WL(t,e){if(!t)throw new Error(e||"Assertion failed")}WL.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var y2=V((PCe,HL)=>{"use strict";M();var zde=ss();function Os(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}HL.exports=Os;Os.prototype._init=function(){};Os.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Os.prototype._buffer=function(e,r){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-r),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[r+n];return this.bufferOff+=i,i};Os.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Os.prototype._updateEncrypt=function(e){var r=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(o,i)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,i),i+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};Os.prototype._updateDecrypt=function(e){for(var r=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(e,r),i+=this._flushBuffer(o,i);return r+=this._buffer(e,r),o};Os.prototype.final=function(e){var r;e&&(r=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),r?r.concat(i):i};Os.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Os.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Os.prototype._unpad=function(e){return e};Os.prototype._finalDecrypt=function(){zde.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var cE=V((kCe,YL)=>{"use strict";M();var VL=ss(),$de=st(),tn=uE(),ZL=y2();function Gde(){this.tmp=new Array(2),this.keys=null}function bf(t){ZL.call(this,t);var e=new Gde;this._desState=e,this.deriveKeys(e,t.key)}$de(bf,ZL);YL.exports=bf;bf.create=function(e){return new bf(e)};var Wde=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];bf.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),VL.equal(r.length,this.blockSize,"Invalid key length");var i=tn.readUInt32BE(r,0),n=tn.readUInt32BE(r,4);tn.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=Wde[o>>>1];i=tn.r28shl(i,s),n=tn.r28shl(n,s),tn.pc2(i,n,e.keys,o)}};bf.prototype._update=function(e,r,i,n){var o=this._desState,s=tn.readUInt32BE(e,r),d=tn.readUInt32BE(e,r+4);tn.ip(s,d,o.tmp,0),s=o.tmp[0],d=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,d,o.tmp,0):this._decrypt(o,s,d,o.tmp,0),s=o.tmp[0],d=o.tmp[1],tn.writeUInt32BE(i,s,n),tn.writeUInt32BE(i,d,n+4)};bf.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var i=e.length-r,n=r;n<e.length;n++)e[n]=i;return!0};bf.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],i=e.length-r;i<e.length;i++)VL.equal(e[i],r);return e.slice(0,e.length-r)};bf.prototype._encrypt=function(e,r,i,n,o){for(var s=r,d=i,p=0;p<e.keys.length;p+=2){var v=e.keys[p],b=e.keys[p+1];tn.expand(d,e.tmp,0),v^=e.tmp[0],b^=e.tmp[1];var x=tn.substitute(v,b),E=tn.permute(x),T=d;d=(s^E)>>>0,s=T}tn.rip(d,s,n,o)};bf.prototype._decrypt=function(e,r,i,n,o){for(var s=i,d=r,p=e.keys.length-2;p>=0;p-=2){var v=e.keys[p],b=e.keys[p+1];tn.expand(s,e.tmp,0),v^=e.tmp[0],b^=e.tmp[1];var x=tn.substitute(v,b),E=tn.permute(x),T=s;s=(d^E)>>>0,d=T}tn.rip(s,d,n,o)}});var QL=V(JL=>{"use strict";M();var Kde=ss(),Hde=st(),g2={};function Vde(t){Kde.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function Zde(t){function e(o){t.call(this,o),this._cbcInit()}Hde(e,t);for(var r=Object.keys(g2),i=0;i<r.length;i++){var n=r[i];e.prototype[n]=g2[n]}return e.create=function(s){return new e(s)},e}JL.instantiate=Zde;g2._cbcInit=function(){var e=new Vde(this.options.iv);this._cbcState=e};g2._update=function(e,r,i,n){var o=this._cbcState,s=this.constructor.super_.prototype,d=o.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)d[p]^=e[r+p];s._update.call(this,d,0,i,n);for(var p=0;p<this.blockSize;p++)d[p]=i[n+p]}else{s._update.call(this,e,r,i,n);for(var p=0;p<this.blockSize;p++)i[n+p]^=d[p];for(var p=0;p<this.blockSize;p++)d[p]=e[r+p]}}});var tU=V((CCe,eU)=>{"use strict";M();var Yde=ss(),Jde=st(),XL=y2(),jc=cE();function Qde(t,e){Yde.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);t==="encrypt"?this.ciphers=[jc.create({type:"encrypt",key:r}),jc.create({type:"decrypt",key:i}),jc.create({type:"encrypt",key:n})]:this.ciphers=[jc.create({type:"decrypt",key:n}),jc.create({type:"encrypt",key:i}),jc.create({type:"decrypt",key:r})]}function Nd(t){XL.call(this,t);var e=new Qde(this.type,this.options.key);this._edeState=e}Jde(Nd,XL);eU.exports=Nd;Nd.create=function(e){return new Nd(e)};Nd.prototype._update=function(e,r,i,n){var o=this._edeState;o.ciphers[0]._update(e,r,i,n),o.ciphers[1]._update(i,n,i,n),o.ciphers[2]._update(i,n,i,n)};Nd.prototype._pad=jc.prototype._pad;Nd.prototype._unpad=jc.prototype._unpad});var rU=V(_p=>{"use strict";M();_p.utils=uE();_p.Cipher=y2();_p.DES=cE();_p.CBC=QL();_p.EDE=tU()});var oU=V((NCe,nU)=>{M();var iU=Eu(),Su=rU(),Xde=st(),Ld=Vt().Buffer,Fg={"des-ede3-cbc":Su.CBC.instantiate(Su.EDE),"des-ede3":Su.EDE,"des-ede-cbc":Su.CBC.instantiate(Su.EDE),"des-ede":Su.EDE,"des-cbc":Su.CBC.instantiate(Su.DES),"des-ecb":Su.DES};Fg.des=Fg["des-cbc"];Fg.des3=Fg["des-ede3-cbc"];nU.exports=v2;Xde(v2,iU);function v2(t){iU.call(this);var e=t.mode.toLowerCase(),r=Fg[e],i;t.decrypt?i="decrypt":i="encrypt";var n=t.key;Ld.isBuffer(n)||(n=Ld.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=Ld.concat([n,n.slice(0,8)]));var o=t.iv;Ld.isBuffer(o)||(o=Ld.from(o)),this._des=r.create({key:n,iv:o,type:i})}v2.prototype._update=function(t){return Ld.from(this._des.update(t))};v2.prototype._final=function(){return Ld.from(this._des.final())}});var sU=V(lE=>{M();lE.encrypt=function(t,e){return t._cipher.encryptBlock(e)};lE.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var xp=V((zCe,aU)=>{M();aU.exports=function(e,r){for(var i=Math.min(e.length,r.length),n=new L.Buffer(i),o=0;o<i;++o)n[o]=e[o]^r[o];return n}});var uU=V(dE=>{M();var fU=xp();dE.encrypt=function(t,e){var r=fU(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};dE.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return fU(i,r)}});var dU=V(lU=>{M();var zg=Vt().Buffer,ehe=xp();function cU(t,e,r){var i=e.length,n=ehe(e,t._cache);return t._cache=t._cache.slice(i),t._prev=zg.concat([t._prev,r?e:n]),n}lU.encrypt=function(t,e,r){for(var i=zg.allocUnsafe(0),n;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=zg.allocUnsafe(0)),t._cache.length<=e.length)n=t._cache.length,i=zg.concat([i,cU(t,e.slice(0,n),r)]),e=e.slice(n);else{i=zg.concat([i,cU(t,e,r)]);break}return i}});var pU=V(hU=>{M();var hE=Vt().Buffer;function the(t,e,r){var i=t._cipher.encryptBlock(t._prev),n=i[0]^e;return t._prev=hE.concat([t._prev.slice(1),hE.from([r?e:n])]),n}hU.encrypt=function(t,e,r){for(var i=e.length,n=hE.allocUnsafe(i),o=-1;++o<i;)n[o]=the(t,e[o],r);return n}});var yU=V(mU=>{M();var b2=Vt().Buffer;function rhe(t,e,r){for(var i,n=-1,o=8,s=0,d,p;++n<o;)i=t._cipher.encryptBlock(t._prev),d=e&1<<7-n?128:0,p=i[0]^d,s+=(p&128)>>n%8,t._prev=ihe(t._prev,r?d:p);return s}function ihe(t,e){var r=t.length,i=-1,n=b2.allocUnsafe(t.length);for(t=b2.concat([t,b2.from([e])]);++i<r;)n[i]=t[i]<<1|t[i+1]>>7;return n}mU.encrypt=function(t,e,r){for(var i=e.length,n=b2.allocUnsafe(i),o=-1;++o<i;)n[o]=rhe(t,e[o],r);return n}});var vU=V(gU=>{M();var nhe=xp();function ohe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}gU.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=L.Buffer.concat([t._cache,ohe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),nhe(e,r)}});var pE=V((eOe,bU)=>{M();function she(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}bU.exports=she});var yE=V(_U=>{M();var ahe=xp(),wU=Vt().Buffer,fhe=pE();function uhe(t){var e=t._cipher.encryptBlockRaw(t._prev);return fhe(t._prev),e}var mE=16;_U.encrypt=function(t,e){var r=Math.ceil(e.length/mE),i=t._cache.length;t._cache=wU.concat([t._cache,wU.allocUnsafe(r*mE)]);for(var n=0;n<r;n++){var o=uhe(t),s=i+n*mE;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var d=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),ahe(e,d)}});var gE=V((nOe,che)=>{che.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var _2=V((oOe,xU)=>{M();var lhe={ECB:sU(),CBC:uU(),CFB:dU(),CFB8:pU(),CFB1:yU(),OFB:vU(),CTR:yE(),GCM:yE()},w2=gE();for(vE in w2)w2[vE].module=lhe[w2[vE].mode];var vE;xU.exports=w2});var $g=V((aOe,EU)=>{M();var x2=Vt().Buffer;function wE(t){x2.isBuffer(t)||(t=x2.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(i*4);return r}function bE(t){for(var e=0;e<t.length;t++)t[e]=0}function MU(t,e,r,i,n){for(var o=r[0],s=r[1],d=r[2],p=r[3],v=t[0]^e[0],b=t[1]^e[1],x=t[2]^e[2],E=t[3]^e[3],T,S,P,B,I=4,C=1;C<n;C++)T=o[v>>>24]^s[b>>>16&255]^d[x>>>8&255]^p[E&255]^e[I++],S=o[b>>>24]^s[x>>>16&255]^d[E>>>8&255]^p[v&255]^e[I++],P=o[x>>>24]^s[E>>>16&255]^d[v>>>8&255]^p[b&255]^e[I++],B=o[E>>>24]^s[v>>>16&255]^d[b>>>8&255]^p[x&255]^e[I++],v=T,b=S,x=P,E=B;return T=(i[v>>>24]<<24|i[b>>>16&255]<<16|i[x>>>8&255]<<8|i[E&255])^e[I++],S=(i[b>>>24]<<24|i[x>>>16&255]<<16|i[E>>>8&255]<<8|i[v&255])^e[I++],P=(i[x>>>24]<<24|i[E>>>16&255]<<16|i[v>>>8&255]<<8|i[b&255])^e[I++],B=(i[E>>>24]<<24|i[v>>>16&255]<<16|i[b>>>8&255]<<8|i[x&255])^e[I++],T=T>>>0,S=S>>>0,P=P>>>0,B=B>>>0,[T,S,P,B]}var dhe=[0,1,2,4,8,16,32,64,128,27,54],Ki=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],o=[[],[],[],[]],s=0,d=0,p=0;p<256;++p){var v=d^d<<1^d<<2^d<<3^d<<4;v=v>>>8^v&255^99,r[s]=v,i[v]=s;var b=t[s],x=t[b],E=t[x],T=t[v]*257^v*16843008;n[0][s]=T<<24|T>>>8,n[1][s]=T<<16|T>>>16,n[2][s]=T<<8|T>>>24,n[3][s]=T,T=E*16843009^x*65537^b*257^s*16843008,o[0][v]=T<<24|T>>>8,o[1][v]=T<<16|T>>>16,o[2][v]=T<<8|T>>>24,o[3][v]=T,s===0?s=d=1:(s=b^t[t[t[E^b]]],d^=t[t[d]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:o}}();function js(t){this._key=wE(t),this._reset()}js.blockSize=4*4;js.keySize=256/8;js.prototype.blockSize=js.blockSize;js.prototype.keySize=js.keySize;js.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=(r+1)*4,n=[],o=0;o<e;o++)n[o]=t[o];for(o=e;o<i;o++){var s=n[o-1];o%e===0?(s=s<<8|s>>>24,s=Ki.SBOX[s>>>24]<<24|Ki.SBOX[s>>>16&255]<<16|Ki.SBOX[s>>>8&255]<<8|Ki.SBOX[s&255],s^=dhe[o/e|0]<<24):e>6&&o%e===4&&(s=Ki.SBOX[s>>>24]<<24|Ki.SBOX[s>>>16&255]<<16|Ki.SBOX[s>>>8&255]<<8|Ki.SBOX[s&255]),n[o]=n[o-e]^s}for(var d=[],p=0;p<i;p++){var v=i-p,b=n[v-(p%4?0:4)];p<4||v<=4?d[p]=b:d[p]=Ki.INV_SUB_MIX[0][Ki.SBOX[b>>>24]]^Ki.INV_SUB_MIX[1][Ki.SBOX[b>>>16&255]]^Ki.INV_SUB_MIX[2][Ki.SBOX[b>>>8&255]]^Ki.INV_SUB_MIX[3][Ki.SBOX[b&255]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=d};js.prototype.encryptBlockRaw=function(t){return t=wE(t),MU(t,this._keySchedule,Ki.SUB_MIX,Ki.SBOX,this._nRounds)};js.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=x2.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};js.prototype.decryptBlock=function(t){t=wE(t);var e=t[1];t[1]=t[3],t[3]=e;var r=MU(t,this._invKeySchedule,Ki.INV_SUB_MIX,Ki.INV_SBOX,this._nRounds),i=x2.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i};js.prototype.scrub=function(){bE(this._keySchedule),bE(this._invKeySchedule),bE(this._key)};EU.exports.AES=js});var TU=V((uOe,AU)=>{M();var Mp=Vt().Buffer,hhe=Mp.alloc(16,0);function phe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function SU(t){var e=Mp.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Gg(t){this.h=t,this.state=Mp.alloc(16,0),this.cache=Mp.allocUnsafe(0)}Gg.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Gg.prototype._multiply=function(){for(var t=phe(this.h),e=[0,0,0,0],r,i,n,o=-1;++o<128;){for(i=(this.state[~~(o/8)]&1<<7-o%8)!==0,i&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),n=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,n&&(t[0]=t[0]^225<<24)}this.state=SU(e)};Gg.prototype.update=function(t){this.cache=Mp.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Gg.prototype.final=function(t,e){return this.cache.length&&this.ghash(Mp.concat([this.cache,hhe],16)),this.ghash(SU([0,t,0,e])),this.state};AU.exports=Gg});var _E=V((lOe,kU)=>{M();var mhe=$g(),Co=Vt().Buffer,PU=Eu(),yhe=st(),RU=TU(),ghe=xp(),vhe=pE();function bhe(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}function whe(t,e,r){if(e.length===12)return t._finID=Co.concat([e,Co.from([0,0,0,1])]),Co.concat([e,Co.from([0,0,0,2])]);var i=new RU(r),n=e.length,o=n%16;i.update(e),o&&(o=16-o,i.update(Co.alloc(o,0))),i.update(Co.alloc(8,0));var s=n*8,d=Co.alloc(8);d.writeUIntBE(s,0,8),i.update(d),t._finID=i.state;var p=Co.from(t._finID);return vhe(p),p}function Ud(t,e,r,i){PU.call(this);var n=Co.alloc(4,0);this._cipher=new mhe.AES(e);var o=this._cipher.encryptBlock(n);this._ghash=new RU(o),r=whe(this,r,o),this._prev=Co.from(r),this._cache=Co.allocUnsafe(0),this._secCache=Co.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}yhe(Ud,PU);Ud.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Co.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Ud.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=ghe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&bhe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Ud.prototype.getAuthTag=function(){if(this._decrypt||!Co.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Ud.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Ud.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};kU.exports=Ud});var ME=V((hOe,BU)=>{M();var _he=$g(),xE=Vt().Buffer,IU=Eu(),xhe=st();function M2(t,e,r,i){IU.call(this),this._cipher=new _he.AES(e),this._prev=xE.from(r),this._cache=xE.allocUnsafe(0),this._secCache=xE.allocUnsafe(0),this._decrypt=i,this._mode=t}xhe(M2,IU);M2.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};M2.prototype._final=function(){this._cipher.scrub()};BU.exports=M2});var Wg=V((mOe,DU)=>{M();var Fd=Vt().Buffer,Mhe=$w();function Ehe(t,e,r,i){if(Fd.isBuffer(t)||(t=Fd.from(t,"binary")),e&&(Fd.isBuffer(e)||(e=Fd.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=r/8,o=Fd.alloc(n),s=Fd.alloc(i||0),d=Fd.alloc(0);n>0||i>0;){var p=new Mhe;p.update(d),p.update(t),e&&p.update(e),d=p.digest();var v=0;if(n>0){var b=o.length-n;v=Math.min(n,d.length),d.copy(o,b,0,v),n-=v}if(v<d.length&&i>0){var x=s.length-i,E=Math.min(i,d.length-v);d.copy(s,x,v,v+E),i-=E}}return d.fill(0),{key:o,iv:s}}DU.exports=Ehe});var qU=V(EE=>{M();var CU=_2(),She=_E(),Au=Vt().Buffer,Ahe=ME(),OU=Eu(),The=$g(),Phe=Wg(),Rhe=st();function Kg(t,e,r){OU.call(this),this._cache=new E2,this._cipher=new The.AES(e),this._prev=Au.from(r),this._mode=t,this._autopadding=!0}Rhe(Kg,OU);Kg.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return Au.concat(i)};var khe=Au.alloc(16,16);Kg.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(khe))throw this._cipher.scrub(),new Error("data not multiple of block length")};Kg.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function E2(){this.cache=Au.allocUnsafe(0)}E2.prototype.add=function(t){this.cache=Au.concat([this.cache,t])};E2.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};E2.prototype.flush=function(){for(var t=16-this.cache.length,e=Au.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Au.concat([this.cache,e])};function jU(t,e,r){var i=CU[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Au.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Au.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return i.type==="stream"?new Ahe(i.module,e,r):i.type==="auth"?new She(i.module,e,r):new Kg(i.module,e,r)}function Ihe(t,e){var r=CU[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=Phe(e,!1,r.key,r.iv);return jU(t,i.key,i.iv)}EE.createCipheriv=jU;EE.createCipher=Ihe});var FU=V(SE=>{M();var Bhe=_E(),Ep=Vt().Buffer,NU=_2(),Dhe=ME(),LU=Eu(),Che=$g(),Ohe=Wg(),jhe=st();function Hg(t,e,r){LU.call(this),this._cache=new S2,this._last=void 0,this._cipher=new Che.AES(e),this._prev=Ep.from(r),this._mode=t,this._autopadding=!0}jhe(Hg,LU);Hg.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return Ep.concat(i)};Hg.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return qhe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};Hg.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function S2(){this.cache=Ep.allocUnsafe(0)}S2.prototype.add=function(t){this.cache=Ep.concat([this.cache,t])};S2.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};S2.prototype.flush=function(){if(this.cache.length)return this.cache};function qhe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function UU(t,e,r){var i=NU[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Ep.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Ep.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new Dhe(i.module,e,r,!0):i.type==="auth"?new Bhe(i.module,e,r,!0):new Hg(i.module,e,r)}function Nhe(t,e){var r=NU[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=Ohe(e,!1,r.key,r.iv);return UU(t,i.key,i.iv)}SE.createDecipher=Nhe;SE.createDecipheriv=UU});var A2=V(ya=>{M();var zU=qU(),$U=FU(),Lhe=gE();function Uhe(){return Object.keys(Lhe)}ya.createCipher=ya.Cipher=zU.createCipher;ya.createCipheriv=ya.Cipheriv=zU.createCipheriv;ya.createDecipher=ya.Decipher=$U.createDecipher;ya.createDecipheriv=ya.Decipheriv=$U.createDecipheriv;ya.listCiphers=ya.getCiphers=Uhe});var GU=V(Tu=>{M();Tu["des-ecb"]={key:8,iv:0};Tu["des-cbc"]=Tu.des={key:8,iv:8};Tu["des-ede3-cbc"]=Tu.des3={key:24,iv:8};Tu["des-ede3"]={key:24,iv:0};Tu["des-ede-cbc"]={key:16,iv:8};Tu["des-ede"]={key:16,iv:0}});var ZU=V(ga=>{M();var WU=oU(),AE=A2(),qc=_2(),Pu=GU(),KU=Wg();function Fhe(t,e){t=t.toLowerCase();var r,i;if(qc[t])r=qc[t].key,i=qc[t].iv;else if(Pu[t])r=Pu[t].key*8,i=Pu[t].iv;else throw new TypeError("invalid suite type");var n=KU(e,!1,r,i);return HU(t,n.key,n.iv)}function zhe(t,e){t=t.toLowerCase();var r,i;if(qc[t])r=qc[t].key,i=qc[t].iv;else if(Pu[t])r=Pu[t].key*8,i=Pu[t].iv;else throw new TypeError("invalid suite type");var n=KU(e,!1,r,i);return VU(t,n.key,n.iv)}function HU(t,e,r){if(t=t.toLowerCase(),qc[t])return AE.createCipheriv(t,e,r);if(Pu[t])return new WU({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function VU(t,e,r){if(t=t.toLowerCase(),qc[t])return AE.createDecipheriv(t,e,r);if(Pu[t])return new WU({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function $he(){return Object.keys(Pu).concat(AE.getCiphers())}ga.createCipher=ga.Cipher=Fhe;ga.createCipheriv=ga.Cipheriv=HU;ga.createDecipher=ga.Decipher=zhe;ga.createDecipheriv=ga.Decipheriv=VU;ga.listCiphers=ga.getCiphers=$he});var PE=V((YU,TE)=>{M();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Jt().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var c=0;a[0]==="-"&&(c++,this.negative=1),c<a.length&&(u===16?this._parseHex(a,c,h):(this._parseBase(a,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,g,w=0;if(h==="be")for(c=a.length-1,l=0;c>=0;c-=3)g=a[c]|a[c-1]<<8|a[c-2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);else if(h==="le")for(c=0,l=0;c<a.length;c+=3)g=a[c]|a[c+1]<<8|a[c+2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);return this.strip()};function s(_,a){var u=_.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,a,u){var h=s(_,u);return u-1>=a&&(h|=s(_,u-1)<<4),h}n.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,g=0,w;if(h==="be")for(c=a.length-1;c>=u;c-=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8;else{var m=a.length-u;for(c=m%2===0?u+1:u;c<a.length;c+=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8}this.strip()};function p(_,a,u,h){for(var c=0,l=Math.min(_.length,u),g=a;g<l;g++){var w=_.charCodeAt(g)-48;c*=h,w>=49?c+=w-49+10:w>=17?c+=w-17+10:c+=w}return c}n.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var g=a.length-h,w=g%c,m=Math.min(g,g-w)+h,f=0,y=h;y<m;y+=c)f=p(a,y,y+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(w!==0){var R=1;for(f=p(a,y,a.length,u),y=0;y<w;y++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var c=0,l=0,g=0;g<this.length;g++){var w=this.words[g],m=((w<<c|l)&16777215).toString(16);l=w>>>24-c&16777215,l!==0||g!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,g--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],y=x[a];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var A=R.modn(y).toString(a);R=R.idivn(y),R.isZero()?h=A+h:h=v[f-A.length]+A+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},n.prototype.toArrayLike=function(a,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var g=u==="le",w=new a(l),m,f,y=this.clone();if(g){for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[f]=m;for(;f<l;f++)w[f]=0}else{for(f=0;f<l-c;f++)w[f]=0;for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[l-f-1]=m}return w},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var h=u/26|0,c=u%26;a[u]=(_.words[h]&1<<c)>>>c}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,c=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,c;this.length>a.length?(h=this,c=a):(h=a,c=this);for(var l=0,g=0;g<c.length;g++)u=(h.words[g]|0)+(c.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;for(;l!==0&&g<h.length;g++)u=(h.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=a):(c=a,l=this);for(var g=0,w=0;w<l.length;w++)u=(c.words[w]|0)-(l.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;for(;g!==0&&w<c.length;w++)u=(c.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;if(g===0&&w<c.length&&c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this.length=Math.max(this.length,w),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function T(_,a,u){u.negative=a.negative^_.negative;var h=_.length+a.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=a.words[0]|0,g=c*l,w=g&67108863,m=g/67108864|0;u.words[0]=w;for(var f=1;f<h;f++){for(var y=m>>>26,R=m&67108863,A=Math.min(f,a.length-1),D=Math.max(0,f-_.length+1);D<=A;D++){var z=f-D|0;c=_.words[z]|0,l=a.words[D]|0,g=c*l+R,y+=g/67108864|0,R=g&67108863}u.words[f]=R|0,m=y|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var S=function(a,u,h){var c=a.words,l=u.words,g=h.words,w=0,m,f,y,R=c[0]|0,A=R&8191,D=R>>>13,z=c[1]|0,W=z&8191,H=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Le=c[3]|0,Q=Le&8191,X=Le>>>13,Qe=c[4]|0,te=Qe&8191,re=Qe>>>13,Zt=c[5]|0,ie=Zt&8191,ne=Zt>>>13,_r=c[6]|0,se=_r&8191,oe=_r>>>13,ni=c[7]|0,fe=ni&8191,ae=ni>>>13,oi=c[8]|0,ue=oi&8191,ce=oi>>>13,si=c[9]|0,le=si&8191,de=si>>>13,hi=l[0]|0,he=hi&8191,pe=hi>>>13,Ci=l[1]|0,me=Ci&8191,ye=Ci>>>13,Oi=l[2]|0,ge=Oi&8191,ve=Oi>>>13,ji=l[3]|0,be=ji&8191,we=ji>>>13,qi=l[4]|0,_e=qi&8191,xe=qi>>>13,Ni=l[5]|0,Me=Ni&8191,Ee=Ni>>>13,Li=l[6]|0,Se=Li&8191,Ae=Li>>>13,Ui=l[7]|0,Te=Ui&8191,Pe=Ui>>>13,Fi=l[8]|0,Re=Fi&8191,ke=Fi>>>13,zi=l[9]|0,Ie=zi&8191,Be=zi>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(A,he),f=Math.imul(A,pe),f=f+Math.imul(D,he)|0,y=Math.imul(D,pe);var zr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(W,he),f=Math.imul(W,pe),f=f+Math.imul(H,he)|0,y=Math.imul(H,pe),m=m+Math.imul(A,me)|0,f=f+Math.imul(A,ye)|0,f=f+Math.imul(D,me)|0,y=y+Math.imul(D,ye)|0;var vt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,y=Math.imul(Y,pe),m=m+Math.imul(W,me)|0,f=f+Math.imul(W,ye)|0,f=f+Math.imul(H,me)|0,y=y+Math.imul(H,ye)|0,m=m+Math.imul(A,ge)|0,f=f+Math.imul(A,ve)|0,f=f+Math.imul(D,ge)|0,y=y+Math.imul(D,ve)|0;var bt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,y=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,y=y+Math.imul(Y,ye)|0,m=m+Math.imul(W,ge)|0,f=f+Math.imul(W,ve)|0,f=f+Math.imul(H,ge)|0,y=y+Math.imul(H,ve)|0,m=m+Math.imul(A,be)|0,f=f+Math.imul(A,we)|0,f=f+Math.imul(D,be)|0,y=y+Math.imul(D,we)|0;var xr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,y=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,y=y+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,y=y+Math.imul(Y,ve)|0,m=m+Math.imul(W,be)|0,f=f+Math.imul(W,we)|0,f=f+Math.imul(H,be)|0,y=y+Math.imul(H,we)|0,m=m+Math.imul(A,_e)|0,f=f+Math.imul(A,xe)|0,f=f+Math.imul(D,_e)|0,y=y+Math.imul(D,xe)|0;var Mr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,y=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,y=y+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,y=y+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,y=y+Math.imul(Y,we)|0,m=m+Math.imul(W,_e)|0,f=f+Math.imul(W,xe)|0,f=f+Math.imul(H,_e)|0,y=y+Math.imul(H,xe)|0,m=m+Math.imul(A,Me)|0,f=f+Math.imul(A,Ee)|0,f=f+Math.imul(D,Me)|0,y=y+Math.imul(D,Ee)|0;var Er=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,y=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,y=y+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,y=y+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,y=y+Math.imul(Y,xe)|0,m=m+Math.imul(W,Me)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(H,Me)|0,y=y+Math.imul(H,Ee)|0,m=m+Math.imul(A,Se)|0,f=f+Math.imul(A,Ae)|0,f=f+Math.imul(D,Se)|0,y=y+Math.imul(D,Ae)|0;var Sr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(fe,he),f=Math.imul(fe,pe),f=f+Math.imul(ae,he)|0,y=Math.imul(ae,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,y=y+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,y=y+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,y=y+Math.imul(Y,Ee)|0,m=m+Math.imul(W,Se)|0,f=f+Math.imul(W,Ae)|0,f=f+Math.imul(H,Se)|0,y=y+Math.imul(H,Ae)|0,m=m+Math.imul(A,Te)|0,f=f+Math.imul(A,Pe)|0,f=f+Math.imul(D,Te)|0,y=y+Math.imul(D,Pe)|0;var Ar=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,y=Math.imul(ce,pe),m=m+Math.imul(fe,me)|0,f=f+Math.imul(fe,ye)|0,f=f+Math.imul(ae,me)|0,y=y+Math.imul(ae,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,y=y+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,y=y+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,y=y+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,y=y+Math.imul(Y,Ae)|0,m=m+Math.imul(W,Te)|0,f=f+Math.imul(W,Pe)|0,f=f+Math.imul(H,Te)|0,y=y+Math.imul(H,Pe)|0,m=m+Math.imul(A,Re)|0,f=f+Math.imul(A,ke)|0,f=f+Math.imul(D,Re)|0,y=y+Math.imul(D,ke)|0;var Tr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,y=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,y=y+Math.imul(ce,ye)|0,m=m+Math.imul(fe,ge)|0,f=f+Math.imul(fe,ve)|0,f=f+Math.imul(ae,ge)|0,y=y+Math.imul(ae,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,y=y+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,y=y+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,y=y+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,y=y+Math.imul(Y,Pe)|0,m=m+Math.imul(W,Re)|0,f=f+Math.imul(W,ke)|0,f=f+Math.imul(H,Re)|0,y=y+Math.imul(H,ke)|0,m=m+Math.imul(A,Ie)|0,f=f+Math.imul(A,Be)|0,f=f+Math.imul(D,Ie)|0,y=y+Math.imul(D,Be)|0;var Pr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,y=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,y=y+Math.imul(ce,ve)|0,m=m+Math.imul(fe,be)|0,f=f+Math.imul(fe,we)|0,f=f+Math.imul(ae,be)|0,y=y+Math.imul(ae,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,y=y+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,y=y+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,y=y+Math.imul(Y,ke)|0,m=m+Math.imul(W,Ie)|0,f=f+Math.imul(W,Be)|0,f=f+Math.imul(H,Ie)|0,y=y+Math.imul(H,Be)|0;var Rr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,y=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(fe,_e)|0,f=f+Math.imul(fe,xe)|0,f=f+Math.imul(ae,_e)|0,y=y+Math.imul(ae,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,y=y+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,Be)|0,f=f+Math.imul(Y,Ie)|0,y=y+Math.imul(Y,Be)|0;var kr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,y=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(fe,Me)|0,f=f+Math.imul(fe,Ee)|0,f=f+Math.imul(ae,Me)|0,y=y+Math.imul(ae,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,y=y+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,Be)|0,f=f+Math.imul(X,Ie)|0,y=y+Math.imul(X,Be)|0;var Ir=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,y=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Ee)|0,m=m+Math.imul(fe,Se)|0,f=f+Math.imul(fe,Ae)|0,f=f+Math.imul(ae,Se)|0,y=y+Math.imul(ae,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,y=y+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,Be)|0,f=f+Math.imul(re,Ie)|0,y=y+Math.imul(re,Be)|0;var Br=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,y=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(fe,Te)|0,f=f+Math.imul(fe,Pe)|0,f=f+Math.imul(ae,Te)|0,y=y+Math.imul(ae,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,y=y+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,Be)|0,f=f+Math.imul(ne,Ie)|0,y=y+Math.imul(ne,Be)|0;var Dr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,y=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(fe,Re)|0,f=f+Math.imul(fe,ke)|0,f=f+Math.imul(ae,Re)|0,y=y+Math.imul(ae,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,Be)|0,f=f+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Be)|0;var Cr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,y=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(fe,Ie)|0,f=f+Math.imul(fe,Be)|0,f=f+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,Be)|0;var Or=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,y=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,Be)|0;var jr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,Be),f=f+Math.imul(de,Ie)|0,y=Math.imul(de,Be);var qr=(w+m|0)+((f&8191)<<13)|0;return w=(y+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,g[0]=zr,g[1]=vt,g[2]=bt,g[3]=xr,g[4]=Mr,g[5]=Er,g[6]=Sr,g[7]=Ar,g[8]=Tr,g[9]=Pr,g[10]=Rr,g[11]=kr,g[12]=Ir,g[13]=Br,g[14]=Dr,g[15]=Cr,g[16]=Or,g[17]=jr,g[18]=qr,w!==0&&(g[19]=w,h.length++),h};Math.imul||(S=T);function P(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var g=c;c=0;for(var w=h&67108863,m=Math.min(l,a.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var y=l-f,R=_.words[y]|0,A=a.words[f]|0,D=R*A,z=D&67108863;g=g+(D/67108864|0)|0,z=z+w|0,w=z&67108863,g=g+(z>>>26)|0,c+=g>>>26,g&=67108863}u.words[l]=w,h=g,g=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function B(_,a,u){var h=new I;return h.mulp(_,a,u)}n.prototype.mulTo=function(a,u){var h,c=this.length+a.length;return this.length===10&&a.length===10?h=S(this,a,u):c<63?h=T(this,a,u):c<1024?h=P(this,a,u):h=B(this,a,u),h};function I(_,a){this.x=_,this.y=a}I.prototype.makeRBT=function(a){for(var u=new Array(a),h=n.prototype._countBits(a)-1,c=0;c<a;c++)u[c]=this.revBin(c,h,a);return u},I.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var c=0,l=0;l<u;l++)c|=(a&1)<<u-l-1,a>>=1;return c},I.prototype.permute=function(a,u,h,c,l,g){for(var w=0;w<g;w++)c[w]=u[a[w]],l[w]=h[a[w]]},I.prototype.transform=function(a,u,h,c,l,g){this.permute(g,a,u,h,c,l);for(var w=1;w<l;w<<=1)for(var m=w<<1,f=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var A=f,D=y,z=0;z<w;z++){var W=h[R+z],H=c[R+z],J=h[R+z+w],Z=c[R+z+w],Y=A*J-D*Z;Z=A*Z+D*J,J=Y,h[R+z]=W+J,c[R+z]=H+Z,h[R+z+w]=W-J,c[R+z+w]=H-Z,z!==m&&(Y=f*A-y*D,D=f*D+y*A,A=Y)}},I.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=a[c];a[c]=a[h-c-1],a[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(a,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(a[2*c+1]/u)*8192+Math.round(a[2*c]/u)+h;a[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return a},I.prototype.convert13b=function(a,u,h,c){for(var l=0,g=0;g<u;g++)l=l+(a[g]|0),h[2*g]=l&8191,l=l>>>13,h[2*g+1]=l&8191,l=l>>>13;for(g=2*u;g<c;++g)h[g]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},I.prototype.mulp=function(a,u,h){var c=2*this.guessLen13b(a.length,u.length),l=this.makeRBT(c),g=this.stub(c),w=new Array(c),m=new Array(c),f=new Array(c),y=new Array(c),R=new Array(c),A=new Array(c),D=h.words;D.length=c,this.convert13b(a.words,a.length,w,c),this.convert13b(u.words,u.length,y,c),this.transform(w,g,m,f,c,l),this.transform(y,g,R,A,c,l);for(var z=0;z<c;z++){var W=m[z]*R[z]-f[z]*A[z];f[z]=m[z]*A[z]+f[z]*R[z],m[z]=W}return this.conjugate(m,f,c),this.transform(m,f,D,g,c,l),this.conjugate(D,g,c),this.normalize13b(D,c),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),B(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*a,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=E(a);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var g=0;for(l=0;l<this.length;l++){var w=this.words[l]&c,m=(this.words[l]|0)-w<<u;this.words[l]=m|g,g=w>>>26-u}g&&(this.words[l]=g,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var c;u?c=(u-u%26)/26:c=0;var l=a%26,g=Math.min((a-l)/26,this.length),w=67108863^67108863>>>l<<l,m=h;if(c-=g,c=Math.max(0,c),m){for(var f=0;f<g;f++)m.words[f]=this.words[f];m.length=g}if(g!==0)if(this.length>g)for(this.length-=g,f=0;f<this.length;f++)this.words[f]=this.words[f+g];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=y<<26-l|R>>>l,y=R&w}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,h){var c=a.length+h,l;this._expand(c);var g,w=0;for(l=0;l<a.length;l++){g=(this.words[l+h]|0)+w;var m=(a.words[l]|0)*u;g-=m&67108863,w=(g>>26)-(m/67108864|0),this.words[l+h]=g&67108863}for(;l<this.length-h;l++)g=(this.words[l+h]|0)+w,w=g>>26,this.words[l+h]=g&67108863;if(w===0)return this.strip();for(r(w===-1),w=0,l=0;l<this.length;l++)g=-(this.words[l]|0)+w,w=g>>26,this.words[l]=g&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,u){var h=this.length-a.length,c=this.clone(),l=a,g=l.words[l.length-1]|0,w=this._countBits(g);h=26-w,h!==0&&(l=l.ushln(h),c.iushln(h),g=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var A=m-1;A>=0;A--){var D=(c.words[l.length+A]|0)*67108864+(c.words[l.length+A-1]|0);for(D=Math.min(D/g|0,67108863),c._ishlnsubmul(l,D,A);c.negative!==0;)D--,c.negative=0,c._ishlnsubmul(l,1,A),c.isZero()||(c.negative^=1);f&&(f.words[A]=D)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,g;return this.negative!==0&&a.negative===0?(g=this.neg().divmod(a,u),u!=="mod"&&(c=g.div.neg()),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.iadd(a)),{div:c,mod:l}):this.negative===0&&a.negative!==0?(g=this.divmod(a.neg(),u),u!=="mod"&&(c=g.div.neg()),{div:c,mod:g.mod}):this.negative&a.negative?(g=this.neg().divmod(a.neg(),u),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.isub(a)),{div:g.div,mod:l}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,c=a.ushrn(1),l=a.andln(1),g=h.cmp(c);return g<0||l===1&&g===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%a;return h},n.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/a|0,u=c%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=new n(0),w=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),y=u.clone();!u.isZero();){for(var R=0,A=1;!(u.words[0]&A)&&R<26;++R,A<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(y)),c.iushrn(1),l.iushrn(1);for(var D=0,z=1;!(h.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(h.iushrn(D);D-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(y)),g.iushrn(1),w.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(g),l.isub(w)):(h.isub(u),g.isub(c),w.isub(l))}return{a:g,b:w,gcd:h.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var w=0,m=1;!(u.words[0]&m)&&w<26;++w,m<<=1);if(w>0)for(u.iushrn(w);w-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);for(var f=0,y=1;!(h.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(g),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(a),R},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var g=u;u=h,h=g}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,g=h;l!==0&&g<this.length;g++){var w=this.words[g]|0;w+=l,l=w>>>26,w&=67108863,this.words[g]=w}return l!==0&&(this.words[g]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var c=this.words[0]|0;h=c===a?0:c<a?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=a.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new N(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function O(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(a,u){for(var h=4194303,c=Math.min(a.length,9),l=0;l<c;l++)u.words[l]=a.words[l];if(u.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var g=a.words[9];for(u.words[u.length++]=g&h,l=10;l<a.length;l++){var w=a.words[l]|0;a.words[l-10]=(w&h)<<4|g>>>22,g=w}g>>>=22,a.words[l-10]=g,g===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var c=a.words[h]|0;u+=c*977,a.words[h]=u&67108863,u=c*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,O);function G(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,O),$.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var c=(a.words[h]|0)*19+u,l=c&67108863;c>>>=26,a.words[h]=l,u=c}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if(C[a])return C[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new q;else if(a==="p192")u=new G;else if(a==="p25519")u=new $;else throw new Error("Unknown prime "+a);return C[a]=u,u};function N(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}N.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},N.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},N.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},N.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},N.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},N.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},N.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},N.prototype.isqr=function(a){return this.imul(a,a.clone())},N.prototype.sqr=function(a){return this.mul(a,a)},N.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(a,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var g=new n(1).toRed(this),w=g.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(w)!==0;)f.redIAdd(w);for(var y=this.pow(f,c),R=this.pow(a,c.addn(1).iushrn(1)),A=this.pow(a,c),D=l;A.cmp(g)!==0;){for(var z=A,W=0;z.cmp(g)!==0;W++)z=z.redSqr();r(W<D);var H=this.pow(y,new n(1).iushln(D-W-1));R=R.redMul(H),y=H.redSqr(),A=A.redMul(y),D=W}return R},N.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=a;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],a);var g=c[0],w=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var y=u.words[l],R=f-1;R>=0;R--){var A=y>>R&1;if(g!==c[0]&&(g=this.sqr(g)),A===0&&w===0){m=0;continue}w<<=1,w|=A,m++,!(m!==h&&(l!==0||R!==0))&&(g=this.mul(g,c[w]),m=0,w=0)}f=26}return g},N.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},N.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new K(a)};function K(_){N.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,N),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},K.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var h=a.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof TE>"u"||TE,YU)});var QU=V((JU,RE)=>{M();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Jt().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var c=0;a[0]==="-"&&(c++,this.negative=1),c<a.length&&(u===16?this._parseHex(a,c,h):(this._parseBase(a,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,g,w=0;if(h==="be")for(c=a.length-1,l=0;c>=0;c-=3)g=a[c]|a[c-1]<<8|a[c-2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);else if(h==="le")for(c=0,l=0;c<a.length;c+=3)g=a[c]|a[c+1]<<8|a[c+2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);return this.strip()};function s(_,a){var u=_.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,a,u){var h=s(_,u);return u-1>=a&&(h|=s(_,u-1)<<4),h}n.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,g=0,w;if(h==="be")for(c=a.length-1;c>=u;c-=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8;else{var m=a.length-u;for(c=m%2===0?u+1:u;c<a.length;c+=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8}this.strip()};function p(_,a,u,h){for(var c=0,l=Math.min(_.length,u),g=a;g<l;g++){var w=_.charCodeAt(g)-48;c*=h,w>=49?c+=w-49+10:w>=17?c+=w-17+10:c+=w}return c}n.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var g=a.length-h,w=g%c,m=Math.min(g,g-w)+h,f=0,y=h;y<m;y+=c)f=p(a,y,y+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(w!==0){var R=1;for(f=p(a,y,a.length,u),y=0;y<w;y++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var c=0,l=0,g=0;g<this.length;g++){var w=this.words[g],m=((w<<c|l)&16777215).toString(16);l=w>>>24-c&16777215,l!==0||g!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,g--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],y=x[a];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var A=R.modn(y).toString(a);R=R.idivn(y),R.isZero()?h=A+h:h=v[f-A.length]+A+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},n.prototype.toArrayLike=function(a,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var g=u==="le",w=new a(l),m,f,y=this.clone();if(g){for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[f]=m;for(;f<l;f++)w[f]=0}else{for(f=0;f<l-c;f++)w[f]=0;for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[l-f-1]=m}return w},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var h=u/26|0,c=u%26;a[u]=(_.words[h]&1<<c)>>>c}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,c=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,c;this.length>a.length?(h=this,c=a):(h=a,c=this);for(var l=0,g=0;g<c.length;g++)u=(h.words[g]|0)+(c.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;for(;l!==0&&g<h.length;g++)u=(h.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=a):(c=a,l=this);for(var g=0,w=0;w<l.length;w++)u=(c.words[w]|0)-(l.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;for(;g!==0&&w<c.length;w++)u=(c.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;if(g===0&&w<c.length&&c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this.length=Math.max(this.length,w),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function T(_,a,u){u.negative=a.negative^_.negative;var h=_.length+a.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=a.words[0]|0,g=c*l,w=g&67108863,m=g/67108864|0;u.words[0]=w;for(var f=1;f<h;f++){for(var y=m>>>26,R=m&67108863,A=Math.min(f,a.length-1),D=Math.max(0,f-_.length+1);D<=A;D++){var z=f-D|0;c=_.words[z]|0,l=a.words[D]|0,g=c*l+R,y+=g/67108864|0,R=g&67108863}u.words[f]=R|0,m=y|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var S=function(a,u,h){var c=a.words,l=u.words,g=h.words,w=0,m,f,y,R=c[0]|0,A=R&8191,D=R>>>13,z=c[1]|0,W=z&8191,H=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Le=c[3]|0,Q=Le&8191,X=Le>>>13,Qe=c[4]|0,te=Qe&8191,re=Qe>>>13,Zt=c[5]|0,ie=Zt&8191,ne=Zt>>>13,_r=c[6]|0,se=_r&8191,oe=_r>>>13,ni=c[7]|0,fe=ni&8191,ae=ni>>>13,oi=c[8]|0,ue=oi&8191,ce=oi>>>13,si=c[9]|0,le=si&8191,de=si>>>13,hi=l[0]|0,he=hi&8191,pe=hi>>>13,Ci=l[1]|0,me=Ci&8191,ye=Ci>>>13,Oi=l[2]|0,ge=Oi&8191,ve=Oi>>>13,ji=l[3]|0,be=ji&8191,we=ji>>>13,qi=l[4]|0,_e=qi&8191,xe=qi>>>13,Ni=l[5]|0,Me=Ni&8191,Ee=Ni>>>13,Li=l[6]|0,Se=Li&8191,Ae=Li>>>13,Ui=l[7]|0,Te=Ui&8191,Pe=Ui>>>13,Fi=l[8]|0,Re=Fi&8191,ke=Fi>>>13,zi=l[9]|0,Ie=zi&8191,Be=zi>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(A,he),f=Math.imul(A,pe),f=f+Math.imul(D,he)|0,y=Math.imul(D,pe);var zr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(W,he),f=Math.imul(W,pe),f=f+Math.imul(H,he)|0,y=Math.imul(H,pe),m=m+Math.imul(A,me)|0,f=f+Math.imul(A,ye)|0,f=f+Math.imul(D,me)|0,y=y+Math.imul(D,ye)|0;var vt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,y=Math.imul(Y,pe),m=m+Math.imul(W,me)|0,f=f+Math.imul(W,ye)|0,f=f+Math.imul(H,me)|0,y=y+Math.imul(H,ye)|0,m=m+Math.imul(A,ge)|0,f=f+Math.imul(A,ve)|0,f=f+Math.imul(D,ge)|0,y=y+Math.imul(D,ve)|0;var bt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,y=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,y=y+Math.imul(Y,ye)|0,m=m+Math.imul(W,ge)|0,f=f+Math.imul(W,ve)|0,f=f+Math.imul(H,ge)|0,y=y+Math.imul(H,ve)|0,m=m+Math.imul(A,be)|0,f=f+Math.imul(A,we)|0,f=f+Math.imul(D,be)|0,y=y+Math.imul(D,we)|0;var xr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,y=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,y=y+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,y=y+Math.imul(Y,ve)|0,m=m+Math.imul(W,be)|0,f=f+Math.imul(W,we)|0,f=f+Math.imul(H,be)|0,y=y+Math.imul(H,we)|0,m=m+Math.imul(A,_e)|0,f=f+Math.imul(A,xe)|0,f=f+Math.imul(D,_e)|0,y=y+Math.imul(D,xe)|0;var Mr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,y=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,y=y+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,y=y+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,y=y+Math.imul(Y,we)|0,m=m+Math.imul(W,_e)|0,f=f+Math.imul(W,xe)|0,f=f+Math.imul(H,_e)|0,y=y+Math.imul(H,xe)|0,m=m+Math.imul(A,Me)|0,f=f+Math.imul(A,Ee)|0,f=f+Math.imul(D,Me)|0,y=y+Math.imul(D,Ee)|0;var Er=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,y=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,y=y+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,y=y+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,y=y+Math.imul(Y,xe)|0,m=m+Math.imul(W,Me)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(H,Me)|0,y=y+Math.imul(H,Ee)|0,m=m+Math.imul(A,Se)|0,f=f+Math.imul(A,Ae)|0,f=f+Math.imul(D,Se)|0,y=y+Math.imul(D,Ae)|0;var Sr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(fe,he),f=Math.imul(fe,pe),f=f+Math.imul(ae,he)|0,y=Math.imul(ae,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,y=y+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,y=y+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,y=y+Math.imul(Y,Ee)|0,m=m+Math.imul(W,Se)|0,f=f+Math.imul(W,Ae)|0,f=f+Math.imul(H,Se)|0,y=y+Math.imul(H,Ae)|0,m=m+Math.imul(A,Te)|0,f=f+Math.imul(A,Pe)|0,f=f+Math.imul(D,Te)|0,y=y+Math.imul(D,Pe)|0;var Ar=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,y=Math.imul(ce,pe),m=m+Math.imul(fe,me)|0,f=f+Math.imul(fe,ye)|0,f=f+Math.imul(ae,me)|0,y=y+Math.imul(ae,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,y=y+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,y=y+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,y=y+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,y=y+Math.imul(Y,Ae)|0,m=m+Math.imul(W,Te)|0,f=f+Math.imul(W,Pe)|0,f=f+Math.imul(H,Te)|0,y=y+Math.imul(H,Pe)|0,m=m+Math.imul(A,Re)|0,f=f+Math.imul(A,ke)|0,f=f+Math.imul(D,Re)|0,y=y+Math.imul(D,ke)|0;var Tr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,y=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,y=y+Math.imul(ce,ye)|0,m=m+Math.imul(fe,ge)|0,f=f+Math.imul(fe,ve)|0,f=f+Math.imul(ae,ge)|0,y=y+Math.imul(ae,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,y=y+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,y=y+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,y=y+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,y=y+Math.imul(Y,Pe)|0,m=m+Math.imul(W,Re)|0,f=f+Math.imul(W,ke)|0,f=f+Math.imul(H,Re)|0,y=y+Math.imul(H,ke)|0,m=m+Math.imul(A,Ie)|0,f=f+Math.imul(A,Be)|0,f=f+Math.imul(D,Ie)|0,y=y+Math.imul(D,Be)|0;var Pr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,y=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,y=y+Math.imul(ce,ve)|0,m=m+Math.imul(fe,be)|0,f=f+Math.imul(fe,we)|0,f=f+Math.imul(ae,be)|0,y=y+Math.imul(ae,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,y=y+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,y=y+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,y=y+Math.imul(Y,ke)|0,m=m+Math.imul(W,Ie)|0,f=f+Math.imul(W,Be)|0,f=f+Math.imul(H,Ie)|0,y=y+Math.imul(H,Be)|0;var Rr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,y=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(fe,_e)|0,f=f+Math.imul(fe,xe)|0,f=f+Math.imul(ae,_e)|0,y=y+Math.imul(ae,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,y=y+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,Be)|0,f=f+Math.imul(Y,Ie)|0,y=y+Math.imul(Y,Be)|0;var kr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,y=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(fe,Me)|0,f=f+Math.imul(fe,Ee)|0,f=f+Math.imul(ae,Me)|0,y=y+Math.imul(ae,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,y=y+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,Be)|0,f=f+Math.imul(X,Ie)|0,y=y+Math.imul(X,Be)|0;var Ir=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,y=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Ee)|0,m=m+Math.imul(fe,Se)|0,f=f+Math.imul(fe,Ae)|0,f=f+Math.imul(ae,Se)|0,y=y+Math.imul(ae,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,y=y+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,Be)|0,f=f+Math.imul(re,Ie)|0,y=y+Math.imul(re,Be)|0;var Br=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,y=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(fe,Te)|0,f=f+Math.imul(fe,Pe)|0,f=f+Math.imul(ae,Te)|0,y=y+Math.imul(ae,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,y=y+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,Be)|0,f=f+Math.imul(ne,Ie)|0,y=y+Math.imul(ne,Be)|0;var Dr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,y=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(fe,Re)|0,f=f+Math.imul(fe,ke)|0,f=f+Math.imul(ae,Re)|0,y=y+Math.imul(ae,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,Be)|0,f=f+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Be)|0;var Cr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,y=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(fe,Ie)|0,f=f+Math.imul(fe,Be)|0,f=f+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,Be)|0;var Or=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,y=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,Be)|0;var jr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,Be),f=f+Math.imul(de,Ie)|0,y=Math.imul(de,Be);var qr=(w+m|0)+((f&8191)<<13)|0;return w=(y+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,g[0]=zr,g[1]=vt,g[2]=bt,g[3]=xr,g[4]=Mr,g[5]=Er,g[6]=Sr,g[7]=Ar,g[8]=Tr,g[9]=Pr,g[10]=Rr,g[11]=kr,g[12]=Ir,g[13]=Br,g[14]=Dr,g[15]=Cr,g[16]=Or,g[17]=jr,g[18]=qr,w!==0&&(g[19]=w,h.length++),h};Math.imul||(S=T);function P(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var g=c;c=0;for(var w=h&67108863,m=Math.min(l,a.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var y=l-f,R=_.words[y]|0,A=a.words[f]|0,D=R*A,z=D&67108863;g=g+(D/67108864|0)|0,z=z+w|0,w=z&67108863,g=g+(z>>>26)|0,c+=g>>>26,g&=67108863}u.words[l]=w,h=g,g=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function B(_,a,u){var h=new I;return h.mulp(_,a,u)}n.prototype.mulTo=function(a,u){var h,c=this.length+a.length;return this.length===10&&a.length===10?h=S(this,a,u):c<63?h=T(this,a,u):c<1024?h=P(this,a,u):h=B(this,a,u),h};function I(_,a){this.x=_,this.y=a}I.prototype.makeRBT=function(a){for(var u=new Array(a),h=n.prototype._countBits(a)-1,c=0;c<a;c++)u[c]=this.revBin(c,h,a);return u},I.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var c=0,l=0;l<u;l++)c|=(a&1)<<u-l-1,a>>=1;return c},I.prototype.permute=function(a,u,h,c,l,g){for(var w=0;w<g;w++)c[w]=u[a[w]],l[w]=h[a[w]]},I.prototype.transform=function(a,u,h,c,l,g){this.permute(g,a,u,h,c,l);for(var w=1;w<l;w<<=1)for(var m=w<<1,f=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var A=f,D=y,z=0;z<w;z++){var W=h[R+z],H=c[R+z],J=h[R+z+w],Z=c[R+z+w],Y=A*J-D*Z;Z=A*Z+D*J,J=Y,h[R+z]=W+J,c[R+z]=H+Z,h[R+z+w]=W-J,c[R+z+w]=H-Z,z!==m&&(Y=f*A-y*D,D=f*D+y*A,A=Y)}},I.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=a[c];a[c]=a[h-c-1],a[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(a,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(a[2*c+1]/u)*8192+Math.round(a[2*c]/u)+h;a[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return a},I.prototype.convert13b=function(a,u,h,c){for(var l=0,g=0;g<u;g++)l=l+(a[g]|0),h[2*g]=l&8191,l=l>>>13,h[2*g+1]=l&8191,l=l>>>13;for(g=2*u;g<c;++g)h[g]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},I.prototype.mulp=function(a,u,h){var c=2*this.guessLen13b(a.length,u.length),l=this.makeRBT(c),g=this.stub(c),w=new Array(c),m=new Array(c),f=new Array(c),y=new Array(c),R=new Array(c),A=new Array(c),D=h.words;D.length=c,this.convert13b(a.words,a.length,w,c),this.convert13b(u.words,u.length,y,c),this.transform(w,g,m,f,c,l),this.transform(y,g,R,A,c,l);for(var z=0;z<c;z++){var W=m[z]*R[z]-f[z]*A[z];f[z]=m[z]*A[z]+f[z]*R[z],m[z]=W}return this.conjugate(m,f,c),this.transform(m,f,D,g,c,l),this.conjugate(D,g,c),this.normalize13b(D,c),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),B(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*a,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=E(a);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var g=0;for(l=0;l<this.length;l++){var w=this.words[l]&c,m=(this.words[l]|0)-w<<u;this.words[l]=m|g,g=w>>>26-u}g&&(this.words[l]=g,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var c;u?c=(u-u%26)/26:c=0;var l=a%26,g=Math.min((a-l)/26,this.length),w=67108863^67108863>>>l<<l,m=h;if(c-=g,c=Math.max(0,c),m){for(var f=0;f<g;f++)m.words[f]=this.words[f];m.length=g}if(g!==0)if(this.length>g)for(this.length-=g,f=0;f<this.length;f++)this.words[f]=this.words[f+g];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=y<<26-l|R>>>l,y=R&w}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,h){var c=a.length+h,l;this._expand(c);var g,w=0;for(l=0;l<a.length;l++){g=(this.words[l+h]|0)+w;var m=(a.words[l]|0)*u;g-=m&67108863,w=(g>>26)-(m/67108864|0),this.words[l+h]=g&67108863}for(;l<this.length-h;l++)g=(this.words[l+h]|0)+w,w=g>>26,this.words[l+h]=g&67108863;if(w===0)return this.strip();for(r(w===-1),w=0,l=0;l<this.length;l++)g=-(this.words[l]|0)+w,w=g>>26,this.words[l]=g&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,u){var h=this.length-a.length,c=this.clone(),l=a,g=l.words[l.length-1]|0,w=this._countBits(g);h=26-w,h!==0&&(l=l.ushln(h),c.iushln(h),g=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var A=m-1;A>=0;A--){var D=(c.words[l.length+A]|0)*67108864+(c.words[l.length+A-1]|0);for(D=Math.min(D/g|0,67108863),c._ishlnsubmul(l,D,A);c.negative!==0;)D--,c.negative=0,c._ishlnsubmul(l,1,A),c.isZero()||(c.negative^=1);f&&(f.words[A]=D)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,g;return this.negative!==0&&a.negative===0?(g=this.neg().divmod(a,u),u!=="mod"&&(c=g.div.neg()),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.iadd(a)),{div:c,mod:l}):this.negative===0&&a.negative!==0?(g=this.divmod(a.neg(),u),u!=="mod"&&(c=g.div.neg()),{div:c,mod:g.mod}):this.negative&a.negative?(g=this.neg().divmod(a.neg(),u),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.isub(a)),{div:g.div,mod:l}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,c=a.ushrn(1),l=a.andln(1),g=h.cmp(c);return g<0||l===1&&g===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%a;return h},n.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/a|0,u=c%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=new n(0),w=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),y=u.clone();!u.isZero();){for(var R=0,A=1;!(u.words[0]&A)&&R<26;++R,A<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(y)),c.iushrn(1),l.iushrn(1);for(var D=0,z=1;!(h.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(h.iushrn(D);D-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(y)),g.iushrn(1),w.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(g),l.isub(w)):(h.isub(u),g.isub(c),w.isub(l))}return{a:g,b:w,gcd:h.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var w=0,m=1;!(u.words[0]&m)&&w<26;++w,m<<=1);if(w>0)for(u.iushrn(w);w-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);for(var f=0,y=1;!(h.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(g),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(a),R},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var g=u;u=h,h=g}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,g=h;l!==0&&g<this.length;g++){var w=this.words[g]|0;w+=l,l=w>>>26,w&=67108863,this.words[g]=w}return l!==0&&(this.words[g]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var c=this.words[0]|0;h=c===a?0:c<a?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=a.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new N(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function O(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(a,u){for(var h=4194303,c=Math.min(a.length,9),l=0;l<c;l++)u.words[l]=a.words[l];if(u.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var g=a.words[9];for(u.words[u.length++]=g&h,l=10;l<a.length;l++){var w=a.words[l]|0;a.words[l-10]=(w&h)<<4|g>>>22,g=w}g>>>=22,a.words[l-10]=g,g===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var c=a.words[h]|0;u+=c*977,a.words[h]=u&67108863,u=c*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,O);function G(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,O),$.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var c=(a.words[h]|0)*19+u,l=c&67108863;c>>>=26,a.words[h]=l,u=c}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if(C[a])return C[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new q;else if(a==="p192")u=new G;else if(a==="p25519")u=new $;else throw new Error("Unknown prime "+a);return C[a]=u,u};function N(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}N.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},N.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},N.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},N.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},N.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},N.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},N.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},N.prototype.isqr=function(a){return this.imul(a,a.clone())},N.prototype.sqr=function(a){return this.mul(a,a)},N.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(a,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var g=new n(1).toRed(this),w=g.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(w)!==0;)f.redIAdd(w);for(var y=this.pow(f,c),R=this.pow(a,c.addn(1).iushrn(1)),A=this.pow(a,c),D=l;A.cmp(g)!==0;){for(var z=A,W=0;z.cmp(g)!==0;W++)z=z.redSqr();r(W<D);var H=this.pow(y,new n(1).iushln(D-W-1));R=R.redMul(H),y=H.redSqr(),A=A.redMul(y),D=W}return R},N.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=a;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],a);var g=c[0],w=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var y=u.words[l],R=f-1;R>=0;R--){var A=y>>R&1;if(g!==c[0]&&(g=this.sqr(g)),A===0&&w===0){m=0;continue}w<<=1,w|=A,m++,!(m!==h&&(l!==0||R!==0))&&(g=this.mul(g,c[w]),m=0,w=0)}f=26}return g},N.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},N.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new K(a)};function K(_){N.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,N),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},K.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var h=a.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof RE>"u"||RE,JU)});var T2=V((ROe,BE)=>{M();var kE;BE.exports=function(e){return kE||(kE=new Nc(null)),kE.generate(e)};function Nc(t){this.rand=t}BE.exports.Rand=Nc;Nc.prototype.generate=function(e){return this._rand(e)};Nc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Nc.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Nc.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Nc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(IE=P2(),typeof IE.randomBytes!="function")throw new Error("Not supported");Nc.prototype._rand=function(e){return IE.randomBytes(e)}}catch{}var IE});var DE=V((IOe,XU)=>{M();var zd=QU(),Ghe=T2();function $d(t){this.rand=t||new Ghe.Rand}XU.exports=$d;$d.create=function(e){return new $d(e)};$d.prototype._randbelow=function(e){var r=e.bitLength(),i=Math.ceil(r/8);do var n=new zd(this.rand.generate(i));while(n.cmp(e)>=0);return n};$d.prototype._randrange=function(e,r){var i=r.sub(e);return e.add(this._randbelow(i))};$d.prototype.test=function(e,r,i){var n=e.bitLength(),o=zd.mont(e),s=new zd(1).toRed(o);r||(r=Math.max(1,n/48|0));for(var d=e.subn(1),p=0;!d.testn(p);p++);for(var v=e.shrn(p),b=d.toRed(o),x=!0;r>0;r--){var E=this._randrange(new zd(2),d);i&&i(E);var T=E.toRed(o).redPow(v);if(!(T.cmp(s)===0||T.cmp(b)===0)){for(var S=1;S<p;S++){if(T=T.redSqr(),T.cmp(s)===0)return!1;if(T.cmp(b)===0)break}if(S===p)return!1}}return x};$d.prototype.getDivisor=function(e,r){var i=e.bitLength(),n=zd.mont(e),o=new zd(1).toRed(n);r||(r=Math.max(1,i/48|0));for(var s=e.subn(1),d=0;!s.testn(d);d++);for(var p=e.shrn(d),v=s.toRed(n);r>0;r--){var b=this._randrange(new zd(2),s),x=e.gcd(b);if(x.cmpn(1)!==0)return x;var E=b.toRed(n).redPow(p);if(!(E.cmp(o)===0||E.cmp(v)===0)){for(var T=1;T<d;T++){if(E=E.redSqr(),E.cmp(o)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(v)===0)break}if(T===d)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1}});var LE=V((qOe,rF)=>{M();var Whe=pd();rF.exports=NE;NE.simpleSieve=jE;NE.fermatTest=qE;var Fn=PE(),Khe=new Fn(24),Hhe=DE(),eF=new Hhe,Vhe=new Fn(1),OE=new Fn(2),Zhe=new Fn(5),DOe=new Fn(16),COe=new Fn(8),Yhe=new Fn(10),Jhe=new Fn(3),OOe=new Fn(7),Qhe=new Fn(11),tF=new Fn(4),jOe=new Fn(12),CE=null;function Xhe(){if(CE!==null)return CE;var t=1048576,e=[];e[0]=2;for(var r=1,i=3;i<t;i+=2){for(var n=Math.ceil(Math.sqrt(i)),o=0;o<r&&e[o]<=n&&i%e[o]!==0;o++);r!==o&&e[o]<=n||(e[r++]=i)}return CE=e,e}function jE(t){for(var e=Xhe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function qE(t){var e=Fn.mont(t);return OE.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function NE(t,e){if(t<16)return e===2||e===5?new Fn([140,123]):new Fn([140,39]);e=new Fn(e);for(var r,i;;){for(r=new Fn(Whe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(Vhe),r.testn(1)||r.iadd(OE),e.cmp(OE)){if(!e.cmp(Zhe))for(;r.mod(Yhe).cmp(Jhe);)r.iadd(tF)}else for(;r.mod(Khe).cmp(Qhe);)r.iadd(tF);if(i=r.shrn(1),jE(i)&&jE(r)&&qE(i)&&qE(r)&&eF.test(i)&&eF.test(r))return r}}});var iF=V((LOe,e0e)=>{e0e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var aF=V((UOe,sF)=>{M();var qs=PE(),t0e=DE(),nF=new t0e,r0e=new qs(24),i0e=new qs(11),n0e=new qs(10),o0e=new qs(3),s0e=new qs(7),oF=LE(),a0e=pd();sF.exports=Ru;function f0e(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this._pub=new qs(t),this}function u0e(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this._priv=new qs(t),this}var R2={};function c0e(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in R2)return R2[i];var n=0;if(t.isEven()||!oF.simpleSieve||!oF.fermatTest(t)||!nF.test(t))return n+=1,r==="02"||r==="05"?n+=8:n+=4,R2[i]=n,n;nF.test(t.shrn(1))||(n+=2);var o;switch(r){case"02":t.mod(r0e).cmp(i0e)&&(n+=8);break;case"05":o=t.mod(n0e),o.cmp(o0e)&&o.cmp(s0e)&&(n+=8);break;default:n+=4}return R2[i]=n,n}function Ru(t,e,r){this.setGenerator(e),this.__prime=new qs(t),this._prime=qs.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=f0e,this.setPrivateKey=u0e):this._primeCode=8}Object.defineProperty(Ru.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=c0e(this.__prime,this.__gen)),this._primeCode}});Ru.prototype.generateKeys=function(){return this._priv||(this._priv=new qs(a0e(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Ru.prototype.computeSecret=function(t){t=new qs(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new L.Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var n=new L.Buffer(i.length-r.length);n.fill(0),r=L.Buffer.concat([n,r])}return r};Ru.prototype.getPublicKey=function(e){return k2(this._pub,e)};Ru.prototype.getPrivateKey=function(e){return k2(this._priv,e)};Ru.prototype.getPrime=function(t){return k2(this.__prime,t)};Ru.prototype.getGenerator=function(t){return k2(this._gen,t)};Ru.prototype.setGenerator=function(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this.__gen=t,this._gen=new qs(t),this};function k2(t,e){var r=new L.Buffer(t.toArray());return e?r.toString(e):r}});var cF=V(Sp=>{M();var l0e=LE(),fF=iF(),UE=aF();function d0e(t){var e=new L.Buffer(fF[t].prime,"hex"),r=new L.Buffer(fF[t].gen,"hex");return new UE(e,r)}var h0e={binary:!0,hex:!0,base64:!0};function uF(t,e,r,i){return L.Buffer.isBuffer(e)||h0e[e]===void 0?uF(t,"binary",e,r):(e=e||"binary",i=i||"binary",r=r||new L.Buffer([2]),L.Buffer.isBuffer(r)||(r=new L.Buffer(r,i)),typeof t=="number"?new UE(l0e(t,r),r,!0):(L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),new UE(t,r,!0)))}Sp.DiffieHellmanGroup=Sp.createDiffieHellmanGroup=Sp.getDiffieHellman=d0e;Sp.createDiffieHellman=Sp.DiffieHellman=uF});var B2=V((FE,dF)=>{M();var I2=Jt(),wf=I2.Buffer;function lF(t,e){for(var r in t)e[r]=t[r]}wf.from&&wf.alloc&&wf.allocUnsafe&&wf.allocUnsafeSlow?dF.exports=I2:(lF(I2,FE),FE.Buffer=Gd);function Gd(t,e,r){return wf(t,e,r)}Gd.prototype=Object.create(wf.prototype);lF(wf,Gd);Gd.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return wf(t,e,r)};Gd.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=wf(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Gd.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return wf(t)};Gd.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return I2.SlowBuffer(t)}});var zE=V((WOe,hF)=>{M();hF.exports=Ps().EventEmitter});var bF=V((HOe,vF)=>{"use strict";M();function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function mF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(i){p0e(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function p0e(t,e,r){return e=gF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yF(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,gF(i.key),i)}}function y0e(t,e,r){return e&&yF(t.prototype,e),r&&yF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gF(t){var e=g0e(t,"string");return typeof e=="symbol"?e:String(e)}function g0e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v0e=Jt(),D2=v0e.Buffer,b0e=_d(),$E=b0e.inspect,w0e=$E&&$E.custom||"inspect";function _0e(t,e,r){D2.prototype.copy.call(t,e,r)}vF.exports=function(){function t(){m0e(this,t),this.head=null,this.tail=null,this.length=0}return y0e(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return D2.alloc(0);for(var i=D2.allocUnsafe(r>>>0),n=this.head,o=0;n;)_0e(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,d=r>s.length?s.length:r;if(d===s.length?o+=s:o+=s.slice(0,r),r-=d,r===0){d===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(d));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=D2.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,d=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,d),r-=d,r===0){d===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(d));break}++o}return this.length-=o,i}},{key:w0e,value:function(r,i){return $E(this,mF(mF({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var WE=V((ZOe,_F)=>{"use strict";M();function x0e(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,j.default.nextTick(GE,this,t)):j.default.nextTick(GE,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?j.default.nextTick(C2,r):(r._writableState.errorEmitted=!0,j.default.nextTick(wF,r,o)):j.default.nextTick(wF,r,o):e?(j.default.nextTick(C2,r),e(o)):j.default.nextTick(C2,r)}),this)}function wF(t,e){GE(t,e),C2(t)}function C2(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function M0e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function GE(t,e){t.emit("error",e)}function E0e(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}_F.exports={destroy:x0e,undestroy:M0e,errorOrDestroy:E0e}});var Wd=V((JOe,EF)=>{"use strict";M();function S0e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var MF={};function Ns(t,e,r){r||(r=Error);function i(o,s,d){return typeof e=="string"?e:e(o,s,d)}var n=function(o){S0e(s,o);function s(d,p,v){return o.call(this,i(d,p,v))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,MF[t]=n}function xF(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function A0e(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function T0e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function P0e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ns("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ns("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&A0e(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(T0e(t," argument"))n="The ".concat(t," ").concat(i," ").concat(xF(e,"type"));else{var o=P0e(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(xF(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Ns("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ns("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ns("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ns("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ns("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ns("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ns("ERR_STREAM_WRITE_AFTER_END","write after end");Ns("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ns("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ns("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");EF.exports.codes=MF});var KE=V((XOe,SF)=>{"use strict";M();var R0e=Wd().codes.ERR_INVALID_OPT_VALUE;function k0e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function I0e(t,e,r,i){var n=k0e(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new R0e(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}SF.exports={getHighWaterMark:I0e}});var ZE=V((tje,IF)=>{"use strict";M();IF.exports=wi;function TF(t){var e=this;this.next=null,this.entry=null,this.finish=function(){npe(e,t)}}var Ap;wi.WritableState=Zg;var B0e={deprecate:Aw()},PF=zE(),j2=Jt().Buffer,D0e=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function C0e(t){return j2.from(t)}function O0e(t){return j2.isBuffer(t)||t instanceof D0e}var VE=WE(),j0e=KE(),q0e=j0e.getHighWaterMark,Lc=Wd().codes,N0e=Lc.ERR_INVALID_ARG_TYPE,L0e=Lc.ERR_METHOD_NOT_IMPLEMENTED,U0e=Lc.ERR_MULTIPLE_CALLBACK,F0e=Lc.ERR_STREAM_CANNOT_PIPE,z0e=Lc.ERR_STREAM_DESTROYED,$0e=Lc.ERR_STREAM_NULL_VALUES,G0e=Lc.ERR_STREAM_WRITE_AFTER_END,W0e=Lc.ERR_UNKNOWN_ENCODING,Tp=VE.errorOrDestroy;st()(wi,PF);function K0e(){}function Zg(t,e,r){Ap=Ap||Kd(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ap),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=q0e(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){X0e(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new TF(this)}Zg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Zg.prototype,"buffer",{get:B0e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var O2;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O2=Function.prototype[Symbol.hasInstance],Object.defineProperty(wi,Symbol.hasInstance,{value:function(e){return O2.call(this,e)?!0:this!==wi?!1:e&&e._writableState instanceof Zg}})):O2=function(e){return e instanceof this};function wi(t){Ap=Ap||Kd();var e=this instanceof Ap;if(!e&&!O2.call(wi,this))return new wi(t);this._writableState=new Zg(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),PF.call(this)}wi.prototype.pipe=function(){Tp(this,new F0e)};function H0e(t,e){var r=new G0e;Tp(t,r),j.default.nextTick(e,r)}function V0e(t,e,r,i){var n;return r===null?n=new $0e:typeof r!="string"&&!e.objectMode&&(n=new N0e("chunk",["string","Buffer"],r)),n?(Tp(t,n),j.default.nextTick(i,n),!1):!0}wi.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&O0e(t);return o&&!j2.isBuffer(t)&&(t=C0e(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=K0e),i.ending?H0e(this,r):(o||V0e(this,i,t,r))&&(i.pendingcb++,n=Y0e(this,i,o,t,e,r)),n};wi.prototype.cork=function(){this._writableState.corked++};wi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&RF(this,t))};wi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new W0e(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(wi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z0e(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=j2.from(e,r)),e}Object.defineProperty(wi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y0e(t,e,r,i,n,o){if(!r){var s=Z0e(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var d=e.objectMode?1:i.length;e.length+=d;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var v=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},v?v.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else HE(t,e,!1,d,i,n,o);return p}function HE(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new z0e("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function J0e(t,e,r,i,n){--e.pendingcb,r?(j.default.nextTick(n,i),j.default.nextTick(Vg,t,e),t._writableState.errorEmitted=!0,Tp(t,i)):(n(i),t._writableState.errorEmitted=!0,Tp(t,i),Vg(t,e))}function Q0e(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function X0e(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new U0e;if(Q0e(r),e)J0e(t,r,i,e,n);else{var o=kF(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&RF(t,r),i?j.default.nextTick(AF,t,r,o,n):AF(t,r,o,n)}}function AF(t,e,r,i){r||epe(t,e),e.pendingcb--,i(),Vg(t,e)}function epe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function RF(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,d=!0;r;)n[s]=r,r.isBuf||(d=!1),r=r.next,s+=1;n.allBuffers=d,HE(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new TF(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,v=r.encoding,b=r.callback,x=e.objectMode?1:p.length;if(HE(t,e,!1,x,p,v,b),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}wi.prototype._write=function(t,e,r){r(new L0e("_write()"))};wi.prototype._writev=null;wi.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||ipe(this,i,r),this};Object.defineProperty(wi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function kF(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function tpe(t,e){t._final(function(r){e.pendingcb--,r&&Tp(t,r),e.prefinished=!0,t.emit("prefinish"),Vg(t,e)})}function rpe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,j.default.nextTick(tpe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Vg(t,e){var r=kF(e);if(r&&(rpe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function ipe(t,e,r){e.ending=!0,Vg(t,e),r&&(e.finished?j.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function npe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(wi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});wi.prototype.destroy=VE.destroy;wi.prototype._undestroy=VE.undestroy;wi.prototype._destroy=function(t,e){e(t)}});var Kd=V((ije,DF)=>{"use strict";M();var ope=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};DF.exports=_f;var BF=QE(),JE=ZE();st()(_f,BF);for(YE=ope(JE.prototype),q2=0;q2<YE.length;q2++)N2=YE[q2],_f.prototype[N2]||(_f.prototype[N2]=JE.prototype[N2]);var YE,N2,q2;function _f(t){if(!(this instanceof _f))return new _f(t);BF.call(this,t),JE.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",spe)))}Object.defineProperty(_f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(_f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(_f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function spe(){this._writableState.ended||j.default.nextTick(ape,this)}function ape(t){t.end()}Object.defineProperty(_f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var L2=V((oje,jF)=>{"use strict";M();var CF=Wd().codes.ERR_STREAM_PREMATURE_CLOSE;function fpe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function upe(){}function cpe(t){return t.setHeader&&typeof t.abort=="function"}function OF(t,e,r){if(typeof e=="function")return OF(t,null,e);e||(e={}),r=fpe(r||upe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||d()},s=t._writableState&&t._writableState.finished,d=function(){n=!1,s=!0,i||r.call(t)},p=t._readableState&&t._readableState.endEmitted,v=function(){i=!1,p=!0,n||r.call(t)},b=function(S){r.call(t,S)},x=function(){var S;if(i&&!p)return(!t._readableState||!t._readableState.ended)&&(S=new CF),r.call(t,S);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(S=new CF),r.call(t,S)},E=function(){t.req.on("finish",d)};return cpe(t)?(t.on("complete",d),t.on("abort",x),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",v),t.on("finish",d),e.error!==!1&&t.on("error",b),t.on("close",x),function(){t.removeListener("complete",d),t.removeListener("abort",x),t.removeListener("request",E),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",v),t.removeListener("error",b),t.removeListener("close",x)}}jF.exports=OF});var NF=V((aje,qF)=>{"use strict";M();var U2;function Uc(t,e,r){return e=lpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lpe(t){var e=dpe(t,"string");return typeof e=="symbol"?e:String(e)}function dpe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hpe=L2(),Fc=Symbol("lastResolve"),Hd=Symbol("lastReject"),Yg=Symbol("error"),F2=Symbol("ended"),Vd=Symbol("lastPromise"),XE=Symbol("handlePromise"),Zd=Symbol("stream");function zc(t,e){return{value:t,done:e}}function ppe(t){var e=t[Fc];if(e!==null){var r=t[Zd].read();r!==null&&(t[Vd]=null,t[Fc]=null,t[Hd]=null,e(zc(r,!1)))}}function mpe(t){j.default.nextTick(ppe,t)}function ype(t,e){return function(r,i){t.then(function(){if(e[F2]){r(zc(void 0,!0));return}e[XE](r,i)},i)}}var gpe=Object.getPrototypeOf(function(){}),vpe=Object.setPrototypeOf((U2={get stream(){return this[Zd]},next:function(){var e=this,r=this[Yg];if(r!==null)return Promise.reject(r);if(this[F2])return Promise.resolve(zc(void 0,!0));if(this[Zd].destroyed)return new Promise(function(s,d){j.default.nextTick(function(){e[Yg]?d(e[Yg]):s(zc(void 0,!0))})});var i=this[Vd],n;if(i)n=new Promise(ype(i,this));else{var o=this[Zd].read();if(o!==null)return Promise.resolve(zc(o,!1));n=new Promise(this[XE])}return this[Vd]=n,n}},Uc(U2,Symbol.asyncIterator,function(){return this}),Uc(U2,"return",function(){var e=this;return new Promise(function(r,i){e[Zd].destroy(null,function(n){if(n){i(n);return}r(zc(void 0,!0))})})}),U2),gpe),bpe=function(e){var r,i=Object.create(vpe,(r={},Uc(r,Zd,{value:e,writable:!0}),Uc(r,Fc,{value:null,writable:!0}),Uc(r,Hd,{value:null,writable:!0}),Uc(r,Yg,{value:null,writable:!0}),Uc(r,F2,{value:e._readableState.endEmitted,writable:!0}),Uc(r,XE,{value:function(o,s){var d=i[Zd].read();d?(i[Vd]=null,i[Fc]=null,i[Hd]=null,o(zc(d,!1))):(i[Fc]=o,i[Hd]=s)},writable:!0}),r));return i[Vd]=null,hpe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Hd];o!==null&&(i[Vd]=null,i[Fc]=null,i[Hd]=null,o(n)),i[Yg]=n;return}var s=i[Fc];s!==null&&(i[Vd]=null,i[Fc]=null,i[Hd]=null,s(zc(void 0,!0))),i[F2]=!0}),e.on("readable",mpe.bind(null,i)),i};qF.exports=bpe});var UF=V((uje,LF)=>{M();LF.exports=function(){throw new Error("Readable.from is not available in the browser")}});var QE=V((dje,YF)=>{"use strict";M();YF.exports=ir;var Pp;ir.ReadableState=GF;var lje=Ps().EventEmitter,$F=function(e,r){return e.listeners(r).length},Qg=zE(),z2=Jt().Buffer,wpe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function _pe(t){return z2.from(t)}function xpe(t){return z2.isBuffer(t)||t instanceof wpe}var eS=_d(),Lt;eS&&eS.debuglog?Lt=eS.debuglog("stream"):Lt=function(){};var Mpe=bF(),aS=WE(),Epe=KE(),Spe=Epe.getHighWaterMark,$2=Wd().codes,Ape=$2.ERR_INVALID_ARG_TYPE,Tpe=$2.ERR_STREAM_PUSH_AFTER_EOF,Ppe=$2.ERR_METHOD_NOT_IMPLEMENTED,Rpe=$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Rp,tS,rS;st()(ir,Qg);var Jg=aS.errorOrDestroy,iS=["error","close","destroy","pause","resume"];function kpe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function GF(t,e,r){Pp=Pp||Kd(),t=t||{},typeof r!="boolean"&&(r=e instanceof Pp),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Spe(this,t,"readableHighWaterMark",r),this.buffer=new Mpe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Rp||(Rp=wu().StringDecoder),this.decoder=new Rp(t.encoding),this.encoding=t.encoding)}function ir(t){if(Pp=Pp||Kd(),!(this instanceof ir))return new ir(t);var e=this instanceof Pp;this._readableState=new GF(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Qg.call(this)}Object.defineProperty(ir.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});ir.prototype.destroy=aS.destroy;ir.prototype._undestroy=aS.undestroy;ir.prototype._destroy=function(t,e){e(t)};ir.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=z2.from(t,e),e=""),i=!0),WF(this,t,e,!1,i)};ir.prototype.unshift=function(t){return WF(this,t,null,!0,!1)};function WF(t,e,r,i,n){Lt("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Dpe(t,o);else{var s;if(n||(s=Ipe(o,e)),s)Jg(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==z2.prototype&&(e=_pe(e)),i)o.endEmitted?Jg(t,new Rpe):nS(t,o,e,!0);else if(o.ended)Jg(t,new Tpe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?nS(t,o,e,!1):sS(t,o)):nS(t,o,e,!1)}else i||(o.reading=!1,sS(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function nS(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&G2(t)),sS(t,e)}function Ipe(t,e){var r;return!xpe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Ape("chunk",["string","Buffer","Uint8Array"],e)),r}ir.prototype.isPaused=function(){return this._readableState.flowing===!1};ir.prototype.setEncoding=function(t){Rp||(Rp=wu().StringDecoder);var e=new Rp(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var FF=1073741824;function Bpe(t){return t>=FF?t=FF:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function zF(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Bpe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ir.prototype.read=function(t){Lt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Lt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?oS(this):G2(this),null;if(t=zF(t,e),t===0&&e.ended)return e.length===0&&oS(this),null;var i=e.needReadable;Lt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Lt("length less than watermark",i)),e.ended||e.reading?(i=!1,Lt("reading or ended",i)):i&&(Lt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=zF(r,e)));var n;return t>0?n=VF(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&oS(this)),n!==null&&this.emit("data",n),n};function Dpe(t,e){if(Lt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?G2(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,KF(t)))}}function G2(t){var e=t._readableState;Lt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Lt("emitReadable",e.flowing),e.emittedReadable=!0,j.default.nextTick(KF,t))}function KF(t){var e=t._readableState;Lt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,fS(t)}function sS(t,e){e.readingMore||(e.readingMore=!0,j.default.nextTick(Cpe,t,e))}function Cpe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Lt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ir.prototype._read=function(t){Jg(this,new Ppe("_read()"))};ir.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Lt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==j.default.stdout&&t!==j.default.stderr,o=n?d:P;i.endEmitted?j.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(B,I){Lt("onunpipe"),B===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,b())}function d(){Lt("onend"),t.end()}var p=Ope(r);t.on("drain",p);var v=!1;function b(){Lt("cleanup"),t.removeListener("close",T),t.removeListener("finish",S),t.removeListener("drain",p),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",d),r.removeListener("end",P),r.removeListener("data",x),v=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on("data",x);function x(B){Lt("ondata");var I=t.write(B);Lt("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&ZF(i.pipes,t)!==-1)&&!v&&(Lt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(B){Lt("onerror",B),P(),t.removeListener("error",E),$F(t,"error")===0&&Jg(t,B)}kpe(t,"error",E);function T(){t.removeListener("finish",S),P()}t.once("close",T);function S(){Lt("onfinish"),t.removeListener("close",T),P()}t.once("finish",S);function P(){Lt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Lt("pipe resume"),r.resume()),t};function Ope(t){return function(){var r=t._readableState;Lt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&$F(t,"data")&&(r.flowing=!0,fS(t))}}ir.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=ZF(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ir.prototype.on=function(t,e){var r=Qg.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Lt("on readable",i.length,i.reading),i.length?G2(this):i.reading||j.default.nextTick(jpe,this)),r};ir.prototype.addListener=ir.prototype.on;ir.prototype.removeListener=function(t,e){var r=Qg.prototype.removeListener.call(this,t,e);return t==="readable"&&j.default.nextTick(HF,this),r};ir.prototype.removeAllListeners=function(t){var e=Qg.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&j.default.nextTick(HF,this),e};function HF(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function jpe(t){Lt("readable nexttick read 0"),t.read(0)}ir.prototype.resume=function(){var t=this._readableState;return t.flowing||(Lt("resume"),t.flowing=!t.readableListening,qpe(this,t)),t.paused=!1,this};function qpe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,j.default.nextTick(Npe,t,e))}function Npe(t,e){Lt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),fS(t),e.flowing&&!e.reading&&t.read(0)}ir.prototype.pause=function(){return Lt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Lt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function fS(t){var e=t._readableState;for(Lt("flow",e.flowing);e.flowing&&t.read()!==null;);}ir.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Lt("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Lt("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var d=e.push(s);d||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(d){return function(){return t[d].apply(t,arguments)}}(n));for(var o=0;o<iS.length;o++)t.on(iS[o],this.emit.bind(this,iS[o]));return this._read=function(s){Lt("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(ir.prototype[Symbol.asyncIterator]=function(){return tS===void 0&&(tS=NF()),tS(this)});Object.defineProperty(ir.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ir.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ir.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ir._fromList=VF;Object.defineProperty(ir.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function VF(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function oS(t){var e=t._readableState;Lt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,j.default.nextTick(Lpe,e,t))}function Lpe(t,e){if(Lt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ir.from=function(t,e){return rS===void 0&&(rS=UF()),rS(ir,t,e)});function ZF(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var uS=V((pje,QF)=>{"use strict";M();QF.exports=ku;var W2=Wd().codes,Upe=W2.ERR_METHOD_NOT_IMPLEMENTED,Fpe=W2.ERR_MULTIPLE_CALLBACK,zpe=W2.ERR_TRANSFORM_ALREADY_TRANSFORMING,$pe=W2.ERR_TRANSFORM_WITH_LENGTH_0,K2=Kd();st()(ku,K2);function Gpe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new Fpe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function ku(t){if(!(this instanceof ku))return new ku(t);K2.call(this,t),this._transformState={afterTransform:Gpe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Wpe)}function Wpe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){JF(t,e,r)}):JF(this,null,null)}ku.prototype.push=function(t,e){return this._transformState.needTransform=!1,K2.prototype.push.call(this,t,e)};ku.prototype._transform=function(t,e,r){r(new Upe("_transform()"))};ku.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};ku.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ku.prototype._destroy=function(t,e){K2.prototype._destroy.call(this,t,function(r){e(r)})};function JF(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new $pe;if(t._transformState.transforming)throw new zpe;return t.push(null)}});var tz=V((yje,ez)=>{"use strict";M();ez.exports=Xg;var XF=uS();st()(Xg,XF);function Xg(t){if(!(this instanceof Xg))return new Xg(t);XF.call(this,t)}Xg.prototype._transform=function(t,e,r){r(null,t)}});var sz=V((vje,oz)=>{"use strict";M();var cS;function Kpe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var nz=Wd().codes,Hpe=nz.ERR_MISSING_ARGS,Vpe=nz.ERR_STREAM_DESTROYED;function rz(t){if(t)throw t}function Zpe(t){return t.setHeader&&typeof t.abort=="function"}function Ype(t,e,r,i){i=Kpe(i);var n=!1;t.on("close",function(){n=!0}),cS===void 0&&(cS=L2()),cS(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,Zpe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new Vpe("pipe"))}}}function iz(t){t()}function Jpe(t,e){return t.pipe(e)}function Qpe(t){return!t.length||typeof t[t.length-1]!="function"?rz:t.pop()}function Xpe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Qpe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Hpe("streams");var n,o=e.map(function(s,d){var p=d<e.length-1,v=d>0;return Ype(s,p,v,function(b){n||(n=b),b&&o.forEach(iz),!p&&(o.forEach(iz),i(n))})});return e.reduce(Jpe)}oz.exports=Xpe});var fz=V((Ls,az)=>{M();Ls=az.exports=QE();Ls.Stream=Ls;Ls.Readable=Ls;Ls.Writable=ZE();Ls.Duplex=Kd();Ls.Transform=uS();Ls.PassThrough=tz();Ls.finished=L2();Ls.pipeline=sz()});var H2=V((uz,lS)=>{M();(function(t,e){"use strict";function r(h,c){if(!h)throw new Error(c||"Assertion failed")}function i(h,c){h.super_=c;var l=function(){};l.prototype=c.prototype,h.prototype=new l,h.prototype.constructor=h}function n(h,c,l){if(n.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((c==="le"||c==="be")&&(l=c,c=10),this._init(h||0,c||10,l||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Jt().Buffer}catch{}n.isBN=function(c){return c instanceof n?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===n.wordSize&&Array.isArray(c.words)},n.max=function(c,l){return c.cmp(l)>0?c:l},n.min=function(c,l){return c.cmp(l)<0?c:l},n.prototype._init=function(c,l,g){if(typeof c=="number")return this._initNumber(c,l,g);if(typeof c=="object")return this._initArray(c,l,g);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),c=c.toString().replace(/\s+/g,"");var w=0;c[0]==="-"&&(w++,this.negative=1),w<c.length&&(l===16?this._parseHex(c,w,g):(this._parseBase(c,l,w),g==="le"&&this._initArray(this.toArray(),l,g)))},n.prototype._initNumber=function(c,l,g){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),l,g)},n.prototype._initArray=function(c,l,g){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var m,f,y=0;if(g==="be")for(w=c.length-1,m=0;w>=0;w-=3)f=c[w]|c[w-1]<<8|c[w-2]<<16,this.words[m]|=f<<y&67108863,this.words[m+1]=f>>>26-y&67108863,y+=24,y>=26&&(y-=26,m++);else if(g==="le")for(w=0,m=0;w<c.length;w+=3)f=c[w]|c[w+1]<<8|c[w+2]<<16,this.words[m]|=f<<y&67108863,this.words[m+1]=f>>>26-y&67108863,y+=24,y>=26&&(y-=26,m++);return this._strip()};function s(h,c){var l=h.charCodeAt(c);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+h)}function d(h,c,l){var g=s(h,l);return l-1>=c&&(g|=s(h,l-1)<<4),g}n.prototype._parseHex=function(c,l,g){this.length=Math.ceil((c.length-l)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var m=0,f=0,y;if(g==="be")for(w=c.length-1;w>=l;w-=2)y=d(c,l,w)<<m,this.words[f]|=y&67108863,m>=18?(m-=18,f+=1,this.words[f]|=y>>>26):m+=8;else{var R=c.length-l;for(w=R%2===0?l+1:l;w<c.length;w+=2)y=d(c,l,w)<<m,this.words[f]|=y&67108863,m>=18?(m-=18,f+=1,this.words[f]|=y>>>26):m+=8}this._strip()};function p(h,c,l,g){for(var w=0,m=0,f=Math.min(h.length,l),y=c;y<f;y++){var R=h.charCodeAt(y)-48;w*=g,R>=49?m=R-49+10:R>=17?m=R-17+10:m=R,r(R>=0&&m<g,"Invalid character"),w+=m}return w}n.prototype._parseBase=function(c,l,g){this.words=[0],this.length=1;for(var w=0,m=1;m<=67108863;m*=l)w++;w--,m=m/l|0;for(var f=c.length-g,y=f%w,R=Math.min(f,f-y)+g,A=0,D=g;D<R;D+=w)A=p(c,D,D+w,l),this.imuln(m),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(y!==0){var z=1;for(A=p(c,D,c.length,l),D=0;D<y;D++)z*=l;this.imuln(z),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this._strip()},n.prototype.copy=function(c){c.words=new Array(this.length);for(var l=0;l<this.length;l++)c.words[l]=this.words[l];c.length=this.length,c.negative=this.negative,c.red=this.red};function v(h,c){h.words=c.words,h.length=c.length,h.negative=c.negative,h.red=c.red}if(n.prototype._move=function(c){v(c,this)},n.prototype.clone=function(){var c=new n(null);return this.copy(c),c},n.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{n.prototype.inspect=b}else n.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(c,l){c=c||10,l=l|0||1;var g;if(c===16||c==="hex"){g="";for(var w=0,m=0,f=0;f<this.length;f++){var y=this.words[f],R=((y<<w|m)&16777215).toString(16);m=y>>>24-w&16777215,w+=2,w>=26&&(w-=26,f--),m!==0||f!==this.length-1?g=x[6-R.length]+R+g:g=R+g}for(m!==0&&(g=m.toString(16)+g);g.length%l!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(c===(c|0)&&c>=2&&c<=36){var A=E[c],D=T[c];g="";var z=this.clone();for(z.negative=0;!z.isZero();){var W=z.modrn(D).toString(c);z=z.idivn(D),z.isZero()?g=W+g:g=x[A-W.length]+W+g}for(this.isZero()&&(g="0"+g);g.length%l!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},n.prototype.toJSON=function(){return this.toString(16,2)},o&&(n.prototype.toBuffer=function(c,l){return this.toArrayLike(o,c,l)}),n.prototype.toArray=function(c,l){return this.toArrayLike(Array,c,l)};var S=function(c,l){return c.allocUnsafe?c.allocUnsafe(l):new c(l)};n.prototype.toArrayLike=function(c,l,g){this._strip();var w=this.byteLength(),m=g||Math.max(1,w);r(w<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0");var f=S(c,m),y=l==="le"?"LE":"BE";return this["_toArrayLike"+y](f,w),f},n.prototype._toArrayLikeLE=function(c,l){for(var g=0,w=0,m=0,f=0;m<this.length;m++){var y=this.words[m]<<f|w;c[g++]=y&255,g<c.length&&(c[g++]=y>>8&255),g<c.length&&(c[g++]=y>>16&255),f===6?(g<c.length&&(c[g++]=y>>24&255),w=0,f=0):(w=y>>>24,f+=2)}if(g<c.length)for(c[g++]=w;g<c.length;)c[g++]=0},n.prototype._toArrayLikeBE=function(c,l){for(var g=c.length-1,w=0,m=0,f=0;m<this.length;m++){var y=this.words[m]<<f|w;c[g--]=y&255,g>=0&&(c[g--]=y>>8&255),g>=0&&(c[g--]=y>>16&255),f===6?(g>=0&&(c[g--]=y>>24&255),w=0,f=0):(w=y>>>24,f+=2)}if(g>=0)for(c[g--]=w;g>=0;)c[g--]=0},Math.clz32?n.prototype._countBits=function(c){return 32-Math.clz32(c)}:n.prototype._countBits=function(c){var l=c,g=0;return l>=4096&&(g+=13,l>>>=13),l>=64&&(g+=7,l>>>=7),l>=8&&(g+=4,l>>>=4),l>=2&&(g+=2,l>>>=2),g+l},n.prototype._zeroBits=function(c){if(c===0)return 26;var l=c,g=0;return l&8191||(g+=13,l>>>=13),l&127||(g+=7,l>>>=7),l&15||(g+=4,l>>>=4),l&3||(g+=2,l>>>=2),l&1||g++,g},n.prototype.bitLength=function(){var c=this.words[this.length-1],l=this._countBits(c);return(this.length-1)*26+l};function P(h){for(var c=new Array(h.bitLength()),l=0;l<c.length;l++){var g=l/26|0,w=l%26;c[l]=h.words[g]>>>w&1}return c}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,l=0;l<this.length;l++){var g=this._zeroBits(this.words[l]);if(c+=g,g!==26)break}return c},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},n.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var l=0;l<c.length;l++)this.words[l]=this.words[l]|c.words[l];return this._strip()},n.prototype.ior=function(c){return r((this.negative|c.negative)===0),this.iuor(c)},n.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},n.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},n.prototype.iuand=function(c){var l;this.length>c.length?l=c:l=this;for(var g=0;g<l.length;g++)this.words[g]=this.words[g]&c.words[g];return this.length=l.length,this._strip()},n.prototype.iand=function(c){return r((this.negative|c.negative)===0),this.iuand(c)},n.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},n.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},n.prototype.iuxor=function(c){var l,g;this.length>c.length?(l=this,g=c):(l=c,g=this);for(var w=0;w<g.length;w++)this.words[w]=l.words[w]^g.words[w];if(this!==l)for(;w<l.length;w++)this.words[w]=l.words[w];return this.length=l.length,this._strip()},n.prototype.ixor=function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},n.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},n.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},n.prototype.inotn=function(c){r(typeof c=="number"&&c>=0);var l=Math.ceil(c/26)|0,g=c%26;this._expand(l),g>0&&l--;for(var w=0;w<l;w++)this.words[w]=~this.words[w]&67108863;return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this._strip()},n.prototype.notn=function(c){return this.clone().inotn(c)},n.prototype.setn=function(c,l){r(typeof c=="number"&&c>=0);var g=c/26|0,w=c%26;return this._expand(g+1),l?this.words[g]=this.words[g]|1<<w:this.words[g]=this.words[g]&~(1<<w),this._strip()},n.prototype.iadd=function(c){var l;if(this.negative!==0&&c.negative===0)return this.negative=0,l=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,l=this.isub(c),c.negative=1,l._normSign();var g,w;this.length>c.length?(g=this,w=c):(g=c,w=this);for(var m=0,f=0;f<w.length;f++)l=(g.words[f]|0)+(w.words[f]|0)+m,this.words[f]=l&67108863,m=l>>>26;for(;m!==0&&f<g.length;f++)l=(g.words[f]|0)+m,this.words[f]=l&67108863,m=l>>>26;if(this.length=g.length,m!==0)this.words[this.length]=m,this.length++;else if(g!==this)for(;f<g.length;f++)this.words[f]=g.words[f];return this},n.prototype.add=function(c){var l;return c.negative!==0&&this.negative===0?(c.negative=0,l=this.sub(c),c.negative^=1,l):c.negative===0&&this.negative!==0?(this.negative=0,l=c.sub(this),this.negative=1,l):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},n.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var l=this.iadd(c);return c.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var g=this.cmp(c);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,m;g>0?(w=this,m=c):(w=c,m=this);for(var f=0,y=0;y<m.length;y++)l=(w.words[y]|0)-(m.words[y]|0)+f,f=l>>26,this.words[y]=l&67108863;for(;f!==0&&y<w.length;y++)l=(w.words[y]|0)+f,f=l>>26,this.words[y]=l&67108863;if(f===0&&y<w.length&&w!==this)for(;y<w.length;y++)this.words[y]=w.words[y];return this.length=Math.max(this.length,y),w!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(c){return this.clone().isub(c)};function B(h,c,l){l.negative=c.negative^h.negative;var g=h.length+c.length|0;l.length=g,g=g-1|0;var w=h.words[0]|0,m=c.words[0]|0,f=w*m,y=f&67108863,R=f/67108864|0;l.words[0]=y;for(var A=1;A<g;A++){for(var D=R>>>26,z=R&67108863,W=Math.min(A,c.length-1),H=Math.max(0,A-h.length+1);H<=W;H++){var J=A-H|0;w=h.words[J]|0,m=c.words[H]|0,f=w*m+z,D+=f/67108864|0,z=f&67108863}l.words[A]=z|0,R=D|0}return R!==0?l.words[A]=R|0:l.length--,l._strip()}var I=function(c,l,g){var w=c.words,m=l.words,f=g.words,y=0,R,A,D,z=w[0]|0,W=z&8191,H=z>>>13,J=w[1]|0,Z=J&8191,Y=J>>>13,Le=w[2]|0,Q=Le&8191,X=Le>>>13,Qe=w[3]|0,te=Qe&8191,re=Qe>>>13,Zt=w[4]|0,ie=Zt&8191,ne=Zt>>>13,_r=w[5]|0,se=_r&8191,oe=_r>>>13,ni=w[6]|0,fe=ni&8191,ae=ni>>>13,oi=w[7]|0,ue=oi&8191,ce=oi>>>13,si=w[8]|0,le=si&8191,de=si>>>13,hi=w[9]|0,he=hi&8191,pe=hi>>>13,Ci=m[0]|0,me=Ci&8191,ye=Ci>>>13,Oi=m[1]|0,ge=Oi&8191,ve=Oi>>>13,ji=m[2]|0,be=ji&8191,we=ji>>>13,qi=m[3]|0,_e=qi&8191,xe=qi>>>13,Ni=m[4]|0,Me=Ni&8191,Ee=Ni>>>13,Li=m[5]|0,Se=Li&8191,Ae=Li>>>13,Ui=m[6]|0,Te=Ui&8191,Pe=Ui>>>13,Fi=m[7]|0,Re=Fi&8191,ke=Fi>>>13,zi=m[8]|0,Ie=zi&8191,Be=zi>>>13,zr=m[9]|0,vt=zr&8191,bt=zr>>>13;g.negative=c.negative^l.negative,g.length=19,R=Math.imul(W,me),A=Math.imul(W,ye),A=A+Math.imul(H,me)|0,D=Math.imul(H,ye);var xr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(xr>>>26)|0,xr&=67108863,R=Math.imul(Z,me),A=Math.imul(Z,ye),A=A+Math.imul(Y,me)|0,D=Math.imul(Y,ye),R=R+Math.imul(W,ge)|0,A=A+Math.imul(W,ve)|0,A=A+Math.imul(H,ge)|0,D=D+Math.imul(H,ve)|0;var Mr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,R=Math.imul(Q,me),A=Math.imul(Q,ye),A=A+Math.imul(X,me)|0,D=Math.imul(X,ye),R=R+Math.imul(Z,ge)|0,A=A+Math.imul(Z,ve)|0,A=A+Math.imul(Y,ge)|0,D=D+Math.imul(Y,ve)|0,R=R+Math.imul(W,be)|0,A=A+Math.imul(W,we)|0,A=A+Math.imul(H,be)|0,D=D+Math.imul(H,we)|0;var Er=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Er>>>26)|0,Er&=67108863,R=Math.imul(te,me),A=Math.imul(te,ye),A=A+Math.imul(re,me)|0,D=Math.imul(re,ye),R=R+Math.imul(Q,ge)|0,A=A+Math.imul(Q,ve)|0,A=A+Math.imul(X,ge)|0,D=D+Math.imul(X,ve)|0,R=R+Math.imul(Z,be)|0,A=A+Math.imul(Z,we)|0,A=A+Math.imul(Y,be)|0,D=D+Math.imul(Y,we)|0,R=R+Math.imul(W,_e)|0,A=A+Math.imul(W,xe)|0,A=A+Math.imul(H,_e)|0,D=D+Math.imul(H,xe)|0;var Sr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,R=Math.imul(ie,me),A=Math.imul(ie,ye),A=A+Math.imul(ne,me)|0,D=Math.imul(ne,ye),R=R+Math.imul(te,ge)|0,A=A+Math.imul(te,ve)|0,A=A+Math.imul(re,ge)|0,D=D+Math.imul(re,ve)|0,R=R+Math.imul(Q,be)|0,A=A+Math.imul(Q,we)|0,A=A+Math.imul(X,be)|0,D=D+Math.imul(X,we)|0,R=R+Math.imul(Z,_e)|0,A=A+Math.imul(Z,xe)|0,A=A+Math.imul(Y,_e)|0,D=D+Math.imul(Y,xe)|0,R=R+Math.imul(W,Me)|0,A=A+Math.imul(W,Ee)|0,A=A+Math.imul(H,Me)|0,D=D+Math.imul(H,Ee)|0;var Ar=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,R=Math.imul(se,me),A=Math.imul(se,ye),A=A+Math.imul(oe,me)|0,D=Math.imul(oe,ye),R=R+Math.imul(ie,ge)|0,A=A+Math.imul(ie,ve)|0,A=A+Math.imul(ne,ge)|0,D=D+Math.imul(ne,ve)|0,R=R+Math.imul(te,be)|0,A=A+Math.imul(te,we)|0,A=A+Math.imul(re,be)|0,D=D+Math.imul(re,we)|0,R=R+Math.imul(Q,_e)|0,A=A+Math.imul(Q,xe)|0,A=A+Math.imul(X,_e)|0,D=D+Math.imul(X,xe)|0,R=R+Math.imul(Z,Me)|0,A=A+Math.imul(Z,Ee)|0,A=A+Math.imul(Y,Me)|0,D=D+Math.imul(Y,Ee)|0,R=R+Math.imul(W,Se)|0,A=A+Math.imul(W,Ae)|0,A=A+Math.imul(H,Se)|0,D=D+Math.imul(H,Ae)|0;var Tr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,R=Math.imul(fe,me),A=Math.imul(fe,ye),A=A+Math.imul(ae,me)|0,D=Math.imul(ae,ye),R=R+Math.imul(se,ge)|0,A=A+Math.imul(se,ve)|0,A=A+Math.imul(oe,ge)|0,D=D+Math.imul(oe,ve)|0,R=R+Math.imul(ie,be)|0,A=A+Math.imul(ie,we)|0,A=A+Math.imul(ne,be)|0,D=D+Math.imul(ne,we)|0,R=R+Math.imul(te,_e)|0,A=A+Math.imul(te,xe)|0,A=A+Math.imul(re,_e)|0,D=D+Math.imul(re,xe)|0,R=R+Math.imul(Q,Me)|0,A=A+Math.imul(Q,Ee)|0,A=A+Math.imul(X,Me)|0,D=D+Math.imul(X,Ee)|0,R=R+Math.imul(Z,Se)|0,A=A+Math.imul(Z,Ae)|0,A=A+Math.imul(Y,Se)|0,D=D+Math.imul(Y,Ae)|0,R=R+Math.imul(W,Te)|0,A=A+Math.imul(W,Pe)|0,A=A+Math.imul(H,Te)|0,D=D+Math.imul(H,Pe)|0;var Pr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,R=Math.imul(ue,me),A=Math.imul(ue,ye),A=A+Math.imul(ce,me)|0,D=Math.imul(ce,ye),R=R+Math.imul(fe,ge)|0,A=A+Math.imul(fe,ve)|0,A=A+Math.imul(ae,ge)|0,D=D+Math.imul(ae,ve)|0,R=R+Math.imul(se,be)|0,A=A+Math.imul(se,we)|0,A=A+Math.imul(oe,be)|0,D=D+Math.imul(oe,we)|0,R=R+Math.imul(ie,_e)|0,A=A+Math.imul(ie,xe)|0,A=A+Math.imul(ne,_e)|0,D=D+Math.imul(ne,xe)|0,R=R+Math.imul(te,Me)|0,A=A+Math.imul(te,Ee)|0,A=A+Math.imul(re,Me)|0,D=D+Math.imul(re,Ee)|0,R=R+Math.imul(Q,Se)|0,A=A+Math.imul(Q,Ae)|0,A=A+Math.imul(X,Se)|0,D=D+Math.imul(X,Ae)|0,R=R+Math.imul(Z,Te)|0,A=A+Math.imul(Z,Pe)|0,A=A+Math.imul(Y,Te)|0,D=D+Math.imul(Y,Pe)|0,R=R+Math.imul(W,Re)|0,A=A+Math.imul(W,ke)|0,A=A+Math.imul(H,Re)|0,D=D+Math.imul(H,ke)|0;var Rr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,R=Math.imul(le,me),A=Math.imul(le,ye),A=A+Math.imul(de,me)|0,D=Math.imul(de,ye),R=R+Math.imul(ue,ge)|0,A=A+Math.imul(ue,ve)|0,A=A+Math.imul(ce,ge)|0,D=D+Math.imul(ce,ve)|0,R=R+Math.imul(fe,be)|0,A=A+Math.imul(fe,we)|0,A=A+Math.imul(ae,be)|0,D=D+Math.imul(ae,we)|0,R=R+Math.imul(se,_e)|0,A=A+Math.imul(se,xe)|0,A=A+Math.imul(oe,_e)|0,D=D+Math.imul(oe,xe)|0,R=R+Math.imul(ie,Me)|0,A=A+Math.imul(ie,Ee)|0,A=A+Math.imul(ne,Me)|0,D=D+Math.imul(ne,Ee)|0,R=R+Math.imul(te,Se)|0,A=A+Math.imul(te,Ae)|0,A=A+Math.imul(re,Se)|0,D=D+Math.imul(re,Ae)|0,R=R+Math.imul(Q,Te)|0,A=A+Math.imul(Q,Pe)|0,A=A+Math.imul(X,Te)|0,D=D+Math.imul(X,Pe)|0,R=R+Math.imul(Z,Re)|0,A=A+Math.imul(Z,ke)|0,A=A+Math.imul(Y,Re)|0,D=D+Math.imul(Y,ke)|0,R=R+Math.imul(W,Ie)|0,A=A+Math.imul(W,Be)|0,A=A+Math.imul(H,Ie)|0,D=D+Math.imul(H,Be)|0;var kr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(kr>>>26)|0,kr&=67108863,R=Math.imul(he,me),A=Math.imul(he,ye),A=A+Math.imul(pe,me)|0,D=Math.imul(pe,ye),R=R+Math.imul(le,ge)|0,A=A+Math.imul(le,ve)|0,A=A+Math.imul(de,ge)|0,D=D+Math.imul(de,ve)|0,R=R+Math.imul(ue,be)|0,A=A+Math.imul(ue,we)|0,A=A+Math.imul(ce,be)|0,D=D+Math.imul(ce,we)|0,R=R+Math.imul(fe,_e)|0,A=A+Math.imul(fe,xe)|0,A=A+Math.imul(ae,_e)|0,D=D+Math.imul(ae,xe)|0,R=R+Math.imul(se,Me)|0,A=A+Math.imul(se,Ee)|0,A=A+Math.imul(oe,Me)|0,D=D+Math.imul(oe,Ee)|0,R=R+Math.imul(ie,Se)|0,A=A+Math.imul(ie,Ae)|0,A=A+Math.imul(ne,Se)|0,D=D+Math.imul(ne,Ae)|0,R=R+Math.imul(te,Te)|0,A=A+Math.imul(te,Pe)|0,A=A+Math.imul(re,Te)|0,D=D+Math.imul(re,Pe)|0,R=R+Math.imul(Q,Re)|0,A=A+Math.imul(Q,ke)|0,A=A+Math.imul(X,Re)|0,D=D+Math.imul(X,ke)|0,R=R+Math.imul(Z,Ie)|0,A=A+Math.imul(Z,Be)|0,A=A+Math.imul(Y,Ie)|0,D=D+Math.imul(Y,Be)|0,R=R+Math.imul(W,vt)|0,A=A+Math.imul(W,bt)|0,A=A+Math.imul(H,vt)|0,D=D+Math.imul(H,bt)|0;var Ir=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,R=Math.imul(he,ge),A=Math.imul(he,ve),A=A+Math.imul(pe,ge)|0,D=Math.imul(pe,ve),R=R+Math.imul(le,be)|0,A=A+Math.imul(le,we)|0,A=A+Math.imul(de,be)|0,D=D+Math.imul(de,we)|0,R=R+Math.imul(ue,_e)|0,A=A+Math.imul(ue,xe)|0,A=A+Math.imul(ce,_e)|0,D=D+Math.imul(ce,xe)|0,R=R+Math.imul(fe,Me)|0,A=A+Math.imul(fe,Ee)|0,A=A+Math.imul(ae,Me)|0,D=D+Math.imul(ae,Ee)|0,R=R+Math.imul(se,Se)|0,A=A+Math.imul(se,Ae)|0,A=A+Math.imul(oe,Se)|0,D=D+Math.imul(oe,Ae)|0,R=R+Math.imul(ie,Te)|0,A=A+Math.imul(ie,Pe)|0,A=A+Math.imul(ne,Te)|0,D=D+Math.imul(ne,Pe)|0,R=R+Math.imul(te,Re)|0,A=A+Math.imul(te,ke)|0,A=A+Math.imul(re,Re)|0,D=D+Math.imul(re,ke)|0,R=R+Math.imul(Q,Ie)|0,A=A+Math.imul(Q,Be)|0,A=A+Math.imul(X,Ie)|0,D=D+Math.imul(X,Be)|0,R=R+Math.imul(Z,vt)|0,A=A+Math.imul(Z,bt)|0,A=A+Math.imul(Y,vt)|0,D=D+Math.imul(Y,bt)|0;var Br=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Br>>>26)|0,Br&=67108863,R=Math.imul(he,be),A=Math.imul(he,we),A=A+Math.imul(pe,be)|0,D=Math.imul(pe,we),R=R+Math.imul(le,_e)|0,A=A+Math.imul(le,xe)|0,A=A+Math.imul(de,_e)|0,D=D+Math.imul(de,xe)|0,R=R+Math.imul(ue,Me)|0,A=A+Math.imul(ue,Ee)|0,A=A+Math.imul(ce,Me)|0,D=D+Math.imul(ce,Ee)|0,R=R+Math.imul(fe,Se)|0,A=A+Math.imul(fe,Ae)|0,A=A+Math.imul(ae,Se)|0,D=D+Math.imul(ae,Ae)|0,R=R+Math.imul(se,Te)|0,A=A+Math.imul(se,Pe)|0,A=A+Math.imul(oe,Te)|0,D=D+Math.imul(oe,Pe)|0,R=R+Math.imul(ie,Re)|0,A=A+Math.imul(ie,ke)|0,A=A+Math.imul(ne,Re)|0,D=D+Math.imul(ne,ke)|0,R=R+Math.imul(te,Ie)|0,A=A+Math.imul(te,Be)|0,A=A+Math.imul(re,Ie)|0,D=D+Math.imul(re,Be)|0,R=R+Math.imul(Q,vt)|0,A=A+Math.imul(Q,bt)|0,A=A+Math.imul(X,vt)|0,D=D+Math.imul(X,bt)|0;var Dr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,R=Math.imul(he,_e),A=Math.imul(he,xe),A=A+Math.imul(pe,_e)|0,D=Math.imul(pe,xe),R=R+Math.imul(le,Me)|0,A=A+Math.imul(le,Ee)|0,A=A+Math.imul(de,Me)|0,D=D+Math.imul(de,Ee)|0,R=R+Math.imul(ue,Se)|0,A=A+Math.imul(ue,Ae)|0,A=A+Math.imul(ce,Se)|0,D=D+Math.imul(ce,Ae)|0,R=R+Math.imul(fe,Te)|0,A=A+Math.imul(fe,Pe)|0,A=A+Math.imul(ae,Te)|0,D=D+Math.imul(ae,Pe)|0,R=R+Math.imul(se,Re)|0,A=A+Math.imul(se,ke)|0,A=A+Math.imul(oe,Re)|0,D=D+Math.imul(oe,ke)|0,R=R+Math.imul(ie,Ie)|0,A=A+Math.imul(ie,Be)|0,A=A+Math.imul(ne,Ie)|0,D=D+Math.imul(ne,Be)|0,R=R+Math.imul(te,vt)|0,A=A+Math.imul(te,bt)|0,A=A+Math.imul(re,vt)|0,D=D+Math.imul(re,bt)|0;var Cr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,R=Math.imul(he,Me),A=Math.imul(he,Ee),A=A+Math.imul(pe,Me)|0,D=Math.imul(pe,Ee),R=R+Math.imul(le,Se)|0,A=A+Math.imul(le,Ae)|0,A=A+Math.imul(de,Se)|0,D=D+Math.imul(de,Ae)|0,R=R+Math.imul(ue,Te)|0,A=A+Math.imul(ue,Pe)|0,A=A+Math.imul(ce,Te)|0,D=D+Math.imul(ce,Pe)|0,R=R+Math.imul(fe,Re)|0,A=A+Math.imul(fe,ke)|0,A=A+Math.imul(ae,Re)|0,D=D+Math.imul(ae,ke)|0,R=R+Math.imul(se,Ie)|0,A=A+Math.imul(se,Be)|0,A=A+Math.imul(oe,Ie)|0,D=D+Math.imul(oe,Be)|0,R=R+Math.imul(ie,vt)|0,A=A+Math.imul(ie,bt)|0,A=A+Math.imul(ne,vt)|0,D=D+Math.imul(ne,bt)|0;var Or=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(Or>>>26)|0,Or&=67108863,R=Math.imul(he,Se),A=Math.imul(he,Ae),A=A+Math.imul(pe,Se)|0,D=Math.imul(pe,Ae),R=R+Math.imul(le,Te)|0,A=A+Math.imul(le,Pe)|0,A=A+Math.imul(de,Te)|0,D=D+Math.imul(de,Pe)|0,R=R+Math.imul(ue,Re)|0,A=A+Math.imul(ue,ke)|0,A=A+Math.imul(ce,Re)|0,D=D+Math.imul(ce,ke)|0,R=R+Math.imul(fe,Ie)|0,A=A+Math.imul(fe,Be)|0,A=A+Math.imul(ae,Ie)|0,D=D+Math.imul(ae,Be)|0,R=R+Math.imul(se,vt)|0,A=A+Math.imul(se,bt)|0,A=A+Math.imul(oe,vt)|0,D=D+Math.imul(oe,bt)|0;var jr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(jr>>>26)|0,jr&=67108863,R=Math.imul(he,Te),A=Math.imul(he,Pe),A=A+Math.imul(pe,Te)|0,D=Math.imul(pe,Pe),R=R+Math.imul(le,Re)|0,A=A+Math.imul(le,ke)|0,A=A+Math.imul(de,Re)|0,D=D+Math.imul(de,ke)|0,R=R+Math.imul(ue,Ie)|0,A=A+Math.imul(ue,Be)|0,A=A+Math.imul(ce,Ie)|0,D=D+Math.imul(ce,Be)|0,R=R+Math.imul(fe,vt)|0,A=A+Math.imul(fe,bt)|0,A=A+Math.imul(ae,vt)|0,D=D+Math.imul(ae,bt)|0;var qr=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(qr>>>26)|0,qr&=67108863,R=Math.imul(he,Re),A=Math.imul(he,ke),A=A+Math.imul(pe,Re)|0,D=Math.imul(pe,ke),R=R+Math.imul(le,Ie)|0,A=A+Math.imul(le,Be)|0,A=A+Math.imul(de,Ie)|0,D=D+Math.imul(de,Be)|0,R=R+Math.imul(ue,vt)|0,A=A+Math.imul(ue,bt)|0,A=A+Math.imul(ce,vt)|0,D=D+Math.imul(ce,bt)|0;var q6=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(q6>>>26)|0,q6&=67108863,R=Math.imul(he,Ie),A=Math.imul(he,Be),A=A+Math.imul(pe,Ie)|0,D=Math.imul(pe,Be),R=R+Math.imul(le,vt)|0,A=A+Math.imul(le,bt)|0,A=A+Math.imul(de,vt)|0,D=D+Math.imul(de,bt)|0;var N6=(y+R|0)+((A&8191)<<13)|0;y=(D+(A>>>13)|0)+(N6>>>26)|0,N6&=67108863,R=Math.imul(he,vt),A=Math.imul(he,bt),A=A+Math.imul(pe,vt)|0,D=Math.imul(pe,bt);var L6=(y+R|0)+((A&8191)<<13)|0;return y=(D+(A>>>13)|0)+(L6>>>26)|0,L6&=67108863,f[0]=xr,f[1]=Mr,f[2]=Er,f[3]=Sr,f[4]=Ar,f[5]=Tr,f[6]=Pr,f[7]=Rr,f[8]=kr,f[9]=Ir,f[10]=Br,f[11]=Dr,f[12]=Cr,f[13]=Or,f[14]=jr,f[15]=qr,f[16]=q6,f[17]=N6,f[18]=L6,y!==0&&(f[19]=y,g.length++),g};Math.imul||(I=B);function C(h,c,l){l.negative=c.negative^h.negative,l.length=h.length+c.length;for(var g=0,w=0,m=0;m<l.length-1;m++){var f=w;w=0;for(var y=g&67108863,R=Math.min(m,c.length-1),A=Math.max(0,m-h.length+1);A<=R;A++){var D=m-A,z=h.words[D]|0,W=c.words[A]|0,H=z*W,J=H&67108863;f=f+(H/67108864|0)|0,J=J+y|0,y=J&67108863,f=f+(J>>>26)|0,w+=f>>>26,f&=67108863}l.words[m]=y,g=f,f=w}return g!==0?l.words[m]=g:l.length--,l._strip()}function O(h,c,l){return C(h,c,l)}n.prototype.mulTo=function(c,l){var g,w=this.length+c.length;return this.length===10&&c.length===10?g=I(this,c,l):w<63?g=B(this,c,l):w<1024?g=C(this,c,l):g=O(this,c,l),g};function F(h,c){this.x=h,this.y=c}F.prototype.makeRBT=function(c){for(var l=new Array(c),g=n.prototype._countBits(c)-1,w=0;w<c;w++)l[w]=this.revBin(w,g,c);return l},F.prototype.revBin=function(c,l,g){if(c===0||c===g-1)return c;for(var w=0,m=0;m<l;m++)w|=(c&1)<<l-m-1,c>>=1;return w},F.prototype.permute=function(c,l,g,w,m,f){for(var y=0;y<f;y++)w[y]=l[c[y]],m[y]=g[c[y]]},F.prototype.transform=function(c,l,g,w,m,f){this.permute(f,c,l,g,w,m);for(var y=1;y<m;y<<=1)for(var R=y<<1,A=Math.cos(2*Math.PI/R),D=Math.sin(2*Math.PI/R),z=0;z<m;z+=R)for(var W=A,H=D,J=0;J<y;J++){var Z=g[z+J],Y=w[z+J],Le=g[z+J+y],Q=w[z+J+y],X=W*Le-H*Q;Q=W*Q+H*Le,Le=X,g[z+J]=Z+Le,w[z+J]=Y+Q,g[z+J+y]=Z-Le,w[z+J+y]=Y-Q,J!==R&&(X=A*W-D*H,H=A*H+D*W,W=X)}},F.prototype.guessLen13b=function(c,l){var g=Math.max(l,c)|1,w=g&1,m=0;for(g=g/2|0;g;g=g>>>1)m++;return 1<<m+1+w},F.prototype.conjugate=function(c,l,g){if(!(g<=1))for(var w=0;w<g/2;w++){var m=c[w];c[w]=c[g-w-1],c[g-w-1]=m,m=l[w],l[w]=-l[g-w-1],l[g-w-1]=-m}},F.prototype.normalize13b=function(c,l){for(var g=0,w=0;w<l/2;w++){var m=Math.round(c[2*w+1]/l)*8192+Math.round(c[2*w]/l)+g;c[w]=m&67108863,m<67108864?g=0:g=m/67108864|0}return c},F.prototype.convert13b=function(c,l,g,w){for(var m=0,f=0;f<l;f++)m=m+(c[f]|0),g[2*f]=m&8191,m=m>>>13,g[2*f+1]=m&8191,m=m>>>13;for(f=2*l;f<w;++f)g[f]=0;r(m===0),r((m&-8192)===0)},F.prototype.stub=function(c){for(var l=new Array(c),g=0;g<c;g++)l[g]=0;return l},F.prototype.mulp=function(c,l,g){var w=2*this.guessLen13b(c.length,l.length),m=this.makeRBT(w),f=this.stub(w),y=new Array(w),R=new Array(w),A=new Array(w),D=new Array(w),z=new Array(w),W=new Array(w),H=g.words;H.length=w,this.convert13b(c.words,c.length,y,w),this.convert13b(l.words,l.length,D,w),this.transform(y,f,R,A,w,m),this.transform(D,f,z,W,w,m);for(var J=0;J<w;J++){var Z=R[J]*z[J]-A[J]*W[J];A[J]=R[J]*W[J]+A[J]*z[J],R[J]=Z}return this.conjugate(R,A,w),this.transform(R,A,H,f,w,m),this.conjugate(H,f,w),this.normalize13b(H,w),g.negative=c.negative^l.negative,g.length=c.length+l.length,g._strip()},n.prototype.mul=function(c){var l=new n(null);return l.words=new Array(this.length+c.length),this.mulTo(c,l)},n.prototype.mulf=function(c){var l=new n(null);return l.words=new Array(this.length+c.length),O(this,c,l)},n.prototype.imul=function(c){return this.clone().mulTo(c,this)},n.prototype.imuln=function(c){var l=c<0;l&&(c=-c),r(typeof c=="number"),r(c<67108864);for(var g=0,w=0;w<this.length;w++){var m=(this.words[w]|0)*c,f=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=f>>>26,this.words[w]=f&67108863}return g!==0&&(this.words[w]=g,this.length++),l?this.ineg():this},n.prototype.muln=function(c){return this.clone().imuln(c)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(c){var l=P(c);if(l.length===0)return new n(1);for(var g=this,w=0;w<l.length&&l[w]===0;w++,g=g.sqr());if(++w<l.length)for(var m=g.sqr();w<l.length;w++,m=m.sqr())l[w]!==0&&(g=g.mul(m));return g},n.prototype.iushln=function(c){r(typeof c=="number"&&c>=0);var l=c%26,g=(c-l)/26,w=67108863>>>26-l<<26-l,m;if(l!==0){var f=0;for(m=0;m<this.length;m++){var y=this.words[m]&w,R=(this.words[m]|0)-y<<l;this.words[m]=R|f,f=y>>>26-l}f&&(this.words[m]=f,this.length++)}if(g!==0){for(m=this.length-1;m>=0;m--)this.words[m+g]=this.words[m];for(m=0;m<g;m++)this.words[m]=0;this.length+=g}return this._strip()},n.prototype.ishln=function(c){return r(this.negative===0),this.iushln(c)},n.prototype.iushrn=function(c,l,g){r(typeof c=="number"&&c>=0);var w;l?w=(l-l%26)/26:w=0;var m=c%26,f=Math.min((c-m)/26,this.length),y=67108863^67108863>>>m<<m,R=g;if(w-=f,w=Math.max(0,w),R){for(var A=0;A<f;A++)R.words[A]=this.words[A];R.length=f}if(f!==0)if(this.length>f)for(this.length-=f,A=0;A<this.length;A++)this.words[A]=this.words[A+f];else this.words[0]=0,this.length=1;var D=0;for(A=this.length-1;A>=0&&(D!==0||A>=w);A--){var z=this.words[A]|0;this.words[A]=D<<26-m|z>>>m,D=z&y}return R&&D!==0&&(R.words[R.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(c,l,g){return r(this.negative===0),this.iushrn(c,l,g)},n.prototype.shln=function(c){return this.clone().ishln(c)},n.prototype.ushln=function(c){return this.clone().iushln(c)},n.prototype.shrn=function(c){return this.clone().ishrn(c)},n.prototype.ushrn=function(c){return this.clone().iushrn(c)},n.prototype.testn=function(c){r(typeof c=="number"&&c>=0);var l=c%26,g=(c-l)/26,w=1<<l;if(this.length<=g)return!1;var m=this.words[g];return!!(m&w)},n.prototype.imaskn=function(c){r(typeof c=="number"&&c>=0);var l=c%26,g=(c-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(l!==0&&g++,this.length=Math.min(g,this.length),l!==0){var w=67108863^67108863>>>l<<l;this.words[this.length-1]&=w}return this._strip()},n.prototype.maskn=function(c){return this.clone().imaskn(c)},n.prototype.iaddn=function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},n.prototype._iaddn=function(c){this.words[0]+=c;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},n.prototype.isubn=function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},n.prototype.addn=function(c){return this.clone().iaddn(c)},n.prototype.subn=function(c){return this.clone().isubn(c)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(c,l,g){var w=c.length+g,m;this._expand(w);var f,y=0;for(m=0;m<c.length;m++){f=(this.words[m+g]|0)+y;var R=(c.words[m]|0)*l;f-=R&67108863,y=(f>>26)-(R/67108864|0),this.words[m+g]=f&67108863}for(;m<this.length-g;m++)f=(this.words[m+g]|0)+y,y=f>>26,this.words[m+g]=f&67108863;if(y===0)return this._strip();for(r(y===-1),y=0,m=0;m<this.length;m++)f=-(this.words[m]|0)+y,y=f>>26,this.words[m]=f&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(c,l){var g=this.length-c.length,w=this.clone(),m=c,f=m.words[m.length-1]|0,y=this._countBits(f);g=26-y,g!==0&&(m=m.ushln(g),w.iushln(g),f=m.words[m.length-1]|0);var R=w.length-m.length,A;if(l!=="mod"){A=new n(null),A.length=R+1,A.words=new Array(A.length);for(var D=0;D<A.length;D++)A.words[D]=0}var z=w.clone()._ishlnsubmul(m,1,R);z.negative===0&&(w=z,A&&(A.words[R]=1));for(var W=R-1;W>=0;W--){var H=(w.words[m.length+W]|0)*67108864+(w.words[m.length+W-1]|0);for(H=Math.min(H/f|0,67108863),w._ishlnsubmul(m,H,W);w.negative!==0;)H--,w.negative=0,w._ishlnsubmul(m,1,W),w.isZero()||(w.negative^=1);A&&(A.words[W]=H)}return A&&A._strip(),w._strip(),l!=="div"&&g!==0&&w.iushrn(g),{div:A||null,mod:w}},n.prototype.divmod=function(c,l,g){if(r(!c.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var w,m,f;return this.negative!==0&&c.negative===0?(f=this.neg().divmod(c,l),l!=="mod"&&(w=f.div.neg()),l!=="div"&&(m=f.mod.neg(),g&&m.negative!==0&&m.iadd(c)),{div:w,mod:m}):this.negative===0&&c.negative!==0?(f=this.divmod(c.neg(),l),l!=="mod"&&(w=f.div.neg()),{div:w,mod:f.mod}):this.negative&c.negative?(f=this.neg().divmod(c.neg(),l),l!=="div"&&(m=f.mod.neg(),g&&m.negative!==0&&m.isub(c)),{div:f.div,mod:m}):c.length>this.length||this.cmp(c)<0?{div:new n(0),mod:this}:c.length===1?l==="div"?{div:this.divn(c.words[0]),mod:null}:l==="mod"?{div:null,mod:new n(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new n(this.modrn(c.words[0]))}:this._wordDiv(c,l)},n.prototype.div=function(c){return this.divmod(c,"div",!1).div},n.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},n.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},n.prototype.divRound=function(c){var l=this.divmod(c);if(l.mod.isZero())return l.div;var g=l.div.negative!==0?l.mod.isub(c):l.mod,w=c.ushrn(1),m=c.andln(1),f=g.cmp(w);return f<0||m===1&&f===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},n.prototype.modrn=function(c){var l=c<0;l&&(c=-c),r(c<=67108863);for(var g=(1<<26)%c,w=0,m=this.length-1;m>=0;m--)w=(g*w+(this.words[m]|0))%c;return l?-w:w},n.prototype.modn=function(c){return this.modrn(c)},n.prototype.idivn=function(c){var l=c<0;l&&(c=-c),r(c<=67108863);for(var g=0,w=this.length-1;w>=0;w--){var m=(this.words[w]|0)+g*67108864;this.words[w]=m/c|0,g=m%c}return this._strip(),l?this.ineg():this},n.prototype.divn=function(c){return this.clone().idivn(c)},n.prototype.egcd=function(c){r(c.negative===0),r(!c.isZero());var l=this,g=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var w=new n(1),m=new n(0),f=new n(0),y=new n(1),R=0;l.isEven()&&g.isEven();)l.iushrn(1),g.iushrn(1),++R;for(var A=g.clone(),D=l.clone();!l.isZero();){for(var z=0,W=1;!(l.words[0]&W)&&z<26;++z,W<<=1);if(z>0)for(l.iushrn(z);z-- >0;)(w.isOdd()||m.isOdd())&&(w.iadd(A),m.isub(D)),w.iushrn(1),m.iushrn(1);for(var H=0,J=1;!(g.words[0]&J)&&H<26;++H,J<<=1);if(H>0)for(g.iushrn(H);H-- >0;)(f.isOdd()||y.isOdd())&&(f.iadd(A),y.isub(D)),f.iushrn(1),y.iushrn(1);l.cmp(g)>=0?(l.isub(g),w.isub(f),m.isub(y)):(g.isub(l),f.isub(w),y.isub(m))}return{a:f,b:y,gcd:g.iushln(R)}},n.prototype._invmp=function(c){r(c.negative===0),r(!c.isZero());var l=this,g=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var w=new n(1),m=new n(0),f=g.clone();l.cmpn(1)>0&&g.cmpn(1)>0;){for(var y=0,R=1;!(l.words[0]&R)&&y<26;++y,R<<=1);if(y>0)for(l.iushrn(y);y-- >0;)w.isOdd()&&w.iadd(f),w.iushrn(1);for(var A=0,D=1;!(g.words[0]&D)&&A<26;++A,D<<=1);if(A>0)for(g.iushrn(A);A-- >0;)m.isOdd()&&m.iadd(f),m.iushrn(1);l.cmp(g)>=0?(l.isub(g),w.isub(m)):(g.isub(l),m.isub(w))}var z;return l.cmpn(1)===0?z=w:z=m,z.cmpn(0)<0&&z.iadd(c),z},n.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var l=this.clone(),g=c.clone();l.negative=0,g.negative=0;for(var w=0;l.isEven()&&g.isEven();w++)l.iushrn(1),g.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;g.isEven();)g.iushrn(1);var m=l.cmp(g);if(m<0){var f=l;l=g,g=f}else if(m===0||g.cmpn(1)===0)break;l.isub(g)}while(!0);return g.iushln(w)},n.prototype.invm=function(c){return this.egcd(c).a.umod(c)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(c){return this.words[0]&c},n.prototype.bincn=function(c){r(typeof c=="number");var l=c%26,g=(c-l)/26,w=1<<l;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var m=w,f=g;m!==0&&f<this.length;f++){var y=this.words[f]|0;y+=m,m=y>>>26,y&=67108863,this.words[f]=y}return m!==0&&(this.words[f]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(c){var l=c<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var g;if(this.length>1)g=1;else{l&&(c=-c),r(c<=67108863,"Number is too big");var w=this.words[0]|0;g=w===c?0:w<c?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var l=this.ucmp(c);return this.negative!==0?-l|0:l},n.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var l=0,g=this.length-1;g>=0;g--){var w=this.words[g]|0,m=c.words[g]|0;if(w!==m){w<m?l=-1:w>m&&(l=1);break}}return l},n.prototype.gtn=function(c){return this.cmpn(c)===1},n.prototype.gt=function(c){return this.cmp(c)===1},n.prototype.gten=function(c){return this.cmpn(c)>=0},n.prototype.gte=function(c){return this.cmp(c)>=0},n.prototype.ltn=function(c){return this.cmpn(c)===-1},n.prototype.lt=function(c){return this.cmp(c)===-1},n.prototype.lten=function(c){return this.cmpn(c)<=0},n.prototype.lte=function(c){return this.cmp(c)<=0},n.prototype.eqn=function(c){return this.cmpn(c)===0},n.prototype.eq=function(c){return this.cmp(c)===0},n.red=function(c){return new a(c)},n.prototype.toRed=function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(c){return this.red=c,this},n.prototype.forceRed=function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},n.prototype.redAdd=function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},n.prototype.redIAdd=function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},n.prototype.redSub=function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},n.prototype.redISub=function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},n.prototype.redShl=function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},n.prototype.redMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},n.prototype.redIMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var q={k256:null,p224:null,p192:null,p25519:null};function G(h,c){this.name=h,this.p=new n(c,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var c=new n(null);return c.words=new Array(Math.ceil(this.n/13)),c},G.prototype.ireduce=function(c){var l=c,g;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),g=l.bitLength();while(g>this.n);var w=g<this.n?-1:l.ucmp(this.p);return w===0?(l.words[0]=0,l.length=1):w>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},G.prototype.split=function(c,l){c.iushrn(this.n,0,l)},G.prototype.imulK=function(c){return c.imul(this.k)};function $(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i($,G),$.prototype.split=function(c,l){for(var g=4194303,w=Math.min(c.length,9),m=0;m<w;m++)l.words[m]=c.words[m];if(l.length=w,c.length<=9){c.words[0]=0,c.length=1;return}var f=c.words[9];for(l.words[l.length++]=f&g,m=10;m<c.length;m++){var y=c.words[m]|0;c.words[m-10]=(y&g)<<4|f>>>22,f=y}f>>>=22,c.words[m-10]=f,f===0&&c.length>10?c.length-=10:c.length-=9},$.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var l=0,g=0;g<c.length;g++){var w=c.words[g]|0;l+=w*977,c.words[g]=l&67108863,l=w*64+(l/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function N(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(N,G);function K(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,G);function _(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(_,G),_.prototype.imulK=function(c){for(var l=0,g=0;g<c.length;g++){var w=(c.words[g]|0)*19+l,m=w&67108863;w>>>=26,c.words[g]=m,l=w}return l!==0&&(c.words[c.length++]=l),c},n._prime=function(c){if(q[c])return q[c];var l;if(c==="k256")l=new $;else if(c==="p224")l=new N;else if(c==="p192")l=new K;else if(c==="p25519")l=new _;else throw new Error("Unknown prime "+c);return q[c]=l,l};function a(h){if(typeof h=="string"){var c=n._prime(h);this.m=c.p,this.prime=c}else r(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}a.prototype._verify1=function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},a.prototype._verify2=function(c,l){r((c.negative|l.negative)===0,"red works only with positives"),r(c.red&&c.red===l.red,"red works only with red numbers")},a.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(v(c,c.umod(this.m)._forceRed(this)),c)},a.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},a.prototype.add=function(c,l){this._verify2(c,l);var g=c.add(l);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},a.prototype.iadd=function(c,l){this._verify2(c,l);var g=c.iadd(l);return g.cmp(this.m)>=0&&g.isub(this.m),g},a.prototype.sub=function(c,l){this._verify2(c,l);var g=c.sub(l);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},a.prototype.isub=function(c,l){this._verify2(c,l);var g=c.isub(l);return g.cmpn(0)<0&&g.iadd(this.m),g},a.prototype.shl=function(c,l){return this._verify1(c),this.imod(c.ushln(l))},a.prototype.imul=function(c,l){return this._verify2(c,l),this.imod(c.imul(l))},a.prototype.mul=function(c,l){return this._verify2(c,l),this.imod(c.mul(l))},a.prototype.isqr=function(c){return this.imul(c,c.clone())},a.prototype.sqr=function(c){return this.mul(c,c)},a.prototype.sqrt=function(c){if(c.isZero())return c.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(c,g)}for(var w=this.m.subn(1),m=0;!w.isZero()&&w.andln(1)===0;)m++,w.iushrn(1);r(!w.isZero());var f=new n(1).toRed(this),y=f.redNeg(),R=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new n(2*A*A).toRed(this);this.pow(A,R).cmp(y)!==0;)A.redIAdd(y);for(var D=this.pow(A,w),z=this.pow(c,w.addn(1).iushrn(1)),W=this.pow(c,w),H=m;W.cmp(f)!==0;){for(var J=W,Z=0;J.cmp(f)!==0;Z++)J=J.redSqr();r(Z<H);var Y=this.pow(D,new n(1).iushln(H-Z-1));z=z.redMul(Y),D=Y.redSqr(),W=W.redMul(D),H=Z}return z},a.prototype.invm=function(c){var l=c._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},a.prototype.pow=function(c,l){if(l.isZero())return new n(1).toRed(this);if(l.cmpn(1)===0)return c.clone();var g=4,w=new Array(1<<g);w[0]=new n(1).toRed(this),w[1]=c;for(var m=2;m<w.length;m++)w[m]=this.mul(w[m-1],c);var f=w[0],y=0,R=0,A=l.bitLength()%26;for(A===0&&(A=26),m=l.length-1;m>=0;m--){for(var D=l.words[m],z=A-1;z>=0;z--){var W=D>>z&1;if(f!==w[0]&&(f=this.sqr(f)),W===0&&y===0){R=0;continue}y<<=1,y|=W,R++,!(R!==g&&(m!==0||z!==0))&&(f=this.mul(f,w[y]),R=0,y=0)}A=26}return f},a.prototype.convertTo=function(c){var l=c.umod(this.m);return l===c?l.clone():l},a.prototype.convertFrom=function(c){var l=c.clone();return l.red=null,l},n.mont=function(c){return new u(c)};function u(h){a.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(u,a),u.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},u.prototype.convertFrom=function(c){var l=this.imod(c.mul(this.rinv));return l.red=null,l},u.prototype.imul=function(c,l){if(c.isZero()||l.isZero())return c.words[0]=0,c.length=1,c;var g=c.imul(l),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=g.isub(w).iushrn(this.shift),f=m;return m.cmp(this.m)>=0?f=m.isub(this.m):m.cmpn(0)<0&&(f=m.iadd(this.m)),f._forceRed(this)},u.prototype.mul=function(c,l){if(c.isZero()||l.isZero())return new n(0)._forceRed(this);var g=c.mul(l),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=g.isub(w).iushrn(this.shift),f=m;return m.cmp(this.m)>=0?f=m.isub(this.m):m.cmpn(0)<0&&(f=m.iadd(this.m)),f._forceRed(this)},u.prototype.invm=function(c){var l=this.imod(c._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof lS>"u"||lS,uz)});var V2=V((xje,dz)=>{M();var kp=H2(),eme=pd();function tme(t){var e=cz(t),r=e.toRed(kp.mont(t.modulus)).redPow(new kp(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function cz(t){var e=t.modulus.byteLength(),r;do r=new kp(eme(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function lz(t,e){var r=tme(e),i=e.modulus.byteLength(),n=new kp(t).mul(r.blinder).umod(e.modulus),o=n.toRed(kp.mont(e.prime1)),s=n.toRed(kp.mont(e.prime2)),d=e.coefficient,p=e.prime1,v=e.prime2,b=o.redPow(e.exponent1).fromRed(),x=s.redPow(e.exponent2).fromRed(),E=b.isub(x).imul(d).umod(p).imul(v);return x.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(L.Buffer,"be",i)}lz.getr=cz;dz.exports=lz});var hz=V((Eje,rme)=>{rme.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var xf=V((pz,dS)=>{M();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Jt().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var c=0;a[0]==="-"&&(c++,this.negative=1),c<a.length&&(u===16?this._parseHex(a,c,h):(this._parseBase(a,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,g,w=0;if(h==="be")for(c=a.length-1,l=0;c>=0;c-=3)g=a[c]|a[c-1]<<8|a[c-2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);else if(h==="le")for(c=0,l=0;c<a.length;c+=3)g=a[c]|a[c+1]<<8|a[c+2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);return this.strip()};function s(_,a){var u=_.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,a,u){var h=s(_,u);return u-1>=a&&(h|=s(_,u-1)<<4),h}n.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,g=0,w;if(h==="be")for(c=a.length-1;c>=u;c-=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8;else{var m=a.length-u;for(c=m%2===0?u+1:u;c<a.length;c+=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8}this.strip()};function p(_,a,u,h){for(var c=0,l=Math.min(_.length,u),g=a;g<l;g++){var w=_.charCodeAt(g)-48;c*=h,w>=49?c+=w-49+10:w>=17?c+=w-17+10:c+=w}return c}n.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var g=a.length-h,w=g%c,m=Math.min(g,g-w)+h,f=0,y=h;y<m;y+=c)f=p(a,y,y+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(w!==0){var R=1;for(f=p(a,y,a.length,u),y=0;y<w;y++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var c=0,l=0,g=0;g<this.length;g++){var w=this.words[g],m=((w<<c|l)&16777215).toString(16);l=w>>>24-c&16777215,l!==0||g!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,g--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],y=x[a];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var A=R.modn(y).toString(a);R=R.idivn(y),R.isZero()?h=A+h:h=v[f-A.length]+A+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},n.prototype.toArrayLike=function(a,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var g=u==="le",w=new a(l),m,f,y=this.clone();if(g){for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[f]=m;for(;f<l;f++)w[f]=0}else{for(f=0;f<l-c;f++)w[f]=0;for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[l-f-1]=m}return w},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var h=u/26|0,c=u%26;a[u]=(_.words[h]&1<<c)>>>c}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,c=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,c;this.length>a.length?(h=this,c=a):(h=a,c=this);for(var l=0,g=0;g<c.length;g++)u=(h.words[g]|0)+(c.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;for(;l!==0&&g<h.length;g++)u=(h.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=a):(c=a,l=this);for(var g=0,w=0;w<l.length;w++)u=(c.words[w]|0)-(l.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;for(;g!==0&&w<c.length;w++)u=(c.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;if(g===0&&w<c.length&&c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this.length=Math.max(this.length,w),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function T(_,a,u){u.negative=a.negative^_.negative;var h=_.length+a.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=a.words[0]|0,g=c*l,w=g&67108863,m=g/67108864|0;u.words[0]=w;for(var f=1;f<h;f++){for(var y=m>>>26,R=m&67108863,A=Math.min(f,a.length-1),D=Math.max(0,f-_.length+1);D<=A;D++){var z=f-D|0;c=_.words[z]|0,l=a.words[D]|0,g=c*l+R,y+=g/67108864|0,R=g&67108863}u.words[f]=R|0,m=y|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var S=function(a,u,h){var c=a.words,l=u.words,g=h.words,w=0,m,f,y,R=c[0]|0,A=R&8191,D=R>>>13,z=c[1]|0,W=z&8191,H=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Le=c[3]|0,Q=Le&8191,X=Le>>>13,Qe=c[4]|0,te=Qe&8191,re=Qe>>>13,Zt=c[5]|0,ie=Zt&8191,ne=Zt>>>13,_r=c[6]|0,se=_r&8191,oe=_r>>>13,ni=c[7]|0,fe=ni&8191,ae=ni>>>13,oi=c[8]|0,ue=oi&8191,ce=oi>>>13,si=c[9]|0,le=si&8191,de=si>>>13,hi=l[0]|0,he=hi&8191,pe=hi>>>13,Ci=l[1]|0,me=Ci&8191,ye=Ci>>>13,Oi=l[2]|0,ge=Oi&8191,ve=Oi>>>13,ji=l[3]|0,be=ji&8191,we=ji>>>13,qi=l[4]|0,_e=qi&8191,xe=qi>>>13,Ni=l[5]|0,Me=Ni&8191,Ee=Ni>>>13,Li=l[6]|0,Se=Li&8191,Ae=Li>>>13,Ui=l[7]|0,Te=Ui&8191,Pe=Ui>>>13,Fi=l[8]|0,Re=Fi&8191,ke=Fi>>>13,zi=l[9]|0,Ie=zi&8191,Be=zi>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(A,he),f=Math.imul(A,pe),f=f+Math.imul(D,he)|0,y=Math.imul(D,pe);var zr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(W,he),f=Math.imul(W,pe),f=f+Math.imul(H,he)|0,y=Math.imul(H,pe),m=m+Math.imul(A,me)|0,f=f+Math.imul(A,ye)|0,f=f+Math.imul(D,me)|0,y=y+Math.imul(D,ye)|0;var vt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,y=Math.imul(Y,pe),m=m+Math.imul(W,me)|0,f=f+Math.imul(W,ye)|0,f=f+Math.imul(H,me)|0,y=y+Math.imul(H,ye)|0,m=m+Math.imul(A,ge)|0,f=f+Math.imul(A,ve)|0,f=f+Math.imul(D,ge)|0,y=y+Math.imul(D,ve)|0;var bt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,y=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,y=y+Math.imul(Y,ye)|0,m=m+Math.imul(W,ge)|0,f=f+Math.imul(W,ve)|0,f=f+Math.imul(H,ge)|0,y=y+Math.imul(H,ve)|0,m=m+Math.imul(A,be)|0,f=f+Math.imul(A,we)|0,f=f+Math.imul(D,be)|0,y=y+Math.imul(D,we)|0;var xr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,y=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,y=y+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,y=y+Math.imul(Y,ve)|0,m=m+Math.imul(W,be)|0,f=f+Math.imul(W,we)|0,f=f+Math.imul(H,be)|0,y=y+Math.imul(H,we)|0,m=m+Math.imul(A,_e)|0,f=f+Math.imul(A,xe)|0,f=f+Math.imul(D,_e)|0,y=y+Math.imul(D,xe)|0;var Mr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,y=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,y=y+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,y=y+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,y=y+Math.imul(Y,we)|0,m=m+Math.imul(W,_e)|0,f=f+Math.imul(W,xe)|0,f=f+Math.imul(H,_e)|0,y=y+Math.imul(H,xe)|0,m=m+Math.imul(A,Me)|0,f=f+Math.imul(A,Ee)|0,f=f+Math.imul(D,Me)|0,y=y+Math.imul(D,Ee)|0;var Er=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,y=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,y=y+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,y=y+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,y=y+Math.imul(Y,xe)|0,m=m+Math.imul(W,Me)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(H,Me)|0,y=y+Math.imul(H,Ee)|0,m=m+Math.imul(A,Se)|0,f=f+Math.imul(A,Ae)|0,f=f+Math.imul(D,Se)|0,y=y+Math.imul(D,Ae)|0;var Sr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(fe,he),f=Math.imul(fe,pe),f=f+Math.imul(ae,he)|0,y=Math.imul(ae,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,y=y+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,y=y+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,y=y+Math.imul(Y,Ee)|0,m=m+Math.imul(W,Se)|0,f=f+Math.imul(W,Ae)|0,f=f+Math.imul(H,Se)|0,y=y+Math.imul(H,Ae)|0,m=m+Math.imul(A,Te)|0,f=f+Math.imul(A,Pe)|0,f=f+Math.imul(D,Te)|0,y=y+Math.imul(D,Pe)|0;var Ar=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,y=Math.imul(ce,pe),m=m+Math.imul(fe,me)|0,f=f+Math.imul(fe,ye)|0,f=f+Math.imul(ae,me)|0,y=y+Math.imul(ae,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,y=y+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,y=y+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,y=y+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,y=y+Math.imul(Y,Ae)|0,m=m+Math.imul(W,Te)|0,f=f+Math.imul(W,Pe)|0,f=f+Math.imul(H,Te)|0,y=y+Math.imul(H,Pe)|0,m=m+Math.imul(A,Re)|0,f=f+Math.imul(A,ke)|0,f=f+Math.imul(D,Re)|0,y=y+Math.imul(D,ke)|0;var Tr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,y=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,y=y+Math.imul(ce,ye)|0,m=m+Math.imul(fe,ge)|0,f=f+Math.imul(fe,ve)|0,f=f+Math.imul(ae,ge)|0,y=y+Math.imul(ae,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,y=y+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,y=y+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,y=y+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,y=y+Math.imul(Y,Pe)|0,m=m+Math.imul(W,Re)|0,f=f+Math.imul(W,ke)|0,f=f+Math.imul(H,Re)|0,y=y+Math.imul(H,ke)|0,m=m+Math.imul(A,Ie)|0,f=f+Math.imul(A,Be)|0,f=f+Math.imul(D,Ie)|0,y=y+Math.imul(D,Be)|0;var Pr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,y=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,y=y+Math.imul(ce,ve)|0,m=m+Math.imul(fe,be)|0,f=f+Math.imul(fe,we)|0,f=f+Math.imul(ae,be)|0,y=y+Math.imul(ae,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,y=y+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,y=y+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,y=y+Math.imul(Y,ke)|0,m=m+Math.imul(W,Ie)|0,f=f+Math.imul(W,Be)|0,f=f+Math.imul(H,Ie)|0,y=y+Math.imul(H,Be)|0;var Rr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,y=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(fe,_e)|0,f=f+Math.imul(fe,xe)|0,f=f+Math.imul(ae,_e)|0,y=y+Math.imul(ae,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,y=y+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,Be)|0,f=f+Math.imul(Y,Ie)|0,y=y+Math.imul(Y,Be)|0;var kr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,y=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(fe,Me)|0,f=f+Math.imul(fe,Ee)|0,f=f+Math.imul(ae,Me)|0,y=y+Math.imul(ae,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,y=y+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,Be)|0,f=f+Math.imul(X,Ie)|0,y=y+Math.imul(X,Be)|0;var Ir=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,y=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Ee)|0,m=m+Math.imul(fe,Se)|0,f=f+Math.imul(fe,Ae)|0,f=f+Math.imul(ae,Se)|0,y=y+Math.imul(ae,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,y=y+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,Be)|0,f=f+Math.imul(re,Ie)|0,y=y+Math.imul(re,Be)|0;var Br=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,y=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(fe,Te)|0,f=f+Math.imul(fe,Pe)|0,f=f+Math.imul(ae,Te)|0,y=y+Math.imul(ae,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,y=y+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,Be)|0,f=f+Math.imul(ne,Ie)|0,y=y+Math.imul(ne,Be)|0;var Dr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,y=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(fe,Re)|0,f=f+Math.imul(fe,ke)|0,f=f+Math.imul(ae,Re)|0,y=y+Math.imul(ae,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,Be)|0,f=f+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Be)|0;var Cr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,y=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(fe,Ie)|0,f=f+Math.imul(fe,Be)|0,f=f+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,Be)|0;var Or=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,y=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,Be)|0;var jr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,Be),f=f+Math.imul(de,Ie)|0,y=Math.imul(de,Be);var qr=(w+m|0)+((f&8191)<<13)|0;return w=(y+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,g[0]=zr,g[1]=vt,g[2]=bt,g[3]=xr,g[4]=Mr,g[5]=Er,g[6]=Sr,g[7]=Ar,g[8]=Tr,g[9]=Pr,g[10]=Rr,g[11]=kr,g[12]=Ir,g[13]=Br,g[14]=Dr,g[15]=Cr,g[16]=Or,g[17]=jr,g[18]=qr,w!==0&&(g[19]=w,h.length++),h};Math.imul||(S=T);function P(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var g=c;c=0;for(var w=h&67108863,m=Math.min(l,a.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var y=l-f,R=_.words[y]|0,A=a.words[f]|0,D=R*A,z=D&67108863;g=g+(D/67108864|0)|0,z=z+w|0,w=z&67108863,g=g+(z>>>26)|0,c+=g>>>26,g&=67108863}u.words[l]=w,h=g,g=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function B(_,a,u){var h=new I;return h.mulp(_,a,u)}n.prototype.mulTo=function(a,u){var h,c=this.length+a.length;return this.length===10&&a.length===10?h=S(this,a,u):c<63?h=T(this,a,u):c<1024?h=P(this,a,u):h=B(this,a,u),h};function I(_,a){this.x=_,this.y=a}I.prototype.makeRBT=function(a){for(var u=new Array(a),h=n.prototype._countBits(a)-1,c=0;c<a;c++)u[c]=this.revBin(c,h,a);return u},I.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var c=0,l=0;l<u;l++)c|=(a&1)<<u-l-1,a>>=1;return c},I.prototype.permute=function(a,u,h,c,l,g){for(var w=0;w<g;w++)c[w]=u[a[w]],l[w]=h[a[w]]},I.prototype.transform=function(a,u,h,c,l,g){this.permute(g,a,u,h,c,l);for(var w=1;w<l;w<<=1)for(var m=w<<1,f=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var A=f,D=y,z=0;z<w;z++){var W=h[R+z],H=c[R+z],J=h[R+z+w],Z=c[R+z+w],Y=A*J-D*Z;Z=A*Z+D*J,J=Y,h[R+z]=W+J,c[R+z]=H+Z,h[R+z+w]=W-J,c[R+z+w]=H-Z,z!==m&&(Y=f*A-y*D,D=f*D+y*A,A=Y)}},I.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=a[c];a[c]=a[h-c-1],a[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(a,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(a[2*c+1]/u)*8192+Math.round(a[2*c]/u)+h;a[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return a},I.prototype.convert13b=function(a,u,h,c){for(var l=0,g=0;g<u;g++)l=l+(a[g]|0),h[2*g]=l&8191,l=l>>>13,h[2*g+1]=l&8191,l=l>>>13;for(g=2*u;g<c;++g)h[g]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},I.prototype.mulp=function(a,u,h){var c=2*this.guessLen13b(a.length,u.length),l=this.makeRBT(c),g=this.stub(c),w=new Array(c),m=new Array(c),f=new Array(c),y=new Array(c),R=new Array(c),A=new Array(c),D=h.words;D.length=c,this.convert13b(a.words,a.length,w,c),this.convert13b(u.words,u.length,y,c),this.transform(w,g,m,f,c,l),this.transform(y,g,R,A,c,l);for(var z=0;z<c;z++){var W=m[z]*R[z]-f[z]*A[z];f[z]=m[z]*A[z]+f[z]*R[z],m[z]=W}return this.conjugate(m,f,c),this.transform(m,f,D,g,c,l),this.conjugate(D,g,c),this.normalize13b(D,c),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),B(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*a,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=E(a);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var g=0;for(l=0;l<this.length;l++){var w=this.words[l]&c,m=(this.words[l]|0)-w<<u;this.words[l]=m|g,g=w>>>26-u}g&&(this.words[l]=g,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var c;u?c=(u-u%26)/26:c=0;var l=a%26,g=Math.min((a-l)/26,this.length),w=67108863^67108863>>>l<<l,m=h;if(c-=g,c=Math.max(0,c),m){for(var f=0;f<g;f++)m.words[f]=this.words[f];m.length=g}if(g!==0)if(this.length>g)for(this.length-=g,f=0;f<this.length;f++)this.words[f]=this.words[f+g];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=y<<26-l|R>>>l,y=R&w}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,h){var c=a.length+h,l;this._expand(c);var g,w=0;for(l=0;l<a.length;l++){g=(this.words[l+h]|0)+w;var m=(a.words[l]|0)*u;g-=m&67108863,w=(g>>26)-(m/67108864|0),this.words[l+h]=g&67108863}for(;l<this.length-h;l++)g=(this.words[l+h]|0)+w,w=g>>26,this.words[l+h]=g&67108863;if(w===0)return this.strip();for(r(w===-1),w=0,l=0;l<this.length;l++)g=-(this.words[l]|0)+w,w=g>>26,this.words[l]=g&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,u){var h=this.length-a.length,c=this.clone(),l=a,g=l.words[l.length-1]|0,w=this._countBits(g);h=26-w,h!==0&&(l=l.ushln(h),c.iushln(h),g=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var A=m-1;A>=0;A--){var D=(c.words[l.length+A]|0)*67108864+(c.words[l.length+A-1]|0);for(D=Math.min(D/g|0,67108863),c._ishlnsubmul(l,D,A);c.negative!==0;)D--,c.negative=0,c._ishlnsubmul(l,1,A),c.isZero()||(c.negative^=1);f&&(f.words[A]=D)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,g;return this.negative!==0&&a.negative===0?(g=this.neg().divmod(a,u),u!=="mod"&&(c=g.div.neg()),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.iadd(a)),{div:c,mod:l}):this.negative===0&&a.negative!==0?(g=this.divmod(a.neg(),u),u!=="mod"&&(c=g.div.neg()),{div:c,mod:g.mod}):this.negative&a.negative?(g=this.neg().divmod(a.neg(),u),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.isub(a)),{div:g.div,mod:l}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,c=a.ushrn(1),l=a.andln(1),g=h.cmp(c);return g<0||l===1&&g===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%a;return h},n.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/a|0,u=c%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=new n(0),w=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),y=u.clone();!u.isZero();){for(var R=0,A=1;!(u.words[0]&A)&&R<26;++R,A<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(y)),c.iushrn(1),l.iushrn(1);for(var D=0,z=1;!(h.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(h.iushrn(D);D-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(y)),g.iushrn(1),w.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(g),l.isub(w)):(h.isub(u),g.isub(c),w.isub(l))}return{a:g,b:w,gcd:h.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var w=0,m=1;!(u.words[0]&m)&&w<26;++w,m<<=1);if(w>0)for(u.iushrn(w);w-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);for(var f=0,y=1;!(h.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(g),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(a),R},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var g=u;u=h,h=g}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,g=h;l!==0&&g<this.length;g++){var w=this.words[g]|0;w+=l,l=w>>>26,w&=67108863,this.words[g]=w}return l!==0&&(this.words[g]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var c=this.words[0]|0;h=c===a?0:c<a?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=a.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new N(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function O(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(a,u){for(var h=4194303,c=Math.min(a.length,9),l=0;l<c;l++)u.words[l]=a.words[l];if(u.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var g=a.words[9];for(u.words[u.length++]=g&h,l=10;l<a.length;l++){var w=a.words[l]|0;a.words[l-10]=(w&h)<<4|g>>>22,g=w}g>>>=22,a.words[l-10]=g,g===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var c=a.words[h]|0;u+=c*977,a.words[h]=u&67108863,u=c*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,O);function G(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,O),$.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var c=(a.words[h]|0)*19+u,l=c&67108863;c>>>=26,a.words[h]=l,u=c}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if(C[a])return C[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new q;else if(a==="p192")u=new G;else if(a==="p25519")u=new $;else throw new Error("Unknown prime "+a);return C[a]=u,u};function N(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}N.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},N.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},N.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},N.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},N.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},N.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},N.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},N.prototype.isqr=function(a){return this.imul(a,a.clone())},N.prototype.sqr=function(a){return this.mul(a,a)},N.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(a,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var g=new n(1).toRed(this),w=g.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(w)!==0;)f.redIAdd(w);for(var y=this.pow(f,c),R=this.pow(a,c.addn(1).iushrn(1)),A=this.pow(a,c),D=l;A.cmp(g)!==0;){for(var z=A,W=0;z.cmp(g)!==0;W++)z=z.redSqr();r(W<D);var H=this.pow(y,new n(1).iushln(D-W-1));R=R.redMul(H),y=H.redSqr(),A=A.redMul(y),D=W}return R},N.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=a;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],a);var g=c[0],w=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var y=u.words[l],R=f-1;R>=0;R--){var A=y>>R&1;if(g!==c[0]&&(g=this.sqr(g)),A===0&&w===0){m=0;continue}w<<=1,w|=A,m++,!(m!==h&&(l!==0||R!==0))&&(g=this.mul(g,c[w]),m=0,w=0)}f=26}return g},N.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},N.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new K(a)};function K(_){N.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,N),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},K.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var h=a.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof dS>"u"||dS,pz)});var hS=V(gz=>{"use strict";M();var Z2=gz;function ime(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),o=n>>8,s=n&255;o?r.push(o,s):r.push(s)}return r}Z2.toArray=ime;function mz(t){return t.length===1?"0"+t:t}Z2.zero2=mz;function yz(t){for(var e="",r=0;r<t.length;r++)e+=mz(t[r].toString(16));return e}Z2.toHex=yz;Z2.encode=function(e,r){return r==="hex"?yz(e):e}});var as=V(vz=>{"use strict";M();var va=vz,nme=xf(),ome=ss(),Y2=hS();va.assert=ome;va.toArray=Y2.toArray;va.zero2=Y2.zero2;va.toHex=Y2.toHex;va.encode=Y2.encode;function sme(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,o=t.clone(),s=0;s<i.length;s++){var d,p=o.andln(n-1);o.isOdd()?(p>(n>>1)-1?d=(n>>1)-p:d=p,o.isubn(d)):d=0,i[s]=d,o.iushrn(1)}return i}va.getNAF=sme;function ame(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,o;t.cmpn(-i)>0||e.cmpn(-n)>0;){var s=t.andln(3)+i&3,d=e.andln(3)+n&3;s===3&&(s=-1),d===3&&(d=-1);var p;s&1?(o=t.andln(7)+i&7,(o===3||o===5)&&d===2?p=-s:p=s):p=0,r[0].push(p);var v;d&1?(o=e.andln(7)+n&7,(o===3||o===5)&&s===2?v=-d:v=d):v=0,r[1].push(v),2*i===p+1&&(i=1-i),2*n===v+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}va.getJSF=ame;function fme(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}va.cachedProperty=fme;function ume(t){return typeof t=="string"?va.toArray(t,"hex"):t}va.parseBytes=ume;function cme(t){return new nme(t,"hex","le")}va.intFromLE=cme});var tv=V((kje,bz)=>{"use strict";M();var Yd=xf(),ev=as(),J2=ev.getNAF,lme=ev.getJSF,Q2=ev.assert;function $c(t,e){this.type=t,this.p=new Yd(e.p,16),this.red=e.prime?Yd.red(e.prime):Yd.mont(this.p),this.zero=new Yd(0).toRed(this.red),this.one=new Yd(1).toRed(this.red),this.two=new Yd(2).toRed(this.red),this.n=e.n&&new Yd(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}bz.exports=$c;$c.prototype.point=function(){throw new Error("Not implemented")};$c.prototype.validate=function(){throw new Error("Not implemented")};$c.prototype._fixedNafMul=function(e,r){Q2(e.precomputed);var i=e._getDoubles(),n=J2(r,1,this._bitLength),o=(1<<i.step+1)-(i.step%2===0?2:1);o/=3;var s=[],d,p;for(d=0;d<n.length;d+=i.step){p=0;for(var v=d+i.step-1;v>=d;v--)p=(p<<1)+n[v];s.push(p)}for(var b=this.jpoint(null,null,null),x=this.jpoint(null,null,null),E=o;E>0;E--){for(d=0;d<s.length;d++)p=s[d],p===E?x=x.mixedAdd(i.points[d]):p===-E&&(x=x.mixedAdd(i.points[d].neg()));b=b.add(x)}return b.toP()};$c.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var o=n.points,s=J2(r,i,this._bitLength),d=this.jpoint(null,null,null),p=s.length-1;p>=0;p--){for(var v=0;p>=0&&s[p]===0;p--)v++;if(p>=0&&v++,d=d.dblp(v),p<0)break;var b=s[p];Q2(b!==0),e.type==="affine"?b>0?d=d.mixedAdd(o[b-1>>1]):d=d.mixedAdd(o[-b-1>>1].neg()):b>0?d=d.add(o[b-1>>1]):d=d.add(o[-b-1>>1].neg())}return e.type==="affine"?d.toP():d};$c.prototype._wnafMulAdd=function(e,r,i,n,o){var s=this._wnafT1,d=this._wnafT2,p=this._wnafT3,v=0,b,x,E;for(b=0;b<n;b++){E=r[b];var T=E._getNAFPoints(e);s[b]=T.wnd,d[b]=T.points}for(b=n-1;b>=1;b-=2){var S=b-1,P=b;if(s[S]!==1||s[P]!==1){p[S]=J2(i[S],s[S],this._bitLength),p[P]=J2(i[P],s[P],this._bitLength),v=Math.max(p[S].length,v),v=Math.max(p[P].length,v);continue}var B=[r[S],null,null,r[P]];r[S].y.cmp(r[P].y)===0?(B[1]=r[S].add(r[P]),B[2]=r[S].toJ().mixedAdd(r[P].neg())):r[S].y.cmp(r[P].y.redNeg())===0?(B[1]=r[S].toJ().mixedAdd(r[P]),B[2]=r[S].add(r[P].neg())):(B[1]=r[S].toJ().mixedAdd(r[P]),B[2]=r[S].toJ().mixedAdd(r[P].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],C=lme(i[S],i[P]);for(v=Math.max(C[0].length,v),p[S]=new Array(v),p[P]=new Array(v),x=0;x<v;x++){var O=C[0][x]|0,F=C[1][x]|0;p[S][x]=I[(O+1)*3+(F+1)],p[P][x]=0,d[S]=B}}var q=this.jpoint(null,null,null),G=this._wnafT4;for(b=v;b>=0;b--){for(var $=0;b>=0;){var N=!0;for(x=0;x<n;x++)G[x]=p[x][b]|0,G[x]!==0&&(N=!1);if(!N)break;$++,b--}if(b>=0&&$++,q=q.dblp($),b<0)break;for(x=0;x<n;x++){var K=G[x];K!==0&&(K>0?E=d[x][K-1>>1]:K<0&&(E=d[x][-K-1>>1].neg()),E.type==="affine"?q=q.mixedAdd(E):q=q.add(E))}}for(b=0;b<n;b++)d[b]=null;return o?q:q.toP()};function Us(t,e){this.curve=t,this.type=e,this.precomputed=null}$c.BasePoint=Us;Us.prototype.eq=function(){throw new Error("Not implemented")};Us.prototype.validate=function(){return this.curve.validate(this)};$c.prototype.decodePoint=function(e,r){e=ev.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?Q2(e[e.length-1]%2===0):e[0]===7&&Q2(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};Us.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Us.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};Us.prototype.encode=function(e,r){return ev.encode(this._encode(r),e)};Us.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Us.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Us.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)n=n.dbl();i.push(n)}return{step:e,points:i}};Us.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),o=1;o<i;o++)r[o]=r[o-1].add(n);return{wnd:e,points:r}};Us.prototype._getBeta=function(){return null};Us.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var _z=V((Bje,wz)=>{"use strict";M();var dme=as(),_i=xf(),pS=st(),Ip=tv(),hme=dme.assert;function Fs(t){Ip.call(this,"short",t),this.a=new _i(t.a,16).toRed(this.red),this.b=new _i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}pS(Fs,Ip);wz.exports=Fs;Fs.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new _i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new _i(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?i=o[0]:(i=o[1],hme(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(d){return{a:new _i(d.a,16),b:new _i(d.b,16)}}):s=this._getEndoBasis(i),{beta:r,lambda:i,basis:s}}};Fs.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:_i.mont(e),i=new _i(2).toRed(r).redInvm(),n=i.redNeg(),o=new _i(3).toRed(r).redNeg().redSqrt().redMul(i),s=n.redAdd(o).fromRed(),d=n.redSub(o).fromRed();return[s,d]};Fs.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),o=new _i(1),s=new _i(0),d=new _i(0),p=new _i(1),v,b,x,E,T,S,P,B=0,I,C;i.cmpn(0)!==0;){var O=n.div(i);I=n.sub(O.mul(i)),C=d.sub(O.mul(o));var F=p.sub(O.mul(s));if(!x&&I.cmp(r)<0)v=P.neg(),b=o,x=I.neg(),E=C;else if(x&&++B===2)break;P=I,n=i,i=I,d=o,o=C,p=s,s=F}T=I.neg(),S=C;var q=x.sqr().add(E.sqr()),G=T.sqr().add(S.sqr());return G.cmp(q)>=0&&(T=v,S=b),x.negative&&(x=x.neg(),E=E.neg()),T.negative&&(T=T.neg(),S=S.neg()),[{a:x,b:E},{a:T,b:S}]};Fs.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],o=n.b.mul(e).divRound(this.n),s=i.b.neg().mul(e).divRound(this.n),d=o.mul(i.a),p=s.mul(n.a),v=o.mul(i.b),b=s.mul(n.b),x=e.sub(d).sub(p),E=v.add(b).neg();return{k1:x,k2:E}};Fs.prototype.pointFromX=function(e,r){e=new _i(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var o=n.fromRed().isOdd();return(r&&!o||!r&&o)&&(n=n.redNeg()),this.point(e,n)};Fs.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(o).cmpn(0)===0};Fs.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var d=this._endoSplit(r[s]),p=e[s],v=p._getBeta();d.k1.negative&&(d.k1.ineg(),p=p.neg(!0)),d.k2.negative&&(d.k2.ineg(),v=v.neg(!0)),n[s*2]=p,n[s*2+1]=v,o[s*2]=d.k1,o[s*2+1]=d.k2}for(var b=this._wnafMulAdd(1,n,o,s*2,i),x=0;x<s*2;x++)n[x]=null,o[x]=null;return b};function xn(t,e,r,i){Ip.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _i(e,16),this.y=new _i(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}pS(xn,Ip.BasePoint);Fs.prototype.point=function(e,r,i){return new xn(this,e,r,i)};Fs.prototype.pointFromJSON=function(e,r){return xn.fromJSON(this,e,r)};xn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(o){return i.point(o.x.redMul(i.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};xn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};xn.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function o(d){return e.point(d[0],d[1],i)}var s=r[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(o))}},n};xn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};xn.prototype.isInfinity=function(){return this.inf};xn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};xn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),o=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),s=o.redSqr().redISub(this.x.redAdd(this.x)),d=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,d)};xn.prototype.getX=function(){return this.x.fromRed()};xn.prototype.getY=function(){return this.y.fromRed()};xn.prototype.mul=function(e){return e=new _i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};xn.prototype.mulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o):this.curve._wnafMulAdd(1,n,o,2)};xn.prototype.jmulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o,!0):this.curve._wnafMulAdd(1,n,o,2,!0)};xn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};xn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(o){return o.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};xn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function zn(t,e,r,i){Ip.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _i(0)):(this.x=new _i(e,16),this.y=new _i(r,16),this.z=new _i(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}pS(zn,Ip.BasePoint);Fs.prototype.jpoint=function(e,r,i){return new zn(this,e,r,i)};zn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};zn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};zn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),o=e.x.redMul(i),s=this.y.redMul(r.redMul(e.z)),d=e.y.redMul(i.redMul(this.z)),p=n.redSub(o),v=s.redSub(d);if(p.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=p.redSqr(),x=b.redMul(p),E=n.redMul(b),T=v.redSqr().redIAdd(x).redISub(E).redISub(E),S=v.redMul(E.redISub(T)).redISub(s.redMul(x)),P=this.z.redMul(e.z).redMul(p);return this.curve.jpoint(T,S,P)};zn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),d=i.redSub(n),p=o.redSub(s);if(d.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=d.redSqr(),b=v.redMul(d),x=i.redMul(v),E=p.redSqr().redIAdd(b).redISub(x).redISub(x),T=p.redMul(x.redISub(E)).redISub(o.redMul(b)),S=this.z.redMul(d);return this.curve.jpoint(E,T,S)};zn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,o=this.curve.tinv,s=this.x,d=this.y,p=this.z,v=p.redSqr().redSqr(),b=d.redAdd(d);for(r=0;r<e;r++){var x=s.redSqr(),E=b.redSqr(),T=E.redSqr(),S=x.redAdd(x).redIAdd(x).redIAdd(n.redMul(v)),P=s.redMul(E),B=S.redSqr().redISub(P.redAdd(P)),I=P.redISub(B),C=S.redMul(I);C=C.redIAdd(C).redISub(T);var O=b.redMul(p);r+1<e&&(v=v.redMul(T)),s=B,p=O,b=C}return this.curve.jpoint(s,b.redMul(o),p)};zn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};zn.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),d=this.x.redAdd(o).redSqr().redISub(n).redISub(s);d=d.redIAdd(d);var p=n.redAdd(n).redIAdd(n),v=p.redSqr().redISub(d).redISub(d),b=s.redIAdd(s);b=b.redIAdd(b),b=b.redIAdd(b),e=v,r=p.redMul(d.redISub(v)).redISub(b),i=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),E=this.y.redSqr(),T=E.redSqr(),S=this.x.redAdd(E).redSqr().redISub(x).redISub(T);S=S.redIAdd(S);var P=x.redAdd(x).redIAdd(x),B=P.redSqr(),I=T.redIAdd(T);I=I.redIAdd(I),I=I.redIAdd(I),e=B.redISub(S).redISub(S),r=P.redMul(S.redISub(e)).redISub(I),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};zn.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),d=this.x.redAdd(o).redSqr().redISub(n).redISub(s);d=d.redIAdd(d);var p=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),v=p.redSqr().redISub(d).redISub(d);e=v;var b=s.redIAdd(s);b=b.redIAdd(b),b=b.redIAdd(b),r=p.redMul(d.redISub(v)).redISub(b),i=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),E=this.y.redSqr(),T=this.x.redMul(E),S=this.x.redSub(x).redMul(this.x.redAdd(x));S=S.redAdd(S).redIAdd(S);var P=T.redIAdd(T);P=P.redIAdd(P);var B=P.redAdd(P);e=S.redSqr().redISub(B),i=this.y.redAdd(this.z).redSqr().redISub(E).redISub(x);var I=E.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=S.redMul(P.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,i)};zn.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,o=n.redSqr().redSqr(),s=r.redSqr(),d=i.redSqr(),p=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),v=r.redAdd(r);v=v.redIAdd(v);var b=v.redMul(d),x=p.redSqr().redISub(b.redAdd(b)),E=b.redISub(x),T=d.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var S=p.redMul(E).redISub(T),P=i.redAdd(i).redMul(n);return this.curve.jpoint(x,S,P)};zn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),d=this.x.redAdd(r).redSqr().redISub(e).redISub(n);d=d.redIAdd(d),d=d.redAdd(d).redIAdd(d),d=d.redISub(s);var p=d.redSqr(),v=n.redIAdd(n);v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var b=o.redIAdd(d).redSqr().redISub(s).redISub(p).redISub(v),x=r.redMul(b);x=x.redIAdd(x),x=x.redIAdd(x);var E=this.x.redMul(p).redISub(x);E=E.redIAdd(E),E=E.redIAdd(E);var T=this.y.redMul(b.redMul(v.redISub(b)).redISub(d.redMul(p)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var S=this.z.redAdd(d).redSqr().redISub(i).redISub(p);return this.curve.jpoint(E,T,S)};zn.prototype.mul=function(e,r){return e=new _i(e,r),this.curve._wnafMul(this,e)};zn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),o=i.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(n)).cmpn(0)===0};zn.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(o),this.x.cmp(i)===0)return!0}};zn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};zn.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var Ez=V((Cje,Mz)=>{"use strict";M();var Bp=xf(),xz=st(),X2=tv(),pme=as();function Dp(t){X2.call(this,"mont",t),this.a=new Bp(t.a,16).toRed(this.red),this.b=new Bp(t.b,16).toRed(this.red),this.i4=new Bp(4).toRed(this.red).redInvm(),this.two=new Bp(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}xz(Dp,X2);Mz.exports=Dp;Dp.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),o=n.redSqrt();return o.redSqr().cmp(n)===0};function Mn(t,e,r){X2.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Bp(e,16),this.z=new Bp(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}xz(Mn,X2.BasePoint);Dp.prototype.decodePoint=function(e,r){return this.point(pme.toArray(e,r),1)};Dp.prototype.point=function(e,r){return new Mn(this,e,r)};Dp.prototype.pointFromJSON=function(e){return Mn.fromJSON(this,e)};Mn.prototype.precompute=function(){};Mn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Mn.fromJSON=function(e,r){return new Mn(e,r[0],r[1]||e.one)};Mn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Mn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Mn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),o=r.redSub(n),s=r.redMul(n),d=o.redMul(n.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,d)};Mn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Mn.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),d=s.redMul(i),p=o.redMul(n),v=r.z.redMul(d.redAdd(p).redSqr()),b=r.x.redMul(d.redISub(p).redSqr());return this.curve.point(v,b)};Mn.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var d=s.length-1;d>=0;d--)s[d]===0?(i=i.diffAdd(n,o),n=n.dbl()):(n=i.diffAdd(n,o),i=i.dbl());return n};Mn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Mn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Mn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Mn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Mn.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var Tz=V((jje,Az)=>{"use strict";M();var mme=as(),Iu=xf(),Sz=st(),e_=tv(),yme=mme.assert;function Mf(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,e_.call(this,"edwards",t),this.a=new Iu(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Iu(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Iu(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),yme(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Sz(Mf,e_);Az.exports=Mf;Mf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Mf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Mf.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Mf.prototype.pointFromX=function(e,r){e=new Iu(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),o=this.one.redSub(this.c2.redMul(this.d).redMul(i)),s=n.redMul(o.redInvm()),d=s.redSqrt();if(d.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var p=d.fromRed().isOdd();return(r&&!p||!r&&p)&&(d=d.redNeg()),this.point(e,d)};Mf.prototype.pointFromY=function(e,r){e=new Iu(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),o=i.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var d=s.redSqrt();if(d.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return d.fromRed().isOdd()!==r&&(d=d.redNeg()),this.point(d,e)};Mf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(o)===0};function Hr(t,e,r,i,n){e_.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Iu(e,16),this.y=new Iu(r,16),this.z=i?new Iu(i,16):this.curve.one,this.t=n&&new Iu(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Sz(Hr,e_.BasePoint);Mf.prototype.pointFromJSON=function(e){return Hr.fromJSON(this,e)};Mf.prototype.point=function(e,r,i,n){return new Hr(this,e,r,i,n)};Hr.fromJSON=function(e,r){return new Hr(e,r[0],r[1],r[2])};Hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Hr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Hr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=n.redAdd(r),d=s.redSub(i),p=n.redSub(r),v=o.redMul(d),b=s.redMul(p),x=o.redMul(p),E=d.redMul(s);return this.curve.point(v,b,E,x)};Hr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,o,s,d,p,v;if(this.curve.twisted){d=this.curve._mulA(r);var b=d.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(b.redSub(this.curve.two)),o=b.redMul(d.redSub(i)),s=b.redSqr().redSub(b).redSub(b)):(p=this.z.redSqr(),v=b.redSub(p).redISub(p),n=e.redSub(r).redISub(i).redMul(v),o=b.redMul(d.redSub(i)),s=b.redMul(v))}else d=r.redAdd(i),p=this.curve._mulC(this.z).redSqr(),v=d.redSub(p).redSub(p),n=this.curve._mulC(e.redISub(d)).redMul(v),o=this.curve._mulC(d).redMul(r.redISub(i)),s=d.redMul(v);return this.curve.point(n,o,s)};Hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Hr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=i.redSub(r),d=o.redSub(n),p=o.redAdd(n),v=i.redAdd(r),b=s.redMul(d),x=p.redMul(v),E=s.redMul(v),T=d.redMul(p);return this.curve.point(b,x,T,E)};Hr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(n).redMul(o),d=i.redSub(s),p=i.redAdd(s),v=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(o),b=r.redMul(d).redMul(v),x,E;return this.curve.twisted?(x=r.redMul(p).redMul(o.redSub(this.curve._mulA(n))),E=d.redMul(p)):(x=r.redMul(p).redMul(o.redSub(n)),E=this.curve._mulC(d).redMul(p)),this.curve.point(b,x,E)};Hr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Hr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Hr.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Hr.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Hr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Hr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Hr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Hr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Hr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Hr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Hr.prototype.toP=Hr.prototype.normalize;Hr.prototype.mixedAdd=Hr.prototype.add});var mS=V(Pz=>{"use strict";M();var t_=Pz;t_.base=tv();t_.short=_z();t_.mont=Ez();t_.edwards=Tz()});var ba=V(Ur=>{"use strict";M();var gme=ss(),vme=st();Ur.inherits=vme;function bme(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function wme(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):bme(t,n)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Ur.toArray=wme;function _me(t){for(var e="",r=0;r<t.length;r++)e+=kz(t[r].toString(16));return e}Ur.toHex=_me;function Rz(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ur.htonl=Rz;function xme(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=Rz(n)),r+=Iz(n.toString(16))}return r}Ur.toHex32=xme;function kz(t){return t.length===1?"0"+t:t}Ur.zero2=kz;function Iz(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ur.zero8=Iz;function Mme(t,e,r,i){var n=r-e;gme(n%4===0);for(var o=new Array(n/4),s=0,d=e;s<o.length;s++,d+=4){var p;i==="big"?p=t[d]<<24|t[d+1]<<16|t[d+2]<<8|t[d+3]:p=t[d+3]<<24|t[d+2]<<16|t[d+1]<<8|t[d],o[s]=p>>>0}return o}Ur.join32=Mme;function Eme(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var o=t[i];e==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}Ur.split32=Eme;function Sme(t,e){return t>>>e|t<<32-e}Ur.rotr32=Sme;function Ame(t,e){return t<<e|t>>>32-e}Ur.rotl32=Ame;function Tme(t,e){return t+e>>>0}Ur.sum32=Tme;function Pme(t,e,r){return t+e+r>>>0}Ur.sum32_3=Pme;function Rme(t,e,r,i){return t+e+r+i>>>0}Ur.sum32_4=Rme;function kme(t,e,r,i,n){return t+e+r+i+n>>>0}Ur.sum32_5=kme;function Ime(t,e,r,i){var n=t[e],o=t[e+1],s=i+o>>>0,d=(s<i?1:0)+r+n;t[e]=d>>>0,t[e+1]=s}Ur.sum64=Ime;function Bme(t,e,r,i){var n=e+i>>>0,o=(n<e?1:0)+t+r;return o>>>0}Ur.sum64_hi=Bme;function Dme(t,e,r,i){var n=e+i;return n>>>0}Ur.sum64_lo=Dme;function Cme(t,e,r,i,n,o,s,d){var p=0,v=e;v=v+i>>>0,p+=v<e?1:0,v=v+o>>>0,p+=v<o?1:0,v=v+d>>>0,p+=v<d?1:0;var b=t+r+n+s+p;return b>>>0}Ur.sum64_4_hi=Cme;function Ome(t,e,r,i,n,o,s,d){var p=e+i+o+d;return p>>>0}Ur.sum64_4_lo=Ome;function jme(t,e,r,i,n,o,s,d,p,v){var b=0,x=e;x=x+i>>>0,b+=x<e?1:0,x=x+o>>>0,b+=x<o?1:0,x=x+d>>>0,b+=x<d?1:0,x=x+v>>>0,b+=x<v?1:0;var E=t+r+n+s+p+b;return E>>>0}Ur.sum64_5_hi=jme;function qme(t,e,r,i,n,o,s,d,p,v){var b=e+i+o+d+v;return b>>>0}Ur.sum64_5_lo=qme;function Nme(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Ur.rotr64_hi=Nme;function Lme(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Ur.rotr64_lo=Lme;function Ume(t,e,r){return t>>>r}Ur.shr64_hi=Ume;function Fme(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Ur.shr64_lo=Fme});var Cp=V(Dz=>{"use strict";M();var Bz=ba(),zme=ss();function r_(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Dz.BlockHash=r_;r_.prototype.update=function(e,r){if(e=Bz.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=Bz.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};r_.prototype.digest=function(e){return this.update(this._pad()),zme(this.pending===null),this._digest(e)};r_.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var o=1;o<i;o++)n[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=e&255}else for(n[o++]=e&255,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,s=8;s<this.padLength;s++)n[o++]=0;return n}});var yS=V(Bu=>{"use strict";M();var $me=ba(),Ef=$me.rotr32;function Gme(t,e,r,i){if(t===0)return Cz(e,r,i);if(t===1||t===3)return jz(e,r,i);if(t===2)return Oz(e,r,i)}Bu.ft_1=Gme;function Cz(t,e,r){return t&e^~t&r}Bu.ch32=Cz;function Oz(t,e,r){return t&e^t&r^e&r}Bu.maj32=Oz;function jz(t,e,r){return t^e^r}Bu.p32=jz;function Wme(t){return Ef(t,2)^Ef(t,13)^Ef(t,22)}Bu.s0_256=Wme;function Kme(t){return Ef(t,6)^Ef(t,11)^Ef(t,25)}Bu.s1_256=Kme;function Hme(t){return Ef(t,7)^Ef(t,18)^t>>>3}Bu.g0_256=Hme;function Vme(t){return Ef(t,17)^Ef(t,19)^t>>>10}Bu.g1_256=Vme});var Lz=V((Kje,Nz)=>{"use strict";M();var Op=ba(),Zme=Cp(),Yme=yS(),gS=Op.rotl32,rv=Op.sum32,Jme=Op.sum32_5,Qme=Yme.ft_1,qz=Zme.BlockHash,Xme=[1518500249,1859775393,2400959708,3395469782];function Sf(){if(!(this instanceof Sf))return new Sf;qz.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Op.inherits(Sf,qz);Nz.exports=Sf;Sf.blockSize=512;Sf.outSize=160;Sf.hmacStrength=80;Sf.padLength=64;Sf.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=gS(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var o=this.h[0],s=this.h[1],d=this.h[2],p=this.h[3],v=this.h[4];for(n=0;n<i.length;n++){var b=~~(n/20),x=Jme(gS(o,5),Qme(b,s,d,p),v,i[n],Xme[b]);v=p,p=d,d=gS(s,30),s=o,o=x}this.h[0]=rv(this.h[0],o),this.h[1]=rv(this.h[1],s),this.h[2]=rv(this.h[2],d),this.h[3]=rv(this.h[3],p),this.h[4]=rv(this.h[4],v)};Sf.prototype._digest=function(e){return e==="hex"?Op.toHex32(this.h,"big"):Op.split32(this.h,"big")}});var vS=V((Vje,Fz)=>{"use strict";M();var jp=ba(),eye=Cp(),qp=yS(),tye=ss(),wa=jp.sum32,rye=jp.sum32_4,iye=jp.sum32_5,nye=qp.ch32,oye=qp.maj32,sye=qp.s0_256,aye=qp.s1_256,fye=qp.g0_256,uye=qp.g1_256,Uz=eye.BlockHash,cye=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Af(){if(!(this instanceof Af))return new Af;Uz.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cye,this.W=new Array(64)}jp.inherits(Af,Uz);Fz.exports=Af;Af.blockSize=512;Af.outSize=256;Af.hmacStrength=192;Af.padLength=64;Af.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=rye(uye(i[n-2]),i[n-7],fye(i[n-15]),i[n-16]);var o=this.h[0],s=this.h[1],d=this.h[2],p=this.h[3],v=this.h[4],b=this.h[5],x=this.h[6],E=this.h[7];for(tye(this.k.length===i.length),n=0;n<i.length;n++){var T=iye(E,aye(v),nye(v,b,x),this.k[n],i[n]),S=wa(sye(o),oye(o,s,d));E=x,x=b,b=v,v=wa(p,T),p=d,d=s,s=o,o=wa(T,S)}this.h[0]=wa(this.h[0],o),this.h[1]=wa(this.h[1],s),this.h[2]=wa(this.h[2],d),this.h[3]=wa(this.h[3],p),this.h[4]=wa(this.h[4],v),this.h[5]=wa(this.h[5],b),this.h[6]=wa(this.h[6],x),this.h[7]=wa(this.h[7],E)};Af.prototype._digest=function(e){return e==="hex"?jp.toHex32(this.h,"big"):jp.split32(this.h,"big")}});var Gz=V((Yje,$z)=>{"use strict";M();var bS=ba(),zz=vS();function Du(){if(!(this instanceof Du))return new Du;zz.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}bS.inherits(Du,zz);$z.exports=Du;Du.blockSize=512;Du.outSize=224;Du.hmacStrength=192;Du.padLength=64;Du.prototype._digest=function(e){return e==="hex"?bS.toHex32(this.h.slice(0,7),"big"):bS.split32(this.h.slice(0,7),"big")}});var xS=V((Qje,Vz)=>{"use strict";M();var Oo=ba(),lye=Cp(),dye=ss(),Tf=Oo.rotr64_hi,Pf=Oo.rotr64_lo,Wz=Oo.shr64_hi,Kz=Oo.shr64_lo,Gc=Oo.sum64,wS=Oo.sum64_hi,_S=Oo.sum64_lo,hye=Oo.sum64_4_hi,pye=Oo.sum64_4_lo,mye=Oo.sum64_5_hi,yye=Oo.sum64_5_lo,Hz=lye.BlockHash,gye=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _a(){if(!(this instanceof _a))return new _a;Hz.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=gye,this.W=new Array(160)}Oo.inherits(_a,Hz);Vz.exports=_a;_a.blockSize=1024;_a.outSize=512;_a.hmacStrength=192;_a.padLength=128;_a.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var o=Pye(i[n-4],i[n-3]),s=Rye(i[n-4],i[n-3]),d=i[n-14],p=i[n-13],v=Aye(i[n-30],i[n-29]),b=Tye(i[n-30],i[n-29]),x=i[n-32],E=i[n-31];i[n]=hye(o,s,d,p,v,b,x,E),i[n+1]=pye(o,s,d,p,v,b,x,E)}};_a.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],o=this.h[1],s=this.h[2],d=this.h[3],p=this.h[4],v=this.h[5],b=this.h[6],x=this.h[7],E=this.h[8],T=this.h[9],S=this.h[10],P=this.h[11],B=this.h[12],I=this.h[13],C=this.h[14],O=this.h[15];dye(this.k.length===i.length);for(var F=0;F<i.length;F+=2){var q=C,G=O,$=Eye(E,T),N=Sye(E,T),K=vye(E,T,S,P,B,I),_=bye(E,T,S,P,B,I),a=this.k[F],u=this.k[F+1],h=i[F],c=i[F+1],l=mye(q,G,$,N,K,_,a,u,h,c),g=yye(q,G,$,N,K,_,a,u,h,c);q=xye(n,o),G=Mye(n,o),$=wye(n,o,s,d,p,v),N=_ye(n,o,s,d,p,v);var w=wS(q,G,$,N),m=_S(q,G,$,N);C=B,O=I,B=S,I=P,S=E,P=T,E=wS(b,x,l,g),T=_S(x,x,l,g),b=p,x=v,p=s,v=d,s=n,d=o,n=wS(l,g,w,m),o=_S(l,g,w,m)}Gc(this.h,0,n,o),Gc(this.h,2,s,d),Gc(this.h,4,p,v),Gc(this.h,6,b,x),Gc(this.h,8,E,T),Gc(this.h,10,S,P),Gc(this.h,12,B,I),Gc(this.h,14,C,O)};_a.prototype._digest=function(e){return e==="hex"?Oo.toHex32(this.h,"big"):Oo.split32(this.h,"big")};function vye(t,e,r,i,n){var o=t&r^~t&n;return o<0&&(o+=4294967296),o}function bye(t,e,r,i,n,o){var s=e&i^~e&o;return s<0&&(s+=4294967296),s}function wye(t,e,r,i,n){var o=t&r^t&n^r&n;return o<0&&(o+=4294967296),o}function _ye(t,e,r,i,n,o){var s=e&i^e&o^i&o;return s<0&&(s+=4294967296),s}function xye(t,e){var r=Tf(t,e,28),i=Tf(e,t,2),n=Tf(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Mye(t,e){var r=Pf(t,e,28),i=Pf(e,t,2),n=Pf(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Eye(t,e){var r=Tf(t,e,14),i=Tf(t,e,18),n=Tf(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function Sye(t,e){var r=Pf(t,e,14),i=Pf(t,e,18),n=Pf(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function Aye(t,e){var r=Tf(t,e,1),i=Tf(t,e,8),n=Wz(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Tye(t,e){var r=Pf(t,e,1),i=Pf(t,e,8),n=Kz(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Pye(t,e){var r=Tf(t,e,19),i=Tf(e,t,29),n=Wz(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}function Rye(t,e){var r=Pf(t,e,19),i=Pf(e,t,29),n=Kz(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}});var Jz=V((eqe,Yz)=>{"use strict";M();var MS=ba(),Zz=xS();function Cu(){if(!(this instanceof Cu))return new Cu;Zz.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}MS.inherits(Cu,Zz);Yz.exports=Cu;Cu.blockSize=1024;Cu.outSize=384;Cu.hmacStrength=192;Cu.padLength=128;Cu.prototype._digest=function(e){return e==="hex"?MS.toHex32(this.h.slice(0,12),"big"):MS.split32(this.h.slice(0,12),"big")}});var Qz=V(Np=>{"use strict";M();Np.sha1=Lz();Np.sha224=Gz();Np.sha256=vS();Np.sha384=Jz();Np.sha512=xS()});var n$=V(i$=>{"use strict";M();var Jd=ba(),kye=Cp(),i_=Jd.rotl32,Xz=Jd.sum32,iv=Jd.sum32_3,e$=Jd.sum32_4,r$=kye.BlockHash;function Rf(){if(!(this instanceof Rf))return new Rf;r$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Jd.inherits(Rf,r$);i$.ripemd160=Rf;Rf.blockSize=512;Rf.outSize=160;Rf.hmacStrength=192;Rf.padLength=64;Rf.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],o=this.h[2],s=this.h[3],d=this.h[4],p=i,v=n,b=o,x=s,E=d,T=0;T<80;T++){var S=Xz(i_(e$(i,t$(T,n,o,s),e[Dye[T]+r],Iye(T)),Oye[T]),d);i=d,d=s,s=i_(o,10),o=n,n=S,S=Xz(i_(e$(p,t$(79-T,v,b,x),e[Cye[T]+r],Bye(T)),jye[T]),E),p=E,E=x,x=i_(b,10),b=v,v=S}S=iv(this.h[1],o,x),this.h[1]=iv(this.h[2],s,E),this.h[2]=iv(this.h[3],d,p),this.h[3]=iv(this.h[4],i,v),this.h[4]=iv(this.h[0],n,b),this.h[0]=S};Rf.prototype._digest=function(e){return e==="hex"?Jd.toHex32(this.h,"little"):Jd.split32(this.h,"little")};function t$(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function Iye(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Bye(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Dye=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Cye=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Oye=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],jye=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var s$=V((sqe,o$)=>{"use strict";M();var qye=ba(),Nye=ss();function Lp(t,e,r){if(!(this instanceof Lp))return new Lp(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(qye.toArray(e,r))}o$.exports=Lp;Lp.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Nye(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Lp.prototype.update=function(e,r){return this.inner.update(e,r),this};Lp.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var n_=V(a$=>{M();var $n=a$;$n.utils=ba();$n.common=Cp();$n.sha=Qz();$n.ripemd=n$();$n.hmac=s$();$n.sha1=$n.sha.sha1;$n.sha256=$n.sha.sha256;$n.sha224=$n.sha.sha224;$n.sha384=$n.sha.sha384;$n.sha512=$n.sha.sha512;$n.ripemd160=$n.ripemd.ripemd160});var u$=V((cqe,f$)=>{M();f$.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var o_=V(d$=>{"use strict";M();var SS=d$,Wc=n_(),ES=mS(),Lye=as(),c$=Lye.assert;function l$(t){t.type==="short"?this.curve=new ES.short(t):t.type==="edwards"?this.curve=new ES.edwards(t):this.curve=new ES.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,c$(this.g.validate(),"Invalid curve"),c$(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}SS.PresetCurve=l$;function Kc(t,e){Object.defineProperty(SS,t,{configurable:!0,enumerable:!0,get:function(){var r=new l$(e);return Object.defineProperty(SS,t,{configurable:!0,enumerable:!0,value:r}),r}})}Kc("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Wc.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Kc("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Wc.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Kc("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Wc.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Kc("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Wc.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Kc("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Wc.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Kc("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wc.sha256,gRed:!1,g:["9"]});Kc("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wc.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var AS;try{AS=u$()}catch{AS=void 0}Kc("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Wc.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",AS]})});var m$=V((pqe,p$)=>{"use strict";M();var Uye=n_(),Qd=hS(),h$=ss();function Hc(t){if(!(this instanceof Hc))return new Hc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Qd.toArray(t.entropy,t.entropyEnc||"hex"),r=Qd.toArray(t.nonce,t.nonceEnc||"hex"),i=Qd.toArray(t.pers,t.persEnc||"hex");h$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}p$.exports=Hc;Hc.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Hc.prototype._hmac=function(){return new Uye.hmac(this.hash,this.K)};Hc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Hc.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=Qd.toArray(e,r),i=Qd.toArray(i,n),h$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Hc.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=Qd.toArray(i,n||"hex"),this._update(i));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(i),this._reseed++,Qd.encode(s,r)}});var g$=V((yqe,y$)=>{"use strict";M();var Fye=xf(),zye=as(),TS=zye.assert;function eo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}y$.exports=eo;eo.fromPublic=function(e,r,i){return r instanceof eo?r:new eo(e,{pub:r,pubEnc:i})};eo.fromPrivate=function(e,r,i){return r instanceof eo?r:new eo(e,{priv:r,privEnc:i})};eo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};eo.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};eo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};eo.prototype._importPrivate=function(e,r){this.priv=new Fye(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};eo.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?TS(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&TS(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};eo.prototype.derive=function(e){return e.validate()||TS(e.validate(),"public point not validated"),e.mul(this.priv).getX()};eo.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};eo.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};eo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var w$=V((vqe,b$)=>{"use strict";M();var s_=xf(),kS=as(),$ye=kS.assert;function a_(t,e){if(t instanceof a_)return t;this._importDER(t,e)||($ye(t.r&&t.s,"Signature without r or s"),this.r=new s_(t.r,16),this.s=new s_(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}b$.exports=a_;function Gye(){this.place=0}function PS(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,s=e.place;o<i;o++,s++)n<<=8,n|=t[s],n>>>=0;return n<=127?!1:(e.place=s,n)}function v$(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}a_.prototype._importDER=function(e,r){e=kS.toArray(e,r);var i=new Gye;if(e[i.place++]!==48)return!1;var n=PS(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var o=PS(e,i);if(o===!1)return!1;var s=e.slice(i.place,o+i.place);if(i.place+=o,e[i.place++]!==2)return!1;var d=PS(e,i);if(d===!1||e.length!==d+i.place)return!1;var p=e.slice(i.place,d+i.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new s_(s),this.s=new s_(p),this.recoveryParam=null,!0};function RS(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}a_.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=v$(r),i=v$(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];RS(n,r.length),n=n.concat(r),n.push(2),RS(n,i.length);var o=n.concat(i),s=[48];return RS(s,o.length),s=s.concat(o),kS.encode(s,e)}});var E$=V((wqe,M$)=>{"use strict";M();var Xd=xf(),_$=m$(),Wye=as(),IS=o_(),Kye=T2(),x$=Wye.assert,BS=g$(),f_=w$();function zs(t){if(!(this instanceof zs))return new zs(t);typeof t=="string"&&(x$(Object.prototype.hasOwnProperty.call(IS,t),"Unknown curve "+t),t=IS[t]),t instanceof IS.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}M$.exports=zs;zs.prototype.keyPair=function(e){return new BS(this,e)};zs.prototype.keyFromPrivate=function(e,r){return BS.fromPrivate(this,e,r)};zs.prototype.keyFromPublic=function(e,r){return BS.fromPublic(this,e,r)};zs.prototype.genKeyPair=function(e){e||(e={});for(var r=new _$({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Kye(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Xd(2));;){var o=new Xd(r.generate(i));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}};zs.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};zs.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new Xd(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),d=e.toArray("be",o),p=new _$({hash:this.hash,entropy:s,nonce:d,pers:n.pers,persEnc:n.persEnc||"utf8"}),v=this.n.sub(new Xd(1)),b=0;;b++){var x=n.k?n.k(b):new Xd(p.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(v)>=0)){var E=this.g.mul(x);if(!E.isInfinity()){var T=E.getX(),S=T.umod(this.n);if(S.cmpn(0)!==0){var P=x.invm(this.n).mul(S.mul(r.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var B=(E.getY().isOdd()?1:0)|(T.cmp(S)!==0?2:0);return n.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),B^=1),new f_({r:S,s:P,recoveryParam:B})}}}}}};zs.prototype.verify=function(e,r,i,n){e=this._truncateToN(new Xd(e,16)),i=this.keyFromPublic(i,n),r=new f_(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var d=s.invm(this.n),p=d.mul(e).umod(this.n),v=d.mul(o).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(p,i.getPublic(),v),b.isInfinity()?!1:b.eqXToP(o)):(b=this.g.mulAdd(p,i.getPublic(),v),b.isInfinity()?!1:b.getX().umod(this.n).cmp(o)===0)};zs.prototype.recoverPubKey=function(t,e,r,i){x$((3&r)===r,"The recovery param is more than two bits"),e=new f_(e,i);var n=this.n,o=new Xd(t),s=e.r,d=e.s,p=r&1,v=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&v)throw new Error("Unable to find sencond key candinate");v?s=this.curve.pointFromX(s.add(this.curve.n),p):s=this.curve.pointFromX(s,p);var b=e.r.invm(n),x=n.sub(o).mul(b).umod(n),E=d.mul(b).umod(n);return this.g.mulAdd(x,s,E)};zs.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new f_(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(t,e,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var P$=V((xqe,T$)=>{"use strict";M();var nv=as(),A$=nv.assert,S$=nv.parseBytes,Up=nv.cachedProperty;function En(t,e){this.eddsa=t,this._secret=S$(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=S$(e.pub)}En.fromPublic=function(e,r){return r instanceof En?r:new En(e,{pub:r})};En.fromSecret=function(e,r){return r instanceof En?r:new En(e,{secret:r})};En.prototype.secret=function(){return this._secret};Up(En,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Up(En,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Up(En,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});Up(En,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Up(En,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Up(En,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});En.prototype.sign=function(e){return A$(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};En.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};En.prototype.getSecret=function(e){return A$(this._secret,"KeyPair is public only"),nv.encode(this.secret(),e)};En.prototype.getPublic=function(e){return nv.encode(this.pubBytes(),e)};T$.exports=En});var k$=V((Eqe,R$)=>{"use strict";M();var Hye=xf(),u_=as(),Vye=u_.assert,c_=u_.cachedProperty,Zye=u_.parseBytes;function eh(t,e){this.eddsa=t,typeof e!="object"&&(e=Zye(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Vye(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Hye&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}c_(eh,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});c_(eh,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});c_(eh,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});c_(eh,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});eh.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};eh.prototype.toHex=function(){return u_.encode(this.toBytes(),"hex").toUpperCase()};R$.exports=eh});var O$=V((Aqe,C$)=>{"use strict";M();var Yye=n_(),Jye=o_(),Fp=as(),Qye=Fp.assert,B$=Fp.parseBytes,D$=P$(),I$=k$();function jo(t){if(Qye(t==="ed25519","only tested with ed25519 so far"),!(this instanceof jo))return new jo(t);t=Jye[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Yye.sha512}C$.exports=jo;jo.prototype.sign=function(e,r){e=B$(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),o=this.g.mul(n),s=this.encodePoint(o),d=this.hashInt(s,i.pubBytes(),e).mul(i.priv()),p=n.add(d).umod(this.curve.n);return this.makeSignature({R:o,S:p,Rencoded:s})};jo.prototype.verify=function(e,r,i){e=B$(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),o=this.hashInt(r.Rencoded(),n.pubBytes(),e),s=this.g.mul(r.S()),d=r.R().add(n.pub().mul(o));return d.eq(s)};jo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Fp.intFromLE(e.digest()).umod(this.curve.n)};jo.prototype.keyFromPublic=function(e){return D$.fromPublic(this,e)};jo.prototype.keyFromSecret=function(e){return D$.fromSecret(this,e)};jo.prototype.makeSignature=function(e){return e instanceof I$?e:new I$(this,e)};jo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};jo.prototype.decodePoint=function(e){e=Fp.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,o=Fp.intFromLE(i);return this.curve.pointFromY(o,n)};jo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};jo.prototype.decodeInt=function(e){return Fp.intFromLE(e)};jo.prototype.isPoint=function(e){return e instanceof this.pointClass}});var l_=V(j$=>{"use strict";M();var th=j$;th.version=hz().version;th.utils=as();th.rand=T2();th.curve=mS();th.curves=o_();th.ec=E$();th.eddsa=O$()});var CS=V((q$,DS)=>{M();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Jt().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var c=0;a[0]==="-"&&(c++,this.negative=1),c<a.length&&(u===16?this._parseHex(a,c,h):(this._parseBase(a,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,g,w=0;if(h==="be")for(c=a.length-1,l=0;c>=0;c-=3)g=a[c]|a[c-1]<<8|a[c-2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);else if(h==="le")for(c=0,l=0;c<a.length;c+=3)g=a[c]|a[c+1]<<8|a[c+2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);return this.strip()};function s(_,a){var u=_.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,a,u){var h=s(_,u);return u-1>=a&&(h|=s(_,u-1)<<4),h}n.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,g=0,w;if(h==="be")for(c=a.length-1;c>=u;c-=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8;else{var m=a.length-u;for(c=m%2===0?u+1:u;c<a.length;c+=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8}this.strip()};function p(_,a,u,h){for(var c=0,l=Math.min(_.length,u),g=a;g<l;g++){var w=_.charCodeAt(g)-48;c*=h,w>=49?c+=w-49+10:w>=17?c+=w-17+10:c+=w}return c}n.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var g=a.length-h,w=g%c,m=Math.min(g,g-w)+h,f=0,y=h;y<m;y+=c)f=p(a,y,y+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(w!==0){var R=1;for(f=p(a,y,a.length,u),y=0;y<w;y++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var c=0,l=0,g=0;g<this.length;g++){var w=this.words[g],m=((w<<c|l)&16777215).toString(16);l=w>>>24-c&16777215,l!==0||g!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,g--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],y=x[a];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var A=R.modn(y).toString(a);R=R.idivn(y),R.isZero()?h=A+h:h=v[f-A.length]+A+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},n.prototype.toArrayLike=function(a,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var g=u==="le",w=new a(l),m,f,y=this.clone();if(g){for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[f]=m;for(;f<l;f++)w[f]=0}else{for(f=0;f<l-c;f++)w[f]=0;for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[l-f-1]=m}return w},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var h=u/26|0,c=u%26;a[u]=(_.words[h]&1<<c)>>>c}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,c=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,c;this.length>a.length?(h=this,c=a):(h=a,c=this);for(var l=0,g=0;g<c.length;g++)u=(h.words[g]|0)+(c.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;for(;l!==0&&g<h.length;g++)u=(h.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=a):(c=a,l=this);for(var g=0,w=0;w<l.length;w++)u=(c.words[w]|0)-(l.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;for(;g!==0&&w<c.length;w++)u=(c.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;if(g===0&&w<c.length&&c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this.length=Math.max(this.length,w),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function T(_,a,u){u.negative=a.negative^_.negative;var h=_.length+a.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=a.words[0]|0,g=c*l,w=g&67108863,m=g/67108864|0;u.words[0]=w;for(var f=1;f<h;f++){for(var y=m>>>26,R=m&67108863,A=Math.min(f,a.length-1),D=Math.max(0,f-_.length+1);D<=A;D++){var z=f-D|0;c=_.words[z]|0,l=a.words[D]|0,g=c*l+R,y+=g/67108864|0,R=g&67108863}u.words[f]=R|0,m=y|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var S=function(a,u,h){var c=a.words,l=u.words,g=h.words,w=0,m,f,y,R=c[0]|0,A=R&8191,D=R>>>13,z=c[1]|0,W=z&8191,H=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Le=c[3]|0,Q=Le&8191,X=Le>>>13,Qe=c[4]|0,te=Qe&8191,re=Qe>>>13,Zt=c[5]|0,ie=Zt&8191,ne=Zt>>>13,_r=c[6]|0,se=_r&8191,oe=_r>>>13,ni=c[7]|0,fe=ni&8191,ae=ni>>>13,oi=c[8]|0,ue=oi&8191,ce=oi>>>13,si=c[9]|0,le=si&8191,de=si>>>13,hi=l[0]|0,he=hi&8191,pe=hi>>>13,Ci=l[1]|0,me=Ci&8191,ye=Ci>>>13,Oi=l[2]|0,ge=Oi&8191,ve=Oi>>>13,ji=l[3]|0,be=ji&8191,we=ji>>>13,qi=l[4]|0,_e=qi&8191,xe=qi>>>13,Ni=l[5]|0,Me=Ni&8191,Ee=Ni>>>13,Li=l[6]|0,Se=Li&8191,Ae=Li>>>13,Ui=l[7]|0,Te=Ui&8191,Pe=Ui>>>13,Fi=l[8]|0,Re=Fi&8191,ke=Fi>>>13,zi=l[9]|0,Ie=zi&8191,Be=zi>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(A,he),f=Math.imul(A,pe),f=f+Math.imul(D,he)|0,y=Math.imul(D,pe);var zr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(W,he),f=Math.imul(W,pe),f=f+Math.imul(H,he)|0,y=Math.imul(H,pe),m=m+Math.imul(A,me)|0,f=f+Math.imul(A,ye)|0,f=f+Math.imul(D,me)|0,y=y+Math.imul(D,ye)|0;var vt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,y=Math.imul(Y,pe),m=m+Math.imul(W,me)|0,f=f+Math.imul(W,ye)|0,f=f+Math.imul(H,me)|0,y=y+Math.imul(H,ye)|0,m=m+Math.imul(A,ge)|0,f=f+Math.imul(A,ve)|0,f=f+Math.imul(D,ge)|0,y=y+Math.imul(D,ve)|0;var bt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,y=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,y=y+Math.imul(Y,ye)|0,m=m+Math.imul(W,ge)|0,f=f+Math.imul(W,ve)|0,f=f+Math.imul(H,ge)|0,y=y+Math.imul(H,ve)|0,m=m+Math.imul(A,be)|0,f=f+Math.imul(A,we)|0,f=f+Math.imul(D,be)|0,y=y+Math.imul(D,we)|0;var xr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,y=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,y=y+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,y=y+Math.imul(Y,ve)|0,m=m+Math.imul(W,be)|0,f=f+Math.imul(W,we)|0,f=f+Math.imul(H,be)|0,y=y+Math.imul(H,we)|0,m=m+Math.imul(A,_e)|0,f=f+Math.imul(A,xe)|0,f=f+Math.imul(D,_e)|0,y=y+Math.imul(D,xe)|0;var Mr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,y=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,y=y+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,y=y+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,y=y+Math.imul(Y,we)|0,m=m+Math.imul(W,_e)|0,f=f+Math.imul(W,xe)|0,f=f+Math.imul(H,_e)|0,y=y+Math.imul(H,xe)|0,m=m+Math.imul(A,Me)|0,f=f+Math.imul(A,Ee)|0,f=f+Math.imul(D,Me)|0,y=y+Math.imul(D,Ee)|0;var Er=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,y=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,y=y+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,y=y+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,y=y+Math.imul(Y,xe)|0,m=m+Math.imul(W,Me)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(H,Me)|0,y=y+Math.imul(H,Ee)|0,m=m+Math.imul(A,Se)|0,f=f+Math.imul(A,Ae)|0,f=f+Math.imul(D,Se)|0,y=y+Math.imul(D,Ae)|0;var Sr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(fe,he),f=Math.imul(fe,pe),f=f+Math.imul(ae,he)|0,y=Math.imul(ae,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,y=y+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,y=y+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,y=y+Math.imul(Y,Ee)|0,m=m+Math.imul(W,Se)|0,f=f+Math.imul(W,Ae)|0,f=f+Math.imul(H,Se)|0,y=y+Math.imul(H,Ae)|0,m=m+Math.imul(A,Te)|0,f=f+Math.imul(A,Pe)|0,f=f+Math.imul(D,Te)|0,y=y+Math.imul(D,Pe)|0;var Ar=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,y=Math.imul(ce,pe),m=m+Math.imul(fe,me)|0,f=f+Math.imul(fe,ye)|0,f=f+Math.imul(ae,me)|0,y=y+Math.imul(ae,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,y=y+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,y=y+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,y=y+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,y=y+Math.imul(Y,Ae)|0,m=m+Math.imul(W,Te)|0,f=f+Math.imul(W,Pe)|0,f=f+Math.imul(H,Te)|0,y=y+Math.imul(H,Pe)|0,m=m+Math.imul(A,Re)|0,f=f+Math.imul(A,ke)|0,f=f+Math.imul(D,Re)|0,y=y+Math.imul(D,ke)|0;var Tr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,y=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,y=y+Math.imul(ce,ye)|0,m=m+Math.imul(fe,ge)|0,f=f+Math.imul(fe,ve)|0,f=f+Math.imul(ae,ge)|0,y=y+Math.imul(ae,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,y=y+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,y=y+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,y=y+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,y=y+Math.imul(Y,Pe)|0,m=m+Math.imul(W,Re)|0,f=f+Math.imul(W,ke)|0,f=f+Math.imul(H,Re)|0,y=y+Math.imul(H,ke)|0,m=m+Math.imul(A,Ie)|0,f=f+Math.imul(A,Be)|0,f=f+Math.imul(D,Ie)|0,y=y+Math.imul(D,Be)|0;var Pr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,y=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,y=y+Math.imul(ce,ve)|0,m=m+Math.imul(fe,be)|0,f=f+Math.imul(fe,we)|0,f=f+Math.imul(ae,be)|0,y=y+Math.imul(ae,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,y=y+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,y=y+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,y=y+Math.imul(Y,ke)|0,m=m+Math.imul(W,Ie)|0,f=f+Math.imul(W,Be)|0,f=f+Math.imul(H,Ie)|0,y=y+Math.imul(H,Be)|0;var Rr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,y=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(fe,_e)|0,f=f+Math.imul(fe,xe)|0,f=f+Math.imul(ae,_e)|0,y=y+Math.imul(ae,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,y=y+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,Be)|0,f=f+Math.imul(Y,Ie)|0,y=y+Math.imul(Y,Be)|0;var kr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,y=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(fe,Me)|0,f=f+Math.imul(fe,Ee)|0,f=f+Math.imul(ae,Me)|0,y=y+Math.imul(ae,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,y=y+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,Be)|0,f=f+Math.imul(X,Ie)|0,y=y+Math.imul(X,Be)|0;var Ir=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,y=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Ee)|0,m=m+Math.imul(fe,Se)|0,f=f+Math.imul(fe,Ae)|0,f=f+Math.imul(ae,Se)|0,y=y+Math.imul(ae,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,y=y+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,Be)|0,f=f+Math.imul(re,Ie)|0,y=y+Math.imul(re,Be)|0;var Br=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,y=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(fe,Te)|0,f=f+Math.imul(fe,Pe)|0,f=f+Math.imul(ae,Te)|0,y=y+Math.imul(ae,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,y=y+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,Be)|0,f=f+Math.imul(ne,Ie)|0,y=y+Math.imul(ne,Be)|0;var Dr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,y=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(fe,Re)|0,f=f+Math.imul(fe,ke)|0,f=f+Math.imul(ae,Re)|0,y=y+Math.imul(ae,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,Be)|0,f=f+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Be)|0;var Cr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,y=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(fe,Ie)|0,f=f+Math.imul(fe,Be)|0,f=f+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,Be)|0;var Or=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,y=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,Be)|0;var jr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,Be),f=f+Math.imul(de,Ie)|0,y=Math.imul(de,Be);var qr=(w+m|0)+((f&8191)<<13)|0;return w=(y+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,g[0]=zr,g[1]=vt,g[2]=bt,g[3]=xr,g[4]=Mr,g[5]=Er,g[6]=Sr,g[7]=Ar,g[8]=Tr,g[9]=Pr,g[10]=Rr,g[11]=kr,g[12]=Ir,g[13]=Br,g[14]=Dr,g[15]=Cr,g[16]=Or,g[17]=jr,g[18]=qr,w!==0&&(g[19]=w,h.length++),h};Math.imul||(S=T);function P(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var g=c;c=0;for(var w=h&67108863,m=Math.min(l,a.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var y=l-f,R=_.words[y]|0,A=a.words[f]|0,D=R*A,z=D&67108863;g=g+(D/67108864|0)|0,z=z+w|0,w=z&67108863,g=g+(z>>>26)|0,c+=g>>>26,g&=67108863}u.words[l]=w,h=g,g=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function B(_,a,u){var h=new I;return h.mulp(_,a,u)}n.prototype.mulTo=function(a,u){var h,c=this.length+a.length;return this.length===10&&a.length===10?h=S(this,a,u):c<63?h=T(this,a,u):c<1024?h=P(this,a,u):h=B(this,a,u),h};function I(_,a){this.x=_,this.y=a}I.prototype.makeRBT=function(a){for(var u=new Array(a),h=n.prototype._countBits(a)-1,c=0;c<a;c++)u[c]=this.revBin(c,h,a);return u},I.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var c=0,l=0;l<u;l++)c|=(a&1)<<u-l-1,a>>=1;return c},I.prototype.permute=function(a,u,h,c,l,g){for(var w=0;w<g;w++)c[w]=u[a[w]],l[w]=h[a[w]]},I.prototype.transform=function(a,u,h,c,l,g){this.permute(g,a,u,h,c,l);for(var w=1;w<l;w<<=1)for(var m=w<<1,f=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var A=f,D=y,z=0;z<w;z++){var W=h[R+z],H=c[R+z],J=h[R+z+w],Z=c[R+z+w],Y=A*J-D*Z;Z=A*Z+D*J,J=Y,h[R+z]=W+J,c[R+z]=H+Z,h[R+z+w]=W-J,c[R+z+w]=H-Z,z!==m&&(Y=f*A-y*D,D=f*D+y*A,A=Y)}},I.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=a[c];a[c]=a[h-c-1],a[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(a,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(a[2*c+1]/u)*8192+Math.round(a[2*c]/u)+h;a[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return a},I.prototype.convert13b=function(a,u,h,c){for(var l=0,g=0;g<u;g++)l=l+(a[g]|0),h[2*g]=l&8191,l=l>>>13,h[2*g+1]=l&8191,l=l>>>13;for(g=2*u;g<c;++g)h[g]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},I.prototype.mulp=function(a,u,h){var c=2*this.guessLen13b(a.length,u.length),l=this.makeRBT(c),g=this.stub(c),w=new Array(c),m=new Array(c),f=new Array(c),y=new Array(c),R=new Array(c),A=new Array(c),D=h.words;D.length=c,this.convert13b(a.words,a.length,w,c),this.convert13b(u.words,u.length,y,c),this.transform(w,g,m,f,c,l),this.transform(y,g,R,A,c,l);for(var z=0;z<c;z++){var W=m[z]*R[z]-f[z]*A[z];f[z]=m[z]*A[z]+f[z]*R[z],m[z]=W}return this.conjugate(m,f,c),this.transform(m,f,D,g,c,l),this.conjugate(D,g,c),this.normalize13b(D,c),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),B(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*a,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=E(a);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var g=0;for(l=0;l<this.length;l++){var w=this.words[l]&c,m=(this.words[l]|0)-w<<u;this.words[l]=m|g,g=w>>>26-u}g&&(this.words[l]=g,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var c;u?c=(u-u%26)/26:c=0;var l=a%26,g=Math.min((a-l)/26,this.length),w=67108863^67108863>>>l<<l,m=h;if(c-=g,c=Math.max(0,c),m){for(var f=0;f<g;f++)m.words[f]=this.words[f];m.length=g}if(g!==0)if(this.length>g)for(this.length-=g,f=0;f<this.length;f++)this.words[f]=this.words[f+g];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=y<<26-l|R>>>l,y=R&w}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,h){var c=a.length+h,l;this._expand(c);var g,w=0;for(l=0;l<a.length;l++){g=(this.words[l+h]|0)+w;var m=(a.words[l]|0)*u;g-=m&67108863,w=(g>>26)-(m/67108864|0),this.words[l+h]=g&67108863}for(;l<this.length-h;l++)g=(this.words[l+h]|0)+w,w=g>>26,this.words[l+h]=g&67108863;if(w===0)return this.strip();for(r(w===-1),w=0,l=0;l<this.length;l++)g=-(this.words[l]|0)+w,w=g>>26,this.words[l]=g&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,u){var h=this.length-a.length,c=this.clone(),l=a,g=l.words[l.length-1]|0,w=this._countBits(g);h=26-w,h!==0&&(l=l.ushln(h),c.iushln(h),g=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var A=m-1;A>=0;A--){var D=(c.words[l.length+A]|0)*67108864+(c.words[l.length+A-1]|0);for(D=Math.min(D/g|0,67108863),c._ishlnsubmul(l,D,A);c.negative!==0;)D--,c.negative=0,c._ishlnsubmul(l,1,A),c.isZero()||(c.negative^=1);f&&(f.words[A]=D)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,g;return this.negative!==0&&a.negative===0?(g=this.neg().divmod(a,u),u!=="mod"&&(c=g.div.neg()),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.iadd(a)),{div:c,mod:l}):this.negative===0&&a.negative!==0?(g=this.divmod(a.neg(),u),u!=="mod"&&(c=g.div.neg()),{div:c,mod:g.mod}):this.negative&a.negative?(g=this.neg().divmod(a.neg(),u),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.isub(a)),{div:g.div,mod:l}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,c=a.ushrn(1),l=a.andln(1),g=h.cmp(c);return g<0||l===1&&g===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%a;return h},n.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/a|0,u=c%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=new n(0),w=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),y=u.clone();!u.isZero();){for(var R=0,A=1;!(u.words[0]&A)&&R<26;++R,A<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(y)),c.iushrn(1),l.iushrn(1);for(var D=0,z=1;!(h.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(h.iushrn(D);D-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(y)),g.iushrn(1),w.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(g),l.isub(w)):(h.isub(u),g.isub(c),w.isub(l))}return{a:g,b:w,gcd:h.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var w=0,m=1;!(u.words[0]&m)&&w<26;++w,m<<=1);if(w>0)for(u.iushrn(w);w-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);for(var f=0,y=1;!(h.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(g),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(a),R},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var g=u;u=h,h=g}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,g=h;l!==0&&g<this.length;g++){var w=this.words[g]|0;w+=l,l=w>>>26,w&=67108863,this.words[g]=w}return l!==0&&(this.words[g]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var c=this.words[0]|0;h=c===a?0:c<a?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=a.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new N(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function O(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(a,u){for(var h=4194303,c=Math.min(a.length,9),l=0;l<c;l++)u.words[l]=a.words[l];if(u.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var g=a.words[9];for(u.words[u.length++]=g&h,l=10;l<a.length;l++){var w=a.words[l]|0;a.words[l-10]=(w&h)<<4|g>>>22,g=w}g>>>=22,a.words[l-10]=g,g===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var c=a.words[h]|0;u+=c*977,a.words[h]=u&67108863,u=c*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,O);function G(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,O),$.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var c=(a.words[h]|0)*19+u,l=c&67108863;c>>>=26,a.words[h]=l,u=c}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if(C[a])return C[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new q;else if(a==="p192")u=new G;else if(a==="p25519")u=new $;else throw new Error("Unknown prime "+a);return C[a]=u,u};function N(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}N.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},N.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},N.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},N.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},N.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},N.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},N.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},N.prototype.isqr=function(a){return this.imul(a,a.clone())},N.prototype.sqr=function(a){return this.mul(a,a)},N.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(a,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var g=new n(1).toRed(this),w=g.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(w)!==0;)f.redIAdd(w);for(var y=this.pow(f,c),R=this.pow(a,c.addn(1).iushrn(1)),A=this.pow(a,c),D=l;A.cmp(g)!==0;){for(var z=A,W=0;z.cmp(g)!==0;W++)z=z.redSqr();r(W<D);var H=this.pow(y,new n(1).iushln(D-W-1));R=R.redMul(H),y=H.redSqr(),A=A.redMul(y),D=W}return R},N.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=a;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],a);var g=c[0],w=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var y=u.words[l],R=f-1;R>=0;R--){var A=y>>R&1;if(g!==c[0]&&(g=this.sqr(g)),A===0&&w===0){m=0;continue}w<<=1,w|=A,m++,!(m!==h&&(l!==0||R!==0))&&(g=this.mul(g,c[w]),m=0,w=0)}f=26}return g},N.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},N.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new K(a)};function K(_){N.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,N),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},K.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var h=a.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof DS>"u"||DS,q$)});var h_=V((Iqe,N$)=>{"use strict";M();var d_=Jt(),zp=d_.Buffer,$s={},Gs;for(Gs in d_)d_.hasOwnProperty(Gs)&&(Gs==="SlowBuffer"||Gs==="Buffer"||($s[Gs]=d_[Gs]));var $p=$s.Buffer={};for(Gs in zp)zp.hasOwnProperty(Gs)&&(Gs==="allocUnsafe"||Gs==="allocUnsafeSlow"||($p[Gs]=zp[Gs]));$s.Buffer.prototype=zp.prototype;(!$p.from||$p.from===Uint8Array.from)&&($p.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return zp(t,e,r)});$p.alloc||($p.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=zp(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!$s.kStringMaxLength)try{$s.kStringMaxLength=j.default.binding("buffer").kStringMaxLength}catch{}$s.constants||($s.constants={MAX_LENGTH:$s.kMaxLength},$s.kStringMaxLength&&($s.constants.MAX_STRING_LENGTH=$s.kStringMaxLength));N$.exports=$s});var p_=V(L$=>{"use strict";M();var Xye=st();function Ws(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}L$.Reporter=Ws;Ws.prototype.isError=function(e){return e instanceof Gp};Ws.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Ws.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};Ws.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Ws.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};Ws.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};Ws.prototype.path=function(){return this._reporterState.path.join("/")};Ws.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};Ws.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};Ws.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof Gp;if(n?r=e:r=new Gp(i.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};Ws.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Gp(t,e){this.path=t,this.rethrow(e)}Xye(Gp,Error);Gp.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Gp),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var Hp=V(OS=>{"use strict";M();var ege=st(),m_=p_().Reporter,Wp=h_().Buffer;function Ks(t,e){if(m_.call(this,e),!Wp.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}ege(Ks,m_);OS.DecoderBuffer=Ks;Ks.isDecoderBuffer=function(e){return e instanceof Ks?!0:typeof e=="object"&&Wp.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};Ks.prototype.save=function(){return{offset:this.offset,reporter:m_.prototype.save.call(this)}};Ks.prototype.restore=function(e){let r=new Ks(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,m_.prototype.restore.call(this,e.reporter),r};Ks.prototype.isEmpty=function(){return this.offset===this.length};Ks.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Ks.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new Ks(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};Ks.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Kp(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Kp.isEncoderBuffer(r)||(r=new Kp(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Wp.byteLength(t);else if(Wp.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}OS.EncoderBuffer=Kp;Kp.isEncoderBuffer=function(e){return e instanceof Kp?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Kp.prototype.join=function(e,r){return e||(e=Wp.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Wp.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var y_=V((qqe,F$)=>{"use strict";M();var tge=p_().Reporter,rge=Hp().EncoderBuffer,ige=Hp().DecoderBuffer,vo=ss(),U$=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],nge=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(U$),oge=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function wr(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}F$.exports=wr;var sge=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];wr.prototype.clone=function(){let e=this._baseState,r={};sge.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};wr.prototype._wrap=function(){let e=this._baseState;nge.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};wr.prototype._init=function(e){let r=this._baseState;vo(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),vo.equal(r.children.length,1,"Root node can have only one child")};wr.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(vo(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(vo(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let o={};return Object.keys(n).forEach(function(s){s==(s|0)&&(s|=0);let d=n[s];o[d]=s}),o}))};oge.forEach(function(t){wr.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});U$.forEach(function(t){wr.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return vo(r.tag===null),r.tag=t,this._useArgs(i),this}});wr.prototype.use=function(e){vo(e);let r=this._baseState;return vo(r.use===null),r.use=e,this};wr.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};wr.prototype.def=function(e){let r=this._baseState;return vo(r.default===null),r.default=e,r.optional=!0,this};wr.prototype.explicit=function(e){let r=this._baseState;return vo(r.explicit===null&&r.implicit===null),r.explicit=e,this};wr.prototype.implicit=function(e){let r=this._baseState;return vo(r.explicit===null&&r.implicit===null),r.implicit=e,this};wr.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};wr.prototype.key=function(e){let r=this._baseState;return vo(r.key===null),r.key=e,this};wr.prototype.any=function(){let e=this._baseState;return e.any=!0,this};wr.prototype.choice=function(e){let r=this._baseState;return vo(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};wr.prototype.contains=function(e){let r=this._baseState;return vo(r.use===null),r.contains=e,this};wr.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,o=!0,s=null;if(i.key!==null&&(s=e.enterKey(i.key)),i.optional){let p=null;if(i.explicit!==null?p=i.explicit:i.implicit!==null?p=i.implicit:i.tag!==null&&(p=i.tag),p===null&&!i.any){let v=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(v)}else if(o=this._peekTag(e,p,i.any),e.isError(o))return o}let d;if(i.obj&&o&&(d=e.enterObject()),o){if(i.explicit!==null){let v=this._decodeTag(e,i.explicit);if(e.isError(v))return v;e=v}let p=e.offset;if(i.use===null&&i.choice===null){let v;i.any&&(v=e.save());let b=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(b))return b;i.any?n=e.raw(v):e=b}if(r&&r.track&&i.tag!==null&&r.track(e.path(),p,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(b){b._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let v=new ige(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(v,r)}}return i.obj&&o&&(n=e.leaveObject(d)),i.key!==null&&(n!==null||o===!0)?e.leaveKey(s,i.key,n):s!==null&&e.exitKey(s),n};wr.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};wr.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),vo(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};wr.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,o=!1;return Object.keys(i.choice).some(function(s){let d=e.save(),p=i.choice[s];try{let v=p._decode(e,r);if(e.isError(v))return!1;n={type:s,value:v},o=!0}catch{return e.restore(d),!1}return!0},this),o?n:e.error("Choice not matched")};wr.prototype._createEncoderBuffer=function(e){return new rge(e,this.reporter)};wr.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let o=this._encodeValue(e,r,i);if(o!==void 0&&!this._skipDefault(o,r,i))return o};wr.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new tge);let o=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let s=null,d=!1;if(n.any)o=this._createEncoderBuffer(e);else if(n.choice)o=this._encodeChoice(e,r);else if(n.contains)s=this._getUse(n.contains,i)._encode(e,r),d=!0;else if(n.children)s=n.children.map(function(p){if(p._baseState.tag==="null_")return p._encode(null,r,e);if(p._baseState.key===null)return r.error("Child should have a key");let v=r.enterKey(p._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let b=p._encode(e[p._baseState.key],r,e);return r.leaveKey(v),b},this).filter(function(p){return p}),s=this._createEncoderBuffer(s);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let p=this.clone();p._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(v){let b=this._baseState;return this._getUse(b.args[0],e)._encode(v,r)},p))}else n.use!==null?o=this._getUse(n.use,i)._encode(e,r):(s=this._encodePrimitive(n.tag,e),d=!0);if(!n.any&&n.choice===null){let p=n.implicit!==null?n.implicit:n.tag,v=n.implicit===null?"universal":"context";p===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(o=this._encodeComposite(p,d,v,s))}return n.explicit!==null&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o};wr.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||vo(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};wr.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};wr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};wr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var g_=V(rh=>{"use strict";M();function z$(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}rh.tagClass={0:"universal",1:"application",2:"context",3:"private"};rh.tagClassByName=z$(rh.tagClass);rh.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};rh.tagByName=z$(rh.tag)});var qS=V((Fqe,W$)=>{"use strict";M();var age=st(),Ou=h_().Buffer,$$=y_(),jS=g_();function G$(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new xa,this.tree._init(t.body)}W$.exports=G$;G$.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function xa(t){$$.call(this,"der",t)}age(xa,$$);xa.prototype._encodeComposite=function(e,r,i,n){let o=fge(e,r,i,this.reporter);if(n.length<128){let p=Ou.alloc(2);return p[0]=o,p[1]=n.length,this._createEncoderBuffer([p,n])}let s=1;for(let p=n.length;p>=256;p>>=8)s++;let d=Ou.alloc(1+1+s);d[0]=o,d[1]=128|s;for(let p=1+s,v=n.length;v>0;p--,v>>=8)d[p]=v&255;return this._createEncoderBuffer([d,n])};xa.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=Ou.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};xa.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let d=0;d<e.length;d++)e[d]|=0}else if(Array.isArray(e)){e=e.slice();for(let d=0;d<e.length;d++)e[d]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let d=0;d<e.length;d++){let p=e[d];for(n++;p>=128;p>>=7)n++}let o=Ou.alloc(n),s=o.length-1;for(let d=e.length-1;d>=0;d--){let p=e[d];for(o[s--]=p&127;(p>>=7)>0;)o[s--]=128|p&127}return this._createEncoderBuffer(o)};function Hs(t){return t<10?"0"+t:t}xa.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[Hs(n.getUTCFullYear()),Hs(n.getUTCMonth()+1),Hs(n.getUTCDate()),Hs(n.getUTCHours()),Hs(n.getUTCMinutes()),Hs(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[Hs(n.getUTCFullYear()%100),Hs(n.getUTCMonth()+1),Hs(n.getUTCDate()),Hs(n.getUTCHours()),Hs(n.getUTCMinutes()),Hs(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};xa.prototype._encodeNull=function(){return this._createEncoderBuffer("")};xa.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Ou.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=Ou.from(o)}if(Ou.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=Ou.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let o=e;o>=256;o>>=8)i++;let n=new Array(i);for(let o=n.length-1;o>=0;o--)n[o]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(Ou.from(n))};xa.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};xa.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};xa.prototype._skipDefault=function(e,r,i){let n=this._baseState,o;if(n.default===null)return!1;let s=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),s.length!==n.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==n.defaultBuffer[o])return!1;return!0};function fge(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),jS.tagByName.hasOwnProperty(t))n=jS.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=jS.tagClassByName[r||"universal"]<<6,n)}});var H$=V(($qe,K$)=>{"use strict";M();var uge=st(),NS=qS();function LS(t){NS.call(this,t),this.enc="pem"}uge(LS,NS);K$.exports=LS;LS.prototype.encode=function(e,r){let n=NS.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<n.length;s+=64)o.push(n.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var US=V(Z$=>{"use strict";M();var V$=Z$;V$.der=qS();V$.pem=H$()});var zS=V((Hqe,tG)=>{"use strict";M();var cge=st(),lge=CS(),Y$=Hp().DecoderBuffer,Q$=y_(),J$=g_();function X$(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new fs,this.tree._init(t.body)}tG.exports=X$;X$.prototype.decode=function(e,r){return Y$.isDecoderBuffer(e)||(e=new Y$(e,r)),this.tree._decode(e,r)};function fs(t){Q$.call(this,"der",t)}cge(fs,Q$);fs.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),o=FS(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(n),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||i)};fs.prototype._decodeTag=function(e,r,i){let n=FS(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let o=eG(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),d=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(d)?d:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};fs.prototype._skipUntilEnd=function(e,r){for(;;){let i=FS(e,r);if(e.isError(i))return i;let n=eG(e,i.primitive,r);if(e.isError(n))return n;let o;if(i.primitive||n!==null?o=e.skip(n):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(i.tagStr==="end")break}};fs.prototype._decodeList=function(e,r,i,n){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let d=i.decode(e,"der",n);if(e.isError(d)&&s)break;o.push(d)}return o};fs.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let o=0;o<i.length/2;o++)n+=String.fromCharCode(i.readUInt16BE(o*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};fs.prototype._decodeObjid=function(e,r,i){let n,o=[],s=0,d=0;for(;!e.isEmpty();)d=e.readUInt8(),s<<=7,s|=d&127,d&128||(o.push(s),s=0);d&128&&o.push(s);let p=o[0]/40|0,v=o[0]%40;if(i?n=o:n=[p,v].concat(o.slice(1)),r){let b=r[n.join(" ")];b===void 0&&(b=r[n.join(".")]),b!==void 0&&(n=b)}return n};fs.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,o,s,d,p,v;if(r==="gentime")n=i.slice(0,4)|0,o=i.slice(4,6)|0,s=i.slice(6,8)|0,d=i.slice(8,10)|0,p=i.slice(10,12)|0,v=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,o=i.slice(2,4)|0,s=i.slice(4,6)|0,d=i.slice(6,8)|0,p=i.slice(8,10)|0,v=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,o-1,s,d,p,v,0)};fs.prototype._decodeNull=function(){return null};fs.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};fs.prototype._decodeInt=function(e,r){let i=e.raw(),n=new lge(i);return r&&(n=r[n.toString(10)]||n),n};fs.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function FS(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=J$.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=J$.tag[r];return{cls:i,primitive:n,tag:r,tagStr:o}}function eG(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let o=0;o<n;o++){i<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;i|=s}return i}});var iG=V((Zqe,rG)=>{"use strict";M();var dge=st(),hge=h_().Buffer,$S=zS();function GS(t){$S.call(this,t),this.enc="pem"}dge(GS,$S);rG.exports=GS;GS.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,d=-1;for(let b=0;b<i.length;b++){let x=i[b].match(o);if(x!==null&&x[2]===n)if(s===-1){if(x[1]!=="BEGIN")break;s=b}else{if(x[1]!=="END")break;d=b;break}}if(s===-1||d===-1)throw new Error("PEM section not found for: "+n);let p=i.slice(s+1,d).join("");p.replace(/[^a-z0-9+/=]+/gi,"");let v=hge.from(p,"base64");return $S.prototype.decode.call(this,v,r)}});var WS=V(oG=>{"use strict";M();var nG=oG;nG.der=zS();nG.pem=iG()});var aG=V(sG=>{"use strict";M();var pge=US(),mge=WS(),yge=st(),gge=sG;gge.define=function(e,r){return new Vp(e,r)};function Vp(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Vp.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return yge(i,e),i.prototype._initNamed=function(o,s){e.call(this,o,s)},new i(this)};Vp.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(mge[e])),this.decoders[e]};Vp.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};Vp.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(pge[e])),this.encoders[e]};Vp.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var uG=V(fG=>{"use strict";M();var v_=fG;v_.Reporter=p_().Reporter;v_.DecoderBuffer=Hp().DecoderBuffer;v_.EncoderBuffer=Hp().EncoderBuffer;v_.Node=y_()});var dG=V(lG=>{"use strict";M();var cG=lG;cG._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};cG.der=g_()});var KS=V(hG=>{"use strict";M();var Zp=hG;Zp.bignum=CS();Zp.define=aG().define;Zp.base=uG();Zp.constants=dG();Zp.decoders=WS();Zp.encoders=US()});var gG=V((aNe,yG)=>{"use strict";M();var Ma=KS(),pG=Ma.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),vge=Ma.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),HS=Ma.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),bge=Ma.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(HS),this.key("subjectPublicKey").bitstr())}),wge=Ma.define("RelativeDistinguishedName",function(){this.setof(vge)}),_ge=Ma.define("RDNSequence",function(){this.seqof(wge)}),mG=Ma.define("Name",function(){this.choice({rdnSequence:this.use(_ge)})}),xge=Ma.define("Validity",function(){this.seq().obj(this.key("notBefore").use(pG),this.key("notAfter").use(pG))}),Mge=Ma.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Ege=Ma.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(HS),this.key("issuer").use(mG),this.key("validity").use(xge),this.key("subject").use(mG),this.key("subjectPublicKeyInfo").use(bge),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Mge).optional())}),Sge=Ma.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Ege),this.key("signatureAlgorithm").use(HS),this.key("signatureValue").bitstr())});yG.exports=Sge});var bG=V(Sa=>{"use strict";M();var Ea=KS();Sa.certificate=gG();var Age=Ea.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Sa.RSAPrivateKey=Age;var Tge=Ea.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Sa.RSAPublicKey=Tge;var Pge=Ea.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(vG),this.key("subjectPublicKey").bitstr())});Sa.PublicKey=Pge;var vG=Ea.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Rge=Ea.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(vG),this.key("subjectPrivateKey").octstr())});Sa.PrivateKey=Rge;var kge=Ea.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Sa.EncryptedPrivateKey=kge;var Ige=Ea.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Sa.DSAPrivateKey=Ige;Sa.DSAparam=Ea.define("DSAparam",function(){this.int()});var Bge=Ea.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Dge),this.key("publicKey").optional().explicit(1).bitstr())});Sa.ECPrivateKey=Bge;var Dge=Ea.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Sa.signature=Ea.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var wG=V((lNe,Cge)=>{Cge.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var xG=V((dNe,_G)=>{M();var Oge=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,jge=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,qge=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Nge=Wg(),Lge=A2(),b_=Vt().Buffer;_G.exports=function(t,e){var r=t.toString(),i=r.match(Oge),n;if(i){var s="aes"+i[1],d=b_.from(i[2],"hex"),p=b_.from(i[3].replace(/[\r\n]/g,""),"base64"),v=Nge(e,d.slice(0,8),parseInt(i[1],10)).key,b=[],x=Lge.createDecipheriv(s,v,d);b.push(x.update(p)),b.push(x.final()),n=b_.concat(b)}else{var o=r.match(qge);n=b_.from(o[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(jge)[1];return{tag:E,data:n}}});var ov=V((pNe,EG)=>{M();var qo=bG(),Uge=wG(),Fge=xG(),zge=A2(),$ge=fE(),VS=Vt().Buffer;EG.exports=MG;function MG(t){var e;typeof t=="object"&&!VS.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=VS.from(t));var r=Fge(t,e),i=r.tag,n=r.data,o,s;switch(i){case"CERTIFICATE":s=qo.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=qo.PublicKey.decode(n,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return qo.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=qo.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":n=qo.EncryptedPrivateKey.decode(n,"der"),n=Gge(n,e);case"PRIVATE KEY":switch(s=qo.PrivateKey.decode(n,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return qo.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:qo.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=qo.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return qo.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return qo.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:qo.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=qo.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}MG.signature=qo.signature;function Gge(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=Uge[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,d=parseInt(n.split("-")[1],10)/8,p=$ge.pbkdf2Sync(e,r,i,d,"sha1"),v=zge.createDecipheriv(n,p,o),b=[];return b.push(v.update(s)),b.push(v.final()),VS.concat(b)}});var ZS=V((yNe,Wge)=>{Wge.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var TG=V((gNe,__)=>{"use strict";M();var to=B2().Buffer,ih=Q5(),Kge=V2(),Hge=l_().ec,w_=H2(),Vge=ov(),Zge=ZS(),Yge=1;function Jge(t,e,r,i,n){var o=Vge(e);if(o.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return Qge(t,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return Xge(t,o,r)}if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==Yge)throw new Error("illegal or unsupported padding mode");t=to.concat([n,t]);for(var s=o.modulus.byteLength(),d=[0,1];t.length+d.length+1<s;)d.push(255);d.push(0);for(var p=-1;++p<t.length;)d.push(t[p]);var v=Kge(d,o);return v}function Qge(t,e){var r=Zge[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new Hge(r),n=i.keyFromPrivate(e.privateKey),o=n.sign(t);return to.from(o.toDER())}function Xge(t,e,r){for(var i=e.params.priv_key,n=e.params.p,o=e.params.q,s=e.params.g,d=new w_(0),p,v=YS(t,o).mod(o),b=!1,x=SG(i,o,t,r);b===!1;)p=AG(o,x,r),d=rve(s,p,n,o),b=p.invm(o).imul(v.add(i.mul(d))).mod(o),b.cmpn(0)===0&&(b=!1,d=new w_(0));return eve(d,b)}function eve(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),to.from(i)}function SG(t,e,r,i){if(t=to.from(t.toArray()),t.length<e.byteLength()){var n=to.alloc(e.byteLength()-t.length);t=to.concat([n,t])}var o=r.length,s=tve(r,e),d=to.alloc(o);d.fill(1);var p=to.alloc(o);return p=ih(i,p).update(d).update(to.from([0])).update(t).update(s).digest(),d=ih(i,p).update(d).digest(),p=ih(i,p).update(d).update(to.from([1])).update(t).update(s).digest(),d=ih(i,p).update(d).digest(),{k:p,v:d}}function YS(t,e){var r=new w_(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function tve(t,e){t=YS(t,e),t=t.mod(e);var r=to.from(t.toArray());if(r.length<e.byteLength()){var i=to.alloc(e.byteLength()-r.length);r=to.concat([i,r])}return r}function AG(t,e,r){var i,n;do{for(i=to.alloc(0);i.length*8<t.bitLength();)e.v=ih(r,e.k).update(e.v).digest(),i=to.concat([i,e.v]);n=YS(i,t),e.k=ih(r,e.k).update(e.v).update(to.from([0])).digest(),e.v=ih(r,e.k).update(e.v).digest()}while(n.cmp(t)!==-1);return n}function rve(t,e,r,i){return t.toRed(w_.mont(r)).redPow(e).fromRed().mod(i)}__.exports=Jge;__.exports.getKey=SG;__.exports.makeKey=AG});var IG=V((bNe,kG)=>{"use strict";M();var JS=B2().Buffer,sv=H2(),ive=l_().ec,RG=ov(),nve=ZS();function ove(t,e,r,i,n){var o=RG(r);if(o.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return sve(t,e,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return ave(t,e,o)}if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=JS.concat([n,e]);for(var s=o.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<s;)d.push(255),p+=1;d.push(0);for(var v=-1;++v<e.length;)d.push(e[v]);d=JS.from(d);var b=sv.mont(o.modulus);t=new sv(t).toRed(b),t=t.redPow(new sv(o.publicExponent)),t=JS.from(t.fromRed().toArray());var x=p<8?1:0;for(s=Math.min(t.length,d.length),t.length!==d.length&&(x=1),v=-1;++v<s;)x|=t[v]^d[v];return x===0}function sve(t,e,r){var i=nve[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new ive(i),o=r.data.subjectPrivateKey.data;return n.verify(e,t,o)}function ave(t,e,r){var i=r.data.p,n=r.data.q,o=r.data.g,s=r.data.pub_key,d=RG.signature.decode(t,"der"),p=d.s,v=d.r;PG(p,n),PG(v,n);var b=sv.mont(i),x=p.invm(n),E=o.toRed(b).redPow(new sv(e).mul(x).mod(n)).fromRed().mul(s.toRed(b).redPow(v.mul(x).mod(n)).fromRed()).mod(i).mod(n);return E.cmp(v)===0}function PG(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}kG.exports=ove});var qG=V((_Ne,jG)=>{"use strict";M();var x_=B2().Buffer,CG=bp(),M_=fz(),OG=st(),fve=TG(),uve=IG(),nh=X5();Object.keys(nh).forEach(function(t){nh[t].id=x_.from(nh[t].id,"hex"),nh[t.toLowerCase()]=nh[t]});function av(t){M_.Writable.call(this);var e=nh[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=CG(e.hash),this._tag=e.id,this._signType=e.sign}OG(av,M_.Writable);av.prototype._write=function(e,r,i){this._hash.update(e),i()};av.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?x_.from(e,r):e),this};av.prototype.sign=function(e,r){this.end();var i=this._hash.digest(),n=fve(i,e,this._hashType,this._signType,this._tag);return r?n.toString(r):n};function fv(t){M_.Writable.call(this);var e=nh[t];if(!e)throw new Error("Unknown message digest");this._hash=CG(e.hash),this._tag=e.id,this._signType=e.sign}OG(fv,M_.Writable);fv.prototype._write=function(e,r,i){this._hash.update(e),i()};fv.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?x_.from(e,r):e),this};fv.prototype.verify=function(e,r,i){var n=typeof r=="string"?x_.from(r,i):r;this.end();var o=this._hash.digest();return uve(n,o,e,this._signType,this._tag)};function BG(t){return new av(t)}function DG(t){return new fv(t)}jG.exports={Sign:BG,Verify:DG,createSign:BG,createVerify:DG}});var LG=V((NG,QS)=>{M();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Jt().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var c=0;a[0]==="-"&&(c++,this.negative=1),c<a.length&&(u===16?this._parseHex(a,c,h):(this._parseBase(a,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,g,w=0;if(h==="be")for(c=a.length-1,l=0;c>=0;c-=3)g=a[c]|a[c-1]<<8|a[c-2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);else if(h==="le")for(c=0,l=0;c<a.length;c+=3)g=a[c]|a[c+1]<<8|a[c+2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);return this.strip()};function s(_,a){var u=_.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,a,u){var h=s(_,u);return u-1>=a&&(h|=s(_,u-1)<<4),h}n.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,g=0,w;if(h==="be")for(c=a.length-1;c>=u;c-=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8;else{var m=a.length-u;for(c=m%2===0?u+1:u;c<a.length;c+=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8}this.strip()};function p(_,a,u,h){for(var c=0,l=Math.min(_.length,u),g=a;g<l;g++){var w=_.charCodeAt(g)-48;c*=h,w>=49?c+=w-49+10:w>=17?c+=w-17+10:c+=w}return c}n.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var g=a.length-h,w=g%c,m=Math.min(g,g-w)+h,f=0,y=h;y<m;y+=c)f=p(a,y,y+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(w!==0){var R=1;for(f=p(a,y,a.length,u),y=0;y<w;y++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var c=0,l=0,g=0;g<this.length;g++){var w=this.words[g],m=((w<<c|l)&16777215).toString(16);l=w>>>24-c&16777215,l!==0||g!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,g--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],y=x[a];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var A=R.modn(y).toString(a);R=R.idivn(y),R.isZero()?h=A+h:h=v[f-A.length]+A+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},n.prototype.toArrayLike=function(a,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var g=u==="le",w=new a(l),m,f,y=this.clone();if(g){for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[f]=m;for(;f<l;f++)w[f]=0}else{for(f=0;f<l-c;f++)w[f]=0;for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[l-f-1]=m}return w},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var h=u/26|0,c=u%26;a[u]=(_.words[h]&1<<c)>>>c}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,c=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,c;this.length>a.length?(h=this,c=a):(h=a,c=this);for(var l=0,g=0;g<c.length;g++)u=(h.words[g]|0)+(c.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;for(;l!==0&&g<h.length;g++)u=(h.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=a):(c=a,l=this);for(var g=0,w=0;w<l.length;w++)u=(c.words[w]|0)-(l.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;for(;g!==0&&w<c.length;w++)u=(c.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;if(g===0&&w<c.length&&c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this.length=Math.max(this.length,w),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function T(_,a,u){u.negative=a.negative^_.negative;var h=_.length+a.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=a.words[0]|0,g=c*l,w=g&67108863,m=g/67108864|0;u.words[0]=w;for(var f=1;f<h;f++){for(var y=m>>>26,R=m&67108863,A=Math.min(f,a.length-1),D=Math.max(0,f-_.length+1);D<=A;D++){var z=f-D|0;c=_.words[z]|0,l=a.words[D]|0,g=c*l+R,y+=g/67108864|0,R=g&67108863}u.words[f]=R|0,m=y|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var S=function(a,u,h){var c=a.words,l=u.words,g=h.words,w=0,m,f,y,R=c[0]|0,A=R&8191,D=R>>>13,z=c[1]|0,W=z&8191,H=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Le=c[3]|0,Q=Le&8191,X=Le>>>13,Qe=c[4]|0,te=Qe&8191,re=Qe>>>13,Zt=c[5]|0,ie=Zt&8191,ne=Zt>>>13,_r=c[6]|0,se=_r&8191,oe=_r>>>13,ni=c[7]|0,fe=ni&8191,ae=ni>>>13,oi=c[8]|0,ue=oi&8191,ce=oi>>>13,si=c[9]|0,le=si&8191,de=si>>>13,hi=l[0]|0,he=hi&8191,pe=hi>>>13,Ci=l[1]|0,me=Ci&8191,ye=Ci>>>13,Oi=l[2]|0,ge=Oi&8191,ve=Oi>>>13,ji=l[3]|0,be=ji&8191,we=ji>>>13,qi=l[4]|0,_e=qi&8191,xe=qi>>>13,Ni=l[5]|0,Me=Ni&8191,Ee=Ni>>>13,Li=l[6]|0,Se=Li&8191,Ae=Li>>>13,Ui=l[7]|0,Te=Ui&8191,Pe=Ui>>>13,Fi=l[8]|0,Re=Fi&8191,ke=Fi>>>13,zi=l[9]|0,Ie=zi&8191,Be=zi>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(A,he),f=Math.imul(A,pe),f=f+Math.imul(D,he)|0,y=Math.imul(D,pe);var zr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(W,he),f=Math.imul(W,pe),f=f+Math.imul(H,he)|0,y=Math.imul(H,pe),m=m+Math.imul(A,me)|0,f=f+Math.imul(A,ye)|0,f=f+Math.imul(D,me)|0,y=y+Math.imul(D,ye)|0;var vt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,y=Math.imul(Y,pe),m=m+Math.imul(W,me)|0,f=f+Math.imul(W,ye)|0,f=f+Math.imul(H,me)|0,y=y+Math.imul(H,ye)|0,m=m+Math.imul(A,ge)|0,f=f+Math.imul(A,ve)|0,f=f+Math.imul(D,ge)|0,y=y+Math.imul(D,ve)|0;var bt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,y=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,y=y+Math.imul(Y,ye)|0,m=m+Math.imul(W,ge)|0,f=f+Math.imul(W,ve)|0,f=f+Math.imul(H,ge)|0,y=y+Math.imul(H,ve)|0,m=m+Math.imul(A,be)|0,f=f+Math.imul(A,we)|0,f=f+Math.imul(D,be)|0,y=y+Math.imul(D,we)|0;var xr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,y=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,y=y+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,y=y+Math.imul(Y,ve)|0,m=m+Math.imul(W,be)|0,f=f+Math.imul(W,we)|0,f=f+Math.imul(H,be)|0,y=y+Math.imul(H,we)|0,m=m+Math.imul(A,_e)|0,f=f+Math.imul(A,xe)|0,f=f+Math.imul(D,_e)|0,y=y+Math.imul(D,xe)|0;var Mr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,y=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,y=y+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,y=y+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,y=y+Math.imul(Y,we)|0,m=m+Math.imul(W,_e)|0,f=f+Math.imul(W,xe)|0,f=f+Math.imul(H,_e)|0,y=y+Math.imul(H,xe)|0,m=m+Math.imul(A,Me)|0,f=f+Math.imul(A,Ee)|0,f=f+Math.imul(D,Me)|0,y=y+Math.imul(D,Ee)|0;var Er=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,y=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,y=y+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,y=y+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,y=y+Math.imul(Y,xe)|0,m=m+Math.imul(W,Me)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(H,Me)|0,y=y+Math.imul(H,Ee)|0,m=m+Math.imul(A,Se)|0,f=f+Math.imul(A,Ae)|0,f=f+Math.imul(D,Se)|0,y=y+Math.imul(D,Ae)|0;var Sr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(fe,he),f=Math.imul(fe,pe),f=f+Math.imul(ae,he)|0,y=Math.imul(ae,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,y=y+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,y=y+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,y=y+Math.imul(Y,Ee)|0,m=m+Math.imul(W,Se)|0,f=f+Math.imul(W,Ae)|0,f=f+Math.imul(H,Se)|0,y=y+Math.imul(H,Ae)|0,m=m+Math.imul(A,Te)|0,f=f+Math.imul(A,Pe)|0,f=f+Math.imul(D,Te)|0,y=y+Math.imul(D,Pe)|0;var Ar=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,y=Math.imul(ce,pe),m=m+Math.imul(fe,me)|0,f=f+Math.imul(fe,ye)|0,f=f+Math.imul(ae,me)|0,y=y+Math.imul(ae,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,y=y+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,y=y+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,y=y+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,y=y+Math.imul(Y,Ae)|0,m=m+Math.imul(W,Te)|0,f=f+Math.imul(W,Pe)|0,f=f+Math.imul(H,Te)|0,y=y+Math.imul(H,Pe)|0,m=m+Math.imul(A,Re)|0,f=f+Math.imul(A,ke)|0,f=f+Math.imul(D,Re)|0,y=y+Math.imul(D,ke)|0;var Tr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,y=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,y=y+Math.imul(ce,ye)|0,m=m+Math.imul(fe,ge)|0,f=f+Math.imul(fe,ve)|0,f=f+Math.imul(ae,ge)|0,y=y+Math.imul(ae,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,y=y+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,y=y+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,y=y+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,y=y+Math.imul(Y,Pe)|0,m=m+Math.imul(W,Re)|0,f=f+Math.imul(W,ke)|0,f=f+Math.imul(H,Re)|0,y=y+Math.imul(H,ke)|0,m=m+Math.imul(A,Ie)|0,f=f+Math.imul(A,Be)|0,f=f+Math.imul(D,Ie)|0,y=y+Math.imul(D,Be)|0;var Pr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,y=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,y=y+Math.imul(ce,ve)|0,m=m+Math.imul(fe,be)|0,f=f+Math.imul(fe,we)|0,f=f+Math.imul(ae,be)|0,y=y+Math.imul(ae,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,y=y+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,y=y+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,y=y+Math.imul(Y,ke)|0,m=m+Math.imul(W,Ie)|0,f=f+Math.imul(W,Be)|0,f=f+Math.imul(H,Ie)|0,y=y+Math.imul(H,Be)|0;var Rr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,y=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(fe,_e)|0,f=f+Math.imul(fe,xe)|0,f=f+Math.imul(ae,_e)|0,y=y+Math.imul(ae,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,y=y+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,Be)|0,f=f+Math.imul(Y,Ie)|0,y=y+Math.imul(Y,Be)|0;var kr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,y=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(fe,Me)|0,f=f+Math.imul(fe,Ee)|0,f=f+Math.imul(ae,Me)|0,y=y+Math.imul(ae,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,y=y+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,Be)|0,f=f+Math.imul(X,Ie)|0,y=y+Math.imul(X,Be)|0;var Ir=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,y=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Ee)|0,m=m+Math.imul(fe,Se)|0,f=f+Math.imul(fe,Ae)|0,f=f+Math.imul(ae,Se)|0,y=y+Math.imul(ae,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,y=y+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,Be)|0,f=f+Math.imul(re,Ie)|0,y=y+Math.imul(re,Be)|0;var Br=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,y=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(fe,Te)|0,f=f+Math.imul(fe,Pe)|0,f=f+Math.imul(ae,Te)|0,y=y+Math.imul(ae,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,y=y+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,Be)|0,f=f+Math.imul(ne,Ie)|0,y=y+Math.imul(ne,Be)|0;var Dr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,y=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(fe,Re)|0,f=f+Math.imul(fe,ke)|0,f=f+Math.imul(ae,Re)|0,y=y+Math.imul(ae,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,Be)|0,f=f+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Be)|0;var Cr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,y=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(fe,Ie)|0,f=f+Math.imul(fe,Be)|0,f=f+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,Be)|0;var Or=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,y=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,Be)|0;var jr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,Be),f=f+Math.imul(de,Ie)|0,y=Math.imul(de,Be);var qr=(w+m|0)+((f&8191)<<13)|0;return w=(y+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,g[0]=zr,g[1]=vt,g[2]=bt,g[3]=xr,g[4]=Mr,g[5]=Er,g[6]=Sr,g[7]=Ar,g[8]=Tr,g[9]=Pr,g[10]=Rr,g[11]=kr,g[12]=Ir,g[13]=Br,g[14]=Dr,g[15]=Cr,g[16]=Or,g[17]=jr,g[18]=qr,w!==0&&(g[19]=w,h.length++),h};Math.imul||(S=T);function P(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var g=c;c=0;for(var w=h&67108863,m=Math.min(l,a.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var y=l-f,R=_.words[y]|0,A=a.words[f]|0,D=R*A,z=D&67108863;g=g+(D/67108864|0)|0,z=z+w|0,w=z&67108863,g=g+(z>>>26)|0,c+=g>>>26,g&=67108863}u.words[l]=w,h=g,g=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function B(_,a,u){var h=new I;return h.mulp(_,a,u)}n.prototype.mulTo=function(a,u){var h,c=this.length+a.length;return this.length===10&&a.length===10?h=S(this,a,u):c<63?h=T(this,a,u):c<1024?h=P(this,a,u):h=B(this,a,u),h};function I(_,a){this.x=_,this.y=a}I.prototype.makeRBT=function(a){for(var u=new Array(a),h=n.prototype._countBits(a)-1,c=0;c<a;c++)u[c]=this.revBin(c,h,a);return u},I.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var c=0,l=0;l<u;l++)c|=(a&1)<<u-l-1,a>>=1;return c},I.prototype.permute=function(a,u,h,c,l,g){for(var w=0;w<g;w++)c[w]=u[a[w]],l[w]=h[a[w]]},I.prototype.transform=function(a,u,h,c,l,g){this.permute(g,a,u,h,c,l);for(var w=1;w<l;w<<=1)for(var m=w<<1,f=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var A=f,D=y,z=0;z<w;z++){var W=h[R+z],H=c[R+z],J=h[R+z+w],Z=c[R+z+w],Y=A*J-D*Z;Z=A*Z+D*J,J=Y,h[R+z]=W+J,c[R+z]=H+Z,h[R+z+w]=W-J,c[R+z+w]=H-Z,z!==m&&(Y=f*A-y*D,D=f*D+y*A,A=Y)}},I.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=a[c];a[c]=a[h-c-1],a[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(a,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(a[2*c+1]/u)*8192+Math.round(a[2*c]/u)+h;a[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return a},I.prototype.convert13b=function(a,u,h,c){for(var l=0,g=0;g<u;g++)l=l+(a[g]|0),h[2*g]=l&8191,l=l>>>13,h[2*g+1]=l&8191,l=l>>>13;for(g=2*u;g<c;++g)h[g]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},I.prototype.mulp=function(a,u,h){var c=2*this.guessLen13b(a.length,u.length),l=this.makeRBT(c),g=this.stub(c),w=new Array(c),m=new Array(c),f=new Array(c),y=new Array(c),R=new Array(c),A=new Array(c),D=h.words;D.length=c,this.convert13b(a.words,a.length,w,c),this.convert13b(u.words,u.length,y,c),this.transform(w,g,m,f,c,l),this.transform(y,g,R,A,c,l);for(var z=0;z<c;z++){var W=m[z]*R[z]-f[z]*A[z];f[z]=m[z]*A[z]+f[z]*R[z],m[z]=W}return this.conjugate(m,f,c),this.transform(m,f,D,g,c,l),this.conjugate(D,g,c),this.normalize13b(D,c),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),B(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*a,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=E(a);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var g=0;for(l=0;l<this.length;l++){var w=this.words[l]&c,m=(this.words[l]|0)-w<<u;this.words[l]=m|g,g=w>>>26-u}g&&(this.words[l]=g,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var c;u?c=(u-u%26)/26:c=0;var l=a%26,g=Math.min((a-l)/26,this.length),w=67108863^67108863>>>l<<l,m=h;if(c-=g,c=Math.max(0,c),m){for(var f=0;f<g;f++)m.words[f]=this.words[f];m.length=g}if(g!==0)if(this.length>g)for(this.length-=g,f=0;f<this.length;f++)this.words[f]=this.words[f+g];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=y<<26-l|R>>>l,y=R&w}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,h){var c=a.length+h,l;this._expand(c);var g,w=0;for(l=0;l<a.length;l++){g=(this.words[l+h]|0)+w;var m=(a.words[l]|0)*u;g-=m&67108863,w=(g>>26)-(m/67108864|0),this.words[l+h]=g&67108863}for(;l<this.length-h;l++)g=(this.words[l+h]|0)+w,w=g>>26,this.words[l+h]=g&67108863;if(w===0)return this.strip();for(r(w===-1),w=0,l=0;l<this.length;l++)g=-(this.words[l]|0)+w,w=g>>26,this.words[l]=g&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,u){var h=this.length-a.length,c=this.clone(),l=a,g=l.words[l.length-1]|0,w=this._countBits(g);h=26-w,h!==0&&(l=l.ushln(h),c.iushln(h),g=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var A=m-1;A>=0;A--){var D=(c.words[l.length+A]|0)*67108864+(c.words[l.length+A-1]|0);for(D=Math.min(D/g|0,67108863),c._ishlnsubmul(l,D,A);c.negative!==0;)D--,c.negative=0,c._ishlnsubmul(l,1,A),c.isZero()||(c.negative^=1);f&&(f.words[A]=D)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,g;return this.negative!==0&&a.negative===0?(g=this.neg().divmod(a,u),u!=="mod"&&(c=g.div.neg()),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.iadd(a)),{div:c,mod:l}):this.negative===0&&a.negative!==0?(g=this.divmod(a.neg(),u),u!=="mod"&&(c=g.div.neg()),{div:c,mod:g.mod}):this.negative&a.negative?(g=this.neg().divmod(a.neg(),u),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.isub(a)),{div:g.div,mod:l}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,c=a.ushrn(1),l=a.andln(1),g=h.cmp(c);return g<0||l===1&&g===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%a;return h},n.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/a|0,u=c%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=new n(0),w=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),y=u.clone();!u.isZero();){for(var R=0,A=1;!(u.words[0]&A)&&R<26;++R,A<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(y)),c.iushrn(1),l.iushrn(1);for(var D=0,z=1;!(h.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(h.iushrn(D);D-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(y)),g.iushrn(1),w.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(g),l.isub(w)):(h.isub(u),g.isub(c),w.isub(l))}return{a:g,b:w,gcd:h.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var w=0,m=1;!(u.words[0]&m)&&w<26;++w,m<<=1);if(w>0)for(u.iushrn(w);w-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);for(var f=0,y=1;!(h.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(g),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(a),R},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var g=u;u=h,h=g}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,g=h;l!==0&&g<this.length;g++){var w=this.words[g]|0;w+=l,l=w>>>26,w&=67108863,this.words[g]=w}return l!==0&&(this.words[g]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var c=this.words[0]|0;h=c===a?0:c<a?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=a.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new N(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function O(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(a,u){for(var h=4194303,c=Math.min(a.length,9),l=0;l<c;l++)u.words[l]=a.words[l];if(u.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var g=a.words[9];for(u.words[u.length++]=g&h,l=10;l<a.length;l++){var w=a.words[l]|0;a.words[l-10]=(w&h)<<4|g>>>22,g=w}g>>>=22,a.words[l-10]=g,g===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var c=a.words[h]|0;u+=c*977,a.words[h]=u&67108863,u=c*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,O);function G(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,O),$.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var c=(a.words[h]|0)*19+u,l=c&67108863;c>>>=26,a.words[h]=l,u=c}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if(C[a])return C[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new q;else if(a==="p192")u=new G;else if(a==="p25519")u=new $;else throw new Error("Unknown prime "+a);return C[a]=u,u};function N(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}N.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},N.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},N.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},N.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},N.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},N.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},N.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},N.prototype.isqr=function(a){return this.imul(a,a.clone())},N.prototype.sqr=function(a){return this.mul(a,a)},N.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(a,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var g=new n(1).toRed(this),w=g.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(w)!==0;)f.redIAdd(w);for(var y=this.pow(f,c),R=this.pow(a,c.addn(1).iushrn(1)),A=this.pow(a,c),D=l;A.cmp(g)!==0;){for(var z=A,W=0;z.cmp(g)!==0;W++)z=z.redSqr();r(W<D);var H=this.pow(y,new n(1).iushln(D-W-1));R=R.redMul(H),y=H.redSqr(),A=A.redMul(y),D=W}return R},N.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=a;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],a);var g=c[0],w=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var y=u.words[l],R=f-1;R>=0;R--){var A=y>>R&1;if(g!==c[0]&&(g=this.sqr(g)),A===0&&w===0){m=0;continue}w<<=1,w|=A,m++,!(m!==h&&(l!==0||R!==0))&&(g=this.mul(g,c[w]),m=0,w=0)}f=26}return g},N.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},N.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new K(a)};function K(_){N.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,N),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},K.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var h=a.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof QS>"u"||QS,NG)});var FG=V((ENe,UG)=>{M();var cve=l_(),lve=LG();UG.exports=function(e){return new oh(e)};var us={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};us.p224=us.secp224r1;us.p256=us.secp256r1=us.prime256v1;us.p192=us.secp192r1=us.prime192v1;us.p384=us.secp384r1;us.p521=us.secp521r1;function oh(t){this.curveType=us[t],this.curveType||(this.curveType={name:t}),this.curve=new cve.ec(this.curveType.name),this.keys=void 0}oh.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};oh.prototype.computeSecret=function(t,e,r){e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e));var i=this.curve.keyFromPublic(t).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return XS(n,r,this.curveType.byteLength)};oh.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),XS(r,t)};oh.prototype.getPrivateKey=function(t){return XS(this.keys.getPrivate(),t)};oh.prototype.setPublicKey=function(t,e){return e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e)),this.keys._importPublic(t),this};oh.prototype.setPrivateKey=function(t,e){e=e||"utf8",L.Buffer.isBuffer(t)||(t=new L.Buffer(t,e));var r=new lve(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function XS(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new L.Buffer(t);if(r&&i.length<r){var n=new L.Buffer(r-i.length);n.fill(0),i=L.Buffer.concat([n,i])}return e?i.toString(e):i}});var tA=V((ANe,zG)=>{M();var dve=bp(),eA=Vt().Buffer;zG.exports=function(t,e){for(var r=eA.alloc(0),i=0,n;r.length<e;)n=hve(i++),r=eA.concat([r,dve("sha1").update(t).update(n).digest()]);return r.slice(0,e)};function hve(t){var e=eA.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var rA=V((PNe,$G)=>{M();$G.exports=function(e,r){for(var i=e.length,n=-1;++n<i;)e[n]^=r[n];return e}});var E_=V((GG,iA)=>{M();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Jt().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var c=0;a[0]==="-"&&(c++,this.negative=1),c<a.length&&(u===16?this._parseHex(a,c,h):(this._parseBase(a,u,c),h==="le"&&this._initArray(this.toArray(),u,h)))},n.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},n.prototype._initArray=function(a,u,h){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l,g,w=0;if(h==="be")for(c=a.length-1,l=0;c>=0;c-=3)g=a[c]|a[c-1]<<8|a[c-2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);else if(h==="le")for(c=0,l=0;c<a.length;c+=3)g=a[c]|a[c+1]<<8|a[c+2]<<16,this.words[l]|=g<<w&67108863,this.words[l+1]=g>>>26-w&67108863,w+=24,w>=26&&(w-=26,l++);return this.strip()};function s(_,a){var u=_.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function d(_,a,u){var h=s(_,u);return u-1>=a&&(h|=s(_,u-1)<<4),h}n.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var l=0,g=0,w;if(h==="be")for(c=a.length-1;c>=u;c-=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8;else{var m=a.length-u;for(c=m%2===0?u+1:u;c<a.length;c+=2)w=d(a,u,c)<<l,this.words[g]|=w&67108863,l>=18?(l-=18,g+=1,this.words[g]|=w>>>26):l+=8}this.strip()};function p(_,a,u,h){for(var c=0,l=Math.min(_.length,u),g=a;g<l;g++){var w=_.charCodeAt(g)-48;c*=h,w>=49?c+=w-49+10:w>=17?c+=w-17+10:c+=w}return c}n.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var c=0,l=1;l<=67108863;l*=u)c++;c--,l=l/u|0;for(var g=a.length-h,w=g%c,m=Math.min(g,g-w)+h,f=0,y=h;y<m;y+=c)f=p(a,y,y+c,u),this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(w!==0){var R=1;for(f=p(a,y,a.length,u),y=0;y<w;y++)R*=u;this.imuln(R),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var c=0,l=0,g=0;g<this.length;g++){var w=this.words[g],m=((w<<c|l)&16777215).toString(16);l=w>>>24-c&16777215,l!==0||g!==this.length-1?h=v[6-m.length]+m+h:h=m+h,c+=2,c>=26&&(c-=26,g--)}for(l!==0&&(h=l.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],y=x[a];h="";var R=this.clone();for(R.negative=0;!R.isZero();){var A=R.modn(y).toString(a);R=R.idivn(y),R.isZero()?h=A+h:h=v[f-A.length]+A+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},n.prototype.toArrayLike=function(a,u,h){var c=this.byteLength(),l=h||Math.max(1,c);r(c<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var g=u==="le",w=new a(l),m,f,y=this.clone();if(g){for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[f]=m;for(;f<l;f++)w[f]=0}else{for(f=0;f<l-c;f++)w[f]=0;for(f=0;!y.isZero();f++)m=y.andln(255),y.iushrn(8),w[l-f-1]=m}return w},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var h=u/26|0,c=u%26;a[u]=(_.words[h]&1<<c)>>>c}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var c=0;c<h.length;c++)this.words[c]=u.words[c]^h.words[c];if(this!==u)for(;c<u.length;c++)this.words[c]=u.words[c];return this.length=u.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var c=0;c<u;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var h=a/26|0,c=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,c;this.length>a.length?(h=this,c=a):(h=a,c=this);for(var l=0,g=0;g<c.length;g++)u=(h.words[g]|0)+(c.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;for(;l!==0&&g<h.length;g++)u=(h.words[g]|0)+l,this.words[g]=u&67108863,l=u>>>26;if(this.length=h.length,l!==0)this.words[this.length]=l,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,l;h>0?(c=this,l=a):(c=a,l=this);for(var g=0,w=0;w<l.length;w++)u=(c.words[w]|0)-(l.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;for(;g!==0&&w<c.length;w++)u=(c.words[w]|0)+g,g=u>>26,this.words[w]=u&67108863;if(g===0&&w<c.length&&c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this.length=Math.max(this.length,w),c!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function T(_,a,u){u.negative=a.negative^_.negative;var h=_.length+a.length|0;u.length=h,h=h-1|0;var c=_.words[0]|0,l=a.words[0]|0,g=c*l,w=g&67108863,m=g/67108864|0;u.words[0]=w;for(var f=1;f<h;f++){for(var y=m>>>26,R=m&67108863,A=Math.min(f,a.length-1),D=Math.max(0,f-_.length+1);D<=A;D++){var z=f-D|0;c=_.words[z]|0,l=a.words[D]|0,g=c*l+R,y+=g/67108864|0,R=g&67108863}u.words[f]=R|0,m=y|0}return m!==0?u.words[f]=m|0:u.length--,u.strip()}var S=function(a,u,h){var c=a.words,l=u.words,g=h.words,w=0,m,f,y,R=c[0]|0,A=R&8191,D=R>>>13,z=c[1]|0,W=z&8191,H=z>>>13,J=c[2]|0,Z=J&8191,Y=J>>>13,Le=c[3]|0,Q=Le&8191,X=Le>>>13,Qe=c[4]|0,te=Qe&8191,re=Qe>>>13,Zt=c[5]|0,ie=Zt&8191,ne=Zt>>>13,_r=c[6]|0,se=_r&8191,oe=_r>>>13,ni=c[7]|0,fe=ni&8191,ae=ni>>>13,oi=c[8]|0,ue=oi&8191,ce=oi>>>13,si=c[9]|0,le=si&8191,de=si>>>13,hi=l[0]|0,he=hi&8191,pe=hi>>>13,Ci=l[1]|0,me=Ci&8191,ye=Ci>>>13,Oi=l[2]|0,ge=Oi&8191,ve=Oi>>>13,ji=l[3]|0,be=ji&8191,we=ji>>>13,qi=l[4]|0,_e=qi&8191,xe=qi>>>13,Ni=l[5]|0,Me=Ni&8191,Ee=Ni>>>13,Li=l[6]|0,Se=Li&8191,Ae=Li>>>13,Ui=l[7]|0,Te=Ui&8191,Pe=Ui>>>13,Fi=l[8]|0,Re=Fi&8191,ke=Fi>>>13,zi=l[9]|0,Ie=zi&8191,Be=zi>>>13;h.negative=a.negative^u.negative,h.length=19,m=Math.imul(A,he),f=Math.imul(A,pe),f=f+Math.imul(D,he)|0,y=Math.imul(D,pe);var zr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(W,he),f=Math.imul(W,pe),f=f+Math.imul(H,he)|0,y=Math.imul(H,pe),m=m+Math.imul(A,me)|0,f=f+Math.imul(A,ye)|0,f=f+Math.imul(D,me)|0,y=y+Math.imul(D,ye)|0;var vt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(Z,he),f=Math.imul(Z,pe),f=f+Math.imul(Y,he)|0,y=Math.imul(Y,pe),m=m+Math.imul(W,me)|0,f=f+Math.imul(W,ye)|0,f=f+Math.imul(H,me)|0,y=y+Math.imul(H,ye)|0,m=m+Math.imul(A,ge)|0,f=f+Math.imul(A,ve)|0,f=f+Math.imul(D,ge)|0,y=y+Math.imul(D,ve)|0;var bt=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(Q,he),f=Math.imul(Q,pe),f=f+Math.imul(X,he)|0,y=Math.imul(X,pe),m=m+Math.imul(Z,me)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Y,me)|0,y=y+Math.imul(Y,ye)|0,m=m+Math.imul(W,ge)|0,f=f+Math.imul(W,ve)|0,f=f+Math.imul(H,ge)|0,y=y+Math.imul(H,ve)|0,m=m+Math.imul(A,be)|0,f=f+Math.imul(A,we)|0,f=f+Math.imul(D,be)|0,y=y+Math.imul(D,we)|0;var xr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(te,he),f=Math.imul(te,pe),f=f+Math.imul(re,he)|0,y=Math.imul(re,pe),m=m+Math.imul(Q,me)|0,f=f+Math.imul(Q,ye)|0,f=f+Math.imul(X,me)|0,y=y+Math.imul(X,ye)|0,m=m+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ve)|0,f=f+Math.imul(Y,ge)|0,y=y+Math.imul(Y,ve)|0,m=m+Math.imul(W,be)|0,f=f+Math.imul(W,we)|0,f=f+Math.imul(H,be)|0,y=y+Math.imul(H,we)|0,m=m+Math.imul(A,_e)|0,f=f+Math.imul(A,xe)|0,f=f+Math.imul(D,_e)|0,y=y+Math.imul(D,xe)|0;var Mr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ie,he),f=Math.imul(ie,pe),f=f+Math.imul(ne,he)|0,y=Math.imul(ne,pe),m=m+Math.imul(te,me)|0,f=f+Math.imul(te,ye)|0,f=f+Math.imul(re,me)|0,y=y+Math.imul(re,ye)|0,m=m+Math.imul(Q,ge)|0,f=f+Math.imul(Q,ve)|0,f=f+Math.imul(X,ge)|0,y=y+Math.imul(X,ve)|0,m=m+Math.imul(Z,be)|0,f=f+Math.imul(Z,we)|0,f=f+Math.imul(Y,be)|0,y=y+Math.imul(Y,we)|0,m=m+Math.imul(W,_e)|0,f=f+Math.imul(W,xe)|0,f=f+Math.imul(H,_e)|0,y=y+Math.imul(H,xe)|0,m=m+Math.imul(A,Me)|0,f=f+Math.imul(A,Ee)|0,f=f+Math.imul(D,Me)|0,y=y+Math.imul(D,Ee)|0;var Er=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(se,he),f=Math.imul(se,pe),f=f+Math.imul(oe,he)|0,y=Math.imul(oe,pe),m=m+Math.imul(ie,me)|0,f=f+Math.imul(ie,ye)|0,f=f+Math.imul(ne,me)|0,y=y+Math.imul(ne,ye)|0,m=m+Math.imul(te,ge)|0,f=f+Math.imul(te,ve)|0,f=f+Math.imul(re,ge)|0,y=y+Math.imul(re,ve)|0,m=m+Math.imul(Q,be)|0,f=f+Math.imul(Q,we)|0,f=f+Math.imul(X,be)|0,y=y+Math.imul(X,we)|0,m=m+Math.imul(Z,_e)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Y,_e)|0,y=y+Math.imul(Y,xe)|0,m=m+Math.imul(W,Me)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(H,Me)|0,y=y+Math.imul(H,Ee)|0,m=m+Math.imul(A,Se)|0,f=f+Math.imul(A,Ae)|0,f=f+Math.imul(D,Se)|0,y=y+Math.imul(D,Ae)|0;var Sr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(fe,he),f=Math.imul(fe,pe),f=f+Math.imul(ae,he)|0,y=Math.imul(ae,pe),m=m+Math.imul(se,me)|0,f=f+Math.imul(se,ye)|0,f=f+Math.imul(oe,me)|0,y=y+Math.imul(oe,ye)|0,m=m+Math.imul(ie,ge)|0,f=f+Math.imul(ie,ve)|0,f=f+Math.imul(ne,ge)|0,y=y+Math.imul(ne,ve)|0,m=m+Math.imul(te,be)|0,f=f+Math.imul(te,we)|0,f=f+Math.imul(re,be)|0,y=y+Math.imul(re,we)|0,m=m+Math.imul(Q,_e)|0,f=f+Math.imul(Q,xe)|0,f=f+Math.imul(X,_e)|0,y=y+Math.imul(X,xe)|0,m=m+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Ee)|0,f=f+Math.imul(Y,Me)|0,y=y+Math.imul(Y,Ee)|0,m=m+Math.imul(W,Se)|0,f=f+Math.imul(W,Ae)|0,f=f+Math.imul(H,Se)|0,y=y+Math.imul(H,Ae)|0,m=m+Math.imul(A,Te)|0,f=f+Math.imul(A,Pe)|0,f=f+Math.imul(D,Te)|0,y=y+Math.imul(D,Pe)|0;var Ar=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,m=Math.imul(ue,he),f=Math.imul(ue,pe),f=f+Math.imul(ce,he)|0,y=Math.imul(ce,pe),m=m+Math.imul(fe,me)|0,f=f+Math.imul(fe,ye)|0,f=f+Math.imul(ae,me)|0,y=y+Math.imul(ae,ye)|0,m=m+Math.imul(se,ge)|0,f=f+Math.imul(se,ve)|0,f=f+Math.imul(oe,ge)|0,y=y+Math.imul(oe,ve)|0,m=m+Math.imul(ie,be)|0,f=f+Math.imul(ie,we)|0,f=f+Math.imul(ne,be)|0,y=y+Math.imul(ne,we)|0,m=m+Math.imul(te,_e)|0,f=f+Math.imul(te,xe)|0,f=f+Math.imul(re,_e)|0,y=y+Math.imul(re,xe)|0,m=m+Math.imul(Q,Me)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(X,Me)|0,y=y+Math.imul(X,Ee)|0,m=m+Math.imul(Z,Se)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Y,Se)|0,y=y+Math.imul(Y,Ae)|0,m=m+Math.imul(W,Te)|0,f=f+Math.imul(W,Pe)|0,f=f+Math.imul(H,Te)|0,y=y+Math.imul(H,Pe)|0,m=m+Math.imul(A,Re)|0,f=f+Math.imul(A,ke)|0,f=f+Math.imul(D,Re)|0,y=y+Math.imul(D,ke)|0;var Tr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(le,he),f=Math.imul(le,pe),f=f+Math.imul(de,he)|0,y=Math.imul(de,pe),m=m+Math.imul(ue,me)|0,f=f+Math.imul(ue,ye)|0,f=f+Math.imul(ce,me)|0,y=y+Math.imul(ce,ye)|0,m=m+Math.imul(fe,ge)|0,f=f+Math.imul(fe,ve)|0,f=f+Math.imul(ae,ge)|0,y=y+Math.imul(ae,ve)|0,m=m+Math.imul(se,be)|0,f=f+Math.imul(se,we)|0,f=f+Math.imul(oe,be)|0,y=y+Math.imul(oe,we)|0,m=m+Math.imul(ie,_e)|0,f=f+Math.imul(ie,xe)|0,f=f+Math.imul(ne,_e)|0,y=y+Math.imul(ne,xe)|0,m=m+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,f=f+Math.imul(re,Me)|0,y=y+Math.imul(re,Ee)|0,m=m+Math.imul(Q,Se)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(X,Se)|0,y=y+Math.imul(X,Ae)|0,m=m+Math.imul(Z,Te)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(Y,Te)|0,y=y+Math.imul(Y,Pe)|0,m=m+Math.imul(W,Re)|0,f=f+Math.imul(W,ke)|0,f=f+Math.imul(H,Re)|0,y=y+Math.imul(H,ke)|0,m=m+Math.imul(A,Ie)|0,f=f+Math.imul(A,Be)|0,f=f+Math.imul(D,Ie)|0,y=y+Math.imul(D,Be)|0;var Pr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(le,me),f=Math.imul(le,ye),f=f+Math.imul(de,me)|0,y=Math.imul(de,ye),m=m+Math.imul(ue,ge)|0,f=f+Math.imul(ue,ve)|0,f=f+Math.imul(ce,ge)|0,y=y+Math.imul(ce,ve)|0,m=m+Math.imul(fe,be)|0,f=f+Math.imul(fe,we)|0,f=f+Math.imul(ae,be)|0,y=y+Math.imul(ae,we)|0,m=m+Math.imul(se,_e)|0,f=f+Math.imul(se,xe)|0,f=f+Math.imul(oe,_e)|0,y=y+Math.imul(oe,xe)|0,m=m+Math.imul(ie,Me)|0,f=f+Math.imul(ie,Ee)|0,f=f+Math.imul(ne,Me)|0,y=y+Math.imul(ne,Ee)|0,m=m+Math.imul(te,Se)|0,f=f+Math.imul(te,Ae)|0,f=f+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,m=m+Math.imul(Q,Te)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(X,Te)|0,y=y+Math.imul(X,Pe)|0,m=m+Math.imul(Z,Re)|0,f=f+Math.imul(Z,ke)|0,f=f+Math.imul(Y,Re)|0,y=y+Math.imul(Y,ke)|0,m=m+Math.imul(W,Ie)|0,f=f+Math.imul(W,Be)|0,f=f+Math.imul(H,Ie)|0,y=y+Math.imul(H,Be)|0;var Rr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(le,ge),f=Math.imul(le,ve),f=f+Math.imul(de,ge)|0,y=Math.imul(de,ve),m=m+Math.imul(ue,be)|0,f=f+Math.imul(ue,we)|0,f=f+Math.imul(ce,be)|0,y=y+Math.imul(ce,we)|0,m=m+Math.imul(fe,_e)|0,f=f+Math.imul(fe,xe)|0,f=f+Math.imul(ae,_e)|0,y=y+Math.imul(ae,xe)|0,m=m+Math.imul(se,Me)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Ee)|0,m=m+Math.imul(ie,Se)|0,f=f+Math.imul(ie,Ae)|0,f=f+Math.imul(ne,Se)|0,y=y+Math.imul(ne,Ae)|0,m=m+Math.imul(te,Te)|0,f=f+Math.imul(te,Pe)|0,f=f+Math.imul(re,Te)|0,y=y+Math.imul(re,Pe)|0,m=m+Math.imul(Q,Re)|0,f=f+Math.imul(Q,ke)|0,f=f+Math.imul(X,Re)|0,y=y+Math.imul(X,ke)|0,m=m+Math.imul(Z,Ie)|0,f=f+Math.imul(Z,Be)|0,f=f+Math.imul(Y,Ie)|0,y=y+Math.imul(Y,Be)|0;var kr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(le,be),f=Math.imul(le,we),f=f+Math.imul(de,be)|0,y=Math.imul(de,we),m=m+Math.imul(ue,_e)|0,f=f+Math.imul(ue,xe)|0,f=f+Math.imul(ce,_e)|0,y=y+Math.imul(ce,xe)|0,m=m+Math.imul(fe,Me)|0,f=f+Math.imul(fe,Ee)|0,f=f+Math.imul(ae,Me)|0,y=y+Math.imul(ae,Ee)|0,m=m+Math.imul(se,Se)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,m=m+Math.imul(ie,Te)|0,f=f+Math.imul(ie,Pe)|0,f=f+Math.imul(ne,Te)|0,y=y+Math.imul(ne,Pe)|0,m=m+Math.imul(te,Re)|0,f=f+Math.imul(te,ke)|0,f=f+Math.imul(re,Re)|0,y=y+Math.imul(re,ke)|0,m=m+Math.imul(Q,Ie)|0,f=f+Math.imul(Q,Be)|0,f=f+Math.imul(X,Ie)|0,y=y+Math.imul(X,Be)|0;var Ir=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(le,_e),f=Math.imul(le,xe),f=f+Math.imul(de,_e)|0,y=Math.imul(de,xe),m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Ee)|0,f=f+Math.imul(ce,Me)|0,y=y+Math.imul(ce,Ee)|0,m=m+Math.imul(fe,Se)|0,f=f+Math.imul(fe,Ae)|0,f=f+Math.imul(ae,Se)|0,y=y+Math.imul(ae,Ae)|0,m=m+Math.imul(se,Te)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Pe)|0,m=m+Math.imul(ie,Re)|0,f=f+Math.imul(ie,ke)|0,f=f+Math.imul(ne,Re)|0,y=y+Math.imul(ne,ke)|0,m=m+Math.imul(te,Ie)|0,f=f+Math.imul(te,Be)|0,f=f+Math.imul(re,Ie)|0,y=y+Math.imul(re,Be)|0;var Br=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(le,Me),f=Math.imul(le,Ee),f=f+Math.imul(de,Me)|0,y=Math.imul(de,Ee),m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,Ae)|0,f=f+Math.imul(ce,Se)|0,y=y+Math.imul(ce,Ae)|0,m=m+Math.imul(fe,Te)|0,f=f+Math.imul(fe,Pe)|0,f=f+Math.imul(ae,Te)|0,y=y+Math.imul(ae,Pe)|0,m=m+Math.imul(se,Re)|0,f=f+Math.imul(se,ke)|0,f=f+Math.imul(oe,Re)|0,y=y+Math.imul(oe,ke)|0,m=m+Math.imul(ie,Ie)|0,f=f+Math.imul(ie,Be)|0,f=f+Math.imul(ne,Ie)|0,y=y+Math.imul(ne,Be)|0;var Dr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,m=Math.imul(le,Se),f=Math.imul(le,Ae),f=f+Math.imul(de,Se)|0,y=Math.imul(de,Ae),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(ce,Te)|0,y=y+Math.imul(ce,Pe)|0,m=m+Math.imul(fe,Re)|0,f=f+Math.imul(fe,ke)|0,f=f+Math.imul(ae,Re)|0,y=y+Math.imul(ae,ke)|0,m=m+Math.imul(se,Ie)|0,f=f+Math.imul(se,Be)|0,f=f+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Be)|0;var Cr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(le,Te),f=Math.imul(le,Pe),f=f+Math.imul(de,Te)|0,y=Math.imul(de,Pe),m=m+Math.imul(ue,Re)|0,f=f+Math.imul(ue,ke)|0,f=f+Math.imul(ce,Re)|0,y=y+Math.imul(ce,ke)|0,m=m+Math.imul(fe,Ie)|0,f=f+Math.imul(fe,Be)|0,f=f+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,Be)|0;var Or=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(le,Re),f=Math.imul(le,ke),f=f+Math.imul(de,Re)|0,y=Math.imul(de,ke),m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,Be)|0;var jr=(w+m|0)+((f&8191)<<13)|0;w=(y+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,m=Math.imul(le,Ie),f=Math.imul(le,Be),f=f+Math.imul(de,Ie)|0,y=Math.imul(de,Be);var qr=(w+m|0)+((f&8191)<<13)|0;return w=(y+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,g[0]=zr,g[1]=vt,g[2]=bt,g[3]=xr,g[4]=Mr,g[5]=Er,g[6]=Sr,g[7]=Ar,g[8]=Tr,g[9]=Pr,g[10]=Rr,g[11]=kr,g[12]=Ir,g[13]=Br,g[14]=Dr,g[15]=Cr,g[16]=Or,g[17]=jr,g[18]=qr,w!==0&&(g[19]=w,h.length++),h};Math.imul||(S=T);function P(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var h=0,c=0,l=0;l<u.length-1;l++){var g=c;c=0;for(var w=h&67108863,m=Math.min(l,a.length-1),f=Math.max(0,l-_.length+1);f<=m;f++){var y=l-f,R=_.words[y]|0,A=a.words[f]|0,D=R*A,z=D&67108863;g=g+(D/67108864|0)|0,z=z+w|0,w=z&67108863,g=g+(z>>>26)|0,c+=g>>>26,g&=67108863}u.words[l]=w,h=g,g=c}return h!==0?u.words[l]=h:u.length--,u.strip()}function B(_,a,u){var h=new I;return h.mulp(_,a,u)}n.prototype.mulTo=function(a,u){var h,c=this.length+a.length;return this.length===10&&a.length===10?h=S(this,a,u):c<63?h=T(this,a,u):c<1024?h=P(this,a,u):h=B(this,a,u),h};function I(_,a){this.x=_,this.y=a}I.prototype.makeRBT=function(a){for(var u=new Array(a),h=n.prototype._countBits(a)-1,c=0;c<a;c++)u[c]=this.revBin(c,h,a);return u},I.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var c=0,l=0;l<u;l++)c|=(a&1)<<u-l-1,a>>=1;return c},I.prototype.permute=function(a,u,h,c,l,g){for(var w=0;w<g;w++)c[w]=u[a[w]],l[w]=h[a[w]]},I.prototype.transform=function(a,u,h,c,l,g){this.permute(g,a,u,h,c,l);for(var w=1;w<l;w<<=1)for(var m=w<<1,f=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),R=0;R<l;R+=m)for(var A=f,D=y,z=0;z<w;z++){var W=h[R+z],H=c[R+z],J=h[R+z+w],Z=c[R+z+w],Y=A*J-D*Z;Z=A*Z+D*J,J=Y,h[R+z]=W+J,c[R+z]=H+Z,h[R+z+w]=W-J,c[R+z+w]=H-Z,z!==m&&(Y=f*A-y*D,D=f*D+y*A,A=Y)}},I.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,c=h&1,l=0;for(h=h/2|0;h;h=h>>>1)l++;return 1<<l+1+c},I.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var c=0;c<h/2;c++){var l=a[c];a[c]=a[h-c-1],a[h-c-1]=l,l=u[c],u[c]=-u[h-c-1],u[h-c-1]=-l}},I.prototype.normalize13b=function(a,u){for(var h=0,c=0;c<u/2;c++){var l=Math.round(a[2*c+1]/u)*8192+Math.round(a[2*c]/u)+h;a[c]=l&67108863,l<67108864?h=0:h=l/67108864|0}return a},I.prototype.convert13b=function(a,u,h,c){for(var l=0,g=0;g<u;g++)l=l+(a[g]|0),h[2*g]=l&8191,l=l>>>13,h[2*g+1]=l&8191,l=l>>>13;for(g=2*u;g<c;++g)h[g]=0;r(l===0),r((l&-8192)===0)},I.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},I.prototype.mulp=function(a,u,h){var c=2*this.guessLen13b(a.length,u.length),l=this.makeRBT(c),g=this.stub(c),w=new Array(c),m=new Array(c),f=new Array(c),y=new Array(c),R=new Array(c),A=new Array(c),D=h.words;D.length=c,this.convert13b(a.words,a.length,w,c),this.convert13b(u.words,u.length,y,c),this.transform(w,g,m,f,c,l),this.transform(y,g,R,A,c,l);for(var z=0;z<c;z++){var W=m[z]*R[z]-f[z]*A[z];f[z]=m[z]*A[z]+f[z]*R[z],m[z]=W}return this.conjugate(m,f,c),this.transform(m,f,D,g,c,l),this.conjugate(D,g,c),this.normalize13b(D,c),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),B(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*a,l=(c&67108863)+(u&67108863);u>>=26,u+=c/67108864|0,u+=l>>>26,this.words[h]=l&67108863}return u!==0&&(this.words[h]=u,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=E(a);if(u.length===0)return new n(1);for(var h=this,c=0;c<u.length&&u[c]===0;c++,h=h.sqr());if(++c<u.length)for(var l=h.sqr();c<u.length;c++,l=l.sqr())u[c]!==0&&(h=h.mul(l));return h},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=67108863>>>26-u<<26-u,l;if(u!==0){var g=0;for(l=0;l<this.length;l++){var w=this.words[l]&c,m=(this.words[l]|0)-w<<u;this.words[l]=m|g,g=w>>>26-u}g&&(this.words[l]=g,this.length++)}if(h!==0){for(l=this.length-1;l>=0;l--)this.words[l+h]=this.words[l];for(l=0;l<h;l++)this.words[l]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,h){r(typeof a=="number"&&a>=0);var c;u?c=(u-u%26)/26:c=0;var l=a%26,g=Math.min((a-l)/26,this.length),w=67108863^67108863>>>l<<l,m=h;if(c-=g,c=Math.max(0,c),m){for(var f=0;f<g;f++)m.words[f]=this.words[f];m.length=g}if(g!==0)if(this.length>g)for(this.length-=g,f=0;f<this.length;f++)this.words[f]=this.words[f+g];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=c);f--){var R=this.words[f]|0;this.words[f]=y<<26-l|R>>>l,y=R&w}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,u,h){return r(this.negative===0),this.iushrn(a,u,h)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return!1;var l=this.words[h];return!!(l&c)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var c=67108863^67108863>>>u<<u;this.words[this.length-1]&=c}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,h){var c=a.length+h,l;this._expand(c);var g,w=0;for(l=0;l<a.length;l++){g=(this.words[l+h]|0)+w;var m=(a.words[l]|0)*u;g-=m&67108863,w=(g>>26)-(m/67108864|0),this.words[l+h]=g&67108863}for(;l<this.length-h;l++)g=(this.words[l+h]|0)+w,w=g>>26,this.words[l+h]=g&67108863;if(w===0)return this.strip();for(r(w===-1),w=0,l=0;l<this.length;l++)g=-(this.words[l]|0)+w,w=g>>26,this.words[l]=g&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,u){var h=this.length-a.length,c=this.clone(),l=a,g=l.words[l.length-1]|0,w=this._countBits(g);h=26-w,h!==0&&(l=l.ushln(h),c.iushln(h),g=l.words[l.length-1]|0);var m=c.length-l.length,f;if(u!=="mod"){f=new n(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var R=c.clone()._ishlnsubmul(l,1,m);R.negative===0&&(c=R,f&&(f.words[m]=1));for(var A=m-1;A>=0;A--){var D=(c.words[l.length+A]|0)*67108864+(c.words[l.length+A-1]|0);for(D=Math.min(D/g|0,67108863),c._ishlnsubmul(l,D,A);c.negative!==0;)D--,c.negative=0,c._ishlnsubmul(l,1,A),c.isZero()||(c.negative^=1);f&&(f.words[A]=D)}return f&&f.strip(),c.strip(),u!=="div"&&h!==0&&c.iushrn(h),{div:f||null,mod:c}},n.prototype.divmod=function(a,u,h){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var c,l,g;return this.negative!==0&&a.negative===0?(g=this.neg().divmod(a,u),u!=="mod"&&(c=g.div.neg()),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.iadd(a)),{div:c,mod:l}):this.negative===0&&a.negative!==0?(g=this.divmod(a.neg(),u),u!=="mod"&&(c=g.div.neg()),{div:c,mod:g.mod}):this.negative&a.negative?(g=this.neg().divmod(a.neg(),u),u!=="div"&&(l=g.mod.neg(),h&&l.negative!==0&&l.isub(a)),{div:g.div,mod:l}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,c=a.ushrn(1),l=a.andln(1),g=h.cmp(c);return g<0||l===1&&g===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,h=0,c=this.length-1;c>=0;c--)h=(u*h+(this.words[c]|0))%a;return h},n.prototype.idivn=function(a){r(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+u*67108864;this.words[h]=c/a|0,u=c%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=new n(0),w=new n(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var f=h.clone(),y=u.clone();!u.isZero();){for(var R=0,A=1;!(u.words[0]&A)&&R<26;++R,A<<=1);if(R>0)for(u.iushrn(R);R-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(f),l.isub(y)),c.iushrn(1),l.iushrn(1);for(var D=0,z=1;!(h.words[0]&z)&&D<26;++D,z<<=1);if(D>0)for(h.iushrn(D);D-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(y)),g.iushrn(1),w.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(g),l.isub(w)):(h.isub(u),g.isub(c),w.isub(l))}return{a:g,b:w,gcd:h.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var c=new n(1),l=new n(0),g=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var w=0,m=1;!(u.words[0]&m)&&w<26;++w,m<<=1);if(w>0)for(u.iushrn(w);w-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);for(var f=0,y=1;!(h.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(h.iushrn(f);f-- >0;)l.isOdd()&&l.iadd(g),l.iushrn(1);u.cmp(h)>=0?(u.isub(h),c.isub(l)):(h.isub(u),l.isub(c))}var R;return u.cmpn(1)===0?R=c:R=l,R.cmpn(0)<0&&R.iadd(a),R},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var c=0;u.isEven()&&h.isEven();c++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var l=u.cmp(h);if(l<0){var g=u;u=h,h=g}else if(l===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(c)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,h=(a-u)/26,c=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var l=c,g=h;l!==0&&g<this.length;g++){var w=this.words[g]|0;w+=l,l=w>>>26,w&=67108863,this.words[g]=w}return l!==0&&(this.words[g]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var c=this.words[0]|0;h=c===a?0:c<a?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,l=a.words[h]|0;if(c!==l){c<l?u=-1:c>l&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new N(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function O(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},O.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var c=h<this.n?-1:u.ucmp(this.p);return c===0?(u.words[0]=0,u.length=1):c>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},O.prototype.split=function(a,u){a.iushrn(this.n,0,u)},O.prototype.imulK=function(a){return a.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(a,u){for(var h=4194303,c=Math.min(a.length,9),l=0;l<c;l++)u.words[l]=a.words[l];if(u.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var g=a.words[9];for(u.words[u.length++]=g&h,l=10;l<a.length;l++){var w=a.words[l]|0;a.words[l-10]=(w&h)<<4|g>>>22,g=w}g>>>=22,a.words[l-10]=g,g===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var c=a.words[h]|0;u+=c*977,a.words[h]=u&67108863,u=c*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,O);function G(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,O),$.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var c=(a.words[h]|0)*19+u,l=c&67108863;c>>>=26,a.words[h]=l,u=c}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if(C[a])return C[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new q;else if(a==="p192")u=new G;else if(a==="p25519")u=new $;else throw new Error("Unknown prime "+a);return C[a]=u,u};function N(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}N.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},N.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},N.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},N.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},N.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},N.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},N.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},N.prototype.isqr=function(a){return this.imul(a,a.clone())},N.prototype.sqr=function(a){return this.mul(a,a)},N.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(a,h)}for(var c=this.m.subn(1),l=0;!c.isZero()&&c.andln(1)===0;)l++,c.iushrn(1);r(!c.isZero());var g=new n(1).toRed(this),w=g.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,m).cmp(w)!==0;)f.redIAdd(w);for(var y=this.pow(f,c),R=this.pow(a,c.addn(1).iushrn(1)),A=this.pow(a,c),D=l;A.cmp(g)!==0;){for(var z=A,W=0;z.cmp(g)!==0;W++)z=z.redSqr();r(W<D);var H=this.pow(y,new n(1).iushln(D-W-1));R=R.redMul(H),y=H.redSqr(),A=A.redMul(y),D=W}return R},N.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},N.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,c=new Array(1<<h);c[0]=new n(1).toRed(this),c[1]=a;for(var l=2;l<c.length;l++)c[l]=this.mul(c[l-1],a);var g=c[0],w=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),l=u.length-1;l>=0;l--){for(var y=u.words[l],R=f-1;R>=0;R--){var A=y>>R&1;if(g!==c[0]&&(g=this.sqr(g)),A===0&&w===0){m=0;continue}w<<=1,w|=A,m++,!(m!==h&&(l!==0||R!==0))&&(g=this.mul(g,c[w]),m=0,w=0)}f=26}return g},N.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},N.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new K(a)};function K(_){N.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,N),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},K.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var h=a.mul(u),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=h.isub(c).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},K.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof iA>"u"||iA,GG)});var nA=V((INe,KG)=>{M();var WG=E_(),pve=Vt().Buffer;function mve(t,e){return pve.from(t.toRed(WG.mont(e.modulus)).redPow(new WG(e.publicExponent)).fromRed().toArray())}KG.exports=mve});var YG=V((DNe,ZG)=>{M();var yve=ov(),oA=pd(),gve=bp(),HG=tA(),VG=rA(),sA=E_(),vve=nA(),bve=V2(),Aa=Vt().Buffer;ZG.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=yve(e),s;if(n===4)s=wve(o,r);else if(n===1)s=_ve(o,r,i);else if(n===3){if(s=new sA(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?bve(s,o):vve(s,o)};function wve(t,e){var r=t.modulus.byteLength(),i=e.length,n=gve("sha1").update(Aa.alloc(0)).digest(),o=n.length,s=2*o;if(i>r-s-2)throw new Error("message too long");var d=Aa.alloc(r-i-s-2),p=r-o-1,v=oA(o),b=VG(Aa.concat([n,d,Aa.alloc(1,1),e],p),HG(v,p)),x=VG(v,HG(b,o));return new sA(Aa.concat([Aa.alloc(1),x,b],r))}function _ve(t,e,r){var i=e.length,n=t.modulus.byteLength();if(i>n-11)throw new Error("message too long");var o;return r?o=Aa.alloc(n-i-3,255):o=xve(n-i-3),new sA(Aa.concat([Aa.from([0,r?1:2]),o,Aa.alloc(1),e],n))}function xve(t){for(var e=Aa.allocUnsafe(t),r=0,i=oA(t*2),n=0,o;r<t;)n===i.length&&(i=oA(t*2),n=0),o=i[n++],o&&(e[r++]=o);return e}});var tW=V((ONe,eW)=>{M();var Mve=ov(),JG=tA(),QG=rA(),XG=E_(),Eve=V2(),Sve=bp(),Ave=nA(),uv=Vt().Buffer;eW.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=Mve(e),s=o.modulus.byteLength();if(r.length>s||new XG(r).cmp(o.modulus)>=0)throw new Error("decryption error");var d;i?d=Ave(new XG(r),o):d=Eve(r,o);var p=uv.alloc(s-d.length);if(d=uv.concat([p,d],s),n===4)return Tve(o,d);if(n===1)return Pve(o,d,i);if(n===3)return d;throw new Error("unknown padding")};function Tve(t,e){var r=t.modulus.byteLength(),i=Sve("sha1").update(uv.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,n+1),s=e.slice(n+1),d=QG(o,JG(s,n)),p=QG(s,JG(d,r-n-1));if(Rve(i,p.slice(0,n)))throw new Error("decryption error");for(var v=n;p[v]===0;)v++;if(p[v++]!==1)throw new Error("decryption error");return p.slice(v)}function Pve(t,e,r){for(var i=e.slice(0,2),n=2,o=0;e[n++]!==0;)if(n>=e.length){o++;break}var s=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!r||i.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(n)}function Rve(t,e){t=uv.from(t),e=uv.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}});var rW=V(sh=>{M();sh.publicEncrypt=YG();sh.privateDecrypt=tW();sh.privateEncrypt=function(e,r){return sh.publicEncrypt(e,r,!0)};sh.publicDecrypt=function(e,r){return sh.privateDecrypt(e,r,!0)}});var dW=V(cv=>{"use strict";M();function iW(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var oW=Vt(),nW=pd(),sW=oW.Buffer,aW=oW.kMaxLength,aA=globalThis.crypto||globalThis.msCrypto,fW=Math.pow(2,32)-1;function uW(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>fW||t<0)throw new TypeError("offset must be a uint32");if(t>aW||t>e)throw new RangeError("offset out of range")}function cW(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>fW||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>aW)throw new RangeError("buffer too small")}aA&&aA.getRandomValues||!j.default.browser?(cv.randomFill=kve,cv.randomFillSync=Ive):(cv.randomFill=iW,cv.randomFillSync=iW);function kve(t,e,r,i){if(!sW.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,r=t.length;else if(typeof r=="function")i=r,r=t.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return uW(e,t.length),cW(r,e,t.length),lW(t,e,r,i)}function lW(t,e,r,i){if(j.default.browser){var n=t.buffer,o=new Uint8Array(n,e,r);if(aA.getRandomValues(o),i){j.default.nextTick(function(){i(null,t)});return}return t}if(i){nW(r,function(d,p){if(d)return i(d);p.copy(t,e),i(null,t)});return}var s=nW(r);return s.copy(t,e),t}function Ive(t,e,r){if(typeof e>"u"&&(e=0),!sW.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return uW(e,t.length),r===void 0&&(r=t.length-e),cW(r,e,t.length),lW(t,e,r)}});var P2=V(At=>{"use strict";M();At.randomBytes=At.rng=At.pseudoRandomBytes=At.prng=pd();At.createHash=At.Hash=bp();At.createHmac=At.Hmac=Q5();var Bve=TL(),Dve=Object.keys(Bve),Cve=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Dve);At.getHashes=function(){return Cve};var hW=fE();At.pbkdf2=hW.pbkdf2;At.pbkdf2Sync=hW.pbkdf2Sync;var kf=ZU();At.Cipher=kf.Cipher;At.createCipher=kf.createCipher;At.Cipheriv=kf.Cipheriv;At.createCipheriv=kf.createCipheriv;At.Decipher=kf.Decipher;At.createDecipher=kf.createDecipher;At.Decipheriv=kf.Decipheriv;At.createDecipheriv=kf.createDecipheriv;At.getCiphers=kf.getCiphers;At.listCiphers=kf.listCiphers;var lv=cF();At.DiffieHellmanGroup=lv.DiffieHellmanGroup;At.createDiffieHellmanGroup=lv.createDiffieHellmanGroup;At.getDiffieHellman=lv.getDiffieHellman;At.createDiffieHellman=lv.createDiffieHellman;At.DiffieHellman=lv.DiffieHellman;var S_=qG();At.createSign=S_.createSign;At.Sign=S_.Sign;At.createVerify=S_.createVerify;At.Verify=S_.Verify;At.createECDH=FG();var A_=rW();At.publicEncrypt=A_.publicEncrypt;At.privateEncrypt=A_.privateEncrypt;At.publicDecrypt=A_.publicDecrypt;At.privateDecrypt=A_.privateDecrypt;var pW=dW();At.randomFill=pW.randomFill;At.randomFillSync=pW.randomFillSync;At.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};At.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Ta=V(Tt=>{"use strict";M();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.setBigUint64=Tt.Hash=Tt.equalBytes=Tt.ensureBytes=Tt.checkOpts=Tt.concatBytes=Tt.toBytes=Tt.bytesToUtf8=Tt.utf8ToBytes=Tt.asyncLoop=Tt.nextTick=Tt.hexToBytes=Tt.bytesToHex=Tt.isLE=Tt.createView=Tt.u32=Tt.u16=Tt.u8=void 0;var uA=t=>t instanceof Uint8Array,Ove=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Tt.u8=Ove;var jve=t=>new Uint16Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/2));Tt.u16=jve;var qve=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Tt.u32=qve;var Nve=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Tt.createView=Nve;Tt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Tt.isLE)throw new Error("Non little-endian hardware is not supported");var Lve=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Uve(t){if(!uA(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Lve[t[r]];return e}Tt.bytesToHex=Uve;function Fve(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}Tt.hexToBytes=Fve;var zve=async()=>{};Tt.nextTick=zve;async function $ve(t,e,r){let i=Date.now();for(let n=0;n<t;n++){r(n);let o=Date.now()-i;o>=0&&o<e||(await(0,Tt.nextTick)(),i+=o)}}Tt.asyncLoop=$ve;function mW(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Tt.utf8ToBytes=mW;function Gve(t){return new TextDecoder().decode(t)}Tt.bytesToUtf8=Gve;function Wve(t){if(typeof t=="string"&&(t=mW(t)),!uA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Tt.toBytes=Wve;function Kve(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!uA(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}Tt.concatBytes=Kve;var Hve=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Vve(t,e){if(e!==void 0&&(typeof e!="object"||!Hve(e)))throw new Error("options must be object or undefined");return Object.assign(t,e)}Tt.checkOpts=Vve;function Zve(t,e){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}Tt.ensureBytes=Zve;function Yve(t,e){if(t.length!==e.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let i=0;i<t.length;i++)r&&(r=t[i]===e[i]);return r}Tt.equalBytes=Yve;var fA=class{};Tt.Hash=fA;function Jve(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),d=Number(r&o),p=i?4:0,v=i?0:4;t.setUint32(e+p,s,i),t.setUint32(e+v,d,i)}Tt.setBigUint64=Jve});var dv=V(ro=>{"use strict";M();Object.defineProperty(ro,"__esModule",{value:!0});ro.AEAD_TAG_LENGTH=ro.XCHACHA20_NONCE_LENGTH=ro.CURVE25519_PUBLIC_KEY_SIZE=ro.ETH_PUBLIC_KEY_SIZE=ro.UNCOMPRESSED_PUBLIC_KEY_SIZE=ro.COMPRESSED_PUBLIC_KEY_SIZE=ro.SECRET_KEY_LENGTH=void 0;ro.SECRET_KEY_LENGTH=32;ro.COMPRESSED_PUBLIC_KEY_SIZE=33;ro.UNCOMPRESSED_PUBLIC_KEY_SIZE=65;ro.ETH_PUBLIC_KEY_SIZE=64;ro.CURVE25519_PUBLIC_KEY_SIZE=32;ro.XCHACHA20_NONCE_LENGTH=24;ro.AEAD_TAG_LENGTH=16});var ah=V(ri=>{"use strict";M();Object.defineProperty(ri,"__esModule",{value:!0});ri.ephemeralKeySize=ri.symmetricNonceLength=ri.symmetricAlgorithm=ri.isHkdfKeyCompressed=ri.isEphemeralKeyCompressed=ri.ellipticCurve=ri.ECIES_CONFIG=void 0;var T_=dv(),Qve=function(){function t(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}return t}();ri.ECIES_CONFIG=new Qve;var Xve=function(){return ri.ECIES_CONFIG.ellipticCurve};ri.ellipticCurve=Xve;var e1e=function(){return ri.ECIES_CONFIG.isEphemeralKeyCompressed};ri.isEphemeralKeyCompressed=e1e;var t1e=function(){return ri.ECIES_CONFIG.isHkdfKeyCompressed};ri.isHkdfKeyCompressed=t1e;var r1e=function(){return ri.ECIES_CONFIG.symmetricAlgorithm};ri.symmetricAlgorithm=r1e;var i1e=function(){return ri.ECIES_CONFIG.symmetricNonceLength};ri.symmetricNonceLength=i1e;var n1e=function(){var t={secp256k1:ri.ECIES_CONFIG.isEphemeralKeyCompressed?T_.COMPRESSED_PUBLIC_KEY_SIZE:T_.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:T_.CURVE25519_PUBLIC_KEY_SIZE,ed25519:T_.CURVE25519_PUBLIC_KEY_SIZE};if(ri.ECIES_CONFIG.ellipticCurve in t)return t[ri.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")};ri.ephemeralKeySize=n1e});var yW=V(P_=>{"use strict";M();Object.defineProperty(P_,"__esModule",{value:!0});P_.crypto=void 0;P_.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var cA=V(Yp=>{"use strict";M();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.getWebcryptoSubtle=Yp.randomBytes=void 0;var fh=yW();function o1e(t=32){if(fh.crypto&&typeof fh.crypto.getRandomValues=="function")return fh.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}Yp.randomBytes=o1e;function s1e(){if(fh.crypto&&typeof fh.crypto.subtle=="object"&&fh.crypto.subtle!=null)return fh.crypto.subtle;throw new Error("crypto.subtle must be defined")}Yp.getWebcryptoSubtle=s1e});var k_=V(bo=>{"use strict";M();Object.defineProperty(bo,"__esModule",{value:!0});bo.output=bo.exists=bo.hash=bo.bytes=bo.bool=bo.number=void 0;function R_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}bo.number=R_;function gW(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}bo.bool=gW;function lA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}bo.bytes=lA;function vW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");R_(t.outputLen),R_(t.blockLen)}bo.hash=vW;function bW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}bo.exists=bW;function wW(t,e){lA(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}bo.output=wW;var a1e={number:R_,bool:gW,bytes:lA,hash:vW,exists:bW,output:wW};bo.default=a1e});var _W=V(I_=>{"use strict";M();Object.defineProperty(I_,"__esModule",{value:!0});I_.crypto=void 0;I_.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var ju=V(Pt=>{"use strict";M();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.randomBytes=Pt.wrapXOFConstructorWithOpts=Pt.wrapConstructorWithOpts=Pt.wrapConstructor=Pt.checkOpts=Pt.Hash=Pt.concatBytes=Pt.toBytes=Pt.utf8ToBytes=Pt.asyncLoop=Pt.nextTick=Pt.hexToBytes=Pt.bytesToHex=Pt.isLE=Pt.rotr=Pt.createView=Pt.u32=Pt.u8=void 0;var dA=_W(),pA=t=>t instanceof Uint8Array,f1e=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Pt.u8=f1e;var u1e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Pt.u32=u1e;var c1e=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Pt.createView=c1e;var l1e=(t,e)=>t<<32-e|t>>>e;Pt.rotr=l1e;Pt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pt.isLE)throw new Error("Non little-endian hardware is not supported");var d1e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function h1e(t){if(!pA(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=d1e[t[r]];return e}Pt.bytesToHex=h1e;function p1e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}Pt.hexToBytes=p1e;var m1e=async()=>{};Pt.nextTick=m1e;async function y1e(t,e,r){let i=Date.now();for(let n=0;n<t;n++){r(n);let o=Date.now()-i;o>=0&&o<e||(await(0,Pt.nextTick)(),i+=o)}}Pt.asyncLoop=y1e;function xW(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Pt.utf8ToBytes=xW;function B_(t){if(typeof t=="string"&&(t=xW(t)),!pA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Pt.toBytes=B_;function g1e(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!pA(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}Pt.concatBytes=g1e;var hA=class{clone(){return this._cloneInto()}};Pt.Hash=hA;var v1e={}.toString;function b1e(t,e){if(e!==void 0&&v1e.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}Pt.checkOpts=b1e;function w1e(t){let e=i=>t().update(B_(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Pt.wrapConstructor=w1e;function _1e(t){let e=(i,n)=>t(n).update(B_(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}Pt.wrapConstructorWithOpts=_1e;function x1e(t){let e=(i,n)=>t(n).update(B_(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}Pt.wrapXOFConstructorWithOpts=x1e;function M1e(t=32){if(dA.crypto&&typeof dA.crypto.getRandomValues=="function")return dA.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}Pt.randomBytes=M1e});var gA=V(D_=>{"use strict";M();Object.defineProperty(D_,"__esModule",{value:!0});D_.SHA2=void 0;var mA=k_(),hv=ju();function E1e(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),d=Number(r&o),p=i?4:0,v=i?0:4;t.setUint32(e+p,s,i),t.setUint32(e+v,d,i)}var yA=class extends hv.Hash{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,hv.createView)(this.buffer)}update(e){(0,mA.exists)(this);let{view:r,buffer:i,blockLen:n}=this;e=(0,hv.toBytes)(e);let o=e.length;for(let s=0;s<o;){let d=Math.min(n-this.pos,o-s);if(d===n){let p=(0,hv.createView)(e);for(;n<=o-s;s+=n)this.process(p,s);continue}i.set(e.subarray(s,s+d),this.pos),this.pos+=d,s+=d,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,mA.exists)(this),(0,mA.output)(e,this),this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(i,0),s=0);for(let x=s;x<n;x++)r[x]=0;E1e(i,n-8,BigInt(this.length*8),o),this.process(i,0);let d=(0,hv.createView)(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let v=p/4,b=this.get();if(v>b.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<v;x++)d.setUint32(4*x,b[x],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:i,length:n,finished:o,destroyed:s,pos:d}=this;return e.length=n,e.pos=d,e.finished=o,e.destroyed=s,n%r&&e.buffer.set(i),e}};D_.SHA2=yA});var GW=V(mt=>{"use strict";M();Object.defineProperty(mt,"__esModule",{value:!0});mt.add5L=mt.add5H=mt.add4H=mt.add4L=mt.add3H=mt.add3L=mt.add=mt.rotlBL=mt.rotlBH=mt.rotlSL=mt.rotlSH=mt.rotr32L=mt.rotr32H=mt.rotrBL=mt.rotrBH=mt.rotrSL=mt.rotrSH=mt.shrSL=mt.shrSH=mt.toBig=mt.split=mt.fromBig=void 0;var C_=BigInt(2**32-1),vA=BigInt(32);function bA(t,e=!1){return e?{h:Number(t&C_),l:Number(t>>vA&C_)}:{h:Number(t>>vA&C_)|0,l:Number(t&C_)|0}}mt.fromBig=bA;function MW(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){let{h:o,l:s}=bA(t[n],e);[r[n],i[n]]=[o,s]}return[r,i]}mt.split=MW;var EW=(t,e)=>BigInt(t>>>0)<<vA|BigInt(e>>>0);mt.toBig=EW;var SW=(t,e,r)=>t>>>r;mt.shrSH=SW;var AW=(t,e,r)=>t<<32-r|e>>>r;mt.shrSL=AW;var TW=(t,e,r)=>t>>>r|e<<32-r;mt.rotrSH=TW;var PW=(t,e,r)=>t<<32-r|e>>>r;mt.rotrSL=PW;var RW=(t,e,r)=>t<<64-r|e>>>r-32;mt.rotrBH=RW;var kW=(t,e,r)=>t>>>r-32|e<<64-r;mt.rotrBL=kW;var IW=(t,e)=>e;mt.rotr32H=IW;var BW=(t,e)=>t;mt.rotr32L=BW;var DW=(t,e,r)=>t<<r|e>>>32-r;mt.rotlSH=DW;var CW=(t,e,r)=>e<<r|t>>>32-r;mt.rotlSL=CW;var OW=(t,e,r)=>e<<r-32|t>>>64-r;mt.rotlBH=OW;var jW=(t,e,r)=>t<<r-32|e>>>64-r;mt.rotlBL=jW;function qW(t,e,r,i){let n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:n|0}}mt.add=qW;var NW=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);mt.add3L=NW;var LW=(t,e,r,i)=>e+r+i+(t/2**32|0)|0;mt.add3H=LW;var UW=(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0);mt.add4L=UW;var FW=(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0;mt.add4H=FW;var zW=(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0);mt.add5L=zW;var $W=(t,e,r,i,n,o)=>e+r+i+n+o+(t/2**32|0)|0;mt.add5H=$W;var S1e={fromBig:bA,split:MW,toBig:EW,shrSH:SW,shrSL:AW,rotrSH:TW,rotrSL:PW,rotrBH:RW,rotrBL:kW,rotr32H:IW,rotr32L:BW,rotlSH:DW,rotlSL:CW,rotlBH:OW,rotlBL:jW,add:qW,add3L:NW,add3H:LW,add4L:UW,add4H:FW,add5H:$W,add5L:zW};mt.default=S1e});var WW=V(Vs=>{"use strict";M();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.sha384=Vs.sha512_256=Vs.sha512_224=Vs.sha512=Vs.SHA512=void 0;var A1e=gA(),Rt=GW(),O_=ju(),[T1e,P1e]=(()=>Rt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),Vc=new Uint32Array(80),Zc=new Uint32Array(80),uh=class extends A1e.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:i,Bl:n,Ch:o,Cl:s,Dh:d,Dl:p,Eh:v,El:b,Fh:x,Fl:E,Gh:T,Gl:S,Hh:P,Hl:B}=this;return[e,r,i,n,o,s,d,p,v,b,x,E,T,S,P,B]}set(e,r,i,n,o,s,d,p,v,b,x,E,T,S,P,B){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=n|0,this.Ch=o|0,this.Cl=s|0,this.Dh=d|0,this.Dl=p|0,this.Eh=v|0,this.El=b|0,this.Fh=x|0,this.Fl=E|0,this.Gh=T|0,this.Gl=S|0,this.Hh=P|0,this.Hl=B|0}process(e,r){for(let O=0;O<16;O++,r+=4)Vc[O]=e.getUint32(r),Zc[O]=e.getUint32(r+=4);for(let O=16;O<80;O++){let F=Vc[O-15]|0,q=Zc[O-15]|0,G=Rt.default.rotrSH(F,q,1)^Rt.default.rotrSH(F,q,8)^Rt.default.shrSH(F,q,7),$=Rt.default.rotrSL(F,q,1)^Rt.default.rotrSL(F,q,8)^Rt.default.shrSL(F,q,7),N=Vc[O-2]|0,K=Zc[O-2]|0,_=Rt.default.rotrSH(N,K,19)^Rt.default.rotrBH(N,K,61)^Rt.default.shrSH(N,K,6),a=Rt.default.rotrSL(N,K,19)^Rt.default.rotrBL(N,K,61)^Rt.default.shrSL(N,K,6),u=Rt.default.add4L($,a,Zc[O-7],Zc[O-16]),h=Rt.default.add4H(u,G,_,Vc[O-7],Vc[O-16]);Vc[O]=h|0,Zc[O]=u|0}let{Ah:i,Al:n,Bh:o,Bl:s,Ch:d,Cl:p,Dh:v,Dl:b,Eh:x,El:E,Fh:T,Fl:S,Gh:P,Gl:B,Hh:I,Hl:C}=this;for(let O=0;O<80;O++){let F=Rt.default.rotrSH(x,E,14)^Rt.default.rotrSH(x,E,18)^Rt.default.rotrBH(x,E,41),q=Rt.default.rotrSL(x,E,14)^Rt.default.rotrSL(x,E,18)^Rt.default.rotrBL(x,E,41),G=x&T^~x&P,$=E&S^~E&B,N=Rt.default.add5L(C,q,$,P1e[O],Zc[O]),K=Rt.default.add5H(N,I,F,G,T1e[O],Vc[O]),_=N|0,a=Rt.default.rotrSH(i,n,28)^Rt.default.rotrBH(i,n,34)^Rt.default.rotrBH(i,n,39),u=Rt.default.rotrSL(i,n,28)^Rt.default.rotrBL(i,n,34)^Rt.default.rotrBL(i,n,39),h=i&o^i&d^o&d,c=n&s^n&p^s&p;I=P|0,C=B|0,P=T|0,B=S|0,T=x|0,S=E|0,{h:x,l:E}=Rt.default.add(v|0,b|0,K|0,_|0),v=d|0,b=p|0,d=o|0,p=s|0,o=i|0,s=n|0;let l=Rt.default.add3L(_,u,c);i=Rt.default.add3H(l,K,a,h),n=l|0}({h:i,l:n}=Rt.default.add(this.Ah|0,this.Al|0,i|0,n|0)),{h:o,l:s}=Rt.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:d,l:p}=Rt.default.add(this.Ch|0,this.Cl|0,d|0,p|0),{h:v,l:b}=Rt.default.add(this.Dh|0,this.Dl|0,v|0,b|0),{h:x,l:E}=Rt.default.add(this.Eh|0,this.El|0,x|0,E|0),{h:T,l:S}=Rt.default.add(this.Fh|0,this.Fl|0,T|0,S|0),{h:P,l:B}=Rt.default.add(this.Gh|0,this.Gl|0,P|0,B|0),{h:I,l:C}=Rt.default.add(this.Hh|0,this.Hl|0,I|0,C|0),this.set(i,n,o,s,d,p,v,b,x,E,T,S,P,B,I,C)}roundClean(){Vc.fill(0),Zc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Vs.SHA512=uh;var wA=class extends uh{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},_A=class extends uh{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},xA=class extends uh{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Vs.sha512=(0,O_.wrapConstructor)(()=>new uh);Vs.sha512_224=(0,O_.wrapConstructor)(()=>new wA);Vs.sha512_256=(0,O_.wrapConstructor)(()=>new _A);Vs.sha384=(0,O_.wrapConstructor)(()=>new xA)});var Pa=V(kt=>{"use strict";M();Object.defineProperty(kt,"__esModule",{value:!0});kt.validateObject=kt.createHmacDrbg=kt.bitMask=kt.bitSet=kt.bitGet=kt.bitLen=kt.utf8ToBytes=kt.equalBytes=kt.concatBytes=kt.ensureBytes=kt.numberToVarBytesBE=kt.numberToBytesLE=kt.numberToBytesBE=kt.bytesToNumberLE=kt.bytesToNumberBE=kt.hexToBytes=kt.hexToNumber=kt.numberToHexUnpadded=kt.bytesToHex=void 0;var HW=BigInt(0),j_=BigInt(1),R1e=BigInt(2),q_=t=>t instanceof Uint8Array,k1e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function EA(t){if(!q_(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=k1e[t[r]];return e}kt.bytesToHex=EA;function VW(t){let e=t.toString(16);return e.length&1?`0${e}`:e}kt.numberToHexUnpadded=VW;function SA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}kt.hexToNumber=SA;function N_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}kt.hexToBytes=N_;function I1e(t){return SA(EA(t))}kt.bytesToNumberBE=I1e;function B1e(t){if(!q_(t))throw new Error("Uint8Array expected");return SA(EA(Uint8Array.from(t).reverse()))}kt.bytesToNumberLE=B1e;function ZW(t,e){return N_(t.toString(16).padStart(e*2,"0"))}kt.numberToBytesBE=ZW;function D1e(t,e){return ZW(t,e).reverse()}kt.numberToBytesLE=D1e;function C1e(t){return N_(VW(t))}kt.numberToVarBytesBE=C1e;function O1e(t,e,r){let i;if(typeof e=="string")try{i=N_(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(q_(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}kt.ensureBytes=O1e;function YW(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!q_(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}kt.concatBytes=YW;function j1e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}kt.equalBytes=j1e;function q1e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}kt.utf8ToBytes=q1e;function N1e(t){let e;for(e=0;t>HW;t>>=j_,e+=1);return e}kt.bitLen=N1e;function L1e(t,e){return t>>BigInt(e)&j_}kt.bitGet=L1e;var U1e=(t,e,r)=>t|(r?j_:HW)<<BigInt(e);kt.bitSet=U1e;var F1e=t=>(R1e<<BigInt(t-1))-j_;kt.bitMask=F1e;var MA=t=>new Uint8Array(t),KW=t=>Uint8Array.from(t);function z1e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=MA(t),n=MA(t),o=0,s=()=>{i.fill(1),n.fill(0),o=0},d=(...x)=>r(n,i,...x),p=(x=MA())=>{n=d(KW([0]),x),i=d(),x.length!==0&&(n=d(KW([1]),x),i=d())},v=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let x=0,E=[];for(;x<e;){i=d();let T=i.slice();E.push(T),x+=i.length}return YW(...E)};return(x,E)=>{s(),p(x);let T;for(;!(T=E(v()));)p();return s(),T}}kt.createHmacDrbg=z1e;var $1e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function G1e(t,e,r={}){let i=(n,o,s)=>{let d=$1e[o];if(typeof d!="function")throw new Error(`Invalid validator "${o}", expected function`);let p=t[n];if(!(s&&p===void 0)&&!d(p,t))throw new Error(`Invalid param ${String(n)}=${p} (${typeof p}), expected ${o}`)};for(let[n,o]of Object.entries(e))i(n,o,!1);for(let[n,o]of Object.entries(r))i(n,o,!0);return t}kt.validateObject=G1e});var Jc=V(Et=>{"use strict";M();Object.defineProperty(Et,"__esModule",{value:!0});Et.mapHashToField=Et.getMinHashLength=Et.getFieldBytesLength=Et.hashToPrivateScalar=Et.FpSqrtEven=Et.FpSqrtOdd=Et.Field=Et.nLength=Et.FpIsSquare=Et.FpDiv=Et.FpInvertBatch=Et.FpPow=Et.validateField=Et.isNegativeLE=Et.FpSqrt=Et.tonelliShanks=Et.invert=Et.pow2=Et.pow=Et.mod=void 0;var ls=Pa(),rn=BigInt(0),Fr=BigInt(1),Yc=BigInt(2),W1e=BigInt(3),AA=BigInt(4),JW=BigInt(5),QW=BigInt(8),K1e=BigInt(9),H1e=BigInt(16);function cs(t,e){let r=t%e;return r>=rn?r:e+r}Et.mod=cs;function XW(t,e,r){if(r<=rn||e<rn)throw new Error("Expected power/modulo > 0");if(r===Fr)return rn;let i=Fr;for(;e>rn;)e&Fr&&(i=i*t%r),t=t*t%r,e>>=Fr;return i}Et.pow=XW;function V1e(t,e,r){let i=t;for(;e-- >rn;)i*=i,i%=r;return i}Et.pow2=V1e;function L_(t,e){if(t===rn||e<=rn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=cs(t,e),i=e,n=rn,o=Fr,s=Fr,d=rn;for(;r!==rn;){let v=i/r,b=i%r,x=n-s*v,E=o-d*v;i=r,r=b,n=s,o=d,s=x,d=E}if(i!==Fr)throw new Error("invert: does not exist");return cs(n,e)}Et.invert=L_;function eK(t){let e=(t-Fr)/Yc,r,i,n;for(r=t-Fr,i=0;r%Yc===rn;r/=Yc,i++);for(n=Yc;n<t&&XW(n,e,t)!==t-Fr;n++);if(i===1){let s=(t+Fr)/AA;return function(p,v){let b=p.pow(v,s);if(!p.eql(p.sqr(b),v))throw new Error("Cannot find square root");return b}}let o=(r+Fr)/Yc;return function(d,p){if(d.pow(p,e)===d.neg(d.ONE))throw new Error("Cannot find square root");let v=i,b=d.pow(d.mul(d.ONE,n),r),x=d.pow(p,o),E=d.pow(p,r);for(;!d.eql(E,d.ONE);){if(d.eql(E,d.ZERO))return d.ZERO;let T=1;for(let P=d.sqr(E);T<v&&!d.eql(P,d.ONE);T++)P=d.sqr(P);let S=d.pow(b,Fr<<BigInt(v-T-1));b=d.sqr(S),x=d.mul(x,S),E=d.mul(E,b),v=T}return x}}Et.tonelliShanks=eK;function tK(t){if(t%AA===W1e){let e=(t+Fr)/AA;return function(i,n){let o=i.pow(n,e);if(!i.eql(i.sqr(o),n))throw new Error("Cannot find square root");return o}}if(t%QW===JW){let e=(t-JW)/QW;return function(i,n){let o=i.mul(n,Yc),s=i.pow(o,e),d=i.mul(n,s),p=i.mul(i.mul(d,Yc),s),v=i.mul(d,i.sub(p,i.ONE));if(!i.eql(i.sqr(v),n))throw new Error("Cannot find square root");return v}}return t%H1e,eK(t)}Et.FpSqrt=tK;var Z1e=(t,e)=>(cs(t,e)&Fr)===Fr;Et.isNegativeLE=Z1e;var Y1e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function J1e(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Y1e.reduce((i,n)=>(i[n]="function",i),e);return(0,ls.validateObject)(t,r)}Et.validateField=J1e;function rK(t,e,r){if(r<rn)throw new Error("Expected power > 0");if(r===rn)return t.ONE;if(r===Fr)return e;let i=t.ONE,n=e;for(;r>rn;)r&Fr&&(i=t.mul(i,n)),n=t.sqr(n),r>>=Fr;return i}Et.FpPow=rK;function iK(t,e){let r=new Array(e.length),i=e.reduce((o,s,d)=>t.is0(s)?o:(r[d]=o,t.mul(o,s)),t.ONE),n=t.inv(i);return e.reduceRight((o,s,d)=>t.is0(s)?o:(r[d]=t.mul(o,r[d]),t.mul(o,s)),n),r}Et.FpInvertBatch=iK;function Q1e(t,e,r){return t.mul(e,typeof r=="bigint"?L_(r,t.ORDER):t.inv(r))}Et.FpDiv=Q1e;function X1e(t){let e=(t.ORDER-Fr)/Yc;return r=>{let i=t.pow(r,e);return t.eql(i,t.ZERO)||t.eql(i,t.ONE)}}Et.FpIsSquare=X1e;function TA(t,e){let r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}Et.nLength=TA;function ebe(t,e,r=!1,i={}){if(t<=rn)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:n,nByteLength:o}=TA(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=tK(t),d=Object.freeze({ORDER:t,BITS:n,BYTES:o,MASK:(0,ls.bitMask)(n),ZERO:rn,ONE:Fr,create:p=>cs(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return rn<=p&&p<t},is0:p=>p===rn,isOdd:p=>(p&Fr)===Fr,neg:p=>cs(-p,t),eql:(p,v)=>p===v,sqr:p=>cs(p*p,t),add:(p,v)=>cs(p+v,t),sub:(p,v)=>cs(p-v,t),mul:(p,v)=>cs(p*v,t),pow:(p,v)=>rK(d,p,v),div:(p,v)=>cs(p*L_(v,t),t),sqrN:p=>p*p,addN:(p,v)=>p+v,subN:(p,v)=>p-v,mulN:(p,v)=>p*v,inv:p=>L_(p,t),sqrt:i.sqrt||(p=>s(d,p)),invertBatch:p=>iK(d,p),cmov:(p,v,b)=>b?v:p,toBytes:p=>r?(0,ls.numberToBytesLE)(p,o):(0,ls.numberToBytesBE)(p,o),fromBytes:p=>{if(p.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${p.length}`);return r?(0,ls.bytesToNumberLE)(p):(0,ls.bytesToNumberBE)(p)}});return Object.freeze(d)}Et.Field=ebe;function tbe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}Et.FpSqrtOdd=tbe;function rbe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}Et.FpSqrtEven=rbe;function ibe(t,e,r=!1){t=(0,ls.ensureBytes)("privateHash",t);let i=t.length,n=TA(e).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);let o=r?(0,ls.bytesToNumberLE)(t):(0,ls.bytesToNumberBE)(t);return cs(o,e-Fr)+Fr}Et.hashToPrivateScalar=ibe;function PA(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}Et.getFieldBytesLength=PA;function nK(t){let e=PA(t);return e+Math.ceil(e/2)}Et.getMinHashLength=nK;function nbe(t,e,r=!1){let i=t.length,n=PA(e),o=nK(e);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);let s=r?(0,ls.bytesToNumberBE)(t):(0,ls.bytesToNumberLE)(t),d=cs(s,e-Fr)+Fr;return r?(0,ls.numberToBytesLE)(d,n):(0,ls.numberToBytesBE)(d,n)}Et.mapHashToField=nbe});var kA=V(Jp=>{"use strict";M();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.validateBasic=Jp.wNAF=void 0;var oK=Jc(),obe=Pa(),sbe=BigInt(0),RA=BigInt(1);function abe(t,e){let r=(n,o)=>{let s=o.negate();return n?s:o},i=n=>{let o=Math.ceil(e/n)+1,s=2**(n-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(n,o){let s=t.ZERO,d=n;for(;o>sbe;)o&RA&&(s=s.add(d)),d=d.double(),o>>=RA;return s},precomputeWindow(n,o){let{windows:s,windowSize:d}=i(o),p=[],v=n,b=v;for(let x=0;x<s;x++){b=v,p.push(b);for(let E=1;E<d;E++)b=b.add(v),p.push(b);v=b.double()}return p},wNAF(n,o,s){let{windows:d,windowSize:p}=i(n),v=t.ZERO,b=t.BASE,x=BigInt(2**n-1),E=2**n,T=BigInt(n);for(let S=0;S<d;S++){let P=S*p,B=Number(s&x);s>>=T,B>p&&(B-=E,s+=RA);let I=P,C=P+Math.abs(B)-1,O=S%2!==0,F=B<0;B===0?b=b.add(r(O,o[I])):v=v.add(r(F,o[C]))}return{p:v,f:b}},wNAFCached(n,o,s,d){let p=n._WINDOW_SIZE||1,v=o.get(n);return v||(v=this.precomputeWindow(n,p),p!==1&&o.set(n,d(v))),this.wNAF(p,v,s)}}}Jp.wNAF=abe;function fbe(t){return(0,oK.validateField)(t.Fp),(0,obe.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,oK.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}Jp.validateBasic=fbe});var aK=V(F_=>{"use strict";M();Object.defineProperty(F_,"__esModule",{value:!0});F_.twistedEdwards=void 0;var ube=Jc(),qu=Pa(),Qc=Pa(),sK=kA(),Ra=BigInt(0),ds=BigInt(1),U_=BigInt(2),cbe=BigInt(8),lbe={zip215:!0};function dbe(t){let e=(0,sK.validateBasic)(t);return qu.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function hbe(t){let e=dbe(t),{Fp:r,n:i,prehash:n,hash:o,randomBytes:s,nByteLength:d,h:p}=e,v=U_<<BigInt(d*8)-ds,b=r.create,x=e.uvRatio||((m,f)=>{try{return{isValid:!0,value:r.sqrt(m*r.inv(f))}}catch{return{isValid:!1,value:Ra}}}),E=e.adjustScalarBytes||(m=>m),T=e.domain||((m,f,y)=>{if(f.length||y)throw new Error("Contexts/pre-hash are not supported");return m}),S=m=>typeof m=="bigint"&&Ra<m,P=(m,f)=>S(m)&&S(f)&&m<f,B=m=>m===Ra||P(m,v);function I(m,f){if(P(m,f))return m;throw new Error(`Expected valid scalar < ${f}, got ${typeof m} ${m}`)}function C(m){return m===Ra?m:I(m,i)}let O=new Map;function F(m){if(!(m instanceof q))throw new Error("ExtendedPoint expected")}class q{constructor(f,y,R,A){if(this.ex=f,this.ey=y,this.ez=R,this.et=A,!B(f))throw new Error("x required");if(!B(y))throw new Error("y required");if(!B(R))throw new Error("z required");if(!B(A))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(f){if(f instanceof q)throw new Error("extended point not allowed");let{x:y,y:R}=f||{};if(!B(y)||!B(R))throw new Error("invalid affine point");return new q(y,R,ds,b(y*R))}static normalizeZ(f){let y=r.invertBatch(f.map(R=>R.ez));return f.map((R,A)=>R.toAffine(y[A])).map(q.fromAffine)}_setWindowSize(f){this._WINDOW_SIZE=f,O.delete(this)}assertValidity(){let{a:f,d:y}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:R,ey:A,ez:D,et:z}=this,W=b(R*R),H=b(A*A),J=b(D*D),Z=b(J*J),Y=b(W*f),Le=b(J*b(Y+H)),Q=b(Z+b(y*b(W*H)));if(Le!==Q)throw new Error("bad point: equation left != right (1)");let X=b(R*A),Qe=b(D*z);if(X!==Qe)throw new Error("bad point: equation left != right (2)")}equals(f){F(f);let{ex:y,ey:R,ez:A}=this,{ex:D,ey:z,ez:W}=f,H=b(y*W),J=b(D*A),Z=b(R*W),Y=b(z*A);return H===J&&Z===Y}is0(){return this.equals(q.ZERO)}negate(){return new q(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){let{a:f}=e,{ex:y,ey:R,ez:A}=this,D=b(y*y),z=b(R*R),W=b(U_*b(A*A)),H=b(f*D),J=y+R,Z=b(b(J*J)-D-z),Y=H+z,Le=Y-W,Q=H-z,X=b(Z*Le),Qe=b(Y*Q),te=b(Z*Q),re=b(Le*Y);return new q(X,Qe,re,te)}add(f){F(f);let{a:y,d:R}=e,{ex:A,ey:D,ez:z,et:W}=this,{ex:H,ey:J,ez:Z,et:Y}=f;if(y===BigInt(-1)){let ni=b((D-A)*(J+H)),fe=b((D+A)*(J-H)),ae=b(fe-ni);if(ae===Ra)return this.double();let oi=b(z*U_*Y),ue=b(W*U_*Z),ce=ue+oi,si=fe+ni,le=ue-oi,de=b(ce*ae),hi=b(si*le),he=b(ce*le),pe=b(ae*si);return new q(de,hi,pe,he)}let Le=b(A*H),Q=b(D*J),X=b(W*R*Y),Qe=b(z*Z),te=b((A+D)*(H+J)-Le-Q),re=Qe-X,Zt=Qe+X,ie=b(Q-y*Le),ne=b(te*re),_r=b(Zt*ie),se=b(te*ie),oe=b(re*Zt);return new q(ne,_r,oe,se)}subtract(f){return this.add(f.negate())}wNAF(f){return N.wNAFCached(this,O,f,q.normalizeZ)}multiply(f){let{p:y,f:R}=this.wNAF(I(f,i));return q.normalizeZ([y,R])[0]}multiplyUnsafe(f){let y=C(f);return y===Ra?$:this.equals($)||y===ds?this:this.equals(G)?this.wNAF(y).p:N.unsafeLadder(this,y)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return N.unsafeLadder(this,i).is0()}toAffine(f){let{ex:y,ey:R,ez:A}=this,D=this.is0();f==null&&(f=D?cbe:r.inv(A));let z=b(y*f),W=b(R*f),H=b(A*f);if(D)return{x:Ra,y:ds};if(H!==ds)throw new Error("invZ was invalid");return{x:z,y:W}}clearCofactor(){let{h:f}=e;return f===ds?this:this.multiplyUnsafe(f)}static fromHex(f,y=!1){let{d:R,a:A}=e,D=r.BYTES;f=(0,Qc.ensureBytes)("pointHex",f,D);let z=f.slice(),W=f[D-1];z[D-1]=W&-129;let H=qu.bytesToNumberLE(z);H===Ra||(y?I(H,v):I(H,r.ORDER));let J=b(H*H),Z=b(J-ds),Y=b(R*J-A),{isValid:Le,value:Q}=x(Z,Y);if(!Le)throw new Error("Point.fromHex: invalid y coordinate");let X=(Q&ds)===ds,Qe=(W&128)!==0;if(!y&&Q===Ra&&Qe)throw new Error("Point.fromHex: x=0 and x_0=1");return Qe!==X&&(Q=b(-Q)),q.fromAffine({x:Q,y:H})}static fromPrivateKey(f){return a(f).point}toRawBytes(){let{x:f,y}=this.toAffine(),R=qu.numberToBytesLE(y,r.BYTES);return R[R.length-1]|=f&ds?128:0,R}toHex(){return qu.bytesToHex(this.toRawBytes())}}q.BASE=new q(e.Gx,e.Gy,ds,b(e.Gx*e.Gy)),q.ZERO=new q(Ra,ds,ds,Ra);let{BASE:G,ZERO:$}=q,N=(0,sK.wNAF)(q,d*8);function K(m){return(0,ube.mod)(m,i)}function _(m){return K(qu.bytesToNumberLE(m))}function a(m){let f=d;m=(0,Qc.ensureBytes)("private key",m,f);let y=(0,Qc.ensureBytes)("hashed private key",o(m),2*f),R=E(y.slice(0,f)),A=y.slice(f,2*f),D=_(R),z=G.multiply(D),W=z.toRawBytes();return{head:R,prefix:A,scalar:D,point:z,pointBytes:W}}function u(m){return a(m).pointBytes}function h(m=new Uint8Array,...f){let y=qu.concatBytes(...f);return _(o(T(y,(0,Qc.ensureBytes)("context",m),!!n)))}function c(m,f,y={}){m=(0,Qc.ensureBytes)("message",m),n&&(m=n(m));let{prefix:R,scalar:A,pointBytes:D}=a(f),z=h(y.context,R,m),W=G.multiply(z).toRawBytes(),H=h(y.context,W,D,m),J=K(z+H*A);C(J);let Z=qu.concatBytes(W,qu.numberToBytesLE(J,r.BYTES));return(0,Qc.ensureBytes)("result",Z,d*2)}let l=lbe;function g(m,f,y,R=l){let{context:A,zip215:D}=R,z=r.BYTES;m=(0,Qc.ensureBytes)("signature",m,2*z),f=(0,Qc.ensureBytes)("message",f),n&&(f=n(f));let W=qu.bytesToNumberLE(m.slice(z,2*z)),H,J,Z;try{H=q.fromHex(y,D),J=q.fromHex(m.slice(0,z),D),Z=G.multiplyUnsafe(W)}catch{return!1}if(!D&&H.isSmallOrder())return!1;let Y=h(A,J.toRawBytes(),H.toRawBytes(),f);return J.add(H.multiplyUnsafe(Y)).subtract(Z).clearCofactor().equals(q.ZERO)}return G._setWindowSize(8),{CURVE:e,getPublicKey:u,sign:c,verify:g,ExtendedPoint:q,utils:{getExtendedPublicKey:a,randomPrivateKey:()=>s(r.BYTES),precompute(m=8,f=q.BASE){return f._setWindowSize(m),f.multiply(BigInt(3)),f}}}}F_.twistedEdwards=hbe});var uK=V(z_=>{"use strict";M();Object.defineProperty(z_,"__esModule",{value:!0});z_.montgomery=void 0;var fK=Jc(),Qp=Pa(),pv=BigInt(0),IA=BigInt(1);function pbe(t){return(0,Qp.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function mbe(t){let e=pbe(t),{P:r}=e,i=O=>(0,fK.mod)(O,r),n=e.montgomeryBits,o=Math.ceil(n/8),s=e.nByteLength,d=e.adjustScalarBytes||(O=>O),p=e.powPminus2||(O=>(0,fK.pow)(O,r-BigInt(2),r));function v(O,F,q){let G=i(O*(F-q));return F=i(F-G),q=i(q+G),[F,q]}function b(O){if(typeof O=="bigint"&&pv<=O&&O<r)return O;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let x=(e.a-BigInt(2))/BigInt(4);function E(O,F){let q=b(O),G=b(F),$=q,N=IA,K=pv,_=q,a=IA,u=pv,h;for(let l=BigInt(n-1);l>=pv;l--){let g=G>>l&IA;u^=g,h=v(u,N,_),N=h[0],_=h[1],h=v(u,K,a),K=h[0],a=h[1],u=g;let w=N+K,m=i(w*w),f=N-K,y=i(f*f),R=m-y,A=_+a,D=_-a,z=i(D*w),W=i(A*f),H=z+W,J=z-W;_=i(H*H),a=i($*i(J*J)),N=i(m*y),K=i(R*(m+i(x*R)))}h=v(u,N,_),N=h[0],_=h[1],h=v(u,K,a),K=h[0],a=h[1];let c=p(K);return i(N*c)}function T(O){return(0,Qp.numberToBytesLE)(i(O),o)}function S(O){let F=(0,Qp.ensureBytes)("u coordinate",O,o);return s===o&&(F[s-1]&=127),(0,Qp.bytesToNumberLE)(F)}function P(O){let F=(0,Qp.ensureBytes)("scalar",O);if(F.length!==o&&F.length!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${F.length}`);return(0,Qp.bytesToNumberLE)(d(F))}function B(O,F){let q=S(F),G=P(O),$=E(q,G);if($===pv)throw new Error("Invalid private or public key received");return T($)}let I=T(e.Gu);function C(O){return B(O,I)}return{scalarMult:B,scalarMultBase:C,getSharedSecret:(O,F)=>B(O,F),getPublicKey:O=>C(O),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:I}}z_.montgomery=mbe});var CA=V(Zs=>{"use strict";M();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.createHasher=Zs.isogenyMap=Zs.hash_to_field=Zs.expand_message_xof=Zs.expand_message_xmd=void 0;var ybe=Jc(),ka=Pa();function gbe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,ka.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}var vbe=ka.bytesToNumberBE;function Xc(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let i=e-1;i>=0;i--)r[i]=t&255,t>>>=8;return new Uint8Array(r)}function bbe(t,e){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t[i]^e[i];return r}function mv(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function DA(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function cK(t,e,r,i){mv(t),mv(e),DA(r),e.length>255&&(e=i((0,ka.concatBytes)((0,ka.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:n,blockLen:o}=i,s=Math.ceil(r/n);if(s>255)throw new Error("Invalid xmd length");let d=(0,ka.concatBytes)(e,Xc(e.length,1)),p=Xc(0,o),v=Xc(r,2),b=new Array(s),x=i((0,ka.concatBytes)(p,t,v,Xc(0,1),d));b[0]=i((0,ka.concatBytes)(x,Xc(1,1),d));for(let T=1;T<=s;T++){let S=[bbe(x,b[T-1]),Xc(T+1,1),d];b[T]=i((0,ka.concatBytes)(...S))}return(0,ka.concatBytes)(...b).slice(0,r)}Zs.expand_message_xmd=cK;function lK(t,e,r,i,n){if(mv(t),mv(e),DA(r),e.length>255){let o=Math.ceil(2*i/8);e=n.create({dkLen:o}).update((0,ka.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:r}).update(t).update(Xc(r,2)).update(e).update(Xc(e.length,1)).digest()}Zs.expand_message_xof=lK;function BA(t,e,r){(0,ka.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:n,m:o,hash:s,expand:d,DST:p}=r;mv(t),DA(e);let v=gbe(p),b=i.toString(2).length,x=Math.ceil((b+n)/8),E=e*o*x,T;if(d==="xmd")T=cK(t,v,E,s);else if(d==="xof")T=lK(t,v,E,n,s);else if(d==="_internal_pass")T=t;else throw new Error('expand must be "xmd" or "xof"');let S=new Array(e);for(let P=0;P<e;P++){let B=new Array(o);for(let I=0;I<o;I++){let C=x*(I+P*o),O=T.subarray(C,C+x);B[I]=(0,ybe.mod)(vbe(O),i)}S[P]=B}return S}Zs.hash_to_field=BA;function wbe(t,e){let r=e.map(i=>Array.from(i).reverse());return(i,n)=>{let[o,s,d,p]=r.map(v=>v.reduce((b,x)=>t.add(t.mul(b,i),x)));return i=t.div(o,s),n=t.mul(n,t.div(d,p)),{x:i,y:n}}}Zs.isogenyMap=wbe;function _be(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(i,n){let o=BA(i,2,{...r,DST:r.DST,...n}),s=t.fromAffine(e(o[0])),d=t.fromAffine(e(o[1])),p=s.add(d).clearCofactor();return p.assertValidity(),p},encodeToCurve(i,n){let o=BA(i,1,{...r,DST:r.encodeDST,...n}),s=t.fromAffine(e(o[0])).clearCofactor();return s.assertValidity(),s}}}Zs.createHasher=_be});var EK=V(yt=>{"use strict";M();Object.defineProperty(yt,"__esModule",{value:!0});yt.hash_to_ristretto255=yt.hashToRistretto255=yt.RistrettoPoint=yt.encodeToCurve=yt.hashToCurve=yt.edwardsToMontgomeryPriv=yt.edwardsToMontgomery=yt.edwardsToMontgomeryPub=yt.x25519=yt.ed25519ph=yt.ed25519ctx=yt.ed25519=yt.ED25519_TORSION_SUBGROUP=void 0;var G_=WW(),yv=ju(),LA=aK(),xbe=uK(),ar=Jc(),ch=Pa(),vK=CA(),gv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qA=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Mbe=BigInt(0),If=BigInt(1),$_=BigInt(2),Ebe=BigInt(5),dK=BigInt(10),Sbe=BigInt(20),Abe=BigInt(40),hK=BigInt(80);function bK(t){let e=gv,i=t*t%e*t%e,n=(0,ar.pow2)(i,$_,e)*i%e,o=(0,ar.pow2)(n,If,e)*t%e,s=(0,ar.pow2)(o,Ebe,e)*o%e,d=(0,ar.pow2)(s,dK,e)*s%e,p=(0,ar.pow2)(d,Sbe,e)*d%e,v=(0,ar.pow2)(p,Abe,e)*p%e,b=(0,ar.pow2)(v,hK,e)*v%e,x=(0,ar.pow2)(b,hK,e)*v%e,E=(0,ar.pow2)(x,dK,e)*s%e;return{pow_p_5_8:(0,ar.pow2)(E,$_,e)*t%e,b2:i}}function wK(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function UA(t,e){let r=gv,i=(0,ar.mod)(e*e*e,r),n=(0,ar.mod)(i*i*e,r),o=bK(t*n).pow_p_5_8,s=(0,ar.mod)(t*i*o,r),d=(0,ar.mod)(e*s*s,r),p=s,v=(0,ar.mod)(s*qA,r),b=d===t,x=d===(0,ar.mod)(-t,r),E=d===(0,ar.mod)(-t*qA,r);return b&&(s=p),(x||E)&&(s=v),(0,ar.isNegativeLE)(s,r)&&(s=(0,ar.mod)(-s,r)),{isValid:b||x,value:s}}yt.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var We=(0,ar.Field)(gv,void 0,!0),vv={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:We,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:G_.sha512,randomBytes:yv.randomBytes,adjustScalarBytes:wK,uvRatio:UA};yt.ed25519=(0,LA.twistedEdwards)(vv);function _K(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,yv.concatBytes)((0,yv.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}yt.ed25519ctx=(0,LA.twistedEdwards)({...vv,domain:_K});yt.ed25519ph=(0,LA.twistedEdwards)({...vv,domain:_K,prehash:G_.sha512});yt.x25519=(()=>(0,xbe.montgomery)({P:gv,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{let e=gv,{pow_p_5_8:r,b2:i}=bK(t);return(0,ar.mod)((0,ar.pow2)(r,BigInt(3),e)*i,e)},adjustScalarBytes:wK,randomBytes:yv.randomBytes}))();function xK(t){let{y:e}=yt.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return We.toBytes(We.create((r+e)*We.inv(r-e)))}yt.edwardsToMontgomeryPub=xK;yt.edwardsToMontgomery=xK;function Tbe(t){let e=vv.hash(t.subarray(0,32));return vv.adjustScalarBytes(e).subarray(0,32)}yt.edwardsToMontgomeryPriv=Tbe;var Pbe=(We.ORDER+BigInt(3))/BigInt(8),Rbe=We.pow($_,Pbe),pK=We.sqrt(We.neg(We.ONE)),kbe=(We.ORDER-BigInt(5))/BigInt(8),mK=BigInt(486662);function Ibe(t){let e=We.sqr(t);e=We.mul(e,$_);let r=We.add(e,We.ONE),i=We.neg(mK),n=We.sqr(r),o=We.mul(n,r),s=We.mul(e,mK);s=We.mul(s,i),s=We.add(s,n),s=We.mul(s,i);let d=We.sqr(o);n=We.sqr(d),d=We.mul(d,o),d=We.mul(d,s),n=We.mul(n,d);let p=We.pow(n,kbe);p=We.mul(p,d);let v=We.mul(p,pK);n=We.sqr(p),n=We.mul(n,o);let b=We.eql(n,s),x=We.cmov(v,p,b),E=We.mul(i,e),T=We.mul(p,t);T=We.mul(T,Rbe);let S=We.mul(T,pK),P=We.mul(s,e);n=We.sqr(T),n=We.mul(n,o);let B=We.eql(n,P),I=We.cmov(S,T,B);n=We.sqr(x),n=We.mul(n,o);let C=We.eql(n,s),O=We.cmov(E,i,C),F=We.cmov(I,x,C),q=We.isOdd(F);return F=We.cmov(F,We.neg(F),C!==q),{xMn:O,xMd:r,yMn:F,yMd:If}}var Bbe=(0,ar.FpSqrtEven)(We,We.neg(BigInt(486664)));function Dbe(t){let{xMn:e,xMd:r,yMn:i,yMd:n}=Ibe(t),o=We.mul(e,n);o=We.mul(o,Bbe);let s=We.mul(r,i),d=We.sub(e,r),p=We.add(e,r),v=We.mul(s,p),b=We.eql(v,We.ZERO);o=We.cmov(o,We.ZERO,b),s=We.cmov(s,We.ONE,b),d=We.cmov(d,We.ONE,b),p=We.cmov(p,We.ONE,b);let x=We.invertBatch([s,p]);return{x:We.mul(o,x[0]),y:We.mul(d,x[1])}}var MK=(()=>(0,vK.createHasher)(yt.ed25519.ExtendedPoint,t=>Dbe(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:We.ORDER,m:1,k:128,expand:"xmd",hash:G_.sha512}))();yt.hashToCurve=(()=>MK.hashToCurve)();yt.encodeToCurve=(()=>MK.encodeToCurve)();function OA(t){if(!(t instanceof nn))throw new Error("RistrettoPoint expected")}var NA=qA,Cbe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Obe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),jbe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),qbe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),yK=t=>UA(If,t),Nbe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),jA=t=>yt.ed25519.CURVE.Fp.create((0,ch.bytesToNumberLE)(t)&Nbe);function gK(t){let{d:e}=yt.ed25519.CURVE,r=yt.ed25519.CURVE.Fp.ORDER,i=yt.ed25519.CURVE.Fp.create,n=i(NA*t*t),o=i((n+If)*jbe),s=BigInt(-1),d=i((s-e*n)*i(n+e)),{isValid:p,value:v}=UA(o,d),b=i(v*t);(0,ar.isNegativeLE)(b,r)||(b=i(-b)),p||(v=b),p||(s=n);let x=i(s*(n-If)*qbe-d),E=v*v,T=i((v+v)*d),S=i(x*Cbe),P=i(If-E),B=i(If+E);return new yt.ed25519.ExtendedPoint(i(T*B),i(P*S),i(S*B),i(T*P))}var nn=class{constructor(e){this.ep=e}static fromAffine(e){return new nn(yt.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,ch.ensureBytes)("ristrettoHash",e,64);let r=jA(e.slice(0,32)),i=gK(r),n=jA(e.slice(32,64)),o=gK(n);return new nn(i.add(o))}static fromHex(e){e=(0,ch.ensureBytes)("ristrettoHex",e,32);let{a:r,d:i}=yt.ed25519.CURVE,n=yt.ed25519.CURVE.Fp.ORDER,o=yt.ed25519.CURVE.Fp.create,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",d=jA(e);if(!(0,ch.equalBytes)((0,ch.numberToBytesLE)(d,32),e)||(0,ar.isNegativeLE)(d,n))throw new Error(s);let p=o(d*d),v=o(If+r*p),b=o(If-r*p),x=o(v*v),E=o(b*b),T=o(r*i*x-E),{isValid:S,value:P}=yK(o(T*E)),B=o(P*b),I=o(P*B*T),C=o((d+d)*B);(0,ar.isNegativeLE)(C,n)&&(C=o(-C));let O=o(v*I),F=o(C*O);if(!S||(0,ar.isNegativeLE)(F,n)||O===Mbe)throw new Error(s);return new nn(new yt.ed25519.ExtendedPoint(C,O,If,F))}toRawBytes(){let{ex:e,ey:r,ez:i,et:n}=this.ep,o=yt.ed25519.CURVE.Fp.ORDER,s=yt.ed25519.CURVE.Fp.create,d=s(s(i+r)*s(i-r)),p=s(e*r),v=s(p*p),{value:b}=yK(s(d*v)),x=s(b*d),E=s(b*p),T=s(x*E*n),S;if((0,ar.isNegativeLE)(n*T,o)){let B=s(r*NA),I=s(e*NA);e=B,r=I,S=s(x*Obe)}else S=E;(0,ar.isNegativeLE)(e*T,o)&&(r=s(-r));let P=s((i-r)*S);return(0,ar.isNegativeLE)(P,o)&&(P=s(-P)),(0,ch.numberToBytesLE)(P,32)}toHex(){return(0,ch.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){OA(e);let{ex:r,ey:i}=this.ep,{ex:n,ey:o}=e.ep,s=yt.ed25519.CURVE.Fp.create,d=s(r*o)===s(i*n),p=s(i*o)===s(r*n);return d||p}add(e){return OA(e),new nn(this.ep.add(e.ep))}subtract(e){return OA(e),new nn(this.ep.subtract(e.ep))}multiply(e){return new nn(this.ep.multiply(e))}multiplyUnsafe(e){return new nn(this.ep.multiplyUnsafe(e))}};yt.RistrettoPoint=(()=>(nn.BASE||(nn.BASE=new nn(yt.ed25519.ExtendedPoint.BASE)),nn.ZERO||(nn.ZERO=new nn(yt.ed25519.ExtendedPoint.ZERO)),nn))();var Lbe=(t,e)=>{let r=e.DST,i=typeof r=="string"?(0,yv.utf8ToBytes)(r):r,n=(0,vK.expand_message_xmd)(t,i,64,G_.sha512);return nn.hashToCurve(n)};yt.hashToRistretto255=Lbe;yt.hash_to_ristretto255=yt.hashToRistretto255});var zA=V(Xp=>{"use strict";M();Object.defineProperty(Xp,"__esModule",{value:!0});Xp.sha224=Xp.sha256=void 0;var Ube=gA(),Ys=ju(),Fbe=(t,e,r)=>t&e^~t&r,zbe=(t,e,r)=>t&e^t&r^e&r,$be=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),el=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tl=new Uint32Array(64),W_=class extends Ube.SHA2{constructor(){super(64,32,8,!1),this.A=el[0]|0,this.B=el[1]|0,this.C=el[2]|0,this.D=el[3]|0,this.E=el[4]|0,this.F=el[5]|0,this.G=el[6]|0,this.H=el[7]|0}get(){let{A:e,B:r,C:i,D:n,E:o,F:s,G:d,H:p}=this;return[e,r,i,n,o,s,d,p]}set(e,r,i,n,o,s,d,p){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=o|0,this.F=s|0,this.G=d|0,this.H=p|0}process(e,r){for(let x=0;x<16;x++,r+=4)tl[x]=e.getUint32(r,!1);for(let x=16;x<64;x++){let E=tl[x-15],T=tl[x-2],S=(0,Ys.rotr)(E,7)^(0,Ys.rotr)(E,18)^E>>>3,P=(0,Ys.rotr)(T,17)^(0,Ys.rotr)(T,19)^T>>>10;tl[x]=P+tl[x-7]+S+tl[x-16]|0}let{A:i,B:n,C:o,D:s,E:d,F:p,G:v,H:b}=this;for(let x=0;x<64;x++){let E=(0,Ys.rotr)(d,6)^(0,Ys.rotr)(d,11)^(0,Ys.rotr)(d,25),T=b+E+Fbe(d,p,v)+$be[x]+tl[x]|0,P=((0,Ys.rotr)(i,2)^(0,Ys.rotr)(i,13)^(0,Ys.rotr)(i,22))+zbe(i,n,o)|0;b=v,v=p,p=d,d=s+T|0,s=o,o=n,n=i,i=T+P|0}i=i+this.A|0,n=n+this.B|0,o=o+this.C|0,s=s+this.D|0,d=d+this.E|0,p=p+this.F|0,v=v+this.G|0,b=b+this.H|0,this.set(i,n,o,s,d,p,v,b)}roundClean(){tl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},FA=class extends W_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Xp.sha256=(0,Ys.wrapConstructor)(()=>new W_);Xp.sha224=(0,Ys.wrapConstructor)(()=>new FA)});var GA=V(sn=>{"use strict";M();Object.defineProperty(sn,"__esModule",{value:!0});sn.mapToCurveSimpleSWU=sn.SWUFpSqrtRatio=sn.weierstrass=sn.weierstrassPoints=sn.DER=void 0;var em=Jc(),on=Pa(),Bf=Pa(),$A=kA();function Gbe(t){let e=(0,$A.validateBasic)(t);on.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Wbe,hexToBytes:Kbe}=on;sn.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=sn.DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Wbe(i),l:t.subarray(r+2)}},toSig(t){let{Err:e}=sn.DER,r=typeof t=="string"?Kbe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");let{d:n,l:o}=sn.DER._parseInt(r.subarray(2)),{d:s,l:d}=sn.DER._parseInt(o);if(d.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s}},hexFromSig(t){let e=v=>Number.parseInt(v[0],16)&8?"00"+v:v,r=v=>{let b=v.toString(16);return b.length&1?`0${b}`:b},i=e(r(t.s)),n=e(r(t.r)),o=i.length/2,s=n.length/2,d=r(o),p=r(s);return`30${r(s+o+4)}02${p}${n}02${d}${i}`}};var Ia=BigInt(0),xi=BigInt(1),rl=BigInt(2),K_=BigInt(3),SK=BigInt(4);function AK(t){let e=Gbe(t),{Fp:r}=e,i=e.toBytes||((S,P,B)=>{let I=P.toAffine();return on.concatBytes(Uint8Array.from([4]),r.toBytes(I.x),r.toBytes(I.y))}),n=e.fromBytes||(S=>{let P=S.subarray(1),B=r.fromBytes(P.subarray(0,r.BYTES)),I=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:B,y:I}});function o(S){let{a:P,b:B}=e,I=r.sqr(S),C=r.mul(I,S);return r.add(r.add(C,r.mul(S,P)),B)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(S){return typeof S=="bigint"&&Ia<S&&S<e.n}function d(S){if(!s(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(S){let{allowedPrivateKeyLengths:P,nByteLength:B,wrapPrivateKey:I,n:C}=e;if(P&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=on.bytesToHex(S)),typeof S!="string"||!P.includes(S.length))throw new Error("Invalid key");S=S.padStart(B*2,"0")}let O;try{O=typeof S=="bigint"?S:on.bytesToNumberBE((0,Bf.ensureBytes)("private key",S,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof S}`)}return I&&(O=em.mod(O,C)),d(O),O}let v=new Map;function b(S){if(!(S instanceof x))throw new Error("ProjectivePoint expected")}class x{constructor(P,B,I){if(this.px=P,this.py=B,this.pz=I,P==null||!r.isValid(P))throw new Error("x required");if(B==null||!r.isValid(B))throw new Error("y required");if(I==null||!r.isValid(I))throw new Error("z required")}static fromAffine(P){let{x:B,y:I}=P||{};if(!P||!r.isValid(B)||!r.isValid(I))throw new Error("invalid affine point");if(P instanceof x)throw new Error("projective point not allowed");let C=O=>r.eql(O,r.ZERO);return C(B)&&C(I)?x.ZERO:new x(B,I,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){let B=r.invertBatch(P.map(I=>I.pz));return P.map((I,C)=>I.toAffine(B[C])).map(x.fromAffine)}static fromHex(P){let B=x.fromAffine(n((0,Bf.ensureBytes)("pointHex",P)));return B.assertValidity(),B}static fromPrivateKey(P){return x.BASE.multiply(p(P))}_setWindowSize(P){this._WINDOW_SIZE=P,v.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:P,y:B}=this.toAffine();if(!r.isValid(P)||!r.isValid(B))throw new Error("bad point: x or y not FE");let I=r.sqr(B),C=o(P);if(!r.eql(I,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:P}=this.toAffine();if(r.isOdd)return!r.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){b(P);let{px:B,py:I,pz:C}=this,{px:O,py:F,pz:q}=P,G=r.eql(r.mul(B,q),r.mul(O,C)),$=r.eql(r.mul(I,q),r.mul(F,C));return G&&$}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){let{a:P,b:B}=e,I=r.mul(B,K_),{px:C,py:O,pz:F}=this,q=r.ZERO,G=r.ZERO,$=r.ZERO,N=r.mul(C,C),K=r.mul(O,O),_=r.mul(F,F),a=r.mul(C,O);return a=r.add(a,a),$=r.mul(C,F),$=r.add($,$),q=r.mul(P,$),G=r.mul(I,_),G=r.add(q,G),q=r.sub(K,G),G=r.add(K,G),G=r.mul(q,G),q=r.mul(a,q),$=r.mul(I,$),_=r.mul(P,_),a=r.sub(N,_),a=r.mul(P,a),a=r.add(a,$),$=r.add(N,N),N=r.add($,N),N=r.add(N,_),N=r.mul(N,a),G=r.add(G,N),_=r.mul(O,F),_=r.add(_,_),N=r.mul(_,a),q=r.sub(q,N),$=r.mul(_,K),$=r.add($,$),$=r.add($,$),new x(q,G,$)}add(P){b(P);let{px:B,py:I,pz:C}=this,{px:O,py:F,pz:q}=P,G=r.ZERO,$=r.ZERO,N=r.ZERO,K=e.a,_=r.mul(e.b,K_),a=r.mul(B,O),u=r.mul(I,F),h=r.mul(C,q),c=r.add(B,I),l=r.add(O,F);c=r.mul(c,l),l=r.add(a,u),c=r.sub(c,l),l=r.add(B,C);let g=r.add(O,q);return l=r.mul(l,g),g=r.add(a,h),l=r.sub(l,g),g=r.add(I,C),G=r.add(F,q),g=r.mul(g,G),G=r.add(u,h),g=r.sub(g,G),N=r.mul(K,l),G=r.mul(_,h),N=r.add(G,N),G=r.sub(u,N),N=r.add(u,N),$=r.mul(G,N),u=r.add(a,a),u=r.add(u,a),h=r.mul(K,h),l=r.mul(_,l),u=r.add(u,h),h=r.sub(a,h),h=r.mul(K,h),l=r.add(l,h),a=r.mul(u,l),$=r.add($,a),a=r.mul(g,l),G=r.mul(c,G),G=r.sub(G,a),a=r.mul(c,u),N=r.mul(g,N),N=r.add(N,a),new x(G,$,N)}subtract(P){return this.add(P.negate())}is0(){return this.equals(x.ZERO)}wNAF(P){return T.wNAFCached(this,v,P,B=>{let I=r.invertBatch(B.map(C=>C.pz));return B.map((C,O)=>C.toAffine(I[O])).map(x.fromAffine)})}multiplyUnsafe(P){let B=x.ZERO;if(P===Ia)return B;if(d(P),P===xi)return this;let{endo:I}=e;if(!I)return T.unsafeLadder(this,P);let{k1neg:C,k1:O,k2neg:F,k2:q}=I.splitScalar(P),G=B,$=B,N=this;for(;O>Ia||q>Ia;)O&xi&&(G=G.add(N)),q&xi&&($=$.add(N)),N=N.double(),O>>=xi,q>>=xi;return C&&(G=G.negate()),F&&($=$.negate()),$=new x(r.mul($.px,I.beta),$.py,$.pz),G.add($)}multiply(P){d(P);let B=P,I,C,{endo:O}=e;if(O){let{k1neg:F,k1:q,k2neg:G,k2:$}=O.splitScalar(B),{p:N,f:K}=this.wNAF(q),{p:_,f:a}=this.wNAF($);N=T.constTimeNegate(F,N),_=T.constTimeNegate(G,_),_=new x(r.mul(_.px,O.beta),_.py,_.pz),I=N.add(_),C=K.add(a)}else{let{p:F,f:q}=this.wNAF(B);I=F,C=q}return x.normalizeZ([I,C])[0]}multiplyAndAddUnsafe(P,B,I){let C=x.BASE,O=(q,G)=>G===Ia||G===xi||!q.equals(C)?q.multiplyUnsafe(G):q.multiply(G),F=O(this,B).add(O(P,I));return F.is0()?void 0:F}toAffine(P){let{px:B,py:I,pz:C}=this,O=this.is0();P==null&&(P=O?r.ONE:r.inv(C));let F=r.mul(B,P),q=r.mul(I,P),G=r.mul(C,P);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(G,r.ONE))throw new Error("invZ was invalid");return{x:F,y:q}}isTorsionFree(){let{h:P,isTorsionFree:B}=e;if(P===xi)return!0;if(B)return B(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:P,clearCofactor:B}=e;return P===xi?this:B?B(x,this):this.multiplyUnsafe(e.h)}toRawBytes(P=!0){return this.assertValidity(),i(x,this,P)}toHex(P=!0){return on.bytesToHex(this.toRawBytes(P))}}x.BASE=new x(e.Gx,e.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,T=(0,$A.wNAF)(x,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:p,weierstrassEquation:o,isWithinCurveOrder:s}}sn.weierstrassPoints=AK;function Hbe(t){let e=(0,$A.validateBasic)(t);return on.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Vbe(t){let e=Hbe(t),{Fp:r,n:i}=e,n=r.BYTES+1,o=2*r.BYTES+1;function s(l){return Ia<l&&l<r.ORDER}function d(l){return em.mod(l,i)}function p(l){return em.invert(l,i)}let{ProjectivePoint:v,normPrivateKeyToScalar:b,weierstrassEquation:x,isWithinCurveOrder:E}=AK({...e,toBytes(l,g,w){let m=g.toAffine(),f=r.toBytes(m.x),y=on.concatBytes;return w?y(Uint8Array.from([g.hasEvenY()?2:3]),f):y(Uint8Array.from([4]),f,r.toBytes(m.y))},fromBytes(l){let g=l.length,w=l[0],m=l.subarray(1);if(g===n&&(w===2||w===3)){let f=on.bytesToNumberBE(m);if(!s(f))throw new Error("Point is not on curve");let y=x(f),R=r.sqrt(y),A=(R&xi)===xi;return(w&1)===1!==A&&(R=r.neg(R)),{x:f,y:R}}else if(g===o&&w===4){let f=r.fromBytes(m.subarray(0,r.BYTES)),y=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:f,y}}else throw new Error(`Point of length ${g} was invalid. Expected ${n} compressed bytes or ${o} uncompressed bytes`)}}),T=l=>on.bytesToHex(on.numberToBytesBE(l,e.nByteLength));function S(l){let g=i>>xi;return l>g}function P(l){return S(l)?d(-l):l}let B=(l,g,w)=>on.bytesToNumberBE(l.slice(g,w));class I{constructor(g,w,m){this.r=g,this.s=w,this.recovery=m,this.assertValidity()}static fromCompact(g){let w=e.nByteLength;return g=(0,Bf.ensureBytes)("compactSignature",g,w*2),new I(B(g,0,w),B(g,w,2*w))}static fromDER(g){let{r:w,s:m}=sn.DER.toSig((0,Bf.ensureBytes)("DER",g));return new I(w,m)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(g){return new I(this.r,this.s,g)}recoverPublicKey(g){let{r:w,s:m,recovery:f}=this,y=$((0,Bf.ensureBytes)("msgHash",g));if(f==null||![0,1,2,3].includes(f))throw new Error("recovery id invalid");let R=f===2||f===3?w+e.n:w;if(R>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let A=f&1?"03":"02",D=v.fromHex(A+T(R)),z=p(R),W=d(-y*z),H=d(m*z),J=v.BASE.multiplyAndAddUnsafe(D,W,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return on.hexToBytes(this.toDERHex())}toDERHex(){return sn.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return on.hexToBytes(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let C={isValidPrivateKey(l){try{return b(l),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{let l=em.getMinHashLength(e.n);return em.mapHashToField(e.randomBytes(l),e.n)},precompute(l=8,g=v.BASE){return g._setWindowSize(l),g.multiply(BigInt(3)),g}};function O(l,g=!0){return v.fromPrivateKey(l).toRawBytes(g)}function F(l){let g=l instanceof Uint8Array,w=typeof l=="string",m=(g||w)&&l.length;return g?m===n||m===o:w?m===2*n||m===2*o:l instanceof v}function q(l,g,w=!0){if(F(l))throw new Error("first arg must be private key");if(!F(g))throw new Error("second arg must be public key");return v.fromHex(g).multiply(b(l)).toRawBytes(w)}let G=e.bits2int||function(l){let g=on.bytesToNumberBE(l),w=l.length*8-e.nBitLength;return w>0?g>>BigInt(w):g},$=e.bits2int_modN||function(l){return d(G(l))},N=on.bitMask(e.nBitLength);function K(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(Ia<=l&&l<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return on.numberToBytesBE(l,e.nByteLength)}function _(l,g,w=a){if(["recovered","canonical"].some(Y=>Y in w))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:f}=e,{lowS:y,prehash:R,extraEntropy:A}=w;y==null&&(y=!0),l=(0,Bf.ensureBytes)("msgHash",l),R&&(l=(0,Bf.ensureBytes)("prehashed msgHash",m(l)));let D=$(l),z=b(g),W=[K(z),K(D)];if(A!=null){let Y=A===!0?f(r.BYTES):A;W.push((0,Bf.ensureBytes)("extraEntropy",Y))}let H=on.concatBytes(...W),J=D;function Z(Y){let Le=G(Y);if(!E(Le))return;let Q=p(Le),X=v.BASE.multiply(Le).toAffine(),Qe=d(X.x);if(Qe===Ia)return;let te=d(Q*d(J+Qe*z));if(te===Ia)return;let re=(X.x===Qe?0:2)|Number(X.y&xi),Zt=te;return y&&S(te)&&(Zt=P(te),re^=1),new I(Qe,Zt,re)}return{seed:H,k2sig:Z}}let a={lowS:e.lowS,prehash:!1},u={lowS:e.lowS,prehash:!1};function h(l,g,w=a){let{seed:m,k2sig:f}=_(l,g,w),y=e;return on.createHmacDrbg(y.hash.outputLen,y.nByteLength,y.hmac)(m,f)}v.BASE._setWindowSize(8);function c(l,g,w,m=u){let f=l;if(g=(0,Bf.ensureBytes)("msgHash",g),w=(0,Bf.ensureBytes)("publicKey",w),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:y,prehash:R}=m,A,D;try{if(typeof f=="string"||f instanceof Uint8Array)try{A=I.fromDER(f)}catch(X){if(!(X instanceof sn.DER.Err))throw X;A=I.fromCompact(f)}else if(typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint"){let{r:X,s:Qe}=f;A=new I(X,Qe)}else throw new Error("PARSE");D=v.fromHex(w)}catch(X){if(X.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(y&&A.hasHighS())return!1;R&&(g=e.hash(g));let{r:z,s:W}=A,H=$(g),J=p(W),Z=d(H*J),Y=d(z*J),Le=v.BASE.multiplyAndAddUnsafe(D,Z,Y)?.toAffine();return Le?d(Le.x)===z:!1}return{CURVE:e,getPublicKey:O,getSharedSecret:q,sign:h,verify:c,ProjectivePoint:v,Signature:I,utils:C}}sn.weierstrass=Vbe;function TK(t,e){let r=t.ORDER,i=Ia;for(let S=r-xi;S%rl===Ia;S/=rl)i+=xi;let n=i,o=rl<<n-xi-xi,s=o*rl,d=(r-xi)/s,p=(d-xi)/rl,v=s-xi,b=o,x=t.pow(e,d),E=t.pow(e,(d+xi)/rl),T=(S,P)=>{let B=x,I=t.pow(P,v),C=t.sqr(I);C=t.mul(C,P);let O=t.mul(S,C);O=t.pow(O,p),O=t.mul(O,I),I=t.mul(O,P),C=t.mul(O,S);let F=t.mul(C,I);O=t.pow(F,b);let q=t.eql(O,t.ONE);I=t.mul(C,E),O=t.mul(F,B),C=t.cmov(I,C,q),F=t.cmov(O,F,q);for(let G=n;G>xi;G--){let $=G-rl;$=rl<<$-xi;let N=t.pow(F,$),K=t.eql(N,t.ONE);I=t.mul(C,B),B=t.mul(B,B),N=t.mul(F,B),C=t.cmov(I,C,K),F=t.cmov(N,F,K)}return{isValid:q,value:C}};if(t.ORDER%SK===K_){let S=(t.ORDER-K_)/SK,P=t.sqrt(t.neg(e));T=(B,I)=>{let C=t.sqr(I),O=t.mul(B,I);C=t.mul(C,O);let F=t.pow(C,S);F=t.mul(F,O);let q=t.mul(F,P),G=t.mul(t.sqr(F),I),$=t.eql(G,B),N=t.cmov(q,F,$);return{isValid:$,value:N}}}return T}sn.SWUFpSqrtRatio=TK;function Zbe(t,e){if(em.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=TK(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return i=>{let n,o,s,d,p,v,b,x;n=t.sqr(i),n=t.mul(n,e.Z),o=t.sqr(n),o=t.add(o,n),s=t.add(o,t.ONE),s=t.mul(s,e.B),d=t.cmov(e.Z,t.neg(o),!t.eql(o,t.ZERO)),d=t.mul(d,e.A),o=t.sqr(s),v=t.sqr(d),p=t.mul(v,e.A),o=t.add(o,p),o=t.mul(o,s),v=t.mul(v,d),p=t.mul(v,e.B),o=t.add(o,p),b=t.mul(n,s);let{isValid:E,value:T}=r(o,v);x=t.mul(n,i),x=t.mul(x,T),b=t.cmov(b,s,E),x=t.cmov(x,T,E);let S=t.isOdd(i)===t.isOdd(x);return x=t.cmov(t.neg(x),x,S),b=t.div(b,d),{x:b,y:x}}}sn.mapToCurveSimpleSWU=Zbe});var WA=V(lh=>{"use strict";M();Object.defineProperty(lh,"__esModule",{value:!0});lh.hmac=lh.HMAC=void 0;var H_=k_(),PK=ju(),bv=class extends PK.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,H_.hash)(e);let i=(0,PK.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(i.length>n?e.create().update(i).digest():i);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,H_.exists)(this),this.iHash.update(e),this}digestInto(e){(0,H_.exists)(this),(0,H_.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:i,finished:n,destroyed:o,blockLen:s,outputLen:d}=this;return e=e,e.finished=n,e.destroyed=o,e.blockLen=s,e.outputLen=d,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};lh.HMAC=bv;var Ybe=(t,e,r)=>new bv(t,e).update(r).digest();lh.hmac=Ybe;lh.hmac.create=(t,e)=>new bv(t,e)});var IK=V(tm=>{"use strict";M();Object.defineProperty(tm,"__esModule",{value:!0});tm.createCurve=tm.getHash=void 0;var Jbe=WA(),RK=ju(),Qbe=GA();function kK(t){return{hash:t,hmac:(e,...r)=>(0,Jbe.hmac)(t,e,(0,RK.concatBytes)(...r)),randomBytes:RK.randomBytes}}tm.getHash=kK;function Xbe(t,e){let r=i=>(0,Qbe.weierstrass)({...t,...kK(i)});return Object.freeze({...r(e),create:r})}tm.createCurve=Xbe});var zK=V(No=>{"use strict";M();Object.defineProperty(No,"__esModule",{value:!0});No.encodeToCurve=No.hashToCurve=No.schnorr=No.secp256k1=void 0;var V_=zA(),ewe=ju(),Sn=Jc(),twe=GA(),io=Pa(),CK=CA(),rwe=IK(),Q_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Z_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),OK=BigInt(1),Y_=BigInt(2),BK=(t,e)=>(t+e/Y_)/e;function jK(t){let e=Q_,r=BigInt(3),i=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),d=BigInt(44),p=BigInt(88),v=t*t*t%e,b=v*v*t%e,x=(0,Sn.pow2)(b,r,e)*b%e,E=(0,Sn.pow2)(x,r,e)*b%e,T=(0,Sn.pow2)(E,Y_,e)*v%e,S=(0,Sn.pow2)(T,n,e)*T%e,P=(0,Sn.pow2)(S,o,e)*S%e,B=(0,Sn.pow2)(P,d,e)*P%e,I=(0,Sn.pow2)(B,p,e)*B%e,C=(0,Sn.pow2)(I,d,e)*P%e,O=(0,Sn.pow2)(C,r,e)*b%e,F=(0,Sn.pow2)(O,s,e)*S%e,q=(0,Sn.pow2)(F,i,e)*v%e,G=(0,Sn.pow2)(q,Y_,e);if(!il.eql(il.sqr(G),t))throw new Error("Cannot find square root");return G}var il=(0,Sn.Field)(Q_,void 0,void 0,{sqrt:jK});No.secp256k1=(0,rwe.createCurve)({a:BigInt(0),b:BigInt(7),Fp:il,n:Z_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Z_,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-OK*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),d=BK(o*t,e),p=BK(-i*t,e),v=(0,Sn.mod)(t-d*r-p*n,e),b=(0,Sn.mod)(-d*i-p*o,e),x=v>s,E=b>s;if(x&&(v=e-v),E&&(b=e-b),v>s||b>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:x,k1:v,k2neg:E,k2:b}}}},V_.sha256);var X_=BigInt(0),qK=t=>typeof t=="bigint"&&X_<t&&t<Q_,iwe=t=>typeof t=="bigint"&&X_<t&&t<Z_,DK={};function J_(t,...e){let r=DK[t];if(r===void 0){let i=(0,V_.sha256)(Uint8Array.from(t,n=>n.charCodeAt(0)));r=(0,io.concatBytes)(i,i),DK[t]=r}return(0,V_.sha256)((0,io.concatBytes)(r,...e))}var ZA=t=>t.toRawBytes(!0).slice(1),HA=t=>(0,io.numberToBytesBE)(t,32),KA=t=>(0,Sn.mod)(t,Q_),wv=t=>(0,Sn.mod)(t,Z_),YA=No.secp256k1.ProjectivePoint,nwe=(t,e,r)=>YA.BASE.multiplyAndAddUnsafe(t,e,r);function VA(t){let e=No.secp256k1.utils.normPrivateKeyToScalar(t),r=YA.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:wv(-e),bytes:ZA(r)}}function NK(t){if(!qK(t))throw new Error("bad x: need 0 < x < p");let e=KA(t*t),r=KA(e*t+BigInt(7)),i=jK(r);i%Y_!==X_&&(i=KA(-i));let n=new YA(t,i,OK);return n.assertValidity(),n}function LK(...t){return wv((0,io.bytesToNumberBE)(J_("BIP0340/challenge",...t)))}function owe(t){return VA(t).bytes}function swe(t,e,r=(0,ewe.randomBytes)(32)){let i=(0,io.ensureBytes)("message",t),{bytes:n,scalar:o}=VA(e),s=(0,io.ensureBytes)("auxRand",r,32),d=HA(o^(0,io.bytesToNumberBE)(J_("BIP0340/aux",s))),p=J_("BIP0340/nonce",d,n,i),v=wv((0,io.bytesToNumberBE)(p));if(v===X_)throw new Error("sign failed: k is zero");let{bytes:b,scalar:x}=VA(v),E=LK(b,n,i),T=new Uint8Array(64);if(T.set(b,0),T.set(HA(wv(x+E*o)),32),!UK(T,i,n))throw new Error("sign: Invalid signature produced");return T}function UK(t,e,r){let i=(0,io.ensureBytes)("signature",t,64),n=(0,io.ensureBytes)("message",e),o=(0,io.ensureBytes)("publicKey",r,32);try{let s=NK((0,io.bytesToNumberBE)(o)),d=(0,io.bytesToNumberBE)(i.subarray(0,32));if(!qK(d))return!1;let p=(0,io.bytesToNumberBE)(i.subarray(32,64));if(!iwe(p))return!1;let v=LK(HA(d),ZA(s),n),b=nwe(s,p,wv(-v));return!(!b||!b.hasEvenY()||b.toAffine().x!==d)}catch{return!1}}No.schnorr=(()=>({getPublicKey:owe,sign:swe,verify:UK,utils:{randomPrivateKey:No.secp256k1.utils.randomPrivateKey,lift_x:NK,pointToBytes:ZA,numberToBytesBE:io.numberToBytesBE,bytesToNumberBE:io.bytesToNumberBE,taggedHash:J_,mod:Sn.mod}}))();var awe=(()=>(0,CK.isogenyMap)(il,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))))(),fwe=(()=>(0,twe.mapToCurveSimpleSWU)(il,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:il.create(BigInt("-11"))}))(),FK=(()=>(0,CK.createHasher)(No.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=fwe(il.create(t[0]));return awe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:il.ORDER,m:1,k:128,expand:"xmd",hash:V_.sha256}))();No.hashToCurve=(()=>FK.hashToCurve)();No.encodeToCurve=(()=>FK.encodeToCurve)()});var JA=V(rm=>{"use strict";M();Object.defineProperty(rm,"__esModule",{value:!0});rm.decodeHex=rm.remove0x=void 0;var uwe=Ta();function $K(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}rm.remove0x=$K;function cwe(t){return(0,uwe.hexToBytes)($K(t))}rm.decodeHex=cwe});var XA=V(wo=>{"use strict";M();Object.defineProperty(wo,"__esModule",{value:!0});wo.output=wo.exists=wo.hash=wo.bytes=wo.bool=wo.number=void 0;function e3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}wo.number=e3;function GK(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}wo.bool=GK;function QA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}wo.bytes=QA;function WK(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");e3(t.outputLen),e3(t.blockLen)}wo.hash=WK;function KK(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}wo.exists=KK;function HK(t,e){QA(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}wo.output=HK;var lwe={number:e3,bool:GK,bytes:QA,hash:WK,exists:KK,output:HK};wo.default=lwe});var ZK=V(im=>{"use strict";M();Object.defineProperty(im,"__esModule",{value:!0});im.poly1305=im.wrapConstructorWithKey=void 0;var t3=Ta(),eT=XA(),Gn=(t,e)=>t[e++]&255|(t[e++]&255)<<8,tT=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,t3.toBytes)(e),(0,t3.ensureBytes)(e,32);let r=Gn(e,0),i=Gn(e,2),n=Gn(e,4),o=Gn(e,6),s=Gn(e,8),d=Gn(e,10),p=Gn(e,12),v=Gn(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|d<<2)&8191,this.r[7]=(d>>>11|p<<5)&8065,this.r[8]=(p>>>8|v<<8)&8191,this.r[9]=v>>>5&127;for(let b=0;b<8;b++)this.pad[b]=Gn(e,16+2*b)}process(e,r,i=!1){let n=i?0:2048,{h:o,r:s}=this,d=s[0],p=s[1],v=s[2],b=s[3],x=s[4],E=s[5],T=s[6],S=s[7],P=s[8],B=s[9],I=Gn(e,r+0),C=Gn(e,r+2),O=Gn(e,r+4),F=Gn(e,r+6),q=Gn(e,r+8),G=Gn(e,r+10),$=Gn(e,r+12),N=Gn(e,r+14),K=o[0]+(I&8191),_=o[1]+((I>>>13|C<<3)&8191),a=o[2]+((C>>>10|O<<6)&8191),u=o[3]+((O>>>7|F<<9)&8191),h=o[4]+((F>>>4|q<<12)&8191),c=o[5]+(q>>>1&8191),l=o[6]+((q>>>14|G<<2)&8191),g=o[7]+((G>>>11|$<<5)&8191),w=o[8]+(($>>>8|N<<8)&8191),m=o[9]+(N>>>5|n),f=0,y=f+K*d+_*(5*B)+a*(5*P)+u*(5*S)+h*(5*T);f=y>>>13,y&=8191,y+=c*(5*E)+l*(5*x)+g*(5*b)+w*(5*v)+m*(5*p),f+=y>>>13,y&=8191;let R=f+K*p+_*d+a*(5*B)+u*(5*P)+h*(5*S);f=R>>>13,R&=8191,R+=c*(5*T)+l*(5*E)+g*(5*x)+w*(5*b)+m*(5*v),f+=R>>>13,R&=8191;let A=f+K*v+_*p+a*d+u*(5*B)+h*(5*P);f=A>>>13,A&=8191,A+=c*(5*S)+l*(5*T)+g*(5*E)+w*(5*x)+m*(5*b),f+=A>>>13,A&=8191;let D=f+K*b+_*v+a*p+u*d+h*(5*B);f=D>>>13,D&=8191,D+=c*(5*P)+l*(5*S)+g*(5*T)+w*(5*E)+m*(5*x),f+=D>>>13,D&=8191;let z=f+K*x+_*b+a*v+u*p+h*d;f=z>>>13,z&=8191,z+=c*(5*B)+l*(5*P)+g*(5*S)+w*(5*T)+m*(5*E),f+=z>>>13,z&=8191;let W=f+K*E+_*x+a*b+u*v+h*p;f=W>>>13,W&=8191,W+=c*d+l*(5*B)+g*(5*P)+w*(5*S)+m*(5*T),f+=W>>>13,W&=8191;let H=f+K*T+_*E+a*x+u*b+h*v;f=H>>>13,H&=8191,H+=c*p+l*d+g*(5*B)+w*(5*P)+m*(5*S),f+=H>>>13,H&=8191;let J=f+K*S+_*T+a*E+u*x+h*b;f=J>>>13,J&=8191,J+=c*v+l*p+g*d+w*(5*B)+m*(5*P),f+=J>>>13,J&=8191;let Z=f+K*P+_*S+a*T+u*E+h*x;f=Z>>>13,Z&=8191,Z+=c*b+l*v+g*p+w*d+m*(5*B),f+=Z>>>13,Z&=8191;let Y=f+K*B+_*P+a*S+u*T+h*E;f=Y>>>13,Y&=8191,Y+=c*x+l*b+g*v+w*p+m*d,f+=Y>>>13,Y&=8191,f=(f<<2)+f|0,f=f+y|0,y=f&8191,f=f>>>13,R+=f,o[0]=y,o[1]=R,o[2]=A,o[3]=D,o[4]=z,o[5]=W,o[6]=H,o[7]=J,o[8]=Z,o[9]=Y}finalize(){let{h:e,pad:r}=this,i=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let d=2;d<10;d++)e[d]+=n,n=e[d]>>>13,e[d]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let d=1;d<10;d++)i[d]=e[d]+n,n=i[d]>>>13,i[d]&=8191;i[9]-=1<<13;let o=(n^1)-1;for(let d=0;d<10;d++)i[d]&=o;o=~o;for(let d=0;d<10;d++)e[d]=e[d]&o|i[d];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let d=1;d<8;d++)s=(e[d]+r[d]|0)+(s>>>16)|0,e[d]=s&65535}update(e){eT.default.exists(this);let{buffer:r,blockLen:i}=this;e=(0,t3.toBytes)(e);let n=e.length;for(let o=0;o<n;){let s=Math.min(i-this.pos,n-o);if(s===i){for(;i<=n-o;o+=i)this.process(e,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){eT.default.exists(this),eT.default.output(e,this),this.finished=!0;let{buffer:r,h:i}=this,{pos:n}=this;if(n){for(r[n++]=1;n<16;n++)r[n]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=i[s]>>>0,e[o++]=i[s]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}};function VK(t){let e=(i,n)=>t(n).update((0,t3.toBytes)(i)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}im.wrapConstructorWithKey=VK;im.poly1305=VK(t=>new tT(t))});var YK=V(i3=>{"use strict";M();Object.defineProperty(i3,"__esModule",{value:!0});i3.salsaBasic=void 0;var Df=XA(),Cf=Ta(),dwe=(0,Cf.utf8ToBytes)("expand 16-byte k"),hwe=(0,Cf.utf8ToBytes)("expand 32-byte k"),pwe=(0,Cf.u32)(dwe),mwe=(0,Cf.u32)(hwe),r3=t=>!(t.byteOffset%4),ywe=t=>{let{core:e,rounds:r,counterRight:i,counterLen:n,allow128bitKeys:o,extendNonceFn:s,blockLen:d}=(0,Cf.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},t);Df.default.number(n),Df.default.number(r),Df.default.number(d),Df.default.bool(i),Df.default.bool(o);let p=d/4;if(d%4!==0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(v,b,x,E,T=0)=>{if(Df.default.bytes(v),Df.default.bytes(b),Df.default.bytes(x),E||(E=new Uint8Array(x.length)),Df.default.bytes(E),Df.default.number(T),T<0||T>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(E.length<x.length)throw new Error(`Salsa/ChaCha: output (${E.length}) is shorter than data (${x.length})`);let S=[],P,B;if(v.length===32)r3(v)?P=v:(P=v.slice(),S.push(P)),B=mwe;else if(v.length===16&&o)P=new Uint8Array(32),P.set(v),P.set(v,16),B=pwe,S.push(P);else throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${v.length}`);if(r3(b)||(b=b.slice(),S.push(b)),s){if(b.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");P=s(B,P,b.subarray(0,16),new Uint8Array(32)),S.push(P),b=b.subarray(16)}let I=16-n;if(b.length!==I)throw new Error(`Salsa/ChaCha: nonce must be ${I} or 16 bytes`);if(I!==12){let K=new Uint8Array(12);K.set(b,i?0:12-b.length),S.push(b=K)}let C=new Uint8Array(d),O=(0,Cf.u32)(C),F=(0,Cf.u32)(P),q=(0,Cf.u32)(b),G=r3(x)&&(0,Cf.u32)(x),$=r3(E)&&(0,Cf.u32)(E);S.push(O);let N=x.length;for(let K=0,_=T;K<N;_++){if(e(B,F,q,O,_,r),_>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");let a=Math.min(d,N-K);if(a===d&&$&&G){let u=K/4;if(K%4!==0)throw new Error("Salsa/ChaCha: invalid block position");for(let h=0;h<p;h++)$[u+h]=G[u+h]^O[h];K+=d;continue}for(let u=0;u<a;u++)E[K+u]=x[K+u]^C[u];K+=a}for(let K=0;K<S.length;K++)S[K].fill(0);return E}};i3.salsaBasic=ywe});var eH=V(ii=>{"use strict";M();Object.defineProperty(ii,"__esModule",{value:!0});ii.xchacha20poly1305=ii.chacha20poly1305=ii._poly1305_aead=ii.chacha12=ii.chacha8=ii.xchacha20=ii.chacha20=ii.chacha20orig=ii.hchacha=void 0;var Ba=Ta(),gwe=ZK(),_v=YK(),Ze=(t,e)=>t<<e|t>>>32-e;function xv(t,e,r,i,n,o=20){let s=t[0],d=t[1],p=t[2],v=t[3],b=e[0],x=e[1],E=e[2],T=e[3],S=e[4],P=e[5],B=e[6],I=e[7],C=n,O=r[0],F=r[1],q=r[2],G=s,$=d,N=p,K=v,_=b,a=x,u=E,h=T,c=S,l=P,g=B,w=I,m=C,f=O,y=F,R=q;for(let D=0;D<o;D+=2)G=G+_|0,m=Ze(m^G,16),c=c+m|0,_=Ze(_^c,12),G=G+_|0,m=Ze(m^G,8),c=c+m|0,_=Ze(_^c,7),$=$+a|0,f=Ze(f^$,16),l=l+f|0,a=Ze(a^l,12),$=$+a|0,f=Ze(f^$,8),l=l+f|0,a=Ze(a^l,7),N=N+u|0,y=Ze(y^N,16),g=g+y|0,u=Ze(u^g,12),N=N+u|0,y=Ze(y^N,8),g=g+y|0,u=Ze(u^g,7),K=K+h|0,R=Ze(R^K,16),w=w+R|0,h=Ze(h^w,12),K=K+h|0,R=Ze(R^K,8),w=w+R|0,h=Ze(h^w,7),G=G+a|0,R=Ze(R^G,16),g=g+R|0,a=Ze(a^g,12),G=G+a|0,R=Ze(R^G,8),g=g+R|0,a=Ze(a^g,7),$=$+u|0,m=Ze(m^$,16),w=w+m|0,u=Ze(u^w,12),$=$+u|0,m=Ze(m^$,8),w=w+m|0,u=Ze(u^w,7),N=N+h|0,f=Ze(f^N,16),c=c+f|0,h=Ze(h^c,12),N=N+h|0,f=Ze(f^N,8),c=c+f|0,h=Ze(h^c,7),K=K+_|0,y=Ze(y^K,16),l=l+y|0,_=Ze(_^l,12),K=K+_|0,y=Ze(y^K,8),l=l+y|0,_=Ze(_^l,7);let A=0;i[A++]=s+G|0,i[A++]=d+$|0,i[A++]=p+N|0,i[A++]=v+K|0,i[A++]=b+_|0,i[A++]=x+a|0,i[A++]=E+u|0,i[A++]=T+h|0,i[A++]=S+c|0,i[A++]=P+l|0,i[A++]=B+g|0,i[A++]=I+w|0,i[A++]=C+m|0,i[A++]=O+f|0,i[A++]=F+y|0,i[A++]=q+R|0}function XK(t,e,r,i){let n=(0,Ba.u32)(e),o=(0,Ba.u32)(r),s=(0,Ba.u32)(i),d=t[0],p=t[1],v=t[2],b=t[3],x=n[0],E=n[1],T=n[2],S=n[3],P=n[4],B=n[5],I=n[6],C=n[7],O=o[0],F=o[1],q=o[2],G=o[3];for(let $=0;$<20;$+=2)d=d+x|0,O=Ze(O^d,16),P=P+O|0,x=Ze(x^P,12),d=d+x|0,O=Ze(O^d,8),P=P+O|0,x=Ze(x^P,7),p=p+E|0,F=Ze(F^p,16),B=B+F|0,E=Ze(E^B,12),p=p+E|0,F=Ze(F^p,8),B=B+F|0,E=Ze(E^B,7),v=v+T|0,q=Ze(q^v,16),I=I+q|0,T=Ze(T^I,12),v=v+T|0,q=Ze(q^v,8),I=I+q|0,T=Ze(T^I,7),b=b+S|0,G=Ze(G^b,16),C=C+G|0,S=Ze(S^C,12),b=b+S|0,G=Ze(G^b,8),C=C+G|0,S=Ze(S^C,7),d=d+E|0,G=Ze(G^d,16),I=I+G|0,E=Ze(E^I,12),d=d+E|0,G=Ze(G^d,8),I=I+G|0,E=Ze(E^I,7),p=p+T|0,O=Ze(O^p,16),C=C+O|0,T=Ze(T^C,12),p=p+T|0,O=Ze(O^p,8),C=C+O|0,T=Ze(T^C,7),v=v+S|0,F=Ze(F^v,16),P=P+F|0,S=Ze(S^P,12),v=v+S|0,F=Ze(F^v,8),P=P+F|0,S=Ze(S^P,7),b=b+x|0,q=Ze(q^b,16),B=B+q|0,x=Ze(x^B,12),b=b+x|0,q=Ze(q^b,8),B=B+q|0,x=Ze(x^B,7);return s[0]=d,s[1]=p,s[2]=v,s[3]=b,s[4]=O,s[5]=F,s[6]=q,s[7]=G,i}ii.hchacha=XK;ii.chacha20orig=(0,_v.salsaBasic)({core:xv,counterRight:!1,counterLen:8});ii.chacha20=(0,_v.salsaBasic)({core:xv,counterRight:!1,counterLen:4,allow128bitKeys:!1});ii.xchacha20=(0,_v.salsaBasic)({core:xv,counterRight:!1,counterLen:8,extendNonceFn:XK,allow128bitKeys:!1});ii.chacha8=(0,_v.salsaBasic)({core:xv,counterRight:!1,counterLen:4,rounds:8});ii.chacha12=(0,_v.salsaBasic)({core:xv,counterRight:!1,counterLen:4,rounds:12});var vwe=new Uint8Array(16),JK=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(vwe.subarray(r))},QK=(t,e,r,i,n)=>{let o=t(e,r,new Uint8Array(32)),s=gwe.poly1305.create(o);n&&JK(s,n),JK(s,i);let d=new Uint8Array(16),p=(0,Ba.createView)(d);(0,Ba.setBigUint64)(p,0,BigInt(n?n.length:0),!0),(0,Ba.setBigUint64)(p,8,BigInt(i.length),!0),s.update(d);let v=s.digest();return o.fill(0),v},bwe=t=>(e,r,i)=>((0,Ba.ensureBytes)(e,32),(0,Ba.ensureBytes)(r),{tagLength:16,encrypt:(o,s)=>{let d=o.length,p=d+16;s?(0,Ba.ensureBytes)(s,p):s=new Uint8Array(p),t(e,r,o,s,1);let v=QK(t,e,r,s.subarray(0,-16),i);return s.set(v,d),s},decrypt:(o,s)=>{let d=o.length,p=d-16;if(d<16)throw new Error(`encrypted data must be at least ${16} bytes`);s?(0,Ba.ensureBytes)(s,p):s=new Uint8Array(p);let v=o.subarray(0,-16),b=o.subarray(-16),x=QK(t,e,r,v,i);if(!(0,Ba.equalBytes)(b,x))throw new Error("invalid tag");return t(e,r,v,s,1),s}});ii._poly1305_aead=bwe;ii.chacha20poly1305=(0,ii._poly1305_aead)(ii.chacha20);ii.xchacha20poly1305=(0,ii._poly1305_aead)(ii.xchacha20)});var sH=V(nl=>{"use strict";M();Object.defineProperty(nl,"__esModule",{value:!0});nl.hkdf=nl.expand=nl.extract=void 0;var iT=k_(),tH=ju(),iH=WA();function nH(t,e,r){return(0,iT.hash)(t),r===void 0&&(r=new Uint8Array(t.outputLen)),(0,iH.hmac)(t,(0,tH.toBytes)(r),(0,tH.toBytes)(e))}nl.extract=nH;var rT=new Uint8Array([0]),rH=new Uint8Array;function oH(t,e,r,i=32){if((0,iT.hash)(t),(0,iT.number)(i),i>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");let n=Math.ceil(i/t.outputLen);r===void 0&&(r=rH);let o=new Uint8Array(n*t.outputLen),s=iH.hmac.create(t,e),d=s._cloneInto(),p=new Uint8Array(s.outputLen);for(let v=0;v<n;v++)rT[0]=v+1,d.update(v===0?rH:p).update(r).update(rT).digestInto(p),o.set(p,t.outputLen*v),s._cloneInto(d);return s.destroy(),d.destroy(),p.fill(0),rT.fill(0),o.slice(0,i)}nl.expand=oH;var wwe=(t,e,r,i,n)=>oH(t,nH(t,e,r),i,n);nl.hkdf=wwe});var uH=V(n3=>{"use strict";M();Object.defineProperty(n3,"__esModule",{value:!0});n3.aes256gcm=void 0;var aH=Ta(),fH=P2(),nT=dv();function _we(t,e,r){var i=function(o){var s=(0,fH.createCipheriv)("aes-256-gcm",t,e);r&&s.setAAD(r);var d=s.update(o),p=s.final();return(0,aH.concatBytes)(d,p,s.getAuthTag())},n=function(o){var s=o.subarray(0,o.length-nT.AEAD_TAG_LENGTH),d=o.subarray(-nT.AEAD_TAG_LENGTH),p=(0,fH.createDecipheriv)("aes-256-gcm",t,e);r&&p.setAAD(r),p.setAuthTag(d);var v=p.update(s),b=p.final();return(0,aH.concatBytes)(v,b)};return{tagLength:nT.AEAD_TAG_LENGTH,encrypt:i,decrypt:n}}n3.aes256gcm=_we});var oT=V(ol=>{"use strict";M();Object.defineProperty(ol,"__esModule",{value:!0});ol.deriveKey=ol.aesDecrypt=ol.aesEncrypt=void 0;var xwe=eH(),lH=Ta(),Mwe=cA(),Ewe=sH(),Swe=zA(),cH=ah(),o3=dv(),Awe=uH();function Twe(t,e){return dH(!0,t,e)}ol.aesEncrypt=Twe;function Pwe(t,e){return dH(!1,t,e)}ol.aesDecrypt=Pwe;function Rwe(t){return(0,Ewe.hkdf)(Swe.sha256,t,void 0,void 0,32)}ol.deriveKey=Rwe;function dH(t,e,r){var i=(0,cH.symmetricAlgorithm)(),n=t?kwe:Iwe;if(i==="aes-256-gcm")return n(Awe.aes256gcm,e,r,(0,cH.symmetricNonceLength)());if(i==="xchacha20")return n(xwe.xchacha20poly1305,e,r,o3.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function kwe(t,e,r,i){var n=(0,Mwe.randomBytes)(i),o=t(e,n),s=o.encrypt(r),d=s.subarray(0,s.length-o3.AEAD_TAG_LENGTH),p=s.subarray(-o3.AEAD_TAG_LENGTH);return(0,lH.concatBytes)(n,p,d)}function Iwe(t,e,r,i){var n=i+o3.AEAD_TAG_LENGTH,o=r.subarray(0,i),s=r.subarray(i,n),d=r.subarray(n),p=t(e,Uint8Array.from(o)),v=(0,lH.concatBytes)(d,s);return p.decrypt(v)}});var yH=V(no=>{"use strict";M();Object.defineProperty(no,"__esModule",{value:!0});no.hexToPublicKey=no.convertPublicKeyFormat=no.getSharedPoint=no.getSharedKey=no.getPublicKey=no.isValidPrivateKey=no.getValidSecret=void 0;var Bwe=Ta(),Dwe=cA(),hH=EK(),Cwe=zK(),sT=ah(),pH=dv(),Owe=JA(),jwe=oT();function qwe(){var t;do t=(0,Dwe.randomBytes)(pH.SECRET_KEY_LENGTH);while(!mH(t));return t}no.getValidSecret=qwe;function mH(t){return Mv(function(e){return e.utils.isValidPrivateKey(t)},function(){return!0},function(){return!0})}no.isValidPrivateKey=mH;function Nwe(t){return Mv(function(e){return e.getPublicKey(t)},function(e){return e.getPublicKey(t)},function(e){return e.getPublicKey(t)})}no.getPublicKey=Nwe;function Lwe(t,e){return(0,jwe.deriveKey)((0,Bwe.concatBytes)(t,e))}no.getSharedKey=Lwe;function Uwe(t,e,r){return Mv(function(i){return i.getSharedSecret(t,e,r)},function(i){return i.getSharedSecret(t,e)},function(i){var n=i.utils.getExtendedPublicKey(t).scalar,o=i.ExtendedPoint.fromHex(e).multiply(n);return o.toRawBytes()})}no.getSharedPoint=Uwe;function Fwe(t,e){return Mv(function(r){return r.getSharedSecret(BigInt(1),t,e)},function(){return t},function(){return t})}no.convertPublicKeyFormat=Fwe;function zwe(t){var e=(0,Owe.decodeHex)(t);return Mv(function(){if(e.length===pH.ETH_PUBLIC_KEY_SIZE){var r=new Uint8Array(1+e.length);return r.set([4]),r.set(e,1),r}return e},function(){return e},function(){return e})}no.hexToPublicKey=zwe;function Mv(t,e,r){if((0,sT.ellipticCurve)()==="secp256k1")return t(Cwe.secp256k1);if((0,sT.ellipticCurve)()==="x25519")return e(hH.x25519);if((0,sT.ellipticCurve)()==="ed25519")return r(hH.ed25519);throw new Error("Not implemented")}});var s3=V(Nu=>{"use strict";M();var $we=Nu&&Nu.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),aT=Nu&&Nu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$we(e,t,r)};Object.defineProperty(Nu,"__esModule",{value:!0});aT(yH(),Nu);aT(JA(),Nu);aT(oT(),Nu)});var uT=V(f3=>{"use strict";M();Object.defineProperty(f3,"__esModule",{value:!0});f3.PublicKey=void 0;var fT=Ta(),Gwe=ah(),a3=s3(),Wwe=function(){function t(e){this.data=(0,a3.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,a3.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return L.Buffer.from((0,a3.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return L.Buffer.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),e?(0,fT.bytesToHex)(this.data):(0,fT.bytesToHex)(this.uncompressed)},t.prototype.decapsulate=function(e){var r,i;return(0,Gwe.isHkdfKeyCompressed)()?(r=this.data,i=e.multiply(this,!0)):(r=this.uncompressed,i=e.multiply(this,!1)),(0,a3.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,fT.equalBytes)(this.data,e.data)},t}();f3.PublicKey=Wwe});var vH=V(u3=>{"use strict";M();Object.defineProperty(u3,"__esModule",{value:!0});u3.PrivateKey=void 0;var gH=Ta(),Kwe=ah(),nm=s3(),Hwe=uT(),Vwe=function(){function t(e){var r=e===void 0?(0,nm.getValidSecret)():e;if(!(0,nm.isValidPrivateKey)(r))throw new Error("Invalid private key");this.data=r,this.publicKey=new Hwe.PublicKey((0,nm.getPublicKey)(r))}return t.fromHex=function(e){return new t((0,nm.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return L.Buffer.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,gH.bytesToHex)(this.data)},t.prototype.encapsulate=function(e){var r,i;return(0,Kwe.isHkdfKeyCompressed)()?(r=this.publicKey.compressed,i=this.multiply(e,!0)):(r=this.publicKey.uncompressed,i=this.multiply(e,!1)),(0,nm.getSharedKey)(r,i)},t.prototype.multiply=function(e,r){return r===void 0&&(r=!1),(0,nm.getSharedPoint)(this.data,e.compressed,r)},t.prototype.equals=function(e){return(0,gH.equalBytes)(this.data,e.data)},t}();u3.PrivateKey=Vwe});var cT=V(om=>{"use strict";M();Object.defineProperty(om,"__esModule",{value:!0});om.PublicKey=om.PrivateKey=void 0;var Zwe=vH();Object.defineProperty(om,"PrivateKey",{enumerable:!0,get:function(){return Zwe.PrivateKey}});var Ywe=uT();Object.defineProperty(om,"PublicKey",{enumerable:!0,get:function(){return Ywe.PublicKey}})});var _H=V(Lo=>{"use strict";M();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.utils=Lo.PublicKey=Lo.PrivateKey=Lo.ECIES_CONFIG=Lo.decrypt=Lo.encrypt=void 0;var Jwe=Ta(),bH=ah(),sm=cT(),dh=s3();function Qwe(t,e){var r=new sm.PrivateKey,i=t instanceof Uint8Array?new sm.PublicKey(t):sm.PublicKey.fromHex(t),n=r.encapsulate(i),o=(0,dh.aesEncrypt)(n,e),s;return(0,bH.isEphemeralKeyCompressed)()?s=r.publicKey.compressed:s=r.publicKey.uncompressed,L.Buffer.from((0,Jwe.concatBytes)(s,o))}Lo.encrypt=Qwe;function Xwe(t,e){var r=t instanceof Uint8Array?new sm.PrivateKey(t):sm.PrivateKey.fromHex(t),i=(0,bH.ephemeralKeySize)(),n=new sm.PublicKey(e.subarray(0,i)),o=e.subarray(i),s=n.decapsulate(r);return L.Buffer.from((0,dh.aesDecrypt)(s,o))}Lo.decrypt=Xwe;var e2e=ah();Object.defineProperty(Lo,"ECIES_CONFIG",{enumerable:!0,get:function(){return e2e.ECIES_CONFIG}});var wH=cT();Object.defineProperty(Lo,"PrivateKey",{enumerable:!0,get:function(){return wH.PrivateKey}});Object.defineProperty(Lo,"PublicKey",{enumerable:!0,get:function(){return wH.PublicKey}});Lo.utils={aesDecrypt:dh.aesDecrypt,aesEncrypt:dh.aesEncrypt,decodeHex:dh.decodeHex,getValidSecret:dh.getValidSecret,remove0x:dh.remove0x}});var Hi=V((cUe,xH)=>{"use strict";M();xH.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var Of=V((dUe,dT)=>{"use strict";M();var t2e=Jt(),r2e=Object.getPrototypeOf(async function(){}).constructor,MH=globalThis.Blob||t2e.Blob,i2e=typeof MH<"u"?function(e){return e instanceof MH}:function(e){return!1},lT=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e}};dT.exports={AggregateError:lT,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((i,n)=>{t=i,e=n}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof r2e},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:i2e};dT.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var l3=V((pUe,c3)=>{"use strict";M();var{AbortController:EH,AbortSignal:n2e}=typeof self<"u"?self:typeof window<"u"?window:void 0;c3.exports=EH;c3.exports.AbortSignal=n2e;c3.exports.default=EH});var _o=V((yUe,TH)=>{"use strict";M();var{format:o2e,inspect:d3,AggregateError:s2e}=Of(),a2e=globalThis.AggregateError||s2e,f2e=Symbol("kIsNodeError"),u2e=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c2e=/^([A-Z][a-z0-9]*)+$/,l2e="__node_internal_",h3={};function hh(t,e){if(!t)throw new h3.ERR_INTERNAL_ASSERTION(e)}function SH(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function d2e(t,e,r){if(typeof e=="function")return hh(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return hh(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:o2e(e,...r)}function Wn(t,e,r){r||(r=Error);class i extends r{constructor(...o){super(d2e(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[f2e]=!0,h3[t]=i}function AH(t){let e=l2e+t.name;return Object.defineProperty(t,"name",{value:e}),t}function h2e(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new a2e([e,t],e.message);return r.code=e.code,r}return t||e}var hT=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new h3.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Wn("ERR_ASSERTION","%s",Error);Wn("ERR_INVALID_ARG_TYPE",(t,e,r)=>{hh(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],o=[],s=[];for(let p of e)hh(typeof p=="string","All expected entries have to be of type string"),u2e.includes(p)?n.push(p.toLowerCase()):c2e.test(p)?o.push(p):(hh(p!=="object",'The value "object" should be written as "Object"'),s.push(p));if(o.length>0){let p=n.indexOf("object");p!==-1&&(n.splice(n,p,1),o.push("Object"))}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let p=n.pop();i+=`one of type ${n.join(", ")}, or ${p}`}}(o.length>0||s.length>0)&&(i+=" or ")}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let p=o.pop();i+=`an instance of ${o.join(", ")}, or ${p}`}}s.length>0&&(i+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(i+="an "),i+=`${s[0]}`;break;case 2:i+=`one of ${s[0]} or ${s[1]}`;break;default:{let p=s.pop();i+=`one of ${s.join(", ")}, or ${p}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var d;if((d=r.constructor)!==null&&d!==void 0&&d.name)i+=`. Received an instance of ${r.constructor.name}`;else{let p=d3(r,{depth:-1});i+=`. Received ${p}`}}else{let p=d3(r,{colors:!1});p.length>25&&(p=`${p.slice(0,25)}...`),i+=`. Received type ${typeof r} (${p})`}return i},TypeError);Wn("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=d3(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);Wn("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);Wn("ERR_MISSING_ARGS",(...t)=>{hh(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);Wn("ERR_OUT_OF_RANGE",(t,e,r)=>{hh(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=SH(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=SH(i)),i+="n"):i=d3(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);Wn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Wn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Wn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Wn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Wn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Wn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Wn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Wn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Wn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Wn("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Wn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);TH.exports={AbortError:hT,aggregateTwoErrors:AH(h2e),hideStackFrames:AH,codes:h3}});var Ev=V((vUe,jH)=>{"use strict";M();var{ArrayIsArray:mT,ArrayPrototypeIncludes:IH,ArrayPrototypeJoin:BH,ArrayPrototypeMap:p2e,NumberIsInteger:yT,NumberIsNaN:m2e,NumberMAX_SAFE_INTEGER:y2e,NumberMIN_SAFE_INTEGER:g2e,NumberParseInt:v2e,ObjectPrototypeHasOwnProperty:b2e,RegExpPrototypeExec:DH,String:w2e,StringPrototypeToUpperCase:_2e,StringPrototypeTrim:x2e}=Hi(),{hideStackFrames:Js,codes:{ERR_SOCKET_BAD_PORT:M2e,ERR_INVALID_ARG_TYPE:xo,ERR_INVALID_ARG_VALUE:am,ERR_OUT_OF_RANGE:ph,ERR_UNKNOWN_SIGNAL:PH}}=_o(),{normalizeEncoding:E2e}=Of(),{isAsyncFunction:S2e,isArrayBufferView:A2e}=Of().types,RH={};function T2e(t){return t===(t|0)}function P2e(t){return t===t>>>0}var R2e=/^[0-7]+$/,k2e="must be a 32-bit unsigned integer or an octal string";function I2e(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(DH(R2e,t)===null)throw new am(e,t,k2e);t=v2e(t,8)}return CH(t,e),t}var B2e=Js((t,e,r=g2e,i=y2e)=>{if(typeof t!="number")throw new xo(e,"number",t);if(!yT(t))throw new ph(e,"an integer",t);if(t<r||t>i)throw new ph(e,`>= ${r} && <= ${i}`,t)}),D2e=Js((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new xo(e,"number",t);if(!yT(t))throw new ph(e,"an integer",t);if(t<r||t>i)throw new ph(e,`>= ${r} && <= ${i}`,t)}),CH=Js((t,e,r=!1)=>{if(typeof t!="number")throw new xo(e,"number",t);if(!yT(t))throw new ph(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new ph(e,`>= ${i} && <= ${n}`,t)});function gT(t,e){if(typeof t!="string")throw new xo(e,"string",t)}function C2e(t,e,r=void 0,i){if(typeof t!="number")throw new xo(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&m2e(t))throw new ph(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var O2e=Js((t,e,r)=>{if(!IH(r,t)){let n="must be one of: "+BH(p2e(r,o=>typeof o=="string"?`'${o}'`:w2e(o)),", ");throw new am(e,t,n)}});function OH(t,e){if(typeof t!="boolean")throw new xo(e,"boolean",t)}function pT(t,e,r){return t==null||!b2e(t,e)?r:t[e]}var j2e=Js((t,e,r=null)=>{let i=pT(r,"allowArray",!1),n=pT(r,"allowFunction",!1);if(!pT(r,"nullable",!1)&&t===null||!i&&mT(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new xo(e,"Object",t)}),q2e=Js((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new xo(e,"a dictionary",t)}),vT=Js((t,e,r=0)=>{if(!mT(t))throw new xo(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new am(e,t,i)}});function N2e(t,e){vT(t,e);for(let r=0;r<t.length;r++)gT(t[r],`${e}[${r}]`)}function L2e(t,e){vT(t,e);for(let r=0;r<t.length;r++)OH(t[r],`${e}[${r}]`)}function U2e(t,e="signal"){if(gT(t,e),RH[t]===void 0)throw RH[_2e(t)]!==void 0?new PH(t+" (signals must use all capital letters)"):new PH(t)}var F2e=Js((t,e="buffer")=>{if(!A2e(t))throw new xo(e,["Buffer","TypedArray","DataView"],t)});function z2e(t,e){let r=E2e(e),i=t.length;if(r==="hex"&&i%2!==0)throw new am("encoding",e,`is invalid for data of length ${i}`)}function $2e(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&x2e(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new M2e(e,t,r);return t|0}var G2e=Js((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new xo(e,"AbortSignal",t)}),W2e=Js((t,e)=>{if(typeof t!="function")throw new xo(e,"Function",t)}),K2e=Js((t,e)=>{if(typeof t!="function"||S2e(t))throw new xo(e,"Function",t)}),H2e=Js((t,e)=>{if(t!==void 0)throw new xo(e,"undefined",t)});function V2e(t,e,r){if(!IH(r,t))throw new xo(e,`('${BH(r,"|")}')`,t)}var Z2e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function kH(t,e){if(typeof t>"u"||!DH(Z2e,t))throw new am(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Y2e(t){if(typeof t=="string")return kH(t,"hints"),t;if(mT(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];kH(n,"hints"),r+=n,i!==e-1&&(r+=", ")}return r}throw new am("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}jH.exports={isInt32:T2e,isUint32:P2e,parseFileMode:I2e,validateArray:vT,validateStringArray:N2e,validateBooleanArray:L2e,validateBoolean:OH,validateBuffer:F2e,validateDictionary:q2e,validateEncoding:z2e,validateFunction:W2e,validateInt32:D2e,validateInteger:B2e,validateNumber:C2e,validateObject:j2e,validateOneOf:O2e,validatePlainFunction:K2e,validatePort:$2e,validateSignalName:U2e,validateString:gT,validateUint32:CH,validateUndefined:H2e,validateUnion:V2e,validateAbortSignal:G2e,validateLinkHeaderValue:Y2e}});var qf=V((wUe,QH)=>{"use strict";M();var{Symbol:p3,SymbolAsyncIterator:qH,SymbolIterator:NH,SymbolFor:LH}=Hi(),UH=p3("kDestroyed"),FH=p3("kIsErrored"),bT=p3("kIsReadable"),zH=p3("kIsDisturbed"),J2e=LH("nodejs.webstream.isClosedPromise"),Q2e=LH("nodejs.webstream.controllerErrorFunction");function m3(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function y3(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function X2e(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function jf(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function $H(t){return!!(t&&!jf(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function GH(t){return!!(t&&!jf(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function WH(t){return!!(t&&!jf(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function e_e(t){return $H(t)||GH(t)||WH(t)}function t_e(t,e){return t==null?!1:e===!0?typeof t[qH]=="function":e===!1?typeof t[NH]=="function":typeof t[qH]=="function"||typeof t[NH]=="function"}function g3(t){if(!jf(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[UH]||i!=null&&i.destroyed)}function KH(t){if(!y3(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function r_e(t,e){if(!y3(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function i_e(t){if(!m3(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function HH(t,e){if(!m3(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function VH(t){return t&&t[bT]!=null?t[bT]:typeof t?.readable!="boolean"?null:g3(t)?!1:m3(t)&&t.readable&&!HH(t)}function ZH(t){return typeof t?.writable!="boolean"?null:g3(t)?!1:y3(t)&&t.writable&&!KH(t)}function n_e(t,e){return jf(t)?g3(t)?!0:!(e?.readable!==!1&&VH(t)||e?.writable!==!1&&ZH(t)):null}function o_e(t){var e,r;return jf(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function s_e(t){var e,r;return jf(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function a_e(t){if(!jf(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&YH(t)?t._closed:null}function YH(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function JH(t){return typeof t._sent100=="boolean"&&YH(t)}function f_e(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function u_e(t){if(!jf(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!i&&JH(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function c_e(t){var e;return!!(t&&((e=t[zH])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function l_e(t){var e,r,i,n,o,s,d,p,v,b;return!!(t&&((e=(r=(i=(n=(o=(s=t[FH])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(d=t._readableState)===null||d===void 0?void 0:d.errorEmitted)!==null&&i!==void 0?i:(p=t._writableState)===null||p===void 0?void 0:p.errorEmitted)!==null&&r!==void 0?r:(v=t._readableState)===null||v===void 0?void 0:v.errored)!==null&&e!==void 0?e:!((b=t._writableState)===null||b===void 0)&&b.errored))}QH.exports={kDestroyed:UH,isDisturbed:c_e,kIsDisturbed:zH,isErrored:l_e,kIsErrored:FH,isReadable:VH,kIsReadable:bT,kIsClosedPromise:J2e,kControllerErrorFunction:Q2e,isClosed:a_e,isDestroyed:g3,isDuplexNodeStream:X2e,isFinished:n_e,isIterable:t_e,isReadableNodeStream:m3,isReadableStream:$H,isReadableEnded:i_e,isReadableFinished:HH,isReadableErrored:s_e,isNodeStream:jf,isWebStream:e_e,isWritable:ZH,isWritableNodeStream:y3,isWritableStream:GH,isWritableEnded:KH,isWritableFinished:r_e,isWritableErrored:o_e,isServerRequest:f_e,isServerResponse:JH,willEmitClose:u_e,isTransformStream:WH}});var Lu=V((xUe,ET)=>{M();var sl=Vf(),{AbortError:aV,codes:d_e}=_o(),{ERR_INVALID_ARG_TYPE:h_e,ERR_STREAM_PREMATURE_CLOSE:XH}=d_e,{kEmptyObject:_T,once:xT}=Of(),{validateAbortSignal:p_e,validateFunction:m_e,validateObject:y_e,validateBoolean:g_e}=Ev(),{Promise:v_e,PromisePrototypeThen:b_e}=Hi(),{isClosed:w_e,isReadable:eV,isReadableNodeStream:wT,isReadableStream:__e,isReadableFinished:tV,isReadableErrored:rV,isWritable:iV,isWritableNodeStream:nV,isWritableStream:x_e,isWritableFinished:oV,isWritableErrored:sV,isNodeStream:M_e,willEmitClose:E_e,kIsClosedPromise:S_e}=qf();function A_e(t){return t.setHeader&&typeof t.abort=="function"}var MT=()=>{};function fV(t,e,r){var i,n;if(arguments.length===2?(r=e,e=_T):e==null?e=_T:y_e(e,"options"),m_e(r,"callback"),p_e(e.signal,"options.signal"),r=xT(r),__e(t)||x_e(t))return T_e(t,e,r);if(!M_e(t))throw new h_e("stream",["ReadableStream","WritableStream","Stream"],t);let o=(i=e.readable)!==null&&i!==void 0?i:wT(t),s=(n=e.writable)!==null&&n!==void 0?n:nV(t),d=t._writableState,p=t._readableState,v=()=>{t.writable||E()},b=E_e(t)&&wT(t)===o&&nV(t)===s,x=oV(t,!1),E=()=>{x=!0,t.destroyed&&(b=!1),!(b&&(!t.readable||o))&&(!o||T)&&r.call(t)},T=tV(t,!1),S=()=>{T=!0,t.destroyed&&(b=!1),!(b&&(!t.writable||s))&&(!s||x)&&r.call(t)},P=q=>{r.call(t,q)},B=w_e(t),I=()=>{B=!0;let q=sV(t)||rV(t);if(q&&typeof q!="boolean")return r.call(t,q);if(o&&!T&&wT(t,!0)&&!tV(t,!1))return r.call(t,new XH);if(s&&!x&&!oV(t,!1))return r.call(t,new XH);r.call(t)},C=()=>{B=!0;let q=sV(t)||rV(t);if(q&&typeof q!="boolean")return r.call(t,q);r.call(t)},O=()=>{t.req.on("finish",E)};A_e(t)?(t.on("complete",E),b||t.on("abort",I),t.req?O():t.on("request",O)):s&&!d&&(t.on("end",v),t.on("close",v)),!b&&typeof t.aborted=="boolean"&&t.on("aborted",I),t.on("end",S),t.on("finish",E),e.error!==!1&&t.on("error",P),t.on("close",I),B?sl.nextTick(I):d!=null&&d.errorEmitted||p!=null&&p.errorEmitted?b||sl.nextTick(C):(!o&&(!b||eV(t))&&(x||iV(t)===!1)||!s&&(!b||iV(t))&&(T||eV(t)===!1)||p&&t.req&&t.aborted)&&sl.nextTick(C);let F=()=>{r=MT,t.removeListener("aborted",I),t.removeListener("complete",E),t.removeListener("abort",I),t.removeListener("request",O),t.req&&t.req.removeListener("finish",E),t.removeListener("end",v),t.removeListener("close",v),t.removeListener("finish",E),t.removeListener("end",S),t.removeListener("error",P),t.removeListener("close",I)};if(e.signal&&!B){let q=()=>{let G=r;F(),G.call(t,new aV(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)sl.nextTick(q);else{let G=r;r=xT((...$)=>{e.signal.removeEventListener("abort",q),G.apply(t,$)}),e.signal.addEventListener("abort",q)}}return F}function T_e(t,e,r){let i=!1,n=MT;if(e.signal)if(n=()=>{i=!0,r.call(t,new aV(void 0,{cause:e.signal.reason}))},e.signal.aborted)sl.nextTick(n);else{let s=r;r=xT((...d)=>{e.signal.removeEventListener("abort",n),s.apply(t,d)}),e.signal.addEventListener("abort",n)}let o=(...s)=>{i||sl.nextTick(()=>r.apply(t,s))};return b_e(t[S_e].promise,o,o),MT}function P_e(t,e){var r;let i=!1;return e===null&&(e=_T),(r=e)!==null&&r!==void 0&&r.cleanup&&(g_e(e.cleanup,"cleanup"),i=e.cleanup),new v_e((n,o)=>{let s=fV(t,e,d=>{i&&s(),d?o(d):n()})})}ET.exports=fV;ET.exports.finished=P_e});var mh=V((EUe,yV)=>{"use strict";M();var Nf=Vf(),{aggregateTwoErrors:R_e,codes:{ERR_MULTIPLE_CALLBACK:k_e},AbortError:I_e}=_o(),{Symbol:lV}=Hi(),{kDestroyed:B_e,isDestroyed:D_e,isFinished:C_e,isServerRequest:O_e}=qf(),dV=lV("kDestroy"),ST=lV("kConstruct");function hV(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function j_e(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(hV(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?uV(this,t,e):this.once(dV,function(o){uV(this,R_e(o,t),e)}),this)}function uV(t,e,r){let i=!1;function n(o){if(i)return;i=!0;let s=t._readableState,d=t._writableState;hV(o,d,s),d&&(d.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?Nf.nextTick(q_e,t,o):Nf.nextTick(pV,t)}try{t._destroy(e||null,n)}catch(o){n(o)}}function q_e(t,e){AT(t,e),pV(t)}function pV(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function AT(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function N_e(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function TT(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?Nf.nextTick(AT,t,e):AT(t,e))}function L_e(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(ST,e),!(t.listenerCount(ST)>1)&&Nf.nextTick(U_e,t)}function U_e(t){let e=!1;function r(i){if(e){TT(t,i??new k_e);return}e=!0;let n=t._readableState,o=t._writableState,s=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(dV,i):i?TT(t,i,!0):Nf.nextTick(F_e,t)}try{t._construct(i=>{Nf.nextTick(r,i)})}catch(i){Nf.nextTick(r,i)}}function F_e(t){t.emit(ST)}function cV(t){return t?.setHeader&&typeof t.abort=="function"}function mV(t){t.emit("close")}function z_e(t,e){t.emit("error",e),Nf.nextTick(mV,t)}function $_e(t,e){!t||D_e(t)||(!e&&!C_e(t)&&(e=new I_e),O_e(t)?(t.socket=null,t.destroy(e)):cV(t)?t.abort():cV(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Nf.nextTick(z_e,t,e):Nf.nextTick(mV,t),t.destroyed||(t[B_e]=!0))}yV.exports={construct:L_e,destroyer:$_e,destroy:j_e,undestroy:N_e,errorOrDestroy:TT}});var w3=V((AUe,vV)=>{"use strict";M();var{ArrayIsArray:G_e,ObjectSetPrototypeOf:gV}=Hi(),{EventEmitter:v3}=Ps();function b3(t){v3.call(this,t)}gV(b3.prototype,v3.prototype);gV(b3,v3);b3.prototype.pipe=function(t,e){let r=this;function i(b){t.writable&&t.write(b)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",d));let o=!1;function s(){o||(o=!0,t.end())}function d(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function p(b){v(),v3.listenerCount(this,"error")===0&&this.emit("error",b)}PT(r,"error",p),PT(t,"error",p);function v(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",d),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",v),r.removeListener("close",v),t.removeListener("close",v)}return r.on("end",v),r.on("close",v),t.on("close",v),t.emit("pipe",r),t};function PT(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):G_e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}vV.exports={Stream:b3,prependListener:PT}});var Sv=V((PUe,_3)=>{"use strict";M();var{AbortError:bV,codes:W_e}=_o(),{isNodeStream:wV,isWebStream:K_e,kControllerErrorFunction:H_e}=qf(),V_e=Lu(),{ERR_INVALID_ARG_TYPE:_V}=W_e,Z_e=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new _V(e,"AbortSignal",t)};_3.exports.addAbortSignal=function(e,r){if(Z_e(e,"signal"),!wV(r)&&!K_e(r))throw new _V("stream",["ReadableStream","WritableStream","Stream"],r);return _3.exports.addAbortSignalNoValidate(e,r)};_3.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=wV(e)?()=>{e.destroy(new bV(void 0,{cause:t.reason}))}:()=>{e[H_e](new bV(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),V_e(e,()=>t.removeEventListener("abort",r))),e}});var EV=V((IUe,MV)=>{"use strict";M();var{StringPrototypeSlice:xV,SymbolIterator:Y_e,TypedArrayPrototypeSet:x3,Uint8Array:J_e}=Hi(),{Buffer:RT}=Jt(),{inspect:Q_e}=Of();MV.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return RT.alloc(0);let r=RT.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)x3(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Y_e](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,n=0;do{let o=i.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=xV(o,0,e),this.head=i,i.data=xV(o,e));break}++n}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=RT.allocUnsafe(e),i=e,n=this.head,o=0;do{let s=n.data;if(e>s.length)x3(r,s,i-e),e-=s.length;else{e===s.length?(x3(r,s,i-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(x3(r,new J_e(s.buffer,s.byteOffset,e),i-e),this.head=n,n.data=s.slice(e));break}++o}while((n=n.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Q_e(this,{...r,depth:0,customInspect:!1})}}});var M3=V((DUe,AV)=>{"use strict";M();var{MathFloor:X_e,NumberIsInteger:e3e}=Hi(),{ERR_INVALID_ARG_VALUE:t3e}=_o().codes;function r3e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function SV(t){return t?16:16*1024}function i3e(t,e,r,i){let n=r3e(e,i,r);if(n!=null){if(!e3e(n)||n<0){let o=i?`options.${r}`:"options.highWaterMark";throw new t3e(o,n)}return X_e(n)}return SV(t.objectMode)}AV.exports={getHighWaterMark:i3e,getDefaultHighWaterMark:SV}});var kT=V((OUe,kV)=>{"use strict";M();var TV=Vf(),{PromisePrototypeThen:n3e,SymbolAsyncIterator:PV,SymbolIterator:RV}=Hi(),{Buffer:o3e}=Jt(),{ERR_INVALID_ARG_TYPE:s3e,ERR_STREAM_NULL_VALUES:a3e}=_o().codes;function f3e(t,e,r){let i;if(typeof e=="string"||e instanceof o3e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let n;if(e&&e[PV])n=!0,i=e[PV]();else if(e&&e[RV])n=!1,i=e[RV]();else throw new s3e("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,p())},o._destroy=function(v,b){n3e(d(v),()=>TV.nextTick(b,v),x=>TV.nextTick(b,x||v))};async function d(v){let b=v!=null,x=typeof i.throw=="function";if(b&&x){let{value:E,done:T}=await i.throw(v);if(await E,T)return}if(typeof i.return=="function"){let{value:E}=await i.return();await E}}async function p(){for(;;){try{let{value:v,done:b}=n?await i.next():i.next();if(b)o.push(null);else{let x=v&&typeof v.then=="function"?await v:v;if(x===null)throw s=!1,new a3e;if(o.push(x))continue;s=!1}}catch(v){o.destroy(v)}break}}return o}kV.exports=f3e});var Av=V((qUe,$V)=>{M();var Da=Vf(),{ArrayPrototypeIndexOf:u3e,NumberIsInteger:c3e,NumberIsNaN:l3e,NumberParseInt:d3e,ObjectDefineProperties:DV,ObjectKeys:h3e,ObjectSetPrototypeOf:CV,Promise:p3e,SafeSet:m3e,SymbolAsyncIterator:y3e,Symbol:g3e}=Hi();$V.exports=Dt;Dt.ReadableState=jT;var{EventEmitter:v3e}=Ps(),{Stream:al,prependListener:b3e}=w3(),{Buffer:IT}=Jt(),{addAbortSignal:w3e}=Sv(),_3e=Lu(),Kt=Of().debuglog("stream",t=>{Kt=t}),x3e=EV(),um=mh(),{getHighWaterMark:M3e,getDefaultHighWaterMark:E3e}=M3(),{aggregateTwoErrors:IV,codes:{ERR_INVALID_ARG_TYPE:S3e,ERR_METHOD_NOT_IMPLEMENTED:A3e,ERR_OUT_OF_RANGE:T3e,ERR_STREAM_PUSH_AFTER_EOF:P3e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:R3e}}=_o(),{validateObject:k3e}=Ev(),yh=g3e("kPaused"),{StringDecoder:OV}=wu(),I3e=kT();CV(Dt.prototype,al.prototype);CV(Dt,al);var BT=()=>{},{errorOrDestroy:fm}=um;function jT(t,e,r){typeof r!="boolean"&&(r=e instanceof Lf()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?M3e(this,t,"readableHighWaterMark",r):E3e(!1),this.buffer=new x3e,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[yh]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new OV(t.encoding),this.encoding=t.encoding)}function Dt(t){if(!(this instanceof Dt))return new Dt(t);let e=this instanceof Lf();this._readableState=new jT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&w3e(t.signal,this)),al.call(this,t),um.construct(this,()=>{this._readableState.needReadable&&E3(this,this._readableState)})}Dt.prototype.destroy=um.destroy;Dt.prototype._undestroy=um.undestroy;Dt.prototype._destroy=function(t,e){e(t)};Dt.prototype[v3e.captureRejectionSymbol]=function(t){this.destroy(t)};Dt.prototype.push=function(t,e){return jV(this,t,e,!1)};Dt.prototype.unshift=function(t,e){return jV(this,t,e,!0)};function jV(t,e,r,i){Kt("readableAddChunk",e);let n=t._readableState,o;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=IT.from(e,r).toString(n.encoding):(e=IT.from(e,r),r=""))):e instanceof IT?r="":al._isUint8Array(e)?(e=al._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new S3e("chunk",["string","Buffer","Uint8Array"],e))),o)fm(t,o);else if(e===null)n.reading=!1,C3e(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)fm(t,new R3e);else{if(n.destroyed||n.errored)return!1;DT(t,n,e,!0)}else if(n.ended)fm(t,new P3e);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?DT(t,n,e,!1):E3(t,n)):DT(t,n,e,!1)}else i||(n.reading=!1,E3(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function DT(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&S3(t)),E3(t,e)}Dt.prototype.isPaused=function(){let t=this._readableState;return t[yh]===!0||t.flowing===!1};Dt.prototype.setEncoding=function(t){let e=new OV(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var B3e=1073741824;function D3e(t){if(t>B3e)throw new T3e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function BV(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:l3e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Dt.prototype.read=function(t){Kt("read",t),t===void 0?t=NaN:c3e(t)||(t=d3e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=D3e(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Kt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?CT(this):S3(this),null;if(t=BV(t,e),t===0&&e.ended)return e.length===0&&CT(this),null;let i=e.needReadable;if(Kt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Kt("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,Kt("reading, ended or constructing",i);else if(i){Kt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(o){fm(this,o)}e.sync=!1,e.reading||(t=BV(r,e))}let n;return t>0?n=FV(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&CT(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function C3e(t,e){if(Kt("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?S3(t):(e.needReadable=!1,e.emittedReadable=!0,qV(t))}}function S3(t){let e=t._readableState;Kt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Kt("emitReadable",e.flowing),e.emittedReadable=!0,Da.nextTick(qV,t))}function qV(t){let e=t._readableState;Kt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,LV(t)}function E3(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Da.nextTick(O3e,t,e))}function O3e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Kt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Dt.prototype._read=function(t){throw new A3e("_read()")};Dt.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new m3e(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),Kt("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&t!==Da.stdout&&t!==Da.stderr?d:B;i.endEmitted?Da.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){Kt("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,b())}function d(){Kt("onend"),t.end()}let p,v=!1;function b(){Kt("cleanup"),t.removeListener("close",S),t.removeListener("finish",P),p&&t.removeListener("drain",p),t.removeListener("error",T),t.removeListener("unpipe",s),r.removeListener("end",d),r.removeListener("end",B),r.removeListener("data",E),v=!0,p&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&p()}function x(){v||(i.pipes.length===1&&i.pipes[0]===t?(Kt("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(Kt("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),p||(p=j3e(r,t),t.on("drain",p))}r.on("data",E);function E(I){Kt("ondata");let C=t.write(I);Kt("dest.write",C),C===!1&&x()}function T(I){if(Kt("onerror",I),B(),t.removeListener("error",T),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?fm(t,I):t.emit("error",I)}}b3e(t,"error",T);function S(){t.removeListener("finish",P),B()}t.once("close",S);function P(){Kt("onfinish"),t.removeListener("close",S),B()}t.once("finish",P);function B(){Kt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&x():i.flowing||(Kt("pipe resume"),r.resume()),t};function j3e(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(Kt("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(Kt("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Dt.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=u3e(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Dt.prototype.on=function(t,e){let r=al.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Kt("on readable",i.length,i.reading),i.length?S3(this):i.reading||Da.nextTick(q3e,this)),r};Dt.prototype.addListener=Dt.prototype.on;Dt.prototype.removeListener=function(t,e){let r=al.prototype.removeListener.call(this,t,e);return t==="readable"&&Da.nextTick(NV,this),r};Dt.prototype.off=Dt.prototype.removeListener;Dt.prototype.removeAllListeners=function(t){let e=al.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Da.nextTick(NV,this),e};function NV(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[yh]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function q3e(t){Kt("readable nexttick read 0"),t.read(0)}Dt.prototype.resume=function(){let t=this._readableState;return t.flowing||(Kt("resume"),t.flowing=!t.readableListening,N3e(this,t)),t[yh]=!1,this};function N3e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Da.nextTick(L3e,t,e))}function L3e(t,e){Kt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),LV(t),e.flowing&&!e.reading&&t.read(0)}Dt.prototype.pause=function(){return Kt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Kt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[yh]=!0,this};function LV(t){let e=t._readableState;for(Kt("flow",e.flowing);e.flowing&&t.read()!==null;);}Dt.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",i=>{fm(this,i)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=h3e(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};Dt.prototype[y3e]=function(){return UV(this)};Dt.prototype.iterator=function(t){return t!==void 0&&k3e(t,"options"),UV(this,t)};function UV(t,e){typeof t.read!="function"&&(t=Dt.wrap(t,{objectMode:!0}));let r=U3e(t,e);return r.stream=t,r}async function*U3e(t,e){let r=BT;function i(s){this===t?(r(),r=BT):r=s}t.on("readable",i);let n,o=_3e(t,{writable:!1},s=>{n=s?IV(n,s):null,r(),r=BT});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else{if(n)throw n;if(n===null)return;await new p3e(i)}}}catch(s){throw n=IV(n,s),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?um.destroyer(t,null):(t.off("readable",i),o())}}DV(Dt.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});DV(jT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[yh]!==!1},set(t){this[yh]=!!t}}});Dt._fromList=FV;function FV(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function CT(t){let e=t._readableState;Kt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Da.nextTick(F3e,e,t))}function F3e(t,e){if(Kt("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Da.nextTick(z3e,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function z3e(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Dt.from=function(t,e){return I3e(Dt,t,e)};var OT;function zV(){return OT===void 0&&(OT={}),OT}Dt.fromWeb=function(t,e){return zV().newStreamReadableFromReadableStream(t,e)};Dt.toWeb=function(t,e){return zV().newReadableStreamFromStreamReadable(t,e)};Dt.wrap=function(t,e){var r,i;return new Dt({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,o){um.destroyer(t,n),o(n)}}).wrap(t)}});var $T=V((LUe,tZ)=>{M();var gh=Vf(),{ArrayPrototypeSlice:KV,Error:$3e,FunctionPrototypeSymbolHasInstance:HV,ObjectDefineProperty:VV,ObjectDefineProperties:G3e,ObjectSetPrototypeOf:ZV,StringPrototypeToLowerCase:W3e,Symbol:K3e,SymbolHasInstance:H3e}=Hi();tZ.exports=li;li.WritableState=Rv;var{EventEmitter:V3e}=Ps(),Tv=w3().Stream,{Buffer:A3}=Jt(),R3=mh(),{addAbortSignal:Z3e}=Sv(),{getHighWaterMark:Y3e,getDefaultHighWaterMark:J3e}=M3(),{ERR_INVALID_ARG_TYPE:Q3e,ERR_METHOD_NOT_IMPLEMENTED:X3e,ERR_MULTIPLE_CALLBACK:YV,ERR_STREAM_CANNOT_PIPE:e6e,ERR_STREAM_DESTROYED:Pv,ERR_STREAM_ALREADY_FINISHED:t6e,ERR_STREAM_NULL_VALUES:r6e,ERR_STREAM_WRITE_AFTER_END:i6e,ERR_UNKNOWN_ENCODING:JV}=_o().codes,{errorOrDestroy:cm}=R3;ZV(li.prototype,Tv.prototype);ZV(li,Tv);function LT(){}var lm=K3e("kOnFinished");function Rv(t,e,r){typeof r!="boolean"&&(r=e instanceof Lf()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Y3e(this,t,"writableHighWaterMark",r):J3e(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=o6e.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,P3(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[lm]=[]}function P3(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Rv.prototype.getBuffer=function(){return KV(this.buffered,this.bufferedIndex)};VV(Rv.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function li(t){let e=this instanceof Lf();if(!e&&!HV(li,this))return new li(t);this._writableState=new Rv(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Z3e(t.signal,this)),Tv.call(this,t),R3.construct(this,()=>{let r=this._writableState;r.writing||FT(this,r),zT(this,r)})}VV(li,H3e,{__proto__:null,value:function(t){return HV(this,t)?!0:this!==li?!1:t&&t._writableState instanceof Rv}});li.prototype.pipe=function(){cm(this,new e6e)};function QV(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!A3.isEncoding(r))throw new JV(r);typeof i!="function"&&(i=LT)}if(e===null)throw new r6e;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=A3.from(e,r),r="buffer");else if(e instanceof A3)r="buffer";else if(Tv._isUint8Array(e))e=Tv._uint8ArrayToBuffer(e),r="buffer";else throw new Q3e("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new i6e:n.destroyed&&(o=new Pv("write")),o?(gh.nextTick(i,o),cm(t,o,!0),o):(n.pendingcb++,n6e(t,n,e,r,i))}li.prototype.write=function(t,e,r){return QV(this,t,e,r)===!0};li.prototype.cork=function(){this._writableState.corked++};li.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||FT(this,t))};li.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=W3e(e)),!A3.isEncoding(e))throw new JV(e);return this._writableState.defaultEncoding=e,this};function n6e(t,e,r,i,n){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==LT&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function GV(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Pv("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function WV(t,e,r,i){--e.pendingcb,i(r),UT(e),cm(t,r)}function o6e(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){cm(t,new YV);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?gh.nextTick(WV,t,r,e,n):WV(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&FT(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},gh.nextTick(s6e,r.afterWriteTickInfo)):XV(t,r,1,n))}function s6e({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,XV(t,e,r,i)}function XV(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&UT(e),zT(t,e)}function UT(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:s}=t.buffered[n],d=t.objectMode?1:o.length;t.length-=d,s((e=t.errored)!==null&&e!==void 0?e:new Pv("write"))}let r=t[lm].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new Pv("end"))}P3(t)}function FT(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,o=r.length-i;if(!o)return;let s=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let d=e.allNoop?LT:v=>{for(let b=s;b<r.length;++b)r[b].callback(v)},p=e.allNoop&&s===0?r:KV(r,s);p.allBuffers=e.allBuffers,GV(t,e,!0,e.length,p,"",d),P3(e)}else{do{let{chunk:d,encoding:p,callback:v}=r[s];r[s++]=null;let b=n?1:d.length;GV(t,e,!1,b,d,p,v)}while(s<r.length&&!e.writing);s===r.length?P3(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}li.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new X3e("_write()")};li.prototype._writev=null;li.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let o=QV(this,t,e);o instanceof $3e&&(n=o)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,zT(this,i,!0),i.ended=!0):i.finished?n=new t6e("end"):i.destroyed&&(n=new Pv("end"))),typeof r=="function"&&(n||i.finished?gh.nextTick(r,n):i[lm].push(r)),this};function T3(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function a6e(t,e){let r=!1;function i(n){if(r){cm(t,n??YV());return}if(r=!0,e.pendingcb--,n){let o=e[lm].splice(0);for(let s=0;s<o.length;s++)o[s](n);cm(t,n,e.sync)}else T3(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,gh.nextTick(NT,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(n){i(n)}e.sync=!1}function f6e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,a6e(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function zT(t,e,r){T3(e)&&(f6e(t,e),e.pendingcb===0&&(r?(e.pendingcb++,gh.nextTick((i,n)=>{T3(n)?NT(i,n):n.pendingcb--},t,e)):T3(e)&&(e.pendingcb++,NT(t,e))))}function NT(t,e){e.pendingcb--,e.finished=!0;let r=e[lm].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy()}}G3e(li.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var u6e=R3.destroy;li.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[lm].length)&&gh.nextTick(UT,r),u6e.call(this,t,e),this};li.prototype._undestroy=R3.undestroy;li.prototype._destroy=function(t,e){e(t)};li.prototype[V3e.captureRejectionSymbol]=function(t){this.destroy(t)};var qT;function eZ(){return qT===void 0&&(qT={}),qT}li.fromWeb=function(t,e){return eZ().newStreamWritableFromWritableStream(t,e)};li.toWeb=function(t){return eZ().newWritableStreamFromStreamWritable(t)}});var hZ=V((FUe,dZ)=>{M();var GT=Vf(),c6e=Jt(),{isReadable:l6e,isWritable:d6e,isIterable:rZ,isNodeStream:h6e,isReadableNodeStream:iZ,isWritableNodeStream:nZ,isDuplexNodeStream:p6e}=qf(),oZ=Lu(),{AbortError:lZ,codes:{ERR_INVALID_ARG_TYPE:m6e,ERR_INVALID_RETURN_VALUE:sZ}}=_o(),{destroyer:dm}=mh(),y6e=Lf(),g6e=Av(),{createDeferredPromise:aZ}=Of(),fZ=kT(),uZ=globalThis.Blob||c6e.Blob,v6e=typeof uZ<"u"?function(e){return e instanceof uZ}:function(e){return!1},b6e=globalThis.AbortController||l3().AbortController,{FunctionPrototypeCall:cZ}=Hi(),vh=class extends y6e{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};dZ.exports=function t(e,r){if(p6e(e))return e;if(iZ(e))return k3({readable:e});if(nZ(e))return k3({writable:e});if(h6e(e))return k3({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:o,final:s,destroy:d}=w6e(e);if(rZ(n))return fZ(vh,n,{objectMode:!0,write:o,final:s,destroy:d});let p=n?.then;if(typeof p=="function"){let v,b=cZ(p,n,x=>{if(x!=null)throw new sZ("nully","body",x)},x=>{dm(v,x)});return v=new vh({objectMode:!0,readable:!1,write:o,final(x){s(async()=>{try{await b,GT.nextTick(x,null)}catch(E){GT.nextTick(x,E)}})},destroy:d})}throw new sZ("Iterable, AsyncIterable or AsyncFunction",r,n)}if(v6e(e))return t(e.arrayBuffer());if(rZ(e))return fZ(vh,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?iZ(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?nZ(e?.writable)?e?.writable:t(e.writable):void 0;return k3({readable:n,writable:o})}let i=e?.then;if(typeof i=="function"){let n;return cZ(i,e,o=>{o!=null&&n.push(o),n.push(null)},o=>{dm(n,o)}),n=new vh({objectMode:!0,writable:!1,read(){}})}throw new m6e(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function w6e(t){let{promise:e,resolve:r}=aZ(),i=new b6e,n=i.signal;return{value:t(async function*(){for(;;){let s=e;e=null;let{chunk:d,done:p,cb:v}=await s;if(GT.nextTick(v),p)return;if(n.aborted)throw new lZ(void 0,{cause:n.reason});({promise:e,resolve:r}=aZ()),yield d}}(),{signal:n}),write(s,d,p){let v=r;r=null,v({chunk:s,done:!1,cb:p})},final(s){let d=r;r=null,d({done:!0,cb:s})},destroy(s,d){i.abort(),d(s)}}}function k3(t){let e=t.readable&&typeof t.readable.read!="function"?g6e.wrap(t.readable):t.readable,r=t.writable,i=!!l6e(e),n=!!d6e(r),o,s,d,p,v;function b(x){let E=p;p=null,E?E(x):x&&v.destroy(x)}return v=new vh({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(oZ(r,x=>{n=!1,x&&dm(e,x),b(x)}),v._write=function(x,E,T){r.write(x,E)?T():o=T},v._final=function(x){r.end(),s=x},r.on("drain",function(){if(o){let x=o;o=null,x()}}),r.on("finish",function(){if(s){let x=s;s=null,x()}})),i&&(oZ(e,x=>{i=!1,x&&dm(e,x),b(x)}),e.on("readable",function(){if(d){let x=d;d=null,x()}}),e.on("end",function(){v.push(null)}),v._read=function(){for(;;){let x=e.read();if(x===null){d=v._read;return}if(!v.push(x))return}}),v._destroy=function(x,E){!x&&p!==null&&(x=new lZ),d=null,o=null,s=null,p===null?E(x):(p=E,dm(r,x),dm(e,x))},v}});var Lf=V(($Ue,yZ)=>{"use strict";M();var{ObjectDefineProperties:_6e,ObjectGetOwnPropertyDescriptor:Uu,ObjectKeys:x6e,ObjectSetPrototypeOf:pZ}=Hi();yZ.exports=Ca;var HT=Av(),Qs=$T();pZ(Ca.prototype,HT.prototype);pZ(Ca,HT);{let t=x6e(Qs.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ca.prototype[r]||(Ca.prototype[r]=Qs.prototype[r])}}function Ca(t){if(!(this instanceof Ca))return new Ca(t);HT.call(this,t),Qs.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}_6e(Ca.prototype,{writable:{__proto__:null,...Uu(Qs.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Uu(Qs.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Uu(Qs.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Uu(Qs.prototype,"writableBuffer")},writableLength:{__proto__:null,...Uu(Qs.prototype,"writableLength")},writableFinished:{__proto__:null,...Uu(Qs.prototype,"writableFinished")},writableCorked:{__proto__:null,...Uu(Qs.prototype,"writableCorked")},writableEnded:{__proto__:null,...Uu(Qs.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Uu(Qs.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var WT;function mZ(){return WT===void 0&&(WT={}),WT}Ca.fromWeb=function(t,e){return mZ().newStreamDuplexFromReadableWritablePair(t,e)};Ca.toWeb=function(t){return mZ().newReadableWritablePairFromDuplex(t)};var KT;Ca.from=function(t){return KT||(KT=hZ()),KT(t,"body")}});var YT=V((WUe,vZ)=>{"use strict";M();var{ObjectSetPrototypeOf:gZ,Symbol:M6e}=Hi();vZ.exports=Fu;var{ERR_METHOD_NOT_IMPLEMENTED:E6e}=_o().codes,ZT=Lf(),{getHighWaterMark:S6e}=M3();gZ(Fu.prototype,ZT.prototype);gZ(Fu,ZT);var kv=M6e("kCallback");function Fu(t){if(!(this instanceof Fu))return new Fu(t);let e=t?S6e(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),ZT.call(this,t),this._readableState.sync=!1,this[kv]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",A6e)}function VT(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function A6e(){this._final!==VT&&VT.call(this)}Fu.prototype._final=VT;Fu.prototype._transform=function(t,e,r){throw new E6e("_transform()")};Fu.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,(s,d)=>{if(s){r(s);return}d!=null&&this.push(d),n.ended||o===i.length||i.length<i.highWaterMark?r():this[kv]=r})};Fu.prototype._read=function(){if(this[kv]){let t=this[kv];this[kv]=null,t()}}});var QT=V((HUe,wZ)=>{"use strict";M();var{ObjectSetPrototypeOf:bZ}=Hi();wZ.exports=hm;var JT=YT();bZ(hm.prototype,JT.prototype);bZ(hm,JT);function hm(t){if(!(this instanceof hm))return new hm(t);JT.call(this,t)}hm.prototype._transform=function(t,e,r){r(null,t)}});var C3=V((ZUe,SZ)=>{M();var Iv=Vf(),{ArrayIsArray:T6e,Promise:P6e,SymbolAsyncIterator:R6e}=Hi(),D3=Lu(),{once:k6e}=Of(),I6e=mh(),_Z=Lf(),{aggregateTwoErrors:B6e,codes:{ERR_INVALID_ARG_TYPE:s7,ERR_INVALID_RETURN_VALUE:XT,ERR_MISSING_ARGS:D6e,ERR_STREAM_DESTROYED:C6e,ERR_STREAM_PREMATURE_CLOSE:O6e},AbortError:j6e}=_o(),{validateFunction:q6e,validateAbortSignal:N6e}=Ev(),{isIterable:bh,isReadable:e7,isReadableNodeStream:B3,isNodeStream:xZ,isTransformStream:pm,isWebStream:L6e,isReadableStream:t7,isReadableEnded:U6e}=qf(),F6e=globalThis.AbortController||l3().AbortController,r7,i7;function MZ(t,e,r){let i=!1;t.on("close",()=>{i=!0});let n=D3(t,{readable:e,writable:r},o=>{i=!o});return{destroy:o=>{i||(i=!0,I6e.destroyer(t,o||new C6e("pipe")))},cleanup:n}}function z6e(t){return q6e(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function n7(t){if(bh(t))return t;if(B3(t))return $6e(t);throw new s7("val",["Readable","Iterable","AsyncIterable"],t)}async function*$6e(t){i7||(i7=Av()),yield*i7.prototype[R6e].call(t)}async function I3(t,e,r,{end:i}){let n,o=null,s=v=>{if(v&&(n=v),o){let b=o;o=null,b()}},d=()=>new P6e((v,b)=>{n?b(n):o=()=>{n?b(n):v()}});e.on("drain",s);let p=D3(e,{readable:!1},s);try{e.writableNeedDrain&&await d();for await(let v of t)e.write(v)||await d();i&&e.end(),await d(),r()}catch(v){r(n!==v?B6e(n,v):v)}finally{p(),e.off("drain",s)}}async function o7(t,e,r,{end:i}){pm(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,i&&await n.close(),r()}catch(o){try{await n.abort(o),r(o)}catch(s){r(s)}}}function G6e(...t){return EZ(t,k6e(z6e(t)))}function EZ(t,e,r){if(t.length===1&&T6e(t[0])&&(t=t[0]),t.length<2)throw new D6e("streams");let i=new F6e,n=i.signal,o=r?.signal,s=[];N6e(o,"options.signal");function d(){T(new j6e)}o?.addEventListener("abort",d);let p,v,b=[],x=0;function E(C){T(C,--x===0)}function T(C,O){if(C&&(!p||p.code==="ERR_STREAM_PREMATURE_CLOSE")&&(p=C),!(!p&&!O)){for(;b.length;)b.shift()(p);o?.removeEventListener("abort",d),i.abort(),O&&(p||s.forEach(F=>F()),Iv.nextTick(e,p,v))}}let S;for(let C=0;C<t.length;C++){let O=t[C],F=C<t.length-1,q=C>0,G=F||r?.end!==!1,$=C===t.length-1;if(xZ(O)){let N=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(K)};var I=N;if(G){let{destroy:K,cleanup:_}=MZ(O,F,q);b.push(K),e7(O)&&$&&s.push(_)}O.on("error",N),e7(O)&&$&&s.push(()=>{O.removeListener("error",N)})}if(C===0)if(typeof O=="function"){if(S=O({signal:n}),!bh(S))throw new XT("Iterable, AsyncIterable or Stream","source",S)}else bh(O)||B3(O)||pm(O)?S=O:S=_Z.from(O);else if(typeof O=="function"){if(pm(S)){var P;S=n7((P=S)===null||P===void 0?void 0:P.readable)}else S=n7(S);if(S=O(S,{signal:n}),F){if(!bh(S,!0))throw new XT("AsyncIterable",`transform[${C-1}]`,S)}else{var B;r7||(r7=QT());let N=new r7({objectMode:!0}),K=(B=S)===null||B===void 0?void 0:B.then;if(typeof K=="function")x++,K.call(S,u=>{v=u,u!=null&&N.write(u),G&&N.end(),Iv.nextTick(E)},u=>{N.destroy(u),Iv.nextTick(E,u)});else if(bh(S,!0))x++,I3(S,N,E,{end:G});else if(t7(S)||pm(S)){let u=S.readable||S;x++,I3(u,N,E,{end:G})}else throw new XT("AsyncIterable or Promise","destination",S);S=N;let{destroy:_,cleanup:a}=MZ(S,!1,!0);b.push(_),$&&s.push(a)}}else if(xZ(O)){if(B3(S)){x+=2;let N=W6e(S,O,E,{end:G});e7(O)&&$&&s.push(N)}else if(pm(S)||t7(S)){let N=S.readable||S;x++,I3(N,O,E,{end:G})}else if(bh(S))x++,I3(S,O,E,{end:G});else throw new s7("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],S);S=O}else if(L6e(O)){if(B3(S))x++,o7(n7(S),O,E,{end:G});else if(t7(S)||bh(S))x++,o7(S,O,E,{end:G});else if(pm(S))x++,o7(S.readable,O,E,{end:G});else throw new s7("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],S);S=O}else S=_Z.from(O)}return(n!=null&&n.aborted||o!=null&&o.aborted)&&Iv.nextTick(d),S}function W6e(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new O6e)}),t.pipe(e,{end:!1}),i){let s=function(){n=!0,e.end()};var o=s;U6e(t)?Iv.nextTick(s):t.once("end",s)}else r();return D3(t,{readable:!0,writable:!1},s=>{let d=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&d&&d.ended&&!d.errored&&!d.errorEmitted?t.once("end",r).once("error",r):r(s)}),D3(e,{readable:!1,writable:!0},r)}SZ.exports={pipelineImpl:EZ,pipeline:G6e}});var f7=V((JUe,IZ)=>{"use strict";M();var{pipeline:K6e}=C3(),O3=Lf(),{destroyer:H6e}=mh(),{isNodeStream:j3,isReadable:AZ,isWritable:TZ,isWebStream:a7,isTransformStream:wh,isWritableStream:PZ,isReadableStream:RZ}=qf(),{AbortError:V6e,codes:{ERR_INVALID_ARG_VALUE:kZ,ERR_MISSING_ARGS:Z6e}}=_o(),Y6e=Lu();IZ.exports=function(...e){if(e.length===0)throw new Z6e("streams");if(e.length===1)return O3.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=O3.from(e[0])),typeof e[e.length-1]=="function"){let T=e.length-1;e[T]=O3.from(e[T])}for(let T=0;T<e.length;++T)if(!(!j3(e[T])&&!a7(e[T]))){if(T<e.length-1&&!(AZ(e[T])||RZ(e[T])||wh(e[T])))throw new kZ(`streams[${T}]`,r[T],"must be readable");if(T>0&&!(TZ(e[T])||PZ(e[T])||wh(e[T])))throw new kZ(`streams[${T}]`,r[T],"must be writable")}let i,n,o,s,d;function p(T){let S=s;s=null,S?S(T):T?d.destroy(T):!E&&!x&&d.destroy()}let v=e[0],b=K6e(e,p),x=!!(TZ(v)||PZ(v)||wh(v)),E=!!(AZ(b)||RZ(b)||wh(b));if(d=new O3({writableObjectMode:!!(v!=null&&v.writableObjectMode),readableObjectMode:!!(b!=null&&b.writableObjectMode),writable:x,readable:E}),x){if(j3(v))d._write=function(S,P,B){v.write(S,P)?B():i=B},d._final=function(S){v.end(),n=S},v.on("drain",function(){if(i){let S=i;i=null,S()}});else if(a7(v)){let P=(wh(v)?v.writable:v).getWriter();d._write=async function(B,I,C){try{await P.ready,P.write(B).catch(()=>{}),C()}catch(O){C(O)}},d._final=async function(B){try{await P.ready,P.close().catch(()=>{}),n=B}catch(I){B(I)}}}let T=wh(b)?b.readable:b;Y6e(T,()=>{if(n){let S=n;n=null,S()}})}if(E){if(j3(b))b.on("readable",function(){if(o){let T=o;o=null,T()}}),b.on("end",function(){d.push(null)}),d._read=function(){for(;;){let T=b.read();if(T===null){o=d._read;return}if(!d.push(T))return}};else if(a7(b)){let S=(wh(b)?b.readable:b).getReader();d._read=async function(){for(;;)try{let{value:P,done:B}=await S.read();if(!d.push(P))return;if(B){d.push(null);return}}catch{return}}}}return d._destroy=function(T,S){!T&&s!==null&&(T=new V6e),o=null,i=null,n=null,s===null?S(T):(s=S,j3(b)&&H6e(b,T))},d}});var LZ=V((XUe,l7)=>{"use strict";M();var OZ=globalThis.AbortController||l3().AbortController,{codes:{ERR_INVALID_ARG_VALUE:J6e,ERR_INVALID_ARG_TYPE:Bv,ERR_MISSING_ARGS:Q6e,ERR_OUT_OF_RANGE:X6e},AbortError:Uf}=_o(),{validateAbortSignal:_h,validateInteger:exe,validateObject:xh}=Ev(),txe=Hi().Symbol("kWeak"),{finished:rxe}=Lu(),ixe=f7(),{addAbortSignalNoValidate:nxe}=Sv(),{isWritable:oxe,isNodeStream:sxe}=qf(),{ArrayPrototypePush:axe,MathFloor:fxe,Number:uxe,NumberIsNaN:cxe,Promise:BZ,PromiseReject:DZ,PromisePrototypeThen:lxe,Symbol:jZ}=Hi(),q3=jZ("kEmpty"),CZ=jZ("kEof");function dxe(t,e){if(e!=null&&xh(e,"options"),e?.signal!=null&&_h(e.signal,"options.signal"),sxe(t)&&!oxe(t))throw new J6e("stream",t,"must be writable");let r=ixe(this,t);return e!=null&&e.signal&&nxe(e.signal,r),r}function N3(t,e){if(typeof t!="function")throw new Bv("fn",["Function","AsyncFunction"],t);e!=null&&xh(e,"options"),e?.signal!=null&&_h(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=fxe(e.concurrency)),exe(r,"concurrency",1),async function*(){var n,o;let s=new OZ,d=this,p=[],v=s.signal,b={signal:v},x=()=>s.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&x(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",x);let E,T,S=!1;function P(){S=!0}async function B(){try{for await(let O of d){var I;if(S)return;if(v.aborted)throw new Uf;try{O=t(O,b)}catch(F){O=DZ(F)}O!==q3&&(typeof((I=O)===null||I===void 0?void 0:I.catch)=="function"&&O.catch(P),p.push(O),E&&(E(),E=null),!S&&p.length&&p.length>=r&&await new BZ(F=>{T=F}))}p.push(CZ)}catch(O){let F=DZ(O);lxe(F,void 0,P),p.push(F)}finally{var C;S=!0,E&&(E(),E=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",x)}}B();try{for(;;){for(;p.length>0;){let I=await p[0];if(I===CZ)return;if(v.aborted)throw new Uf;I!==q3&&(yield I),p.shift(),T&&(T(),T=null)}await new BZ(I=>{E=I})}}finally{s.abort(),S=!0,T&&(T(),T=null)}}.call(this)}function hxe(t=void 0){return t!=null&&xh(t,"options"),t?.signal!=null&&_h(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Uf({cause:t.signal.reason});yield[r++,n]}}.call(this)}async function qZ(t,e=void 0){for await(let r of c7.call(this,t,e))return!0;return!1}async function pxe(t,e=void 0){if(typeof t!="function")throw new Bv("fn",["Function","AsyncFunction"],t);return!await qZ.call(this,async(...r)=>!await t(...r),e)}async function mxe(t,e){for await(let r of c7.call(this,t,e))return r}async function yxe(t,e){if(typeof t!="function")throw new Bv("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),q3}for await(let i of N3.call(this,r,e));}function c7(t,e){if(typeof t!="function")throw new Bv("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:q3}return N3.call(this,r,e)}var u7=class extends Q6e{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function gxe(t,e,r){var i;if(typeof t!="function")throw new Bv("reducer",["Function","AsyncFunction"],t);r!=null&&xh(r,"options"),r?.signal!=null&&_h(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let v=new Uf(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await rxe(this.destroy(v)),v}let o=new OZ,s=o.signal;if(r!=null&&r.signal){let v={once:!0,[txe]:this};r.signal.addEventListener("abort",()=>o.abort(),v)}let d=!1;try{for await(let v of this){var p;if(d=!0,r!=null&&(p=r.signal)!==null&&p!==void 0&&p.aborted)throw new Uf;n?e=await t(e,v,{signal:s}):(e=v,n=!0)}if(!d&&!n)throw new u7}finally{o.abort()}return e}async function vxe(t){t!=null&&xh(t,"options"),t?.signal!=null&&_h(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Uf(void 0,{cause:t.signal.reason});axe(e,i)}return e}function bxe(t,e){let r=N3.call(this,t,e);return async function*(){for await(let n of r)yield*n}.call(this)}function NZ(t){if(t=uxe(t),cxe(t))return 0;if(t<0)throw new X6e("number",">= 0",t);return t}function wxe(t,e=void 0){return e!=null&&xh(e,"options"),e?.signal!=null&&_h(e.signal,"options.signal"),t=NZ(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Uf;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Uf;t--<=0&&(yield o)}}.call(this)}function _xe(t,e=void 0){return e!=null&&xh(e,"options"),e?.signal!=null&&_h(e.signal,"options.signal"),t=NZ(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Uf;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Uf;if(t-- >0)yield o;else return}}.call(this)}l7.exports.streamReturningOperators={asIndexedPairs:hxe,drop:wxe,filter:c7,flatMap:bxe,map:N3,take:_xe,compose:dxe};l7.exports.promiseReturningOperators={every:pxe,forEach:yxe,reduce:gxe,toArray:vxe,some:qZ,find:mxe}});var d7=V((tFe,UZ)=>{"use strict";M();var{ArrayPrototypePop:xxe,Promise:Mxe}=Hi(),{isIterable:Exe,isNodeStream:Sxe,isWebStream:Axe}=qf(),{pipelineImpl:Txe}=C3(),{finished:Pxe}=Lu();h7();function Rxe(...t){return new Mxe((e,r)=>{let i,n,o=t[t.length-1];if(o&&typeof o=="object"&&!Sxe(o)&&!Exe(o)&&!Axe(o)){let s=xxe(t);i=s.signal,n=s.end}Txe(t,(s,d)=>{s?r(s):e(d)},{signal:i,end:n})})}UZ.exports={finished:Pxe,pipeline:Rxe}});var h7=V((iFe,ZZ)=>{M();var{Buffer:kxe}=Jt(),{ObjectDefineProperty:zu,ObjectKeys:$Z,ReflectApply:GZ}=Hi(),{promisify:{custom:WZ}}=Of(),{streamReturningOperators:FZ,promiseReturningOperators:zZ}=LZ(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:KZ}}=_o(),Ixe=f7(),{pipeline:HZ}=C3(),{destroyer:Bxe}=mh(),VZ=Lu(),p7=d7(),m7=qf(),Ii=ZZ.exports=w3().Stream;Ii.isDisturbed=m7.isDisturbed;Ii.isErrored=m7.isErrored;Ii.isReadable=m7.isReadable;Ii.Readable=Av();for(let t of $Z(FZ)){let r=function(...i){if(new.target)throw KZ();return Ii.Readable.from(GZ(e,this,i))};Cxe=r;let e=FZ[t];zu(r,"name",{__proto__:null,value:e.name}),zu(r,"length",{__proto__:null,value:e.length}),zu(Ii.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Cxe;for(let t of $Z(zZ)){let r=function(...n){if(new.target)throw KZ();return GZ(e,this,n)};Cxe=r;let e=zZ[t];zu(r,"name",{__proto__:null,value:e.name}),zu(r,"length",{__proto__:null,value:e.length}),zu(Ii.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Cxe;Ii.Writable=$T();Ii.Duplex=Lf();Ii.Transform=YT();Ii.PassThrough=QT();Ii.pipeline=HZ;var{addAbortSignal:Dxe}=Sv();Ii.addAbortSignal=Dxe;Ii.finished=VZ;Ii.destroy=Bxe;Ii.compose=Ixe;zu(Ii,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p7}});zu(HZ,WZ,{__proto__:null,enumerable:!0,get(){return p7.pipeline}});zu(VZ,WZ,{__proto__:null,enumerable:!0,get(){return p7.finished}});Ii.Stream=Ii;Ii._isUint8Array=function(e){return e instanceof Uint8Array};Ii._uint8ArrayToBuffer=function(e){return kxe.from(e.buffer,e.byteOffset,e.byteLength)}});var L3=V((oFe,Bi)=>{"use strict";M();var an=h7(),Oxe=d7(),jxe=an.Readable.destroy;Bi.exports=an.Readable;Bi.exports._uint8ArrayToBuffer=an._uint8ArrayToBuffer;Bi.exports._isUint8Array=an._isUint8Array;Bi.exports.isDisturbed=an.isDisturbed;Bi.exports.isErrored=an.isErrored;Bi.exports.isReadable=an.isReadable;Bi.exports.Readable=an.Readable;Bi.exports.Writable=an.Writable;Bi.exports.Duplex=an.Duplex;Bi.exports.Transform=an.Transform;Bi.exports.PassThrough=an.PassThrough;Bi.exports.addAbortSignal=an.addAbortSignal;Bi.exports.finished=an.finished;Bi.exports.destroy=an.destroy;Bi.exports.destroy=jxe;Bi.exports.pipeline=an.pipeline;Bi.exports.compose=an.compose;Object.defineProperty(an,"promises",{configurable:!0,enumerable:!0,get(){return Oxe}});Bi.exports.Stream=an.Stream;Bi.exports.default=Bi.exports});var XZ=V((qFe,QZ)=>{M();QZ.exports=b7;var JZ=128,qxe=127,Nxe=~qxe,Lxe=Math.pow(2,31);function b7(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw b7.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=Lxe;)e[r++]=t&255|JZ,t/=128;for(;t&Nxe;)e[r++]=t&255|JZ,t>>>=7;return e[r]=t|0,b7.bytes=r-i+1,e}});var rY=V((LFe,tY)=>{M();tY.exports=w7;var Uxe=128,eY=127;function w7(t,i){var r=0,i=i||0,n=0,o=i,s,d=t.length;do{if(o>=d||n>49)throw w7.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&eY)<<n:(s&eY)*Math.pow(2,n),n+=7}while(s>=Uxe);return w7.bytes=o-i,r}});var nY=V((FFe,iY)=>{M();var Fxe=Math.pow(2,7),zxe=Math.pow(2,14),$xe=Math.pow(2,21),Gxe=Math.pow(2,28),Wxe=Math.pow(2,35),Kxe=Math.pow(2,42),Hxe=Math.pow(2,49),Vxe=Math.pow(2,56),Zxe=Math.pow(2,63);iY.exports=function(t){return t<Fxe?1:t<zxe?2:t<$xe?3:t<Gxe?4:t<Wxe?5:t<Kxe?6:t<Hxe?7:t<Vxe?8:t<Zxe?9:10}});var sY=V(($Fe,oY)=>{M();oY.exports={encode:XZ(),decode:rY(),encodingLength:nY()}});var fY=V((dl,aY)=>{M();var F3=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,z3=function(){function t(){this.fetch=!1,this.DOMException=F3.DOMException}return t.prototype=F3,new t}();(function(t){var e=function(r){var i=typeof t<"u"&&t||typeof self<"u"&&self||typeof i<"u"&&i,n={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function o(a){return a&&DataView.prototype.isPrototypeOf(a)}if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(a){return a&&s.indexOf(Object.prototype.toString.call(a))>-1};function p(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(a)||a==="")throw new TypeError('Invalid character in header field name: "'+a+'"');return a.toLowerCase()}function v(a){return typeof a!="string"&&(a=String(a)),a}function b(a){var u={next:function(){var h=a.shift();return{done:h===void 0,value:h}}};return n.iterable&&(u[Symbol.iterator]=function(){return u}),u}function x(a){this.map={},a instanceof x?a.forEach(function(u,h){this.append(h,u)},this):Array.isArray(a)?a.forEach(function(u){this.append(u[0],u[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(u){this.append(u,a[u])},this)}x.prototype.append=function(a,u){a=p(a),u=v(u);var h=this.map[a];this.map[a]=h?h+", "+u:u},x.prototype.delete=function(a){delete this.map[p(a)]},x.prototype.get=function(a){return a=p(a),this.has(a)?this.map[a]:null},x.prototype.has=function(a){return this.map.hasOwnProperty(p(a))},x.prototype.set=function(a,u){this.map[p(a)]=v(u)},x.prototype.forEach=function(a,u){for(var h in this.map)this.map.hasOwnProperty(h)&&a.call(u,this.map[h],h,this)},x.prototype.keys=function(){var a=[];return this.forEach(function(u,h){a.push(h)}),b(a)},x.prototype.values=function(){var a=[];return this.forEach(function(u){a.push(u)}),b(a)},x.prototype.entries=function(){var a=[];return this.forEach(function(u,h){a.push([h,u])}),b(a)},n.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function E(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function T(a){return new Promise(function(u,h){a.onload=function(){u(a.result)},a.onerror=function(){h(a.error)}})}function S(a){var u=new FileReader,h=T(u);return u.readAsArrayBuffer(a),h}function P(a){var u=new FileReader,h=T(u);return u.readAsText(a),h}function B(a){for(var u=new Uint8Array(a),h=new Array(u.length),c=0;c<u.length;c++)h[c]=String.fromCharCode(u[c]);return h.join("")}function I(a){if(a.slice)return a.slice(0);var u=new Uint8Array(a.byteLength);return u.set(new Uint8Array(a)),u.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(a){this.bodyUsed=this.bodyUsed,this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:n.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:n.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():n.arrayBuffer&&n.blob&&o(a)?(this._bodyArrayBuffer=I(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||d(a))?this._bodyArrayBuffer=I(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var a=E(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var a=E(this);return a||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(S)}),this.text=function(){var a=E(this);if(a)return a;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(B(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(a){var u=a.toUpperCase();return O.indexOf(u)>-1?u:a}function q(a,u){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');u=u||{};var h=u.body;if(a instanceof q){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,u.headers||(this.headers=new x(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!h&&a._bodyInit!=null&&(h=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=u.credentials||this.credentials||"same-origin",(u.headers||!this.headers)&&(this.headers=new x(u.headers)),this.method=F(u.method||this.method||"GET"),this.mode=u.mode||this.mode||null,this.signal=u.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&h)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(h),(this.method==="GET"||this.method==="HEAD")&&(u.cache==="no-store"||u.cache==="no-cache")){var c=/([?&])_=[^&]*/;if(c.test(this.url))this.url=this.url.replace(c,"$1_="+new Date().getTime());else{var l=/\?/;this.url+=(l.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function G(a){var u=new FormData;return a.trim().split("&").forEach(function(h){if(h){var c=h.split("="),l=c.shift().replace(/\+/g," "),g=c.join("=").replace(/\+/g," ");u.append(decodeURIComponent(l),decodeURIComponent(g))}}),u}function $(a){var u=new x,h=a.replace(/\r?\n[\t ]+/g," ");return h.split("\r").map(function(c){return c.indexOf(`
`)===0?c.substr(1,c.length):c}).forEach(function(c){var l=c.split(":"),g=l.shift().trim();if(g){var w=l.join(":").trim();u.append(g,w)}}),u}C.call(q.prototype);function N(a,u){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');u||(u={}),this.type="default",this.status=u.status===void 0?200:u.status,this.ok=this.status>=200&&this.status<300,this.statusText=u.statusText===void 0?"":""+u.statusText,this.headers=new x(u.headers),this.url=u.url||"",this._initBody(a)}C.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},N.error=function(){var a=new N(null,{status:0,statusText:""});return a.type="error",a};var K=[301,302,303,307,308];N.redirect=function(a,u){if(K.indexOf(u)===-1)throw new RangeError("Invalid status code");return new N(null,{status:u,headers:{location:a}})},r.DOMException=i.DOMException;try{new r.DOMException}catch{r.DOMException=function(u,h){this.message=u,this.name=h;var c=Error(u);this.stack=c.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function _(a,u){return new Promise(function(h,c){var l=new q(a,u);if(l.signal&&l.signal.aborted)return c(new r.DOMException("Aborted","AbortError"));var g=new XMLHttpRequest;function w(){g.abort()}g.onload=function(){var f={status:g.status,statusText:g.statusText,headers:$(g.getAllResponseHeaders()||"")};f.url="responseURL"in g?g.responseURL:f.headers.get("X-Request-URL");var y="response"in g?g.response:g.responseText;setTimeout(function(){h(new N(y,f))},0)},g.onerror=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},g.ontimeout=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},g.onabort=function(){setTimeout(function(){c(new r.DOMException("Aborted","AbortError"))},0)};function m(f){try{return f===""&&i.location.href?i.location.href:f}catch{return f}}g.open(l.method,m(l.url),!0),l.credentials==="include"?g.withCredentials=!0:l.credentials==="omit"&&(g.withCredentials=!1),"responseType"in g&&(n.blob?g.responseType="blob":n.arrayBuffer&&l.headers.get("Content-Type")&&l.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(g.responseType="arraybuffer")),u&&typeof u.headers=="object"&&!(u.headers instanceof x)?Object.getOwnPropertyNames(u.headers).forEach(function(f){g.setRequestHeader(f,v(u.headers[f]))}):l.headers.forEach(function(f,y){g.setRequestHeader(y,f)}),l.signal&&(l.signal.addEventListener("abort",w),g.onreadystatechange=function(){g.readyState===4&&l.signal.removeEventListener("abort",w)}),g.send(typeof l._bodyInit>"u"?null:l._bodyInit)})}return _.polyfill=!0,i.fetch||(i.fetch=_,i.Headers=x,i.Request=q,i.Response=N),r.Headers=x,r.Request=q,r.Response=N,r.fetch=_,r}({})})(z3);z3.fetch.ponyfill=!0;delete z3.fetch.polyfill;var ym=F3.fetch?F3:z3;dl=ym.fetch;dl.default=ym.fetch;dl.fetch=ym.fetch;dl.Headers=ym.Headers;dl.Request=ym.Request;dl.Response=ym.Response;aY.exports=dl});var lY=V(cY=>{"use strict";M();cY.supports=function(...e){let r=e.reduce((i,n)=>Object.assign(i,n),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var ja=V((CKe,dY)=>{"use strict";M();dY.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var E7=V((jKe,hY)=>{"use strict";M();var M7=null;hY.exports=function(){return M7===null&&(M7={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),M7}});var T7=V(pY=>{"use strict";M();var S7=ja(),eMe=new Set(["buffer","view","utf8"]),A7=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!eMe.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new S7(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new S7(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new S7(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};pY.Encoding=A7});var I7=V(Y3=>{"use strict";M();var{Buffer:R7}=Jt()||{},{Encoding:k7}=T7(),tMe=E7(),qv=class extends k7{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new Nv({encode:this.encode,decode:e=>this.decode(R7.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},Nv=class extends k7{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new qv({encode:e=>{let r=this.encode(e);return R7.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},P7=class extends k7{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new qv({encode:e=>R7.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=tMe();return new Nv({encode:i=>e.encode(this.encode(i)),decode:i=>this.decode(r.decode(i)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};Y3.BufferFormat=qv;Y3.ViewFormat=Nv;Y3.UTF8Format=P7});var vY=V(Mh=>{"use strict";M();var{Buffer:oo}=Jt()||{Buffer:{isBuffer:()=>!1}},{textEncoder:yY,textDecoder:mY}=E7()(),{BufferFormat:Lv,ViewFormat:B7,UTF8Format:gY}=I7(),J3=t=>t;Mh.utf8=new gY({encode:function(t){return oo.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?mY.decode(t):String(t)},decode:J3,name:"utf8",createViewTranscoder(){return new B7({encode:function(t){return ArrayBuffer.isView(t)?t:yY.encode(t)},decode:function(t){return mY.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new Lv({encode:function(t){return oo.isBuffer(t)?t:ArrayBuffer.isView(t)?oo.from(t.buffer,t.byteOffset,t.byteLength):oo.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});Mh.json=new gY({encode:JSON.stringify,decode:JSON.parse,name:"json"});Mh.buffer=new Lv({encode:function(t){return oo.isBuffer(t)?t:ArrayBuffer.isView(t)?oo.from(t.buffer,t.byteOffset,t.byteLength):oo.from(String(t),"utf8")},decode:J3,name:"buffer",createViewTranscoder(){return new B7({encode:function(t){return ArrayBuffer.isView(t)?t:oo.from(String(t),"utf8")},decode:function(t){return oo.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});Mh.view=new B7({encode:function(t){return ArrayBuffer.isView(t)?t:yY.encode(t)},decode:J3,name:"view",createBufferTranscoder(){return new Lv({encode:function(t){return oo.isBuffer(t)?t:ArrayBuffer.isView(t)?oo.from(t.buffer,t.byteOffset,t.byteLength):oo.from(String(t),"utf8")},decode:J3,name:`${this.name}+buffer`})}});Mh.hex=new Lv({encode:function(t){return oo.isBuffer(t)?t:oo.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});Mh.base64=new Lv({encode:function(t){return oo.isBuffer(t)?t:oo.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var _Y=V(wY=>{"use strict";M();var bY=ja(),X3=vY(),{Encoding:rMe}=T7(),{BufferFormat:iMe,ViewFormat:nMe,UTF8Format:oMe}=I7(),Uv=Symbol("formats"),Q3=Symbol("encodings"),sMe=new Set(["buffer","view","utf8"]),D7=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>sMe.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[Q3]=new Map,this[Uv]=new Set(e);for(let r in X3)try{this.encoding(r)}catch(i){if(i.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw i}}encodings(){return Array.from(new Set(this[Q3].values()))}encoding(e){let r=this[Q3].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=cMe[e],!r)throw new bY(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=aMe(e)}let{name:i,format:n}=r;if(!this[Uv].has(n))if(this[Uv].has("view"))r=r.createViewTranscoder();else if(this[Uv].has("buffer"))r=r.createBufferTranscoder();else if(this[Uv].has("utf8"))r=r.createUTF8Transcoder();else throw new bY(`Encoding '${i}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let o of[e,i,r.name,r.commonName])this[Q3].set(o,r)}return r}};wY.Transcoder=D7;function aMe(t){if(t instanceof rMe)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${lMe++}`;switch(fMe(t)){case"view":return new nMe({...t,name:r});case"utf8":return new oMe({...t,name:r});case"buffer":return new iMe({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function fMe(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var uMe={binary:X3.buffer,"utf-8":X3.utf8},cMe={...X3,...uMe},lMe=0});var MY=V((KKe,xY)=>{M();xY.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var Fv=V(C7=>{"use strict";M();var EY=MY();C7.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(i,n){t=function(o,s){o?n(o):i(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};C7.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){EY(()=>e(null,r))}).catch(function(r){EY(()=>e(r))})}});var e6=V(O7=>{"use strict";M();O7.getCallback=function(t,e){return typeof t=="function"?t:e};O7.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var Sl=V(n6=>{"use strict";M();var{fromCallback:j7}=Fv(),ps=ja(),{getOptions:q7,getCallback:SY}=e6(),Eh=Symbol("promise"),wm=Symbol("callback"),zf=Symbol("working"),Sh=Symbol("handleOne"),Ku=Symbol("handleMany"),N7=Symbol("autoClose"),Ml=Symbol("finishWork"),$f=Symbol("returnMany"),wl=Symbol("closing"),zv=Symbol("handleClose"),t6=Symbol("closed"),$v=Symbol("closeCallbacks"),xl=Symbol("keyEncoding"),Ah=Symbol("valueEncoding"),L7=Symbol("abortOnClose"),r6=Symbol("legacy"),U7=Symbol("keys"),F7=Symbol("values"),_l=Symbol("limit"),ea=Symbol("count"),i6=Object.freeze({}),dMe=()=>{},AY=!1,Gv=class{constructor(e,r,i){if(typeof e!="object"||e===null){let n=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${n}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[t6]=!1,this[$v]=[],this[zf]=!1,this[wl]=!1,this[N7]=!1,this[wm]=null,this[Sh]=this[Sh].bind(this),this[Ku]=this[Ku].bind(this),this[zv]=this[zv].bind(this),this[xl]=r[xl],this[Ah]=r[Ah],this[r6]=i,this[_l]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[ea]=0,this[L7]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[ea]}get limit(){return this[_l]}next(e){let r;if(e===void 0)r=new Promise((i,n)=>{e=(o,s,d)=>{o?n(o):this[r6]?s===void 0&&d===void 0?i():i([s,d]):i(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[wl]?this.nextTick(e,new ps("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[zf]?this.nextTick(e,new ps("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[zf]=!0,this[wm]=e,this[ea]>=this[_l]?this.nextTick(this[Sh],null):this._next(this[Sh])),r}_next(e){this.nextTick(e)}nextv(e,r,i){return i=SY(r,i),i=j7(i,Eh),r=q7(r,i6),Number.isInteger(e)?(this[wl]?this.nextTick(i,new ps("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[zf]?this.nextTick(i,new ps("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[_l]<1/0&&(e=Math.min(e,this[_l]-this[ea])),this[zf]=!0,this[wm]=i,e<=0?this.nextTick(this[Ku],null,[]):this._nextv(e,r,this[Ku])),i[Eh]):(this.nextTick(i,new TypeError("The first argument 'size' must be an integer")),i[Eh])}_nextv(e,r,i){let n=[],o=(s,d,p)=>{if(s)return i(s);if(this[r6]?d===void 0&&p===void 0:d===void 0)return i(null,n);n.push(this[r6]?[d,p]:d),n.length===e?i(null,n):this._next(o)};this._next(o)}all(e,r){return r=SY(e,r),r=j7(r,Eh),e=q7(e,i6),this[wl]?this.nextTick(r,new ps("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[zf]?this.nextTick(r,new ps("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[zf]=!0,this[wm]=r,this[N7]=!0,this[ea]>=this[_l]?this.nextTick(this[Ku],null,[]):this._all(e,this[Ku])),r[Eh]}_all(e,r){let i=this[ea],n=[],o=()=>{let d=this[_l]<1/0?Math.min(1e3,this[_l]-i):1e3;d<=0?this.nextTick(r,null,n):this._nextv(d,i6,s)},s=(d,p)=>{d?r(d):p.length===0?r(null,n):(n.push.apply(n,p),i+=p.length,o())};o()}[Ml](){let e=this[wm];return this[L7]&&e===null?dMe:(this[zf]=!1,this[wm]=null,this[wl]&&this._close(this[zv]),e)}[$f](e,r,i){this[N7]?this.close(e.bind(null,r,i)):e(r,i)}seek(e,r){if(r=q7(r,i6),!this[wl]){if(this[zf])throw new ps("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let i=this.db.keyEncoding(r.keyEncoding||this[xl]),n=i.format;r.keyEncoding!==n&&(r={...r,keyEncoding:n});let o=this.db.prefixKey(i.encode(e),n);this._seek(o,r)}}}_seek(e,r){throw new ps("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=j7(e,Eh),this[t6]?this.nextTick(e):this[wl]?this[$v].push(e):(this[wl]=!0,this[$v].push(e),this[zf]?this[L7]&&this[Ml]()(new ps("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[zv])),e[Eh]}_close(e){this.nextTick(e)}[zv](){this[t6]=!0,this.db.detachResource(this);let e=this[$v];this[$v]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[t6]||await this.close()}}},_m=class extends Gv{constructor(e,r){super(e,r,!0),this[U7]=r.keys!==!1,this[F7]=r.values!==!1}[Sh](e,r,i){let n=this[Ml]();if(e)return n(e);try{r=this[U7]&&r!==void 0?this[xl].decode(r):void 0,i=this[F7]&&i!==void 0?this[Ah].decode(i):void 0}catch(o){return n(new El("entry",o))}r===void 0&&i===void 0||this[ea]++,n(null,r,i)}[Ku](e,r){let i=this[Ml]();if(e)return this[$f](i,e);try{for(let n of r){let o=n[0],s=n[1];n[0]=this[U7]&&o!==void 0?this[xl].decode(o):void 0,n[1]=this[F7]&&s!==void 0?this[Ah].decode(s):void 0}}catch(n){return this[$f](i,new El("entries",n))}this[ea]+=r.length,this[$f](i,null,r)}end(e){return!AY&&typeof console<"u"&&(AY=!0,console.warn(new ps("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},z7=class extends Gv{constructor(e,r){super(e,r,!1)}[Sh](e,r){let i=this[Ml]();if(e)return i(e);try{r=r!==void 0?this[xl].decode(r):void 0}catch(n){return i(new El("key",n))}r!==void 0&&this[ea]++,i(null,r)}[Ku](e,r){let i=this[Ml]();if(e)return this[$f](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[xl].decode(o):void 0}}catch(n){return this[$f](i,new El("keys",n))}this[ea]+=r.length,this[$f](i,null,r)}},$7=class extends Gv{constructor(e,r){super(e,r,!1)}[Sh](e,r){let i=this[Ml]();if(e)return i(e);try{r=r!==void 0?this[Ah].decode(r):void 0}catch(n){return i(new El("value",n))}r!==void 0&&this[ea]++,i(null,r)}[Ku](e,r){let i=this[Ml]();if(e)return this[$f](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[Ah].decode(o):void 0}}catch(n){return this[$f](i,new El("values",n))}this[ea]+=r.length,this[$f](i,null,r)}},El=class extends ps{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(_m.prototype,t.split(" ")[0],{get(){throw new ps(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ps(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});_m.keyEncoding=xl;_m.valueEncoding=Ah;n6.AbstractIterator=_m;n6.AbstractKeyIterator=z7;n6.AbstractValueIterator=$7});var TY=V(G7=>{"use strict";M();var{AbstractKeyIterator:hMe,AbstractValueIterator:pMe}=Sl(),Th=Symbol("iterator"),Wv=Symbol("callback"),xm=Symbol("handleOne"),Ph=Symbol("handleMany"),Kv=class extends hMe{constructor(e,r){super(e,r),this[Th]=e.iterator({...r,keys:!0,values:!1}),this[xm]=this[xm].bind(this),this[Ph]=this[Ph].bind(this)}},o6=class extends pMe{constructor(e,r){super(e,r),this[Th]=e.iterator({...r,keys:!1,values:!0}),this[xm]=this[xm].bind(this),this[Ph]=this[Ph].bind(this)}};for(let t of[Kv,o6]){let e=t===Kv,r=e?i=>i[0]:i=>i[1];t.prototype._next=function(i){this[Wv]=i,this[Th].next(this[xm])},t.prototype[xm]=function(i,n,o){let s=this[Wv];i?s(i):s(null,e?n:o)},t.prototype._nextv=function(i,n,o){this[Wv]=o,this[Th].nextv(i,n,this[Ph])},t.prototype._all=function(i,n){this[Wv]=n,this[Th].all(i,this[Ph])},t.prototype[Ph]=function(i,n){let o=this[Wv];i?o(i):o(null,n.map(r))},t.prototype._seek=function(i,n){this[Th].seek(i,n)},t.prototype._close=function(i){this[Th].close(i)}}G7.DefaultKeyIterator=Kv;G7.DefaultValueIterator=o6});var PY=V(l6=>{"use strict";M();var{AbstractIterator:mMe,AbstractKeyIterator:yMe,AbstractValueIterator:gMe}=Sl(),W7=ja(),Fo=Symbol("nut"),u6=Symbol("undefer"),c6=Symbol("factory"),s6=class extends mMe{constructor(e,r){super(e,r),this[Fo]=null,this[c6]=()=>e.iterator(r),this.db.defer(()=>this[u6]())}},a6=class extends yMe{constructor(e,r){super(e,r),this[Fo]=null,this[c6]=()=>e.keys(r),this.db.defer(()=>this[u6]())}},f6=class extends gMe{constructor(e,r){super(e,r),this[Fo]=null,this[c6]=()=>e.values(r),this.db.defer(()=>this[u6]())}};for(let t of[s6,a6,f6])t.prototype[u6]=function(){this.db.status==="open"&&(this[Fo]=this[c6]())},t.prototype._next=function(e){this[Fo]!==null?this[Fo].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new W7("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,i){this[Fo]!==null?this[Fo].nextv(e,r,i):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,i)):this.nextTick(i,new W7("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[Fo]!==null?this[Fo].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new W7("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[Fo]!==null?this[Fo]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[Fo]!==null?this[Fo].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};l6.DeferredIterator=s6;l6.DeferredKeyIterator=a6;l6.DeferredValueIterator=f6});var H7=V(kY=>{"use strict";M();var{fromCallback:RY}=Fv(),d6=ja(),{getCallback:vMe,getOptions:bMe}=e6(),h6=Symbol("promise"),ta=Symbol("status"),Mm=Symbol("operations"),Hv=Symbol("finishClose"),Em=Symbol("closeCallbacks"),K7=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[Mm]=[],this[Em]=[],this[ta]="open",this[Hv]=this[Hv].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[Mm].length}put(e,r,i){if(this[ta]!=="open")throw new d6("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e)||this.db._checkValue(r);if(n)throw n;let o=i&&i.sublevel!=null?i.sublevel:this.db,s=i,d=o.keyEncoding(i&&i.keyEncoding),p=o.valueEncoding(i&&i.valueEncoding),v=d.format;i={...i,keyEncoding:v,valueEncoding:p.format},o!==this.db&&(i.sublevel=null);let b=o.prefixKey(d.encode(e),v),x=p.encode(r);return this._put(b,x,i),this[Mm].push({...s,type:"put",key:e,value:r}),this}_put(e,r,i){}del(e,r){if(this[ta]!=="open")throw new d6("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e);if(i)throw i;let n=r&&r.sublevel!=null?r.sublevel:this.db,o=r,s=n.keyEncoding(r&&r.keyEncoding),d=s.format;return r={...r,keyEncoding:d},n!==this.db&&(r.sublevel=null),this._del(n.prefixKey(s.encode(e),d),r),this[Mm].push({...o,type:"del",key:e}),this}_del(e,r){}clear(){if(this[ta]!=="open")throw new d6("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[Mm]=[],this}_clear(){}write(e,r){return r=vMe(e,r),r=RY(r,h6),e=bMe(e),this[ta]!=="open"?this.nextTick(r,new d6("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[ta]="writing",this._write(e,i=>{this[ta]="closing",this[Em].push(()=>r(i)),i||this.db.emit("batch",this[Mm]),this._close(this[Hv])})),r[h6]}_write(e,r){}close(e){return e=RY(e,h6),this[ta]==="closing"?this[Em].push(e):this[ta]==="closed"?this.nextTick(e):(this[Em].push(e),this[ta]!=="writing"&&(this[ta]="closing",this._close(this[Hv]))),e[h6]}_close(e){this.nextTick(e)}[Hv](){this[ta]="closed",this.db.detachResource(this);let e=this[Em];this[Em]=[];for(let r of e)r()}};kY.AbstractChainedBatch=K7});var BY=V(IY=>{"use strict";M();var{AbstractChainedBatch:wMe}=H7(),_Me=ja(),Sm=Symbol("encoded"),V7=class extends wMe{constructor(e){super(e),this[Sm]=[]}_put(e,r,i){this[Sm].push({...i,type:"put",key:e,value:r})}_del(e,r){this[Sm].push({...r,type:"del",key:e})}_clear(){this[Sm]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[Sm].length===0?this.nextTick(r):this.db._batch(this[Sm],e,r):this.nextTick(r,new _Me("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};IY.DefaultChainedBatch=V7});var OY=V((fHe,CY)=>{"use strict";M();var DY=ja(),xMe=Object.prototype.hasOwnProperty,MMe=new Set(["lt","lte","gt","gte"]);CY.exports=function(t,e){let r={};for(let i in t)if(xMe.call(t,i)&&!(i==="keyEncoding"||i==="valueEncoding")){if(i==="start"||i==="end")throw new DY(`The legacy range option '${i}' has been removed`,{code:"LEVEL_LEGACY"});if(i==="encoding")throw new DY("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});MMe.has(i)?r[i]=e.encode(t[i]):r[i]=t[i]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var Z7=V((cHe,qY)=>{M();var jY;qY.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(jY||(jY=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var UY=V((dHe,LY)=>{"use strict";M();var NY=Z7();LY.exports=function(t,...e){e.length===0?NY(t):NY(()=>t(...e))}});var FY=V(p6=>{"use strict";M();var{AbstractIterator:EMe,AbstractKeyIterator:SMe,AbstractValueIterator:AMe}=Sl(),Am=Symbol("unfix"),qa=Symbol("iterator"),Rh=Symbol("handleOne"),Al=Symbol("handleMany"),Hu=Symbol("callback"),Vv=class extends EMe{constructor(e,r,i,n){super(e,r),this[qa]=i,this[Am]=n,this[Rh]=this[Rh].bind(this),this[Al]=this[Al].bind(this),this[Hu]=null}[Rh](e,r,i){let n=this[Hu];if(e)return n(e);r!==void 0&&(r=this[Am](r)),n(e,r,i)}[Al](e,r){let i=this[Hu];if(e)return i(e);for(let n of r){let o=n[0];o!==void 0&&(n[0]=this[Am](o))}i(e,r)}},Zv=class extends SMe{constructor(e,r,i,n){super(e,r),this[qa]=i,this[Am]=n,this[Rh]=this[Rh].bind(this),this[Al]=this[Al].bind(this),this[Hu]=null}[Rh](e,r){let i=this[Hu];if(e)return i(e);r!==void 0&&(r=this[Am](r)),i(e,r)}[Al](e,r){let i=this[Hu];if(e)return i(e);for(let n=0;n<r.length;n++){let o=r[n];o!==void 0&&(r[n]=this[Am](o))}i(e,r)}},Yv=class extends AMe{constructor(e,r,i){super(e,r),this[qa]=i}};for(let t of[Vv,Zv])t.prototype._next=function(e){this[Hu]=e,this[qa].next(this[Rh])},t.prototype._nextv=function(e,r,i){this[Hu]=i,this[qa].nextv(e,r,this[Al])},t.prototype._all=function(e,r){this[Hu]=r,this[qa].all(e,this[Al])};for(let t of[Yv])t.prototype._next=function(e){this[qa].next(e)},t.prototype._nextv=function(e,r,i){this[qa].nextv(e,r,i)},t.prototype._all=function(e,r){this[qa].all(e,r)};for(let t of[Vv,Zv,Yv])t.prototype._seek=function(e,r){this[qa].seek(e,r)},t.prototype._close=function(e){this[qa].close(e)};p6.AbstractSublevelIterator=Vv;p6.AbstractSublevelKeyIterator=Zv;p6.AbstractSublevelValueIterator=Yv});var WY=V((yHe,GY)=>{"use strict";M();var Y7=ja(),{Buffer:X7}=Jt()||{},{AbstractSublevelIterator:TMe,AbstractSublevelKeyIterator:PMe,AbstractSublevelValueIterator:RMe}=FY(),Vu=Symbol("prefix"),zY=Symbol("upperBound"),Jv=Symbol("prefixRange"),ms=Symbol("parent"),J7=Symbol("unfix"),$Y=new TextEncoder,kMe={separator:"!"};GY.exports=function({AbstractLevel:t}){class e extends t{static defaults(i){if(typeof i=="string")throw new Y7("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(i&&i.open)throw new Y7("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return i==null?kMe:i.separator?i:{...i,separator:"!"}}constructor(i,n,o){let{separator:s,manifest:d,...p}=e.defaults(o);n=BMe(n,s);let v=s.charCodeAt(0)+1,b=i[ms]||i;if(!$Y.encode(n).every(T=>T>v&&T<127))throw new Y7(`Prefix must use bytes > ${v} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(IMe(b,d),p);let x=(i.prefix||"")+s+n+s,E=x.slice(0,-1)+String.fromCharCode(v);this[ms]=b,this[Vu]=new m6(x),this[zY]=new m6(E),this[J7]=new e9,this.nextTick=b.nextTick}prefixKey(i,n){if(n==="utf8")return this[Vu].utf8+i;if(i.byteLength===0)return this[Vu][n];if(n==="view"){let o=this[Vu].view,s=new Uint8Array(o.byteLength+i.byteLength);return s.set(o,0),s.set(i,o.byteLength),s}else{let o=this[Vu].buffer;return X7.concat([o,i],o.byteLength+i.byteLength)}}[Jv](i,n){i.gte!==void 0?i.gte=this.prefixKey(i.gte,n):i.gt!==void 0?i.gt=this.prefixKey(i.gt,n):i.gte=this[Vu][n],i.lte!==void 0?i.lte=this.prefixKey(i.lte,n):i.lt!==void 0?i.lt=this.prefixKey(i.lt,n):i.lte=this[zY][n]}get prefix(){return this[Vu].utf8}get db(){return this[ms]}_open(i,n){this[ms].open({passive:!0},n)}_put(i,n,o,s){this[ms].put(i,n,o,s)}_get(i,n,o){this[ms].get(i,n,o)}_getMany(i,n,o){this[ms].getMany(i,n,o)}_del(i,n,o){this[ms].del(i,n,o)}_batch(i,n,o){this[ms].batch(i,n,o)}_clear(i,n){this[Jv](i,i.keyEncoding),this[ms].clear(i,n)}_iterator(i){this[Jv](i,i.keyEncoding);let n=this[ms].iterator(i),o=this[J7].get(this[Vu].utf8.length,i.keyEncoding);return new TMe(this,i,n,o)}_keys(i){this[Jv](i,i.keyEncoding);let n=this[ms].keys(i),o=this[J7].get(this[Vu].utf8.length,i.keyEncoding);return new PMe(this,i,n,o)}_values(i){this[Jv](i,i.keyEncoding);let n=this[ms].values(i);return new RMe(this,i,n)}}return{AbstractSublevel:e}};var IMe=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:Q7(t,"utf8"),buffer:Q7(t,"buffer"),view:Q7(t,"view")}}},Q7=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},m6=class{constructor(e){this.utf8=e,this.view=$Y.encode(e),this.buffer=X7?X7.from(this.view.buffer,0,this.view.byteLength):{}}},e9=class{constructor(){this.cache=new Map}get(e,r){let i=this.cache.get(r);return i===void 0&&(r==="view"?i=function(n,o){return o.subarray(n)}.bind(null,e):i=function(n,o){return o.slice(n)}.bind(null,e),this.cache.set(r,i)),i}},BMe=function(t,e){let r=0,i=t.length;for(;r<i&&t[r]===e;)r++;for(;i>r&&t[i-1]===e;)i--;return t.slice(r,i)}});var o9=V(n9=>{"use strict";M();var{supports:DMe}=lY(),{Transcoder:CMe}=_Y(),{EventEmitter:OMe}=Ps(),{fromCallback:Tl}=Fv(),Na=ja(),{AbstractIterator:kh}=Sl(),{DefaultKeyIterator:jMe,DefaultValueIterator:qMe}=TY(),{DeferredIterator:NMe,DeferredKeyIterator:LMe,DeferredValueIterator:UMe}=PY(),{DefaultChainedBatch:KY}=BY(),{getCallback:Ih,getOptions:Pl}=e6(),y6=OY(),It=Symbol("promise"),Zu=Symbol("landed"),Bh=Symbol("resources"),t9=Symbol("closeResources"),Qv=Symbol("operations"),Xv=Symbol("undefer"),g6=Symbol("deferOpen"),HY=Symbol("options"),Gt=Symbol("status"),Dh=Symbol("defaultOptions"),Tm=Symbol("transcoder"),v6=Symbol("keyEncoding"),r9=Symbol("valueEncoding"),FMe=()=>{},e1=class extends OMe{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=Pl(r);let{keyEncoding:i,valueEncoding:n,passive:o,...s}=r;this[Bh]=new Set,this[Qv]=[],this[g6]=!0,this[HY]=s,this[Gt]="opening",this.supports=DMe(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Tm]=new CMe(zMe(this)),this[v6]=this[Tm].encoding(i||"utf8"),this[r9]=this[Tm].encoding(n||"utf8");for(let d of this[Tm].encodings())this.supports.encodings[d.commonName]||(this.supports.encodings[d.commonName]=!0);this[Dh]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[v6].commonName,valueEncoding:this[r9].commonName}),key:Object.freeze({keyEncoding:this[v6].commonName})},this.nextTick(()=>{this[g6]&&this.open({passive:!1},FMe)})}get status(){return this[Gt]}keyEncoding(e){return this[Tm].encoding(e??this[v6])}valueEncoding(e){return this[Tm].encoding(e??this[r9])}open(e,r){r=Ih(e,r),r=Tl(r,It),e={...this[HY],...Pl(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let i=n=>{this[Gt]==="closing"||this[Gt]==="opening"?this.once(Zu,n?()=>i(n):i):this[Gt]!=="open"?r(new Na("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:n})):r()};return e.passive?this[Gt]==="opening"?this.once(Zu,i):this.nextTick(i):this[Gt]==="closed"||this[g6]?(this[g6]=!1,this[Gt]="opening",this.emit("opening"),this._open(e,n=>{if(n){this[Gt]="closed",this[t9](()=>{this.emit(Zu),i(n)}),this[Xv]();return}this[Gt]="open",this[Xv](),this.emit(Zu),this[Gt]==="open"&&this.emit("open"),this[Gt]==="open"&&this.emit("ready"),i()})):this[Gt]==="open"?this.nextTick(i):this.once(Zu,()=>this.open(e,r)),r[It]}_open(e,r){this.nextTick(r)}close(e){e=Tl(e,It);let r=i=>{this[Gt]==="opening"||this[Gt]==="closing"?this.once(Zu,i?r(i):r):this[Gt]!=="closed"?e(new Na("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:i})):e()};if(this[Gt]==="open"){this[Gt]="closing",this.emit("closing");let i=n=>{this[Gt]="open",this[Xv](),this.emit(Zu),r(n)};this[t9](()=>{this._close(n=>{if(n)return i(n);this[Gt]="closed",this[Xv](),this.emit(Zu),this[Gt]==="closed"&&this.emit("closed"),r()})})}else this[Gt]==="closed"?this.nextTick(r):this.once(Zu,()=>this.close(e));return e[It]}[t9](e){if(this[Bh].size===0)return this.nextTick(e);let r=this[Bh].size,i=!0,n=()=>{--r===0&&(i?this.nextTick(e):e())};for(let o of this[Bh])o.close(n);i=!1,this[Bh].clear()}_close(e){this.nextTick(e)}get(e,r,i){if(i=Ih(r,i),i=Tl(i,It),r=Pl(r,this[Dh].entry),this[Gt]==="opening")return this.defer(()=>this.get(e,r,i)),i[It];if(Pm(this,i))return i[It];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[It];let o=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),d=o.format,p=s.format;return(r.keyEncoding!==d||r.valueEncoding!==p)&&(r=Object.assign({},r,{keyEncoding:d,valueEncoding:p})),this._get(this.prefixKey(o.encode(e),d),r,(v,b)=>{if(v)return(v.code==="LEVEL_NOT_FOUND"||v.notFound||/NotFound/i.test(v))&&(v.code||(v.code="LEVEL_NOT_FOUND"),v.notFound||(v.notFound=!0),v.status||(v.status=404)),i(v);try{b=s.decode(b)}catch(x){return i(new Na("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:x}))}i(null,b)}),i[It]}_get(e,r,i){this.nextTick(i,new Error("NotFound"))}getMany(e,r,i){if(i=Ih(r,i),i=Tl(i,It),r=Pl(r,this[Dh].entry),this[Gt]==="opening")return this.defer(()=>this.getMany(e,r,i)),i[It];if(Pm(this,i))return i[It];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'keys' must be an array")),i[It];if(e.length===0)return this.nextTick(i,null,[]),i[It];let n=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),s=n.format,d=o.format;(r.keyEncoding!==s||r.valueEncoding!==d)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:d}));let p=new Array(e.length);for(let v=0;v<e.length;v++){let b=e[v],x=this._checkKey(b);if(x)return this.nextTick(i,x),i[It];p[v]=this.prefixKey(n.encode(b),s)}return this._getMany(p,r,(v,b)=>{if(v)return i(v);try{for(let x=0;x<b.length;x++)b[x]!==void 0&&(b[x]=o.decode(b[x]))}catch(x){return i(new Na(`Could not decode one or more of ${b.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:x}))}i(null,b)}),i[It]}_getMany(e,r,i){this.nextTick(i,null,new Array(e.length).fill(void 0))}put(e,r,i,n){if(n=Ih(i,n),n=Tl(n,It),i=Pl(i,this[Dh].entry),this[Gt]==="opening")return this.defer(()=>this.put(e,r,i,n)),n[It];if(Pm(this,n))return n[It];let o=this._checkKey(e)||this._checkValue(r);if(o)return this.nextTick(n,o),n[It];let s=this.keyEncoding(i.keyEncoding),d=this.valueEncoding(i.valueEncoding),p=s.format,v=d.format;(i.keyEncoding!==p||i.valueEncoding!==v)&&(i=Object.assign({},i,{keyEncoding:p,valueEncoding:v}));let b=this.prefixKey(s.encode(e),p),x=d.encode(r);return this._put(b,x,i,E=>{if(E)return n(E);this.emit("put",e,r),n()}),n[It]}_put(e,r,i,n){this.nextTick(n)}del(e,r,i){if(i=Ih(r,i),i=Tl(i,It),r=Pl(r,this[Dh].key),this[Gt]==="opening")return this.defer(()=>this.del(e,r,i)),i[It];if(Pm(this,i))return i[It];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[It];let o=this.keyEncoding(r.keyEncoding),s=o.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(o.encode(e),s),r,d=>{if(d)return i(d);this.emit("del",e),i()}),i[It]}_del(e,r,i){this.nextTick(i)}batch(e,r,i){if(!arguments.length){if(this[Gt]==="opening")return new KY(this);if(this[Gt]!=="open")throw new Na("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?i=e:i=Ih(r,i),i=Tl(i,It),r=Pl(r,this[Dh].empty),this[Gt]==="opening")return this.defer(()=>this.batch(e,r,i)),i[It];if(Pm(this,i))return i[It];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'operations' must be an array")),i[It];if(e.length===0)return this.nextTick(i),i[It];let n=new Array(e.length),{keyEncoding:o,valueEncoding:s,...d}=r;for(let p=0;p<e.length;p++){if(typeof e[p]!="object"||e[p]===null)return this.nextTick(i,new TypeError("A batch operation must be an object")),i[It];let v=Object.assign({},e[p]);if(v.type!=="put"&&v.type!=="del")return this.nextTick(i,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),i[It];let b=this._checkKey(v.key);if(b)return this.nextTick(i,b),i[It];let x=v.sublevel!=null?v.sublevel:this,E=x.keyEncoding(v.keyEncoding||o),T=E.format;if(v.key=x.prefixKey(E.encode(v.key),T),v.keyEncoding=T,v.type==="put"){let S=this._checkValue(v.value);if(S)return this.nextTick(i,S),i[It];let P=x.valueEncoding(v.valueEncoding||s);v.value=P.encode(v.value),v.valueEncoding=P.format}x!==this&&(v.sublevel=null),n[p]=v}return this._batch(n,d,p=>{if(p)return i(p);this.emit("batch",e),i()}),i[It]}_batch(e,r,i){this.nextTick(i)}sublevel(e,r){return this._sublevel(e,i9.defaults(r))}_sublevel(e,r){return new i9(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=Ih(e,r),r=Tl(r,It),e=Pl(e,this[Dh].empty),this[Gt]==="opening")return this.defer(()=>this.clear(e,r)),r[It];if(Pm(this,r))return r[It];let i=e,n=this.keyEncoding(e.keyEncoding);return e=y6(e,n),e.keyEncoding=n.format,e.limit===0?this.nextTick(r):this._clear(e,o=>{if(o)return r(o);this.emit("clear",i),r()}),r[It]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=y6(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[kh.keyEncoding]=r,e[kh.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Gt]==="opening")return new NMe(this,e);if(this[Gt]!=="open")throw new Na("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new kh(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=y6(e,r),e[kh.keyEncoding]=r,e[kh.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Gt]==="opening")return new LMe(this,e);if(this[Gt]!=="open")throw new Na("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new jMe(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=y6(e,r),e[kh.keyEncoding]=r,e[kh.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Gt]==="opening")return new UMe(this,e);if(this[Gt]!=="open")throw new Na("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new qMe(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[Qv].push(e)}[Xv](){if(this[Qv].length===0)return;let e=this[Qv];this[Qv]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[Bh].add(e)}detachResource(e){this[Bh].delete(e)}_chainedBatch(){return new KY(this)}_checkKey(e){if(e==null)return new Na("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new Na("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};e1.prototype.nextTick=UY();var{AbstractSublevel:i9}=WY()({AbstractLevel:e1});n9.AbstractLevel=e1;n9.AbstractSublevel=i9;var Pm=function(t,e){return t[Gt]!=="open"?(t.nextTick(e,new Na("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},zMe=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var s9=V(Ch=>{"use strict";M();Ch.AbstractLevel=o9().AbstractLevel;Ch.AbstractSublevel=o9().AbstractSublevel;Ch.AbstractIterator=Sl().AbstractIterator;Ch.AbstractKeyIterator=Sl().AbstractKeyIterator;Ch.AbstractValueIterator=Sl().AbstractValueIterator;Ch.AbstractChainedBatch=H7().AbstractChainedBatch});var ZY=V((xHe,VY)=>{M();VY.exports=GMe;var $Me=Z7();function GMe(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let i,n,o,s,d,p=!0,v;Array.isArray(t)?(i=[],o=n=t.length):(s=Object.keys(t),i={},o=n=s.length);function b(E){function T(){r&&r(E,i),r=null}p?$Me(T):T()}function x(E,T,S){if(i[E]=S,T&&(d=!0),--o===0||T)b(T);else if(!d&&v<n){let P;s?(P=s[v],v+=1,t[P](function(B,I){x(P,B,I)})):(P=v,v+=1,t[P](function(B,I){x(P,B,I)}))}}v=e,o?s?s.some(function(E,T){return t[E](function(S,P){x(E,S,P)}),T===e-1}):t.some(function(E,T){return E(function(S,P){x(T,S,P)}),T===e-1}):b(null),p=!1}});var a9=V((EHe,YY)=>{"use strict";M();YY.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,i=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,n=e.gte===void 0,o=e.lte===void 0;return r!==void 0&&i!==void 0?IDBKeyRange.bound(r,i,n,o):r!==void 0?IDBKeyRange.lowerBound(r,n):i!==void 0?IDBKeyRange.upperBound(i,o):null}});var f9=V((AHe,JY)=>{"use strict";M();var WMe=new TextEncoder;JY.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):WMe.encode(t)}});var rJ=V(tJ=>{"use strict";M();var{AbstractIterator:KMe}=s9(),QY=a9(),b6=f9(),Gf=Symbol("cache"),Yu=Symbol("finished"),ys=Symbol("options"),Ju=Symbol("currentOptions"),Oh=Symbol("position"),u9=Symbol("location"),Rm=Symbol("first"),XY={},c9=class extends KMe{constructor(e,r,i){super(e,i),this[Gf]=[],this[Yu]=this.limit===0,this[ys]=i,this[Ju]={...i},this[Oh]=void 0,this[u9]=r,this[Rm]=!0}_nextv(e,r,i){if(this[Rm]=!1,this[Yu])return this.nextTick(i,null,[]);if(this[Gf].length>0)return e=Math.min(e,this[Gf].length),this.nextTick(i,null,this[Gf].splice(0,e));this[Oh]!==void 0&&(this[ys].reverse?(this[Ju].lt=this[Oh],this[Ju].lte=void 0):(this[Ju].gt=this[Oh],this[Ju].gte=void 0));let n;try{n=QY(this[Ju])}catch{return this[Yu]=!0,this.nextTick(i,null,[])}let o=this.db.db.transaction([this[u9]],"readonly"),s=o.objectStore(this[u9]),d=[];if(this[ys].reverse){let p=!this[ys].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[p](n,"prev").onsuccess=v=>{let b=v.target.result;if(b){let{key:x,value:E}=b;this[Oh]=x,d.push([this[ys].keys&&x!==void 0?b6(x):void 0,this[ys].values&&E!==void 0?b6(E):void 0]),d.length<e?b.continue():eJ(o)}else this[Yu]=!0}}else{let p,v,b=()=>{if(p===void 0||v===void 0)return;let x=Math.max(p.length,v.length);x===0||e===1/0?this[Yu]=!0:this[Oh]=p[x-1],d.length=x;for(let E=0;E<x;E++){let T=p[E],S=v[E];d[E]=[this[ys].keys&&T!==void 0?b6(T):void 0,this[ys].values&&S!==void 0?b6(S):void 0]}eJ(o)};this[ys].keys||e<1/0?s.getAllKeys(n,e<1/0?e:void 0).onsuccess=x=>{p=x.target.result,b()}:(p=[],this.nextTick(b)),this[ys].values?s.getAll(n,e<1/0?e:void 0).onsuccess=x=>{v=x.target.result,b()}:(v=[],this.nextTick(b))}o.onabort=()=>{i(o.error||new Error("aborted by user")),i=null},o.oncomplete=()=>{i(null,d),i=null}}_next(e){if(this[Gf].length>0){let[r,i]=this[Gf].shift();this.nextTick(e,null,r,i)}else if(this[Yu])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[Rm]&&(this[Rm]=!1,r=1),this._nextv(r,XY,(i,n)=>{if(i)return e(i);this[Gf]=n,this._next(e)})}}_all(e,r){this[Rm]=!1;let i=this[Gf].splice(0,this[Gf].length),n=this.limit-this.count-i.length;if(n<=0)return this.nextTick(r,null,i);this._nextv(n,XY,(o,s)=>{if(o)return r(o);i.length>0&&(s=i.concat(s)),r(null,s)})}_seek(e,r){this[Rm]=!0,this[Gf]=[],this[Yu]=!1,this[Oh]=void 0,this[Ju]={...this[ys]};let i;try{i=QY(this[ys])}catch{this[Yu]=!0;return}i!==null&&!i.includes(e)?this[Yu]=!0:this[ys].reverse?this[Ju].lte=e:this[Ju].gte=e}};tJ.Iterator=c9;function eJ(t){typeof t.commit=="function"&&t.commit()}});var nJ=V((kHe,iJ)=>{"use strict";M();iJ.exports=function(e,r,i,n,o){if(n.limit===0)return e.nextTick(o);let s=e.db.transaction([r],"readwrite"),d=s.objectStore(r),p=0;s.oncomplete=function(){o()},s.onabort=function(){o(s.error||new Error("aborted by user"))};let v=d.openKeyCursor?"openKeyCursor":"openCursor",b=n.reverse?"prev":"next";d[v](i,b).onsuccess=function(x){let E=x.target.result;E&&(d.delete(E.key).onsuccess=function(){(n.limit<=0||++p<n.limit)&&E.continue()})}}});var cJ=V(uJ=>{"use strict";M();var{AbstractLevel:HMe}=s9(),oJ=ja(),VMe=ZY(),{fromCallback:ZMe}=Fv(),{Iterator:YMe}=rJ(),sJ=f9(),JMe=nJ(),QMe=a9(),fJ="level-js-",t1=Symbol("idb"),l9=Symbol("namePrefix"),Qu=Symbol("location"),d9=Symbol("version"),jh=Symbol("store"),r1=Symbol("onComplete"),aJ=Symbol("promise"),w6=class extends HMe{constructor(e,r,i){if(typeof r=="function"||typeof i=="function")throw new oJ("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:n,version:o,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[Qu]=e,this[l9]=n??fJ,this[d9]=parseInt(o||1,10),this[t1]=null}get location(){return this[Qu]}get namePrefix(){return this[l9]}get version(){return this[d9]}get db(){return this[t1]}get type(){return"browser-level"}_open(e,r){let i=indexedDB.open(this[l9]+this[Qu],this[d9]);i.onerror=function(){r(i.error||new Error("unknown error"))},i.onsuccess=()=>{this[t1]=i.result,r()},i.onupgradeneeded=n=>{let o=n.target.result;o.objectStoreNames.contains(this[Qu])||o.createObjectStore(this[Qu])}}[jh](e){return this[t1].transaction([this[Qu]],e).objectStore(this[Qu])}[r1](e,r){let i=e.transaction;i.onabort=function(){r(i.error||new Error("aborted by user"))},i.oncomplete=function(){r(null,e.result)}}_get(e,r,i){let n=this[jh]("readonly"),o;try{o=n.get(e)}catch(s){return this.nextTick(i,s)}this[r1](o,function(s,d){if(s)return i(s);if(d===void 0)return i(new oJ("Entry not found",{code:"LEVEL_NOT_FOUND"}));i(null,sJ(d))})}_getMany(e,r,i){let n=this[jh]("readonly"),o=e.map(s=>d=>{let p;try{p=n.get(s)}catch(v){return d(v)}p.onsuccess=()=>{let v=p.result;d(null,v===void 0?v:sJ(v))},p.onerror=v=>{v.stopPropagation(),d(p.error)}});VMe(o,16,i)}_del(e,r,i){let n=this[jh]("readwrite"),o;try{o=n.delete(e)}catch(s){return this.nextTick(i,s)}this[r1](o,i)}_put(e,r,i,n){let o=this[jh]("readwrite"),s;try{s=o.put(r,e)}catch(d){return this.nextTick(n,d)}this[r1](s,n)}_iterator(e){return new YMe(this,this[Qu],e)}_batch(e,r,i){let n=this[jh]("readwrite"),o=n.transaction,s=0,d;o.onabort=function(){i(d||o.error||new Error("aborted by user"))},o.oncomplete=function(){i()};function p(){let v=e[s++],b=v.key,x;try{x=v.type==="del"?n.delete(b):n.put(v.value,b)}catch(E){d=E,o.abort();return}s<e.length?x.onsuccess=p:typeof o.commit=="function"&&o.commit()}p()}_clear(e,r){let i,n;try{i=QMe(e)}catch{return this.nextTick(r)}if(e.limit>=0)return JMe(this,this[Qu],i,e,r);try{let o=this[jh]("readwrite");n=i?o.delete(i):o.clear()}catch(o){return this.nextTick(r,o)}this[r1](n,r)}_close(e){this[t1].close(),this.nextTick(e)}};w6.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=fJ),r=ZMe(r,aJ);let i=indexedDB.deleteDatabase(e+t);return i.onsuccess=function(){r()},i.onerror=function(n){r(n)},r[aJ]};uJ.BrowserLevel=w6});var dJ=V(lJ=>{M();lJ.Level=cJ().BrowserLevel});var kJ=V((KVe,m9)=>{"use strict";M();var x4e=Object.prototype.hasOwnProperty,Eo="~";function n1(){}Object.create&&(n1.prototype=Object.create(null),new n1().__proto__||(Eo=!1));function M4e(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function RJ(t,e,r,i,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new M4e(r,i||t,n),s=Eo?Eo+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function E6(t,e){--t._eventsCount===0?t._events=new n1:delete t._events[e]}function so(){this._events=new n1,this._eventsCount=0}so.prototype.eventNames=function(){var e=[],r,i;if(this._eventsCount===0)return e;for(i in r=this._events)x4e.call(r,i)&&e.push(Eo?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};so.prototype.listeners=function(e){var r=Eo?Eo+e:e,i=this._events[r];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s};so.prototype.listenerCount=function(e){var r=Eo?Eo+e:e,i=this._events[r];return i?i.fn?1:i.length:0};so.prototype.emit=function(e,r,i,n,o,s){var d=Eo?Eo+e:e;if(!this._events[d])return!1;var p=this._events[d],v=arguments.length,b,x;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,r),!0;case 3:return p.fn.call(p.context,r,i),!0;case 4:return p.fn.call(p.context,r,i,n),!0;case 5:return p.fn.call(p.context,r,i,n,o),!0;case 6:return p.fn.call(p.context,r,i,n,o,s),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];p.fn.apply(p.context,b)}else{var E=p.length,T;for(x=0;x<E;x++)switch(p[x].once&&this.removeListener(e,p[x].fn,void 0,!0),v){case 1:p[x].fn.call(p[x].context);break;case 2:p[x].fn.call(p[x].context,r);break;case 3:p[x].fn.call(p[x].context,r,i);break;case 4:p[x].fn.call(p[x].context,r,i,n);break;default:if(!b)for(T=1,b=new Array(v-1);T<v;T++)b[T-1]=arguments[T];p[x].fn.apply(p[x].context,b)}}return!0};so.prototype.on=function(e,r,i){return RJ(this,e,r,i,!1)};so.prototype.once=function(e,r,i){return RJ(this,e,r,i,!0)};so.prototype.removeListener=function(e,r,i,n){var o=Eo?Eo+e:e;if(!this._events[o])return this;if(!r)return E6(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!n||s.once)&&(!i||s.context===i)&&E6(this,o);else{for(var d=0,p=[],v=s.length;d<v;d++)(s[d].fn!==r||n&&!s[d].once||i&&s[d].context!==i)&&p.push(s[d]);p.length?this._events[o]=p.length===1?p[0]:p:E6(this,o)}return this};so.prototype.removeAllListeners=function(e){var r;return e?(r=Eo?Eo+e:e,this._events[r]&&E6(this,r)):(this._events=new n1,this._eventsCount=0),this};so.prototype.off=so.prototype.removeListener;so.prototype.addListener=so.prototype.on;so.prefixed=Eo;so.EventEmitter=so;typeof m9<"u"&&(m9.exports=so)});M();M();M();M();var cR=Yt(bP(),1);M();var ox={};fn(ox,{base64:()=>SX,base64pad:()=>AX,base64url:()=>Kh,base64urlpad:()=>TX});M();M();M();function wX(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function x(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var P=0,B=0,I=0,C=S.length;I!==C&&S[I]===0;)I++,P++;for(var O=(C-I)*b+1>>>0,F=new Uint8Array(O);I!==C;){for(var q=S[I],G=0,$=O-1;(q!==0||G<B)&&$!==-1;$--,G++)q+=256*F[$]>>>0,F[$]=q%d>>>0,q=q/d>>>0;if(q!==0)throw new Error("Non-zero carry");B=G,I++}for(var N=O-B;N!==O&&F[N]===0;)N++;for(var K=p.repeat(P);N<O;++N)K+=t.charAt(F[N]);return K}function E(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var P=0;if(S[P]!==" "){for(var B=0,I=0;S[P]===p;)B++,P++;for(var C=(S.length-P)*v+1>>>0,O=new Uint8Array(C);S[P];){var F=r[S.charCodeAt(P)];if(F===255)return;for(var q=0,G=C-1;(F!==0||q<I)&&G!==-1;G--,q++)F+=d*O[G]>>>0,O[G]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");I=q,P++}if(S[P]!==" "){for(var $=C-I;$!==C&&O[$]===0;)$++;for(var N=new Uint8Array(B+(C-$)),K=B;$!==C;)N[K++]=O[$++];return N}}}function T(S){var P=E(S);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var _X=wX,xX=_X,wP=xX;M();var E8e=new Uint8Array(0);var _P=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},ra=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var xP=t=>new TextEncoder().encode(t),MP=t=>new TextDecoder().decode(t);M();var tx=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},rx=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return EP(this,e)}},ix=class{constructor(e){this.decoders=e}or(e){return EP(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},EP=(t,e)=>new ix({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),nx=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new tx(e,r,i),this.decoder=new rx(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Wh=({name:t,prefix:e,encode:r,decode:i})=>new nx(t,e,r,i),tc=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=wP(r,e);return Wh({prefix:t,name:e,encode:i,decode:o=>ra(n(o))})},MX=(t,e,r,i)=>{let n={};for(let b=0;b<e.length;++b)n[e[b]]=b;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let b=0;b<o;++b){let x=n[t[b]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,s[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return s},EX=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],s+=8;s>r;)s-=r,o+=e[n&d>>s];if(s&&(o+=e[n&d<<r-s]),i)for(;o.length*r&7;)o+="=";return o},pi=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Wh({prefix:e,name:t,encode(n){return EX(n,i,r)},decode(n){return MX(n,i,r,t)}});var SX=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),AX=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Kh=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),TX=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var sx=new TextEncoder,PX=new TextDecoder,rt=class{static base64UrlToBytes(e){return Kh.baseDecode(e)}static base64UrlToObject(e){let r=Kh.baseDecode(e);return rt.bytesToObject(r)}static bytesToBase64Url(e){return Kh.baseEncode(e)}static bytesToString(e){return PX.decode(e)}static bytesToObject(e){let r=rt.bytesToString(e);return JSON.parse(r)}static objectToBytes(e){let r=JSON.stringify(e);return sx.encode(r)}static stringToBase64Url(e){let r=sx.encode(e);return Kh.baseEncode(r)}static stringToBytes(e){return sx.encode(e)}};M();M();M();M();var An=2n**255n-19n,Hh=2n**252n+27742317777372353535851937790883648493n,ax=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,fx=0x6666666666666666666666666666666666666666666666666666666666666658n,x1={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:An,n:Hh,h:8,Gx:ax,Gy:fx},ao=(t="")=>{throw new Error(t)},RP=t=>typeof t=="string",S1=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?ao("Uint8Array expected"):t,Vh=t=>new Uint8Array(t),Zh=(t,e)=>S1(RP(t)?cx(t):Vh(t),e),it=(t,e=An)=>{let r=t%e;return r>=0n?r:e+r},SP=t=>t instanceof Hn?t:ao("Point expected"),AP,Hn=class{constructor(e,r,i,n){this.ex=e,this.ey=r,this.ez=i,this.et=n}static fromAffine(e){return new Hn(e.x,e.y,1n,it(e.x*e.y))}static fromHex(e,r=!0){let{d:i}=x1;e=Zh(e,32);let n=e.slice();n[31]=e[31]&-129;let o=lx(n);o===0n||(r&&!(0n<o&&o<An)&&ao("bad y coord 1"),!r&&!(0n<o&&o<2n**256n)&&ao("bad y coord 2"));let s=it(o*o),d=it(s-1n),p=it(i*s+1n),{isValid:v,value:b}=kX(d,p);v||ao("bad y coordinate 3");let x=(b&1n)===1n;return(e[31]&128)!==0!==x&&(b=it(-b)),new Hn(b,o,1n,it(b*o))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){let{ex:r,ey:i,ez:n}=this,{ex:o,ey:s,ez:d}=SP(e),p=it(r*d),v=it(o*n),b=it(i*d),x=it(s*n);return p===v&&b===x}is0(){return this.equals(M1)}negate(){return new Hn(it(-this.ex),this.ey,this.ez,it(-this.et))}double(){let{ex:e,ey:r,ez:i}=this,{a:n}=x1,o=it(e*e),s=it(r*r),d=it(2n*it(i*i)),p=it(n*o),v=e+r,b=it(it(v*v)-o-s),x=p+s,E=x-d,T=p-s,S=it(b*E),P=it(x*T),B=it(b*T),I=it(E*x);return new Hn(S,P,I,B)}add(e){let{ex:r,ey:i,ez:n,et:o}=this,{ex:s,ey:d,ez:p,et:v}=SP(e),{a:b,d:x}=x1,E=it(r*s),T=it(i*d),S=it(o*x*v),P=it(n*p),B=it((r+i)*(s+d)-E-T),I=it(P-S),C=it(P+S),O=it(T-b*E),F=it(B*I),q=it(C*O),G=it(B*O),$=it(I*C);return new Hn(F,q,$,G)}mul(e,r=!0){if(e===0n)return r===!0?ao("cannot multiply by 0"):M1;if(typeof e=="bigint"&&0n<e&&e<Hh||ao("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(rc))return OX(e).p;let i=M1,n=rc;for(let o=this;e>0n;o=o.double(),e>>=1n)e&1n?i=i.add(o):r&&(n=n.add(o));return i}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(x1.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(Hh/2n,!1).double();return Hh%2n&&(e=e.add(this)),e.is0()}toAffine(){let{ex:e,ey:r,ez:i}=this;if(this.is0())return{x:0n,y:0n};let n=BP(i);return it(i*n)!==1n&&ao("invalid inverse"),{x:it(e*n),y:it(r*n)}}toRawBytes(){let{x:e,y:r}=this.toAffine(),i=IP(r);return i[31]|=e&1n?128:0,i}toHex(){return ux(this.toRawBytes())}};Hn.BASE=new Hn(ax,fx,1n,it(ax*fx));Hn.ZERO=new Hn(0n,1n,1n,0n);var{BASE:rc,ZERO:M1}=Hn,kP=(t,e)=>t.toString(16).padStart(e,"0"),ux=t=>Array.from(t).map(e=>kP(e,2)).join(""),cx=t=>{let e=t.length;(!RP(t)||e%2)&&ao("hex invalid 1");let r=Vh(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);(Number.isNaN(s)||s<0)&&ao("hex invalid 2"),r[i]=s}return r},IP=t=>cx(kP(t,32*2)).reverse(),lx=t=>BigInt("0x"+ux(Vh(S1(t)).reverse())),Um=(...t)=>{let e=Vh(t.reduce((i,n)=>i+S1(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},BP=(t,e=An)=>{(t===0n||e<=0n)&&ao("no inverse n="+t+" mod="+e);let r=it(t,e),i=e,n=0n,o=1n,s=1n,d=0n;for(;r!==0n;){let p=i/r,v=i%r,b=n-s*p,x=o-d*p;i=r,r=v,n=s,o=d,s=b,d=x}return i===1n?it(n,e):ao("no inverse")},Ka=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=An;return r},RX=t=>{let r=t*t%An*t%An,i=Ka(r,2n)*r%An,n=Ka(i,1n)*t%An,o=Ka(n,5n)*n%An,s=Ka(o,10n)*o%An,d=Ka(s,20n)*s%An,p=Ka(d,40n)*d%An,v=Ka(p,80n)*p%An,b=Ka(v,80n)*p%An,x=Ka(b,10n)*o%An;return{pow_p_5_8:Ka(x,2n)*t%An,b2:r}},TP=19681161376707505956807079304988542015446066515923890162744021073123829784752n,kX=(t,e)=>{let r=it(e*e*e),i=it(r*r*e),n=RX(t*i).pow_p_5_8,o=it(t*r*n),s=it(e*o*o),d=o,p=it(o*TP),v=s===t,b=s===it(-t),x=s===it(-t*TP);return v&&(o=d),(b||x)&&(o=p),(it(o)&1n)===1n&&(o=it(-o)),{isValid:v||b,value:o}},E1=t=>it(lx(t),Hh),Lm,dx=(...t)=>jl.sha512Async(...t),DP=(...t)=>typeof Lm=="function"?Lm(...t):ao("etc.sha512Sync not set"),CP=t=>{let e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;let r=t.slice(32,64),i=E1(e),n=rc.mul(i),o=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:o}},hx=t=>dx(Zh(t,32)).then(CP),IX=t=>CP(DP(Zh(t,32))),OP=t=>hx(t).then(e=>e.pointBytes);function jP(t,e){return t?dx(e.hashable).then(e.finish):e.finish(DP(e.hashable))}var BX=(t,e,r)=>{let{pointBytes:i,scalar:n}=t,o=E1(e),s=rc.mul(o).toRawBytes();return{hashable:Um(s,i,r),finish:v=>{let b=it(o+E1(v)*n,Hh);return S1(Um(s,IP(b)),64)}}},qP=async(t,e)=>{let r=Zh(t),i=await hx(e),n=await dx(i.prefix,r);return jP(!0,BX(i,n,r))};var DX=(t,e,r)=>{e=Zh(e),t=Zh(t,64);let i=Hn.fromHex(r,!1),n=Hn.fromHex(t.slice(0,32),!1),o=lx(t.slice(32,64)),s=rc.mul(o,!1);return{hashable:Um(n.toRawBytes(),i.toRawBytes(),e),finish:v=>{let b=E1(v);return n.add(i.mul(b,!1)).add(s.negate()).clearCofactor().is0()}}},NP=async(t,e,r)=>jP(!0,DX(t,e,r));var PP=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,jl={bytesToHex:ux,hexToBytes:cx,concatBytes:Um,mod:it,invert:BP,randomBytes:t=>{let e=PP();return e||ao("crypto.getRandomValues must be defined"),e.getRandomValues(Vh(t))},sha512Async:async(...t)=>{let e=PP();e||ao("crypto.subtle or etc.sha512Async must be defined");let r=Um(...t);return Vh(await e.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(jl,{sha512Sync:{configurable:!1,get(){return Lm},set(t){Lm||(Lm=t)}}});var LP={getExtendedPublicKeyAsync:hx,getExtendedPublicKey:IX,randomPrivateKey:()=>jl.randomBytes(32),precompute(t=8,e=rc){return e.multiply(3n),e}},Ol=8,CX=()=>{let t=[],e=256/Ol+1,r=rc,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let o=1;o<2**(Ol-1);o++)i=i.add(r),t.push(i);r=i.double()}return t},OX=t=>{let e=AP||(AP=CX()),r=(b,x)=>{let E=x.negate();return b?E:x},i=M1,n=rc,o=1+256/Ol,s=2**(Ol-1),d=BigInt(2**Ol-1),p=2**Ol,v=BigInt(Ol);for(let b=0;b<o;b++){let x=b*s,E=Number(t&d);t>>=v,E>s&&(E-=p,t+=1n);let T=x,S=x+Math.abs(E)-1,P=b%2!==0,B=E<0;E===0?n=n.add(r(P,e[T])):i=i.add(r(B,e[S]))}return{p:i,f:n}};M();var De=class extends Error{constructor(r,i){super(`${r}: ${i}`);this.code=r;this.name="DwnError"}},or=(Oe=>(Oe.AuthenticateJwsMissing="AuthenticateJwsMissing",Oe.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",Oe.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",Oe.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",Oe.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",Oe.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",Oe.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",Oe.DidMethodNotSupported="DidMethodNotSupported",Oe.DidNotString="DidNotString",Oe.DidNotValid="DidNotValid",Oe.DidResolutionFailed="DidResolutionFailed",Oe.Ed25519InvalidJwk="Ed25519InvalidJwk",Oe.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",Oe.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",Oe.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",Oe.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",Oe.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",Oe.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",Oe.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",Oe.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",Oe.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",Oe.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",Oe.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",Oe.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",Oe.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",Oe.MessageGetInvalidCid="MessageGetInvalidCid",Oe.ParseCidCodecNotSupported="ParseCidCodecNotSupported",Oe.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",Oe.PermissionsGrantGrantedByMismatch="PermissionsGrantGrantedByMismatch",Oe.PermissionsGrantNotADelegatedGrant="PermissionsGrantNotADelegatedGrant",Oe.PermissionsGrantScopeContextIdAndProtocolPath="PermissionsGrantScopeContextIdAndProtocolPath",Oe.PermissionsGrantScopeSchemaProhibitedFields="PermissionsGrantScopeSchemaProhibitedFields",Oe.PermissionsGrantUnauthorizedGrant="PermissionsGrantUnauthorizedGrant",Oe.PermissionsRevokeMissingPermissionsGrant="PermissionsRevokeMissingPermissionsGrant",Oe.PermissionsRevokeUnauthorizedRevoke="PermissionsRevokeUnauthorizedRevoke",Oe.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",Oe.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",Oe.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",Oe.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",Oe.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",Oe.ProtocolAuthorizationDuplicateContextRoleRecipient="ProtocolAuthorizationDuplicateContextRoleRecipient",Oe.ProtocolAuthorizationDuplicateGlobalRoleRecipient="ProtocolAuthorizationDuplicateGlobalRoleRecipient",Oe.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",Oe.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",Oe.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",Oe.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",Oe.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",Oe.ProtocolAuthorizationMissingRole="ProtocolAuthorizationMissingRole",Oe.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",Oe.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",Oe.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",Oe.ProtocolAuthorizationParentNotFound="ProtocolAuthorizationParentNotFound",Oe.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",Oe.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",Oe.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",Oe.ProtocolsConfigureContextRoleAtProhibitedProtocolPath="ProtocolsConfigureContextRoleAtProhibitedProtocolPath",Oe.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath="ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath",Oe.ProtocolsConfigureInvalidRole="ProtocolsConfigureInvalidRole",Oe.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",Oe.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",Oe.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",Oe.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",Oe.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",Oe.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",Oe.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",Oe.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",Oe.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",Oe.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",Oe.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",Oe.RecordsGrantAuthorizationScopeNotProtocol="RecordsGrantAuthorizationScopeNotProtocol",Oe.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",Oe.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",Oe.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",Oe.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",Oe.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",Oe.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",Oe.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",Oe.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",Oe.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",Oe.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",Oe.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",Oe.RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch="RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch",Oe.RecordsValidateIntegrityGrantedToAndSignerMismatch="RecordsValidateIntegrityGrantedToAndSignerMismatch",Oe.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",Oe.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",Oe.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",Oe.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",Oe.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",Oe.RecordsWriteCreateContextIdAndParentIdMutuallyInclusive="RecordsWriteCreateContextIdAndParentIdMutuallyInclusive",Oe.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",Oe.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",Oe.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",Oe.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",Oe.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",Oe.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",Oe.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",Oe.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",Oe.RecordsWriteMissingAuthorizationSigner="RecordsWriteMissingAuthorizationSigner",Oe.RecordsWriteMissingSigner="RecordsWriteMissingSigner",Oe.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",Oe.RecordsWriteMissingDataAssociation="RecordsWriteMissingDataAssociation",Oe.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",Oe.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",Oe.RecordsWriteMissingSchema="RecordsWriteMissingSchema",Oe.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",Oe.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",Oe.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",Oe.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",Oe.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",Oe.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",Oe.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",Oe.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",Oe.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",Oe.SchemaValidationFailure="SchemaValidationFailure",Oe.Secp256k1KeyNotValid="Secp256k1KeyNotValid",Oe.TimestampInvalid="TimestampInvalid",Oe.UrlProtocolNotNormalized="UrlProtocolNotNormalized",Oe.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",Oe.UrlSchemaNotNormalized="UrlSchemaNotNormalized",Oe.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",Oe))(or||{});function UP(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new De("Ed25519InvalidJwk","invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function FP(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:rt.bytesToBase64Url(t)}}var Fm={sign:async(t,e)=>{UP(e);let r=jl.bytesToHex(t),i=rt.base64UrlToBytes(e.d),n=jl.bytesToHex(i);return qP(r,n)},verify:async(t,e,r)=>{UP(r);let i=rt.base64UrlToBytes(r.x);return NP(e,t,i)},generateKeyPair:async()=>{let t=LP.randomPrivateKey(),e=jl.bytesToHex(t),r=await OP(e),i=rt.bytesToBase64Url(t),n=FP(r),o={...n,d:i};return{publicJwk:n,privateJwk:o}},publicKeyToJwk:async t=>FP(t)};M();M();var yx=2n**256n,ic=yx-0x1000003d1n,Vi=yx-0x14551231950b75fc4402da1732fc9bebfn,HP=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,VP=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,ZP={p:ic,n:Vi,a:0n,b:7n,Gx:HP,Gy:VP},Vn=32,zP=t=>He(He(t*t)*t+ZP.b),dr=(t="")=>{throw new Error(t)},R1=t=>typeof t=="bigint",YP=t=>typeof t=="string",px=t=>R1(t)&&0n<t&&t<ic,Gm=t=>R1(t)&&0n<t&&t<Vi,JP=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?dr("Uint8Array expected"):t,zo=t=>new Uint8Array(t),Yf=(t,e)=>JP(YP(t)?Wm(t):zo(t),e),He=(t,e=ic)=>{let r=t%e;return r>=0n?r:e+r},$P=t=>t instanceof Ei?t:dr("Point expected"),GP,Ei=class{constructor(e,r,i){this.px=e,this.py=r,this.pz=i}static fromAffine(e){return new Ei(e.x,e.y,1n)}static fromHex(e){e=Yf(e);let r,i=e[0],n=e.subarray(1),o=T1(n,0,Vn),s=e.length;if(s===33&&[2,3].includes(i)){px(o)||dr("Point hex invalid: x not FE");let d=qX(zP(o)),p=(d&1n)===1n;(i&1)===1!==p&&(d=He(-d)),r=new Ei(o,d,1n)}return s===65&&i===4&&(r=new Ei(o,T1(n,Vn,2*Vn),1n)),r?r.ok():dr("Point is not on curve")}static fromPrivateKey(e){return Zf.mul(P1(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){let{px:r,py:i,pz:n}=this,{px:o,py:s,pz:d}=$P(e),p=He(r*d),v=He(o*n),b=He(i*d),x=He(s*n);return p===v&&b===x}negate(){return new Ei(this.px,He(-this.py),this.pz)}double(){return this.add(this)}add(e){let{px:r,py:i,pz:n}=this,{px:o,py:s,pz:d}=$P(e),{a:p,b:v}=ZP,b=0n,x=0n,E=0n,T=He(v*3n),S=He(r*o),P=He(i*s),B=He(n*d),I=He(r+i),C=He(o+s);I=He(I*C),C=He(S+P),I=He(I-C),C=He(r+n);let O=He(o+d);return C=He(C*O),O=He(S+B),C=He(C-O),O=He(i+n),b=He(s+d),O=He(O*b),b=He(P+B),O=He(O-b),E=He(p*C),b=He(T*B),E=He(b+E),b=He(P-E),E=He(P+E),x=He(b*E),P=He(S+S),P=He(P+S),B=He(p*B),C=He(T*C),P=He(P+B),B=He(S-B),B=He(p*B),C=He(C+B),S=He(P*C),x=He(x+S),S=He(O*C),b=He(I*b),b=He(b-S),S=He(I*P),E=He(O*E),E=He(E+S),new Ei(b,x,E)}mul(e,r=!0){if(!r&&e===0n)return A1;if(Gm(e)||dr("invalid scalar"),this.equals(Zf))return zX(e).p;let i=A1,n=Zf;for(let o=this;e>0n;o=o.double(),e>>=1n)e&1n?i=i.add(o):r&&(n=n.add(o));return i}mulAddQUns(e,r,i){return this.mul(r,!1).add(e.mul(i,!1)).ok()}toAffine(){let{px:e,py:r,pz:i}=this;if(this.equals(A1))return{x:0n,y:0n};if(i===1n)return{x:e,y:r};let n=Hm(i);return He(i*n)!==1n&&dr("invalid inverse"),{x:He(e*n),y:He(r*n)}}assertValidity(){let{x:e,y:r}=this.aff();return(!px(e)||!px(r))&&dr("Point invalid: x or y"),He(r*r)===zP(e)?this:dr("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){let{x:r,y:i}=this.aff();return(e?(i&1n)===0n?"02":"03":"04")+zm(r)+(e?"":zm(i))}toRawBytes(e=!0){return Wm(this.toHex(e))}};Ei.BASE=new Ei(HP,VP,1n);Ei.ZERO=new Ei(0n,1n,0n);var{BASE:Zf,ZERO:A1}=Ei,QP=(t,e)=>t.toString(16).padStart(e,"0"),gx=t=>Array.from(t).map(e=>QP(e,2)).join(""),Wm=t=>{let e=t.length;(!YP(t)||e%2)&&dr("hex invalid 1");let r=zo(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);(Number.isNaN(s)||s<0)&&dr("hex invalid 2"),r[i]=s}return r},Km=t=>BigInt("0x"+(gx(t)||"0")),T1=(t,e,r)=>Km(t.slice(e,r)),k1=t=>R1(t)&&t>=0n&&t<yx?Wm(QP(t,2*Vn)):dr("bigint expected"),zm=t=>gx(k1(t)),mx=(...t)=>{let e=zo(t.reduce((i,n)=>i+JP(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},Hm=(t,e=ic)=>{(t===0n||e<=0n)&&dr("no inverse n="+t+" mod="+e);let r=He(t,e),i=e,n=0n,o=1n,s=1n,d=0n;for(;r!==0n;){let p=i/r,v=i%r,b=n-s*p,x=o-d*p;i=r,r=v,n=s,o=d,s=b,d=x}return i===1n?He(n,e):dr("no inverse")},qX=t=>{let e=1n;for(let r=t,i=(ic+1n)/4n;i>0n;i>>=1n)i&1n&&(e=e*r%ic),r=r*r%ic;return He(e*e)===t?e:dr("sqrt invalid")},P1=t=>(R1(t)||(t=Km(Yf(t,Vn))),Gm(t)?t:dr("private key out of range")),vx=t=>t>Vi>>1n;function I1(t,e=!0){return Ei.fromPrivateKey(t).toRawBytes(e)}var nc=class{constructor(e,r,i){this.r=e,this.s=r,this.recovery=i,this.assertValidity()}static fromCompact(e){return e=Yf(e,64),new nc(T1(e,0,Vn),T1(e,Vn,2*Vn))}assertValidity(){return Gm(this.r)&&Gm(this.s)?this:dr()}addRecoveryBit(e){return new nc(this.r,this.s,e)}hasHighS(){return vx(this.s)}recoverPublicKey(e){let{r,s:i,recovery:n}=this;[0,1,2,3].includes(n)||dr("recovery id invalid");let o=bx(Yf(e,32)),s=n===2||n===3?r+Vi:r;s>=ic&&dr("q.x invalid");let d=n&1?"03":"02",p=Ei.fromHex(d+zm(s)),v=Hm(s,Vi),b=He(-o*v,Vi),x=He(i*v,Vi);return Zf.mulAddQUns(p,b,x)}toCompactRawBytes(){return Wm(this.toCompactHex())}toCompactHex(){return zm(this.r)+zm(this.s)}},XP=t=>{let e=t.length*8-256,r=Km(t);return e>0?r>>BigInt(e):r},bx=t=>He(XP(t),Vi),WP=t=>k1(t),KP=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,$m,eR={lowS:!0},NX={lowS:!0};function LX(t,e,r=eR){["der","recovered","canonical"].some(x=>x in r)&&dr("sign() legacy options not supported");let{lowS:i}=r;i==null&&(i=!0);let n=bx(Yf(t)),o=WP(n),s=P1(e),d=[WP(s),o],p=r.extraEntropy;if(p){p===!0&&(p=ws.randomBytes(Vn));let x=Yf(p);x.length!==Vn&&dr(),d.push(x)}let v=n,b=x=>{let E=XP(x);if(!Gm(E))return;let T=Hm(E,Vi),S=Zf.mul(E).aff(),P=He(S.x,Vi);if(P===0n)return;let B=He(T*He(v+He(s*P,Vi),Vi),Vi);if(B===0n)return;let I=B,C=(S.x===P?0:2)|Number(S.y&1n);return i&&vx(B)&&(I=He(-B,Vi),C^=1),new nc(P,I,C)};return{seed:mx(...d),k2sig:b}}function UX(t){let e=zo(Vn),r=zo(Vn),i=0,n=()=>{e.fill(1),r.fill(0),i=0},o="drbg: tried 1000 values";if(t){let s=(...v)=>ws.hmacSha256Async(r,e,...v),d=async(v=zo())=>{r=await s(zo([0]),v),e=await s(),v.length!==0&&(r=await s(zo([1]),v),e=await s())},p=async()=>(i++>=1e3&&dr(o),e=await s(),e);return async(v,b)=>{n(),await d(v);let x;for(;!(x=b(await p()));)await d();return n(),x}}else{let s=(...v)=>{let b=$m;return b||dr("etc.hmacSha256Sync not set"),b(r,e,...v)},d=(v=zo())=>{r=s(zo([0]),v),e=s(),v.length!==0&&(r=s(zo([1]),v),e=s())},p=()=>(i++>=1e3&&dr(o),e=s(),e);return(v,b)=>{n(),d(v);let x;for(;!(x=b(p()));)d();return n(),x}}}async function tR(t,e,r=eR){let{seed:i,k2sig:n}=LX(t,e,r);return UX(!0)(i,n)}function rR(t,e,r,i=NX){let{lowS:n}=i;n==null&&(n=!0),"strict"in i&&dr("verify() legacy options not supported");let o,s,d,p=t&&typeof t=="object"&&"r"in t;!p&&Yf(t).length!==2*Vn&&dr("signature must be 64 bytes");try{o=p?new nc(t.r,t.s).assertValidity():nc.fromCompact(t),s=bx(Yf(e,Vn)),d=r instanceof Ei?r.ok():Ei.fromHex(r)}catch{return!1}if(!o)return!1;let{r:v,s:b}=o;if(n&&vx(b))return!1;let x;try{let T=Hm(b,Vi),S=He(s*T,Vi),P=He(v*T,Vi);x=Zf.mulAddQUns(d,S,P).aff()}catch{return!1}return x?He(x.x,Vi)===v:!1}function iR(t){t=Yf(t);let e=Vn+8;(t.length<e||t.length>1024)&&dr("expected proper params");let r=He(Km(t),Vi-1n)+1n;return k1(r)}var ws={hexToBytes:Wm,bytesToHex:gx,concatBytes:mx,bytesToNumberBE:Km,numberToBytesBE:k1,mod:He,invert:Hm,hmacSha256Async:async(t,...e)=>{let r=KP();if(!r)return dr("etc.hmacSha256Async not set");let i=r.subtle,n=await i.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return zo(await i.sign("HMAC",n,mx(...e)))},hmacSha256Sync:$m,hashToPrivateKey:iR,randomBytes:t=>{let e=KP();return e||dr("crypto.getRandomValues must be defined"),e.getRandomValues(zo(t))}},wx={normPrivateKeyToScalar:P1,isValidPrivateKey:t=>{try{return!!P1(t)}catch{return!1}},randomPrivateKey:()=>iR(ws.randomBytes(Vn+8)),precompute(t=8,e=Zf){return e.multiply(3n),e}};Object.defineProperties(ws,{hmacSha256Sync:{configurable:!1,get(){return $m},set(t){$m||($m=t)}}});var ql=8,FX=()=>{let t=[],e=256/ql+1,r=Zf,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let o=1;o<2**(ql-1);o++)i=i.add(r),t.push(i);r=i.double()}return t},zX=t=>{let e=GP||(GP=FX()),r=(b,x)=>{let E=x.negate();return b?E:x},i=A1,n=Zf,o=1+256/ql,s=2**(ql-1),d=BigInt(2**ql-1),p=2**ql,v=BigInt(ql);for(let b=0;b<o;b++){let x=b*s,E=Number(t&d);t>>=v,E>s&&(E-=p,t+=1n);let T=x,S=x+Math.abs(E)-1,P=b%2!==0,B=E<0;E===0?n=n.add(r(P,e[T])):i=i.add(r(B,e[S]))}return{p:i,f:n}};var Ex={};fn(Ex,{sha256:()=>fo,sha512:()=>fee});M();M();M();M();M();var GX=sR,nR=128,WX=127,KX=~WX,HX=Math.pow(2,31);function sR(t,e,r){e=e||[],r=r||0;for(var i=r;t>=HX;)e[r++]=t&255|nR,t/=128;for(;t&KX;)e[r++]=t&255|nR,t>>>=7;return e[r]=t|0,sR.bytes=r-i+1,e}var VX=_x,ZX=128,oR=127;function _x(t,i){var r=0,i=i||0,n=0,o=i,s,d=t.length;do{if(o>=d)throw _x.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&oR)<<n:(s&oR)*Math.pow(2,n),n+=7}while(s>=ZX);return _x.bytes=o-i,r}var YX=Math.pow(2,7),JX=Math.pow(2,14),QX=Math.pow(2,21),XX=Math.pow(2,28),eee=Math.pow(2,35),tee=Math.pow(2,42),ree=Math.pow(2,49),iee=Math.pow(2,56),nee=Math.pow(2,63),oee=function(t){return t<YX?1:t<JX?2:t<QX?3:t<XX?4:t<eee?5:t<tee?6:t<ree?7:t<iee?8:t<nee?9:10},see={encode:GX,decode:VX,encodingLength:oee},aee=see,Vm=aee;var Zm=(t,e=0)=>[Vm.decode(t,e),Vm.decode.bytes],Yh=(t,e,r=0)=>(Vm.encode(t,e,r),e),Jh=t=>Vm.encodingLength(t);var Nl=(t,e)=>{let r=e.byteLength,i=Jh(t),n=i+Jh(r),o=new Uint8Array(n+r);return Yh(t,o,0),Yh(r,o,i),o.set(e,n),new Qh(t,r,e,o)},Xh=t=>{let e=ra(t),[r,i]=Zm(e),[n,o]=Zm(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Qh(r,n,s,e)},aR=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&_P(t.bytes,r.bytes)}},Qh=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var Mx=({name:t,code:e,encode:r})=>new xx(t,e,r),xx=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Nl(this.code,r):r.then(i=>Nl(this.code,i))}else throw Error("Unknown type, must be binary type")}};var uR=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),fo=Mx({name:"sha2-256",code:18,encode:uR("SHA-256")}),fee=Mx({name:"sha2-512",code:19,encode:uR("SHA-512")});var Ut=class{static validateKey(e){if(e.kty!=="EC"||e.crv!=="secp256k1")throw new De("Secp256k1KeyNotValid","Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static async publicKeyToJwk(e){let r;if(e.byteLength===33){let s=ws.bytesToHex(e);r=Ei.fromHex(s).toRawBytes(!1)}else r=e;let i=rt.bytesToBase64Url(r.subarray(1,33)),n=rt.bytesToBase64Url(r.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:i,y:n}}static async privateKeyToJwk(e){let r=await Ut.getPublicKey(e),i=await Ut.publicKeyToJwk(r);return i.d=rt.bytesToBase64Url(e),i}static publicJwkToBytes(e){let r=rt.base64UrlToBytes(e.x),i=rt.base64UrlToBytes(e.y);return Ei.fromAffine({x:ws.bytesToNumberBE(r),y:ws.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(e){return rt.base64UrlToBytes(e.d)}static async sign(e,r){Ut.validateKey(r);let i=await fo.encode(e),n=ws.bytesToHex(i),o=Ut.privateJwkToBytes(r),s=ws.bytesToHex(o);return(await tR(n,s)).toCompactRawBytes()}static async verify(e,r,i){Ut.validateKey(i);let n=Ut.publicJwkToBytes(i),o=await fo.encode(e);return rR(r,o,n)}static async generateKeyPair(){let e=wx.randomPrivateKey(),r=I1(e,!1),i=rt.bytesToBase64Url(e),n=await Ut.publicKeyToJwk(r),o={...n,d:i};return{publicJwk:n,privateJwk:o}}static async generateKeyPairRaw(){let e=wx.randomPrivateKey();return{publicKey:I1(e,!0),privateKey:e}}static async getPublicKey(e){return I1(e,!0)}static async getPublicJwk(e){let{d:r,...i}=e;return i}static async derivePublicKey(e,r){Ut.validateKeyDerivationPath(r);let i=await Ut.derivePrivateKey(e,r);return await Ut.getPublicKey(i)}static async derivePrivateKey(e,r){Ut.validateKeyDerivationPath(r);let i=e;for(let n of r){let o=rt.stringToBytes(n);i=await Ut.deriveChildPrivateKey(i,o)}return i}static async deriveChildPrivateKey(e,r){let i=await fo.encode(e),n=await fo.encode(r),o=ws.concatBytes(i,n);return ws.hashToPrivateKey(o)}static validateKeyDerivationPath(e){if(e.includes(""))throw new De("HdKeyDerivationPathInvalid",`Invalid key derivation path: ${e}`)}};var e0={Ed25519:Fm,secp256k1:{sign:Ut.sign,verify:Ut.verify,generateKeyPair:Ut.generateKeyPair,publicKeyToJwk:Ut.publicKeyToJwk}};var Ym=class{constructor(e){if(e.keyId===void 0&&e.privateJwk.kid===void 0)throw new De("PrivateKeySignerUnableToDeduceKeyId","Unable to deduce the key ID");if(e.algorithm===void 0&&e.privateJwk.alg===void 0)throw new De("PrivateKeySignerUnableToDeduceAlgorithm","Unable to deduce the signature algorithm");if(this.keyId=e.keyId??e.privateJwk.kid,this.algorithm=e.algorithm??e.privateJwk.alg,this.privateJwk=e.privateJwk,this.signatureAlgorithm=e0[e.privateJwk.crv],!this.signatureAlgorithm)throw new De("PrivateKeySignerUnsupportedCurve",`Unsupported crv ${e.privateJwk.crv}, crv must be one of ${Object.keys(e0)}`)}async sign(e){return await this.signatureAlgorithm.sign(e,this.privateJwk)}};var hr=class{static getKid(e){let{kid:r}=rt.base64UrlToObject(e.protected);return r}static getSignerDid(e){let r=hr.getKid(e);return hr.extractDid(r)}static async verifySignature(e,r,i){let n=e0[i.crv];if(!n)throw new De("JwsVerifySignatureUnsupportedCrv",`unsupported crv. crv must be one of ${Object.keys(e0)}`);let o=rt.stringToBytes(`${r.protected}.${e}`),s=rt.base64UrlToBytes(r.signature);return await n.verify(o,s,i)}static decodePlainObjectPayload(e){let r;try{r=rt.base64UrlToObject(e.payload)}catch{throw new De("JwsDecodePlainObjectPayloadInvalid","payload is not a JSON object")}if(!(0,cR.default)(r))throw new De("JwsDecodePlainObjectPayloadInvalid","signed payload must be a plain object");return r}static extractDid(e){let[r]=e.split("#");return r}static createSigners(e){return e.map(i=>hr.createSigner(i))}static createSigner(e){let r=e.keyPair.privateJwk,i=e.keyId;return new Ym({privateJwk:r,keyId:i})}};M();M();var Jm=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,dR=new Set,Sx=typeof j.default=="object"&&j.default?j.default:{},hR=(t,e,r,i)=>{typeof Sx.emitWarning=="function"?Sx.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)},C1=globalThis.AbortController,lR=globalThis.AbortSignal;if(typeof C1>"u"){lR=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n)}},C1=class{constructor(){e()}signal=new lR;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let t=Sx.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,hR("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var uee=t=>!dR.has(t),_5e=Symbol("type"),oc=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),pR=t=>oc(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?r0:null:null,r0=class extends Array{constructor(e){super(e),this.fill(0)}},i0,t0=class{heap;length;static create(e){let r=pR(e);if(!r)return[];F6(t0,i0,!0);let i=new t0(e,r);return F6(t0,i0,!1),i}constructor(e,r){if(!P9(t0,i0))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},D1=t0;i0=new WeakMap,R9(D1,i0,!1);var n0=class{#h;#c;#v;#p;#R;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#m;#n;#r;#e;#f;#l;#a;#o;#y;#s;#x;#M;#g;#b;#S;#u;static unsafeExposeInternals(e){return{starts:e.#M,ttls:e.#g,sizes:e.#x,keyMap:e.#n,keyList:e.#r,valList:e.#e,next:e.#f,prev:e.#l,get head(){return e.#a},get tail(){return e.#o},free:e.#y,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,i,n,o)=>e.#B(r,i,n,o),moveToTail:r=>e.#P(r),indexes:r=>e.#w(r),rindexes:r=>e.#_(r),isStale:r=>e.#d(r)}}get max(){return this.#h}get maxSize(){return this.#c}get calculatedSize(){return this.#m}get size(){return this.#i}get fetchMethod(){return this.#R}get dispose(){return this.#v}get disposeAfter(){return this.#p}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:d,allowStale:p,dispose:v,disposeAfter:b,noDisposeOnSet:x,noUpdateTTL:E,maxSize:T=0,maxEntrySize:S=0,sizeCalculation:P,fetchMethod:B,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:F,ignoreFetchAbort:q}=e;if(r!==0&&!oc(r))throw new TypeError("max option must be a nonnegative integer");let G=r?pR(r):Array;if(!G)throw new Error("invalid max value: "+r);if(this.#h=r,this.#c=T,this.maxEntrySize=S||this.#c,this.sizeCalculation=P,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(B!==void 0&&typeof B!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#R=B,this.#S=!!B,this.#n=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#f=new G(r),this.#l=new G(r),this.#a=0,this.#o=0,this.#y=D1.create(r),this.#i=0,this.#m=0,typeof v=="function"&&(this.#v=v),typeof b=="function"?(this.#p=b,this.#s=[]):(this.#p=void 0,this.#s=void 0),this.#b=!!this.#v,this.#u=!!this.#p,this.noDisposeOnSet=!!x,this.noUpdateTTL=!!E,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!O,this.allowStaleOnFetchAbort=!!F,this.ignoreFetchAbort=!!q,this.maxEntrySize!==0){if(this.#c!==0&&!oc(this.#c))throw new TypeError("maxSize must be a positive integer if specified");if(!oc(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#N()}if(this.allowStale=!!p,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!d,this.ttlResolution=oc(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!oc(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#D()}if(this.#h===0&&this.ttl===0&&this.#c===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#h&&!this.#c){let $="LRU_CACHE_UNBOUNDED";uee($)&&(dR.add($),hR("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",$,n0))}}getRemainingTTL(e){return this.#n.has(e)?1/0:0}#D(){let e=new r0(this.#h),r=new r0(this.#h);this.#g=e,this.#M=r,this.#C=(o,s,d=Jm.now())=>{if(r[o]=s!==0?d:0,e[o]=s,s!==0&&this.ttlAutopurge){let p=setTimeout(()=>{this.#d(o)&&this.delete(this.#r[o])},s+1);p.unref&&p.unref()}},this.#A=o=>{r[o]=e[o]!==0?Jm.now():0},this.#E=(o,s)=>{if(e[s]){let d=e[s],p=r[s];o.ttl=d,o.start=p,o.now=i||n();let v=o.now-p;o.remainingTTL=d-v}};let i=0,n=()=>{let o=Jm.now();if(this.ttlResolution>0){i=o;let s=setTimeout(()=>i=0,this.ttlResolution);s.unref&&s.unref()}return o};this.getRemainingTTL=o=>{let s=this.#n.get(o);if(s===void 0)return 0;let d=e[s],p=r[s];if(d===0||p===0)return 1/0;let v=(i||n())-p;return d-v},this.#d=o=>e[o]!==0&&r[o]!==0&&(i||n())-r[o]>e[o]}#A=()=>{};#E=()=>{};#C=()=>{};#d=()=>!1;#N(){let e=new r0(this.#h);this.#m=0,this.#x=e,this.#T=r=>{this.#m-=e[r],e[r]=0},this.#O=(r,i,n,o)=>{if(this.#t(i))return 0;if(!oc(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,r),!oc(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#k=(r,i,n)=>{if(e[r]=i,this.#c){let o=this.#c-e[r];for(;this.#m>o;)this.#I(!0)}this.#m+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#m)}}#T=e=>{};#k=(e,r,i)=>{};#O=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#o;!(!this.#j(r)||((e||!this.#d(r))&&(yield r),r===this.#a));)r=this.#l[r]}*#_({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#a;!(!this.#j(r)||((e||!this.#d(r))&&(yield r),r===this.#o));)r=this.#f[r]}#j(e){return e!==void 0&&this.#n.get(this.#r[e])===e}*entries(){for(let e of this.#w())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*rentries(){for(let e of this.#_())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*keys(){for(let e of this.#w()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*rkeys(){for(let e of this.#_()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*values(){for(let e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(let e of this.#_())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.#w()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;if(o!==void 0&&e(o,this.#r[i],this))return this.get(this.#r[i],r)}}forEach(e,r=this){for(let i of this.#w()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this)}}rforEach(e,r=this){for(let i of this.#_()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this)}}purgeStale(){let e=!1;for(let r of this.#_({allowStale:!0}))this.#d(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#w({allowStale:!0})){let i=this.#r[r],n=this.#e[r],o=this.#t(n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;let s={value:o};if(this.#g&&this.#M){s.ttl=this.#g[r];let d=Jm.now()-this.#M[r];s.start=Math.floor(Date.now()-d)}this.#x&&(s.size=this.#x[r]),e.unshift([i,s])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=Jm.now()-n}this.set(r,i.value,i)}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:o,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:d=this.sizeCalculation,status:p}=i,{noUpdateTTL:v=this.noUpdateTTL}=i,b=this.#O(e,r,i.size||0,d);if(this.maxEntrySize&&b>this.maxEntrySize)return p&&(p.set="miss",p.maxEntrySizeExceeded=!0),this.delete(e),this;let x=this.#i===0?void 0:this.#n.get(e);if(x===void 0)x=this.#i===0?this.#o:this.#y.length!==0?this.#y.pop():this.#i===this.#h?this.#I(!1):this.#i,this.#r[x]=e,this.#e[x]=r,this.#n.set(e,x),this.#f[this.#o]=x,this.#l[x]=this.#o,this.#o=x,this.#i++,this.#k(x,b,p),p&&(p.set="add"),v=!1;else{this.#P(x);let E=this.#e[x];if(r!==E){if(this.#S&&this.#t(E)?E.__abortController.abort(new Error("replaced")):s||(this.#b&&this.#v?.(E,e,"set"),this.#u&&this.#s?.push([E,e,"set"])),this.#T(x),this.#k(x,b,p),this.#e[x]=r,p){p.set="replace";let T=E&&this.#t(E)?E.__staleWhileFetching:E;T!==void 0&&(p.oldValue=T)}}else p&&(p.set="update")}if(n!==0&&!this.#g&&this.#D(),this.#g&&(v||this.#C(x,n,o),p&&this.#E(p,x)),!s&&this.#u&&this.#s){let E=this.#s,T;for(;T=E?.shift();)this.#p?.(...T)}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#a];if(this.#I(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#s){let e=this.#s,r;for(;r=e?.shift();)this.#p?.(...r)}}}#I(e){let r=this.#a,i=this.#r[r],n=this.#e[r];return this.#S&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#b||this.#u)&&(this.#b&&this.#v?.(n,i,"evict"),this.#u&&this.#s?.push([n,i,"evict"])),this.#T(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#y.push(r)),this.#i===1?(this.#a=this.#o=0,this.#y.length=0):this.#a=this.#f[r],this.#n.delete(i),this.#i--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,o=this.#n.get(e);if(o!==void 0){let s=this.#e[o];if(this.#t(s)&&s.__staleWhileFetching===void 0)return!1;if(this.#d(o))n&&(n.has="stale",this.#E(n,o));else return i&&this.#A(o),n&&(n.has="hit",this.#E(n,o)),!0}else n&&(n.has="miss");return!1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#n.get(e);if(n!==void 0&&(i||!this.#d(n))){let o=this.#e[n];return this.#t(o)?o.__staleWhileFetching:o}}#B(e,r,i,n){let o=r===void 0?void 0:this.#e[r];if(this.#t(o))return o;let s=new C1,{signal:d}=i;d?.addEventListener("abort",()=>s.abort(d.reason),{signal:s.signal});let p={signal:s.signal,options:i,context:n},v=(P,B=!1)=>{let{aborted:I}=s.signal,C=i.ignoreFetchAbort&&P!==void 0;if(i.status&&(I&&!B?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,C&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),I&&!C&&!B)return x(s.signal.reason);let O=T;return this.#e[r]===T&&(P===void 0?O.__staleWhileFetching?this.#e[r]=O.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,P,p.options))),P},b=P=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=P),x(P)),x=P=>{let{aborted:B}=s.signal,I=B&&i.allowStaleOnFetchAbort,C=I||i.allowStaleOnFetchRejection,O=C||i.noDeleteOnFetchRejection,F=T;if(this.#e[r]===T&&(!O||F.__staleWhileFetching===void 0?this.delete(e):I||(this.#e[r]=F.__staleWhileFetching)),C)return i.status&&F.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),F.__staleWhileFetching;if(F.__returned===F)throw P},E=(P,B)=>{let I=this.#R?.(e,o,p);I&&I instanceof Promise&&I.then(C=>P(C),B),s.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(P(),i.allowStaleOnFetchAbort&&(P=C=>v(C,!0)))})};i.status&&(i.status.fetchDispatched=!0);let T=new Promise(E).then(v,b),S=Object.assign(T,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,S,{...p.options,status:void 0}),r=this.#n.get(e)):this.#e[r]=S,S}#t(e){if(!this.#S)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof C1}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:d=this.noDisposeOnSet,size:p=0,sizeCalculation:v=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:x=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:E=this.allowStaleOnFetchRejection,ignoreFetchAbort:T=this.ignoreFetchAbort,allowStaleOnFetchAbort:S=this.allowStaleOnFetchAbort,context:P,forceRefresh:B=!1,status:I,signal:C}=r;if(!this.#S)return I&&(I.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:I});let O={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:d,size:p,sizeCalculation:v,noUpdateTTL:b,noDeleteOnFetchRejection:x,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:S,ignoreFetchAbort:T,status:I,signal:C},F=this.#n.get(e);if(F===void 0){I&&(I.fetch="miss");let q=this.#B(e,F,O,P);return q.__returned=q}else{let q=this.#e[F];if(this.#t(q)){let _=i&&q.__staleWhileFetching!==void 0;return I&&(I.fetch="inflight",_&&(I.returnedStale=!0)),_?q.__staleWhileFetching:q.__returned=q}let G=this.#d(F);if(!B&&!G)return I&&(I.fetch="hit"),this.#P(F),n&&this.#A(F),I&&this.#E(I,F),q;let $=this.#B(e,F,O,P),K=$.__staleWhileFetching!==void 0&&i;return I&&(I.fetch=G?"stale":"refresh",K&&G&&(I.returnedStale=!0)),K?$.__staleWhileFetching:$.__returned=$}}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=r,d=this.#n.get(e);if(d!==void 0){let p=this.#e[d],v=this.#t(p);return s&&this.#E(s,d),this.#d(d)?(s&&(s.get="stale"),v?(s&&i&&p.__staleWhileFetching!==void 0&&(s.returnedStale=!0),i?p.__staleWhileFetching:void 0):(o||this.delete(e),s&&i&&(s.returnedStale=!0),i?p:void 0)):(s&&(s.get="hit"),v?p.__staleWhileFetching:(this.#P(d),n&&this.#A(d),p))}else s&&(s.get="miss")}#q(e,r){this.#l[r]=e,this.#f[e]=r}#P(e){e!==this.#o&&(e===this.#a?this.#a=this.#f[e]:this.#q(this.#l[e],this.#f[e]),this.#q(this.#o,e),this.#o=e)}delete(e){let r=!1;if(this.#i!==0){let i=this.#n.get(e);if(i!==void 0)if(r=!0,this.#i===1)this.clear();else{this.#T(i);let n=this.#e[i];this.#t(n)?n.__abortController.abort(new Error("deleted")):(this.#b||this.#u)&&(this.#b&&this.#v?.(n,e,"delete"),this.#u&&this.#s?.push([n,e,"delete"])),this.#n.delete(e),this.#r[i]=void 0,this.#e[i]=void 0,i===this.#o?this.#o=this.#l[i]:i===this.#a?this.#a=this.#f[i]:(this.#f[this.#l[i]]=this.#f[i],this.#l[this.#f[i]]=this.#l[i]),this.#i--,this.#y.push(i)}}if(this.#u&&this.#s?.length){let i=this.#s,n;for(;n=i?.shift();)this.#p?.(...n)}return r}clear(){for(let e of this.#_({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else{let i=this.#r[e];this.#b&&this.#v?.(r,i,"delete"),this.#u&&this.#s?.push([r,i,"delete"])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#g&&this.#M&&(this.#g.fill(0),this.#M.fill(0)),this.#x&&this.#x.fill(0),this.#a=0,this.#o=0,this.#y.length=0,this.#m=0,this.#i=0,this.#u&&this.#s){let e=this.#s,r;for(;r=e?.shift();)this.#p?.(...r)}}};var o0=class{constructor(e){this.timeToLiveInSeconds=e;this.cache=new n0({max:1e5,ttl:e*1e3})}async set(e,r){try{this.cache.set(e,r)}catch{}}async get(e){return this.cache.get(e)}};M();var Cx={};fn(Cx,{Authorization:()=>cee,AuthorizationDelegatedGrant:()=>lee,AuthorizationOwner:()=>dee,Definitions:()=>bee,EventsGet:()=>vee,GeneralJwk:()=>wee,GeneralJws:()=>_ee,GenericSignaturePayload:()=>qee,JwkVerificationMethod:()=>xee,MessagesGet:()=>Mee,NumberRangeFilter:()=>Eee,PermissionsDefinitions:()=>See,PermissionsGrant:()=>Aee,PermissionsRequest:()=>Tee,PermissionsRevoke:()=>Pee,PermissionsScopes:()=>Ree,ProtocolDefinition:()=>kee,ProtocolRuleSet:()=>Iee,ProtocolsConfigure:()=>Bee,ProtocolsQuery:()=>Dee,PublicJwk:()=>jee,RecordsDelete:()=>hee,RecordsFilter:()=>Oee,RecordsQuery:()=>pee,RecordsRead:()=>Cee,RecordsWrite:()=>mee,RecordsWriteSignaturePayload:()=>Nee,RecordsWriteUnidentified:()=>gee});M();var cee=Zr;var Ul=new RegExp("^[A-Za-z0-9_-]+$","u");function mr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let b=s;for(let x in t)if(!(x==="payload"||x==="signatures")){return mr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.payload!==void 0){let x=t.payload,E=s;if(s===s)if(typeof x=="string"){if(!Ul.test(x))return mr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return mr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=E===s}else var d=!0;if(d)if(t.signatures!==void 0){let x=t.signatures,E=s;if(s===E)if(Array.isArray(x)){if(x.length<1)return mr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var p=!0;let S=x.length;for(let P=0;P<S;P++){let B=x[P],I=s;if(s===I)if(B&&typeof B=="object"&&!Array.isArray(B)){if(B.protected!==void 0){let O=B.protected,F=s;if(s===s)if(typeof O=="string"){if(!Ul.test(O))return mr.errors=[{instancePath:e+"/signatures/"+P+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return mr.errors=[{instancePath:e+"/signatures/"+P+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=F===s}else var v=!0;if(v)if(B.signature!==void 0){let O=B.signature,F=s;if(s===s)if(typeof O=="string"){if(!Ul.test(O))return mr.errors=[{instancePath:e+"/signatures/"+P+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return mr.errors=[{instancePath:e+"/signatures/"+P+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=F===s}else var v=!0}else return mr.errors=[{instancePath:e+"/signatures/"+P,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=I===s;if(!p)break}}}else return mr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var d=E===s}else var d=!0}}else return mr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return mr.errors=o,s===0}function Zr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d=s;for(let p in t)if(p!=="signature"){return Zr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;break}d===s&&t.signature!==void 0&&(mr(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:n})||(o=o===null?mr.errors:o.concat(mr.errors),s=o.length))}else return Zr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Zr.errors=o,s===0}var lee=Wo;var Ax={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","dateExpires"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dateExpires:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},delegated:{type:"boolean"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},permissionsRequestId:{description:"CID of an associated PermissionsRequest message",type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};var SR={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Qm(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,d=s,p=!1,v=null,b=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){let O=s;if(t.interface!=="Protocols"){let F={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};o===null?o=[F]:o.push(F),s++}var E=O===s}else var E=!0;if(E)if(t.method!==void 0){let O=s;if(t.method!=="Query"){let q={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[q]:o.push(q),s++}var E=O===s}else var E=!0}else{let O={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[O]:o.push(O),s++}var B=b===s;B&&(p=!0,v=0);let T=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let O;if(t.interface===void 0&&(O="interface")||t.method===void 0&&(O="method")){let F={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"};o===null?o=[F]:o.push(F),s++}else{if(t.interface!==void 0){let F=s;if(t.interface!=="Records"){let q={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[q]:o.push(q),s++}var P=F===s}else var P=!0;if(P){if(t.method!==void 0){let F=s;if(t.method!=="Read"){let G={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P){if(t.schema!==void 0){let F=s;if(typeof t.schema!="string"){let G={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P){if(t.protocol!==void 0){let F=s;if(typeof t.protocol!="string"){let G={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P){if(t.contextId!==void 0){let F=s;if(typeof t.contextId!="string"){let G={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P)if(t.protocolPath!==void 0){let F=s;if(typeof t.protocolPath!="string"){let G={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0}}}}}}else{let O={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[O]:o.push(O),s++}var B=T===s;if(B&&p)p=!1,v=[v,1];else{B&&(p=!0,v=1);let O=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let G;if(t.interface===void 0&&(G="interface")||t.method===void 0&&(G="method")){let $={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"};o===null?o=[$]:o.push($),s++}else{if(t.interface!==void 0){let $=s;if(t.interface!=="Records"){let N={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[N]:o.push(N),s++}var I=$===s}else var I=!0;if(I){if(t.method!==void 0){let $=s;if(t.method!=="Delete"){let K={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};o===null?o=[K]:o.push(K),s++}var I=$===s}else var I=!0;if(I)if(t.schema!==void 0){let $=s;if(typeof t.schema!="string"){let K={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[K]:o.push(K),s++}var I=$===s}else var I=!0}}}else{let G={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[G]:o.push(G),s++}var B=O===s;if(B&&p)p=!1,v=[v,2];else{B&&(p=!0,v=2);let G=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.interface===void 0&&(K="interface")||t.method===void 0&&(K="method")){let _={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"};o===null?o=[_]:o.push(_),s++}else{if(t.interface!==void 0){let _=s;if(t.interface!=="Records"){let a={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[a]:o.push(a),s++}var C=_===s}else var C=!0;if(C){if(t.method!==void 0){let _=s;if(t.method!=="Write"){let u={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C){if(t.schema!==void 0){let _=s;if(typeof t.schema!="string"){let u={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C){if(t.protocol!==void 0){let _=s;if(typeof t.protocol!="string"){let u={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C){if(t.contextId!==void 0){let _=s;if(typeof t.contextId!="string"){let u={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C)if(t.protocolPath!==void 0){let _=s;if(typeof t.protocolPath!="string"){let u={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0}}}}}}else{let K={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[K]:o.push(K),s++}var B=G===s;B&&p?(p=!1,v=[v,3]):B&&(p=!0,v=3)}}if(p)s=d,o!==null&&(d?o.length=d:o=null);else{let O={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:v},message:"must match exactly one schema in oneOf"};return o===null?o=[O]:o.push(O),s++,Qm.errors=o,!1}return Qm.errors=o,s===0}var j1=Object.prototype.hasOwnProperty,Zi=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),_s=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u");function Ct(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return Ct.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let b=s;for(let x in t)if(!(x==="authorization"||x==="delegationChain"||x==="descriptor")){return Ct.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.authorization!==void 0){let x=s;Zr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Zr.errors:o.concat(Zr.errors),s=o.length);var d=x===s}else var d=!0;if(d){if(t.delegationChain!==void 0){let x=s;Ct(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:n})||(o=o===null?Ct.errors:o.concat(Ct.errors),s=o.length);var d=x===s}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=s;if(s===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let S;if(x.interface===void 0&&(S="interface")||x.method===void 0&&(S="method")||x.messageTimestamp===void 0&&(S="messageTimestamp")||x.dateExpires===void 0&&(S="dateExpires"))return Ct.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{let P=s;for(let B in x)if(!j1.call(Ax.properties.descriptor.properties,B)){return Ct.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(P===s){if(x.messageTimestamp!==void 0){let B=x.messageTimestamp,I=s;if(s===s)if(typeof B=="string"){if(!Zi.test(B))return Ct.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ct.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.dateExpires!==void 0){let B=x.dateExpires,I=s;if(s===s)if(typeof B=="string"){if(!Zi.test(B))return Ct.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ct.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.description!==void 0){let B=s;if(typeof x.description!="string")return Ct.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=B===s}else var p=!0;if(p){if(x.delegated!==void 0){let B=s;if(typeof x.delegated!="boolean")return Ct.errors=[{instancePath:e+"/descriptor/delegated",schemaPath:"#/properties/descriptor/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var p=B===s}else var p=!0;if(p){if(x.grantedTo!==void 0){let B=x.grantedTo,I=s;if(s===s)if(typeof B=="string"){if(!_s.test(B))return Ct.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ct.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.grantedBy!==void 0){let B=x.grantedBy,I=s;if(s===s)if(typeof B=="string"){if(!_s.test(B))return Ct.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ct.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.grantedFor!==void 0){let B=x.grantedFor,I=s;if(s===s)if(typeof B=="string"){if(!_s.test(B))return Ct.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ct.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.permissionsRequestId!==void 0){let B=s;if(typeof x.permissionsRequestId!="string")return Ct.errors=[{instancePath:e+"/descriptor/permissionsRequestId",schemaPath:"#/properties/descriptor/properties/permissionsRequestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=B===s}else var p=!0;if(p){if(x.interface!==void 0){let B=x.interface,I=s;if(typeof B!="string")return Ct.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Permissions")return Ct.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ax.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.method!==void 0){let B=x.method,I=s;if(typeof B!="string")return Ct.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Grant")return Ct.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ax.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.scope!==void 0){let B=s;Qm(x.scope,{instancePath:e+"/descriptor/scope",parentData:x,parentDataProperty:"scope",rootData:n})||(o=o===null?Qm.errors:o.concat(Qm.errors),s=o.length);var p=B===s}else var p=!0;if(p)if(x.conditions!==void 0){let B=x.conditions,I=s;if(s===s)if(B&&typeof B=="object"&&!Array.isArray(B)){let F=s;for(let q in B)if(q!=="publication"){return Ct.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(F===s&&B.publication!==void 0){let q=B.publication;if(typeof q!="string")return Ct.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(q==="Required"||q==="Prohibited"))return Ct.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:SR.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return Ct.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=I===s}else var p=!0}}}}}}}}}}}}}else return Ct.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===s}else var d=!0}}}}else return Ct.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ct.errors=o,s===0}function Wo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p=s;for(let v in t)if(!(v==="signature"||v==="authorDelegatedGrant")){return Wo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;break}if(p===s){if(t.signature!==void 0){let v=s;mr(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:n})||(o=o===null?mr.errors:o.concat(mr.errors),s=o.length);var d=v===s}else var d=!0;if(d)if(t.authorDelegatedGrant!==void 0){let v=s;Ct(t.authorDelegatedGrant,{instancePath:e+"/authorDelegatedGrant",parentData:t,parentDataProperty:"authorDelegatedGrant",rootData:n})||(o=o===null?Ct.errors:o.concat(Ct.errors),s=o.length);var d=v===s}else var d=!0}}else return Wo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Wo.errors=o,s===0}var dee=ac;function ac(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p=s;for(let v in t)if(!(v==="signature"||v==="authorDelegatedGrant"||v==="ownerSignature")){return ac.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;break}if(p===s){let v;if(t.ownerSignature!==void 0&&t.signature===void 0&&(v="signature"))return ac.errors=[{instancePath:e,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:v,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(t.signature!==void 0){let b=s;mr(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:n})||(o=o===null?mr.errors:o.concat(mr.errors),s=o.length);var d=b===s}else var d=!0;if(d){if(t.authorDelegatedGrant!==void 0){let b=s;Ct(t.authorDelegatedGrant,{instancePath:e+"/authorDelegatedGrant",parentData:t,parentDataProperty:"authorDelegatedGrant",rootData:n})||(o=o===null?Ct.errors:o.concat(Ct.errors),s=o.length);var d=b===s}else var d=!0;if(d)if(t.ownerSignature!==void 0){let b=s;mr(t.ownerSignature,{instancePath:e+"/ownerSignature",parentData:t,parentDataProperty:"ownerSignature",rootData:n})||(o=o===null?mr.errors:o.concat(mr.errors),s=o.length);var d=b===s}else var d=!0}}}else return ac.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ac.errors=o,s===0}var hee=uo,mR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},recordId:{type:"string"}}}}};function uo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return uo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let b=s;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return uo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.authorization!==void 0){let x=s;Wo(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Wo.errors:o.concat(Wo.errors),s=o.length);var d=x===s}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=s;if(s===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let S;if(x.interface===void 0&&(S="interface")||x.method===void 0&&(S="method")||x.messageTimestamp===void 0&&(S="messageTimestamp")||x.recordId===void 0&&(S="recordId"))return uo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{let P=s;for(let B in x)if(!(B==="interface"||B==="method"||B==="messageTimestamp"||B==="recordId")){return uo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(P===s){if(x.interface!==void 0){let B=x.interface,I=s;if(typeof B!="string")return uo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Records")return uo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:mR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.method!==void 0){let B=x.method,I=s;if(typeof B!="string")return uo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Delete")return uo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:mR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let B=x.messageTimestamp,I=s;if(s===s)if(typeof B=="string"){if(!Zi.test(B))return uo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return uo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p)if(x.recordId!==void 0){let B=s;if(typeof x.recordId!="string")return uo.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=B===s}else var p=!0}}}}}else return uo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===s}else var d=!0}}}else return uo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return uo.errors=o,s===0}var pee=Si,Tx={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{type:"string"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},yR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function et(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return et.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let F=s;for(let q in t)if(!j1.call(yR.properties,q)){return et.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(F===s){if(t.datePublished!==void 0){let q=s,G=s,$=!1,N=null,K=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let h;if(t.published===void 0&&(h="published")){let c={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"};o===null?o=[c]:o.push(c),s++}else if(t.published!==void 0&&t.published!==!0){let c={instancePath:e+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:yR.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[c]:o.push(c),s++}}var p=K===s;p&&($=!0,N=0);let _=s,a=s,u=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let h;if(t.published===void 0&&(h="published")){let c={};o===null?o=[c]:o.push(c),s++}}var d=u===s;if(d){let h={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[h]:o.push(h),s++}else s=a,o!==null&&(a?o.length=a:o=null);var p=_===s;if(p&&$?($=!1,N=[N,1]):p&&($=!0,N=1),$)s=G,o!==null&&(G?o.length=G:o=null);else{let h={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:N},message:"must match exactly one schema in oneOf"};return o===null?o=[h]:o.push(h),s++,et.errors=o,!1}var v=q===s}else var v=!0;if(v){if(t.protocol!==void 0){let q=s;if(typeof t.protocol!="string")return et.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.protocolPath!==void 0){let q=s;if(typeof t.protocolPath!="string")return et.errors=[{instancePath:e+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.author!==void 0){let q=t.author,G=s;if(s===s)if(typeof q=="string"){if(!_s.test(q))return et.errors=[{instancePath:e+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return et.errors=[{instancePath:e+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=G===s}else var b=!0;if(b){if(t.attester!==void 0){let q=t.attester,G=s;if(s===s)if(typeof q=="string"){if(!_s.test(q))return et.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return et.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=G===s}else var b=!0;if(b){if(t.recipient!==void 0){let q=t.recipient,G=s;if(s===s)if(typeof q=="string"){if(!_s.test(q))return et.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return et.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=G===s}else var b=!0;if(b){if(t.contextId!==void 0){let q=s;if(typeof t.contextId!="string")return et.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.schema!==void 0){let q=s;if(typeof t.schema!="string")return et.errors=[{instancePath:e+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.recordId!==void 0){let q=s;if(typeof t.recordId!="string")return et.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.parentId!==void 0){let q=s;if(typeof t.parentId!="string")return et.errors=[{instancePath:e+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.published!==void 0){let q=s;if(typeof t.published!="boolean")return et.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var b=q===s}else var b=!0;if(b){if(t.dataFormat!==void 0){let q=s;if(typeof t.dataFormat!="string")return et.errors=[{instancePath:e+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.dataSize!==void 0){let q=t.dataSize,G=s;if(s===s)if(q&&typeof q=="object"&&!Array.isArray(q)){if(Object.keys(q).length<1)return et.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let K=s;for(let _ in q)if(!(_==="gt"||_==="gte"||_==="lt"||_==="lte")){return et.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(K===s){if(q.gt!==void 0){let _=s,a=s,u=s;if(q&&typeof q=="object"&&!Array.isArray(q)){let h;if(q.gte===void 0&&(h="gte")){let c={};o===null?o=[c]:o.push(c),s++}}var x=u===s;if(x)return et.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var E=_===s}else var E=!0;if(E){if(q.gte!==void 0){let _=s,a=s,u=s;if(q&&typeof q=="object"&&!Array.isArray(q)){let c;if(q.gt===void 0&&(c="gt")){let l={};o===null?o=[l]:o.push(l),s++}}var T=u===s;if(T)return et.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var E=_===s}else var E=!0;if(E){if(q.lt!==void 0){let _=s,a=s,u=s;if(q&&typeof q=="object"&&!Array.isArray(q)){let c;if(q.lte===void 0&&(c="lte")){let l={};o===null?o=[l]:o.push(l),s++}}var S=u===s;if(S)return et.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var E=_===s}else var E=!0;if(E){if(q.lte!==void 0){let _=s,a=s,u=s;if(q&&typeof q=="object"&&!Array.isArray(q)){let c;if(q.lt===void 0&&(c="lt")){let l={};o===null?o=[l]:o.push(l),s++}}var P=u===s;if(P)return et.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var E=_===s}else var E=!0;if(E){if(q.gt!==void 0){let _=q.gt,a=s;if(!(typeof _=="number"&&isFinite(_)))return et.errors=[{instancePath:e+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=a===s}else var B=!0;if(B){if(q.gte!==void 0){let _=q.gte,a=s;if(!(typeof _=="number"&&isFinite(_)))return et.errors=[{instancePath:e+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=a===s}else var B=!0;if(B){if(q.lt!==void 0){let _=q.lt,a=s;if(!(typeof _=="number"&&isFinite(_)))return et.errors=[{instancePath:e+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=a===s}else var B=!0;if(B)if(q.lte!==void 0){let _=q.lte,a=s;if(!(typeof _=="number"&&isFinite(_)))return et.errors=[{instancePath:e+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=a===s}else var B=!0}}}}}}}}}else return et.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var b=G===s}else var b=!0;if(b){if(t.dataCid!==void 0){let q=s;if(typeof t.dataCid!="string")return et.errors=[{instancePath:e+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=q===s}else var b=!0;if(b){if(t.dateCreated!==void 0){let q=t.dateCreated,G=s;if(s===G)if(q&&typeof q=="object"&&!Array.isArray(q)){if(Object.keys(q).length<1)return et.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let N=s;for(let K in q)if(!(K==="from"||K==="to")){return et.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;break}if(N===s){if(q.from!==void 0){let K=q.from,_=s;if(s===s)if(typeof K=="string"){if(!Zi.test(K))return et.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return et.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=_===s}else var I=!0;if(I)if(q.to!==void 0){let K=q.to,_=s;if(s===s)if(typeof K=="string"){if(!Zi.test(K))return et.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return et.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=_===s}else var I=!0}}}else return et.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var b=G===s}else var b=!0;if(b){if(t.datePublished!==void 0){let q=t.datePublished,G=s;if(s===G)if(q&&typeof q=="object"&&!Array.isArray(q)){if(Object.keys(q).length<1)return et.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let N=s;for(let K in q)if(!(K==="from"||K==="to")){return et.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;break}if(N===s){if(q.from!==void 0){let K=q.from,_=s;if(s===s)if(typeof K=="string"){if(!Zi.test(K))return et.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return et.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=_===s}else var C=!0;if(C)if(q.to!==void 0){let K=q.to,_=s;if(s===s)if(typeof K=="string"){if(!Zi.test(K))return et.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return et.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=_===s}else var C=!0}}}else return et.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var b=G===s}else var b=!0;if(b)if(t.dateUpdated!==void 0){let q=t.dateUpdated,G=s;if(s===G)if(q&&typeof q=="object"&&!Array.isArray(q)){if(Object.keys(q).length<1)return et.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let N=s;for(let K in q)if(!(K==="from"||K==="to")){return et.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;break}if(N===s){if(q.from!==void 0){let K=q.from,_=s;if(s===s)if(typeof K=="string"){if(!Zi.test(K))return et.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return et.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=_===s}else var O=!0;if(O)if(q.to!==void 0){let K=q.to,_=s;if(s===s)if(typeof K=="string"){if(!Zi.test(K))return et.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return et.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=_===s}else var O=!0}}}else return et.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var b=G===s}else var b=!0}}}}}}}}}}}}}}}}}}else return et.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return et.errors=o,s===0}function Si(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.descriptor===void 0&&(b="descriptor"))return Si.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{let x=s;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return Si.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(x===s){if(t.authorization!==void 0){let E=s;Wo(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Wo.errors:o.concat(Wo.errors),s=o.length);var d=E===s}else var d=!0;if(d)if(t.descriptor!==void 0){let E=t.descriptor,T=s;if(s===T)if(E&&typeof E=="object"&&!Array.isArray(E)){let P;if(E.interface===void 0&&(P="interface")||E.method===void 0&&(P="method")||E.messageTimestamp===void 0&&(P="messageTimestamp")||E.filter===void 0&&(P="filter"))return Si.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:P},message:"must have required property '"+P+"'"}],!1;{let B=s;for(let I in E)if(!(I==="interface"||I==="method"||I==="messageTimestamp"||I==="filter"||I==="pagination"||I==="dateSort")){return Si.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(B===s){if(E.interface!==void 0){let I=E.interface,C=s;if(typeof I!="string")return Si.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Records")return Si.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Tx.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===s}else var p=!0;if(p){if(E.method!==void 0){let I=E.method,C=s;if(typeof I!="string")return Si.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Query")return Si.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Tx.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===s}else var p=!0;if(p){if(E.messageTimestamp!==void 0){let I=E.messageTimestamp,C=s;if(s===s)if(typeof I=="string"){if(!Zi.test(I))return Si.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Si.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=C===s}else var p=!0;if(p){if(E.filter!==void 0){let I=s;et(E.filter,{instancePath:e+"/descriptor/filter",parentData:E,parentDataProperty:"filter",rootData:n})||(o=o===null?et.errors:o.concat(et.errors),s=o.length);var p=I===s}else var p=!0;if(p){if(E.pagination!==void 0){let I=E.pagination,C=s;if(s===C)if(I&&typeof I=="object"&&!Array.isArray(I)){let F=s;for(let q in I)if(!(q==="limit"||q==="cursor")){return Si.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(F===s){if(I.limit!==void 0){let q=I.limit,G=s;if(s===G)if(typeof q=="number"&&isFinite(q)){if(q<1||isNaN(q))return Si.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}else return Si.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var v=G===s}else var v=!0;if(v)if(I.cursor!==void 0){let q=s;if(typeof I.cursor!="string")return Si.errors=[{instancePath:e+"/descriptor/pagination/cursor",schemaPath:"#/properties/descriptor/properties/pagination/properties/cursor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=q===s}else var v=!0}}else return Si.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=C===s}else var p=!0;if(p)if(E.dateSort!==void 0){let I=E.dateSort,C=s;if(typeof I!="string")return Si.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(I==="createdAscending"||I==="createdDescending"||I==="publishedAscending"||I==="publishedDescending"))return Si.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:Tx.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===s}else var p=!0}}}}}}}else return Si.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=T===s}else var d=!0}}}else return Si.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Si.errors=o,s===0}var mee=O1;var sc={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]};var AR={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function pr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,d=s,p=s,v=!1,b=null,x=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.crv===void 0&&(_="crv")||t.x===void 0&&(_="x")){let a={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};o===null?o=[a]:o.push(a),s++}else{if(t.kty!==void 0){let a=s;if(t.kty!=="EC"){let u={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),s++}var E=a===s}else var E=!0;if(E){if(t.crv!==void 0){let a=s;if(typeof t.crv!="string"){let h={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),s++}var E=a===s}else var E=!0;if(E){if(t.x!==void 0){let a=s;if(typeof t.x!="string"){let h={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),s++}var E=a===s}else var E=!0;if(E){if(t.y!==void 0){let a=s;if(typeof t.y!="string"){let h={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),s++}var E=a===s}else var E=!0;if(E)if(t.d!==void 0){let a=s;if(typeof t.d!="string"){let h={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),s++}var E=a===s}else var E=!0}}}}}var P=x===s;P&&(v=!0,b=0);let T=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.crv===void 0&&(_="crv")||t.x===void 0&&(_="x")){let a={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};o===null?o=[a]:o.push(a),s++}else{if(t.kty!==void 0){let a=s;if(t.kty!=="OKP"){let u={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),s++}var S=a===s}else var S=!0;if(S){if(t.crv!==void 0){let a=s;if(typeof t.crv!="string"){let h={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),s++}var S=a===s}else var S=!0;if(S){if(t.x!==void 0){let a=s;if(typeof t.x!="string"){let h={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),s++}var S=a===s}else var S=!0;if(S)if(t.d!==void 0){let a=s;if(typeof t.d!="string"){let h={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[h]:o.push(h),s++}var S=a===s}else var S=!0}}}}var P=T===s;if(P&&v)v=!1,b=[b,1];else{P&&(v=!0,b=1);let _=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.n===void 0&&(u="n")||t.e===void 0&&(u="e")){let h={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),s++}else{if(t.kty!==void 0){let h=s;if(t.kty!=="RSA"){let c={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[c]:o.push(c),s++}var B=h===s}else var B=!0;if(B){if(t.n!==void 0){let h=s;if(typeof t.n!="string"){let l={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B){if(t.e!==void 0){let h=s;if(typeof t.e!="string"){let l={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B){if(t.d!==void 0){let h=s;if(typeof t.d!="string"){let l={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B){if(t.p!==void 0){let h=s;if(typeof t.p!="string"){let l={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B){if(t.q!==void 0){let h=s;if(typeof t.q!="string"){let l={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B){if(t.dp!==void 0){let h=s;if(typeof t.dp!="string"){let l={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B){if(t.dq!==void 0){let h=s;if(typeof t.dq!="string"){let l={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B){if(t.qi!==void 0){let h=s;if(typeof t.qi!="string"){let l={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var B=h===s}else var B=!0;if(B)if(t.oth!==void 0){let h=t.oth,c=s;if(!(h&&typeof h=="object"&&!Array.isArray(h))){let g={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[g]:o.push(g),s++}var B=c===s}else var B=!0}}}}}}}}}}var P=_===s;if(P&&v)v=!1,b=[b,2];else{P&&(v=!0,b=2);let u=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.k===void 0&&(c="k")){let l={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"};o===null?o=[l]:o.push(l),s++}else{if(t.kty!==void 0){let l=s;if(t.kty!=="oct"){let g={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[g]:o.push(g),s++}var I=l===s}else var I=!0;if(I)if(t.k!==void 0){let l=s;if(typeof t.k!="string"){let w={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[w]:o.push(w),s++}var I=l===s}else var I=!0}}var P=u===s;P&&v?(v=!1,b=[b,3]):P&&(v=!0,b=3)}}if(v)s=p,o!==null&&(p?o.length=p:o=null);else{let _={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:b},message:"must match exactly one schema in oneOf"};return o===null?o=[_]:o.push(_),s++,pr.errors=o,!1}if(s===d)if(t&&typeof t=="object"&&!Array.isArray(t)){let _;if(t.kty===void 0&&(_="kty"))return pr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"}],!1;if(t.alg!==void 0){let a=s;if(typeof t.alg!="string")return pr.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C){if(t.kid!==void 0){let a=s;if(typeof t.kid!="string")return pr.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C){if(t.kty!==void 0){let a=t.kty,u=s;if(!(a==="EC"||a==="RSA"||a==="oct"||a==="OKP"))return pr.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:AR.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var C=u===s}else var C=!0;if(C){if(t.crv!==void 0){let a=s;if(typeof t.crv!="string")return pr.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C){if(t.use!==void 0){let a=s;if(typeof t.use!="string")return pr.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C){if(t.key_ops!==void 0){let a=s;if(typeof t.key_ops!="string")return pr.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C){if(t.x5u!==void 0){let a=s;if(typeof t.x5u!="string")return pr.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C){if(t.x5c!==void 0){let a=s;if(typeof t.x5c!="string")return pr.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C){if(t.x5t!==void 0){let a=s;if(typeof t.x5t!="string")return pr.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0;if(C)if(t["x5t#S256"]!==void 0){let a=s;if(typeof t["x5t#S256"]!="string")return pr.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=a===s}else var C=!0}}}}}}}}}else return pr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var O=d===s;if(O){let _=s,a=s,u=s,h=!1,c=s,l=s,g=!1,w=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.d===void 0&&(m="d")){let f={};o===null?o=[f]:o.push(f),s++}}var F=w===s;if(g=g||F,g)s=l,o!==null&&(l?o.length=l:o=null);else{let m={};o===null?o=[m]:o.push(m),s++}if(s===c)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){let m={};o===null?o=[m]:o.push(m),s++}}else{let m={};o===null?o=[m]:o.push(m),s++}var q=c===s;if(h=h||q,!h){let m=s,f=s,y=!1,R=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let D;if(t.d===void 0&&(D="d")){let z={};o===null?o=[z]:o.push(z),s++}}var G=R===s;if(y=y||G,y)s=f,o!==null&&(f?o.length=f:o=null);else{let D={};o===null?o=[D]:o.push(D),s++}if(s===m)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){let D={};o===null?o=[D]:o.push(D),s++}}else{let D={};o===null?o=[D]:o.push(D),s++}var q=m===s;if(h=h||q,!h){let D=s,z=s,W=!1,H=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Z;if(t.d===void 0&&(Z="d")){let Y={};o===null?o=[Y]:o.push(Y),s++}}var $=H===s;if(W=W||$,!W){let Z=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Le;if(t.p===void 0&&(Le="p")){let Q={};o===null?o=[Q]:o.push(Q),s++}}var $=Z===s;if(W=W||$,!W){let Le=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let X;if(t.q===void 0&&(X="q")){let Qe={};o===null?o=[Qe]:o.push(Qe),s++}}var $=Le===s;if(W=W||$,!W){let X=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let te;if(t.dp===void 0&&(te="dp")){let re={};o===null?o=[re]:o.push(re),s++}}var $=X===s;if(W=W||$,!W){let te=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Zt;if(t.dq===void 0&&(Zt="dq")){let ie={};o===null?o=[ie]:o.push(ie),s++}}var $=te===s;if(W=W||$,!W){let Zt=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let ne;if(t.qi===void 0&&(ne="qi")){let _r={};o===null?o=[_r]:o.push(_r),s++}}var $=Zt===s;if(W=W||$,!W){let ne=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let se;if(t.oth===void 0&&(se="oth")){let oe={};o===null?o=[oe]:o.push(oe),s++}}var $=ne===s;W=W||$}}}}}}if(W)s=z,o!==null&&(z?o.length=z:o=null);else{let Z={};o===null?o=[Z]:o.push(Z),s++}if(s===D)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){let Z=s;if(t.kty!=="RSA"){let Y={};o===null?o=[Y]:o.push(Y),s++}var N=Z===s}else var N=!0;if(N)if(t.oth!==void 0){let Z=t.oth,Y=s;if(!(Z&&typeof Z=="object"&&!Array.isArray(Z))){let Q={};o===null?o=[Q]:o.push(Q),s++}var N=Y===s}else var N=!0}else{let Z={};o===null?o=[Z]:o.push(Z),s++}var q=D===s;h=h||q}}if(h)s=u,o!==null&&(u?o.length=u:o=null);else{let m={};o===null?o=[m]:o.push(m),s++}var K=a===s;if(K)return pr.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=_,o!==null&&(_?o.length=_:o=null)}return pr.errors=o,s===0}var yee=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u");function Xe(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,d=s,p=!1,v=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.contextId===void 0&&(K="contextId")){let _={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"};o===null?o=[_]:o.push(_),s++}else if(t.descriptor!==void 0){let _=t.descriptor;if(s===s)if(_&&typeof _=="object"&&!Array.isArray(_)){let u;if(_.protocol===void 0&&(u="protocol")||_.protocolPath===void 0&&(u="protocolPath")){let h={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),s++}}else{let u={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[u]:o.push(u),s++}}}var b=v===s;if(p=p||b,!p){let K=s,_=s,a=s,u=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.contextId===void 0&&(c="contextId")){let l={};o===null?o=[l]:o.push(l),s++}}var x=u===s;if(x){let c={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[c]:o.push(c),s++}else s=a,o!==null&&(a?o.length=a:o=null);var E=_===s;if(E){let c=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let g=t.descriptor;if(!(g&&typeof g=="object"&&!Array.isArray(g))){let f={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[f]:o.push(f),s++}let w=s,m=s;if(g&&typeof g=="object"&&!Array.isArray(g)){let f;if(g.protocol===void 0&&(f="protocol")){let y={};o===null?o=[y]:o.push(y),s++}}var T=m===s;if(T){let f={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[f]:o.push(f),s++}else s=w,o!==null&&(w?o.length=w:o=null)}var E=c===s;if(E){let g=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let m=t.descriptor;if(!(m&&typeof m=="object"&&!Array.isArray(m))){let R={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[R]:o.push(R),s++}let f=s,y=s;if(m&&typeof m=="object"&&!Array.isArray(m)){let R;if(m.protocolPath===void 0&&(R="protocolPath")){let A={};o===null?o=[A]:o.push(A),s++}}var S=y===s;if(S){let R={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[R]:o.push(R),s++}else s=f,o!==null&&(f?o.length=f:o=null)}var E=g===s}}var b=K===s;p=p||b}if(p)s=d,o!==null&&(d?o.length=d:o=null);else{let K={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[K]:o.push(K),s++,Xe.errors=o,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.descriptor===void 0&&(K="descriptor"))return Xe.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{let _=s;for(let a in t)if(!(a==="recordId"||a==="contextId"||a==="attestation"||a==="authorization"||a==="encryption"||a==="descriptor")){return Xe.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;break}if(_===s){if(t.recordId!==void 0){let a=s;if(typeof t.recordId!="string")return Xe.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=a===s}else var P=!0;if(P){if(t.contextId!==void 0){let a=s;if(typeof t.contextId!="string")return Xe.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=a===s}else var P=!0;if(P){if(t.attestation!==void 0){let a=s;mr(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:n})||(o=o===null?mr.errors:o.concat(mr.errors),s=o.length);var P=a===s}else var P=!0;if(P){if(t.authorization!==void 0){let a=s;ac(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ac.errors:o.concat(ac.errors),s=o.length);var P=a===s}else var P=!0;if(P){if(t.encryption!==void 0){let a=t.encryption,u=s;if(s===u)if(a&&typeof a=="object"&&!Array.isArray(a)){let c;if(a.algorithm===void 0&&(c="algorithm")||a.initializationVector===void 0&&(c="initializationVector")||a.keyEncryption===void 0&&(c="keyEncryption"))return Xe.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let l=s;for(let g in a)if(!(g==="algorithm"||g==="initializationVector"||g==="keyEncryption")){return Xe.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:g},message:"must NOT have additional properties"}],!1;break}if(l===s){if(a.algorithm!==void 0){let g=a.algorithm,w=s;if(typeof g!="string")return Xe.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(g!=="A256CTR")return Xe.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:sc.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var B=w===s}else var B=!0;if(B){if(a.initializationVector!==void 0){let g=a.initializationVector,w=s;if(s===s)if(typeof g=="string"){if(!Ul.test(g))return Xe.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Xe.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=w===s}else var B=!0;if(B)if(a.keyEncryption!==void 0){let g=a.keyEncryption,w=s;if(s===w)if(Array.isArray(g)){if(g.length<1)return Xe.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var I=!0;let f=g.length;for(let y=0;y<f;y++){let R=g[y],A=s;if(s===A)if(R&&typeof R=="object"&&!Array.isArray(R)){let z;if(R.rootKeyId===void 0&&(z="rootKeyId")||R.derivationScheme===void 0&&(z="derivationScheme")||R.algorithm===void 0&&(z="algorithm")||R.encryptedKey===void 0&&(z="encryptedKey")||R.initializationVector===void 0&&(z="initializationVector")||R.ephemeralPublicKey===void 0&&(z="ephemeralPublicKey")||R.messageAuthenticationCode===void 0&&(z="messageAuthenticationCode"))return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"}],!1;{let W=s;for(let H in R)if(!(H==="rootKeyId"||H==="derivationScheme"||H==="derivedPublicKey"||H==="algorithm"||H==="encryptedKey"||H==="initializationVector"||H==="ephemeralPublicKey"||H==="messageAuthenticationCode")){return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:H},message:"must NOT have additional properties"}],!1;break}if(W===s){if(R.rootKeyId!==void 0){let H=s;if(typeof R.rootKeyId!="string")return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=H===s}else var C=!0;if(C){if(R.derivationScheme!==void 0){let H=R.derivationScheme,J=s;if(typeof H!="string")return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(H==="dataFormats"||H==="protocolContext"||H==="protocolPath"||H==="schemas"))return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:sc.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var C=J===s}else var C=!0;if(C){if(R.derivedPublicKey!==void 0){let H=s;pr(R.derivedPublicKey,{instancePath:e+"/encryption/keyEncryption/"+y+"/derivedPublicKey",parentData:R,parentDataProperty:"derivedPublicKey",rootData:n})||(o=o===null?pr.errors:o.concat(pr.errors),s=o.length);var C=H===s}else var C=!0;if(C){if(R.algorithm!==void 0){let H=R.algorithm,J=s;if(typeof H!="string")return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(H!=="ECIES-ES256K")return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:sc.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var C=J===s}else var C=!0;if(C){if(R.encryptedKey!==void 0){let H=R.encryptedKey,J=s;if(s===s)if(typeof H=="string"){if(!Ul.test(H))return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===s}else var C=!0;if(C){if(R.initializationVector!==void 0){let H=R.initializationVector,J=s;if(s===s)if(typeof H=="string"){if(!Ul.test(H))return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===s}else var C=!0;if(C){if(R.ephemeralPublicKey!==void 0){let H=s;pr(R.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+y+"/ephemeralPublicKey",parentData:R,parentDataProperty:"ephemeralPublicKey",rootData:n})||(o=o===null?pr.errors:o.concat(pr.errors),s=o.length);var C=H===s}else var C=!0;if(C)if(R.messageAuthenticationCode!==void 0){let H=R.messageAuthenticationCode,J=s;if(s===s)if(typeof H=="string"){if(!Ul.test(H))return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=J===s}else var C=!0}}}}}}}}}else return Xe.errors=[{instancePath:e+"/encryption/keyEncryption/"+y,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I=A===s;if(!I)break}}}else return Xe.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var B=w===s}else var B=!0}}}}else return Xe.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var P=u===s}else var P=!0;if(P)if(t.descriptor!==void 0){let a=t.descriptor,u=s,h=s,c=!1,l=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let w;if(a.published===void 0&&(w="published")||a.datePublished===void 0&&(w="datePublished")){let m={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"};o===null?o=[m]:o.push(m),s++}else if(a.published!==void 0){let m=a.published;if(typeof m!="boolean"){let f={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[f]:o.push(f),s++}if(m!==!0){let f={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:sc.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[f]:o.push(f),s++}}}var O=l===s;if(c=c||O,!c){let w=s,m=s,f=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let R;if(a.datePublished===void 0&&(R="datePublished")){let A={};o===null?o=[A]:o.push(A),s++}}var F=f===s;if(F){let R={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[R]:o.push(R),s++}else s=m,o!==null&&(m?o.length=m:o=null);if(s===w&&a&&typeof a=="object"&&!Array.isArray(a)&&a.published!==void 0){let R=a.published;if(typeof R!="boolean"){let A={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[A]:o.push(A),s++}if(R!==!1){let A={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:sc.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[A]:o.push(A),s++}}var O=w===s;if(c=c||O,!c){let R=s,A=s,D=s,z=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let H;if(a.published===void 0&&(H="published")){let J={};o===null?o=[J]:o.push(J),s++}}var q=z===s;if(q){let H={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[H]:o.push(H),s++}else s=D,o!==null&&(D?o.length=D:o=null);var G=A===s;if(G){let H=s,J=s,Z=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let Le;if(a.datePublished===void 0&&(Le="datePublished")){let Q={};o===null?o=[Q]:o.push(Q),s++}}var $=Z===s;if($){let Le={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[Le]:o.push(Le),s++}else s=J,o!==null&&(J?o.length=J:o=null);var G=H===s}var O=R===s;c=c||O}}if(c)s=h,o!==null&&(h?o.length=h:o=null);else{let w={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[w]:o.push(w),s++,Xe.errors=o,!1}if(s===u)if(a&&typeof a=="object"&&!Array.isArray(a)){let w;if(a.interface===void 0&&(w="interface")||a.method===void 0&&(w="method")||a.dataCid===void 0&&(w="dataCid")||a.dataSize===void 0&&(w="dataSize")||a.dateCreated===void 0&&(w="dateCreated")||a.messageTimestamp===void 0&&(w="messageTimestamp")||a.dataFormat===void 0&&(w="dataFormat"))return Xe.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:w},message:"must have required property '"+w+"'"}],!1;{let m=s;for(let f in a)if(!j1.call(sc.properties.descriptor.properties,f)){return Xe.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"}],!1;break}if(m===s){let f;if(a.parentId!==void 0&&a.protocol===void 0&&(f="protocol"))return Xe.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:f,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(a.interface!==void 0){let y=a.interface,R=s;if(typeof y!="string")return Xe.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Records")return Xe.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:sc.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=R===s}else var N=!0;if(N){if(a.method!==void 0){let y=a.method,R=s;if(typeof y!="string")return Xe.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Write")return Xe.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:sc.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var N=R===s}else var N=!0;if(N){if(a.recipient!==void 0){let y=a.recipient,R=s;if(s===s)if(typeof y=="string"){if(!_s.test(y))return Xe.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Xe.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=R===s}else var N=!0;if(N){if(a.protocol!==void 0){let y=s;if(typeof a.protocol!="string")return Xe.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=y===s}else var N=!0;if(N){if(a.protocolPath!==void 0){let y=a.protocolPath,R=s;if(s===R)if(typeof y=="string"){if(!yee.test(y))return Xe.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}else return Xe.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=R===s}else var N=!0;if(N){if(a.schema!==void 0){let y=s;if(typeof a.schema!="string")return Xe.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=y===s}else var N=!0;if(N){if(a.parentId!==void 0){let y=s;if(typeof a.parentId!="string")return Xe.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=y===s}else var N=!0;if(N){if(a.dataCid!==void 0){let y=s;if(typeof a.dataCid!="string")return Xe.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=y===s}else var N=!0;if(N){if(a.dataSize!==void 0){let y=a.dataSize,R=s;if(!(typeof y=="number"&&isFinite(y)))return Xe.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var N=R===s}else var N=!0;if(N){if(a.dateCreated!==void 0){let y=a.dateCreated,R=s;if(s===s)if(typeof y=="string"){if(!Zi.test(y))return Xe.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Xe.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=R===s}else var N=!0;if(N){if(a.messageTimestamp!==void 0){let y=a.messageTimestamp,R=s;if(s===s)if(typeof y=="string"){if(!Zi.test(y))return Xe.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Xe.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=R===s}else var N=!0;if(N){if(a.published!==void 0){let y=s;if(typeof a.published!="boolean")return Xe.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var N=y===s}else var N=!0;if(N){if(a.datePublished!==void 0){let y=a.datePublished,R=s;if(s===s)if(typeof y=="string"){if(!Zi.test(y))return Xe.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Xe.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=R===s}else var N=!0;if(N)if(a.dataFormat!==void 0){let y=s;if(typeof a.dataFormat!="string")return Xe.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=y===s}else var N=!0}}}}}}}}}}}}}}}else return Xe.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var P=u===s}else var P=!0}}}}}}}else return Xe.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Xe.errors=o,s===0}function O1(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(!Xe(t,{instancePath:e,parentData:r,parentDataProperty:i,rootData:n}))o=o===null?Xe.errors:o.concat(Xe.errors),s=o.length;else if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.recordId===void 0&&(p="recordId")||t.authorization===void 0&&(p="authorization"))return O1.errors=[{instancePath:e,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1}else return O1.errors=[{instancePath:e,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return O1.errors=o,s===0}var gee=Xe,vee=Ao,gR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},watermark:{type:"string"}}}}};function Ao(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return Ao.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let b=s;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return Ao.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.authorization!==void 0){let x=s;Zr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Zr.errors:o.concat(Zr.errors),s=o.length);var d=x===s}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=s;if(s===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let S;if(x.interface===void 0&&(S="interface")||x.method===void 0&&(S="method")||x.messageTimestamp===void 0&&(S="messageTimestamp"))return Ao.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{let P=s;for(let B in x)if(!(B==="interface"||B==="method"||B==="messageTimestamp"||B==="watermark")){return Ao.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(P===s){if(x.interface!==void 0){let B=x.interface,I=s;if(typeof B!="string")return Ao.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Events")return Ao.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:gR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.method!==void 0){let B=x.method,I=s;if(typeof B!="string")return Ao.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Get")return Ao.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:gR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let B=s;if(typeof x.messageTimestamp!="string")return Ao.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=B===s}else var p=!0;if(p)if(x.watermark!==void 0){let B=s;if(typeof x.watermark!="string")return Ao.errors=[{instancePath:e+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=B===s}else var p=!0}}}}}else return Ao.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===s}else var d=!0}}}else return Ao.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ao.errors=o,s===0}var bee=Ix;function Ix(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(Ix.errors=o,s===0):(Ix.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var wee=co;function co(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,d=s,p=!1,v=null,b=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.crv===void 0&&(C="crv")||t.x===void 0&&(C="x")){let O={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};o===null?o=[O]:o.push(O),s++}else{if(t.kty!==void 0){let O=s;if(t.kty!=="EC"){let F={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[F]:o.push(F),s++}var x=O===s}else var x=!0;if(x){if(t.crv!==void 0){let O=s;if(typeof t.crv!="string"){let q={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var x=O===s}else var x=!0;if(x){if(t.x!==void 0){let O=s;if(typeof t.x!="string"){let q={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var x=O===s}else var x=!0;if(x){if(t.y!==void 0){let O=s;if(typeof t.y!="string"){let q={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var x=O===s}else var x=!0;if(x)if(t.d!==void 0){let O=s;if(typeof t.d!="string"){let q={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var x=O===s}else var x=!0}}}}}var S=b===s;S&&(p=!0,v=0);let E=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.crv===void 0&&(C="crv")||t.x===void 0&&(C="x")){let O={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};o===null?o=[O]:o.push(O),s++}else{if(t.kty!==void 0){let O=s;if(t.kty!=="OKP"){let F={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[F]:o.push(F),s++}var T=O===s}else var T=!0;if(T){if(t.crv!==void 0){let O=s;if(typeof t.crv!="string"){let q={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var T=O===s}else var T=!0;if(T){if(t.x!==void 0){let O=s;if(typeof t.x!="string"){let q={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var T=O===s}else var T=!0;if(T)if(t.d!==void 0){let O=s;if(typeof t.d!="string"){let q={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var T=O===s}else var T=!0}}}}var S=E===s;if(S&&p)p=!1,v=[v,1];else{S&&(p=!0,v=1);let C=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let F;if(t.n===void 0&&(F="n")||t.e===void 0&&(F="e")){let q={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:F},message:"must have required property '"+F+"'"};o===null?o=[q]:o.push(q),s++}else{if(t.kty!==void 0){let q=s;if(t.kty!=="RSA"){let G={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[G]:o.push(G),s++}var P=q===s}else var P=!0;if(P){if(t.n!==void 0){let q=s;if(typeof t.n!="string"){let $={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P){if(t.e!==void 0){let q=s;if(typeof t.e!="string"){let $={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P){if(t.d!==void 0){let q=s;if(typeof t.d!="string"){let $={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P){if(t.p!==void 0){let q=s;if(typeof t.p!="string"){let $={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P){if(t.q!==void 0){let q=s;if(typeof t.q!="string"){let $={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P){if(t.dp!==void 0){let q=s;if(typeof t.dp!="string"){let $={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P){if(t.dq!==void 0){let q=s;if(typeof t.dq!="string"){let $={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P){if(t.qi!==void 0){let q=s;if(typeof t.qi!="string"){let $={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var P=q===s}else var P=!0;if(P)if(t.oth!==void 0){let q=t.oth,G=s;if(!(q&&typeof q=="object"&&!Array.isArray(q))){let N={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[N]:o.push(N),s++}var P=G===s}else var P=!0}}}}}}}}}}var S=C===s;if(S&&p)p=!1,v=[v,2];else{S&&(p=!0,v=2);let F=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let G;if(t.k===void 0&&(G="k")){let $={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"};o===null?o=[$]:o.push($),s++}else{if(t.kty!==void 0){let $=s;if(t.kty!=="oct"){let N={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[N]:o.push(N),s++}var B=$===s}else var B=!0;if(B)if(t.k!==void 0){let $=s;if(typeof t.k!="string"){let K={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[K]:o.push(K),s++}var B=$===s}else var B=!0}}var S=F===s;S&&p?(p=!1,v=[v,3]):S&&(p=!0,v=3)}}if(p)s=d,o!==null&&(d?o.length=d:o=null);else{let C={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:v},message:"must match exactly one schema in oneOf"};return o===null?o=[C]:o.push(C),s++,co.errors=o,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.kty===void 0&&(C="kty"))return co.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;if(t.alg!==void 0){let O=s;if(typeof t.alg!="string")return co.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I){if(t.kid!==void 0){let O=s;if(typeof t.kid!="string")return co.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I){if(t.kty!==void 0){let O=t.kty,F=s;if(!(O==="EC"||O==="RSA"||O==="oct"||O==="OKP"))return co.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:AR.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var I=F===s}else var I=!0;if(I){if(t.crv!==void 0){let O=s;if(typeof t.crv!="string")return co.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I){if(t.use!==void 0){let O=s;if(typeof t.use!="string")return co.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I){if(t.key_ops!==void 0){let O=s;if(typeof t.key_ops!="string")return co.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I){if(t.x5u!==void 0){let O=s;if(typeof t.x5u!="string")return co.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I){if(t.x5c!==void 0){let O=s;if(typeof t.x5c!="string")return co.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I){if(t.x5t!==void 0){let O=s;if(typeof t.x5t!="string")return co.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0;if(I)if(t["x5t#S256"]!==void 0){let O=s;if(typeof t["x5t#S256"]!="string")return co.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=O===s}else var I=!0}}}}}}}}}else return co.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return co.errors=o,s===0}var _ee=mr,xee=Jf;function Jf(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.id===void 0&&(p="id")||t.type===void 0&&(p="type")||t.controller===void 0&&(p="controller")||t.publicKeyJwk===void 0&&(p="publicKeyJwk"))return Jf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let v=s;for(let b in t)if(!(b==="id"||b==="type"||b==="controller"||b==="publicKeyJwk")){return Jf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;break}if(v===s){if(t.id!==void 0){let b=s;if(typeof t.id!="string")return Jf.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.type!==void 0){let b=s;if(t.type!=="JsonWebKey2020")return Jf.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var d=b===s}else var d=!0;if(d){if(t.controller!==void 0){let b=t.controller,x=s;if(s===s)if(typeof b=="string"){if(!_s.test(b))return Jf.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Jf.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=x===s}else var d=!0;if(d)if(t.publicKeyJwk!==void 0){let b=s;pr(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:n})||(o=o===null?pr.errors:o.concat(pr.errors),s=o.length);var d=b===s}else var d=!0}}}}}else return Jf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Jf.errors=o,s===0}var Mee=Tn,vR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Tn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.authorization===void 0&&(b="authorization")||t.descriptor===void 0&&(b="descriptor"))return Tn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{let x=s;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return Tn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(x===s){if(t.authorization!==void 0){let E=s;Zr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Zr.errors:o.concat(Zr.errors),s=o.length);var d=E===s}else var d=!0;if(d)if(t.descriptor!==void 0){let E=t.descriptor,T=s;if(s===T)if(E&&typeof E=="object"&&!Array.isArray(E)){let P;if(E.interface===void 0&&(P="interface")||E.method===void 0&&(P="method")||E.messageTimestamp===void 0&&(P="messageTimestamp"))return Tn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:P},message:"must have required property '"+P+"'"}],!1;{let B=s;for(let I in E)if(!(I==="interface"||I==="method"||I==="messageTimestamp"||I==="messageCids")){return Tn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(B===s){if(E.interface!==void 0){let I=E.interface,C=s;if(typeof I!="string")return Tn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Messages")return Tn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:vR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===s}else var p=!0;if(p){if(E.method!==void 0){let I=E.method,C=s;if(typeof I!="string")return Tn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Get")return Tn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:vR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===s}else var p=!0;if(p){if(E.messageTimestamp!==void 0){let I=E.messageTimestamp,C=s;if(s===s)if(typeof I=="string"){if(!Zi.test(I))return Tn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Tn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=C===s}else var p=!0;if(p)if(E.messageCids!==void 0){let I=E.messageCids,C=s;if(s===C)if(Array.isArray(I)){if(I.length<1)return Tn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var v=!0;let F=I.length;for(let q=0;q<F;q++){let G=s;if(typeof I[q]!="string")return Tn.errors=[{instancePath:e+"/descriptor/messageCids/"+q,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=G===s;if(!v)break}}}else return Tn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var p=C===s}else var p=!0}}}}}else return Tn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=T===s}else var d=!0}}}else return Tn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Tn.errors=o,s===0}var Eee=$o;function $o(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return $o.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let T=s;for(let S in t)if(!(S==="gt"||S==="gte"||S==="lt"||S==="lte")){return $o.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:S},message:"must NOT have additional properties"}],!1;break}if(T===s){if(t.gt!==void 0){let S=s,P=s,B=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let I;if(t.gte===void 0&&(I="gte")){let C={};o===null?o=[C]:o.push(C),s++}}var d=B===s;if(d)return $o.errors=[{instancePath:e,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=P,o!==null&&(P?o.length=P:o=null);var p=S===s}else var p=!0;if(p){if(t.gte!==void 0){let S=s,P=s,B=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.gt===void 0&&(C="gt")){let O={};o===null?o=[O]:o.push(O),s++}}var v=B===s;if(v)return $o.errors=[{instancePath:e,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=P,o!==null&&(P?o.length=P:o=null);var p=S===s}else var p=!0;if(p){if(t.lt!==void 0){let S=s,P=s,B=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.lte===void 0&&(C="lte")){let O={};o===null?o=[O]:o.push(O),s++}}var b=B===s;if(b)return $o.errors=[{instancePath:e,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=P,o!==null&&(P?o.length=P:o=null);var p=S===s}else var p=!0;if(p){if(t.lte!==void 0){let S=s,P=s,B=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.lt===void 0&&(C="lt")){let O={};o===null?o=[O]:o.push(O),s++}}var x=B===s;if(x)return $o.errors=[{instancePath:e,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=P,o!==null&&(P?o.length=P:o=null);var p=S===s}else var p=!0;if(p){if(t.gt!==void 0){let S=t.gt,P=s;if(!(typeof S=="number"&&isFinite(S)))return $o.errors=[{instancePath:e+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var E=P===s}else var E=!0;if(E){if(t.gte!==void 0){let S=t.gte,P=s;if(!(typeof S=="number"&&isFinite(S)))return $o.errors=[{instancePath:e+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var E=P===s}else var E=!0;if(E){if(t.lt!==void 0){let S=t.lt,P=s;if(!(typeof S=="number"&&isFinite(S)))return $o.errors=[{instancePath:e+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var E=P===s}else var E=!0;if(E)if(t.lte!==void 0){let S=t.lte,P=s;if(!(typeof S=="number"&&isFinite(S)))return $o.errors=[{instancePath:e+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var E=P===s}else var E=!0}}}}}}}}}else return $o.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $o.errors=o,s===0}var See=Bx;function Bx(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(Bx.errors=o,s===0):(Bx.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var Aee=Ct,Tee=Vr,Px={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","grantedBy","grantedTo","grantedFor","scope"],properties:{interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};function Xm(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,d=s,p=!1,v=null,b=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){let O=s;if(t.interface!=="Protocols"){let F={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};o===null?o=[F]:o.push(F),s++}var E=O===s}else var E=!0;if(E)if(t.method!==void 0){let O=s;if(t.method!=="Query"){let q={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[q]:o.push(q),s++}var E=O===s}else var E=!0}else{let O={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[O]:o.push(O),s++}var B=b===s;B&&(p=!0,v=0);let T=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let O;if(t.interface===void 0&&(O="interface")||t.method===void 0&&(O="method")){let F={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"};o===null?o=[F]:o.push(F),s++}else{if(t.interface!==void 0){let F=s;if(t.interface!=="Records"){let q={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[q]:o.push(q),s++}var P=F===s}else var P=!0;if(P){if(t.method!==void 0){let F=s;if(t.method!=="Read"){let G={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P){if(t.schema!==void 0){let F=s;if(typeof t.schema!="string"){let G={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P){if(t.protocol!==void 0){let F=s;if(typeof t.protocol!="string"){let G={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P){if(t.contextId!==void 0){let F=s;if(typeof t.contextId!="string"){let G={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0;if(P)if(t.protocolPath!==void 0){let F=s;if(typeof t.protocolPath!="string"){let G={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var P=F===s}else var P=!0}}}}}}else{let O={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[O]:o.push(O),s++}var B=T===s;if(B&&p)p=!1,v=[v,1];else{B&&(p=!0,v=1);let O=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let G;if(t.interface===void 0&&(G="interface")||t.method===void 0&&(G="method")){let $={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"};o===null?o=[$]:o.push($),s++}else{if(t.interface!==void 0){let $=s;if(t.interface!=="Records"){let N={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[N]:o.push(N),s++}var I=$===s}else var I=!0;if(I){if(t.method!==void 0){let $=s;if(t.method!=="Delete"){let K={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};o===null?o=[K]:o.push(K),s++}var I=$===s}else var I=!0;if(I)if(t.schema!==void 0){let $=s;if(typeof t.schema!="string"){let K={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[K]:o.push(K),s++}var I=$===s}else var I=!0}}}else{let G={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[G]:o.push(G),s++}var B=O===s;if(B&&p)p=!1,v=[v,2];else{B&&(p=!0,v=2);let G=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.interface===void 0&&(K="interface")||t.method===void 0&&(K="method")){let _={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"};o===null?o=[_]:o.push(_),s++}else{if(t.interface!==void 0){let _=s;if(t.interface!=="Records"){let a={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[a]:o.push(a),s++}var C=_===s}else var C=!0;if(C){if(t.method!==void 0){let _=s;if(t.method!=="Write"){let u={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C){if(t.schema!==void 0){let _=s;if(typeof t.schema!="string"){let u={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C){if(t.protocol!==void 0){let _=s;if(typeof t.protocol!="string"){let u={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C){if(t.contextId!==void 0){let _=s;if(typeof t.contextId!="string"){let u={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0;if(C)if(t.protocolPath!==void 0){let _=s;if(typeof t.protocolPath!="string"){let u={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var C=_===s}else var C=!0}}}}}}else{let K={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[K]:o.push(K),s++}var B=G===s;B&&p?(p=!1,v=[v,3]):B&&(p=!0,v=3)}}if(p)s=d,o!==null&&(d?o.length=d:o=null);else{let O={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:v},message:"must match exactly one schema in oneOf"};return o===null?o=[O]:o.push(O),s++,Xm.errors=o,!1}return Xm.errors=o,s===0}function Vr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return Vr.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let b=s;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return Vr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.authorization!==void 0){let x=s;Zr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Zr.errors:o.concat(Zr.errors),s=o.length);var d=x===s}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=s;if(s===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let S;if(x.interface===void 0&&(S="interface")||x.method===void 0&&(S="method")||x.messageTimestamp===void 0&&(S="messageTimestamp")||x.grantedBy===void 0&&(S="grantedBy")||x.grantedTo===void 0&&(S="grantedTo")||x.grantedFor===void 0&&(S="grantedFor")||x.scope===void 0&&(S="scope"))return Vr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{let P=s;for(let B in x)if(!j1.call(Px.properties.descriptor.properties,B)){return Vr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(P===s){if(x.interface!==void 0){let B=x.interface,I=s;if(typeof B!="string")return Vr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Permissions")return Vr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Px.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.method!==void 0){let B=x.method,I=s;if(typeof B!="string")return Vr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Request")return Vr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Px.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let B=x.messageTimestamp,I=s;if(s===s)if(typeof B=="string"){if(!Zi.test(B))return Vr.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Vr.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.description!==void 0){let B=s;if(typeof x.description!="string")return Vr.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=B===s}else var p=!0;if(p){if(x.grantedTo!==void 0){let B=x.grantedTo,I=s;if(s===s)if(typeof B=="string"){if(!_s.test(B))return Vr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Vr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.grantedBy!==void 0){let B=x.grantedBy,I=s;if(s===s)if(typeof B=="string"){if(!_s.test(B))return Vr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Vr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.grantedFor!==void 0){let B=x.grantedFor,I=s;if(s===s)if(typeof B=="string"){if(!_s.test(B))return Vr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Vr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.scope!==void 0){let B=s;Xm(x.scope,{instancePath:e+"/descriptor/scope",parentData:x,parentDataProperty:"scope",rootData:n})||(o=o===null?Xm.errors:o.concat(Xm.errors),s=o.length);var p=B===s}else var p=!0;if(p)if(x.conditions!==void 0){let B=x.conditions,I=s;if(s===s)if(B&&typeof B=="object"&&!Array.isArray(B)){let F=s;for(let q in B)if(q!=="publication"){return Vr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(F===s&&B.publication!==void 0){let q=B.publication;if(typeof q!="string")return Vr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(q==="Required"||q==="Prohibited"))return Vr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:SR.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return Vr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=I===s}else var p=!0}}}}}}}}}}else return Vr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===s}else var d=!0}}}else return Vr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Vr.errors=o,s===0}var Pee=lo,bR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-revoke.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","permissionsGrantId"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},permissionsGrantId:{type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Revoke"],type:"string"}}}}};function lo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return lo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let b=s;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return lo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.authorization!==void 0){let x=s;Zr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Zr.errors:o.concat(Zr.errors),s=o.length);var d=x===s}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=s;if(s===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let S;if(x.interface===void 0&&(S="interface")||x.method===void 0&&(S="method")||x.messageTimestamp===void 0&&(S="messageTimestamp")||x.permissionsGrantId===void 0&&(S="permissionsGrantId"))return lo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{let P=s;for(let B in x)if(!(B==="messageTimestamp"||B==="permissionsGrantId"||B==="interface"||B==="method")){return lo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(P===s){if(x.messageTimestamp!==void 0){let B=x.messageTimestamp,I=s;if(s===s)if(typeof B=="string"){if(!Zi.test(B))return lo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return lo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p){if(x.permissionsGrantId!==void 0){let B=s;if(typeof x.permissionsGrantId!="string")return lo.errors=[{instancePath:e+"/descriptor/permissionsGrantId",schemaPath:"#/properties/descriptor/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=B===s}else var p=!0;if(p){if(x.interface!==void 0){let B=x.interface,I=s;if(typeof B!="string")return lo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Permissions")return lo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:bR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p)if(x.method!==void 0){let B=x.method,I=s;if(typeof B!="string")return lo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Revoke")return lo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:bR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0}}}}}else return lo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===s}else var d=!0}}}else return lo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return lo.errors=o,s===0}var Ree=Dx;function Dx(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(Dx.errors=o,s===0):(Dx.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var kee=cn;var wR=new RegExp(".*","u"),Rx={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"string",enum:["delete","read","update","write"]}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a record with either $globalRole or $contextRole set to true",type:"string"},can:{type:"string",enum:["delete","query","read","update","write"]}}}]}},$globalRole:{$comment:"When `true`, this turns a record into `role` that may be used across contexts",type:"boolean"},$contextRole:{$comment:"When `true`, this turns a record into `role` that may be used within a context",type:"boolean"}},patternProperties:{"^[^$].*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},_R=new RegExp("^[^$].*","u"),kx={validate:Pn};function Pn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let S=s;for(let P in t)if(!(P==="$encryption"||P==="$actions"||P==="$globalRole"||P==="$contextRole"||_R.test(P))){return Pn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:P},message:"must NOT have additional properties"}],!1;break}if(S===s){if(t.$encryption!==void 0){let P=t.$encryption,B=s;if(s===B)if(P&&typeof P=="object"&&!Array.isArray(P)){let I=s;for(let C in P)if(!(C==="rootKeyId"||C==="publicKeyJwk")){return Pn.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(I===s){if(P.rootKeyId!==void 0){let C=s;if(typeof P.rootKeyId!="string")return Pn.errors=[{instancePath:e+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=C===s}else var d=!0;if(d)if(P.publicKeyJwk!==void 0){let C=s;pr(P.publicKeyJwk,{instancePath:e+"/$encryption/publicKeyJwk",parentData:P,parentDataProperty:"publicKeyJwk",rootData:n})||(o=o===null?pr.errors:o.concat(pr.errors),s=o.length);var d=C===s}else var d=!0}}else return Pn.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=B===s}else var p=!0;if(p){if(t.$actions!==void 0){let P=t.$actions,B=s;if(s===B)if(Array.isArray(P)){if(P.length<1)return Pn.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var v=!0;let C=P.length;for(let O=0;O<C;O++){let F=P[O],q=s;if(!(F&&typeof F=="object"&&!Array.isArray(F)))return Pn.errors=[{instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;let G=s,$=!1,N=null,K=s;if(F&&typeof F=="object"&&!Array.isArray(F)){let u;if(F.who===void 0&&(u="who")||F.can===void 0&&(u="can")){let h={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),s++}else{let h=s;for(let c in F)if(!(c==="who"||c==="of"||c==="can")){let l={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:c},message:"must NOT have additional properties"};o===null?o=[l]:o.push(l),s++;break}if(h===s){if(F.who!==void 0){let c=F.who,l=s;if(typeof c!="string"){let g={instancePath:e+"/$actions/"+O+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}if(!(c==="anyone"||c==="author"||c==="recipient")){let g={instancePath:e+"/$actions/"+O+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:Rx.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};o===null?o=[g]:o.push(g),s++}var b=l===s}else var b=!0;if(b){if(F.of!==void 0){let c=s;if(typeof F.of!="string"){let g={instancePath:e+"/$actions/"+O+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var b=c===s}else var b=!0;if(b)if(F.can!==void 0){let c=F.can,l=s;if(typeof c!="string"){let w={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[w]:o.push(w),s++}if(!(c==="delete"||c==="read"||c==="update"||c==="write")){let w={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/enum",keyword:"enum",params:{allowedValues:Rx.properties.$actions.items.oneOf[0].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[w]:o.push(w),s++}var b=l===s}else var b=!0}}}}var E=K===s;E&&($=!0,N=0);let _=s;if(F&&typeof F=="object"&&!Array.isArray(F)){let u;if(F.role===void 0&&(u="role")||F.can===void 0&&(u="can")){let h={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"};o===null?o=[h]:o.push(h),s++}else{if(F.role!==void 0){let h=s;if(typeof F.role!="string"){let c={instancePath:e+"/$actions/"+O+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[c]:o.push(c),s++}var x=h===s}else var x=!0;if(x)if(F.can!==void 0){let h=F.can,c=s;if(typeof h!="string"){let g={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}if(!(h==="delete"||h==="query"||h==="read"||h==="update"||h==="write")){let g={instancePath:e+"/$actions/"+O+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/enum",keyword:"enum",params:{allowedValues:Rx.properties.$actions.items.oneOf[1].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[g]:o.push(g),s++}var x=c===s}else var x=!0}}var E=_===s;if(E&&$?($=!1,N=[N,1]):E&&($=!0,N=1),$)s=G,o!==null&&(G?o.length=G:o=null);else{let u={instancePath:e+"/$actions/"+O,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:N},message:"must match exactly one schema in oneOf"};return o===null?o=[u]:o.push(u),s++,Pn.errors=o,!1}var v=q===s;if(!v)break}}}else return Pn.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var p=B===s}else var p=!0;if(p){if(t.$globalRole!==void 0){let P=s;if(typeof t.$globalRole!="boolean")return Pn.errors=[{instancePath:e+"/$globalRole",schemaPath:"#/properties/%24globalRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var p=P===s}else var p=!0;if(p){if(t.$contextRole!==void 0){let P=s;if(typeof t.$contextRole!="boolean")return Pn.errors=[{instancePath:e+"/$contextRole",schemaPath:"#/properties/%24contextRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var p=P===s}else var p=!0;if(p){var T=!0;for(let P in t)if(_R.test(P)){let B=s;kx.validate(t[P],{instancePath:e+"/"+P.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:t,parentDataProperty:P,rootData:n})||(o=o===null?kx.validate.errors:o.concat(kx.validate.errors),s=o.length);var T=B===s;if(!T)break}}}}}}}else return Pn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Pn.errors=o,s===0}function cn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let E;if(t.protocol===void 0&&(E="protocol")||t.published===void 0&&(E="published")||t.types===void 0&&(E="types")||t.structure===void 0&&(E="structure"))return cn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let T=s;for(let S in t)if(!(S==="protocol"||S==="published"||S==="types"||S==="structure")){return cn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:S},message:"must NOT have additional properties"}],!1;break}if(T===s){if(t.protocol!==void 0){let S=s;if(typeof t.protocol!="string")return cn.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=S===s}else var d=!0;if(d){if(t.published!==void 0){let S=s;if(typeof t.published!="boolean")return cn.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=S===s}else var d=!0;if(d){if(t.types!==void 0){let S=t.types,P=s;if(s===P)if(S&&typeof S=="object"&&!Array.isArray(S)){var p=!0;for(let I in S)if(wR.test(I)){let C=S[I],O=s;if(s===O)if(C&&typeof C=="object"&&!Array.isArray(C)){let q=s;for(let G in C)if(!(G==="schema"||G==="dataFormats")){return cn.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(q===s){if(C.schema!==void 0){let G=s;if(typeof C.schema!="string")return cn.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=G===s}else var v=!0;if(v)if(C.dataFormats!==void 0){let G=C.dataFormats,$=s;if(s===$)if(Array.isArray(G)){if(G.length<1)return cn.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var b=!0;let K=G.length;for(let _=0;_<K;_++){let a=s;if(typeof G[_]!="string")return cn.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+_,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=a===s;if(!b)break}}}else return cn.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var v=$===s}else var v=!0}}else return cn.errors=[{instancePath:e+"/types/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=O===s;if(!p)break}}else return cn.errors=[{instancePath:e+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=P===s}else var d=!0;if(d)if(t.structure!==void 0){let S=t.structure,P=s;if(s===P)if(S&&typeof S=="object"&&!Array.isArray(S)){var x=!0;for(let I in S)if(wR.test(I)){let C=s;Pn(S[I],{instancePath:e+"/structure/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:S,parentDataProperty:I,rootData:n})||(o=o===null?Pn.errors:o.concat(Pn.errors),s=o.length);var x=C===s;if(!x)break}}else return cn.errors=[{instancePath:e+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=P===s}else var d=!0}}}}}else return cn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return cn.errors=o,s===0}var Iee=Pn,Bee=To,xR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function To(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.authorization===void 0&&(v="authorization")||t.descriptor===void 0&&(v="descriptor"))return To.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let b=s;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return To.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.authorization!==void 0){let x=s;Zr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Zr.errors:o.concat(Zr.errors),s=o.length);var d=x===s}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=s;if(s===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let S;if(x.interface===void 0&&(S="interface")||x.method===void 0&&(S="method")||x.messageTimestamp===void 0&&(S="messageTimestamp")||x.definition===void 0&&(S="definition"))return To.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{let P=s;for(let B in x)if(!(B==="interface"||B==="method"||B==="messageTimestamp"||B==="definition")){return To.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(P===s){if(x.interface!==void 0){let B=x.interface,I=s;if(typeof B!="string")return To.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Protocols")return To.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:xR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.method!==void 0){let B=x.method,I=s;if(typeof B!="string")return To.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Configure")return To.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:xR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let B=x.messageTimestamp,I=s;if(s===s)if(typeof B=="string"){if(!Zi.test(B))return To.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return To.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p)if(x.definition!==void 0){let B=s;cn(x.definition,{instancePath:e+"/descriptor/definition",parentData:x,parentDataProperty:"definition",rootData:n})||(o=o===null?cn.errors:o.concat(cn.errors),s=o.length);var p=B===s}else var p=!0}}}}}else return To.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===s}else var d=!0}}}else return To.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return To.errors=o,s===0}var Dee=$i,MR={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function $i(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.descriptor===void 0&&(b="descriptor"))return $i.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{let x=s;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return $i.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(x===s){if(t.authorization!==void 0){let E=s;Zr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Zr.errors:o.concat(Zr.errors),s=o.length);var d=E===s}else var d=!0;if(d)if(t.descriptor!==void 0){let E=t.descriptor,T=s;if(s===T)if(E&&typeof E=="object"&&!Array.isArray(E)){let P;if(E.interface===void 0&&(P="interface")||E.method===void 0&&(P="method")||E.messageTimestamp===void 0&&(P="messageTimestamp"))return $i.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:P},message:"must have required property '"+P+"'"}],!1;{let B=s;for(let I in E)if(!(I==="interface"||I==="method"||I==="messageTimestamp"||I==="filter")){return $i.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(B===s){if(E.interface!==void 0){let I=E.interface,C=s;if(typeof I!="string")return $i.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Protocols")return $i.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:MR.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===s}else var p=!0;if(p){if(E.method!==void 0){let I=E.method,C=s;if(typeof I!="string")return $i.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Query")return $i.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:MR.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=C===s}else var p=!0;if(p){if(E.messageTimestamp!==void 0){let I=E.messageTimestamp,C=s;if(s===s)if(typeof I=="string"){if(!Zi.test(I))return $i.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return $i.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=C===s}else var p=!0;if(p)if(E.filter!==void 0){let I=E.filter,C=s;if(s===C)if(I&&typeof I=="object"&&!Array.isArray(I)){if(Object.keys(I).length<1)return $i.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let F=s;for(let q in I)if(!(q==="protocol"||q==="recipient")){return $i.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(F===s){if(I.protocol!==void 0){let q=s;if(typeof I.protocol!="string")return $i.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=q===s}else var v=!0;if(v)if(I.recipient!==void 0){let q=I.recipient,G=s;if(s===s)if(typeof q=="string"){if(!_s.test(q))return $i.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return $i.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=G===s}else var v=!0}}}else return $i.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=C===s}else var p=!0}}}}}else return $i.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=T===s}else var d=!0}}}else return $i.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $i.errors=o,s===0}var Cee=Po,ER={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Po(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.descriptor===void 0&&(v="descriptor"))return Po.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let b=s;for(let x in t)if(!(x==="authorization"||x==="descriptor")){return Po.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.authorization!==void 0){let x=s;Wo(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?Wo.errors:o.concat(Wo.errors),s=o.length);var d=x===s}else var d=!0;if(d)if(t.descriptor!==void 0){let x=t.descriptor,E=s;if(s===E)if(x&&typeof x=="object"&&!Array.isArray(x)){let S;if(x.interface===void 0&&(S="interface")||x.method===void 0&&(S="method")||x.messageTimestamp===void 0&&(S="messageTimestamp")||x.filter===void 0&&(S="filter"))return Po.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{let P=s;for(let B in x)if(!(B==="interface"||B==="method"||B==="messageTimestamp"||B==="filter")){return Po.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(P===s){if(x.interface!==void 0){let B=x.interface,I=s;if(typeof B!="string")return Po.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Records")return Po.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ER.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.method!==void 0){let B=x.method,I=s;if(typeof B!="string")return Po.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(B!=="Read")return Po.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ER.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var p=I===s}else var p=!0;if(p){if(x.messageTimestamp!==void 0){let B=x.messageTimestamp,I=s;if(s===s)if(typeof B=="string"){if(!Zi.test(B))return Po.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Po.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=I===s}else var p=!0;if(p)if(x.filter!==void 0){let B=s;et(x.filter,{instancePath:e+"/descriptor/filter",parentData:x,parentDataProperty:"filter",rootData:n})||(o=o===null?et.errors:o.concat(et.errors),s=o.length);var p=B===s}else var p=!0}}}}}else return Po.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=E===s}else var d=!0}}}else return Po.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Po.errors=o,s===0}var Oee=et,jee=pr,qee=Qf;function Qf(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.descriptorCid===void 0&&(p="descriptorCid"))return Qf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let v=s;for(let b in t)if(!(b==="descriptorCid"||b==="delegatedGrantId"||b==="permissionsGrantId"||b==="protocolRole")){return Qf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;break}if(v===s){if(t.descriptorCid!==void 0){let b=s;if(typeof t.descriptorCid!="string")return Qf.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.delegatedGrantId!==void 0){let b=s;if(typeof t.delegatedGrantId!="string")return Qf.errors=[{instancePath:e+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.permissionsGrantId!==void 0){let b=s;if(typeof t.permissionsGrantId!="string")return Qf.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d)if(t.protocolRole!==void 0){let b=s;if(typeof t.protocolRole!="string")return Qf.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0}}}}}else return Qf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Qf.errors=o,s===0}var Nee=Go;function Go(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.descriptorCid===void 0&&(p="descriptorCid")||t.recordId===void 0&&(p="recordId"))return Go.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let v=s;for(let b in t)if(!(b==="descriptorCid"||b==="recordId"||b==="contextId"||b==="attestationCid"||b==="encryptionCid"||b==="delegatedGrantId"||b==="permissionsGrantId"||b==="protocolRole")){return Go.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;break}if(v===s){if(t.descriptorCid!==void 0){let b=s;if(typeof t.descriptorCid!="string")return Go.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.recordId!==void 0){let b=s;if(typeof t.recordId!="string")return Go.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.contextId!==void 0){let b=s;if(typeof t.contextId!="string")return Go.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.attestationCid!==void 0){let b=s;if(typeof t.attestationCid!="string")return Go.errors=[{instancePath:e+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.encryptionCid!==void 0){let b=s;if(typeof t.encryptionCid!="string")return Go.errors=[{instancePath:e+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.delegatedGrantId!==void 0){let b=s;if(typeof t.delegatedGrantId!="string")return Go.errors=[{instancePath:e+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d){if(t.permissionsGrantId!==void 0){let b=s;if(typeof t.permissionsGrantId!="string")return Go.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0;if(d)if(t.protocolRole!==void 0){let b=s;if(typeof t.protocolRole!="string")return Go.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=b===s}else var d=!0}}}}}}}}}else return Go.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Go.errors=o,s===0}function ey(t,e){let r=Cx[t];if(!r)throw new De("SchemaValidatorSchemaNotFound",`schema for ${t} not found.`);if(r(e),!r.errors)return;let[i]=r.errors,{instancePath:n,message:o}=i;throw n||(n=t),new De("SchemaValidationFailure",`${n}: ${o}`)}var Ko=class{constructor(e){this.cache=e||new o0(600)}static get singleton(){return Ko._singleton===void 0&&(Ko._singleton=new Ko),Ko._singleton}static async verifySignatures(e,r){return await Ko.singleton.verifySignatures(e,r)}async verifySignatures(e,r){let i=[];for(let n of e.signatures){let o,s=hr.getKid(n),d=`${n.protected}.${e.payload}.${n.signature}`,p=await this.cache.get(d);if(p===void 0){let b=await Ko.getPublicKey(s,r);o=await hr.verifySignature(e.payload,n,b),await this.cache.set(d,o)}else o=p;let v=hr.extractDid(s);if(o)i.push(v);else throw new De("GeneralJwsVerifierInvalidSignature",`Signature verification failed for ${v}`)}return{signers:i}}static async getPublicKey(e,r){let i=hr.extractDid(e),{didDocument:n}=await r.resolve(i),{verificationMethod:o=[]}=n||{},s;for(let p of o)if(e.endsWith(p.id)){s=p;break}if(!s)throw new De("GeneralJwsVerifierGetPublicKeyNotFound","public key needed to verify signature not found in DID Document");ey("JwkVerificationMethod",s);let{publicKeyJwk:d}=s;return d}};M();M();M();M();var cc={};fn(cc,{code:()=>y0,decode:()=>Qx,encode:()=>Yte,name:()=>Zte});M();M();M();M();var Lee=["string","number","bigint","symbol"],Uee=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function TR(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(Lee.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(Fee(t))return"Buffer";let r=zee(t);return r||"Object"}function Fee(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function zee(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Uee.includes(e))return e}M();var Ce=class{constructor(e,r,i){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Ce.uint=new Ce(0,"uint",!0);Ce.negint=new Ce(1,"negint",!0);Ce.bytes=new Ce(2,"bytes",!0);Ce.string=new Ce(3,"string",!0);Ce.array=new Ce(4,"array",!1);Ce.map=new Ce(5,"map",!1);Ce.tag=new Ce(6,"tag",!1);Ce.float=new Ce(7,"float",!0);Ce.false=new Ce(7,"false",!0);Ce.true=new Ce(7,"true",!0);Ce.null=new Ce(7,"null",!0);Ce.undefined=new Ce(7,"undefined",!0);Ce.break=new Ce(7,"break",!0);var Ke=class{constructor(e,r,i){this.type=e,this.value=r,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};M();M();var s0=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",$ee=new TextDecoder,Gee=new TextEncoder;function q1(t){return s0&&globalThis.Buffer.isBuffer(t)}function Ox(t){return t instanceof Uint8Array?q1(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var IR=s0?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):RR(t,e,r):(t,e,r)=>r-e>64?$ee.decode(t.subarray(e,r)):RR(t,e,r),BR=s0?t=>t.length>64?globalThis.Buffer.from(t):PR(t):t=>t.length>64?Gee.encode(t):PR(t),Ha=t=>Uint8Array.from(t),a0=s0?(t,e,r)=>q1(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),DR=s0?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Ox(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),i=0;for(let n of t)i+n.length>r.length&&(n=n.subarray(0,r.length-i)),r.set(n,i),i+=n.length;return r},CR=s0?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function OR(t,e){if(q1(t)&&q1(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function PR(t,e=1/0){let r,i=t.length,n=null,o=[];for(let s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function RR(t,e,r){let i=[];for(;e<r;){let n=t[e],o=null,s=n>239?4:n>223?3:n>191?2:1;if(e+s<=r){let d,p,v,b;switch(s){case 1:n<128&&(o=n);break;case 2:d=t[e+1],(d&192)===128&&(b=(n&31)<<6|d&63,b>127&&(o=b));break;case 3:d=t[e+1],p=t[e+2],(d&192)===128&&(p&192)===128&&(b=(n&15)<<12|(d&63)<<6|p&63,b>2047&&(b<55296||b>57343)&&(o=b));break;case 4:d=t[e+1],p=t[e+2],v=t[e+3],(d&192)===128&&(p&192)===128&&(v&192)===128&&(b=(n&15)<<18|(d&63)<<12|(p&63)<<6|v&63,b>65535&&b<1114112&&(o=b))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),e+=s}return Wee(i)}var kR=4096;function Wee(t){let e=t.length;if(e<=kR)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=kR));return r}var Kee=256,ty=class{constructor(e=Kee){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let n=r.length-(this.maxCursor-this.cursor)-1;r.set(e,n)}else{if(r){let n=r.length-(this.maxCursor-this.cursor)-1;n<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=CR(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let i=this.chunks[0];e&&this.cursor>i.length/2?(r=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=a0(i,0,this.cursor)}else r=DR(this.chunks,this.cursor);return e&&this.reset(),r}};M();var gt="CBOR decode error:",jx="CBOR encode error:",ry=[];ry[23]=1;ry[24]=2;ry[25]=3;ry[26]=5;ry[27]=9;function Xf(t,e,r){if(t.length-e<r)throw new Error(`${gt} not enough data for type`)}M();M();var ln=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ho(t,e,r){Xf(t,e,1);let i=t[e];if(r.strict===!0&&i<ln[0])throw new Error(`${gt} integer encoded in more bytes than necessary (strict decode)`);return i}function Vo(t,e,r){Xf(t,e,2);let i=t[e]<<8|t[e+1];if(r.strict===!0&&i<ln[1])throw new Error(`${gt} integer encoded in more bytes than necessary (strict decode)`);return i}function Zo(t,e,r){Xf(t,e,4);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&i<ln[2])throw new Error(`${gt} integer encoded in more bytes than necessary (strict decode)`);return i}function Yo(t,e,r){Xf(t,e,8);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],n=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(i)<<BigInt(32))+BigInt(n);if(r.strict===!0&&o<ln[3])throw new Error(`${gt} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${gt} integers outside of the safe integer range are not supported`)}function jR(t,e,r,i){return new Ke(Ce.uint,Ho(t,e+1,i),2)}function qR(t,e,r,i){return new Ke(Ce.uint,Vo(t,e+1,i),3)}function NR(t,e,r,i){return new Ke(Ce.uint,Zo(t,e+1,i),5)}function LR(t,e,r,i){return new Ke(Ce.uint,Yo(t,e+1,i),9)}function xs(t,e){return Rn(t,0,e.value)}function Rn(t,e,r){if(r<ln[0]){let i=Number(r);t.push([e|i])}else if(r<ln[1]){let i=Number(r);t.push([e|24,i])}else if(r<ln[2]){let i=Number(r);t.push([e|25,i>>>8,i&255])}else if(r<ln[3]){let i=Number(r);t.push([e|26,i>>>24&255,i>>>16&255,i>>>8&255,i&255])}else{let i=BigInt(r);if(i<ln[4]){let n=[e|27,0,0,0,0,0,0,0],o=Number(i&BigInt(4294967295)),s=Number(i>>BigInt(32)&BigInt(4294967295));n[8]=o&255,o=o>>8,n[7]=o&255,o=o>>8,n[6]=o&255,o=o>>8,n[5]=o&255,n[4]=s&255,s=s>>8,n[3]=s&255,s=s>>8,n[2]=s&255,s=s>>8,n[1]=s&255,t.push(n)}else throw new Error(`${gt} encountered BigInt larger than allowable range`)}}xs.encodedSize=function(e){return Rn.encodedSize(e.value)};Rn.encodedSize=function(e){return e<ln[0]?1:e<ln[1]?2:e<ln[2]?3:e<ln[3]?5:9};xs.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};M();function UR(t,e,r,i){return new Ke(Ce.negint,-1-Ho(t,e+1,i),2)}function FR(t,e,r,i){return new Ke(Ce.negint,-1-Vo(t,e+1,i),3)}function zR(t,e,r,i){return new Ke(Ce.negint,-1-Zo(t,e+1,i),5)}var qx=BigInt(-1),$R=BigInt(1);function GR(t,e,r,i){let n=Yo(t,e+1,i);if(typeof n!="bigint"){let o=-1-n;if(o>=Number.MIN_SAFE_INTEGER)return new Ke(Ce.negint,o,9)}if(i.allowBigInt!==!0)throw new Error(`${gt} integers outside of the safe integer range are not supported`);return new Ke(Ce.negint,qx-BigInt(n),9)}function N1(t,e){let r=e.value,i=typeof r=="bigint"?r*qx-$R:r*-1-1;Rn(t,e.type.majorEncoded,i)}N1.encodedSize=function(e){let r=e.value,i=typeof r=="bigint"?r*qx-$R:r*-1-1;return i<ln[0]?1:i<ln[1]?2:i<ln[2]?3:i<ln[3]?5:9};N1.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};M();function iy(t,e,r,i){Xf(t,e,r+i);let n=a0(t,e+r,e+r+i);return new Ke(Ce.bytes,n,r+i)}function WR(t,e,r,i){return iy(t,e,1,r)}function KR(t,e,r,i){return iy(t,e,2,Ho(t,e+1,i))}function HR(t,e,r,i){return iy(t,e,3,Vo(t,e+1,i))}function VR(t,e,r,i){return iy(t,e,5,Zo(t,e+1,i))}function ZR(t,e,r,i){let n=Yo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${gt} 64-bit integer bytes lengths not supported`);return iy(t,e,9,n)}function L1(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Ce.string?BR(t.value):t.value),t.encodedBytes}function f0(t,e){let r=L1(e);Rn(t,e.type.majorEncoded,r.length),t.push(r)}f0.encodedSize=function(e){let r=L1(e);return Rn.encodedSize(r.length)+r.length};f0.compareTokens=function(e,r){return Vee(L1(e),L1(r))};function Vee(t,e){return t.length<e.length?-1:t.length>e.length?1:OR(t,e)}M();function ny(t,e,r,i,n){let o=r+i;Xf(t,e,o);let s=new Ke(Ce.string,IR(t,e+r,e+o),o);return n.retainStringBytes===!0&&(s.byteValue=a0(t,e+r,e+o)),s}function YR(t,e,r,i){return ny(t,e,1,r,i)}function JR(t,e,r,i){return ny(t,e,2,Ho(t,e+1,i),i)}function QR(t,e,r,i){return ny(t,e,3,Vo(t,e+1,i),i)}function XR(t,e,r,i){return ny(t,e,5,Zo(t,e+1,i),i)}function ek(t,e,r,i){let n=Yo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${gt} 64-bit integer string lengths not supported`);return ny(t,e,9,n,i)}var tk=f0;M();function u0(t,e,r,i){return new Ke(Ce.array,i,r)}function rk(t,e,r,i){return u0(t,e,1,r)}function ik(t,e,r,i){return u0(t,e,2,Ho(t,e+1,i))}function nk(t,e,r,i){return u0(t,e,3,Vo(t,e+1,i))}function ok(t,e,r,i){return u0(t,e,5,Zo(t,e+1,i))}function sk(t,e,r,i){let n=Yo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${gt} 64-bit integer array lengths not supported`);return u0(t,e,9,n)}function ak(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${gt} indefinite length items not allowed`);return u0(t,e,1,1/0)}function U1(t,e){Rn(t,Ce.array.majorEncoded,e.value)}U1.compareTokens=xs.compareTokens;U1.encodedSize=function(e){return Rn.encodedSize(e.value)};M();function c0(t,e,r,i){return new Ke(Ce.map,i,r)}function fk(t,e,r,i){return c0(t,e,1,r)}function uk(t,e,r,i){return c0(t,e,2,Ho(t,e+1,i))}function ck(t,e,r,i){return c0(t,e,3,Vo(t,e+1,i))}function lk(t,e,r,i){return c0(t,e,5,Zo(t,e+1,i))}function dk(t,e,r,i){let n=Yo(t,e+1,i);if(typeof n=="bigint")throw new Error(`${gt} 64-bit integer map lengths not supported`);return c0(t,e,9,n)}function hk(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${gt} indefinite length items not allowed`);return c0(t,e,1,1/0)}function F1(t,e){Rn(t,Ce.map.majorEncoded,e.value)}F1.compareTokens=xs.compareTokens;F1.encodedSize=function(e){return Rn.encodedSize(e.value)};M();function pk(t,e,r,i){return new Ke(Ce.tag,r,1)}function mk(t,e,r,i){return new Ke(Ce.tag,Ho(t,e+1,i),2)}function yk(t,e,r,i){return new Ke(Ce.tag,Vo(t,e+1,i),3)}function gk(t,e,r,i){return new Ke(Ce.tag,Zo(t,e+1,i),5)}function vk(t,e,r,i){return new Ke(Ce.tag,Yo(t,e+1,i),9)}function z1(t,e){Rn(t,Ce.tag.majorEncoded,e.value)}z1.compareTokens=xs.compareTokens;z1.encodedSize=function(e){return Rn.encodedSize(e.value)};M();var ete=20,tte=21,rte=22,ite=23;function bk(t,e,r,i){if(i.allowUndefined===!1)throw new Error(`${gt} undefined values are not supported`);return i.coerceUndefinedToNull===!0?new Ke(Ce.null,null,1):new Ke(Ce.undefined,void 0,1)}function wk(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${gt} indefinite length items not allowed`);return new Ke(Ce.break,void 0,1)}function Nx(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${gt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${gt} Infinity values are not supported`)}return new Ke(Ce.float,t,e)}function _k(t,e,r,i){return Nx(Lx(t,e+1),3,i)}function xk(t,e,r,i){return Nx(Ux(t,e+1),5,i)}function Mk(t,e,r,i){return Nx(Tk(t,e+1),9,i)}function $1(t,e,r){let i=e.value;if(i===!1)t.push([Ce.float.majorEncoded|ete]);else if(i===!0)t.push([Ce.float.majorEncoded|tte]);else if(i===null)t.push([Ce.float.majorEncoded|rte]);else if(i===void 0)t.push([Ce.float.majorEncoded|ite]);else{let n,o=!1;(!r||r.float64!==!0)&&(Sk(i),n=Lx(ia,1),i===n||Number.isNaN(i)?(ia[0]=249,t.push(ia.slice(0,3)),o=!0):(Ak(i),n=Ux(ia,1),i===n&&(ia[0]=250,t.push(ia.slice(0,5)),o=!0))),o||(nte(i),n=Tk(ia,1),ia[0]=251,t.push(ia.slice(0,9)))}}$1.encodedSize=function(e,r){let i=e.value;if(i===!1||i===!0||i===null||i===void 0)return 1;if(!r||r.float64!==!0){Sk(i);let n=Lx(ia,1);if(i===n||Number.isNaN(i))return 3;if(Ak(i),n=Ux(ia,1),i===n)return 5}return 9};var Ek=new ArrayBuffer(9),Ms=new DataView(Ek,1),ia=new Uint8Array(Ek,0);function Sk(t){if(t===1/0)Ms.setUint16(0,31744,!1);else if(t===-1/0)Ms.setUint16(0,64512,!1);else if(Number.isNaN(t))Ms.setUint16(0,32256,!1);else{Ms.setFloat32(0,t);let e=Ms.getUint32(0),r=(e&2139095040)>>23,i=e&8388607;if(r===255)Ms.setUint16(0,31744,!1);else if(r===0)Ms.setUint16(0,(t&2147483648)>>16|i>>13,!1);else{let n=r-127;n<-24?Ms.setUint16(0,0):n<-14?Ms.setUint16(0,(e&2147483648)>>16|1<<24+n,!1):Ms.setUint16(0,(e&2147483648)>>16|n+15<<10|i>>13,!1)}}}function Lx(t,e){if(t.length-e<2)throw new Error(`${gt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let i=r>>10&31,n=r&1023,o;return i===0?o=n*2**-24:i!==31?o=(n+1024)*2**(i-25):o=n===0?1/0:NaN,r&32768?-o:o}function Ak(t){Ms.setFloat32(0,t,!1)}function Ux(t,e){if(t.length-e<4)throw new Error(`${gt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function nte(t){Ms.setFloat64(0,t,!1)}function Tk(t,e){if(t.length-e<8)throw new Error(`${gt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}$1.compareTokens=xs.compareTokens;function nr(t,e,r){throw new Error(`${gt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function G1(t){return()=>{throw new Error(`${gt} ${t}`)}}var ze=[];for(let t=0;t<=23;t++)ze[t]=nr;ze[24]=jR;ze[25]=qR;ze[26]=NR;ze[27]=LR;ze[28]=nr;ze[29]=nr;ze[30]=nr;ze[31]=nr;for(let t=32;t<=55;t++)ze[t]=nr;ze[56]=UR;ze[57]=FR;ze[58]=zR;ze[59]=GR;ze[60]=nr;ze[61]=nr;ze[62]=nr;ze[63]=nr;for(let t=64;t<=87;t++)ze[t]=WR;ze[88]=KR;ze[89]=HR;ze[90]=VR;ze[91]=ZR;ze[92]=nr;ze[93]=nr;ze[94]=nr;ze[95]=G1("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)ze[t]=YR;ze[120]=JR;ze[121]=QR;ze[122]=XR;ze[123]=ek;ze[124]=nr;ze[125]=nr;ze[126]=nr;ze[127]=G1("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)ze[t]=rk;ze[152]=ik;ze[153]=nk;ze[154]=ok;ze[155]=sk;ze[156]=nr;ze[157]=nr;ze[158]=nr;ze[159]=ak;for(let t=160;t<=183;t++)ze[t]=fk;ze[184]=uk;ze[185]=ck;ze[186]=lk;ze[187]=dk;ze[188]=nr;ze[189]=nr;ze[190]=nr;ze[191]=hk;for(let t=192;t<=215;t++)ze[t]=pk;ze[216]=mk;ze[217]=yk;ze[218]=gk;ze[219]=vk;ze[220]=nr;ze[221]=nr;ze[222]=nr;ze[223]=nr;for(let t=224;t<=243;t++)ze[t]=G1("simple values are not supported");ze[244]=nr;ze[245]=nr;ze[246]=nr;ze[247]=bk;ze[248]=G1("simple values are not supported");ze[249]=_k;ze[250]=xk;ze[251]=Mk;ze[252]=nr;ze[253]=nr;ze[254]=nr;ze[255]=wk;var na=[];for(let t=0;t<24;t++)na[t]=new Ke(Ce.uint,t,1);for(let t=-1;t>=-24;t--)na[31-t]=new Ke(Ce.negint,t,1);na[64]=new Ke(Ce.bytes,new Uint8Array(0),1);na[96]=new Ke(Ce.string,"",1);na[128]=new Ke(Ce.array,0,1);na[160]=new Ke(Ce.map,0,1);na[244]=new Ke(Ce.false,!1,1);na[245]=new Ke(Ce.true,!0,1);na[246]=new Ke(Ce.null,null,1);function Pk(t){switch(t.type){case Ce.false:return Ha([244]);case Ce.true:return Ha([245]);case Ce.null:return Ha([246]);case Ce.bytes:return t.value.length?void 0:Ha([64]);case Ce.string:return t.value===""?Ha([96]):void 0;case Ce.array:return t.value===0?Ha([128]):void 0;case Ce.map:return t.value===0?Ha([160]):void 0;case Ce.uint:return t.value<24?Ha([Number(t.value)]):void 0;case Ce.negint:if(t.value>=-24)return Ha([31-Number(t.value)])}}var ste={float64:!1,mapSorter:ute,quickEncodeToken:Pk};function ate(){let t=[];return t[Ce.uint.major]=xs,t[Ce.negint.major]=N1,t[Ce.bytes.major]=f0,t[Ce.string.major]=tk,t[Ce.array.major]=U1,t[Ce.map.major]=F1,t[Ce.tag.major]=z1,t[Ce.float.major]=$1,t}var Rk=ate(),Fx=new ty,l0=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${jx} object contains circular references`);return new l0(r,e)}},fc={null:new Ke(Ce.null,null),undefined:new Ke(Ce.undefined,void 0),true:new Ke(Ce.true,!0),false:new Ke(Ce.false,!1),emptyArray:new Ke(Ce.array,0),emptyMap:new Ke(Ce.map,0)},uc={number(t,e,r,i){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Ke(Ce.float,t):t>=0?new Ke(Ce.uint,t):new Ke(Ce.negint,t)},bigint(t,e,r,i){return t>=BigInt(0)?new Ke(Ce.uint,t):new Ke(Ce.negint,t)},Uint8Array(t,e,r,i){return new Ke(Ce.bytes,t)},string(t,e,r,i){return new Ke(Ce.string,t)},boolean(t,e,r,i){return t?fc.true:fc.false},null(t,e,r,i){return fc.null},undefined(t,e,r,i){return fc.undefined},ArrayBuffer(t,e,r,i){return new Ke(Ce.bytes,new Uint8Array(t))},DataView(t,e,r,i){return new Ke(Ce.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,i){if(!t.length)return r.addBreakTokens===!0?[fc.emptyArray,new Ke(Ce.break)]:fc.emptyArray;i=l0.createCheck(i,t);let n=[],o=0;for(let s of t)n[o++]=W1(s,r,i);return r.addBreakTokens?[new Ke(Ce.array,t.length),n,new Ke(Ce.break)]:[new Ke(Ce.array,t.length),n]},Object(t,e,r,i){let n=e!=="Object",o=n?t.keys():Object.keys(t),s=n?t.size:o.length;if(!s)return r.addBreakTokens===!0?[fc.emptyMap,new Ke(Ce.break)]:fc.emptyMap;i=l0.createCheck(i,t);let d=[],p=0;for(let v of o)d[p++]=[W1(v,r,i),W1(n?t.get(v):t[v],r,i)];return fte(d,r),r.addBreakTokens?[new Ke(Ce.map,s),d,new Ke(Ce.break)]:[new Ke(Ce.map,s),d]}};uc.Map=uc.Object;uc.Buffer=uc.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))uc[`${t}Array`]=uc.DataView;function W1(t,e={},r){let i=TR(t),n=e&&e.typeEncoders&&e.typeEncoders[i]||uc[i];if(typeof n=="function"){let s=n(t,i,e,r);if(s!=null)return s}let o=uc[i];if(!o)throw new Error(`${jx} unsupported type: ${i}`);return o(t,i,e,r)}function fte(t,e){e.mapSorter&&t.sort(e.mapSorter)}function ute(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],i=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==i.type)return r.type.compare(i.type);let n=r.type.major,o=Rk[n].compareTokens(r,i);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function kk(t,e,r,i){if(Array.isArray(e))for(let n of e)kk(t,n,r,i);else r[e.type.major](t,e,i)}function cte(t,e,r){let i=W1(t,r);if(!Array.isArray(i)&&r.quickEncodeToken){let n=r.quickEncodeToken(i);if(n)return n;let o=e[i.type.major];if(o.encodedSize){let s=o.encodedSize(i,r),d=new ty(s);if(o(d,i,r),d.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return Ox(d.chunks[0])}}return Fx.reset(),kk(Fx,i,e,r),Fx.toBytes(!0)}function zx(t,e){return e=Object.assign({},ste,e),cte(t,Rk,e)}M();var lte={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},$x=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=na[e];if(r===void 0){let i=ze[e];if(!i)throw new Error(`${gt} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;r=i(this.data,this.pos,n,this.options)}return this.pos+=r.encodedLength,r}},oy=Symbol.for("DONE"),K1=Symbol.for("BREAK");function dte(t,e,r){let i=[];for(let n=0;n<t.value;n++){let o=sy(e,r);if(o===K1){if(t.value===1/0)break;throw new Error(`${gt} got unexpected break to lengthed array`)}if(o===oy)throw new Error(`${gt} found array but not enough entries (got ${n}, expected ${t.value})`);i[n]=o}return i}function hte(t,e,r){let i=r.useMaps===!0,n=i?void 0:{},o=i?new Map:void 0;for(let s=0;s<t.value;s++){let d=sy(e,r);if(d===K1){if(t.value===1/0)break;throw new Error(`${gt} got unexpected break to lengthed map`)}if(d===oy)throw new Error(`${gt} found map but not enough entries (got ${s} [no key], expected ${t.value})`);if(i!==!0&&typeof d!="string")throw new Error(`${gt} non-string keys not supported (got ${typeof d})`);if(r.rejectDuplicateMapKeys===!0&&(i&&o.has(d)||!i&&d in n))throw new Error(`${gt} found repeat map key "${d}"`);let p=sy(e,r);if(p===oy)throw new Error(`${gt} found map but not enough entries (got ${s} [no value], expected ${t.value})`);i?o.set(d,p):n[d]=p}return i?o:n}function sy(t,e){if(t.done())return oy;let r=t.next();if(r.type===Ce.break)return K1;if(r.type.terminal)return r.value;if(r.type===Ce.array)return dte(r,t,e);if(r.type===Ce.map)return hte(r,t,e);if(r.type===Ce.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let i=sy(t,e);return e.tags[r.value](i)}throw new Error(`${gt} tag not supported (${r.value})`)}throw new Error("unsupported")}function Gx(t,e){if(!(t instanceof Uint8Array))throw new Error(`${gt} data to decode must be a Uint8Array`);e=Object.assign({},lte,e);let r=e.tokenizer||new $x(t,e),i=sy(r,e);if(i===oy)throw new Error(`${gt} did not find any content to decode`);if(i===K1)throw new Error(`${gt} got unexpected break`);if(!r.done())throw new Error(`${gt} too many terminals, data makes no sense`);return i}M();M();M();var mte=Dk,Ik=128,yte=127,gte=~yte,vte=Math.pow(2,31);function Dk(t,e,r){e=e||[],r=r||0;for(var i=r;t>=vte;)e[r++]=t&255|Ik,t/=128;for(;t&gte;)e[r++]=t&255|Ik,t>>>=7;return e[r]=t|0,Dk.bytes=r-i+1,e}var bte=Wx,wte=128,Bk=127;function Wx(t,i){var r=0,i=i||0,n=0,o=i,s,d=t.length;do{if(o>=d)throw Wx.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&Bk)<<n:(s&Bk)*Math.pow(2,n),n+=7}while(s>=wte);return Wx.bytes=o-i,r}var _te=Math.pow(2,7),xte=Math.pow(2,14),Mte=Math.pow(2,21),Ete=Math.pow(2,28),Ste=Math.pow(2,35),Ate=Math.pow(2,42),Tte=Math.pow(2,49),Pte=Math.pow(2,56),Rte=Math.pow(2,63),kte=function(t){return t<_te?1:t<xte?2:t<Mte?3:t<Ete?4:t<Ste?5:t<Ate?6:t<Tte?7:t<Pte?8:t<Rte?9:10},Ite={encode:mte,decode:bte,encodingLength:kte},Bte=Ite,ay=Bte;var fy=(t,e=0)=>[ay.decode(t,e),ay.decode.bytes],d0=(t,e,r=0)=>(ay.encode(t,e,r),e),h0=t=>ay.encodingLength(t);M();M();var rSe=new Uint8Array(0);var Ok=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},p0=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var jk=(t,e)=>{let r=e.byteLength,i=h0(t),n=i+h0(r),o=new Uint8Array(n+r);return d0(t,o,0),d0(r,o,i),o.set(e,n),new m0(t,r,e,o)},qk=t=>{let e=p0(t),[r,i]=fy(e),[n,o]=fy(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new m0(r,n,s,e)},Nk=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Ok(t.bytes,r.bytes)}},m0=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};M();M();M();function Cte(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function x(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var P=0,B=0,I=0,C=S.length;I!==C&&S[I]===0;)I++,P++;for(var O=(C-I)*b+1>>>0,F=new Uint8Array(O);I!==C;){for(var q=S[I],G=0,$=O-1;(q!==0||G<B)&&$!==-1;$--,G++)q+=256*F[$]>>>0,F[$]=q%d>>>0,q=q/d>>>0;if(q!==0)throw new Error("Non-zero carry");B=G,I++}for(var N=O-B;N!==O&&F[N]===0;)N++;for(var K=p.repeat(P);N<O;++N)K+=t.charAt(F[N]);return K}function E(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var P=0;if(S[P]!==" "){for(var B=0,I=0;S[P]===p;)B++,P++;for(var C=(S.length-P)*v+1>>>0,O=new Uint8Array(C);S[P];){var F=r[S.charCodeAt(P)];if(F===255)return;for(var q=0,G=C-1;(F!==0||q<I)&&G!==-1;G--,q++)F+=d*O[G]>>>0,O[G]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");I=q,P++}if(S[P]!==" "){for(var $=C-I;$!==C&&O[$]===0;)$++;for(var N=new Uint8Array(B+(C-$)),K=B;$!==C;)N[K++]=O[$++];return N}}}function T(S){var P=E(S);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var Ote=Cte,jte=Ote,Lk=jte;M();var Kx=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Hx=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Uk(this,e)}},Vx=class{constructor(e){this.decoders=e}or(e){return Uk(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Uk=(t,e)=>new Vx({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Zx=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new Kx(e,r,i),this.decoder=new Hx(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Fk=({name:t,prefix:e,encode:r,decode:i})=>new Zx(t,e,r,i),Yx=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Lk(r,e);return Fk({prefix:t,name:e,encode:i,decode:o=>p0(n(o))})},qte=(t,e,r,i)=>{let n={};for(let b=0;b<e.length;++b)n[e[b]]=b;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let b=0;b<o;++b){let x=n[t[b]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,s[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return s},Nte=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],s+=8;s>r;)s-=r,o+=e[n&d>>s];if(s&&(o+=e[n&d<<r-s]),i)for(;o.length*r&7;)o+="=";return o},Va=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Fk({prefix:e,name:t,encode(n){return Nte(n,i,r)},decode(n){return qte(n,i,r,t)}});var eu=Yx({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ySe=Yx({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});M();var uy=Va({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wSe=Va({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_Se=Va({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xSe=Va({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),MSe=Va({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ESe=Va({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),SSe=Va({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ASe=Va({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),TSe=Va({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var zk=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return Ute(r,Jx(t),e||eu.encoder);default:return Fte(r,Jx(t),e||uy.encoder)}};var $k=new WeakMap,Jx=t=>{let e=$k.get(t);if(e==null){let r=new Map;return $k.set(t,r),r}return e},Ai=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==cy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==zte)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ai.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=jk(e,r);return Ai.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Ai.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&Nk(e.multihash,i.multihash)}toString(e){return zk(this,e)}toJSON(){return{"/":zk(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof Ai)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new Ai(i,n,o,s||Gk(i,n,o.bytes))}else if(r[$te]===!0){let{version:i,multihash:n,code:o}=r,s=qk(n);return Ai.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==cy)throw new Error(`Version 0 CID must use dag-pb (code: ${cy}) block encoding`);return new Ai(e,r,i,i.bytes)}case 1:{let n=Gk(e,r,i.bytes);return new Ai(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Ai.create(0,cy,e)}static createV1(e,r){return Ai.create(1,e,r)}static decode(e){let[r,i]=Ai.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Ai.inspectBytes(e),i=r.size-r.multihashSize,n=p0(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new m0(r.multihashCode,r.digestSize,o,n);return[r.version===0?Ai.createV0(s):Ai.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=fy(e.subarray(r));return r+=E,x},n=i(),o=cy;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,d=i(),p=i(),v=r+p,b=v-s;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:b,size:v}}static parse(e,r){let[i,n]=Lte(e,r),o=Ai.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Jx(o).set(i,e),o}},Lte=(t,e)=>{switch(t[0]){case"Q":{let r=e||eu;return[eu.prefix,r.decode(`${eu.prefix}${t}`)]}case eu.prefix:{let r=e||eu;return[eu.prefix,r.decode(t)]}case uy.prefix:{let r=e||uy;return[uy.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Ute=(t,e,r)=>{let{prefix:i}=r;if(i!==eu.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},Fte=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},cy=112,zte=18,Gk=(t,e,r)=>{let i=h0(t),n=i+h0(e),o=new Uint8Array(n+r.byteLength);return d0(t,o,0),d0(e,o,i),o.set(r,n),o},$te=Symbol.for("@ipld/js-cid/CID");var Wk=42;function Gte(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=Ai.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Ke(Ce.tag,Wk),new Ke(Ce.bytes,r)]}function Wte(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Kte(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Hte={float64:!0,typeEncoders:{Object:Gte,undefined:Wte,number:Kte}};function Vte(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ai.decode(t.subarray(1))}var Kk={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Kk.tags[Wk]=Vte;var Zte="dag-cbor",y0=113,Yte=t=>zx(t,Hte),Qx=t=>Gx(t,Kk);M();var Xx={};fn(Xx,{base58btc:()=>Jo,base58flickr:()=>Jte});M();var Jo=tc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Jte=tc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var eM={};fn(eM,{base32:()=>Es,base32hex:()=>tre,base32hexpad:()=>ire,base32hexpadupper:()=>nre,base32hexupper:()=>rre,base32pad:()=>Xte,base32padupper:()=>ere,base32upper:()=>Qte,base32z:()=>ore});M();var Es=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Qte=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Xte=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ere=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tre=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rre=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ire=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nre=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ore=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var Hk=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return are(r,tM(t),e||Jo.encoder);default:return fre(r,tM(t),e||Es.encoder)}};var Vk=new WeakMap,tM=t=>{let e=Vk.get(t);if(e==null){let r=new Map;return Vk.set(t,r),r}return e},nt=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==ly)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==ure)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return nt.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Nl(e,r);return nt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return nt.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&aR(e.multihash,i.multihash)}toString(e){return Hk(this,e)}toJSON(){return{"/":Hk(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof nt)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new nt(i,n,o,s||Zk(i,n,o.bytes))}else if(r[cre]===!0){let{version:i,multihash:n,code:o}=r,s=Xh(n);return nt.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==ly)throw new Error(`Version 0 CID must use dag-pb (code: ${ly}) block encoding`);return new nt(e,r,i,i.bytes)}case 1:{let n=Zk(e,r,i.bytes);return new nt(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return nt.create(0,ly,e)}static createV1(e,r){return nt.create(1,e,r)}static decode(e){let[r,i]=nt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=nt.inspectBytes(e),i=r.size-r.multihashSize,n=ra(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new Qh(r.multihashCode,r.digestSize,o,n);return[r.version===0?nt.createV0(s):nt.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=Zm(e.subarray(r));return r+=E,x},n=i(),o=ly;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,d=i(),p=i(),v=r+p,b=v-s;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:b,size:v}}static parse(e,r){let[i,n]=sre(e,r),o=nt.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return tM(o).set(i,e),o}},sre=(t,e)=>{switch(t[0]){case"Q":{let r=e||Jo;return[Jo.prefix,r.decode(`${Jo.prefix}${t}`)]}case Jo.prefix:{let r=e||Jo;return[Jo.prefix,r.decode(t)]}case Es.prefix:{let r=e||Es;return[Es.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},are=(t,e,r)=>{let{prefix:i}=r;if(i!==Jo.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},fre=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},ly=112,ure=18,Zk=(t,e,r)=>{let i=Jh(t),n=i+Jh(e),o=new Uint8Array(n+r.byteLength);return Yh(t,o,0),Yh(e,o,i),o.set(r,n),o},cre=Symbol.for("@ipld/js-cid/CID");M();var One=Yt(Ro(),1);M();M();M();function dre(t){return t[Symbol.asyncIterator]!=null}function hre(t,e=1){return e=Number(e),dre(t)?async function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for await(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}():function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}()}var dy=hre;async function*hy(t,e=1){for await(let r of dy(t,e)){let i=r.map(async n=>n().then(o=>({ok:!0,value:o}),o=>({ok:!1,err:o})));for(let n=0;n<i.length;n++){let o=await i[n];if(o.ok)yield o.value;else throw o.err}}}M();M();M();M();M();function zl(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function tu(t=0){return globalThis.Buffer?.alloc!=null?zl(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function $l(t=0){return globalThis.Buffer?.allocUnsafe!=null?zl(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function py(t,e){e==null&&(e=t.reduce((n,o)=>n+o.length,0));let r=$l(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return zl(r)}M();function Qk(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var eI=Symbol.for("@achingbrain/uint8arraylist");function Xk(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let i of t){let n=r+i.byteLength;if(e<n)return{buf:i,index:e-r};r=n}throw new RangeError("index is out of bounds")}function H1(t){return Boolean(t?.[eI])}var Za=class{constructor(...e){Object.defineProperty(this,eI,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let i of e)if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.push(i);else if(H1(i))r+=i.byteLength,this.bufs.push(...i.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let i of e.reverse())if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.unshift(i);else if(H1(i))r+=i.byteLength,this.bufs.unshift(...i.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=Xk(this.bufs,e);return r.buf[r.index]}set(e,r){let i=Xk(this.bufs,e);i.buf[i.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let i=0;i<e.length;i++)this.set(r+i,e[i]);else if(H1(e))for(let i=0;i<e.length;i++)this.set(r+i,e.get(i));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){let{bufs:i,length:n}=this._subList(e,r);return py(i,n)}subarray(e,r){let{bufs:i,length:n}=this._subList(e,r);return i.length===1?i[0]:py(i,n)}sublist(e,r){let{bufs:i,length:n}=this._subList(e,r),o=new Za;return o.length=n,o.bufs=i,o}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let i=[],n=0;for(let o=0;o<this.bufs.length;o++){let s=this.bufs[o],d=n,p=d+s.byteLength;if(n=p,e>=p)continue;let v=e>=d&&e<p,b=r>d&&r<=p;if(v&&b){if(e===d&&r===p){i.push(s);break}let x=e-d;i.push(s.subarray(x,x+(r-e)));break}if(v){if(e===0){i.push(s);continue}i.push(s.subarray(e-d));continue}if(b){if(r===p){i.push(s);break}i.push(s.subarray(0,r-d));break}i.push(s)}return{bufs:i,length:r-e}}indexOf(e,r=0){if(!H1(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let i=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let n=i.byteLength;if(n===0)throw new TypeError("search must be at least 1 byte long");let o=256,s=new Int32Array(o);for(let x=0;x<o;x++)s[x]=-1;for(let x=0;x<n;x++)s[i[x]]=x;let d=s,p=this.byteLength-i.byteLength,v=i.byteLength-1,b;for(let x=r;x<=p;x+=b){b=0;for(let E=v;E>=0;E--){let T=this.get(x+E);if(i[E]!==T){b=Math.max(1,E-d[T]);break}}if(b===0)return x}return-1}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let i=$l(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,r),this.write(i,e)}getInt16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,r)}setInt16(e,r,i){let n=tu(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,r,i),this.write(n,e)}getInt32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,r)}setInt32(e,r,i){let n=tu(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,r,i),this.write(n,e)}getBigInt64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,r)}setBigInt64(e,r,i){let n=tu(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,r,i),this.write(n,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let i=$l(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,r),this.write(i,e)}getUint16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,r)}setUint16(e,r,i){let n=tu(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,r,i),this.write(n,e)}getUint32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,r)}setUint32(e,r,i){let n=tu(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,r,i),this.write(n,e)}getBigUint64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,r)}setBigUint64(e,r,i){let n=tu(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,r,i),this.write(n,e)}getFloat32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,r)}setFloat32(e,r,i){let n=tu(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,r,i),this.write(n,e)}getFloat64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,r)}setFloat64(e,r,i){let n=tu(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,r,i),this.write(n,e)}equals(e){if(e==null||!(e instanceof Za)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!Qk(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let i=new Za;return i.bufs=e,r==null&&(r=e.reduce((n,o)=>n+o.byteLength,0)),i.length=r,i}};var pre=262144,tI=(t={})=>{let e=t.chunkSize??pre;return async function*(i){let n=new Za,o=0,s=!1;for await(let d of i)for(n.append(d),o+=d.length;o>=e;)if(yield n.slice(0,e),s=!0,e===n.length)n=new Za,o=0;else{let p=new Za;p.append(n.sublist(e)),n=p,o-=e}(!s||o>0)&&(yield n.subarray(0,o))}};M();var Gl={};fn(Gl,{code:()=>wy,createLink:()=>SI,createNode:()=>EI,decode:()=>iu,encode:()=>Xo,name:()=>eie,prepare:()=>Qo,validate:()=>lM});M();M();M();M();var mre=nI,rI=128,yre=127,gre=~yre,vre=Math.pow(2,31);function nI(t,e,r){e=e||[],r=r||0;for(var i=r;t>=vre;)e[r++]=t&255|rI,t/=128;for(;t&gre;)e[r++]=t&255|rI,t>>>=7;return e[r]=t|0,nI.bytes=r-i+1,e}var bre=rM,wre=128,iI=127;function rM(t,i){var r=0,i=i||0,n=0,o=i,s,d=t.length;do{if(o>=d)throw rM.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&iI)<<n:(s&iI)*Math.pow(2,n),n+=7}while(s>=wre);return rM.bytes=o-i,r}var _re=Math.pow(2,7),xre=Math.pow(2,14),Mre=Math.pow(2,21),Ere=Math.pow(2,28),Sre=Math.pow(2,35),Are=Math.pow(2,42),Tre=Math.pow(2,49),Pre=Math.pow(2,56),Rre=Math.pow(2,63),kre=function(t){return t<_re?1:t<xre?2:t<Mre?3:t<Ere?4:t<Sre?5:t<Are?6:t<Tre?7:t<Pre?8:t<Rre?9:10},Ire={encode:mre,decode:bre,encodingLength:kre},Bre=Ire,my=Bre;var yy=(t,e=0)=>[my.decode(t,e),my.decode.bytes],g0=(t,e,r=0)=>(my.encode(t,e,r),e),v0=t=>my.encodingLength(t);M();M();var kAe=new Uint8Array(0);var sI=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},b0=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var aI=(t,e)=>{let r=e.byteLength,i=v0(t),n=i+v0(r),o=new Uint8Array(n+r);return g0(t,o,0),g0(r,o,i),o.set(e,n),new w0(t,r,e,o)},fI=t=>{let e=b0(t),[r,i]=yy(e),[n,o]=yy(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new w0(r,n,s,e)},uI=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&sI(t.bytes,r.bytes)}},w0=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};M();M();M();function Cre(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function x(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var P=0,B=0,I=0,C=S.length;I!==C&&S[I]===0;)I++,P++;for(var O=(C-I)*b+1>>>0,F=new Uint8Array(O);I!==C;){for(var q=S[I],G=0,$=O-1;(q!==0||G<B)&&$!==-1;$--,G++)q+=256*F[$]>>>0,F[$]=q%d>>>0,q=q/d>>>0;if(q!==0)throw new Error("Non-zero carry");B=G,I++}for(var N=O-B;N!==O&&F[N]===0;)N++;for(var K=p.repeat(P);N<O;++N)K+=t.charAt(F[N]);return K}function E(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var P=0;if(S[P]!==" "){for(var B=0,I=0;S[P]===p;)B++,P++;for(var C=(S.length-P)*v+1>>>0,O=new Uint8Array(C);S[P];){var F=r[S.charCodeAt(P)];if(F===255)return;for(var q=0,G=C-1;(F!==0||q<I)&&G!==-1;G--,q++)F+=d*O[G]>>>0,O[G]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");I=q,P++}if(S[P]!==" "){for(var $=C-I;$!==C&&O[$]===0;)$++;for(var N=new Uint8Array(B+(C-$)),K=B;$!==C;)N[K++]=O[$++];return N}}}function T(S){var P=E(S);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var Ore=Cre,jre=Ore,cI=jre;M();var iM=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},nM=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return lI(this,e)}},oM=class{constructor(e){this.decoders=e}or(e){return lI(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},lI=(t,e)=>new oM({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),sM=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new iM(e,r,i),this.decoder=new nM(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},dI=({name:t,prefix:e,encode:r,decode:i})=>new sM(t,e,r,i),aM=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=cI(r,e);return dI({prefix:t,name:e,encode:i,decode:o=>b0(n(o))})},qre=(t,e,r,i)=>{let n={};for(let b=0;b<e.length;++b)n[e[b]]=b;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let b=0;b<o;++b){let x=n[t[b]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,s[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return s},Nre=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],s+=8;s>r;)s-=r,o+=e[n&d>>s];if(s&&(o+=e[n&d<<r-s]),i)for(;o.length*r&7;)o+="=";return o},Ya=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>dI({prefix:e,name:t,encode(n){return Nre(n,i,r)},decode(n){return qre(n,i,r,t)}});var ru=aM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),GAe=aM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});M();var gy=Ya({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),VAe=Ya({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ZAe=Ya({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),YAe=Ya({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),JAe=Ya({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),QAe=Ya({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),XAe=Ya({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eTe=Ya({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tTe=Ya({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var hI=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return Ure(r,fM(t),e||ru.encoder);default:return Fre(r,fM(t),e||gy.encoder)}};var pI=new WeakMap,fM=t=>{let e=pI.get(t);if(e==null){let r=new Map;return pI.set(t,r),r}return e},Yr=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==vy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==zre)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Yr.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=aI(e,r);return Yr.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Yr.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&uI(e.multihash,i.multihash)}toString(e){return hI(this,e)}toJSON(){return{"/":hI(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof Yr)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new Yr(i,n,o,s||mI(i,n,o.bytes))}else if(r[$re]===!0){let{version:i,multihash:n,code:o}=r,s=fI(n);return Yr.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==vy)throw new Error(`Version 0 CID must use dag-pb (code: ${vy}) block encoding`);return new Yr(e,r,i,i.bytes)}case 1:{let n=mI(e,r,i.bytes);return new Yr(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Yr.create(0,vy,e)}static createV1(e,r){return Yr.create(1,e,r)}static decode(e){let[r,i]=Yr.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Yr.inspectBytes(e),i=r.size-r.multihashSize,n=b0(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new w0(r.multihashCode,r.digestSize,o,n);return[r.version===0?Yr.createV0(s):Yr.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=yy(e.subarray(r));return r+=E,x},n=i(),o=vy;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,d=i(),p=i(),v=r+p,b=v-s;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:b,size:v}}static parse(e,r){let[i,n]=Lre(e,r),o=Yr.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return fM(o).set(i,e),o}},Lre=(t,e)=>{switch(t[0]){case"Q":{let r=e||ru;return[ru.prefix,r.decode(`${ru.prefix}${t}`)]}case ru.prefix:{let r=e||ru;return[ru.prefix,r.decode(t)]}case gy.prefix:{let r=e||gy;return[gy.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Ure=(t,e,r)=>{let{prefix:i}=r;if(i!==ru.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},Fre=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},vy=112,zre=18,mI=(t,e,r)=>{let i=v0(t),n=i+v0(e),o=new Uint8Array(n+r.byteLength);return g0(t,o,0),g0(e,o,i),o.set(r,n),o},$re=Symbol.for("@ipld/js-cid/CID");M();var Gre=new TextDecoder;function uM(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function V1(t,e){let r;[r,e]=uM(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function yI(t,e){let r;return[r,e]=uM(t,e),[r&7,r>>3,e]}function Wre(t){let e={},r=t.length,i=0;for(;i<r;){let n,o;if([n,o,i]=yI(t,i),o===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=V1(t,i)}else if(o===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,i]=V1(t,i),e.Name=Gre.decode(s)}else if(o===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=uM(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function gI(t){let e=t.length,r=0,i,n=!1,o;for(;r<e;){let d,p;if([d,p,r]=yI(t,r),d!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${d}`);if(p===1){if(o)throw new Error("protobuf: (PBNode) duplicate Data section");[o,r]=V1(t,r),i&&(n=!0)}else if(p===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let v;[v,r]=V1(t,r),i.push(Wre(v))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${p}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let s={};return o&&(s.Data=o),s.Links=i||[],s}M();var bI=new TextEncoder,vI=2**32,Kre=2**31;function Hre(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=by(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){let i=bI.encode(t.Name);r-=i.length,e.set(i,r),r=by(e,r,i.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=by(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function wI(t){let e=Zre(t),r=new Uint8Array(e),i=e;if(t.Data&&(i-=t.Data.length,r.set(t.Data,i),i=by(r,i,t.Data.length)-1,r[i]=10),t.Links)for(let n=t.Links.length-1;n>=0;n--){let o=Hre(t.Links[n],r.subarray(0,i));i-=o,i=by(r,i,o)-1,r[i]=18}return r}function Vre(t){let e=0;if(t.Hash){let r=t.Hash.length;e+=1+r+_0(r)}if(typeof t.Name=="string"){let r=bI.encode(t.Name).length;e+=1+r+_0(r)}return typeof t.Tsize=="number"&&(e+=1+_0(t.Tsize)),e}function Zre(t){let e=0;if(t.Data){let r=t.Data.length;e+=1+r+_0(r)}if(t.Links)for(let r of t.Links){let i=Vre(r);e+=1+i+_0(i)}return e}function by(t,e,r){e-=_0(r);let i=e;for(;r>=Kre;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,i}function _0(t){return t%2===0&&t++,Math.floor((Yre(t)+6)/7)}function Yre(t){let e=0;return t>=vI&&(t=Math.floor(t/vI),e=32),t>=1<<16&&(t>>>=16,e+=16),t>=1<<8&&(t>>>=8,e+=8),e+Jre[t]}var Jre=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];M();var Qre=["Data","Links"],Xre=["Hash","Name","Tsize"],cM=new TextEncoder;function xI(t,e){if(t===e)return 0;let r=t.Name?cM.encode(t.Name):[],i=e.Name?cM.encode(e.Name):[],n=r.length,o=i.length;for(let s=0,d=Math.min(n,o);s<d;++s)if(r[s]!==i[s]){n=r[s],o=i[s];break}return n<o?-1:o<n?1:0}function _I(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function MI(t){if(typeof t.asCID=="object"){let r=Yr.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Hash){let r=Yr.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=Yr.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=Yr.decode(t.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function Qo(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=cM.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(MI),e.Links.sort(xI);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function lM(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!_I(t,Qre))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){let r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!_I(r,Xre))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&xI(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function EI(t,e=[]){return Qo({Data:t,Links:e})}function SI(t,e,r){return MI({Hash:r,Name:t,Tsize:e})}var eie="dag-pb",wy=112;function Xo(t){lM(t);let e={};return t.Links&&(e.Links=t.Links.map(r=>{let i={};return r.Hash&&(i.Hash=r.Hash.bytes),r.Name!==void 0&&(i.Name=r.Name),r.Tsize!==void 0&&(i.Tsize=r.Tsize),i})),t.Data&&(e.Data=t.Data),wI(e)}function iu(t){let e=gI(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=Yr.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}M();var RM=Yt(Ro(),1);M();M();M();M();var EM=Yt(yM(),1),dB=Yt(nB(),1),hB=Yt(Kl(),1),SM=Yt(MM(),1),pB=Yt(lB(),1);function uie(){hB.default._configure(),EM.default._configure(dB.default),SM.default._configure(pB.default)}uie();var mB=["uint64","int64","sint64","fixed64","sfixed64"];function cie(t){for(let e of mB){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function AM(t){return cie(new EM.default(t))}function lie(t){for(let e of mB){if(t[e]==null)continue;let r=t[e];t[e]=function(i){return r.call(this,i.toString())}}return t}function TM(){return lie(SM.default.create())}function My(t,e){let r=AM(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}M();function Ey(t,e){let r=TM();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}M();M();var M0;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(M0||(M0={}));function X1(t,e,r,i){return{name:t,type:e,encode:r,decode:i}}function PM(t){function e(n){if(t[n.toString()]==null)throw new Error("Invalid enum value");return t[n]}let r=function(o,s){let d=e(o);s.int32(d)},i=function(o){let s=o.int32();return e(s)};return X1("enum",M0.VARINT,r,i)}M();function Sy(t,e){return X1("message",M0.LENGTH_DELIMITED,t,e)}var aa;(function(t){let e;(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(e=t.DataType||(t.DataType={}));let r;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(r||(r={})),function(n){n.codec=()=>PM(r)}(e=t.DataType||(t.DataType={}));let i;t.codec=()=>(i==null&&(i=Sy((n,o,s={})=>{if(s.lengthDelimited!==!1&&o.fork(),n.Type!=null&&(o.uint32(8),t.DataType.codec().encode(n.Type,o)),n.Data!=null&&(o.uint32(18),o.bytes(n.Data)),n.filesize!=null&&(o.uint32(24),o.uint64(n.filesize)),n.blocksizes!=null)for(let d of n.blocksizes)o.uint32(32),o.uint64(d);n.hashType!=null&&(o.uint32(40),o.uint64(n.hashType)),n.fanout!=null&&(o.uint32(48),o.uint64(n.fanout)),n.mode!=null&&(o.uint32(56),o.uint32(n.mode)),n.mtime!=null&&(o.uint32(66),eb.codec().encode(n.mtime,o)),s.lengthDelimited!==!1&&o.ldelim()},(n,o)=>{let s={blocksizes:[]},d=o==null?n.len:n.pos+o;for(;n.pos<d;){let p=n.uint32();switch(p>>>3){case 1:s.Type=t.DataType.codec().decode(n);break;case 2:s.Data=n.bytes();break;case 3:s.filesize=n.uint64();break;case 4:s.blocksizes.push(n.uint64());break;case 5:s.hashType=n.uint64();break;case 6:s.fanout=n.uint64();break;case 7:s.mode=n.uint32();break;case 8:s.mtime=eb.codec().decode(n,n.uint32());break;default:n.skipType(p&7);break}}return s})),i),t.encode=n=>Ey(n,t.codec()),t.decode=n=>My(n,t.codec())})(aa||(aa={}));var eb;(function(t){let e;t.codec=()=>(e==null&&(e=Sy((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.Seconds!=null&&(i.uint32(8),i.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(i.uint32(21),i.fixed32(r.FractionalNanoseconds)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:n.Seconds=r.int64();break;case 2:n.FractionalNanoseconds=r.fixed32();break;default:r.skipType(s&7);break}}return n})),e),t.encode=r=>Ey(r,t.codec()),t.decode=r=>My(r,t.codec())})(eb||(eb={}));var yB;(function(t){let e;t.codec=()=>(e==null&&(e=Sy((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.MimeType!=null&&(i.uint32(10),i.string(r.MimeType)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:n.MimeType=r.string();break;default:r.skipType(s&7);break}}return n})),e),t.encode=r=>Ey(r,t.codec()),t.decode=r=>My(r,t.codec())})(yB||(yB={}));var gB={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},die=["directory","hamt-sharded-directory"],vB=parseInt("0644",8),bB=parseInt("0755",8),Gi=class{static unmarshal(e){let r=aa.decode(e),i=new Gi({type:gB[r.Type!=null?r.Type.toString():"File"],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime!=null?{secs:r.mtime.Seconds??0n,nsecs:r.mtime.FractionalNanoseconds}:void 0});return i._originalMode=r.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){let{type:r,data:i,blockSizes:n,hashType:o,fanout:s,mtime:d,mode:p}=e;if(r!=null&&!Object.values(gB).includes(r))throw(0,RM.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r??"file",this.data=i,this.hashType=o,this.fanout=s,this.blockSizes=n??[],this._originalMode=0,this.mode=p,this.mtime=d}set mode(e){e==null?this._mode=this.isDirectory()?bB:vB:this._mode=e&4095}get mode(){return this._mode}isDirectory(){return die.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach(r=>{e+=r}),this.data!=null&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=aa.DataType.Raw;break;case"directory":e=aa.DataType.Directory;break;case"file":e=aa.DataType.File;break;case"metadata":e=aa.DataType.Metadata;break;case"symlink":e=aa.DataType.Symlink;break;case"hamt-sharded-directory":e=aa.DataType.HAMTShard;break;default:throw(0,RM.default)(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let r=this.data;(this.data==null||this.data.length===0)&&(r=void 0);let i;this.mode!=null&&(i=this._originalMode&4294963200|(this.mode??0),i===vB&&!this.isDirectory()&&(i=void 0),i===bB&&this.isDirectory()&&(i=void 0));let n;return this.mtime!=null&&(n={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),aa.encode({Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:n})}};var hc={};fn(hc,{code:()=>Xa,decode:()=>mie,encode:()=>pie,name:()=>hie});M();var hie="raw",Xa=85,pie=t=>ra(t),mie=t=>ra(t);M();var mi=class extends Event{constructor(e,r){super(e),this.detail=r}};M();var fa=async(t,e,r)=>{r.codec==null&&(r.codec=Gl);let i=await fo.digest(t),n=nt.create(r.cidVersion,r.codec.code,i);return await e.put(n,t,r),n};function wB(t){return async function*(r,i){let n=0n;for await(let o of r.content)yield async()=>{let s,d={codec:Gl,cidVersion:t.cidVersion,onProgress:t.onProgress};t.rawLeaves?(d.codec=hc,d.cidVersion=1):(s=new Gi({type:t.leafType,data:o}),o=Xo({Data:s.marshal(),Links:[]}));let p=await fa(o,i,d);return n+=BigInt(o.byteLength),t.onProgress?.(new mi("unixfs:importer:progress:file:write",{bytesWritten:n,cid:p,path:r.path})),{cid:p,unixfs:s,size:BigInt(o.length),block:o}}}}M();var kM=Yt(Ro(),1);M();var _B=async(t,e,r)=>{let i=new Gi({type:"directory",mtime:t.mtime,mode:t.mode}),n=Xo(Qo({Data:i.marshal()})),o=await fa(n,e,r),s=t.path;return{cid:o,path:s,unixfs:i,size:BigInt(n.length),originalPath:t.originalPath,block:n}};M();async function*yie(t,e,r){let i=-1,n;for await(let o of hy(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(i++,i===0){n={...o,single:!0};continue}else i===1&&n!=null&&(yield{...n,block:void 0,single:void 0},n=void 0);yield{...o,block:void 0}}n!=null&&(yield n)}function xB(t){return t.single===!0}var gie=(t,e,r)=>async function(n){if(n.length===1&&xB(n[0])&&r.reduceSingleLeafToSelf){let b=n[0],x=b.block;return xB(b)&&(t.mtime!==void 0||t.mode!==void 0)&&(b.unixfs=new Gi({type:"file",mtime:t.mtime,mode:t.mode,data:b.block}),x={Data:b.unixfs.marshal(),Links:[]},b.block=Xo(Qo(x)),b.cid=await fa(b.block,e,{...r,cidVersion:r.cidVersion}),b.size=BigInt(b.block.length)),r.onProgress?.(new mi("unixfs:importer:progress:file:layout",{cid:b.cid,path:b.originalPath})),{cid:b.cid,path:t.path,unixfs:b.unixfs,size:b.size,originalPath:b.originalPath}}let o=new Gi({type:"file",mtime:t.mtime,mode:t.mode}),s=n.filter(b=>b.cid.code===Xa&&b.size>0||b.unixfs!=null&&b.unixfs.data==null&&b.unixfs.fileSize()>0n?!0:Boolean(b.unixfs?.data?.length)).map(b=>b.cid.code===Xa?(o.addBlockSize(b.size),{Name:"",Tsize:Number(b.size),Hash:b.cid}):(b.unixfs==null||b.unixfs.data==null?o.addBlockSize(b.unixfs?.fileSize()??0n):o.addBlockSize(BigInt(b.unixfs.data.length)),{Name:"",Tsize:Number(b.size),Hash:b.cid})),d={Data:o.marshal(),Links:s},p=Xo(Qo(d)),v=await fa(p,e,r);return r.onProgress?.(new mi("unixfs:importer:progress:file:layout",{cid:v,path:t.originalPath})),{cid:v,path:t.path,unixfs:o,size:BigInt(p.length+d.Links.reduce((b,x)=>b+(x.Tsize??0),0)),originalPath:t.originalPath,block:p}},MB=async(t,e,r)=>r.layout(yie(t,e,r),gie(t,e,r));function vie(t){return Symbol.iterator in t}function bie(t){return Symbol.asyncIterator in t}function wie(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(vie(t))return async function*(){yield*t}();if(bie(t))return t}catch{throw(0,kM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,kM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function EB(t){return async function*(r,i){for await(let n of r){let o;if(n.path!=null&&(o=n.path,n.path=n.path.split("/").filter(s=>s!=null&&s!==".").join("/")),_ie(n)){let s={path:n.path,mtime:n.mtime,mode:n.mode,content:async function*(){let d=0n;for await(let p of t.chunker(t.chunkValidator(wie(n.content)))){let v=BigInt(p.byteLength);d+=v,t.onProgress?.(new mi("unixfs:importer:progress:file:read",{bytesRead:d,chunkSize:v,path:n.path})),yield p}}(),originalPath:o};yield async()=>MB(s,i,t)}else if(n.path!=null){let s={path:n.path,mtime:n.mtime,mode:n.mode,originalPath:o};yield async()=>_B(s,i,t)}else throw new Error("Import candidate must have content or path or both")}}}function _ie(t){return t.content!=null}M();var zM=Yt(Ro(),1);M();M();M();var IM={};fn(IM,{identity:()=>xie});M();var xie=Wh({prefix:"\0",name:"identity",encode:t=>MP(t),decode:t=>xP(t)});var BM={};fn(BM,{base2:()=>Mie});M();var Mie=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var DM={};fn(DM,{base8:()=>Eie});M();var Eie=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var CM={};fn(CM,{base10:()=>Sie});M();var Sie=tc({prefix:"9",name:"base10",alphabet:"0123456789"});var OM={};fn(OM,{base16:()=>Aie,base16upper:()=>Tie});M();var Aie=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Tie=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var jM={};fn(jM,{base36:()=>Pie,base36upper:()=>Rie});M();var Pie=tc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Rie=tc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var qM={};fn(qM,{base256emoji:()=>Cie});M();var SB=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),kie=SB.reduce((t,e,r)=>(t[r]=e,t),[]),Iie=SB.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Bie(t){return t.reduce((e,r)=>(e+=kie[r],e),"")}function Die(t){let e=[];for(let r of t){let i=Iie[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var Cie=Wh({prefix:"\u{1F680}",name:"base256emoji",encode:Bie,decode:Die});var LM={};fn(LM,{identity:()=>NM});M();var AB=0,Oie="identity",TB=ra,jie=t=>Nl(AB,TB(t)),NM={code:AB,name:Oie,encode:TB,digest:jie};M();var g9e=new TextEncoder,v9e=new TextDecoder;M();M();var UM={...IM,...BM,...DM,...CM,...OM,...eM,...jM,...Xx,...ox,...qM},A9e={...Ex,...LM};function RB(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var PB=RB("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),FM=RB("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=$l(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Nie={utf8:PB,"utf-8":PB,hex:UM.base16,latin1:FM,ascii:FM,binary:FM,...UM},kB=Nie;function tb(t,e="utf8"){let r=kB[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?zl(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var IB=()=>async function*(e){for await(let r of e){if(r.length===void 0)throw(0,zM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof r=="string"||r instanceof String)yield tb(r.toString());else if(Array.isArray(r))yield Uint8Array.from(r);else if(r instanceof Uint8Array)yield r;else throw(0,zM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}};M();M();var Lie=174;function $M(t){let e=t?.maxChildrenPerNode??Lie;return async function r(i,n){let o=[];for await(let s of dy(i,e))o.push(await n(s));return o.length>1?r(o,n):o[0]}}M();M();M();M();M();M();var ef=class{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,r){this.options=r??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}},Ay=nt.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),Ty=nt.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");var Vl=class extends ef{_children;constructor(e,r){super(e,r),this._children=new Map}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,r)}async get(e){return Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[e,r]of this._children.entries())yield{key:e,child:r}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(let[e,r]of this._children.entries())r.size!=null&&r.cid!=null&&(this.nodeSize+=e.length+(this.options.cidVersion===1?Ty.bytes.byteLength:Ay.bytes.byteLength));return this.nodeSize}async*flush(e){let r=[];for(let[p,v]of this._children.entries()){let b=v;if(v instanceof ef)for await(let x of v.flush(e))b=x,yield x;b.size!=null&&b.cid!=null&&r.push({Name:p,Tsize:Number(b.size),Hash:b.cid})}let i=new Gi({type:"directory",mtime:this.mtime,mode:this.mode}),n={Data:i.marshal(),Links:r},o=Xo(Qo(n)),s=await fa(o,e,this.options),d=o.length+n.Links.reduce((p,v)=>p+(v.Tsize==null?0:v.Tsize),0);this.cid=s,this.size=d,yield{cid:s,unixfs:i,path:this.path,size:BigInt(d)}}};M();M();M();M();M();M();M();var Uie=CB,BB=128,Fie=127,zie=~Fie,$ie=Math.pow(2,31);function CB(t,e,r){e=e||[],r=r||0;for(var i=r;t>=$ie;)e[r++]=t&255|BB,t/=128;for(;t&zie;)e[r++]=t&255|BB,t>>>=7;return e[r]=t|0,CB.bytes=r-i+1,e}var Gie=GM,Wie=128,DB=127;function GM(t,i){var r=0,i=i||0,n=0,o=i,s,d=t.length;do{if(o>=d)throw GM.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&DB)<<n:(s&DB)*Math.pow(2,n),n+=7}while(s>=Wie);return GM.bytes=o-i,r}var Kie=Math.pow(2,7),Hie=Math.pow(2,14),Vie=Math.pow(2,21),Zie=Math.pow(2,28),Yie=Math.pow(2,35),Jie=Math.pow(2,42),Qie=Math.pow(2,49),Xie=Math.pow(2,56),ene=Math.pow(2,63),tne=function(t){return t<Kie?1:t<Hie?2:t<Vie?3:t<Zie?4:t<Yie?5:t<Jie?6:t<Qie?7:t<Xie?8:t<ene?9:10},rne={encode:Uie,decode:Gie,encodingLength:tne},ine=rne,Py=ine;var Ry=(t,e=0)=>[Py.decode(t,e),Py.decode.bytes],E0=(t,e,r=0)=>(Py.encode(t,e,r),e),S0=t=>Py.encodingLength(t);M();var ky={};fn(ky,{coerce:()=>Zl,empty:()=>OB,equals:()=>KM,fromHex:()=>one,fromString:()=>ane,isBinary:()=>sne,toHex:()=>nne,toString:()=>fne});M();var OB=new Uint8Array(0),nne=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),one=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):OB},KM=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Zl=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},sne=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),ane=t=>new TextEncoder().encode(t),fne=t=>new TextDecoder().decode(t);var Iy=(t,e)=>{let r=e.byteLength,i=S0(t),n=i+S0(r),o=new Uint8Array(n+r);return E0(t,o,0),E0(r,o,i),o.set(e,n),new A0(t,r,e,o)},jB=t=>{let e=Zl(t),[r,i]=Ry(e),[n,o]=Ry(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new A0(r,n,s,e)},qB=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&KM(t.bytes,r.bytes)}},A0=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};M();M();M();function une(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var d=t.length,p=t.charAt(0),v=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function x(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var P=0,B=0,I=0,C=S.length;I!==C&&S[I]===0;)I++,P++;for(var O=(C-I)*b+1>>>0,F=new Uint8Array(O);I!==C;){for(var q=S[I],G=0,$=O-1;(q!==0||G<B)&&$!==-1;$--,G++)q+=256*F[$]>>>0,F[$]=q%d>>>0,q=q/d>>>0;if(q!==0)throw new Error("Non-zero carry");B=G,I++}for(var N=O-B;N!==O&&F[N]===0;)N++;for(var K=p.repeat(P);N<O;++N)K+=t.charAt(F[N]);return K}function E(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var P=0;if(S[P]!==" "){for(var B=0,I=0;S[P]===p;)B++,P++;for(var C=(S.length-P)*v+1>>>0,O=new Uint8Array(C);S[P];){var F=r[S.charCodeAt(P)];if(F===255)return;for(var q=0,G=C-1;(F!==0||q<I)&&G!==-1;G--,q++)F+=d*O[G]>>>0,O[G]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");I=q,P++}if(S[P]!==" "){for(var $=C-I;$!==C&&O[$]===0;)$++;for(var N=new Uint8Array(B+(C-$)),K=B;$!==C;)N[K++]=O[$++];return N}}}function T(S){var P=E(S);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:x,decodeUnsafe:E,decode:T}}var cne=une,lne=cne,NB=lne;M();var VM=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ZM=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return LB(this,e)}},YM=class{constructor(e){this.decoders=e}or(e){return LB(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},LB=(t,e)=>new YM({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),JM=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new VM(e,r,i),this.decoder=new ZM(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},UB=({name:t,prefix:e,encode:r,decode:i})=>new JM(t,e,r,i),QM=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=NB(r,e);return UB({prefix:t,name:e,encode:i,decode:o=>Zl(n(o))})},dne=(t,e,r,i)=>{let n={};for(let b=0;b<e.length;++b)n[e[b]]=b;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),d=0,p=0,v=0;for(let b=0;b<o;++b){let x=n[t[b]];if(x===void 0)throw new SyntaxError(`Non-${i} character`);p=p<<r|x,d+=r,d>=8&&(d-=8,s[v++]=255&p>>d)}if(d>=r||255&p<<8-d)throw new SyntaxError("Unexpected end of data");return s},hne=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,d=0;for(let p=0;p<t.length;++p)for(d=d<<8|t[p],s+=8;s>r;)s-=r,o+=e[n&d>>s];if(s&&(o+=e[n&d<<r-s]),i)for(;o.length*r&7;)o+="=";return o},tf=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>UB({prefix:e,name:t,encode(n){return hne(n,i,r)},decode(n){return dne(n,i,r,t)}});var nu=QM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kPe=QM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});M();var By=tf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),CPe=tf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),OPe=tf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jPe=tf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),qPe=tf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),NPe=tf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),LPe=tf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),UPe=tf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),FPe=tf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});M();var FB=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return mne(r,XM(t),e||nu.encoder);default:return yne(r,XM(t),e||By.encoder)}};var zB=new WeakMap,XM=t=>{let e=zB.get(t);if(e==null){let r=new Map;return zB.set(t,r),r}return e},Yi=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Dy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==gne)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Yi.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Iy(e,r);return Yi.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Yi.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&qB(e.multihash,i.multihash)}toString(e){return FB(this,e)}toJSON(){return{"/":FB(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof Yi)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new Yi(i,n,o,s||$B(i,n,o.bytes))}else if(r[vne]===!0){let{version:i,multihash:n,code:o}=r,s=jB(n);return Yi.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Dy)throw new Error(`Version 0 CID must use dag-pb (code: ${Dy}) block encoding`);return new Yi(e,r,i,i.bytes)}case 1:{let n=$B(e,r,i.bytes);return new Yi(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Yi.create(0,Dy,e)}static createV1(e,r){return Yi.create(1,e,r)}static decode(e){let[r,i]=Yi.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Yi.inspectBytes(e),i=r.size-r.multihashSize,n=Zl(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new A0(r.multihashCode,r.digestSize,o,n);return[r.version===0?Yi.createV0(s):Yi.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[x,E]=Ry(e.subarray(r));return r+=E,x},n=i(),o=Dy;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,d=i(),p=i(),v=r+p,b=v-s;return{version:n,codec:o,multihashCode:d,digestSize:p,multihashSize:b,size:v}}static parse(e,r){let[i,n]=pne(e,r),o=Yi.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return XM(o).set(i,e),o}},pne=(t,e)=>{switch(t[0]){case"Q":{let r=e||nu;return[nu.prefix,r.decode(`${nu.prefix}${t}`)]}case nu.prefix:{let r=e||nu;return[nu.prefix,r.decode(t)]}case By.prefix:{let r=e||By;return[By.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},mne=(t,e,r)=>{let{prefix:i}=r;if(i!==nu.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},yne=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},Dy=112,gne=18,$B=(t,e,r)=>{let i=S0(t),n=i+S0(e),o=new Uint8Array(n+r.byteLength);return E0(t,o,0),E0(e,o,i),o.set(r,n),o},vne=Symbol.for("@ipld/js-cid/CID");M();var rb=({name:t,code:e,encode:r})=>new e4(t,e,r),e4=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Iy(this.code,r):r.then(i=>Iy(this.code,i))}else throw Error("Unknown type, must be binary type")}};M();var nb=Yt(KB(),1);function wne(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var uRe=rb({name:"murmur3-32",code:35,encode:t=>wne(nb.default.x86.hash32(t))}),ob=rb({name:"murmur3-128",code:34,encode:t=>ky.fromHex(nb.default.x64.hash128(t))}),cRe=rb({name:"murmur3-x64-64",code:34,encode:t=>ky.fromHex(nb.default.x64.hash128(t)).subarray(0,8)});M();M();var YB=Yt(ZB(),1);var hn=class{constructor(e,r,i=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=i,this._children=new YB.default,this.key=null}async put(e,r){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,r)}async get(e){let r=await this._findChild(e);if(r!=null)return r.value}async del(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);i!=null&&i.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,i)=>i instanceof hn?r+i.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let r of e)r instanceof hn?yield*r.eachLeafSeries():yield r}serialize(e,r){let i=[];return r(this._children.reduce((n,o,s)=>(o!=null&&(o instanceof hn?n.push(o.serialize(e,r)):n.push(e(o,s))),n),i))}async asyncTransform(e,r){return await JB(this,e,r)}toJSON(){return this.serialize(Sne,Ane)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);if(!(i instanceof hn)&&i!=null&&i.key===e)return i}async _findPlace(e){let r=this._options.hash(typeof e=="string"?tb(e):e),i=await r.take(this._options.bits),n=this._children.get(i);return n instanceof hn?await n._findPlace(r):{bucket:this,pos:i,hash:r,existingChild:n}}async _findNewBucketAndPos(e){let r=await this._findPlace(e);if(r.existingChild!=null&&r.existingChild.key!==e){let i=new hn(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,i);let n=await i._findPlace(r.existingChild.hash);return n.bucket._putAt(n,r.existingChild.key,r.existingChild.value),await i._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,i){this._putObjectAt(e.pos,{key:r,value:i,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)==null&&this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)!=null&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(Ene);if(e!=null&&!(e instanceof hn)){let r=e.hash;r.untake(this._options.bits);let i={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function Ene(t){return Boolean(t)}function Sne(t,e){return t.key}function Ane(t){return t}async function JB(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof hn)await JB(n,e,r);else{let o=await e(n);i.push({bitField:t._children.bitField(),children:o})}return await r(i)}M();M();var Tne=[255,254,252,248,240,224,192,128],Pne=[1,3,7,15,31,63,127,255],sb=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,i=0;for(;r>0&&this._haveBits();){let n=this._value[this._currentBytePos],o=this._currentBitPos+1,s=Math.min(o,r),d=Rne(n,o-s,s);i=(i<<s)+d,r-=s,this._currentBitPos-=s,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function Rne(t,e,r){let i=kne(e,r);return(t&i)>>>e}function kne(t,e){return Tne[t]&Pne[Math.min(e+t-1,7)]}function QB(t){function e(r){return r instanceof ab?r:new ab(r,t)}return e}var ab=class{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let i=0;for(;r>0;){let n=this._buffers[this._currentBufferIndex],o=Math.min(n.availableBits(),r),s=n.take(o);i=(i<<o)+s,r-=o,this._availableBits-=o,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let r=e;for(;r>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),r);i.untake(n),r-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth>0?py([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),i=new sb(r);this._buffers.push(i),this._availableBits+=i.availableBits()}};function fb(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");let e={bits:t.bits??8,hash:QB(t.hashFn)};return new hn(e)}async function Ine(t){return(await ob.encode(t)).slice(0,8).reverse()}var XB=BigInt(34),t4=class extends ef{_bucket;constructor(e,r){super(e,r),this._bucket=fb({hashFn:Ine,bits:8})}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,r)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=rD(this._bucket,this,this.options),this.nodeSize)}async*flush(e){for await(let r of tD(this._bucket,e,this,this.options))yield{...r,path:this.path}}},eD=t4;async function*tD(t,e,r,i){let n=t._children,o=[],s=0n;for(let T=0;T<n.length;T++){let S=n.get(T);if(S==null)continue;let P=T.toString(16).toUpperCase().padStart(2,"0");if(S instanceof hn){let B;for await(let I of tD(S,e,null,i))B=I;if(B==null)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:P,Tsize:Number(B.size),Hash:B.cid}),s+=B.size}else if(Bne(S.value)){let B=S.value,I;for await(let O of B.flush(e))I=O,yield I;if(I==null)throw new Error("Did not flush dir");let C=P+S.key;o.push({Name:C,Tsize:Number(I.size),Hash:I.cid}),s+=I.size}else{let B=S.value;if(B.cid==null)continue;let I=P+S.key,C=B.size;o.push({Name:I,Tsize:Number(C),Hash:B.cid}),s+=BigInt(C??0)}}let d=Uint8Array.from(n.bitField().reverse()),p=new Gi({type:"hamt-sharded-directory",data:d,fanout:BigInt(t.tableSize()),hashType:XB,mtime:r?.mtime,mode:r?.mode}),v={Data:p.marshal(),Links:o},b=Xo(Qo(v)),x=await fa(b,e,i),E=BigInt(b.byteLength)+s;yield{cid:x,unixfs:p,size:E}}function Bne(t){return typeof t.flush=="function"}function rD(t,e,r){let i=t._children,n=[];for(let p=0;p<i.length;p++){let v=i.get(p);if(v==null)continue;let b=p.toString(16).toUpperCase().padStart(2,"0");if(v instanceof hn){let x=rD(v,null,r);n.push({Name:b,Tsize:Number(x),Hash:r.cidVersion===0?Ay:Ty})}else if(typeof v.value.flush=="function"){let E=v.value.nodeSize();n.push({Name:b+v.key,Tsize:Number(E),Hash:r.cidVersion===0?Ay:Ty})}else{let x=v.value;if(x.cid==null)continue;let E=b+v.key,T=x.size;n.push({Name:E,Tsize:Number(T),Hash:x.cid})}}let o=Uint8Array.from(i.bitField().reverse()),s=new Gi({type:"hamt-sharded-directory",data:o,fanout:BigInt(t.tableSize()),hashType:XB,mtime:e?.mtime,mode:e?.mode});return Xo(Qo({Data:s.marshal(),Links:n})).length}async function r4(t,e,r,i){let n=e;e instanceof Vl&&e.estimateNodeSize()>r&&(n=await Dne(e,i));let o=n.parent;if(o!=null){if(n!==e){if(t!=null&&(t.parent=n),n.parentKey==null)throw new Error("No parent key found");await o.put(n.parentKey,n)}return r4(n,o,r,i)}return n}async function Dne(t,e){let r=new eD({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(let{key:i,child:n}of t.eachChildSeries())await r.put(i,n);return r}M();var iD=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function Cne(t,e,r){let i=iD(t.path??""),n=i.length-1,o=e,s="";for(let d=0;d<i.length;d++){let p=i[d];s+=`${s!==""?"/":""}${p}`;let v=d===n;if(o.dirty=!0,o.cid=void 0,o.size=void 0,v)await o.put(p,t),e=await r4(null,o,r.shardSplitThresholdBytes,r);else{let b=await o.get(p);(b==null||!(b instanceof ef))&&(b=new Vl({root:!1,dir:!0,parent:o,parentKey:p,path:s,dirty:!0,flat:!0,mtime:b?.unixfs?.mtime,mode:b?.unixfs?.mode},r)),await o.put(p,b),o=b}}return e}async function*nD(t,e){if(!(t instanceof ef)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function oD(t){return async function*(r,i){let n=new Vl({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),o,s=!1;for await(let d of r){if(d==null)continue;let p=`${d.originalPath??""}`.split("/")[0];p!=null&&p!==""&&(o==null?(o=p,s=!0):o!==p&&(s=!1)),n=await Cne(d,n,t),(d.unixfs==null||!d.unixfs.isDirectory())&&(yield d)}if(t.wrapWithDirectory||s&&n.childCount()>1)yield*nD(n,i);else for await(let d of n.eachChildSeries())d!=null&&(yield*nD(d.child,i))}}async function*Oy(t,e,r={}){let i;Symbol.asyncIterator in t||Symbol.iterator in t?i=t:i=[t];let n=r.wrapWithDirectory??!1,o=r.shardSplitThresholdBytes??262144,s=r.cidVersion??1,d=r.rawLeaves??!0,p=r.leafType??"file",v=r.fileImportConcurrency??50,b=r.blockWriteConcurrency??10,x=r.reduceSingleLeafToSelf??!0,E=r.chunker??tI(),T=r.chunkValidator??IB(),S=r.dagBuilder??EB({chunker:E,chunkValidator:T,wrapWithDirectory:n,layout:r.layout??$M(),bufferImporter:r.bufferImporter??wB({cidVersion:s,rawLeaves:d,leafType:p,onProgress:r.onProgress}),blockWriteConcurrency:b,reduceSingleLeafToSelf:x,cidVersion:s,onProgress:r.onProgress}),P=r.treeBuilder??oD({wrapWithDirectory:n,shardSplitThresholdBytes:o,cidVersion:s,onProgress:r.onProgress});for await(let B of P(hy(S(i,e),v),e))yield{cid:B.cid,path:B.path,unixfs:B.unixfs,size:B.size}}M();var ub={};fn(ub,{abortedError:()=>zne,closeFailedError:()=>qne,deleteFailedError:()=>Une,getFailedError:()=>Lne,hasFailedError:()=>Fne,notFoundError:()=>i4,openFailedError:()=>jne,putFailedError:()=>Nne});M();var ou=Yt(Ro(),1);function jne(t){return t=t??new Error("Open failed"),(0,ou.default)(t,"ERR_OPEN_FAILED")}function qne(t){return t=t??new Error("Close failed"),(0,ou.default)(t,"ERR_CLOSE_FAILED")}function Nne(t){return t=t??new Error("Put failed"),(0,ou.default)(t,"ERR_PUT_FAILED")}function Lne(t){return t=t??new Error("Get failed"),(0,ou.default)(t,"ERR_GET_FAILED")}function Une(t){return t=t??new Error("Delete failed"),(0,ou.default)(t,"ERR_DELETE_FAILED")}function Fne(t){return t=t??new Error("Has failed"),(0,ou.default)(t,"ERR_HAS_FAILED")}function i4(t){return t=t??new Error("Not Found"),(0,ou.default)(t,"ERR_NOT_FOUND")}function zne(t){return t=t??new Error("Aborted"),(0,ou.default)(t,"ERR_ABORTED")}M();var jy=class{has(e,r){return Promise.reject(new Error(".has is not implemented"))}put(e,r,i){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,r){for await(let{cid:i,block:n}of e)await this.put(i,n,r),yield i}get(e,r){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async delete(e,r){await Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async*getAll(e){throw new Error(".getAll is not implemented")}};M();var T0=class extends jy{data;constructor(){super(),this.data=new Map}put(e,r){return this.data.set(Es.encode(e.multihash.bytes),r),e}get(e){let r=this.data.get(Es.encode(e.multihash.bytes));if(r==null)throw i4();return r}has(e){return this.data.has(Es.encode(e.multihash.bytes))}async delete(e){this.data.delete(Es.encode(e.multihash.bytes))}async*getAll(){for(let[e,r]of this.data.entries())yield{cid:nt.createV1(Xa,Xh(Es.decode(e))),block:r}}};var pke={...ub};var sD={[fo.code]:fo},aD={[y0]:cc},ai=class{static async computeCid(e,r=y0,i=fo.code){let n=aD[r];if(!n)throw new De("ComputeCidCodecNotSupported",`codec [${r}] not supported`);let o=sD[i];if(!o)throw new De("ComputeCidMultihashNotSupported",`multihash code [${i}] not supported`);let s=n.encode(e),d=await o.digest(s);return(await nt.createV1(n.code,d)).toString()}static parseCid(e){let r=nt.parse(e).toV1();if(!aD[r.code])throw new De("ParseCidCodecNotSupported",`codec [${r.code}] not supported`);if(!sD[r.multihash.code])throw new De("ParseCidMultihashNotSupported",`multihash code [${r.multihash.code}] not supported`);return r}static async computeDagPbCidFromBytes(e){let r=Oy([{content:e}],new T0,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}static async computeDagPbCidFromStream(e){let r=Oy([{content:e}],new T0,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}};M();var su=class{constructor(e){this.jws=e}static async create(e,r=[]){let i={payload:rt.bytesToBase64Url(e),signatures:[]},n=new su(i);for(let o of r)await n.addSignature(o);return n}async addSignature(e){let r={kid:e.keyId,alg:e.algorithm},i=JSON.stringify(r),n=rt.stringToBase64Url(i),o=`${n}.${this.jws.payload}`,s=rt.stringToBytes(o),d=await e.sign(s),p=rt.bytesToBase64Url(d);this.jws.signatures.push({protected:n,signature:p})}getJws(){return this.jws}};M();function fD(t,e){return t>e?1:t<e?-1:0}M();var pD=Yt(hD(),1);function mD(t){let e=pD.default.flatten(t);return yD(e),e}function $ne(t){if(typeof t!="object")return!1;for(let e in t)return!1;return!0}function yD(t){Object.keys(t).forEach(e=>{typeof t[e]=="object"&&yD(t[e]),$ne(t[e])&&delete t[e]})}function pn(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&pn(t[e])})}var qe=class{static validateJsonSchema(e){let r=e.descriptor.interface,i=e.descriptor.method,n=r+i;ey(n,e)}static getSigner(e){return e.authorization===void 0?void 0:hr.getSignerDid(e.authorization.signature.signatures[0])}static async getCid(e){let r={...e};return r.encodedData&&delete r.encodedData,await ai.computeCid(r)}static async compareCid(e,r){let i=await qe.getCid(e),n=await qe.getCid(r);return fD(i,n)}static async createAuthorization(e){let{descriptor:r,signer:i,delegatedGrant:n,permissionsGrantId:o,protocolRole:s}=e,d;n!==void 0&&(d=await qe.getCid(n));let v={signature:await qe.createSignature(r,i,{delegatedGrantId:d,permissionsGrantId:o,protocolRole:s})};return n!==void 0&&(v.authorDelegatedGrant=n),v}static async createSignature(e,r,i){let o={descriptorCid:await ai.computeCid(e),...i};pn(o);let s=rt.objectToBytes(o);return(await su.create(s,[r])).getJws()}static async getNewestMessage(e){let r;for(let i of e)(r===void 0||await qe.isNewer(i,r))&&(r=i);return r}static async getOldestMessage(e){let r;for(let i of e)(r===void 0||await qe.isOlder(i,r))&&(r=i);return r}static async isNewer(e,r){return await qe.compareMessageTimestamp(e,r)>0}static async isOlder(e,r){return await qe.compareMessageTimestamp(e,r)<0}static async compareMessageTimestamp(e,r){return e.descriptor.messageTimestamp>r.descriptor.messageTimestamp?1:e.descriptor.messageTimestamp<r.descriptor.messageTimestamp?-1:qe.compareCid(e,r)}static async validateMessageSignatureIntegrity(e,r,i="GenericSignaturePayload"){if(e.signatures.length!==1)throw new De("AuthenticationMoreThanOneSignatureNotSupported","expected no more than 1 signature for authorization purpose");let n=hr.decodePlainObjectPayload(e);ey(i,n);let{descriptorCid:o}=n,s=await ai.computeCid(r);if(o!==s)throw new De("AuthenticateDescriptorCidMismatch",`provided descriptorCid ${o} does not match expected CID ${s}`);return n}};var yi=class{get message(){return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(e){this._message=e,e.authorization!==void 0&&(e.authorization.authorDelegatedGrant!==void 0?this._author=qe.getSigner(e.authorization.authorDelegatedGrant):this._author=qe.getSigner(e),this._signaturePayload=hr.decodePlainObjectPayload(e.authorization.signature))}toJSON(){return this.message}};M();M();var U=Yt(gD(),1),d4={};function df(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,r,i))}for(let r of Object.getOwnPropertyNames(t.prototype)){let i=Object.getOwnPropertyDescriptor(t.prototype,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t.prototype,r,i))}Lr(e,t),Lr(`${e}.prototype`,t.prototype)}function Lr(t,e){let r=`%${t}%`;if(d4[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);d4[r]=e}function Ne(t){return d4[t]}var vD,bD,Je="slot-epochNanoSeconds",nf="slot-timezone-identifier",Ue="slot-year",Fe="slot-month",$e="slot-day",at="slot-hour",ft="slot-minute",ut="slot-second",ct="slot-millisecond",lt="slot-microsecond",dt="slot-nanosecond",ee="slot-calendar",eC="slot-date-brand",tC="slot-year-month-brand",rC="slot-month-day-brand",gn="slot-cached-instant",Ht="slot-time-zone",kn="slot-years",Wi="slot-months",Zn="slot-weeks",In="slot-days",Bn="slot-hours",Dn="slot-minutes",Cn="slot-seconds",On="slot-milliseconds",jn="slot-microseconds",qn="slot-nanoseconds",Nr="slot-calendar-identifier",iC=new WeakMap,h4=Symbol.for("@@Temporal__GetSlots");(vD=globalThis)[h4]||(vD[h4]=function(e){return iC.get(e)});var z4=globalThis[h4],p4=Symbol.for("@@Temporal__CreateSlots");(bD=globalThis)[p4]||(bD[p4]=function(e){iC.set(e,Object.create(null))});var hf=globalThis[p4];function ki(t,...e){if(!t||typeof t!="object")return!1;let r=z4(t);return!!r&&e.every(i=>i in r)}function k(t,e){let r=z4(t)?.[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function ht(t,e,r){let i=z4(t);if(i===void 0)throw new TypeError("Missing slots for the given container");if(i[e])throw new TypeError(`${e} already has set`);i[e]=r}var wD=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Yy=new RegExp("(?:"+[`(?:${wD.source})(?:\\/(?:${wD.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),nC=/(?:[+\u2212-]\d{6}|\d{4})/,mb=/(?:0[1-9]|1[0-2])/,m4=/(?:0[1-9]|[12]\d|3[01])/,Gne=new RegExp(`(${nC.source})(?:-(${mb.source})-(${m4.source})|(${mb.source})(${m4.source}))`),oC=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,sC=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,aC=new RegExp(`([zZ])|${sC.source}?`),Mc=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,Wne=new RegExp([`^${Gne.source}`,`(?:(?:T|\\s+)${oC.source}(?:${aC.source})?)?`,`(?:\\[!?(${Yy.source})\\])?`,`((?:${Mc.source})*)$`].join(""),"i"),Kne=new RegExp([`^T?${oC.source}`,`(?:${aC.source})?`,`(?:\\[!?${Yy.source}\\])?`,`((?:${Mc.source})*)$`].join(""),"i"),Hne=new RegExp(`^(${nC.source})-?(${mb.source})(?:\\[!?${Yy.source}\\])?((?:${Mc.source})*)$`),Vne=new RegExp(`^(?:--)?(${mb.source})-?(${m4.source})(?:\\[!?${Yy.source}\\])?((?:${Mc.source})*)$`),s4=/(\d+)(?:[.,](\d{1,9}))?/,Zne=new RegExp(`(?:${s4.source}H)?(?:${s4.source}M)?(?:${s4.source}S)?`),Yne=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Zne.source})?$`,"i"),Jne=Array.prototype.includes,fC=Array.prototype.push,uC=globalThis.Intl.DateTimeFormat,Qne=Math.min,Xne=Math.max,ur=Math.abs,mo=Math.floor,N0=Math.sign,Ql=Math.trunc,Ib=Number.isNaN,Nn=Number.isFinite,eoe=Number,Jy=String,toe=Number.MAX_SAFE_INTEGER,bn=Object.create,roe=Object.getOwnPropertyDescriptor,Bb=Reflect.apply,ioe=Reflect.ownKeys,Kr=U.default.BigInt(0),H0=U.default.BigInt(1),sf=U.default.BigInt(60),cC=U.default.BigInt(24),jt=U.default.BigInt(1e3),is=U.default.BigInt(1e6),af=U.default.BigInt(1e9),noe=U.default.BigInt(-1),lC=U.default.multiply(U.default.BigInt(3600),af),dC=U.default.multiply(sf,af),uf=U.default.multiply(lC,cC),zy=U.default.multiply(U.default.BigInt(-86400),U.default.BigInt(1e17)),L0=U.default.multiply(U.default.BigInt(86400),U.default.BigInt(1e17)),yb=-271821,gb=275760,I0=U.default.multiply(U.default.BigInt(-388152),U.default.BigInt(1e13)),ooe=U.default.multiply(uf,U.default.BigInt(3660)),hC=U.default.multiply(uf,U.default.BigInt(366)),pC=U.default.multiply(uf,U.default.BigInt(14)),soe=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function ts(t){return U.default.equal(t,Kr)}function Ft(t,e){let r=t[e];if(r!==void 0)return r}function Ve(t,e,r){let i=arguments.length>2?r:[];return Bb(t,e,i)}function cr(t){return typeof t=="object"&&t!==null||typeof t=="function"}function U0(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return eoe(t)}function fi(t){let e=U0(t);if(Ib(e)||e===0)return 0;if(!Nn(e))return e;let r=mo(ur(e));return r===0?0:N0(e)*r}function Bo(t){if(typeof t!="number"||Ib(t)||!Nn(t))return!1;let e=ur(t);return mo(e)===e}function Un(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Jy(t)}function Bt(t){let e=U0(t);if(e===0)return 0;if(Ib(e)||!Nn(e))throw new RangeError("invalid number value");let r=Ql(e);return r===0?0:r}function _D(t,e){let r=Bt(t);if(r<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function Ri(t){let e=U0(t);if(!Nn(e))throw new RangeError("infinity is out of range");if(!Bo(e))throw new RangeError(`unsupported fractional value ${t}`);return e===0?0:e}function Qr(t,e){return{quotient:U.default.divide(t,e),remainder:U.default.remainder(t,e)}}function vb(t){return U.default.lessThan(t,Kr)}function xD(t){return ts(t)?0:vb(t)?-1:1}function ua(t){return U.default.lessThan(t,Kr)?U.default.multiply(t,noe):t}var MD=new Map([["year",Bt],["month",_D],["monthCode",Un],["day",_D],["hour",Bt],["minute",Bt],["second",Bt],["millisecond",Bt],["microsecond",Bt],["nanosecond",Bt],["years",Ri],["months",Ri],["weeks",Ri],["days",Ri],["hours",Ri],["minutes",Ri],["seconds",Ri],["milliseconds",Ri],["microseconds",Ri],["nanoseconds",Ri],["era",Un],["eraYear",fi],["offset",Un]]),aoe=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Qy=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],bb=new Map(Qy.map(t=>[t[0],t[1]])),foe=new Map(Qy.map(([t,e])=>[e,t])),ED=Qy.map(([,t])=>t),SD=Array.from(bb.keys()).sort(),AD=new Map;function mC(t){let e=AD.get(t);return e===void 0&&(e=new uC("en-us",{timeZone:Jy(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),AD.set(t,e)),e}function TD(t){if(t==null)throw new TypeError(`Expected object not ${t}`);return Object(t)}function B0(t,e,r,i){if(e==null)return;let n=ioe(e);for(let o of n)if(!r.some(s=>Object.is(s,o))&&Object.prototype.propertyIsEnumerable.call(e,o)){let s=e[o];if(i&&i.some(d=>Object.is(d,s)))continue;t[o]=s}}function gi(t){return ki(t,Je)&&!ki(t,Ht,ee)}function es(t){return ki(t,nf)}function $r(t){return ki(t,Nr)}function Gr(t){return ki(t,kn,Wi,In,Bn,Dn,Cn,On,jn,qn)}function wt(t){return ki(t,eC)}function Wr(t){return ki(t,at,ft,ut,ct,lt,dt)&&!ki(t,Ue,Fe,$e)}function ot(t){return ki(t,Ue,Fe,$e,at,ft,ut,ct,lt,dt)}function Ot(t){return ki(t,tC)}function Pi(t){return ki(t,rC)}function Ge(t){return ki(t,Je,Ht,ee)}function V0(t){if(ki(t,ee)||ki(t,Ht))throw new TypeError("with() does not support a calendar or timeZone property");if(Wr(t))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function uoe(t){let{ianaName:e,offset:r,z:i}=function(o){if(new RegExp(`^${Yy.source}$`,"i").test(o))return{ianaName:o};try{let s=pf(o);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${o}`)}(t);return e?X4(e):i?"UTC":Gb(gc(r))}function $4(t,e){return e==="never"?"":G4(en(t),e)}function G4(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${t}]`}function pf(t){let e=Wne.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]==="\u2212"&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);let i=fi(r),n=fi(e[2]||e[4]),o=fi(e[3]||e[5]),s=fi(e[6]),d=e[6]!==void 0,p=fi(e[7]||e[10]),v=fi(e[8]||e[11]);v===60&&(v=59);let b=(e[9]||e[12])+"000000000",x=fi(b.slice(0,3)),E=fi(b.slice(3,6)),T=fi(b.slice(6,9)),S,P=!1;if(e[13])S=void 0,P=!0;else if(e[14]&&e[15]){let O=e[14]==="-"||e[14]==="\u2212"?"-":"+",F=e[15]||"00",q=e[16]||"00",G=e[17]||"00",$=e[18]||"0";if(S=`${O}${F}:${q}`,+$){for(;$.endsWith("0");)$=$.slice(0,-1);S+=`:${G}.${$}`}else+G&&(S+=`:${G}`);S==="-00:00"&&(S="+00:00")}let B=e[19],I=e[20],C;for(let[,O,F,q]of I.matchAll(Mc))if(F==="u-ca")C===void 0&&(C=q);else if(O==="!")throw new RangeError(`Unrecognized annotation: !${F}=${q}`);return r8(i,n,o,s,p,v,x,E,T),{year:i,month:n,day:o,hasTime:d,hour:s,minute:p,second:v,millisecond:x,microsecond:E,nanosecond:T,ianaName:B,offset:S,z:P,calendar:C}}function W4(t){let e=Hne.exec(t),r,i,n,o;if(e){let s=e[1];if(s[0]==="\u2212"&&(s=`-${s.slice(1)}`),s==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=fi(s),i=fi(e[2]);let d=e[3];for(let[,p,v,b]of d.matchAll(Mc))if(v==="u-ca")n===void 0&&(n=b);else if(p==="!")throw new RangeError(`Unrecognized annotation: !${v}=${b}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let s;if({year:r,month:i,calendar:n,day:o,z:s}=pf(t),s)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:o}}function K4(t){let e=Vne.exec(t),r,i,n,o;if(e){r=fi(e[1]),i=fi(e[2]);let s=e[3];for(let[,d,p,v]of s.matchAll(Mc))if(p==="u-ca")n===void 0&&(n=v);else if(d==="!")throw new RangeError(`Unrecognized annotation: !${p}=${v}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let s;if({month:r,day:i,calendar:n,year:o,z:s}=pf(t),s)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:o}}function coe(t){let{year:e,month:r,day:i,hour:n,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:v,offset:b,z:x}=function(P){let B=pf(P);if(!B.z&&!B.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return B}(t);if(!x&&!b)throw new RangeError("Temporal.Instant requires a time zone offset");let E=x?0:gc(b);({year:e,month:r,day:i,hour:n,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:v}=e8(e,r,i,n,o,s,d,p,v-E));let T=vc(e,r,i,n,o,s,d,p,v);if(T===null)throw new RangeError("DateTime outside of supported range");return T}function wb(t,e,r,i){let n=t,o=e,s=r;switch(i){case"reject":cf(n,o,s);break;case"constrain":({year:n,month:o,day:s}=BC(n,o,s))}return{year:n,month:o,day:s}}function Db(t,e,r,i,n,o,s){let d=t,p=e,v=r,b=i,x=n,E=o;switch(s){case"reject":Kb(d,p,v,b,x,E);break;case"constrain":({hour:d,minute:p,second:v,millisecond:b,microsecond:x,nanosecond:E}=function(S,P,B,I,C,O){let F=po(S,0,23),q=po(P,0,59),G=po(B,0,59),$=po(I,0,999),N=po(C,0,999),K=po(O,0,999);return{hour:F,minute:q,second:G,millisecond:$,microsecond:N,nanosecond:K}}(d,p,v,b,x,E))}return{hour:d,minute:p,second:v,millisecond:b,microsecond:x,nanosecond:E}}function ld(t){if(!cr(t))return function(S){let P=Yne.exec(S);if(!P)throw new RangeError(`invalid duration: ${S}`);if(P.slice(2).every(w=>w===void 0))throw new RangeError(`invalid duration: ${S}`);let B=P[1]==="-"||P[1]==="\u2212"?-1:1,I=P[2]===void 0?0:Bt(P[2])*B,C=P[3]===void 0?0:Bt(P[3])*B,O=P[4]===void 0?0:Bt(P[4])*B,F=P[5]===void 0?0:Bt(P[5])*B,q=P[6]===void 0?0:Bt(P[6])*B,G=P[7],$=P[8],N=P[9],K=P[10],_=P[11],a=0,u=0,h=0;if(G!==void 0){if($??N??K??_)throw new RangeError("only the smallest unit can be fractional");h=3600*fi((G+"000000000").slice(0,9))*B}else if(a=$===void 0?0:Bt($)*B,N!==void 0){if(K??_)throw new RangeError("only the smallest unit can be fractional");h=60*fi((N+"000000000").slice(0,9))*B}else u=K===void 0?0:Bt(K)*B,_!==void 0&&(h=fi((_+"000000000").slice(0,9))*B);let c=h%1e3,l=Ql(h/1e3)%1e3,g=Ql(h/1e6)%1e3;return u+=Ql(h/1e9)%60,a+=Ql(h/6e10),Ab(I,C,O,F,q,a,u,g,l,c),{years:I,months:C,weeks:O,days:F,hours:q,minutes:a,seconds:u,milliseconds:g,microseconds:l,nanoseconds:c}}(Un(t));if(Gr(t))return{years:k(t,kn),months:k(t,Wi),weeks:k(t,Zn),days:k(t,In),hours:k(t,Bn),minutes:k(t,Dn),seconds:k(t,Cn),milliseconds:k(t,On),microseconds:k(t,jn),nanoseconds:k(t,qn)};let e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(S){if(!cr(S))throw new TypeError("invalid duration-like");let P={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},B=!1;for(let I of SD){let C=S[I];C!==void 0&&(B=!0,P[I]=Ri(C))}if(!B)throw new TypeError("invalid duration-like");return P}(t);for(let T of SD){let S=r[T];S!==void 0&&(e[T]=S)}let{years:i,months:n,weeks:o,days:s,hours:d,minutes:p,seconds:v,milliseconds:b,microseconds:x,nanoseconds:E}=e;return Ab(i,n,o,s,d,p,v,b,x,E),{years:i,months:n,weeks:o,days:s,hours:d,minutes:p,seconds:v,milliseconds:b,microseconds:x,nanoseconds:E}}function Xr(t){return t===void 0?"constrain":wc(t,"overflow",["constrain","reject"],"constrain")}function F0(t){return t===void 0?"compatible":wc(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function la(t,e){return wc(t,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function _b(t,e){return t===void 0?e:wc(t,"offset",["prefer","use","ignore","reject"],e)}function Xy(t){return wc(t,"calendarName",["auto","always","never","critical"],"auto")}function Z0(t){let e=t.roundingIncrement;if(e===void 0)return 1;if(e=U0(e),!Nn(e))throw new RangeError("roundingIncrement must be finite");let r=Ql(e);if(r<1||r>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return r}function Y0(t,e,r){let i=r?e:e-1;if(t>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${t}`);if(e%t!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function eg(t){let e=t.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(Un(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}let r=mo(e);if(!Nn(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return r}function tg(t,e){switch(t){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}var id=Symbol("~required~");function yo(t,e,r,i,n=[]){let o=[];for(let[,v,b]of Qy)r!=="datetime"&&r!==b||o.push(v);o.push(...n);let s=i;s===id?s=void 0:s!==void 0&&o.push(s);let d=[...o];for(let v of o){let b=foe.get(v);b!==void 0&&d.push(b)}let p=wc(t,e,d,s);if(p===void 0&&i===id)throw new RangeError(`${e} is required`);return bb.has(p)?bb.get(p):p}function lb(t){let e=t.relativeTo;if(e===void 0)return e;let r,i,n,o,s,d,p,v,b,x,E,T,S="option",P=!1;if(cr(e)){if(Ge(e)||wt(e))return e;if(ot(e))return $0(e);x=og(e);let B=ui(x,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);B.push("timeZone","offset");let I=pt(e,B,[]),C=bn(null);C.overflow="constrain",{year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v,nanosecond:b}=rg(x,I,C),T=I.offset,T===void 0&&(S="wall"),E=I.timeZone,E!==void 0&&(E=vn(E))}else{let B,I;if({year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v,nanosecond:b,calendar:x,ianaName:B,offset:T,z:I}=pf(Un(e)),B)E=vn(B),I?S="exact":T||(S="wall"),P=!0;else if(I)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(x||(x="iso8601"),!mu(x))throw new RangeError(`invalid calendar identifier ${x}`);x=lf(x)}return E===void 0?os(r,i,n,x):Ji(Mb(r,i,n,o,s,d,p,v,b,S,S==="option"?gc(T):0,E,"compatible","reject",P),E,x)}function y4(t,e,r,i,n,o,s,d,p,v){for(let[b,x]of[["years",t],["months",e],["weeks",r],["days",i],["hours",n],["minutes",o],["seconds",s],["milliseconds",d],["microseconds",p],["nanoseconds",v]])if(x!==0)return bb.get(b);return"nanosecond"}function nd(t,e){return ED.indexOf(t)>ED.indexOf(e)?e:t}function pt(t,e,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){let n=bn(null),o=!1;e.sort();for(let s of e){let d=t[s];if(d!==void 0)o=!0,MD.has(s)&&(d=MD.get(s)(d)),n[s]=d;else if(r!=="partial"){if(Jne.call(r,s))throw new TypeError(`required property '${s}' missing or undefined`);d=aoe.get(s),n[s]=d}}if(r==="partial"&&!o)throw new TypeError(i);return n}function xb(t,e="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=pt(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(let o of r){let s=roe(i,o);s!==void 0?n[o]=s.value:e==="complete"&&(n[o]=0)}return n}function Qt(t,e){let r=t;if(cr(r)){if(wt(r))return r;if(Ge(r)&&(Xr(e),r=Io(k(r,Ht),k(r,gn),k(r,ee))),ot(r))return Xr(e),os(k(r,Ue),k(r,Fe),k(r,$e),k(r,ee));let p=og(r);return hu(p,pt(r,ui(p,["day","month","monthCode","year"]),[]),e)}Xr(e);let{year:i,month:n,day:o,calendar:s,z:d}=function(v){return pf(v)}(Un(r));if(d)throw new RangeError("Z designator not supported for PlainDate");if(s||(s="iso8601"),!mu(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=lf(s),os(i,n,o,s)}function rg(t,e,r){let{hour:i,minute:n,second:o,millisecond:s,microsecond:d,nanosecond:p}=xb(e),v=Xr(r),b=hu(t,e,r),x=k(b,Ue),E=k(b,Fe),T=k(b,$e);return{hour:i,minute:n,second:o,millisecond:s,microsecond:d,nanosecond:p}=Db(i,n,o,s,d,p,v),{year:x,month:E,day:T,hour:i,minute:n,second:o,millisecond:s,microsecond:d,nanosecond:p}}function Xl(t,e){let r,i,n,o,s,d,p,v,b,x;if(cr(t)){if(ot(t))return t;if(Ge(t))return Xr(e),Io(k(t,Ht),k(t,gn),k(t,ee));if(wt(t))return Xr(e),ho(k(t,Ue),k(t,Fe),k(t,$e),0,0,0,0,0,0,k(t,ee));x=og(t);let E=pt(t,ui(x,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v,nanosecond:b}=rg(x,E,e))}else{let E;if(Xr(e),{year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v,nanosecond:b,calendar:x,z:E}=function(S){return pf(S)}(Un(t)),E)throw new RangeError("Z designator not supported for PlainDateTime");if(r8(r,i,n,o,s,d,p,v,b),x||(x="iso8601"),!mu(x))throw new RangeError(`invalid calendar identifier ${x}`);x=lf(x)}return ho(r,i,n,o,s,d,p,v,b,x)}function D0(t){if(Gr(t))return t;let{years:e,months:r,weeks:i,days:n,hours:o,minutes:s,seconds:d,milliseconds:p,microseconds:v,nanoseconds:b}=ld(t);return new(Ne("%Temporal.Duration%"))(e,r,i,n,o,s,d,p,v,b)}function ca(t){if(gi(t))return t;if(Ge(t))return new(Ne("%Temporal.Instant%"))(k(t,Je));let e=coe(Un(t));return new(Ne("%Temporal.Instant%"))(e)}function PD(t,e){let r=t;if(cr(r)){if(Pi(r))return r;let d,p;if(ki(r,ee))d=k(r,ee),p=!1;else{let b=r.calendar;p=b===void 0,b===void 0&&(b="iso8601"),d=go(b)}let v=pt(r,ui(d,["day","month","monthCode","year"]),[]);return p&&v.month!==void 0&&v.monthCode===void 0&&v.year===void 0&&(v.year=1972),z0(d,v,e)}Xr(e);let{month:i,day:n,referenceISOYear:o,calendar:s}=K4(Un(r));if(s===void 0&&(s="iso8601"),!mu(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=lf(s),o===void 0?(cf(1972,i,n),$y(i,n,s)):z0(s,$y(i,n,s,o))}function fu(t,e="constrain"){let r,i,n,o,s,d,p=t;if(cr(p)){if(Wr(p))return p;if(Ge(p)&&(p=Io(k(p,Ht),k(p,gn),k(p,ee))),ot(p))return new(Ne("%Temporal.PlainTime%"))(k(p,at),k(p,ft),k(p,ut),k(p,ct),k(p,lt),k(p,dt));({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:d}=xb(p)),{hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:d}=Db(r,i,n,o,s,d,e)}else({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:d}=function(b){let x=Kne.exec(b),E,T,S,P,B,I,C;if(x){E=fi(x[1]),T=fi(x[2]||x[5]),S=fi(x[3]||x[6]),S===60&&(S=59);let O=(x[4]||x[7])+"000000000";P=fi(O.slice(0,3)),B=fi(O.slice(3,6)),I=fi(O.slice(6,9)),C=x[14];for(let[,F,q,G]of C.matchAll(Mc))if(q!=="u-ca"&&F==="!")throw new RangeError(`Unrecognized annotation: !${q}=${G}`);if(x[8])throw new RangeError("Z designator not supported for PlainTime")}else{let O,F;if({hasTime:F,hour:E,minute:T,second:S,millisecond:P,microsecond:B,nanosecond:I,z:O}=pf(b),!F)throw new RangeError(`time is missing in string: ${b}`);if(O)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(b))return{hour:E,minute:T,second:S,millisecond:P,microsecond:B,nanosecond:I};try{let{month:O,day:F}=K4(b);cf(1972,O,F)}catch{try{let{year:O,month:F}=W4(b);cf(O,F,1)}catch{return{hour:E,minute:T,second:S,millisecond:P,microsecond:B,nanosecond:I}}}throw new RangeError(`invalid ISO 8601 time-only string ${b}; may need a T prefix`)}(Un(p))),Kb(r,i,n,o,s,d);return new(Ne("%Temporal.PlainTime%"))(r,i,n,o,s,d)}function Ny(t,e){if(cr(t)){if(Ot(t))return t;let s=og(t);return sd(s,pt(t,ui(s,["month","monthCode","year"]),[]),e)}Xr(e);let{year:r,month:i,referenceISODay:n,calendar:o}=W4(Un(t));if(o===void 0&&(o="iso8601"),!mu(o))throw new RangeError(`invalid calendar identifier ${o}`);return o=lf(o),n===void 0?(cf(r,i,1),Gy(r,i,o)):sd(o,Gy(r,i,o,n))}function Mb(t,e,r,i,n,o,s,d,p,v,b,x,E,T,S){let P=new(Ne("%Temporal.PlainDateTime%"))(t,e,r,i,n,o,s,d,p);if(v==="wall"||T==="ignore")return k(Ln(x,P,E),Je);if(v==="exact"||T==="use"){let I=vc(t,e,r,i,n,o,s,d,p);if(I===null)throw new RangeError("ZonedDateTime outside of supported range");return U.default.subtract(I,U.default.BigInt(b))}let B=Eb(x,P);for(let I of B){let C=da(x,I),O=U.default.toNumber(ko(U.default.BigInt(C),dC,"halfExpand"));if(C===b||S&&O===b)return k(I,Je)}if(T==="reject"){let I=Gb(b),C=es(x)?k(x,nf):"time zone";throw new RangeError(`Offset ${I} is invalid for ${P.toString()} in ${C}`)}return k(EC(B,x,P,E),Je)}function Ly(t,e){let r,i,n,o,s,d,p,v,b,x,E,T,S,P,B=!1,I="option";if(cr(t)){if(Ge(t))return t;T=og(t);let O=ui(T,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);O.push("timeZone","offset");let F=pt(t,O,["timeZone"]);x=vn(F.timeZone),E=F.offset,E===void 0&&(I="wall"),S=F0(e),P=_b(e,"reject"),{year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v,nanosecond:b}=rg(T,F,e)}else{let O,F;if({year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v,nanosecond:b,ianaName:O,offset:E,z:F,calendar:T}=function(G){let $=pf(G);if(!$.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return $}(Un(t)),x=vn(O),F?I="exact":E||(I="wall"),T||(T="iso8601"),!mu(T))throw new RangeError(`invalid calendar identifier ${T}`);T=lf(T),B=!0,S=F0(e),P=_b(e,"reject"),Xr(e)}let C=0;return I==="option"&&(C=gc(E)),Ji(Mb(r,i,n,o,s,d,p,v,b,I,C,x,S,P,B),x,T)}function yC(t,e,r,i,n){cf(e,r,i),DC(e,r,i),hf(t),ht(t,Ue,e),ht(t,Fe,r),ht(t,$e,i),ht(t,ee,n),ht(t,eC,!0)}function os(t,e,r,i="iso8601"){let n=Ne("%Temporal.PlainDate%"),o=bn(n.prototype);return yC(o,t,e,r,i),o}function gC(t,e,r,i,n,o,s,d,p,v,b){r8(e,r,i,n,o,s,d,p,v),CC(e,r,i,n,o,s,d,p,v),hf(t),ht(t,Ue,e),ht(t,Fe,r),ht(t,$e,i),ht(t,at,n),ht(t,ft,o),ht(t,ut,s),ht(t,ct,d),ht(t,lt,p),ht(t,dt,v),ht(t,ee,b)}function ho(t,e,r,i,n,o,s,d,p,v="iso8601"){let b=Ne("%Temporal.PlainDateTime%"),x=bn(b.prototype);return gC(x,t,e,r,i,n,o,s,d,p,v),x}function vC(t,e,r,i,n){cf(n,e,r),DC(n,e,r),hf(t),ht(t,Fe,e),ht(t,$e,r),ht(t,Ue,n),ht(t,ee,i),ht(t,rC,!0)}function $y(t,e,r="iso8601",i=1972){let n=Ne("%Temporal.PlainMonthDay%"),o=bn(n.prototype);return vC(o,t,e,r,i),o}function bC(t,e,r,i,n){cf(e,r,n),function(s,d){Xi(s,yb,gb),s===yb?Xi(d,4,12):s===gb&&Xi(d,1,9)}(e,r),hf(t),ht(t,Ue,e),ht(t,Fe,r),ht(t,$e,n),ht(t,ee,i),ht(t,tC,!0)}function Gy(t,e,r="iso8601",i=1){let n=Ne("%Temporal.PlainYearMonth%"),o=bn(n.prototype);return bC(o,t,e,r,i),o}function wC(t,e,r,i){Jl(e),hf(t),ht(t,Je,e),ht(t,Ht,r),ht(t,ee,i);let n=new(Ne("%Temporal.Instant%"))(k(t,Je));ht(t,gn,n)}function Ji(t,e,r="iso8601"){let i=Ne("%Temporal.ZonedDateTime%"),n=bn(i.prototype);return wC(n,t,e,r),n}function ui(t,e){if(typeof t=="string"){let n=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.fields%"),n,[e])}let r=Ve(Ft(t,"fields"),t,[e]),i=[];for(let n of r){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");fC.call(i,n)}return i}function od(t,e,r){if(typeof t=="string"){let n=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.mergeFields%"),n,[e,r])}let i=Ve(Ft(t,"mergeFields"),t,[e,r]);if(!cr(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Qi(t,e,r,i,n){let o=n;if(typeof t=="string"){let d=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.dateAdd%"),d,[e,r,i])}o===void 0&&(o=Ft(t,"dateAdd"));let s=Bb(o,t,[e,r,i]);if(!wt(s))throw new TypeError("invalid result");return s}function yc(t,e,r,i,n){let o=n;if(typeof t=="string"){let d=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.dateUntil%"),d,[e,r,i])}o===void 0&&(o=Ft(t,"dateUntil"));let s=Bb(o,t,[e,r,i]);if(!Gr(s))throw new TypeError("invalid result");return s}function Cb(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.year%"),i,[e])}let r=Ve(Ft(t,"year"),t,[e]);if(typeof r!="number")throw new TypeError("calendar year result must be an integer");if(!Bo(r))throw new RangeError("calendar year result must be an integer");return r}function Ob(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.month%"),i,[e])}let r=Ve(Ft(t,"month"),t,[e]);if(typeof r!="number")throw new TypeError("calendar month result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar month result must be a positive integer");return r}function ig(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.monthCode%"),i,[e])}let r=Ve(Ft(t,"monthCode"),t,[e]);if(typeof r!="string")throw new TypeError("calendar monthCode result must be a string");return r}function ng(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.day%"),i,[e])}let r=Ve(Ft(t,"day"),t,[e]);if(typeof r!="number")throw new TypeError("calendar day result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar day result must be a positive integer");return r}function jb(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.era%"),i,[e])}let r=Ve(Ft(t,"era"),t,[e]);if(r===void 0)return r;if(typeof r!="string")throw new TypeError("calendar era result must be a string or undefined");return r}function qb(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.eraYear%"),i,[e])}let r=Ve(Ft(t,"eraYear"),t,[e]);if(r===void 0)return r;if(typeof r!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Bo(r))throw new RangeError("calendar eraYear result must be an integer or undefined");return r}function H4(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.dayOfWeek%"),i,[e])}let r=Ve(Ft(t,"dayOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return r}function V4(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.dayOfYear%"),i,[e])}let r=Ve(Ft(t,"dayOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return r}function Z4(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.weekOfYear%"),i,[e])}let r=Ve(Ft(t,"weekOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return r}function Y4(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.yearOfWeek%"),i,[e])}let r=Ve(Ft(t,"yearOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!Bo(r))throw new RangeError("calendar yearOfWeek result must be an integer");return r}function J4(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.daysInWeek%"),i,[e])}let r=Ve(Ft(t,"daysInWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return r}function Nb(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.daysInMonth%"),i,[e])}let r=Ve(Ft(t,"daysInMonth"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return r}function Lb(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.daysInYear%"),i,[e])}let r=Ve(Ft(t,"daysInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar daysInYear result must be a positive integer");return r}function Ub(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.monthsInYear%"),i,[e])}let r=Ve(Ft(t,"monthsInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Bo(r)||r<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return r}function Fb(t,e){if(typeof t=="string"){let i=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.inLeapYear%"),i,[e])}let r=Ve(Ft(t,"inLeapYear"),t,[e]);if(typeof r!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return r}function go(t){if(cr(t)){if(ki(t,ee))return k(t,ee);if(!function(n){return!!$r(n)||"dateAdd"in n&&"dateFromFields"in n&&"dateUntil"in n&&"day"in n&&"dayOfWeek"in n&&"dayOfYear"in n&&"daysInMonth"in n&&"daysInWeek"in n&&"daysInYear"in n&&"fields"in n&&"id"in n&&"inLeapYear"in n&&"mergeFields"in n&&"month"in n&&"monthCode"in n&&"monthDayFromFields"in n&&"monthsInYear"in n&&"weekOfYear"in n&&"year"in n&&"yearMonthFromFields"in n&&"yearOfWeek"in n}(t))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return t}let e=Un(t);if(mu(e))return lf(e);let r;try{({calendar:r}=pf(e))}catch{try{({calendar:r}=W4(e))}catch{({calendar:r}=K4(e))}}if(r||(r="iso8601"),!mu(r))throw new RangeError(`invalid calendar identifier ${r}`);return lf(r)}function og(t){if(ki(t,ee))return k(t,ee);let{calendar:e}=t;return e===void 0?"iso8601":go(e)}function en(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function J0(t){return cr(t)?t:new(Ne("%Temporal.Calendar%"))(t)}function sg(t,e){return t===e?!0:en(t)===en(e)}function zb(t,e,r){if(t===e)return;let i=en(t),n=en(e);if(i!==n)throw new RangeError(`cannot ${r} of ${i} and ${n} calendars`)}function _C(t,e){if(t===e)return e;let r=en(t),i=en(e);if(r===i||r==="iso8601")return e;if(i==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function hu(t,e,r,i){if(typeof t=="string"){let o=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.dateFromFields%"),o,[e,r])}let n=Ve(i??Ft(t,"dateFromFields"),t,[e,r]);if(!wt(n))throw new TypeError("invalid result");return n}function sd(t,e,r){if(typeof t=="string"){let n=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.yearMonthFromFields%"),n,[e,r])}let i=Ve(Ft(t,"yearMonthFromFields"),t,[e,r]);if(!Ot(i))throw new TypeError("invalid result");return i}function z0(t,e,r){if(typeof t=="string"){let n=new(Ne("%Temporal.Calendar%"))(t);return Ve(Ne("%Temporal.Calendar.prototype.monthDayFromFields%"),n,[e,r])}let i=Ve(Ft(t,"monthDayFromFields"),t,[e,r]);if(!Pi(i))throw new TypeError("invalid result");return i}function vn(t){if(cr(t)){if(Ge(t))return k(t,Ht);if(!function(r){return!!es(r)||"getOffsetNanosecondsFor"in r&&"getPossibleInstantsFor"in r&&"id"in r}(t))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return t}return uoe(Un(t))}function Wy(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function xC(t){return cr(t)?t:new(Ne("%Temporal.TimeZone%"))(t)}function MC(t,e){return t===e?!0:Wy(t)===Wy(e)}function $0(t){return os(k(t,Ue),k(t,Fe),k(t,$e),k(t,ee))}function Q4(t){return new(Ne("%Temporal.PlainTime%"))(k(t,at),k(t,ft),k(t,ut),k(t,ct),k(t,lt),k(t,dt))}function da(t,e,r){if(typeof t=="string"){let n=new(Ne("%Temporal.TimeZone%"))(t);return Ve(Ne("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),n,[e])}let i=Ve(r??Ft(t,"getOffsetNanosecondsFor"),t,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Bo(i)||ur(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function g4(t,e){return Gb(da(t,e))}function Io(t,e,r){let i=k(e,Je),n=da(t,e),{year:o,month:s,day:d,hour:p,minute:v,second:b,millisecond:x,microsecond:E,nanosecond:T}=AC(i);return{year:o,month:s,day:d,hour:p,minute:v,second:b,millisecond:x,microsecond:E,nanosecond:T}=e8(o,s,d,p,v,b,x,E,T+n),ho(o,s,d,p,v,b,x,E,T,r)}function Ln(t,e,r){return EC(Eb(t,e),t,e,r)}function EC(t,e,r,i){let n=Ne("%Temporal.Instant%"),o=t.length;if(o===1)return t[0];if(o)switch(i){case"compatible":case"earlier":return t[0];case"later":return t[o-1];case"reject":throw new RangeError("multiple instants found")}let s=k(r,Ue),d=k(r,Fe),p=k(r,$e),v=k(r,at),b=k(r,ft),x=k(r,ut),E=k(r,ct),T=k(r,lt),S=k(r,dt),P=vc(s,d,p,v,b,x,E,T,S);if(P===null)throw new RangeError("DateTime outside of supported range");let B=new n(U.default.subtract(P,uf)),I=new n(U.default.add(P,uf)),C=da(e,B),O=da(e,I)-C;switch(i){case"earlier":{let F=k(r,ee),q=Ne("%Temporal.PlainDateTime%"),G=_4(s,d,p,v,b,x,E,T,S,F,0,0,0,0,0,0,0,0,0,-O,void 0);return Eb(e,new q(G.year,G.month,G.day,G.hour,G.minute,G.second,G.millisecond,G.microsecond,G.nanosecond,F))[0]}case"compatible":case"later":{let F=k(r,ee),q=Ne("%Temporal.PlainDateTime%"),G=_4(s,d,p,v,b,x,E,T,S,F,0,0,0,0,0,0,0,0,0,O,void 0),$=Eb(e,new q(G.year,G.month,G.day,G.hour,G.minute,G.second,G.millisecond,G.microsecond,G.nanosecond,F));return $[$.length-1]}case"reject":throw new RangeError("no such instant found")}}function Eb(t,e,r){if(typeof t=="string"){let o=new(Ne("%Temporal.TimeZone%"))(t);return Ve(Ne("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),o,[e])}let i=Ve(r??Ft(t,"getPossibleInstantsFor"),t,[e]),n=[];for(let o of i){if(!gi(o))throw new TypeError("bad return from getPossibleInstantsFor");fC.call(n,o)}return n}function dd(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${ur(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function vr(t){return`00${t}`.slice(-2)}function $b(t,e,r,i,n){if(n==="minute")return"";let o=`:${vr(t)}`,s,d=1e6*e+1e3*r+i;if(n==="auto"){if(d===0)return o;for(s=`${d}`.padStart(9,"0");s[s.length-1]==="0";)s=s.slice(0,-1)}else{if(n===0)return o;s=`${d}`.padStart(9,"0").slice(0,n)}return`${o}.${s}`}function RD(t,e,r){let i=e;i===void 0&&(i="UTC");let n=Io(i,t,"iso8601"),o=dd(k(n,Ue)),s=vr(k(n,Fe)),d=vr(k(n,$e)),p=vr(k(n,at)),v=vr(k(n,ft)),b=$b(k(n,ut),k(n,ct),k(n,lt),k(n,dt),r),x="Z";return e!==void 0&&(x=SC(da(i,t))),`${o}-${s}-${d}T${p}:${v}${b}${x}`}function a4(t,e="auto",r){function i(K){return K<=toe?K.toString(10):U.default.BigInt(K).toString(10)}let n=k(t,kn),o=k(t,Wi),s=k(t,Zn),d=k(t,In),p=k(t,Bn),v=k(t,Dn),b=k(t,Cn),x=k(t,On),E=k(t,jn),T=k(t,qn),S=ff(n,o,s,d,p,v,b,x,E,T);if(r){let{unit:K,increment:_,roundingMode:a}=r;({seconds:b,milliseconds:x,microseconds:E,nanoseconds:T}=pu(0,0,0,0,0,0,b,x,E,T,_,K,a))}let P=[];n&&P.push(`${i(ur(n))}Y`),o&&P.push(`${i(ur(o))}M`),s&&P.push(`${i(ur(s))}W`),d&&P.push(`${i(ur(d))}D`);let B=[];p&&B.push(`${i(ur(p))}H`),v&&B.push(`${i(ur(v))}M`);let I=[],C,O,F,q,G=G0(0,0,0,b,x,E,T,0);({quotient:G,remainder:C}=Qr(G,jt)),{quotient:G,remainder:O}=Qr(G,jt),{quotient:q,remainder:F}=Qr(G,jt);let $=1e6*ur(U.default.toNumber(F))+1e3*ur(U.default.toNumber(O))+ur(U.default.toNumber(C)),N;if(e==="auto"){if($!==0)for(N=`${$}`.padStart(9,"0");N[N.length-1]==="0";)N=N.slice(0,-1)}else e!==0&&(N=`${$}`.padStart(9,"0").slice(0,e));return N&&I.unshift(".",N),U.default.equal(q,Kr)&&!I.length&&e==="auto"||I.unshift(ua(q).toString()),I.length&&B.push(`${I.join("")}S`),B.length&&B.unshift("T"),P.length||B.length?`${S<0?"-":""}P${P.join("")}${B.join("")}`:"PT0S"}function kD(t,e="auto"){return`${dd(k(t,Ue))}-${vr(k(t,Fe))}-${vr(k(t,$e))}${$4(k(t,ee),e)}`}function ID(t,e,r="auto",i){let n=k(t,Ue),o=k(t,Fe),s=k(t,$e),d=k(t,at),p=k(t,ft),v=k(t,ut),b=k(t,ct),x=k(t,lt),E=k(t,dt);if(i){let{unit:T,increment:S,roundingMode:P}=i;({year:n,month:o,day:s,hour:d,minute:p,second:v,millisecond:b,microsecond:x,nanosecond:E}=s8(n,o,s,d,p,v,b,x,E,S,T,P))}return`${dd(n)}-${vr(o)}-${vr(s)}T${vr(d)}:${vr(p)}${$b(v,b,x,E,e)}${$4(k(t,ee),r)}`}function BD(t,e="auto"){let r=`${vr(k(t,Fe))}-${vr(k(t,$e))}`,i=en(k(t,ee));(e==="always"||e==="critical"||i!=="iso8601")&&(r=`${dd(k(t,Ue))}-${r}`);let n=G4(i,e);return n&&(r+=n),r}function DD(t,e="auto"){let r=`${dd(k(t,Ue))}-${vr(k(t,Fe))}`,i=en(k(t,ee));(e==="always"||e==="critical"||i!=="iso8601")&&(r+=`-${vr(k(t,$e))}`);let n=G4(i,e);return n&&(r+=n),r}function CD(t,e,r="auto",i="auto",n="auto",o){let s=k(t,gn);if(o){let{unit:b,increment:x,roundingMode:E}=o,T=Tb(k(t,Je),x,b,E);s=new(Ne("%Temporal.Instant%"))(T)}let d=k(t,Ht),p=Io(d,s,"iso8601"),v=`${dd(k(p,Ue))}-${vr(k(p,Fe))}-${vr(k(p,$e))}T${vr(k(p,at))}:${vr(k(p,ft))}${$b(k(p,ut),k(p,ct),k(p,lt),k(p,dt),e)}`;return n!=="never"&&(v+=SC(da(d,s))),i!=="never"&&(v+=`[${i==="critical"?"!":""}${Wy(d)}]`),v+=$4(k(t,ee),r),v}function k0(t){return FC.test(Jy(t))}function gc(t){let e=FC.exec(Jy(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function X4(t){return k0(t)?Gb(gc(t)):mC(Jy(t)).resolvedOptions().timeZone}function uu(t,e){let{year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v,nanosecond:b}=TC(t,e),x=r%400,E=(r-x)/400,T=U.default.multiply(U.default.BigInt(146097),uf),S=vc(x,i,n,o,s,d,p,v,b),P=U.default.add(S,U.default.multiply(T,U.default.BigInt(E)));return U.default.toNumber(U.default.subtract(P,e))}function Gb(t){let e=t<0?"-":"+",r=ur(t),i=r%1e9,n=mo(r/1e9)%60,o=mo(r/6e10)%60,s=vr(mo(r/36e11)),d=vr(o),p=vr(n),v="";if(i){let b=`${i}`.padStart(9,"0");for(;b[b.length-1]==="0";)b=b.slice(0,-1);v=`:${p}.${b}`}else n&&(v=`:${p}`);return`${e}${s}:${d}${v}`}function SC(t){let e=U.default.toNumber(ko(U.default.BigInt(t),dC,"halfExpand")),r=e<0?"-":"+";e=ur(e);let i=e/6e10%60;return`${r}${vr(mo(e/36e11))}:${vr(i)}`}function vc(t,e,r,i,n,o,s,d,p){let v=new Date;v.setUTCHours(i,n,o,s),v.setUTCFullYear(t,e-1,r);let b=v.getTime();if(Ib(b))return null;let x=U.default.multiply(U.default.BigInt(b),is);return x=U.default.add(x,U.default.multiply(U.default.BigInt(d),jt)),x=U.default.add(x,U.default.BigInt(p)),U.default.lessThan(x,zy)||U.default.greaterThan(x,L0)?null:x}function AC(t){let{quotient:e,remainder:r}=Qr(t,is),i=U.default.toNumber(e),n=U.default.toNumber(r);n<0&&(n+=1e6,i-=1);let o=mo(n/1e3)%1e3,s=n%1e3,d=new Date(i);return{epochMilliseconds:i,year:d.getUTCFullYear(),month:d.getUTCMonth()+1,day:d.getUTCDate(),hour:d.getUTCHours(),minute:d.getUTCMinutes(),second:d.getUTCSeconds(),millisecond:d.getUTCMilliseconds(),microsecond:o,nanosecond:s}}function TC(t,e){let{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:o}=AC(e),{year:s,month:d,day:p,hour:v,minute:b,second:x}=function(T,S){let P=mC(T).format(new Date(S));return function(I){let C=I.split(/[^\w]+/);if(C.length!==7)throw new RangeError(`expected 7 parts in "${I}`);let O=+C[0],F=+C[1],q=+C[2],G=C[3].toUpperCase();if(G==="B"||G==="BC")q=1-q;else if(G!=="A"&&G!=="AD")throw new RangeError(`Unknown era ${G} in "${I}`);let $=+C[4];$===24&&($=0);let N=+C[5],K=+C[6];if(!(Nn(q)&&Nn(O)&&Nn(F)&&Nn($)&&Nn(N)&&Nn(K)))throw new RangeError(`Invalid number in "${I}`);return{year:q,month:O,day:F,hour:$,minute:N,second:K}}(P)}(t,r);return e8(s,d,p,v,b,x,i,n,o)}function OD(t,e){return U.default.lessThan(t,e)?e:t}function PC(){return U.default.add(f8(),ooe)}function RC(t,e){if(U.default.lessThan(e,I0))return RC(t,I0);let r=U.default.add(e,hC),i=OD(PC(),r),n=OD(I0,e),o=uu(t,n),s=n,d=o;for(;o===d&&U.default.lessThan(U.default.BigInt(n),i);){if(s=U.default.add(n,pC),U.default.greaterThan(s,L0))return null;d=uu(t,s),o===d&&(n=s)}return o===d?null:zC(p=>uu(t,p),n,s,o,d)}function v4(t,e){let r=PC(),i=U.default.greaterThan(e,r),n=i?U.default.subtract(e,hC):I0;if(t==="Africa/Casablanca"||t==="Africa/El_Aaiun"){let v=k(ca("2088-01-01T00Z"),Je);if(U.default.lessThan(v,e))return v4(t,v)}let o=U.default.subtract(e,H0);if(U.default.lessThan(o,I0))return null;let s=uu(t,o),d=o,p=s;for(;s===p&&U.default.greaterThan(o,n);){if(d=U.default.subtract(o,pC),U.default.lessThan(d,I0))return null;p=uu(t,d),s===p&&(o=d)}if(s===p){if(i){let v=U.default.subtract(r,uf);return v4(t,v)}return null}return zC(v=>uu(t,v),d,o,p,s)}function bc(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function cu(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[bc(t)?"leapyear":"standard"][e-1]}function b4(t,e,r){let i=e+(e<3?10:-2),n=t-(e<3?1:0),o=mo(n/100),s=n-100*o,d=(r+mo(2.6*i-.2)+(s+mo(s/4))+(mo(o/4)-2*o))%7;return d+(d<=0?7:0)}function Sb(t,e,r){let i=r;for(let n=e-1;n>0;n--)i+=cu(t,n);return i}function jD(t,e,r){let i=Sb(t,e,r),n=b4(t,e,r)||7,o=b4(t,1,1),s=mo((i-n+10)/7);return s<1?o===5||o===6&&bc(t-1)?{week:53,year:t-1}:{week:52,year:t-1}:s===53&&(bc(t)?366:365)-i<4-n?{week:1,year:t+1}:{week:s,year:t}}function ff(t,e,r,i,n,o,s,d,p,v){for(let b of[t,e,r,i,n,o,s,d,p,v])if(b!==0)return b<0?-1:1;return 0}function db(t,e){let r=t,i=e;if(!Nn(r)||!Nn(i))throw new RangeError("infinity is out of range");return i-=1,r+=mo(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function Wb(t,e,r){let i=t,n=e,o=r;if(!Nn(o))throw new RangeError("infinity is out of range");({year:i,month:n}=db(i,n));let s=146097;if(ur(o)>s){let v=Ql(o/s);i+=400*v,o-=v*s}let d=0,p=n>2?i:i-1;for(;d=bc(p)?366:365,o<-d;)i-=1,p-=1,o+=d;for(p+=1;d=bc(p)?366:365,o>d;)i+=1,p+=1,o-=d;for(;o<1;)({year:i,month:n}=db(i,n-1)),o+=cu(i,n);for(;o>cu(i,n);)o-=cu(i,n),{year:i,month:n}=db(i,n+1);return{year:i,month:n,day:o}}function e8(t,e,r,i,n,o,s,d,p){let{deltaDays:v,hour:b,minute:x,second:E,millisecond:T,microsecond:S,nanosecond:P}=au(i,n,o,s,d,p),{year:B,month:I,day:C}=Wb(t,e,r+v);return{year:B,month:I,day:C,hour:b,minute:x,second:E,millisecond:T,microsecond:S,nanosecond:P}}function au(t,e,r,i,n,o){let s,d=U.default.BigInt(t),p=U.default.BigInt(e),v=U.default.BigInt(r),b=U.default.BigInt(i),x=U.default.BigInt(n),E=U.default.BigInt(o);return{quotient:s,remainder:E}=Yl(E,jt),x=U.default.add(x,s),{quotient:s,remainder:x}=Yl(x,jt),b=U.default.add(b,s),{quotient:s,remainder:b}=Yl(b,jt),v=U.default.add(v,s),{quotient:s,remainder:v}=Yl(v,sf),p=U.default.add(p,s),{quotient:s,remainder:p}=Yl(p,sf),d=U.default.add(d,s),{quotient:s,remainder:d}=Yl(d,cC),{deltaDays:U.default.toNumber(s),hour:U.default.toNumber(d),minute:U.default.toNumber(p),second:U.default.toNumber(v),millisecond:U.default.toNumber(b),microsecond:U.default.toNumber(x),nanosecond:U.default.toNumber(E)}}function G0(t,e,r,i,n,o,s,d){let p=U.default.BigInt(t),v=U.default.BigInt(s);t!==0&&(v=U.default.subtract(U.default.BigInt(s),U.default.BigInt(d)));let b=U.default.add(U.default.BigInt(e),U.default.multiply(p,U.default.BigInt(24))),x=U.default.add(U.default.BigInt(r),U.default.multiply(b,sf)),E=U.default.add(U.default.BigInt(i),U.default.multiply(x,sf)),T=U.default.add(U.default.BigInt(n),U.default.multiply(E,jt)),S=U.default.add(U.default.BigInt(o),U.default.multiply(T,jt));return U.default.add(U.default.BigInt(v),U.default.multiply(S,jt))}function t8(t,e){let r=Ne("%Temporal.Instant%"),i=N0(U.default.toNumber(t)),n=U.default.BigInt(t),o=864e11;if(i===0)return{days:0,nanoseconds:Kr,dayLengthNs:o};if(!Ge(e)){let O;return{quotient:O,remainder:n}=Qr(n,U.default.BigInt(o)),{days:U.default.toNumber(O),nanoseconds:n,dayLengthNs:o}}let s=k(e,Je),d=k(e,gn),p=U.default.add(s,n),v=new r(p),b=k(e,Ht),x=k(e,ee),E=Io(b,d,x),T=Io(b,v,x),{days:S}=o8(k(E,Ue),k(E,Fe),k(E,$e),k(E,at),k(E,ft),k(E,ut),k(E,ct),k(E,lt),k(E,dt),k(T,Ue),k(T,Fe),k(T,$e),k(T,at),k(T,ft),k(T,ut),k(T,ct),k(T,lt),k(T,dt),x,"day",bn(null)),P=ns(d,b,x,0,0,0,S,0,0,0,0,0,0),B=U.default.BigInt(S);if(i===1)for(;U.default.greaterThan(B,Kr)&&U.default.greaterThan(P,p);)B=U.default.subtract(B,H0),P=ns(d,b,x,0,0,0,U.default.toNumber(B),0,0,0,0,0,0);n=U.default.subtract(p,P);let I=!1,C=new r(P);do{let O=ns(C,b,x,0,0,0,i,0,0,0,0,0,0),F=k(C,Je);o=U.default.toNumber(U.default.subtract(O,F)),I=U.default.greaterThanOrEqual(U.default.multiply(U.default.subtract(n,U.default.BigInt(o)),U.default.BigInt(i)),Kr),I&&(n=U.default.subtract(n,U.default.BigInt(o)),C=new r(O),B=U.default.add(B,U.default.BigInt(i)))}while(I);if(!ts(B)&&xD(B)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!ts(n)&&xD(n)!==i)throw vb(n)&&i===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(U.default.greaterThanOrEqual(ua(n),ua(U.default.BigInt(o))))throw new Error("assert not reached");return{days:U.default.toNumber(B),nanoseconds:n,dayLengthNs:ur(o)}}function Ts(t,e,r,i,n,o,s,d,p){let v=kC(t,e,r,i,n,o,s,d,p);if(v==="positive overflow"||v==="negative overflow")throw new RangeError("Duration out of range");return v}function kC(t,e,r,i,n,o,s,d,p){let v,b,x,E,T,S,P=t;if(Ge(p)){let $=ns(k(p,gn),k(p,Ht),k(p,ee),0,0,0,P,e,r,i,n,o,s),N=k(p,Je);v=U.default.subtract($,N)}else v=G0(P,e,r,i,n,o,s,0);d==="year"||d==="month"||d==="week"||d==="day"?{days:P,nanoseconds:v}=t8(v,p):P=0;let B=U.default.lessThan(v,Kr)?-1:1;switch(v=ua(v),b=x=E=T=S=Kr,d){case"year":case"month":case"week":case"day":case"hour":({quotient:b,remainder:v}=Qr(v,jt)),{quotient:x,remainder:b}=Qr(b,jt),{quotient:E,remainder:x}=Qr(x,jt),{quotient:T,remainder:E}=Qr(E,sf),{quotient:S,remainder:T}=Qr(T,sf);break;case"minute":({quotient:b,remainder:v}=Qr(v,jt)),{quotient:x,remainder:b}=Qr(b,jt),{quotient:E,remainder:x}=Qr(x,jt),{quotient:T,remainder:E}=Qr(E,sf);break;case"second":({quotient:b,remainder:v}=Qr(v,jt)),{quotient:x,remainder:b}=Qr(b,jt),{quotient:E,remainder:x}=Qr(x,jt);break;case"millisecond":({quotient:b,remainder:v}=Qr(v,jt)),{quotient:x,remainder:b}=Qr(b,jt);break;case"microsecond":({quotient:b,remainder:v}=Qr(v,jt));break;case"nanosecond":break;default:throw new Error("assert not reached")}let I=U.default.toNumber(S)*B,C=U.default.toNumber(T)*B,O=U.default.toNumber(E)*B,F=U.default.toNumber(x)*B,q=U.default.toNumber(b)*B,G=U.default.toNumber(v)*B;for(let $ of[P,I,C,O,F,q,G])if(!Nn($))return B===1?"positive overflow":"negative overflow";return{days:P,hours:I,minutes:C,seconds:O,milliseconds:F,microseconds:q,nanoseconds:G}}function cb(t,e,r,i,n,o){let s=Ne("%Temporal.Duration%"),d=ff(t,e,r,i,0,0,0,0,0,0);if(d===0)return{years:t,months:e,weeks:r,days:i};let p=U.default.BigInt(d),v,b,x=U.default.BigInt(t),E=U.default.BigInt(e),T=U.default.BigInt(r),S=U.default.BigInt(i);o&&(b=Qt(o),v=k(b,ee));let P=new s(d),B=new s(0,d),I=new s(0,0,d);switch(n){case"year":break;case"month":{if(!v)throw new RangeError("a starting point is required for months balancing");let C,O;for(typeof v!="string"&&(C=Ft(v,"dateAdd"),O=Ft(v,"dateUntil"));!ts(x);){let F=Qi(v,b,P,void 0,C),q=bn(null);q.largestUnit="month";let G=yc(v,b,F,q,O),$=U.default.BigInt(k(G,Wi));b=F,E=U.default.add(E,$),x=U.default.subtract(x,p)}}break;case"week":{if(!v)throw new RangeError("a starting point is required for weeks balancing");let C=typeof v!="string"?Ft(v,"dateAdd"):void 0;for(;!ts(x);){let O;({relativeTo:b,days:O}=yn(v,b,P,C)),S=U.default.add(S,U.default.BigInt(O)),x=U.default.subtract(x,p)}for(;!ts(E);){let O;({relativeTo:b,days:O}=yn(v,b,B,C)),S=U.default.add(S,U.default.BigInt(O)),E=U.default.subtract(E,p)}break}default:{if(ts(x)&&ts(E)&&ts(T))break;if(!v)throw new RangeError("a starting point is required for balancing calendar units");let C=typeof v!="string"?Ft(v,"dateAdd"):void 0;for(;!ts(x);){let O;({relativeTo:b,days:O}=yn(v,b,P,C)),S=U.default.add(S,U.default.BigInt(O)),x=U.default.subtract(x,p)}for(;!ts(E);){let O;({relativeTo:b,days:O}=yn(v,b,B,C)),S=U.default.add(S,U.default.BigInt(O)),E=U.default.subtract(E,p)}for(;!ts(T);){let O;({relativeTo:b,days:O}=yn(v,b,I,C)),S=U.default.add(S,U.default.BigInt(O)),T=U.default.subtract(T,p)}break}}return{years:U.default.toNumber(x),months:U.default.toNumber(E),weeks:U.default.toNumber(T),days:U.default.toNumber(S)}}function qD(t,e,r,i,n){if(Ge(t)){let o=k(t,gn),s=k(t,Ht),d=k(t,ee),p=da(s,o),v=ns(o,s,d,e,r,i,n,0,0,0,0,0,0);return da(s,new(Ne("%Temporal.Instant%"))(v))-p}return 0}function IC(t){return new(Ne("%Temporal.Duration%"))(-k(t,kn),-k(t,Wi),-k(t,Zn),-k(t,In),-k(t,Bn),-k(t,Dn),-k(t,Cn),-k(t,On),-k(t,jn),-k(t,qn))}function po(t,e,r){return Qne(r,Xne(e,t))}function BC(t,e,r){let i=po(e,1,12);return{year:t,month:i,day:po(r,1,cu(t,i))}}function Xi(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function cf(t,e,r){Xi(e,1,12),Xi(r,1,cu(t,e))}function DC(t,e,r){CC(t,e,r,12,0,0,0,0,0)}function Kb(t,e,r,i,n,o){Xi(t,0,23),Xi(e,0,59),Xi(r,0,59),Xi(i,0,999),Xi(n,0,999),Xi(o,0,999)}function r8(t,e,r,i,n,o,s,d,p){cf(t,e,r),Kb(i,n,o,s,d,p)}function CC(t,e,r,i,n,o,s,d,p){if(Xi(t,yb,gb),t===yb&&vc(t,e,r+1,i,n,o,s,d,p-1)==null||t===gb&&vc(t,e,r-1,i,n,o,s,d,p+1)==null)throw new RangeError("DateTime outside of supported range")}function Jl(t){if(U.default.lessThan(t,zy)||U.default.greaterThan(t,L0))throw new RangeError("Instant outside of supported range")}function Ab(t,e,r,i,n,o,s,d,p,v){let b=ff(t,e,r,i,n,o,s,d,p,v);for(let x of[t,e,r,i,n,o,s,d,p,v]){if(!Nn(x))throw new RangeError("infinite values not allowed as duration fields");let E=N0(x);if(E!==0&&E!==b)throw new RangeError("mixed-sign values not allowed as duration fields")}}function i8(t,e,r,i,n,o,s){switch(s){case"year":case"month":{let d=-mc(t,e,r,i,n,o);if(d===0)return{years:0,months:0,weeks:0,days:0};let p={year:t,month:e,day:r},v={year:i,month:n,day:o},b=v.year-p.year,x=ed(t,e,r,b,0,0,0,"constrain"),E=-mc(x.year,x.month,x.day,i,n,o);if(E===0)return s==="year"?{years:b,months:0,weeks:0,days:0}:{years:0,months:12*b,weeks:0,days:0};let T=v.month-p.month;if(E!==d&&(b-=d,T+=12*d),x=ed(t,e,r,b,T,0,0,"constrain"),E=-mc(x.year,x.month,x.day,i,n,o),E===0)return s==="year"?{years:b,months:T,weeks:0,days:0}:{years:0,months:T+12*b,weeks:0,days:0};E!==d&&(T-=d,T===-d&&(b-=d,T=11*d),x=ed(t,e,r,b,T,0,0,"constrain"));let S=0;return S=x.month===v.month?v.day-x.day:d<0?-x.day-(cu(v.year,v.month)-v.day):v.day+(cu(x.year,x.month)-x.day),s==="month"&&(T+=12*b,b=0),{years:b,months:T,weeks:0,days:S}}case"week":case"day":{let d,p,v;mc(t,e,r,i,n,o)<0?(p={year:t,month:e,day:r},d={year:i,month:n,day:o},v=1):(p={year:i,month:n,day:o},d={year:t,month:e,day:r},v=-1);let b=Sb(d.year,d.month,d.day)-Sb(p.year,p.month,p.day);for(let E=p.year;E<d.year;++E)b+=bc(E)?366:365;let x=0;return s==="week"&&(x=mo(b/7),b%=7),x*=v,b*=v,{years:0,months:0,weeks:x,days:b}}default:throw new Error("assert not reached")}}function OC(t,e,r,i,n,o,s,d,p,v,b,x){let E=s-t,T=d-e,S=p-r,P=v-i,B=b-n,I=x-o,C=ff(0,0,0,0,E,T,S,P,B,I);E*=C,T*=C,S*=C,P*=C,B*=C,I*=C;let O=0;if({deltaDays:O,hour:E,minute:T,second:S,millisecond:P,microsecond:B,nanosecond:I}=au(E,T,S,P,B,I),O!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return E*=C,T*=C,S*=C,P*=C,B*=C,I*=C,{hours:E,minutes:T,seconds:S,milliseconds:P,microseconds:B,nanoseconds:I}}function n8(t,e,r,i,n,o){let s=U.default.subtract(e,t),d=0,p=0,v=U.default.toNumber(U.default.remainder(s,jt)),b=U.default.toNumber(U.default.remainder(U.default.divide(s,jt),jt)),x=U.default.toNumber(U.default.remainder(U.default.divide(s,is),jt)),E=U.default.toNumber(U.default.divide(s,af));return{hours:d,minutes:p,seconds:E,milliseconds:x,microseconds:b,nanoseconds:v}=pu(0,0,0,0,0,0,E,x,b,v,r,i,o),Ts(0,d,p,E,x,b,v,n)}function o8(t,e,r,i,n,o,s,d,p,v,b,x,E,T,S,P,B,I,C,O,F){let q=t,G=e,$=r,{hours:N,minutes:K,seconds:_,milliseconds:a,microseconds:u,nanoseconds:h}=OC(i,n,o,s,d,p,E,T,S,P,B,I),c=ff(0,0,0,0,N,K,_,a,u,h);mc(v,b,x,q,G,$)===-c&&({year:q,month:G,day:$}=Wb(q,G,$-c),{hours:N,minutes:K,seconds:_,milliseconds:a,microseconds:u,nanoseconds:h}=Ts(-c,N,K,_,a,u,h,O));let l=os(q,G,$,C),g=os(v,b,x,C),w=nd("day",O),m=Ec(F);m.largestUnit=w;let{years:f,months:y,weeks:R,days:A}=yc(C,l,g,m);return{days:A,hours:N,minutes:K,seconds:_,milliseconds:a,microseconds:u,nanoseconds:h}=Ts(A,N,K,_,a,u,h,O),{years:f,months:y,weeks:R,days:A,hours:N,minutes:K,seconds:_,milliseconds:a,microseconds:u,nanoseconds:h}}function jC(t,e,r,i,n,o){let s=U.default.subtract(e,t);if(U.default.equal(s,Kr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let d=Ne("%Temporal.Instant%"),p=new d(t),v=new d(e),b=Io(r,p,i),x=Io(r,v,i),{years:E,months:T,weeks:S,days:P}=o8(k(b,Ue),k(b,Fe),k(b,$e),k(b,at),k(b,ft),k(b,ut),k(b,ct),k(b,lt),k(b,dt),k(x,Ue),k(x,Fe),k(x,$e),k(x,at),k(x,ft),k(x,ut),k(x,ct),k(x,lt),k(x,dt),i,n,o),B=ns(p,r,i,E,T,S,0,0,0,0,0,0,0),I=U.default.subtract(e,B),C=Ji(B,r,i);({nanoseconds:I,days:P}=t8(I,C));let{hours:O,minutes:F,seconds:q,milliseconds:G,microseconds:$,nanoseconds:N}=Ts(0,0,0,0,0,0,U.default.toNumber(I),"hour");return{years:E,months:T,weeks:S,days:P,hours:O,minutes:F,seconds:q,milliseconds:G,microseconds:$,nanoseconds:N}}function Q0(t,e,r,i,n,o){let s=Qy.reduce((T,S)=>{let P=S[0],B=S[1],I=S[2];return r!=="datetime"&&I!==r||i.includes(B)||T.push(B,P),T},[]),d=yo(e,"largestUnit",r,"auto");if(i.includes(d))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${d}`);let p=Z0(e),v=la(e,"trunc");t==="since"&&(v=function(S){switch(S){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return S}}(v));let b=yo(e,"smallestUnit",r,n);if(i.includes(b))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${b}`);let x=nd(o,b);if(d==="auto"&&(d=x),nd(d,b)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${b}`);let E={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[b];return E!==void 0&&Y0(p,E,!1),{largestUnit:d,roundingIncrement:p,roundingMode:v,smallestUnit:b}}function ND(t,e,r,i){let n=t==="since"?-1:1,o=ca(r),s=Q0(t,Ec(i),"time",[],"nanosecond","second"),d=k(e,Je),p=k(o,Je),{hours:v,minutes:b,seconds:x,milliseconds:E,microseconds:T,nanoseconds:S}=n8(d,p,s.roundingIncrement,s.smallestUnit,s.largestUnit,s.roundingMode);return new(Ne("%Temporal.Duration%"))(0,0,0,0,n*v,n*b,n*x,n*E,n*T,n*S)}function LD(t,e,r,i){let n=t==="since"?-1:1,o=Qt(r),s=k(e,ee);zb(s,k(o,ee),"compute difference between dates");let d=Ec(i),p=Q0(t,d,"date",[],"day","day");d.largestUnit=p.largestUnit;let{years:v,months:b,weeks:x,days:E}=yc(s,e,o,d);return p.smallestUnit==="day"&&p.roundingIncrement===1||({years:v,months:b,weeks:x,days:E}=pu(v,b,x,E,0,0,0,0,0,0,p.roundingIncrement,p.smallestUnit,p.roundingMode,e)),new(Ne("%Temporal.Duration%"))(n*v,n*b,n*x,n*E,0,0,0,0,0,0)}function UD(t,e,r,i){let n=t==="since"?-1:1,o=Xl(r),s=k(e,ee);zb(s,k(o,ee),"compute difference between dates");let d=Ec(i),p=Q0(t,d,"datetime",[],"nanosecond","day"),{years:v,months:b,weeks:x,days:E,hours:T,minutes:S,seconds:P,milliseconds:B,microseconds:I,nanoseconds:C}=o8(k(e,Ue),k(e,Fe),k(e,$e),k(e,at),k(e,ft),k(e,ut),k(e,ct),k(e,lt),k(e,dt),k(o,Ue),k(o,Fe),k(o,$e),k(o,at),k(o,ft),k(o,ut),k(o,ct),k(o,lt),k(o,dt),s,p.largestUnit,d),O=$0(e);return{years:v,months:b,weeks:x,days:E,hours:T,minutes:S,seconds:P,milliseconds:B,microseconds:I,nanoseconds:C}=pu(v,b,x,E,T,S,P,B,I,C,p.roundingIncrement,p.smallestUnit,p.roundingMode,O),{days:E,hours:T,minutes:S,seconds:P,milliseconds:B,microseconds:I,nanoseconds:C}=Ts(E,T,S,P,B,I,C,p.largestUnit),new(Ne("%Temporal.Duration%"))(n*v,n*b,n*x,n*E,n*T,n*S,n*P,n*B,n*I,n*C)}function FD(t,e,r,i){let n=t==="since"?-1:1,o=fu(r),s=Q0(t,Ec(i),"time",[],"nanosecond","hour"),{hours:d,minutes:p,seconds:v,milliseconds:b,microseconds:x,nanoseconds:E}=OC(k(e,at),k(e,ft),k(e,ut),k(e,ct),k(e,lt),k(e,dt),k(o,at),k(o,ft),k(o,ut),k(o,ct),k(o,lt),k(o,dt));return{hours:d,minutes:p,seconds:v,milliseconds:b,microseconds:x,nanoseconds:E}=pu(0,0,0,0,d,p,v,b,x,E,s.roundingIncrement,s.smallestUnit,s.roundingMode),{hours:d,minutes:p,seconds:v,milliseconds:b,microseconds:x,nanoseconds:E}=Ts(0,d,p,v,b,x,E,s.largestUnit),new(Ne("%Temporal.Duration%"))(0,0,0,0,n*d,n*p,n*v,n*b,n*x,n*E)}function zD(t,e,r,i){let n=t==="since"?-1:1,o=Ny(r),s=k(e,ee);zb(s,k(o,ee),"compute difference between months");let d=Ec(i),p=Q0(t,d,"date",["week","day"],"month","year");d.largestUnit=p.largestUnit;let v=ui(s,["monthCode","year"]),b=pt(e,v,[]);b.day=1;let x=hu(s,b),E=pt(o,v,[]);E.day=1;let T=hu(s,E),{years:S,months:P}=yc(s,x,T,d);return p.smallestUnit==="month"&&p.roundingIncrement===1||({years:S,months:P}=pu(S,P,0,0,0,0,0,0,0,0,p.roundingIncrement,p.smallestUnit,p.roundingMode,x)),new(Ne("%Temporal.Duration%"))(n*S,n*P,0,0,0,0,0,0,0,0)}function $D(t,e,r,i){let n=t==="since"?-1:1,o=Ly(r),s=k(e,ee);zb(s,k(o,ee),"compute difference between dates");let d=Ec(i),p=Q0(t,d,"datetime",[],"nanosecond","hour");d.largestUnit=p.largestUnit;let v=k(e,Je),b=k(o,Je),x,E,T,S,P,B,I,C,O,F;if(p.largestUnit!=="year"&&p.largestUnit!=="month"&&p.largestUnit!=="week"&&p.largestUnit!=="day")x=0,E=0,T=0,S=0,{hours:P,minutes:B,seconds:I,milliseconds:C,microseconds:O,nanoseconds:F}=n8(v,b,p.roundingIncrement,p.smallestUnit,p.largestUnit,p.roundingMode);else{let q=k(e,Ht);if(!MC(q,k(o,Ht)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:x,months:E,weeks:T,days:S,hours:P,minutes:B,seconds:I,milliseconds:C,microseconds:O,nanoseconds:F}=jC(v,b,q,s,p.largestUnit,d)),{years:x,months:E,weeks:T,days:S,hours:P,minutes:B,seconds:I,milliseconds:C,microseconds:O,nanoseconds:F}=pu(x,E,T,S,P,B,I,C,O,F,p.roundingIncrement,p.smallestUnit,p.roundingMode,e),{years:x,months:E,weeks:T,days:S,hours:P,minutes:B,seconds:I,milliseconds:C,microseconds:O,nanoseconds:F}=UC(x,E,T,S,P,B,I,C,O,F,p.roundingIncrement,p.smallestUnit,p.roundingMode,e)}return new(Ne("%Temporal.Duration%"))(n*x,n*E,n*T,n*S,n*P,n*B,n*I,n*C,n*O,n*F)}function ed(t,e,r,i,n,o,s,d){let p=t,v=e,b=r,x=o,E=s;return p+=i,v+=n,{year:p,month:v}=db(p,v),{year:p,month:v,day:b}=wb(p,v,b,d),E+=7*x,b+=E,{year:p,month:v,day:b}=Wb(p,v,b),{year:p,month:v,day:b}}function qC(t,e,r,i,n,o,s,d,p,v,b,x){let E=t,T=e,S=r,P=i,B=n,I=o;E+=s,T+=d,S+=p,P+=v,B+=b,I+=x;let C=0;return{deltaDays:C,hour:E,minute:T,second:S,millisecond:P,microsecond:B,nanosecond:I}=au(E,T,S,P,B,I),{deltaDays:C,hour:E,minute:T,second:S,millisecond:P,microsecond:B,nanosecond:I}}function NC(t,e,r,i,n,o,s,d,p,v,b,x,E,T,S,P,B,I,C,O,F){let q=nd(y4(t,e,r,i,n,o,s,d,p,v),y4(b,x,E,T,S,P,B,I,C,O)),G,$,N,K,_,a,u,h,c,l;if(F)if(wt(F)){let g=Ne("%Temporal.Duration%"),w=k(F,ee),m=new g(t,e,r,i,0,0,0,0,0,0),f=new g(b,x,E,T,0,0,0,0,0,0),y=typeof w!="string"?Ft(w,"dateAdd"):void 0,R=Qi(w,F,m,void 0,y),A=Qi(w,R,f,void 0,y),D=nd("day",q),z=bn(null);z.largestUnit=D,{years:G,months:$,weeks:N,days:K}=yc(w,F,A,z),{days:K,hours:_,minutes:a,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=Ts(K,U.default.add(U.default.BigInt(n),U.default.BigInt(S)),U.default.add(U.default.BigInt(o),U.default.BigInt(P)),U.default.add(U.default.BigInt(s),U.default.BigInt(B)),U.default.add(U.default.BigInt(d),U.default.BigInt(I)),U.default.add(U.default.BigInt(p),U.default.BigInt(C)),U.default.add(U.default.BigInt(v),U.default.BigInt(O)),q)}else{let g=Ne("%Temporal.Instant%"),w=k(F,Ht),m=k(F,ee),f=ns(k(F,gn),w,m,t,e,r,i,n,o,s,d,p,v),y=ns(new g(f),w,m,b,x,E,T,S,P,B,I,C,O);q!=="year"&&q!=="month"&&q!=="week"&&q!=="day"?(G=0,$=0,N=0,K=0,{hours:_,minutes:a,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=n8(k(F,Je),y,1,"nanosecond",q,"halfExpand")):{years:G,months:$,weeks:N,days:K,hours:_,minutes:a,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=jC(k(F,Je),y,w,m,q,bn(null))}else{if(q==="year"||q==="month"||q==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");G=$=N=0,{days:K,hours:_,minutes:a,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}=Ts(i+T,U.default.add(U.default.BigInt(n),U.default.BigInt(S)),U.default.add(U.default.BigInt(o),U.default.BigInt(P)),U.default.add(U.default.BigInt(s),U.default.BigInt(B)),U.default.add(U.default.BigInt(d),U.default.BigInt(I)),U.default.add(U.default.BigInt(p),U.default.BigInt(C)),U.default.add(U.default.BigInt(v),U.default.BigInt(O)),q)}return Ab(G,$,N,K,_,a,u,h,c,l),{years:G,months:$,weeks:N,days:K,hours:_,minutes:a,seconds:u,milliseconds:h,microseconds:c,nanoseconds:l}}function w4(t,e,r,i,n,o,s){let d=Kr;d=U.default.add(d,U.default.BigInt(s)),d=U.default.add(d,U.default.multiply(U.default.BigInt(o),jt)),d=U.default.add(d,U.default.multiply(U.default.BigInt(n),is)),d=U.default.add(d,U.default.multiply(U.default.BigInt(i),af)),d=U.default.add(d,U.default.multiply(U.default.BigInt(r),U.default.BigInt(6e10))),d=U.default.add(d,U.default.multiply(U.default.BigInt(e),U.default.BigInt(36e11)));let p=U.default.add(t,d);return Jl(p),p}function _4(t,e,r,i,n,o,s,d,p,v,b,x,E,T,S,P,B,I,C,O,F){let q=T,{deltaDays:G,hour:$,minute:N,second:K,millisecond:_,microsecond:a,nanosecond:u}=qC(i,n,o,s,d,p,S,P,B,I,C,O);q+=G;let h=Ne("%Temporal.Duration%"),c=Qi(v,os(t,e,r,v),new h(b,x,E,q,0,0,0,0,0,0),F);return{year:k(c,Ue),month:k(c,Fe),day:k(c,$e),hour:$,minute:N,second:K,millisecond:_,microsecond:a,nanosecond:u}}function ns(t,e,r,i,n,o,s,d,p,v,b,x,E,T){let S=Ne("%Temporal.Duration%");if(ff(i,n,o,s,0,0,0,0,0,0)===0)return w4(k(t,Je),d,p,v,b,x,E);let P=Io(e,t,r),B=Qi(r,os(k(P,Ue),k(P,Fe),k(P,$e),r),new S(i,n,o,s,0,0,0,0,0,0),T),I=ho(k(B,Ue),k(B,Fe),k(B,$e),k(P,at),k(P,ft),k(P,ut),k(P,ct),k(P,lt),k(P,dt),r);return w4(k(Ln(e,I,"compatible"),Je),d,p,v,b,x,E)}function GD(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:d,days:p,hours:v,minutes:b,seconds:x,milliseconds:E,microseconds:T,nanoseconds:S}=ld(r),P=lb(xt(i));return{years:o,months:s,weeks:d,days:p,hours:v,minutes:b,seconds:x,milliseconds:E,microseconds:T,nanoseconds:S}=NC(k(e,kn),k(e,Wi),k(e,Zn),k(e,In),k(e,Bn),k(e,Dn),k(e,Cn),k(e,On),k(e,jn),k(e,qn),n*o,n*s,n*d,n*p,n*v,n*b,n*x,n*E,n*T,n*S,P),new(Ne("%Temporal.Duration%"))(o,s,d,p,v,b,x,E,T,S)}function WD(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:d,microseconds:p,nanoseconds:v}=function(E,T){let S=ld(E);for(let P of T)if(S[P]!==0)throw new RangeError(`Duration field ${P} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return S}(r,["years","months","weeks","days"]),b=w4(k(e,Je),i*n,i*o,i*s,i*d,i*p,i*v);return new(Ne("%Temporal.Instant%"))(b)}function KD(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:d,days:p,hours:v,minutes:b,seconds:x,milliseconds:E,microseconds:T,nanoseconds:S}=ld(r),P=xt(i),B=k(e,ee),{year:I,month:C,day:O,hour:F,minute:q,second:G,millisecond:$,microsecond:N,nanosecond:K}=_4(k(e,Ue),k(e,Fe),k(e,$e),k(e,at),k(e,ft),k(e,ut),k(e,ct),k(e,lt),k(e,dt),B,n*o,n*s,n*d,n*p,n*v,n*b,n*x,n*E,n*T,n*S,P);return ho(I,C,O,F,q,G,$,N,K,B)}function HD(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:d,microseconds:p,nanoseconds:v}=ld(r),{hour:b,minute:x,second:E,millisecond:T,microsecond:S,nanosecond:P}=qC(k(e,at),k(e,ft),k(e,ut),k(e,ct),k(e,lt),k(e,dt),i*n,i*o,i*s,i*d,i*p,i*v);return{hour:b,minute:x,second:E,millisecond:T,microsecond:S,nanosecond:P}=Db(b,x,E,T,S,P,"reject"),new(Ne("%Temporal.PlainTime%"))(b,x,E,T,S,P)}function VD(t,e,r,i){let n=ld(r);t==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:o,months:s,weeks:d,days:p,hours:v,minutes:b,seconds:x,milliseconds:E,microseconds:T,nanoseconds:S}=n;({days:p}=Ts(p,v,b,x,E,T,S,"day"));let P=xt(i),B=k(e,ee),I=ui(B,["monthCode","year"]),C=pt(e,I,[]),O=bn(null);B0(O,C,[]),C.day=1;let F=hu(B,C),q=ff(o,s,d,p,0,0,0,0,0,0),G=Ft(B,"dateAdd"),$=Ne("%Temporal.Duration%");if(q<0){let _=Qi(B,F,new $(0,1,0,0,0,0,0,0,0,0),void 0,G),a=Qi(B,_,new $(0,0,0,-1,0,0,0,0,0,0),void 0,G);O.day=ng(B,a),F=hu(B,O)}let N=new $(o,s,d,p,0,0,0,0,0,0),K=Ec(P);return sd(B,pt(Qi(B,F,N,P,G),I,[]),K)}function ZD(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:d,days:p,hours:v,minutes:b,seconds:x,milliseconds:E,microseconds:T,nanoseconds:S}=ld(r),P=xt(i),B=k(e,Ht),I=k(e,ee);return Ji(ns(k(e,gn),B,I,n*o,n*s,n*d,n*p,n*v,n*b,n*x,n*E,n*T,n*S,P),B,I)}function ko(t,e,r){if(U.default.equal(e,H0))return t;let{quotient:i,remainder:n}=Qr(t,e);if(U.default.equal(n,Kr))return t;let o=U.default.lessThan(n,Kr)?-1:1,s=ua(U.default.multiply(n,U.default.BigInt(2))),d=U.default.equal(s,e),p=U.default.greaterThan(s,e);switch(r){case"ceil":o>0&&(i=U.default.add(i,U.default.BigInt(o)));break;case"floor":o<0&&(i=U.default.add(i,U.default.BigInt(o)));break;case"expand":i=U.default.add(i,U.default.BigInt(o));break;case"trunc":break;case"halfCeil":(p||d&&o>0)&&(i=U.default.add(i,U.default.BigInt(o)));break;case"halfFloor":(p||d&&o<0)&&(i=U.default.add(i,U.default.BigInt(o)));break;case"halfExpand":(p||d)&&(i=U.default.add(i,U.default.BigInt(o)));break;case"halfTrunc":p&&(i=U.default.add(i,U.default.BigInt(o)));break;case"halfEven":(p||d&&U.default.toNumber(U.default.remainder(ua(i),U.default.BigInt(2)))===1)&&(i=U.default.add(i,U.default.BigInt(o)))}return U.default.multiply(i,e)}function Tb(t,e,r,i){let{remainder:n}=Yl(t,uf),o=U.default.subtract(t,n),s=ko(n,U.default.BigInt($C[r]*e),i);return U.default.add(o,s)}function s8(t,e,r,i,n,o,s,d,p,v,b,x,E=864e11){let{deltaDays:T,hour:S,minute:P,second:B,millisecond:I,microsecond:C,nanosecond:O}=a8(i,n,o,s,d,p,v,b,x,E),{year:F,month:q,day:G}=Wb(t,e,r+T);return{year:F,month:q,day:G,hour:S,minute:P,second:B,millisecond:I,microsecond:C,nanosecond:O}}function a8(t,e,r,i,n,o,s,d,p,v=864e11){let b=Kr;switch(d){case"day":case"hour":b=U.default.BigInt(t);case"minute":b=U.default.add(U.default.multiply(b,sf),U.default.BigInt(e));case"second":b=U.default.add(U.default.multiply(b,sf),U.default.BigInt(r));case"millisecond":b=U.default.add(U.default.multiply(b,jt),U.default.BigInt(i));case"microsecond":b=U.default.add(U.default.multiply(b,jt),U.default.BigInt(n));case"nanosecond":b=U.default.add(U.default.multiply(b,jt),U.default.BigInt(o))}let x=d==="day"?v:$C[d],E=ko(b,U.default.BigInt(x*s),p),T=U.default.toNumber(U.default.divide(E,U.default.BigInt(x)));switch(d){case"day":return{deltaDays:T,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return au(T,0,0,0,0,0);case"minute":return au(t,T,0,0,0,0);case"second":return au(t,e,T,0,0,0);case"millisecond":return au(t,e,r,T,0,0);case"microsecond":return au(t,e,r,i,T,0);case"nanosecond":return au(t,e,r,i,n,T);default:throw new Error(`Invalid unit ${d}`)}}function hb(t,e){return i8(k(t,Ue),k(t,Fe),k(t,$e),k(e,Ue),k(e,Fe),k(e,$e),"day").days}function yn(t,e,r,i){let n=Qi(t,e,r,void 0,i);return{relativeTo:n,days:hb(e,n)}}function LC(t,e,r,i,n){let o=k(t,Ht),s=k(t,ee);return Ji(ns(k(t,gn),o,s,e,r,i,n,0,0,0,0,0,0),o,s)}function UC(t,e,r,i,n,o,s,d,p,v,b,x,E,T){let S=t,P=e,B=r,I=i,C=n,O=o,F=s,q=d,G=p,$=v;if(!Ge(T)||x==="year"||x==="month"||x==="week"||x==="day"||x==="nanosecond"&&b===1)return{years:S,months:P,weeks:B,days:I,hours:C,minutes:O,seconds:F,milliseconds:q,microseconds:G,nanoseconds:$};let N=G0(0,C,O,F,q,G,$,0),K=N0(U.default.toNumber(N)),_=k(T,Ht),a=k(T,ee),u=ns(k(T,gn),_,a,S,P,B,I,0,0,0,0,0,0),h=ns(new(Ne("%Temporal.Instant%"))(u),_,a,0,0,0,K,0,0,0,0,0,0),c=U.default.subtract(h,u);return U.default.greaterThanOrEqual(U.default.multiply(U.default.subtract(N,c),U.default.BigInt(K)),Kr)&&({years:S,months:P,weeks:B,days:I}=NC(S,P,B,I,0,0,0,0,0,0,0,0,0,K,0,0,0,0,0,0,T),N=Tb(U.default.subtract(N,c),b,x,E),{hours:C,minutes:O,seconds:F,milliseconds:q,microseconds:G,nanoseconds:$}=Ts(0,0,0,0,0,0,U.default.toNumber(N),"hour")),{years:S,months:P,weeks:B,days:I,hours:C,minutes:O,seconds:F,milliseconds:q,microseconds:G,nanoseconds:$}}function pu(t,e,r,i,n,o,s,d,p,v,b,x,E,T){let S=t,P=e,B=r,I=i,C=n,O=o,F=s,q=d,G=p,$=U.default.BigInt(v),N=Ne("%Temporal.Duration%"),K,_,a,u,h=T;if(h){if(Ge(h))_=h,h=Qt(h);else if(!wt(h))throw new TypeError("starting point must be PlainDate or ZonedDateTime");K=k(h,ee)}if(x==="year"||x==="month"||x==="week"||x==="day"){let c,l,g;$=G0(0,C,O,F,q,G,v,0),_&&(c=LC(_,S,P,B,I)),{days:l,nanoseconds:$,dayLengthNs:g}=t8($,c),a=U.default.BigInt(g),I+=l,C=O=F=q=G=0}switch(x){case"year":{if(!K)throw new RangeError("A starting point is required for years rounding");let c=new N(S),l=typeof K!="string"?Ft(K,"dateAdd"):void 0,g=Qi(K,h,c,void 0,l),w=Qi(K,h,new N(S,P,B),void 0,l);h=g,I+=hb(g,w);let m=Qi(K,h,new N(0,0,0,I),void 0,l),f=bn(null);f.largestUnit="year";let y=yc(K,h,m,f).years;S+=y;let R=h;h=Qi(K,h,new N(y),void 0,l),I-=hb(R,h);let A=new N(I<0?-1:1),{days:D}=yn(K,h,A,l);D=ur(D);let z=U.default.multiply(U.default.BigInt(D),a);$=U.default.add(U.default.add(U.default.multiply(z,U.default.BigInt(S)),U.default.multiply(U.default.BigInt(I),a)),$);let W=ko($,U.default.multiply(z,U.default.BigInt(b)),E);u=rf($,z),S=U.default.toNumber(U.default.divide(W,z)),$=Kr,P=B=I=0;break}case"month":{if(!K)throw new RangeError("A starting point is required for months rounding");let c=new N(S,P),l=typeof K!="string"?Ft(K,"dateAdd"):void 0,g=Qi(K,h,c,void 0,l),w=Qi(K,h,new N(S,P,B),void 0,l);h=g,I+=hb(g,w);let m=N0(I),f=new N(0,I<0?-1:1),y;for({relativeTo:h,days:y}=yn(K,h,f,l);ur(I)>=ur(y);)P+=m,I-=y,{relativeTo:h,days:y}=yn(K,h,f,l);y=ur(y);let R=U.default.multiply(U.default.BigInt(y),a);$=U.default.add(U.default.add(U.default.multiply(R,U.default.BigInt(P)),U.default.multiply(U.default.BigInt(I),a)),$);let A=ko($,U.default.multiply(R,U.default.BigInt(b)),E);u=rf($,R),P=U.default.toNumber(U.default.divide(A,R)),$=Kr,B=I=0;break}case"week":{if(!K)throw new RangeError("A starting point is required for weeks rounding");let c=N0(I),l=new N(0,0,I<0?-1:1),g=typeof K!="string"?Ft(K,"dateAdd"):void 0,w;for({relativeTo:h,days:w}=yn(K,h,l,g);ur(I)>=ur(w);)B+=c,I-=w,{relativeTo:h,days:w}=yn(K,h,l,g);w=ur(w);let m=U.default.multiply(U.default.BigInt(w),a);$=U.default.add(U.default.add(U.default.multiply(m,U.default.BigInt(B)),U.default.multiply(U.default.BigInt(I),a)),$);let f=ko($,U.default.multiply(m,U.default.BigInt(b)),E);u=rf($,m),B=U.default.toNumber(U.default.divide(f,m)),$=Kr,I=0;break}case"day":{let c=a;$=U.default.add(U.default.multiply(c,U.default.BigInt(I)),$);let l=ko($,U.default.multiply(c,U.default.BigInt(b)),E);u=rf($,c),I=U.default.toNumber(U.default.divide(l,c)),$=Kr;break}case"hour":{let l=U.default.multiply(U.default.BigInt(C),U.default.BigInt(36e11));l=U.default.add(l,U.default.multiply(U.default.BigInt(O),U.default.BigInt(6e10))),l=U.default.add(l,U.default.multiply(U.default.BigInt(F),af)),l=U.default.add(l,U.default.multiply(U.default.BigInt(q),is)),l=U.default.add(l,U.default.multiply(U.default.BigInt(G),jt)),l=U.default.add(l,$),u=rf(l,U.default.BigInt(36e11));let g=ko(l,U.default.BigInt(36e11*b),E);C=U.default.toNumber(U.default.divide(g,U.default.BigInt(36e11))),$=Kr,O=F=q=G=0;break}case"minute":{let l=U.default.multiply(U.default.BigInt(O),U.default.BigInt(6e10));l=U.default.add(l,U.default.multiply(U.default.BigInt(F),af)),l=U.default.add(l,U.default.multiply(U.default.BigInt(q),is)),l=U.default.add(l,U.default.multiply(U.default.BigInt(G),jt)),l=U.default.add(l,$),u=rf(l,U.default.BigInt(6e10));let g=ko(l,U.default.BigInt(6e10*b),E);O=U.default.toNumber(U.default.divide(g,U.default.BigInt(6e10))),$=Kr,F=q=G=0;break}case"second":{let l=U.default.multiply(U.default.BigInt(F),af);l=U.default.add(l,U.default.multiply(U.default.BigInt(q),is)),l=U.default.add(l,U.default.multiply(U.default.BigInt(G),jt)),l=U.default.add(l,$),u=rf(l,U.default.BigInt(1e9));let g=ko(l,U.default.BigInt(1e9*b),E);F=U.default.toNumber(U.default.divide(g,U.default.BigInt(1e9))),$=Kr,q=G=0;break}case"millisecond":{let l=U.default.multiply(U.default.BigInt(q),is);l=U.default.add(l,U.default.multiply(U.default.BigInt(G),jt)),l=U.default.add(l,$),u=rf(l,U.default.BigInt(1e6));let g=ko(l,U.default.BigInt(1e6*b),E);q=U.default.toNumber(U.default.divide(g,U.default.BigInt(1e6))),$=Kr,G=0;break}case"microsecond":{let l=U.default.multiply(U.default.BigInt(G),jt);l=U.default.add(l,$),u=rf(l,U.default.BigInt(1e3));let g=ko(l,U.default.BigInt(1e3*b),E);G=U.default.toNumber(U.default.divide(g,U.default.BigInt(1e3))),$=Kr;break}case"nanosecond":u=U.default.toNumber($),$=ko(U.default.BigInt($),U.default.BigInt(b),E)}return{years:S,months:P,weeks:B,days:I,hours:C,minutes:O,seconds:F,milliseconds:q,microseconds:G,nanoseconds:U.default.toNumber($),total:u}}function mc(t,e,r,i,n,o){for(let[s,d]of[[t,i],[e,n],[r,o]])if(s!==d)return td(s-d);return 0}function Yl(t,e){let{quotient:r,remainder:i}=Qr(t,e);return U.default.lessThan(i,Kr)&&(r=U.default.subtract(r,H0),i=U.default.add(i,e)),{quotient:r,remainder:i}}function C0(t,e){let{quotient:r,remainder:i}=Qr(t,e);return ts(i)||!vb(t)==!vb(e)?r:U.default.subtract(r,H0)}function rf(t,e){let{quotient:r,remainder:i}=Qr(t,e);return U.default.toNumber(r)+U.default.toNumber(i)/U.default.toNumber(e)}function Pb(t){let e=Uy(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Uy(t){let e=t;if(typeof t=="object"){let r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=Bb(r,t,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?U.default.BigInt(e.toString(10)):U.default.BigInt(e)}var f8=(()=>{let t=U.default.BigInt(Date.now()%1e6);return()=>{let e=U.default.BigInt(Date.now()),r=U.default.add(U.default.multiply(e,is),t);return t=U.default.remainder(e,is),U.default.greaterThan(r,L0)?L0:U.default.lessThan(r,zy)?zy:r}})();function pc(){return new uC().resolvedOptions().timeZone}function td(t){return t<0?-1:t>0?1:t}function xt(t){if(t===void 0)return bn(null);if(cr(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function W0(t,e){let r=bn(null);return r[t]=e,r}function Ec(t){let e=bn(null);return B0(e,xt(t),[]),e}function wc(t,e,r,i){let n=t[e];if(n!==void 0){if(n=Un(n),!r.includes(n))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function mu(t){return soe.includes(lf(t))}function lf(t){return t.replace(/[A-Z]/g,e=>{let r=e.charCodeAt(0);return String.fromCharCode(r+32)})}var FC=new RegExp(`^${sC.source}$`);function zC(t,e,r,i=t(e),n=t(r)){let o=U.default.BigInt(e),s=U.default.BigInt(r),d=i,p=n;for(;U.default.greaterThan(U.default.subtract(s,o),H0);){let v=U.default.divide(U.default.add(o,s),U.default.BigInt(2)),b=t(v);if(b===d)o=v,d=b;else{if(b!==p)throw new Error(`invalid state in bisection ${d} - ${b} - ${p}`);s=v,p=b}}return s}var $C={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},GC=Symbol("date"),WC=Symbol("ym"),KC=Symbol("md"),HC=Symbol("time"),VC=Symbol("datetime"),ZC=Symbol("instant"),O0=Symbol("original"),R0=Symbol("timezone"),As=Symbol("calendar-id"),YC=Symbol("locale"),x4=Symbol("options"),Fy=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),j0=globalThis.Intl.DateTimeFormat,yu=Object.assign,loe=Object.prototype.hasOwnProperty,doe=Reflect.apply;function P0(t,e){let r=t[e];return typeof r=="function"&&(r=new j0(t[YC],r(t[x4])),t[e]=r),r}function ad(t,e={}){if(!(this instanceof ad))return new ad(t,e);let r=e!==void 0,i=r?yu({},e):{},n=new j0(t,i),o=n.resolvedOptions();if(r){let s=yu({},o);for(let d in s)doe(loe,i,[d])||delete s[d];this[x4]=s}else this[x4]=i;this[YC]=o.locale,this[O0]=n,this[R0]=o.timeZone,this[As]=o.calendar,this[GC]=yoe,this[WC]=poe,this[KC]=moe,this[HC]=hoe,this[VC]=goe,this[ZC]=voe}Object.defineProperty(ad,"name",{writable:!0,value:"DateTimeFormat"}),ad.supportedLocalesOf=function(t,e){return j0.supportedLocalesOf(t,e)};var f4={resolvedOptions:Fy(function(){return this[O0].resolvedOptions()}),format:Fy(function(e,...r){let{instant:i,formatter:n}=q0(e,this);return i&&n?n.format(i.epochMilliseconds):this[O0].format(e,...r)}),formatRange:Fy(function(e,r){if(K0(e)||K0(r)){if(!JC(e,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:i,formatter:n}=q0(e,this),{instant:o,formatter:s}=q0(r,this);if(i&&o&&n&&s&&n===s)return n.formatRange(i.epochMilliseconds,o.epochMilliseconds)}return this[O0].formatRange(e,r)})};"formatToParts"in j0.prototype&&(f4.formatToParts=Fy(function(e,...r){let{instant:i,formatter:n}=q0(e,this);return i&&n?n.formatToParts(i.epochMilliseconds):this[O0].formatToParts(e,...r)})),"formatRangeToParts"in j0.prototype&&(f4.formatRangeToParts=Fy(function(e,r){if(K0(e)||K0(r)){if(!JC(e,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:i,formatter:n}=q0(e,this),{instant:o,formatter:s}=q0(r,this);if(i&&o&&n&&s&&n===s)return n.formatRangeToParts(i.epochMilliseconds,o.epochMilliseconds)}return this[O0].formatRangeToParts(e,r)})),ad.prototype=Object.create(j0.prototype,f4),Object.defineProperty(ad,"prototype",{writable:!1,enumerable:!1,configurable:!1});var gu=ad;function ag(t={},e={}){let r=yu({},t);for(let i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[i]=i in e?e[i]:r[i],r[i]!==!1&&r[i]!==void 0||delete r[i];return r}function hoe(t){let e=ag(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return c8(e)||(e=yu({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function poe(t){let e=ag(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=yu(e,{year:"numeric",month:"numeric"})),e}function moe(t){let e=ag(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=yu({},e,{month:"numeric",day:"numeric"})),e}function yoe(t){let e=ag(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return u8(e)||(e=yu({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function goe(t){let e=ag(t,{timeZoneName:!1});return c8(e)||u8(e)||(e=yu({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function voe(t){let e=t;return c8(e)||u8(e)||(e=yu({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function u8(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function c8(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function K0(t){return wt(t)||Wr(t)||ot(t)||Ge(t)||Ot(t)||Pi(t)||gi(t)}function JC(t,e){return!(!K0(t)||!K0(e))&&!(Wr(t)&&!Wr(e))&&!(wt(t)&&!wt(e))&&!(ot(t)&&!ot(e))&&!(Ge(t)&&!Ge(e))&&!(Ot(t)&&!Ot(e))&&!(Pi(t)&&!Pi(e))&&!(gi(t)&&!gi(e))}function q0(t,e){let r=Ne("%Temporal.PlainDateTime%");if(Wr(t)){let i=new r(1970,1,1,k(t,at),k(t,ft),k(t,ut),k(t,ct),k(t,lt),k(t,dt),e[As]);return{instant:Ln(e[R0],i,"compatible"),formatter:P0(e,HC)}}if(Ot(t)){let i=k(t,Ue),n=k(t,Fe),o=k(t,$e),s=en(k(t,ee));if(s!==e[As])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${e[As]}`);let d=new r(i,n,o,12,0,0,0,0,0,s);return{instant:Ln(e[R0],d,"compatible"),formatter:P0(e,WC)}}if(Pi(t)){let i=k(t,Ue),n=k(t,Fe),o=k(t,$e),s=en(k(t,ee));if(s!==e[As])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${e[As]}`);let d=new r(i,n,o,12,0,0,0,0,0,s);return{instant:Ln(e[R0],d,"compatible"),formatter:P0(e,KC)}}if(wt(t)){let i=k(t,Ue),n=k(t,Fe),o=k(t,$e),s=en(k(t,ee));if(s!=="iso8601"&&s!==e[As])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${e[As]}`);let d=new r(i,n,o,12,0,0,0,0,0,e[As]);return{instant:Ln(e[R0],d,"compatible"),formatter:P0(e,GC)}}if(ot(t)){let i=k(t,Ue),n=k(t,Fe),o=k(t,$e),s=k(t,at),d=k(t,ft),p=k(t,ut),v=k(t,ct),b=k(t,lt),x=k(t,dt),E=en(k(t,ee));if(E!=="iso8601"&&E!==e[As])throw new RangeError(`cannot format PlainDateTime with calendar ${E} in locale with calendar ${e[As]}`);let T=t;return E==="iso8601"&&(T=new r(i,n,o,s,d,p,v,b,x,e[As])),{instant:Ln(e[R0],T,"compatible"),formatter:P0(e,VC)}}if(Ge(t))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return gi(t)?{instant:t,formatter:P0(e,ZC)}:{}}var Yke=Object.freeze({__proto__:null,DateTimeFormat:gu}),rs=class{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let r=Uy(e);Jl(r),hf(this),ht(this,Je,r)}get epochSeconds(){if(!gi(this))throw new TypeError("invalid receiver");let e=k(this,Je);return U.default.toNumber(C0(e,af))}get epochMilliseconds(){if(!gi(this))throw new TypeError("invalid receiver");let e=U.default.BigInt(k(this,Je));return U.default.toNumber(C0(e,is))}get epochMicroseconds(){if(!gi(this))throw new TypeError("invalid receiver");return Pb(C0(U.default.BigInt(k(this,Je)),jt))}get epochNanoseconds(){if(!gi(this))throw new TypeError("invalid receiver");return Pb(U.default.BigInt(k(this,Je)))}add(e){if(!gi(this))throw new TypeError("invalid receiver");return WD("add",this,e)}subtract(e){if(!gi(this))throw new TypeError("invalid receiver");return WD("subtract",this,e)}until(e,r){if(!gi(this))throw new TypeError("invalid receiver");return ND("until",this,e,r)}since(e,r){if(!gi(this))throw new TypeError("invalid receiver");return ND("since",this,e,r)}round(e){if(!gi(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?W0("smallestUnit",e):xt(e),i=Z0(r),n=la(r,"halfExpand"),o=yo(r,"smallestUnit","time",id);Y0(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[o],!0);let s=Tb(k(this,Je),i,o,n);return new rs(s)}equals(e){if(!gi(this))throw new TypeError("invalid receiver");let r=ca(e),i=k(this,Je),n=k(r,Je);return U.default.equal(U.default.BigInt(i),U.default.BigInt(n))}toString(e){if(!gi(this))throw new TypeError("invalid receiver");let r=xt(e),i=eg(r),n=la(r,"trunc"),o=yo(r,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let s=r.timeZone;s!==void 0&&(s=vn(s));let{precision:d,unit:p,increment:v}=tg(o,i),b=Tb(k(this,Je),v,p,n);return RD(new rs(b),s,d)}toJSON(){if(!gi(this))throw new TypeError("invalid receiver");return RD(this,void 0,"auto")}toLocaleString(e,r){if(!gi(this))throw new TypeError("invalid receiver");return new gu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!gi(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid argument in toZonedDateTime");let r=e.calendar;if(r===void 0)throw new TypeError("missing calendar property in toZonedDateTime");let i=go(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");let o=vn(n);return Ji(k(this,Je),o,i)}toZonedDateTimeISO(e){if(!gi(this))throw new TypeError("invalid receiver");let r=vn(e);return Ji(k(this,Je),r,"iso8601")}static fromEpochSeconds(e){let r=U0(e),i=U.default.multiply(U.default.BigInt(r),af);return Jl(i),new rs(i)}static fromEpochMilliseconds(e){let r=U0(e),i=U.default.multiply(U.default.BigInt(r),is);return Jl(i),new rs(i)}static fromEpochMicroseconds(e){let r=Uy(e),i=U.default.multiply(r,jt);return Jl(i),new rs(i)}static fromEpochNanoseconds(e){let r=Uy(e);return Jl(r),new rs(r)}static from(e){return gi(e)?new rs(k(e,Je)):ca(e)}static compare(e,r){let i=ca(e),n=ca(r),o=k(i,Je),s=k(n,Je);return U.default.lessThan(o,s)?-1:U.default.greaterThan(o,s)?1:0}};df(rs,"Temporal.Instant");var QC=Array.prototype.includes,boe=Array.prototype.push,woe=globalThis.Intl.DateTimeFormat,_oe=Array.prototype.sort,xoe=Math.abs,Moe=Math.floor,u4=Object.create,M4=Object.entries,XC=Set,YD=Reflect.ownKeys,mn=Set.prototype.add,eO=Set.prototype.values,gr={},yr=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");let r=Un(e);if(!mu(r))throw new RangeError(`invalid calendar identifier ${r}`);hf(this),ht(this,Nr,lf(r))}get id(){if(!$r(this))throw new TypeError("invalid receiver");return k(this,Nr)}dateFromFields(e,r){if(!$r(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid fields");let i=xt(r),n=k(this,Nr);return gr[n].dateFromFields(e,i,n)}yearMonthFromFields(e,r){if(!$r(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid fields");let i=xt(r),n=k(this,Nr);return gr[n].yearMonthFromFields(e,i,n)}monthDayFromFields(e,r){if(!$r(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid fields");let i=xt(r),n=k(this,Nr);return gr[n].monthDayFromFields(e,i,n)}fields(e){if(!$r(this))throw new TypeError("invalid receiver");let r=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let n of e){if(typeof n!="string")throw new TypeError("invalid fields");if(!i.has(n))throw new RangeError(`invalid field name ${n}`);i.delete(n),boe.call(r,n)}return gr[k(this,Nr)].fields(r)}mergeFields(e,r){if(!$r(this))throw new TypeError("invalid receiver");let i=TD(e),n=u4(null);B0(n,i,[],[void 0]);let o=TD(r),s=u4(null);B0(s,o,[],[void 0]);let d=YD(s),p=gr[k(this,Nr)].fieldKeysToIgnore(d),v=u4(null),b=YD(n);for(let x of b){let E;E=Ve(QC,p,[x])?s[x]:n[x],E!==void 0&&(v[x]=E)}return B0(v,s,[]),v}dateAdd(e,r,i){if(!$r(this))throw new TypeError("invalid receiver");let n=Qt(e),o=D0(r),s=Xr(xt(i)),{days:d}=Ts(k(o,In),k(o,Bn),k(o,Dn),k(o,Cn),k(o,On),k(o,jn),k(o,qn),"day"),p=k(this,Nr);return gr[p].dateAdd(n,k(o,kn),k(o,Wi),k(o,Zn),d,s,p)}dateUntil(e,r,i){if(!$r(this))throw new TypeError("invalid receiver");let n=Qt(e),o=Qt(r),s=yo(xt(i),"largestUnit","date","auto");s==="auto"&&(s="day");let{years:d,months:p,weeks:v,days:b}=gr[k(this,Nr)].dateUntil(n,o,s);return new(Ne("%Temporal.Duration%"))(d,p,v,b,0,0,0,0,0,0)}year(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].year(r)}month(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");if(Pi(r))throw new TypeError("use monthCode on PlainMonthDay instead");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].month(r)}monthCode(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||Pi(r)||(r=Qt(r)),gr[k(this,Nr)].monthCode(r)}day(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Pi(r)||(r=Qt(r)),gr[k(this,Nr)].day(r)}era(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].era(r)}eraYear(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].eraYear(r)}dayOfWeek(e){if(!$r(this))throw new TypeError("invalid receiver");let r=Qt(e);return gr[k(this,Nr)].dayOfWeek(r)}dayOfYear(e){if(!$r(this))throw new TypeError("invalid receiver");let r=Qt(e);return gr[k(this,Nr)].dayOfYear(r)}weekOfYear(e){if(!$r(this))throw new TypeError("invalid receiver");let r=Qt(e);return gr[k(this,Nr)].weekOfYear(r)}yearOfWeek(e){if(!$r(this))throw new TypeError("invalid receiver");let r=Qt(e);return gr[k(this,Nr)].yearOfWeek(r)}daysInWeek(e){if(!$r(this))throw new TypeError("invalid receiver");let r=Qt(e);return gr[k(this,Nr)].daysInWeek(r)}daysInMonth(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].daysInMonth(r)}daysInYear(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].daysInYear(r)}monthsInYear(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].monthsInYear(r)}inLeapYear(e){let r=e;if(!$r(this))throw new TypeError("invalid receiver");return Ot(r)||(r=Qt(r)),gr[k(this,Nr)].inLeapYear(r)}toString(){if(!$r(this))throw new TypeError("invalid receiver");return k(this,Nr)}toJSON(){if(!$r(this))throw new TypeError("invalid receiver");return k(this,Nr)}static from(e){return J0(go(e))}};function l8(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function lu(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function pb(t,e,r=12){let{month:i,monthCode:n}=t;if(n===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Xi(i,1,r),e==="constrain"&&(i=po(i,1,r)),n=lu(i)}else{let o=l8(n);if(i!==void 0&&i!==o)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==lu(o))throw new RangeError(`Invalid month code: ${n}`);if(i=o,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...t,month:i,monthCode:n}}df(yr,"Temporal.Calendar"),Lr("Temporal.Calendar.from",yr.from),Lr("Temporal.Calendar.prototype.dateAdd",yr.prototype.dateAdd),Lr("Temporal.Calendar.prototype.dateFromFields",yr.prototype.dateFromFields),Lr("Temporal.Calendar.prototype.dateUntil",yr.prototype.dateUntil),Lr("Temporal.Calendar.prototype.day",yr.prototype.day),Lr("Temporal.Calendar.prototype.dayOfWeek",yr.prototype.dayOfWeek),Lr("Temporal.Calendar.prototype.dayOfYear",yr.prototype.dayOfYear),Lr("Temporal.Calendar.prototype.daysInMonth",yr.prototype.daysInMonth),Lr("Temporal.Calendar.prototype.daysInWeek",yr.prototype.daysInWeek),Lr("Temporal.Calendar.prototype.daysInYear",yr.prototype.daysInYear),Lr("Temporal.Calendar.prototype.era",yr.prototype.era),Lr("Temporal.Calendar.prototype.eraYear",yr.prototype.eraYear),Lr("Temporal.Calendar.prototype.fields",yr.prototype.fields),Lr("Temporal.Calendar.prototype.inLeapYear",yr.prototype.inLeapYear),Lr("Temporal.Calendar.prototype.mergeFields",yr.prototype.mergeFields),Lr("Temporal.Calendar.prototype.month",yr.prototype.month),Lr("Temporal.Calendar.prototype.monthCode",yr.prototype.monthCode),Lr("Temporal.Calendar.prototype.monthDayFromFields",yr.prototype.monthDayFromFields),Lr("Temporal.Calendar.prototype.monthsInYear",yr.prototype.monthsInYear),Lr("Temporal.Calendar.prototype.weekOfYear",yr.prototype.weekOfYear),Lr("Temporal.Calendar.prototype.year",yr.prototype.year),Lr("Temporal.Calendar.prototype.yearMonthFromFields",yr.prototype.yearMonthFromFields),Lr("Temporal.Calendar.prototype.yearOfWeek",yr.prototype.yearOfWeek),gr.iso8601={dateFromFields(t,e,r){let i=pt(t,["day","month","monthCode","year"],["year","day"]),n=Xr(e);i=pb(i);let{year:o,month:s,day:d}=i;return{year:o,month:s,day:d}=wb(o,s,d,n),os(o,s,d,r)},yearMonthFromFields(t,e,r){let i=pt(t,["month","monthCode","year"],["year"]),n=Xr(e);i=pb(i);let{year:o,month:s}=i;return{year:o,month:s}=function(p,v,b){let x=p,E=v;switch(b){case"reject":cf(x,E,1);break;case"constrain":({year:x,month:E}=BC(x,E))}return{year:x,month:E}}(o,s,n),Gy(o,s,r,1)},monthDayFromFields(t,e,r){let i=pt(t,["day","month","monthCode","year"],["day"]),n=Xr(e);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");let o=i.monthCode===void 0;i=pb(i);let{month:s,day:d,year:p}=i;return{month:s,day:d}=wb(o?p:1972,s,d,n),$y(s,d,r,1972)},fields:t=>t,fieldKeysToIgnore(t){let e=new XC;for(let r=0;r<t.length;r++){let i=t[r];Ve(mn,e,[i]),i==="month"?Ve(mn,e,["monthCode"]):i==="monthCode"&&Ve(mn,e,["month"])}return[...Ve(eO,e,[])]},dateAdd(t,e,r,i,n,o,s){let d=k(t,Ue),p=k(t,Fe),v=k(t,$e);return{year:d,month:p,day:v}=ed(d,p,v,e,r,i,n,o),os(d,p,v,s)},dateUntil:(t,e,r)=>i8(k(t,Ue),k(t,Fe),k(t,$e),k(e,Ue),k(e,Fe),k(e,$e),r),year:t=>k(t,Ue),era(){},eraYear(){},month:t=>k(t,Fe),monthCode:t=>lu(k(t,Fe)),day:t=>k(t,$e),dayOfWeek:t=>b4(k(t,Ue),k(t,Fe),k(t,$e)),dayOfYear:t=>Sb(k(t,Ue),k(t,Fe),k(t,$e)),weekOfYear:t=>jD(k(t,Ue),k(t,Fe),k(t,$e)).week,yearOfWeek:t=>jD(k(t,Ue),k(t,Fe),k(t,$e)).year,daysInWeek:()=>7,daysInMonth:t=>cu(k(t,Ue),k(t,Fe)),daysInYear(t){let e=t;return ki(e,Ue)||(e=Qt(e)),bc(k(e,Ue))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return ki(e,Ue)||(e=Qt(e)),bc(k(e,Ue))}};var fr=class{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let r=0;for(let i of e.map.entries()){if(++r>fr.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){let r=this.map.get(e);return r&&(this.hits++,this.report()),this.calls++,r}set(e,r){this.map.set(e,r),this.misses++,this.report()}report(){}setObject(e){if(fr.objectMap.get(e))throw new RangeError("object already cached");fr.objectMap.set(e,this),this.report()}static getCacheForObject(e){let r=fr.objectMap.get(e);return r||(r=new fr,fr.objectMap.set(e,r)),r}};function tO({isoYear:t,isoMonth:e,isoDay:r}){return`${dd(t)}-${vr(e)}-${vr(r)}T00:00Z`}function c4(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}fr.objectMap=new WeakMap,fr.MAX_CACHE_ENTRIES=1e3;var _c=class{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new woe(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,r){let{year:i,month:n,day:o}=e,s=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:n,isoDay:o,id:this.id}),d=r.get(s);if(d)return d;let p=this.getFormatter(),v,b;try{b=tO({isoYear:i,isoMonth:n,isoDay:o}),v=p.formatToParts(new Date(b))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:n,isoDay:o})}`)}let x={};for(let{type:T,value:S}of v){if(T==="year"&&(x.eraYear=+S),T==="relatedYear"&&(x.eraYear=+S),T==="month"){let P=/^([0-9]*)(.*?)$/.exec(S);if(!P||P.length!=3||!P[1]&&!P[2])throw new RangeError(`Unexpected month: ${S}`);if(x.month=P[1]?+P[1]:1,x.month<1)throw new RangeError(`Invalid month ${S} from ${b}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(x.month>13)throw new RangeError(`Invalid month ${S} from ${b}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);P[2]&&(x.monthExtra=P[2])}T==="day"&&(x.day=+S),this.hasEra&&T==="era"&&S!=null&&S!==""&&(S=S.split(" (")[0],x.era=S.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(x.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:T,eraYear:S}=this.reviseIntlEra(x,e);x.era=T,x.eraYear=S}this.checkIcuBugs&&this.checkIcuBugs(e);let E=this.adjustCalendarDate(x,r,"constrain",!0);if(E.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(E.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(E.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return r.set(s,E),["constrain","reject"].forEach(T=>{let S=JSON.stringify({func:"calendarToIsoDate",year:E.year,month:E.month,day:E.day,overflow:T,id:this.id});r.set(S,e)}),E}validateCalendarDate(e){let{era:r,month:i,year:n,day:o,eraYear:s,monthCode:d,monthExtra:p}=e;if(p!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(n===void 0&&s===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&d===void 0)throw new TypeError("month or monthCode is required");if(o===void 0)throw new RangeError("Missing day");if(d!==void 0){if(typeof d!="string")throw new RangeError("monthCode must be a string, not "+typeof d);if(!/^M([01]?\d)(L?)$/.test(d))throw new RangeError(`Invalid monthCode: ${d}`)}if(this.constantEra){if(r!==void 0&&r!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${r}`);if(s!==void 0&&n!==void 0&&s!==n)throw new RangeError(`eraYear ${s} does not match year ${n}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,r,i="constrain",n=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let o=e;if(this.validateCalendarDate(o),this.constantEra){let{year:v,eraYear:b}=o;o={...o,era:this.constantEra,year:v!==void 0?v:b,eraYear:b!==void 0?b:v}}let s=this.monthsInYear(o,r),{month:d,monthCode:p}=o;return{month:d,monthCode:p}=pb(o,i,s),{...o,month:d,monthCode:p}}regulateMonthDayNaive(e,r,i){let n=this.monthsInYear(e,i),{month:o,day:s}=e;return r==="reject"?(Xi(o,1,n),Xi(s,1,this.maximumMonthLength(e))):(o=po(o,1,n),s=po(s,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:s}}calendarToIsoDate(e,r="constrain",i){let n=e,o=this.adjustCalendarDate(e,i,r,!1);o=this.regulateMonthDayNaive(o,r,i);let{year:s,month:d,day:p}=o,v=JSON.stringify({func:"calendarToIsoDate",year:s,month:d,day:p,overflow:r,id:this.id}),b,x=i.get(v);if(x||n.year!==void 0&&n.month!==void 0&&n.day!==void 0&&(n.year!==o.year||n.month!==o.month||n.day!==o.day)&&(b=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:r,id:this.id}),x=i.get(b),x))return x;let E=this.estimateIsoDate({year:s,month:d,day:p}),T=C=>{let O=this.addDaysIso(E,C);if(o.day>this.minimumMonthLength(o)){let F=this.isoToCalendarDate(O,i);for(;F.month!==d||F.year!==s;){if(r==="reject")throw new RangeError(`day ${p} does not exist in month ${d} of year ${s}`);O=this.addDaysIso(O,-1),F=this.isoToCalendarDate(O,i)}}return O},S=0,P=this.isoToCalendarDate(E,i),B=c4(o,P);if(B.years!==0||B.months!==0||B.days!==0){let C=365*B.years+30*B.months+B.days;E=this.addDaysIso(E,C),P=this.isoToCalendarDate(E,i),B=c4(o,P),B.years===0&&B.months===0?E=T(B.days):S=this.compareCalendarDates(o,P)}let I=8;for(;S;){E=this.addDaysIso(E,S*I);let C=P;P=this.isoToCalendarDate(E,i);let O=S;if(S=this.compareCalendarDates(o,P),S){if(B=c4(o,P),B.years===0&&B.months===0)E=T(B.days),S=0;else if(O&&S!==O)if(I>1)I/=2;else{if(r==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(P,C)>0&&(E=this.addDaysIso(E,-1)),S=0}}}if(i.set(v,E),b&&i.set(b,E),o.year===void 0||o.month===void 0||o.day===void 0||o.monthCode===void 0||this.hasEra&&(o.era===void 0||o.eraYear===void 0))throw new RangeError("Unexpected missing property");return E}temporalToCalendarDate(e,r){let i={year:k(e,Ue),month:k(e,Fe),day:k(e,$e)};return this.isoToCalendarDate(i,r)}compareCalendarDates(e,r){let i=pt(e,["day","month","year"],["day","month","year"]),n=pt(r,["day","month","year"],["day","month","year"]);return i.year!==n.year?td(i.year-n.year):i.month!==n.month?td(i.month-n.month):i.day!==n.day?td(i.day-n.day):0}regulateDate(e,r="constrain",i){let n=this.calendarToIsoDate(e,r,i);return this.isoToCalendarDate(n,i)}addDaysIso(e,r){return ed(e.year,e.month,e.day,0,0,0,r,"constrain")}addDaysCalendar(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.addDaysIso(n,r);return this.isoToCalendarDate(o,i)}addMonthsCalendar(e,r,i,n){let o=e,{day:s}=o;for(let d=0,p=xoe(r);d<p;d++){let{month:v}=o,b=o,x=r<0?-Math.max(s,this.daysInPreviousMonth(o,n)):this.daysInMonth(o,n),E=this.calendarToIsoDate(o,"constrain",n),T=this.addDaysIso(E,x);if(o=this.isoToCalendarDate(T,n),r>0){let S=this.monthsInYear(b,n);for(;o.month-1!=v%S;)T=this.addDaysIso(T,-1),o=this.isoToCalendarDate(T,n)}o.day!==s&&(o=this.regulateDate({...o,day:s},"constrain",n))}if(i==="reject"&&o.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return o}addCalendar(e,{years:r=0,months:i=0,weeks:n=0,days:o=0},s,d){let{year:p,day:v,monthCode:b}=e,x=this.adjustCalendarDate({year:p+r,monthCode:b,day:v},d),E=this.addMonthsCalendar(x,i,s,d),T=o+7*n;return this.addDaysCalendar(E,T,d)}untilCalendar(e,r,i,n){let o=0,s=0,d=0,p=0;switch(i){case"day":o=this.calendarDaysUntil(e,r,n);break;case"week":{let v=this.calendarDaysUntil(e,r,n);o=v%7,s=(v-o)/7;break}case"month":case"year":{let v=this.compareCalendarDates(r,e);if(!v)return{years:0,months:0,weeks:0,days:0};let b=r.year-e.year,x=r.day-e.day;if(i==="year"&&b){let S=0;r.monthCode>e.monthCode&&(S=1),r.monthCode<e.monthCode&&(S=-1),S||(S=Math.sign(x)),p=S*v<0?b-v:b}let E,T=p?this.addCalendar(e,{years:p},"constrain",n):e;do d+=v,E=T,T=this.addMonthsCalendar(E,v,"constrain",n),T.day!==e.day&&(T=this.regulateDate({...T,day:e.day},"constrain",n));while(this.compareCalendarDates(r,T)*v>=0);d-=v,o=this.calendarDaysUntil(E,r,n);break}}return{years:p,months:d,weeks:s,days:o}}daysInMonth(e,r){let{day:i}=e,n=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===n)return o;let s=i<=n-o?n:o,d=this.calendarToIsoDate(e,"constrain",r),p=this.addDaysIso(d,s),v=this.isoToCalendarDate(p,r),b=this.addDaysIso(p,-v.day);return this.isoToCalendarDate(b,r).day}daysInPreviousMonth(e,r){let{day:i,month:n,year:o}=e,s={year:n>1?o:o-1,month:n,day:1},d=n>1?n-1:this.monthsInYear(s,r);s={...s,month:d};let p=this.minimumMonthLength(s),v=this.maximumMonthLength(s);if(p===v)return v;let b=this.calendarToIsoDate(e,"constrain",r),x=this.addDaysIso(b,-i);return this.isoToCalendarDate(x,r).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.calendarToIsoDate(r,"constrain",i);return this.isoDaysUntil(n,o)}isoDaysUntil(e,r){return i8(e.year,e.month,e.day,r.year,r.month,r.day,"day").days}monthDayFromFields(e,r,i){let n,o,s,d,p,{monthCode:v,day:b}=e;if(v===void 0){let{year:T,era:S,eraYear:P}=e;if(T===void 0&&(S===void 0||P===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:v,day:b}=this.isoToCalendarDate(this.calendarToIsoDate(e,r,i),i))}let x=this.isoToCalendarDate({year:1972,month:12,day:31},i),E=x.monthCode>v||x.monthCode===v&&x.day>=b?x.year:x.year-1;for(let T=0;T<100;T++){let S=this.adjustCalendarDate({day:b,monthCode:v,year:E-T},i),P=this.calendarToIsoDate(S,"constrain",i),B=this.isoToCalendarDate(P,i);if({year:n,month:o,day:s}=P,B.monthCode===v&&B.day===b)return{month:o,day:s,year:n};r==="constrain"&&(d===void 0||B.monthCode===d.monthCode&&B.day>d.day)&&(d=B,p=P)}if(r==="constrain"&&p!==void 0)return p;throw new RangeError(`No recent ${this.id} year with monthCode ${v} and day ${b}`)}},E4=class extends _c{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){let{year:r}=e;return(7*r+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,r){let{month:i,year:n}=e,o=this.getMonthCode(n,i),s=M4(this.months).find(p=>p[1].monthCode===o);if(s===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);let d=s[1].days;return typeof d=="number"?d:d[r]}estimateIsoDate(e){let{year:r}=e;return{year:r-3760,month:1,day:1}}getMonthCode(e,r){return this.inLeapYear({year:e})?r===6?lu(5,!0):lu(r<6?r:r-1):lu(r)}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,eraYear:s,month:d,monthCode:p,day:v,monthExtra:b}=e;if(o===void 0&&s!==void 0&&(o=s),s===void 0&&o!==void 0&&(s=o),n){if(b){let x=this.months[b];if(!x)throw new RangeError(`Unrecognized month from formatToParts: ${b}`);d=this.inLeapYear({year:o})?x.leap:x.regular}return p=this.getMonthCode(o,d),{year:o,month:d,day:v,era:void 0,eraYear:s,monthCode:p}}if(this.validateCalendarDate(e),d===void 0)if(p.endsWith("L")){if(p!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${p}`);if(d=6,!this.inLeapYear({year:o})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);d=6,p="M06"}}else{d=l8(p),this.inLeapYear({year:o})&&d>=6&&d++;let x=this.monthsInYear({year:o});if(d<1||d>x)throw new RangeError(`Invalid monthCode: ${p}`)}else if(i==="reject"?(Xi(d,1,this.monthsInYear({year:o})),Xi(v,1,this.maximumMonthLength({year:o,month:d}))):(d=po(d,1,this.monthsInYear({year:o})),v=po(v,1,this.maximumMonthLength({year:o,month:d}))),p===void 0)p=this.getMonthCode(o,d);else if(this.getMonthCode(o,d)!==p)throw new RangeError(`monthCode ${p} doesn't correspond to month ${d} in Hebrew year ${o}`);return{...e,day:v,month:d,monthCode:p,year:o,eraYear:s}}},xc=class extends _c{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,r){return this.daysInMonth({year:e.year,month:12,day:1},r)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:Moe(r*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},Rb=class extends xc{constructor(){super(...arguments),this.id="islamic"}},S4=class extends xc{constructor(){super(...arguments),this.id="islamic-umalqura"}},A4=class extends xc{constructor(){super(...arguments),this.id="islamic-tbla"}},T4=class extends xc{constructor(){super(...arguments),this.id="islamic-civil"}},P4=class extends xc{constructor(){super(...arguments),this.id="islamic-rgsa"}},R4=class extends xc{constructor(){super(...arguments),this.id="islamicc"}},k4=class extends _c{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,r){return Rb.prototype.inLeapYear.call(this,e,r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===12?29:r<=6?31:30}maximumMonthLength(e){let{month:r}=e;return r===12?30:r<=6?31:30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:r+621,month:1,day:1}}},I4=class extends _c{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return rO(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){let{month:r}=e,i=this.months[r];if(i===void 0)throw new RangeError(`Invalid month: ${r}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){let r=this.adjustCalendarDate(e),i=this.getMonthInfo(r);return ed(r.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,r.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function rO(t){return t%4==0&&(t%100!=0||t%400==0)}var fd=class extends _c{constructor(e,r){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;let{eras:i,anchorEra:n}=function(s){let d,p=s;if(p.length===0)throw new RangeError("Invalid era data: eras are required");if(p.length===1&&p[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(p.length===1&&!p[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(p.filter(b=>b.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");p.forEach(b=>{if(b.isAnchor||!b.anchorEpoch&&!b.reverseOf){if(d)throw new RangeError("Invalid era data: cannot have multiple anchor eras");d=b,b.anchorEpoch={year:b.hasYearZero?0:1}}else if(!b.name)throw new RangeError("If era name is blank, it must be the anchor era")}),p=p.filter(b=>b.name),p.forEach(b=>{let{reverseOf:x}=b;if(x){let E=p.find(T=>T.name===x);if(E===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${x}`);b.reverseOf=E,b.anchorEpoch=E.anchorEpoch,b.isoEpoch=E.isoEpoch}b.anchorEpoch.month===void 0&&(b.anchorEpoch.month=1),b.anchorEpoch.day===void 0&&(b.anchorEpoch.day=1)}),_oe.call(p,(b,x)=>{if(b.reverseOf)return 1;if(x.reverseOf)return-1;if(!b.isoEpoch||!x.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return x.isoEpoch.year-b.isoEpoch.year});let v=p[p.length-1].reverseOf;if(v&&v!==p[p.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return p.forEach((b,x)=>{b.genericName="era"+(p.length-1-x)}),{eras:p,anchorEra:d||p[0]}}(r);this.anchorEra=n,this.eras=i}inLeapYear(e){let{year:r}=this.estimateIsoDate({month:1,day:1,year:e.year});return rO(r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(r)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){let r=(d,p)=>{let v=e[d];if(v!=null&&v!=p)throw new RangeError(`Input ${d} ${v} doesn't match calculated value ${p}`)},i=d=>{let p,v={...e,year:d},b=this.eras.find((x,E)=>{if(E===this.eras.length-1){if(x.reverseOf){if(d>0)throw new RangeError(`Signed year ${d} is invalid for era ${x.name}`);return p=x.anchorEpoch.year-d,!0}return p=d-x.anchorEpoch.year+(x.hasYearZero?0:1),!0}return this.compareCalendarDates(v,x.anchorEpoch)>=0&&(p=d-x.anchorEpoch.year+(x.hasYearZero?0:1),!0)});if(!b)throw new RangeError(`Year ${d} was not matched by any era`);return{eraYear:p,era:b.name}},{year:n,eraYear:o,era:s}=e;if(n!=null)({eraYear:o,era:s}=i(n)),r("era",s),r("eraYear",o);else{if(o==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let d=s===void 0?void 0:this.eras.find(p=>p.name===s||p.genericName===s);if(!d)throw new RangeError(`Era ${s} (ISO year ${o}) was not matched by any era`);if(o<1&&d.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${n}`);n=d.reverseOf?d.anchorEpoch.year-o:o+d.anchorEpoch.year-(d.hasYearZero?0:1),r("year",n),{eraYear:o,era:s}=i(n)}}return{...e,year:n,eraYear:o,era:s}}adjustCalendarDate(e,r,i="constrain"){let n=e,{month:o,monthCode:s}=n;return o===void 0&&(n={...n,month:l8(s)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,r,i)}estimateIsoDate(e){let r=this.adjustCalendarDate(e),{year:i,month:n,day:o}=r,{anchorEra:s}=this;return wb(i+s.isoEpoch.year-(s.hasYearZero?0:1),n,o,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&mc(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},Ky=class extends fd{constructor(e,r){super(e,r)}inLeapYear(e){let{year:r}=e;return(r+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){let{month:r}=e;return r===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}},B4=class extends Ky{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},D4=class extends Ky{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},C4=class extends Ky{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},O4=class extends fd{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},j4=class extends fd{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},q4=class extends fd{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:r,eraYear:i}=e;return r!=="bc"&&r!=="b"||(r="bce"),r!=="ad"&&r!=="a"||(r="ce"),{era:r,eraYear:i}}},N4=class extends fd{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,r){let{era:i,eraYear:n}=e,{year:o}=r;return this.eras.find(s=>s.name===i)?{era:i,eraYear:n}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}},kb=class extends _c{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,r){let i=this.getMonthList(e.year,r);return M4(i).length===13}monthsInYear(e,r){return this.inLeapYear(e,r)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,r){if(e===void 0)throw new TypeError("Missing year");let i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=r.get(i);if(n)return n;let o=this.getFormatter(),s=(B,I)=>{let C=tO({isoYear:B,isoMonth:2,isoDay:1}),O=new Date(C);O.setUTCDate(I+1);let F=o.formatToParts(O),q=F.find(N=>N.type==="month").value,G=+F.find(N=>N.type==="day").value,$=F.find(N=>N.type==="relatedYear");if($===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return $=+$.value,{calendarMonthString:q,calendarDay:G,calendarYearToVerify:$}},d=17,{calendarMonthString:p,calendarDay:v,calendarYearToVerify:b}=s(e,d);p!=="1"&&(d+=29,{calendarMonthString:p,calendarDay:v}=s(e,d)),d-=v-5;let x={},E,T,S=1,P=!1;do({calendarMonthString:p,calendarDay:v,calendarYearToVerify:b}=s(e,d)),E&&(x[T].daysInMonth=E+30-v),b!==e?P=!0:(x[p]={monthIndex:S++},d+=30),E=v,T=p;while(!P);return x[T].daysInMonth=E+30-v,r.set(i,x),x}estimateIsoDate(e){let{year:r,month:i}=e;return{year:r,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,month:s,monthExtra:d,day:p,monthCode:v,eraYear:b}=e;if(n){if(o=b,d&&d!=="bis")throw new RangeError(`Unexpected leap month suffix: ${d}`);let x=lu(s,d!==void 0),E=`${s}${d||""}`,T=this.getMonthList(o,r)[E];if(T===void 0)throw new RangeError(`Unmatched month ${E} in Chinese year ${o}`);return s=T.monthIndex,{year:o,month:s,day:p,era:void 0,eraYear:b,monthCode:x}}if(this.validateCalendarDate(e),o===void 0&&(o=b),b===void 0&&(b=o),s===void 0){let x=this.getMonthList(o,r),E=v.replace("L","bis").slice(1);E[0]==="0"&&(E=E.slice(1));let T=x[E];if(s=T&&T.monthIndex,s===void 0&&v.endsWith("L")&&v!="M13L"&&i==="constrain"){let S=v.slice(1,-1);S[0]==="0"&&(S=S.slice(1)),T=x[S],T&&(s=T.monthIndex,v=lu(S))}if(s===void 0)throw new RangeError(`Unmatched month ${v} in Chinese year ${o}`)}else if(v===void 0){let x=this.getMonthList(o,r),E=M4(x),T=E.length;i==="reject"?(Xi(s,1,T),Xi(p,1,this.maximumMonthLength())):(s=po(s,1,T),p=po(p,1,this.maximumMonthLength()));let S=E.find(([,P])=>P.monthIndex===s);if(S===void 0)throw new RangeError(`Invalid month ${s} in Chinese year ${o}`);v=lu(S[0].replace("bis",""),S[0].indexOf("bis")!==-1)}else{let x=this.getMonthList(o,r),E=v.replace("L","bis").slice(1);E[0]==="0"&&(E=E.slice(1));let T=x[E];if(!T)throw new RangeError(`Unmatched monthCode ${v} in Chinese year ${o}`);if(s!==T.monthIndex)throw new RangeError(`monthCode ${v} doesn't correspond to month ${s} in Chinese year ${o}`)}return{...e,year:o,eraYear:b,month:s,monthCode:v,day:p}}},L4=class extends kb{constructor(){super(...arguments),this.id="chinese"}},U4=class extends kb{constructor(){super(...arguments),this.id="dangi"}},F4=class{constructor(e){this.helper=e}dateFromFields(e,r,i){let n=new fr,o=pt(e,this.fields(["day","month","monthCode","year"]),[]),s=Xr(r),{year:d,month:p,day:v}=this.helper.calendarToIsoDate(o,s,n),b=os(d,p,v,i);return n.setObject(b),b}yearMonthFromFields(e,r,i){let n=new fr,o=pt(e,this.fields(["month","monthCode","year"]),[]),s=Xr(r),{year:d,month:p,day:v}=this.helper.calendarToIsoDate({...o,day:1},s,n),b=Gy(d,p,i,v);return n.setObject(b),b}monthDayFromFields(e,r,i){let n=new fr,o=pt(e,this.fields(["day","month","monthCode","year"]),[]),s=Xr(r),{year:d,month:p,day:v}=this.helper.monthDayFromFields(o,s,n),b=$y(p,v,i,d);return n.setObject(b),b}fields(e){let r=e;return QC.call(r,"year")&&(r=[...r,"era","eraYear"]),r}fieldKeysToIgnore(e){let r=new XC;for(let i=0;i<e.length;i++){let n=e[i];switch(Ve(mn,r,[n]),n){case"era":Ve(mn,r,["eraYear"]),Ve(mn,r,["year"]);break;case"eraYear":Ve(mn,r,["era"]),Ve(mn,r,["year"]);break;case"year":Ve(mn,r,["era"]),Ve(mn,r,["eraYear"]);break;case"month":Ve(mn,r,["monthCode"]),this.helper.erasBeginMidYear&&(Ve(mn,r,["era"]),Ve(mn,r,["eraYear"]));break;case"monthCode":Ve(mn,r,["month"]),this.helper.erasBeginMidYear&&(Ve(mn,r,["era"]),Ve(mn,r,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Ve(mn,r,["era"]),Ve(mn,r,["eraYear"]))}}return[...Ve(eO,r,[])]}dateAdd(e,r,i,n,o,s,d){let p=fr.getCacheForObject(e),v=this.helper.temporalToCalendarDate(e,p),b=this.helper.addCalendar(v,{years:r,months:i,weeks:n,days:o},s,p),x=this.helper.calendarToIsoDate(b,"constrain",p),{year:E,month:T,day:S}=x,P=os(E,T,S,d);return new fr(p).setObject(P),P}dateUntil(e,r,i){let n=fr.getCacheForObject(e),o=fr.getCacheForObject(r),s=this.helper.temporalToCalendarDate(e,n),d=this.helper.temporalToCalendarDate(r,o);return this.helper.untilCalendar(s,d,i,n)}year(e){let r=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).year}month(e){let r=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).month}day(e){let r=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).day}era(e){if(!this.helper.hasEra)return;let r=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).era}eraYear(e){if(!this.helper.hasEra)return;let r=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).eraYear}monthCode(e){let r=fr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).monthCode}dayOfWeek(e){return gr.iso8601.dayOfWeek(e)}dayOfYear(e){let r=fr.getCacheForObject(e),i=this.helper.isoToCalendarDate(e,r),n=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(n,i,r)+1}weekOfYear(e){return gr.iso8601.weekOfYear(e)}yearOfWeek(e){return gr.iso8601.yearOfWeek(e)}daysInWeek(e){return gr.iso8601.daysInWeek(e)}daysInMonth(e){let r=fr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r),n=this.helper.maximumMonthLength(i);if(n===this.helper.minimumMonthLength(i))return n;let o=this.helper.startOfCalendarMonth(i),s=this.helper.addMonthsCalendar(o,1,"constrain",r);return this.helper.calendarDaysUntil(o,s,r)}daysInYear(e){let r=e;ki(r,Ue)||(r=Qt(r));let i=fr.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i),o=this.helper.startOfCalendarYear(n),s=this.helper.addCalendar(o,{years:1},"constrain",i);return this.helper.calendarDaysUntil(o,s,i)}monthsInYear(e){let r=fr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r);return this.helper.monthsInYear(i,r)}inLeapYear(e){let r=e;ki(r,Ue)||(r=Qt(r));let i=fr.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i);return this.helper.inLeapYear(n,i)}};for(let t of[E4,k4,C4,B4,D4,L4,U4,O4,I4,j4,q4,N4,Rb,S4,A4,T4,P4,R4]){let e=new t;gr[e.id]=new F4(e)}var ud=class{constructor(e,r,i,n="iso8601"){yC(this,Bt(e),Bt(r),Bt(i),go(n))}get calendarId(){if(!wt(this))throw new TypeError("invalid receiver");return en(k(this,ee))}get era(){if(!wt(this))throw new TypeError("invalid receiver");return jb(k(this,ee),this)}get eraYear(){if(!wt(this))throw new TypeError("invalid receiver");return qb(k(this,ee),this)}get year(){if(!wt(this))throw new TypeError("invalid receiver");return Cb(k(this,ee),this)}get month(){if(!wt(this))throw new TypeError("invalid receiver");return Ob(k(this,ee),this)}get monthCode(){if(!wt(this))throw new TypeError("invalid receiver");return ig(k(this,ee),this)}get day(){if(!wt(this))throw new TypeError("invalid receiver");return ng(k(this,ee),this)}get dayOfWeek(){if(!wt(this))throw new TypeError("invalid receiver");return H4(k(this,ee),this)}get dayOfYear(){if(!wt(this))throw new TypeError("invalid receiver");return V4(k(this,ee),this)}get weekOfYear(){if(!wt(this))throw new TypeError("invalid receiver");return Z4(k(this,ee),this)}get yearOfWeek(){if(!wt(this))throw new TypeError("invalid receiver");return Y4(k(this,ee),this)}get daysInWeek(){if(!wt(this))throw new TypeError("invalid receiver");return J4(k(this,ee),this)}get daysInMonth(){if(!wt(this))throw new TypeError("invalid receiver");return Nb(k(this,ee),this)}get daysInYear(){if(!wt(this))throw new TypeError("invalid receiver");return Lb(k(this,ee),this)}get monthsInYear(){if(!wt(this))throw new TypeError("invalid receiver");return Ub(k(this,ee),this)}get inLeapYear(){if(!wt(this))throw new TypeError("invalid receiver");return Fb(k(this,ee),this)}with(e,r){if(!wt(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid argument");V0(e);let i=xt(r),n=k(this,ee),o=ui(n,["day","month","monthCode","year"]),s=pt(this,o,[]);return s=od(n,s,pt(e,o,"partial")),s=pt(s,o,[]),hu(n,s,i)}withCalendar(e){if(!wt(this))throw new TypeError("invalid receiver");let r=go(e);return new ud(k(this,Ue),k(this,Fe),k(this,$e),r)}add(e,r){if(!wt(this))throw new TypeError("invalid receiver");let i=D0(e),n=xt(r);return Qi(k(this,ee),this,i,n)}subtract(e,r){if(!wt(this))throw new TypeError("invalid receiver");let i=IC(D0(e)),n=xt(r);return Qi(k(this,ee),this,i,n)}until(e,r){if(!wt(this))throw new TypeError("invalid receiver");return LD("until",this,e,r)}since(e,r){if(!wt(this))throw new TypeError("invalid receiver");return LD("since",this,e,r)}equals(e){if(!wt(this))throw new TypeError("invalid receiver");let r=Qt(e);for(let i of[Ue,Fe,$e])if(k(this,i)!==k(r,i))return!1;return sg(k(this,ee),k(r,ee))}toString(e){if(!wt(this))throw new TypeError("invalid receiver");return kD(this,Xy(xt(e)))}toJSON(){if(!wt(this))throw new TypeError("invalid receiver");return kD(this)}toLocaleString(e,r){if(!wt(this))throw new TypeError("invalid receiver");return new gu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!wt(this))throw new TypeError("invalid receiver");let r=k(this,Ue),i=k(this,Fe),n=k(this,$e),o=k(this,ee);if(e===void 0)return ho(r,i,n,0,0,0,0,0,0,o);let s=fu(e);return ho(r,i,n,k(s,at),k(s,ft),k(s,ut),k(s,ct),k(s,lt),k(s,dt),o)}toZonedDateTime(e){if(!wt(this))throw new TypeError("invalid receiver");let r,i;if(cr(e))if(es(e))r=e;else{let S=e.timeZone;S===void 0?r=vn(e):(r=vn(S),i=e.plainTime)}else r=vn(e);let n=k(this,Ue),o=k(this,Fe),s=k(this,$e),d=k(this,ee),p=0,v=0,b=0,x=0,E=0,T=0;return i!==void 0&&(i=fu(i),p=k(i,at),v=k(i,ft),b=k(i,ut),x=k(i,ct),E=k(i,lt),T=k(i,dt)),Ji(k(Ln(r,ho(n,o,s,p,v,b,x,E,T,d),"compatible"),Je),r,d)}toPlainYearMonth(){if(!wt(this))throw new TypeError("invalid receiver");let e=k(this,ee);return sd(e,pt(this,ui(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!wt(this))throw new TypeError("invalid receiver");let e=k(this,ee);return z0(e,pt(this,ui(e,["day","monthCode"]),[]))}getISOFields(){if(!wt(this))throw new TypeError("invalid receiver");return{calendar:k(this,ee),isoDay:k(this,$e),isoMonth:k(this,Fe),isoYear:k(this,Ue)}}getCalendar(){if(!wt(this))throw new TypeError("invalid receiver");return J0(k(this,ee))}static from(e,r){let i=xt(r);return wt(e)?(Xr(i),os(k(e,Ue),k(e,Fe),k(e,$e),k(e,ee))):Qt(e,i)}static compare(e,r){let i=Qt(e),n=Qt(r);return mc(k(i,Ue),k(i,Fe),k(i,$e),k(n,Ue),k(n,Fe),k(n,$e))}};df(ud,"Temporal.PlainDate");var cd=class{constructor(e,r,i,n=0,o=0,s=0,d=0,p=0,v=0,b="iso8601"){gC(this,Bt(e),Bt(r),Bt(i),n===void 0?0:Bt(n),o===void 0?0:Bt(o),s===void 0?0:Bt(s),d===void 0?0:Bt(d),p===void 0?0:Bt(p),v===void 0?0:Bt(v),go(b))}get calendarId(){if(!ot(this))throw new TypeError("invalid receiver");return en(k(this,ee))}get year(){if(!ot(this))throw new TypeError("invalid receiver");return Cb(k(this,ee),this)}get month(){if(!ot(this))throw new TypeError("invalid receiver");return Ob(k(this,ee),this)}get monthCode(){if(!ot(this))throw new TypeError("invalid receiver");return ig(k(this,ee),this)}get day(){if(!ot(this))throw new TypeError("invalid receiver");return ng(k(this,ee),this)}get hour(){if(!ot(this))throw new TypeError("invalid receiver");return k(this,at)}get minute(){if(!ot(this))throw new TypeError("invalid receiver");return k(this,ft)}get second(){if(!ot(this))throw new TypeError("invalid receiver");return k(this,ut)}get millisecond(){if(!ot(this))throw new TypeError("invalid receiver");return k(this,ct)}get microsecond(){if(!ot(this))throw new TypeError("invalid receiver");return k(this,lt)}get nanosecond(){if(!ot(this))throw new TypeError("invalid receiver");return k(this,dt)}get era(){if(!ot(this))throw new TypeError("invalid receiver");return jb(k(this,ee),this)}get eraYear(){if(!ot(this))throw new TypeError("invalid receiver");return qb(k(this,ee),this)}get dayOfWeek(){if(!ot(this))throw new TypeError("invalid receiver");return H4(k(this,ee),this)}get dayOfYear(){if(!ot(this))throw new TypeError("invalid receiver");return V4(k(this,ee),this)}get weekOfYear(){if(!ot(this))throw new TypeError("invalid receiver");return Z4(k(this,ee),this)}get yearOfWeek(){if(!ot(this))throw new TypeError("invalid receiver");return Y4(k(this,ee),this)}get daysInWeek(){if(!ot(this))throw new TypeError("invalid receiver");return J4(k(this,ee),this)}get daysInYear(){if(!ot(this))throw new TypeError("invalid receiver");return Lb(k(this,ee),this)}get daysInMonth(){if(!ot(this))throw new TypeError("invalid receiver");return Nb(k(this,ee),this)}get monthsInYear(){if(!ot(this))throw new TypeError("invalid receiver");return Ub(k(this,ee),this)}get inLeapYear(){if(!ot(this))throw new TypeError("invalid receiver");return Fb(k(this,ee),this)}with(e,r){if(!ot(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid argument");V0(e);let i=xt(r),n=k(this,ee),o=ui(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),s=pt(this,o,[]);s=od(n,s,pt(e,o,"partial")),s=pt(s,o,[]);let{year:d,month:p,day:v,hour:b,minute:x,second:E,millisecond:T,microsecond:S,nanosecond:P}=rg(n,s,i);return ho(d,p,v,b,x,E,T,S,P,n)}withPlainTime(e){if(!ot(this))throw new TypeError("invalid receiver");let r=k(this,Ue),i=k(this,Fe),n=k(this,$e),o=k(this,ee);if(e===void 0)return ho(r,i,n,0,0,0,0,0,0,o);let s=fu(e);return ho(r,i,n,k(s,at),k(s,ft),k(s,ut),k(s,ct),k(s,lt),k(s,dt),o)}withPlainDate(e){if(!ot(this))throw new TypeError("invalid receiver");let r=Qt(e),i=k(r,Ue),n=k(r,Fe),o=k(r,$e),s=k(r,ee),d=k(this,at),p=k(this,ft),v=k(this,ut),b=k(this,ct),x=k(this,lt),E=k(this,dt);return s=_C(k(this,ee),s),ho(i,n,o,d,p,v,b,x,E,s)}withCalendar(e){if(!ot(this))throw new TypeError("invalid receiver");let r=go(e);return new cd(k(this,Ue),k(this,Fe),k(this,$e),k(this,at),k(this,ft),k(this,ut),k(this,ct),k(this,lt),k(this,dt),r)}add(e,r){if(!ot(this))throw new TypeError("invalid receiver");return KD("add",this,e,r)}subtract(e,r){if(!ot(this))throw new TypeError("invalid receiver");return KD("subtract",this,e,r)}until(e,r){if(!ot(this))throw new TypeError("invalid receiver");return UD("until",this,e,r)}since(e,r){if(!ot(this))throw new TypeError("invalid receiver");return UD("since",this,e,r)}round(e){if(!ot(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?W0("smallestUnit",e):xt(e),i=Z0(r),n=la(r,"halfExpand"),o=yo(r,"smallestUnit","time",id,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];Y0(i,s,s===1);let d=k(this,Ue),p=k(this,Fe),v=k(this,$e),b=k(this,at),x=k(this,ft),E=k(this,ut),T=k(this,ct),S=k(this,lt),P=k(this,dt);return{year:d,month:p,day:v,hour:b,minute:x,second:E,millisecond:T,microsecond:S,nanosecond:P}=s8(d,p,v,b,x,E,T,S,P,i,o,n),ho(d,p,v,b,x,E,T,S,P,k(this,ee))}equals(e){if(!ot(this))throw new TypeError("invalid receiver");let r=Xl(e);for(let i of[Ue,Fe,$e,at,ft,ut,ct,lt,dt])if(k(this,i)!==k(r,i))return!1;return sg(k(this,ee),k(r,ee))}toString(e){if(!ot(this))throw new TypeError("invalid receiver");let r=xt(e),i=Xy(r),n=eg(r),o=la(r,"trunc"),s=yo(r,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:d,unit:p,increment:v}=tg(s,n);return ID(this,d,i,{unit:p,increment:v,roundingMode:o})}toJSON(){if(!ot(this))throw new TypeError("invalid receiver");return ID(this,"auto")}toLocaleString(e,r){if(!ot(this))throw new TypeError("invalid receiver");return new gu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,r){if(!ot(this))throw new TypeError("invalid receiver");let i=vn(e);return Ji(k(Ln(i,this,F0(xt(r))),Je),i,k(this,ee))}toPlainDate(){if(!ot(this))throw new TypeError("invalid receiver");return $0(this)}toPlainYearMonth(){if(!ot(this))throw new TypeError("invalid receiver");let e=k(this,ee);return sd(e,pt(this,ui(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ot(this))throw new TypeError("invalid receiver");let e=k(this,ee);return z0(e,pt(this,ui(e,["day","monthCode"]),[]))}toPlainTime(){if(!ot(this))throw new TypeError("invalid receiver");return Q4(this)}getISOFields(){if(!ot(this))throw new TypeError("invalid receiver");return{calendar:k(this,ee),isoDay:k(this,$e),isoHour:k(this,at),isoMicrosecond:k(this,lt),isoMillisecond:k(this,ct),isoMinute:k(this,ft),isoMonth:k(this,Fe),isoNanosecond:k(this,dt),isoSecond:k(this,ut),isoYear:k(this,Ue)}}getCalendar(){if(!ot(this))throw new TypeError("invalid receiver");return J0(k(this,ee))}static from(e,r){let i=xt(r);return ot(e)?(Xr(i),ho(k(e,Ue),k(e,Fe),k(e,$e),k(e,at),k(e,ft),k(e,ut),k(e,ct),k(e,lt),k(e,dt),k(e,ee))):Xl(e,i)}static compare(e,r){let i=Xl(e),n=Xl(r);for(let o of[Ue,Fe,$e,at,ft,ut,ct,lt,dt]){let s=k(i,o),d=k(n,o);if(s!==d)return td(s-d)}return 0}};df(cd,"Temporal.PlainDateTime");var of=class{constructor(e=0,r=0,i=0,n=0,o=0,s=0,d=0,p=0,v=0,b=0){let x=e===void 0?0:Ri(e),E=r===void 0?0:Ri(r),T=i===void 0?0:Ri(i),S=n===void 0?0:Ri(n),P=o===void 0?0:Ri(o),B=s===void 0?0:Ri(s),I=d===void 0?0:Ri(d),C=p===void 0?0:Ri(p),O=v===void 0?0:Ri(v),F=b===void 0?0:Ri(b);Ab(x,E,T,S,P,B,I,C,O,F),hf(this),ht(this,kn,x),ht(this,Wi,E),ht(this,Zn,T),ht(this,In,S),ht(this,Bn,P),ht(this,Dn,B),ht(this,Cn,I),ht(this,On,C),ht(this,jn,O),ht(this,qn,F)}get years(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,kn)}get months(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,Wi)}get weeks(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,Zn)}get days(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,In)}get hours(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,Bn)}get minutes(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,Dn)}get seconds(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,Cn)}get milliseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,On)}get microseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,jn)}get nanoseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return k(this,qn)}get sign(){if(!Gr(this))throw new TypeError("invalid receiver");return ff(k(this,kn),k(this,Wi),k(this,Zn),k(this,In),k(this,Bn),k(this,Dn),k(this,Cn),k(this,On),k(this,jn),k(this,qn))}get blank(){if(!Gr(this))throw new TypeError("invalid receiver");return ff(k(this,kn),k(this,Wi),k(this,Zn),k(this,In),k(this,Bn),k(this,Dn),k(this,Cn),k(this,On),k(this,jn),k(this,qn))===0}with(e){if(!Gr(this))throw new TypeError("invalid receiver");let r=pt(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=k(this,kn),months:n=k(this,Wi),weeks:o=k(this,Zn),days:s=k(this,In),hours:d=k(this,Bn),minutes:p=k(this,Dn),seconds:v=k(this,Cn),milliseconds:b=k(this,On),microseconds:x=k(this,jn),nanoseconds:E=k(this,qn)}=r;return new of(i,n,o,s,d,p,v,b,x,E)}negated(){if(!Gr(this))throw new TypeError("invalid receiver");return IC(this)}abs(){if(!Gr(this))throw new TypeError("invalid receiver");return new of(Math.abs(k(this,kn)),Math.abs(k(this,Wi)),Math.abs(k(this,Zn)),Math.abs(k(this,In)),Math.abs(k(this,Bn)),Math.abs(k(this,Dn)),Math.abs(k(this,Cn)),Math.abs(k(this,On)),Math.abs(k(this,jn)),Math.abs(k(this,qn)))}add(e,r){if(!Gr(this))throw new TypeError("invalid receiver");return GD("add",this,e,r)}subtract(e,r){if(!Gr(this))throw new TypeError("invalid receiver");return GD("subtract",this,e,r)}round(e){if(!Gr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=k(this,kn),i=k(this,Wi),n=k(this,Zn),o=k(this,In),s=k(this,Bn),d=k(this,Dn),p=k(this,Cn),v=k(this,On),b=k(this,jn),x=k(this,qn),E=y4(r,i,n,o,s,d,p,v,b,x),T=typeof e=="string"?W0("smallestUnit",e):xt(e),S=yo(T,"largestUnit","datetime",void 0,["auto"]),P=lb(T),B=Z0(T),I=la(T,"halfExpand"),C=yo(T,"smallestUnit","datetime",void 0),O=!0;C||(O=!1,C="nanosecond"),E=nd(E,C);let F=!0;if(S||(F=!1,S=E),S==="auto"&&(S=E),!O&&!F)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(nd(S,C)!==S)throw new RangeError(`largestUnit ${S} cannot be smaller than smallestUnit ${C}`);let q={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[C];return q!==void 0&&Y0(B,q,!1),{years:r,months:i,weeks:n,days:o}=cb(r,i,n,o,S,P),{years:r,months:i,weeks:n,days:o,hours:s,minutes:d,seconds:p,milliseconds:v,microseconds:b,nanoseconds:x}=pu(r,i,n,o,s,d,p,v,b,x,B,C,I,P),{years:r,months:i,weeks:n,days:o,hours:s,minutes:d,seconds:p,milliseconds:v,microseconds:b,nanoseconds:x}=UC(r,i,n,o,s,d,p,v,b,x,B,C,I,P),{days:o,hours:s,minutes:d,seconds:p,milliseconds:v,microseconds:b,nanoseconds:x}=Ts(o,s,d,p,v,b,x,S,P),{years:r,months:i,weeks:n,days:o}=function($,N,K,_,a,u){let h=Ne("%Temporal.Duration%"),c=ff($,N,K,_,0,0,0,0,0,0);if(c===0)return{years:$,months:N,weeks:K,days:_};let l=U.default.BigInt(c),g,w,m=U.default.BigInt($),f=U.default.BigInt(N),y=U.default.BigInt(K),R=U.default.BigInt(_);u&&(w=Qt(u),g=k(w,ee));let A=new h(c),D=new h(0,c),z=new h(0,0,c);switch(a){case"year":{if(!g)throw new RangeError("a starting point is required for years balancing");let W=typeof g!="string"?Ft(g,"dateAdd"):void 0,H,J,Z;for({relativeTo:H,days:J}=yn(g,w,A,W);U.default.greaterThanOrEqual(ua(R),U.default.BigInt(ur(J)));)R=U.default.subtract(R,U.default.BigInt(J)),m=U.default.add(m,l),w=H,{relativeTo:H,days:J}=yn(g,w,A,W);for({relativeTo:H,days:Z}=yn(g,w,D,W);U.default.greaterThanOrEqual(ua(R),U.default.BigInt(ur(Z)));)R=U.default.subtract(R,U.default.BigInt(Z)),f=U.default.add(f,l),w=H,{relativeTo:H,days:Z}=yn(g,w,D,W);H=Qi(g,w,A,void 0,W);let Y=typeof g!="string"?Ft(g,"dateUntil"):void 0,Le=bn(null);Le.largestUnit="month";let Q=yc(g,w,H,Le,Y),X=k(Q,Wi);for(;U.default.greaterThanOrEqual(ua(f),U.default.BigInt(ur(X)));){f=U.default.subtract(f,U.default.BigInt(X)),m=U.default.add(m,l),w=H,H=Qi(g,w,A,void 0,W);let Qe=bn(null);Qe.largestUnit="month",Q=yc(g,w,H,Qe,Y),X=k(Q,Wi)}break}case"month":{if(!g)throw new RangeError("a starting point is required for months balancing");let W=typeof g!="string"?Ft(g,"dateAdd"):void 0,H,J;for({relativeTo:H,days:J}=yn(g,w,D,W);U.default.greaterThanOrEqual(ua(R),U.default.BigInt(ur(J)));)R=U.default.subtract(R,U.default.BigInt(J)),f=U.default.add(f,l),w=H,{relativeTo:H,days:J}=yn(g,w,D,W);break}case"week":{if(!g)throw new RangeError("a starting point is required for weeks balancing");let W=typeof g!="string"?Ft(g,"dateAdd"):void 0,H,J;for({relativeTo:H,days:J}=yn(g,w,z,W);U.default.greaterThanOrEqual(ua(R),U.default.BigInt(ur(J)));)R=U.default.subtract(R,U.default.BigInt(J)),y=U.default.add(y,l),w=H,{relativeTo:H,days:J}=yn(g,w,z,W);break}}return{years:U.default.toNumber(m),months:U.default.toNumber(f),weeks:U.default.toNumber(y),days:U.default.toNumber(R)}}(r,i,n,o,S,P),new of(r,i,n,o,s,d,p,v,b,x)}total(e){if(!Gr(this))throw new TypeError("invalid receiver");let r=k(this,kn),i=k(this,Wi),n=k(this,Zn),o=k(this,In),s=k(this,Bn),d=k(this,Dn),p=k(this,Cn),v=k(this,On),b=k(this,jn),x=k(this,qn);if(e===void 0)throw new TypeError("options argument is required");let E=typeof e=="string"?W0("unit",e):xt(e),T=lb(E),S=yo(E,"unit","datetime",id),P;({years:r,months:i,weeks:n,days:o}=cb(r,i,n,o,S,T)),Ge(T)&&(P=LC(T,r,i,n,0));let B=kC(o,s,d,p,v,b,x,S,P);if(B==="positive overflow")return 1/0;if(B==="negative overflow")return-1/0;({days:o,hours:s,minutes:d,seconds:p,milliseconds:v,microseconds:b,nanoseconds:x}=B);let{total:I}=pu(r,i,n,o,s,d,p,v,b,x,1,S,"trunc",T);return I}toString(e){if(!Gr(this))throw new TypeError("invalid receiver");let r=xt(e),i=eg(r),n=la(r,"trunc"),o=yo(r,"smallestUnit","time",void 0);if(o==="hour"||o==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');let{precision:s,unit:d,increment:p}=tg(o,i);return a4(this,s,{unit:d,increment:p,roundingMode:n})}toJSON(){if(!Gr(this))throw new TypeError("invalid receiver");return a4(this)}toLocaleString(e,r){if(!Gr(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,r).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),a4(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Gr(e)?new of(k(e,kn),k(e,Wi),k(e,Zn),k(e,In),k(e,Bn),k(e,Dn),k(e,Cn),k(e,On),k(e,jn),k(e,qn)):D0(e)}static compare(e,r,i){let n=D0(e),o=D0(r),s=lb(xt(i)),d=k(n,kn),p=k(n,Wi),v=k(n,Zn),b=k(n,In),x=k(n,Bn),E=k(n,Dn),T=k(n,Cn),S=k(n,On),P=k(n,jn),B=k(n,qn),I=k(o,kn),C=k(o,Wi),O=k(o,Zn),F=k(o,In),q=k(o,Bn),G=k(o,Dn),$=k(o,Cn),N=k(o,On),K=k(o,jn),_=k(o,qn),a=qD(s,d,p,v,b),u=qD(s,I,C,O,F);d===0&&I===0&&p===0&&C===0&&v===0&&O===0||({days:b}=cb(d,p,v,b,"day",s),{days:F}=cb(I,C,O,F,"day",s));let h=G0(b,x,E,T,S,P,B,a),c=G0(F,q,G,$,N,K,_,u);return td(U.default.toNumber(U.default.subtract(h,c)))}};df(of,"Temporal.Duration");var Eoe=Object.create,Hy=class{constructor(e,r,i="iso8601",n=1972){vC(this,Bt(e),Bt(r),go(i),Bt(n))}get monthCode(){if(!Pi(this))throw new TypeError("invalid receiver");return ig(k(this,ee),this)}get day(){if(!Pi(this))throw new TypeError("invalid receiver");return ng(k(this,ee),this)}get calendarId(){if(!Pi(this))throw new TypeError("invalid receiver");return en(k(this,ee))}with(e,r){if(!Pi(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid argument");V0(e);let i=xt(r),n=k(this,ee),o=ui(n,["day","month","monthCode","year"]),s=pt(this,o,[]);return s=od(n,s,pt(e,o,"partial")),s=pt(s,o,[]),z0(n,s,i)}equals(e){if(!Pi(this))throw new TypeError("invalid receiver");let r=PD(e);for(let i of[Fe,$e,Ue])if(k(this,i)!==k(r,i))return!1;return sg(k(this,ee),k(r,ee))}toString(e){if(!Pi(this))throw new TypeError("invalid receiver");return BD(this,Xy(xt(e)))}toJSON(){if(!Pi(this))throw new TypeError("invalid receiver");return BD(this)}toLocaleString(e,r){if(!Pi(this))throw new TypeError("invalid receiver");return new gu(e,r).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Pi(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("argument should be an object");let r=k(this,ee),i=ui(r,["day","monthCode"]),n=pt(this,i,[]),o=ui(r,["year"]),s=od(r,n,pt(e,o,[]));s=pt(s,[...new Set([...i,...o])],[]);let d=Eoe(null);return d.overflow="reject",hu(r,s,d)}getISOFields(){if(!Pi(this))throw new TypeError("invalid receiver");return{calendar:k(this,ee),isoDay:k(this,$e),isoMonth:k(this,Fe),isoYear:k(this,Ue)}}getCalendar(){if(!Pi(this))throw new TypeError("invalid receiver");return J0(k(this,ee))}static from(e,r){let i=xt(r);return Pi(e)?(Xr(i),$y(k(e,Fe),k(e,$e),k(e,ee),k(e,Ue))):PD(e,i)}};df(Hy,"Temporal.PlainMonthDay");var d8=()=>new(Ne("%Temporal.Instant%"))(f8()),JD=(t,e=pc())=>{let r=vn(e),i=go(t);return Io(r,d8(),i)},l4=(t=pc())=>Io(vn(t),d8(),"iso8601"),QD=(t,e=pc())=>{let r=vn(e),i=go(t);return Ji(f8(),r,i)},iO={instant:d8,plainDateTime:JD,plainDateTimeISO:l4,plainDate:(t,e=pc())=>$0(JD(t,e)),plainDateISO:(t=pc())=>$0(l4(t)),plainTimeISO:(t=pc())=>Q4(l4(t)),timeZoneId:()=>pc(),zonedDateTime:QD,zonedDateTimeISO:(t=pc())=>QD("iso8601",t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(iO,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var Soe=Object.assign;function XD(t,e,r){let i=k(t,at),n=k(t,ft),o=k(t,ut),s=k(t,ct),d=k(t,lt),p=k(t,dt);if(r){let{unit:v,increment:b,roundingMode:x}=r;({hour:i,minute:n,second:o,millisecond:s,microsecond:d,nanosecond:p}=a8(i,n,o,s,d,p,b,v,x))}return`${vr(i)}:${vr(n)}${$b(o,s,d,p,e)}`}var du=class{constructor(e=0,r=0,i=0,n=0,o=0,s=0){let d=e===void 0?0:Bt(e),p=r===void 0?0:Bt(r),v=i===void 0?0:Bt(i),b=n===void 0?0:Bt(n),x=o===void 0?0:Bt(o),E=s===void 0?0:Bt(s);Kb(d,p,v,b,x,E),hf(this),ht(this,at,d),ht(this,ft,p),ht(this,ut,v),ht(this,ct,b),ht(this,lt,x),ht(this,dt,E)}get hour(){if(!Wr(this))throw new TypeError("invalid receiver");return k(this,at)}get minute(){if(!Wr(this))throw new TypeError("invalid receiver");return k(this,ft)}get second(){if(!Wr(this))throw new TypeError("invalid receiver");return k(this,ut)}get millisecond(){if(!Wr(this))throw new TypeError("invalid receiver");return k(this,ct)}get microsecond(){if(!Wr(this))throw new TypeError("invalid receiver");return k(this,lt)}get nanosecond(){if(!Wr(this))throw new TypeError("invalid receiver");return k(this,dt)}with(e,r){if(!Wr(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid argument");V0(e);let i=Xr(xt(r)),n=xb(e,"partial"),o=xb(this),{hour:s,minute:d,second:p,millisecond:v,microsecond:b,nanosecond:x}=Soe(o,n);return{hour:s,minute:d,second:p,millisecond:v,microsecond:b,nanosecond:x}=Db(s,d,p,v,b,x,i),new du(s,d,p,v,b,x)}add(e){if(!Wr(this))throw new TypeError("invalid receiver");return HD("add",this,e)}subtract(e){if(!Wr(this))throw new TypeError("invalid receiver");return HD("subtract",this,e)}until(e,r){if(!Wr(this))throw new TypeError("invalid receiver");return FD("until",this,e,r)}since(e,r){if(!Wr(this))throw new TypeError("invalid receiver");return FD("since",this,e,r)}round(e){if(!Wr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?W0("smallestUnit",e):xt(e),i=Z0(r),n=la(r,"halfExpand"),o=yo(r,"smallestUnit","time",id);Y0(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o],!1);let s=k(this,at),d=k(this,ft),p=k(this,ut),v=k(this,ct),b=k(this,lt),x=k(this,dt);return{hour:s,minute:d,second:p,millisecond:v,microsecond:b,nanosecond:x}=a8(s,d,p,v,b,x,i,o,n),new du(s,d,p,v,b,x)}equals(e){if(!Wr(this))throw new TypeError("invalid receiver");let r=fu(e);for(let i of[at,ft,ut,ct,lt,dt])if(k(this,i)!==k(r,i))return!1;return!0}toString(e){if(!Wr(this))throw new TypeError("invalid receiver");let r=xt(e),i=eg(r),n=la(r,"trunc"),o=yo(r,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:s,unit:d,increment:p}=tg(o,i);return XD(this,s,{unit:d,increment:p,roundingMode:n})}toJSON(){if(!Wr(this))throw new TypeError("invalid receiver");return XD(this,"auto")}toLocaleString(e,r){if(!Wr(this))throw new TypeError("invalid receiver");return new gu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Wr(this))throw new TypeError("invalid receiver");let r=Qt(e),i=k(r,Ue),n=k(r,Fe),o=k(r,$e),s=k(r,ee);return ho(i,n,o,k(this,at),k(this,ft),k(this,ut),k(this,ct),k(this,lt),k(this,dt),s)}toZonedDateTime(e){if(!Wr(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid argument");let r=e.plainDate;if(r===void 0)throw new TypeError("missing date property");let i=Qt(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property");let o=vn(n),s=k(i,Ue),d=k(i,Fe),p=k(i,$e),v=k(i,ee),b=k(this,at),x=k(this,ft),E=k(this,ut),T=k(this,ct),S=k(this,lt),P=k(this,dt);return Ji(k(Ln(o,new(Ne("%Temporal.PlainDateTime%"))(s,d,p,b,x,E,T,S,P,v),"compatible"),Je),o,v)}getISOFields(){if(!Wr(this))throw new TypeError("invalid receiver");return{isoHour:k(this,at),isoMicrosecond:k(this,lt),isoMillisecond:k(this,ct),isoMinute:k(this,ft),isoNanosecond:k(this,dt),isoSecond:k(this,ut)}}static from(e,r){let i=Xr(xt(r));return Wr(e)?new du(k(e,at),k(e,ft),k(e,ut),k(e,ct),k(e,lt),k(e,dt)):fu(e,i)}static compare(e,r){let i=fu(e),n=fu(r);for(let o of[at,ft,ut,ct,lt,dt]){let s=k(i,o),d=k(n,o);if(s!==d)return td(s-d)}return 0}};df(du,"Temporal.PlainTime");var rd=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let r=X4(e);hf(this),ht(this,nf,r)}get id(){if(!es(this))throw new TypeError("invalid receiver");return k(this,nf)}getOffsetNanosecondsFor(e){if(!es(this))throw new TypeError("invalid receiver");let r=ca(e),i=k(this,nf);return k0(i)?gc(i):uu(i,k(r,Je))}getOffsetStringFor(e){if(!es(this))throw new TypeError("invalid receiver");return g4(this,ca(e))}getPlainDateTimeFor(e,r="iso8601"){if(!es(this))throw new TypeError("invalid receiver");return Io(this,ca(e),go(r))}getInstantFor(e,r){if(!es(this))throw new TypeError("invalid receiver");return Ln(this,Xl(e),F0(xt(r)))}getPossibleInstantsFor(e){if(!es(this))throw new TypeError("invalid receiver");let r=Xl(e),i=Ne("%Temporal.Instant%"),n=k(this,nf);if(k0(n)){let s=vc(k(r,Ue),k(r,Fe),k(r,$e),k(r,at),k(r,ft),k(r,ut),k(r,ct),k(r,lt),k(r,dt));if(s===null)throw new RangeError("DateTime outside of supported range");let d=gc(n);return[new i(U.default.subtract(s,U.default.BigInt(d)))]}return function(d,p,v,b,x,E,T,S,P,B){let I=vc(p,v,b,x,E,T,S,P,B);if(I===null)throw new RangeError("DateTime outside of supported range");let C=U.default.subtract(I,uf);U.default.lessThan(C,zy)&&(C=I);let O=U.default.add(I,uf);U.default.greaterThan(O,L0)&&(O=I);let F=uu(d,C),q=uu(d,O);return(F===q?[F]:[F,q]).map(G=>{let $=U.default.subtract(I,U.default.BigInt(G)),N=TC(d,$);if(p===N.year&&v===N.month&&b===N.day&&x===N.hour&&E===N.minute&&T===N.second&&S===N.millisecond&&P===N.microsecond&&B===N.nanosecond)return $}).filter(G=>G!==void 0)}(n,k(r,Ue),k(r,Fe),k(r,$e),k(r,at),k(r,ft),k(r,ut),k(r,ct),k(r,lt),k(r,dt)).map(s=>new i(s))}getNextTransition(e){if(!es(this))throw new TypeError("invalid receiver");let r=ca(e),i=k(this,nf);if(k0(i)||i==="UTC")return null;let n=k(r,Je),o=Ne("%Temporal.Instant%");return n=RC(i,n),n===null?null:new o(n)}getPreviousTransition(e){if(!es(this))throw new TypeError("invalid receiver");let r=ca(e),i=k(this,nf);if(k0(i)||i==="UTC")return null;let n=k(r,Je),o=Ne("%Temporal.Instant%");return n=v4(i,n),n===null?null:new o(n)}toString(){if(!es(this))throw new TypeError("invalid receiver");return k(this,nf)}toJSON(){if(!es(this))throw new TypeError("invalid receiver");return k(this,nf)}static from(e){return xC(vn(e))}};df(rd,"Temporal.TimeZone"),Lr("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",rd.prototype.getOffsetNanosecondsFor),Lr("Temporal.TimeZone.prototype.getPossibleInstantsFor",rd.prototype.getPossibleInstantsFor);var Aoe=Object.create,Vy=class{constructor(e,r,i="iso8601",n=1){bC(this,Bt(e),Bt(r),go(i),Bt(n))}get year(){if(!Ot(this))throw new TypeError("invalid receiver");return Cb(k(this,ee),this)}get month(){if(!Ot(this))throw new TypeError("invalid receiver");return Ob(k(this,ee),this)}get monthCode(){if(!Ot(this))throw new TypeError("invalid receiver");return ig(k(this,ee),this)}get calendarId(){if(!Ot(this))throw new TypeError("invalid receiver");return en(k(this,ee))}get era(){if(!Ot(this))throw new TypeError("invalid receiver");return jb(k(this,ee),this)}get eraYear(){if(!Ot(this))throw new TypeError("invalid receiver");return qb(k(this,ee),this)}get daysInMonth(){if(!Ot(this))throw new TypeError("invalid receiver");return Nb(k(this,ee),this)}get daysInYear(){if(!Ot(this))throw new TypeError("invalid receiver");return Lb(k(this,ee),this)}get monthsInYear(){if(!Ot(this))throw new TypeError("invalid receiver");return Ub(k(this,ee),this)}get inLeapYear(){if(!Ot(this))throw new TypeError("invalid receiver");return Fb(k(this,ee),this)}with(e,r){if(!Ot(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid argument");V0(e);let i=xt(r),n=k(this,ee),o=ui(n,["month","monthCode","year"]),s=pt(this,o,[]);return s=od(n,s,pt(e,o,"partial")),s=pt(s,o,[]),sd(n,s,i)}add(e,r){if(!Ot(this))throw new TypeError("invalid receiver");return VD("add",this,e,r)}subtract(e,r){if(!Ot(this))throw new TypeError("invalid receiver");return VD("subtract",this,e,r)}until(e,r){if(!Ot(this))throw new TypeError("invalid receiver");return zD("until",this,e,r)}since(e,r){if(!Ot(this))throw new TypeError("invalid receiver");return zD("since",this,e,r)}equals(e){if(!Ot(this))throw new TypeError("invalid receiver");let r=Ny(e);for(let i of[Ue,Fe,$e])if(k(this,i)!==k(r,i))return!1;return sg(k(this,ee),k(r,ee))}toString(e){if(!Ot(this))throw new TypeError("invalid receiver");return DD(this,Xy(xt(e)))}toJSON(){if(!Ot(this))throw new TypeError("invalid receiver");return DD(this)}toLocaleString(e,r){if(!Ot(this))throw new TypeError("invalid receiver");return new gu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Ot(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("argument should be an object");let r=k(this,ee),i=ui(r,["monthCode","year"]),n=pt(this,i,[]),o=ui(r,["day"]),s=od(r,n,pt(e,o,[]));s=pt(s,[...new Set([...i,...o])],[]);let d=Aoe(null);return d.overflow="reject",hu(r,s,d)}getISOFields(){if(!Ot(this))throw new TypeError("invalid receiver");return{calendar:k(this,ee),isoDay:k(this,$e),isoMonth:k(this,Fe),isoYear:k(this,Ue)}}getCalendar(){if(!Ot(this))throw new TypeError("invalid receiver");return J0(k(this,ee))}static from(e,r){let i=xt(r);return Ot(e)?(Xr(i),Gy(k(e,Ue),k(e,Fe),k(e,ee),k(e,$e))):Ny(e,i)}static compare(e,r){let i=Ny(e),n=Ny(r);return mc(k(i,Ue),k(i,Fe),k(i,$e),k(n,Ue),k(n,Fe),k(n,$e))}};df(Vy,"Temporal.PlainYearMonth");var Toe=gu.prototype.resolvedOptions,Poe=Object.create,Zy=class{constructor(e,r,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");wC(this,Uy(e),vn(r),go(i))}get calendarId(){if(!Ge(this))throw new TypeError("invalid receiver");return en(k(this,ee))}get timeZoneId(){if(!Ge(this))throw new TypeError("invalid receiver");return Wy(k(this,Ht))}get year(){if(!Ge(this))throw new TypeError("invalid receiver");return Cb(k(this,ee),sr(this))}get month(){if(!Ge(this))throw new TypeError("invalid receiver");return Ob(k(this,ee),sr(this))}get monthCode(){if(!Ge(this))throw new TypeError("invalid receiver");return ig(k(this,ee),sr(this))}get day(){if(!Ge(this))throw new TypeError("invalid receiver");return ng(k(this,ee),sr(this))}get hour(){if(!Ge(this))throw new TypeError("invalid receiver");return k(sr(this),at)}get minute(){if(!Ge(this))throw new TypeError("invalid receiver");return k(sr(this),ft)}get second(){if(!Ge(this))throw new TypeError("invalid receiver");return k(sr(this),ut)}get millisecond(){if(!Ge(this))throw new TypeError("invalid receiver");return k(sr(this),ct)}get microsecond(){if(!Ge(this))throw new TypeError("invalid receiver");return k(sr(this),lt)}get nanosecond(){if(!Ge(this))throw new TypeError("invalid receiver");return k(sr(this),dt)}get era(){if(!Ge(this))throw new TypeError("invalid receiver");return jb(k(this,ee),sr(this))}get eraYear(){if(!Ge(this))throw new TypeError("invalid receiver");return qb(k(this,ee),sr(this))}get epochSeconds(){if(!Ge(this))throw new TypeError("invalid receiver");let e=k(this,Je);return U.default.toNumber(C0(e,af))}get epochMilliseconds(){if(!Ge(this))throw new TypeError("invalid receiver");let e=k(this,Je);return U.default.toNumber(C0(e,is))}get epochMicroseconds(){if(!Ge(this))throw new TypeError("invalid receiver");return Pb(C0(k(this,Je),jt))}get epochNanoseconds(){if(!Ge(this))throw new TypeError("invalid receiver");return Pb(k(this,Je))}get dayOfWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return H4(k(this,ee),sr(this))}get dayOfYear(){if(!Ge(this))throw new TypeError("invalid receiver");return V4(k(this,ee),sr(this))}get weekOfYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Z4(k(this,ee),sr(this))}get yearOfWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return Y4(k(this,ee),sr(this))}get hoursInDay(){if(!Ge(this))throw new TypeError("invalid receiver");let e=sr(this),r=Ne("%Temporal.PlainDateTime%"),i=k(e,Ue),n=k(e,Fe),o=k(e,$e),s=new r(i,n,o,0,0,0,0,0,0),d=ed(i,n,o,0,0,0,1,"reject"),p=new r(d.year,d.month,d.day,0,0,0,0,0,0),v=k(this,Ht),b=k(Ln(v,s,"compatible"),Je),x=k(Ln(v,p,"compatible"),Je);return rf(U.default.subtract(x,b),lC)}get daysInWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return J4(k(this,ee),sr(this))}get daysInMonth(){if(!Ge(this))throw new TypeError("invalid receiver");return Nb(k(this,ee),sr(this))}get daysInYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Lb(k(this,ee),sr(this))}get monthsInYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Ub(k(this,ee),sr(this))}get inLeapYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Fb(k(this,ee),sr(this))}get offset(){if(!Ge(this))throw new TypeError("invalid receiver");return g4(k(this,Ht),k(this,gn))}get offsetNanoseconds(){if(!Ge(this))throw new TypeError("invalid receiver");return da(k(this,Ht),k(this,gn))}with(e,r){if(!Ge(this))throw new TypeError("invalid receiver");if(!cr(e))throw new TypeError("invalid zoned-date-time-like");V0(e);let i=xt(r),n=k(this,ee),o=ui(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);o.push("offset");let s=pt(this,o,["offset"]);s=od(n,s,pt(e,o,"partial")),s=pt(s,o,["offset"]);let d=F0(i),p=_b(i,"prefer"),{year:v,month:b,day:x,hour:E,minute:T,second:S,millisecond:P,microsecond:B,nanosecond:I}=rg(n,s,i),C=gc(s.offset),O=k(this,Ht);return Ji(Mb(v,b,x,E,T,S,P,B,I,"option",C,O,d,p,!1),O,n)}withPlainDate(e){if(!Ge(this))throw new TypeError("invalid receiver");let r=Qt(e),i=k(r,Ue),n=k(r,Fe),o=k(r,$e),s=k(r,ee),d=sr(this),p=k(d,at),v=k(d,ft),b=k(d,ut),x=k(d,ct),E=k(d,lt),T=k(d,dt);s=_C(k(this,ee),s);let S=k(this,Ht);return Ji(k(Ln(S,new(Ne("%Temporal.PlainDateTime%"))(i,n,o,p,v,b,x,E,T,s),"compatible"),Je),S,s)}withPlainTime(e){if(!Ge(this))throw new TypeError("invalid receiver");let r=Ne("%Temporal.PlainTime%"),i=e===void 0?new r:fu(e),n=sr(this),o=k(n,Ue),s=k(n,Fe),d=k(n,$e),p=k(this,ee),v=k(i,at),b=k(i,ft),x=k(i,ut),E=k(i,ct),T=k(i,lt),S=k(i,dt),P=k(this,Ht);return Ji(k(Ln(P,new(Ne("%Temporal.PlainDateTime%"))(o,s,d,v,b,x,E,T,S,p),"compatible"),Je),P,p)}withTimeZone(e){if(!Ge(this))throw new TypeError("invalid receiver");let r=vn(e);return Ji(k(this,Je),r,k(this,ee))}withCalendar(e){if(!Ge(this))throw new TypeError("invalid receiver");let r=go(e);return Ji(k(this,Je),k(this,Ht),r)}add(e,r){if(!Ge(this))throw new TypeError("invalid receiver");return ZD("add",this,e,r)}subtract(e,r){if(!Ge(this))throw new TypeError("invalid receiver");return ZD("subtract",this,e,r)}until(e,r){if(!Ge(this))throw new TypeError("invalid receiver");return $D("until",this,e,r)}since(e,r){if(!Ge(this))throw new TypeError("invalid receiver");return $D("since",this,e,r)}round(e){if(!Ge(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?W0("smallestUnit",e):xt(e),i=Z0(r),n=la(r,"halfExpand"),o=yo(r,"smallestUnit","time",id,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];Y0(i,s,s===1);let d=sr(this),p=k(d,Ue),v=k(d,Fe),b=k(d,$e),x=k(d,at),E=k(d,ft),T=k(d,ut),S=k(d,ct),P=k(d,lt),B=k(d,dt),I=Ne("%Temporal.PlainDateTime%"),C=k(this,Ht),O=k(this,ee),F=Ln(C,new I(k(d,Ue),k(d,Fe),k(d,$e),0,0,0,0,0,0),"compatible"),q=ns(F,C,O,0,0,0,1,0,0,0,0,0,0),G=U.default.subtract(q,U.default.BigInt(k(F,Je)));if(U.default.lessThanOrEqual(G,Kr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:p,month:v,day:b,hour:x,minute:E,second:T,millisecond:S,microsecond:P,nanosecond:B}=s8(p,v,b,x,E,T,S,P,B,i,o,n,U.default.toNumber(G)),Ji(Mb(p,v,b,x,E,T,S,P,B,"option",da(C,k(this,gn)),C,"compatible","prefer",!1),C,k(this,ee))}equals(e){if(!Ge(this))throw new TypeError("invalid receiver");let r=Ly(e),i=k(this,Je),n=k(r,Je);return!!U.default.equal(U.default.BigInt(i),U.default.BigInt(n))&&!!MC(k(this,Ht),k(r,Ht))&&sg(k(this,ee),k(r,ee))}toString(e){if(!Ge(this))throw new TypeError("invalid receiver");let r=xt(e),i=Xy(r),n=eg(r),o=function(T){return wc(T,"offset",["auto","never"],"auto")}(r),s=la(r,"trunc"),d=yo(r,"smallestUnit","time",void 0);if(d==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let p=function(T){return wc(T,"timeZoneName",["auto","never","critical"],"auto")}(r),{precision:v,unit:b,increment:x}=tg(d,n);return CD(this,v,i,p,o,{unit:b,increment:x,roundingMode:s})}toLocaleString(e,r){if(!Ge(this))throw new TypeError("invalid receiver");let i=xt(r),n=Poe(null);if(B0(n,i,["timeZone"]),i.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");n.year===void 0&&n.month===void 0&&n.day===void 0&&n.weekday===void 0&&n.dateStyle===void 0&&n.hour===void 0&&n.minute===void 0&&n.second===void 0&&n.timeStyle===void 0&&n.dayPeriod===void 0&&n.timeZoneName===void 0&&(n.timeZoneName="short");let o=Wy(k(this,Ht));if(k0(o))throw new RangeError("toLocaleString does not support offset string time zones");o=X4(o),n.timeZone=o;let s=new gu(e,n),d=Ve(Toe,s,[]).calendar,p=en(k(this,ee));if(p!=="iso8601"&&d!=="iso8601"&&d!==p)throw new RangeError(`cannot format ZonedDateTime with calendar ${p} in locale with calendar ${d}`);return s.format(k(this,gn))}toJSON(){if(!Ge(this))throw new TypeError("invalid receiver");return CD(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Ge(this))throw new TypeError("invalid receiver");let e=sr(this),r=Ne("%Temporal.PlainDateTime%"),i=k(this,ee),n=new r(k(e,Ue),k(e,Fe),k(e,$e),0,0,0,0,0,0,i),o=k(this,Ht);return Ji(k(Ln(o,n,"compatible"),Je),o,i)}toInstant(){if(!Ge(this))throw new TypeError("invalid receiver");return new(Ne("%Temporal.Instant%"))(k(this,Je))}toPlainDate(){if(!Ge(this))throw new TypeError("invalid receiver");return $0(sr(this))}toPlainTime(){if(!Ge(this))throw new TypeError("invalid receiver");return Q4(sr(this))}toPlainDateTime(){if(!Ge(this))throw new TypeError("invalid receiver");return sr(this)}toPlainYearMonth(){if(!Ge(this))throw new TypeError("invalid receiver");let e=k(this,ee);return sd(e,pt(this,ui(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ge(this))throw new TypeError("invalid receiver");let e=k(this,ee);return z0(e,pt(this,ui(e,["day","monthCode"]),[]))}getISOFields(){if(!Ge(this))throw new TypeError("invalid receiver");let e=sr(this),r=k(this,Ht);return{calendar:k(this,ee),isoDay:k(e,$e),isoHour:k(e,at),isoMicrosecond:k(e,lt),isoMillisecond:k(e,ct),isoMinute:k(e,ft),isoMonth:k(e,Fe),isoNanosecond:k(e,dt),isoSecond:k(e,ut),isoYear:k(e,Ue),offset:g4(r,k(this,gn)),timeZone:r}}getCalendar(){if(!Ge(this))throw new TypeError("invalid receiver");return J0(k(this,ee))}getTimeZone(){if(!Ge(this))throw new TypeError("invalid receiver");return xC(k(this,Ht))}static from(e,r){let i=xt(r);return Ge(e)?(F0(i),_b(i,"reject"),Xr(i),Ji(k(e,Je),k(e,Ht),k(e,ee))):Ly(e,i)}static compare(e,r){let i=Ly(e),n=Ly(r),o=k(i,Je),s=k(n,Je);return U.default.lessThan(U.default.BigInt(o),U.default.BigInt(s))?-1:U.default.greaterThan(U.default.BigInt(o),U.default.BigInt(s))?1:0}};function sr(t){return Io(k(t,Ht),k(t,gn),k(t,ee))}df(Zy,"Temporal.ZonedDateTime");var hd=Object.freeze({__proto__:null,Calendar:yr,Duration:of,Instant:rs,Now:iO,PlainDate:ud,PlainDateTime:cd,PlainMonthDay:Hy,PlainTime:du,PlainYearMonth:Vy,TimeZone:rd,ZonedDateTime:Zy});var Roe=[rs,yr,ud,cd,of,Hy,du,rd,Vy,Zy];for(let t of Roe){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}var Mt=class{static async sleep(e){return new Promise(r=>setTimeout(r,e))}static async minimalSleep(){await Mt.sleep(2)}static getCurrentTimestamp(){return hd.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(e){let{year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v}=e;return hd.ZonedDateTime.from({timeZone:"UTC",year:r,month:i,day:n,hour:o,minute:s,second:d,millisecond:p,microsecond:v}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(e,r){let i=r?hd.Instant.from(r):hd.Now.instant(),n=hd.Duration.from(e);return i.add(n).toString({smallestUnit:"microseconds"})}static validateTimestamp(e){try{hd.Instant.from(e)}catch{throw new De("TimestampInvalid",`Invalid timestamp: ${e}`)}}};M();var ei=(o=>(o.Events="Events",o.Messages="Messages",o.Permissions="Permissions",o.Protocols="Protocols",o.Records="Records",o))(ei||{}),ti=(b=>(b.Configure="Configure",b.Create="Create",b.Get="Get",b.Grant="Grant",b.Query="Query",b.Read="Read",b.Request="Request",b.Revoke="Revoke",b.Write="Write",b.Delete="Delete",b))(ti||{});M();function Sc(t){let e;try{e=ha(t)}catch{e=void 0}if(t!==e)throw new De("UrlProtocolNotNormalized",`Protocol URI ${t} must be normalized.`)}function ha(t){return nO(t)}function X0(t){let e;try{e=vu(t)}catch{e=void 0}if(t!==e)throw new De("UrlSchemaNotNormalized",`Schema URI ${t} must be normalized.`)}function vu(t){return nO(t)}function nO(t){let e;/^[^:]+:(\/{2})?[^\/].*/.test(t)?e=t:e=`http://${t}`;try{let r=new URL(e);return r.search="",r.hash="",koe(r.href)}catch{throw new De("UrlProtocolNotNormalizable","Could not normalize protocol URI")}}function koe(t){return t.endsWith("/")?t.slice(0,-1):t}var Do=class extends yi{static async parse(e){return await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Do.validateScope(e),Mt.validateTimestamp(e.descriptor.messageTimestamp),Mt.validateTimestamp(e.descriptor.dateExpires),new Do(e)}static async create(e){let r={...e.scope};r.protocol=r.protocol!==void 0?ha(r.protocol):void 0,r.schema=r.schema!==void 0?vu(r.schema):void 0;let i={interface:"Permissions",method:"Grant",messageTimestamp:e.messageTimestamp??Mt.getCurrentTimestamp(),dateExpires:e.dateExpires,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,delegated:e.delegated,permissionsRequestId:e.permissionsRequestId,scope:r,conditions:e.conditions};pn(i);let n=await qe.createAuthorization({descriptor:i,signer:e.signer}),o={descriptor:i,authorization:n};return qe.validateJsonSchema(o),Do.validateScope(o),new Do(o)}asDelegatedGrant(){return Do.asDelegatedGrant(this.message)}static asDelegatedGrant(e){if(!e.descriptor.delegated)throw new De("PermissionsGrantNotADelegatedGrant",`PermissionsGrant given is not a delegated grant. Descriptor: ${e.descriptor}`);return e}static async createFromPermissionsRequest(e,r,i){let n=e.message.descriptor;return Do.create({dateExpires:i.dateExpires,description:i.description??n.description,grantedBy:i.grantedBy??n.grantedBy,grantedTo:i.grantedTo??n.grantedTo,grantedFor:i.grantedFor??n.grantedFor,permissionsRequestId:await qe.getCid(e.message),scope:i.scope??n.scope,conditions:i.conditions??n.conditions,signer:r})}authorize(){let{grantedBy:e,grantedFor:r}=this.message.descriptor;if(this.author!==e)throw new De("PermissionsGrantGrantedByMismatch","Message author must match grantedBy property");if(e!==r)throw new De("PermissionsGrantUnauthorizedGrant",`${e} is not authorized to give access to the DWN belonging to ${r}`)}static validateScope(e){let r=e.descriptor.scope;if(r.schema!==void 0&&(r.protocol!==void 0||r.contextId!==void 0||r.protocolPath))throw new De("PermissionsGrantScopeSchemaProhibitedFields","PermissionsGrants for RecordsRead and RecordsWrite that have `schema` present may not also have protocol-related properties present");if(r.protocol!==void 0&&r.contextId!==void 0&&r.protocolPath!==void 0)throw new De("PermissionsGrantScopeContextIdAndProtocolPath","PermissionsGrants for RecordsRead and RecordsWrite may not have both `contextId` and `protocolPath` present")}};async function ci(t,e){if(t===void 0)throw new De("AuthenticateJwsMissing","Missing JWS.");if(await Ko.verifySignatures(t.signature,e),t.ownerSignature!==void 0&&await Ko.verifySignatures(t.ownerSignature,e),t.authorDelegatedGrant!==void 0){let r=await Do.parse(t.authorDelegatedGrant);await Ko.verifySignatures(r.message.authorization.signature,e)}}async function ep(t,e){if(e.author!==t)throw new De("AuthorizationUnknownAuthor","message failed authorization, permission grant check not yet implemented")}M();var fg=class{async isTenant(e){return!0}};M();M();M();var U3=Yt(P2(),1),fl=Yt(_H(),1),y7=Yt(L3(),1);fl.ECIES_CONFIG.isEphemeralKeyCompressed=!0;var Ff=class{static async aes256CtrEncrypt(e,r,i){let n=U3.createCipheriv("aes-256-ctr",e,r),o=new y7.Readable({read(){}});return i.on("data",s=>{let d=n.update(s);o.push(d)}),i.on("end",()=>{let s=n.final();o.push(s),o.push(null)}),i.on("error",s=>{o.emit("error",s)}),o}static async aes256CtrDecrypt(e,r,i){let n=U3.createDecipheriv("aes-256-ctr",e,r),o=new y7.Readable({read(){}});return i.on("data",s=>{let d=n.update(s);o.push(d)}),i.on("end",()=>{let s=n.final();o.push(s),o.push(null)}),i.on("error",s=>{o.emit("error",s)}),o}static async eciesSecp256k1Encrypt(e,r){let i=L.Buffer.from(e),n=L.Buffer.from(r),o=fl.encrypt(i,n),s=0,d=Ff.isEphemeralKeyCompressed?33:65,p=o.subarray(s,d);s=d,d+=fl.ECIES_CONFIG.symmetricNonceLength;let v=o.subarray(s,d);s=d,d+=16;let b=o.subarray(s,d);return{ciphertext:o.subarray(d),ephemeralPublicKey:p,initializationVector:v,messageAuthenticationCode:b}}static async eciesSecp256k1Decrypt(e){let r=L.Buffer.from(e.privateKey),i=L.Buffer.concat([e.ephemeralPublicKey,e.initializationVector,e.messageAuthenticationCode,e.ciphertext]);return fl.decrypt(r,i)}static get isEphemeralKeyCompressed(){return fl.ECIES_CONFIG.isEphemeralKeyCompressed}},g7=(r=>(r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r))(g7||{});M();var Dv=(n=>(n.DataFormats="dataFormats",n.ProtocolContext="protocolContext",n.ProtocolPath="protocolPath",n.Schemas="schemas",n))(Dv||{}),ul=class{static async derivePrivateKey(e,r){let i=Ut.privateJwkToBytes(e.derivedPrivateKey),n=e.derivationPath??[],o=await Ut.derivePrivateKey(i,r),s=await Ut.privateKeyToJwk(o);return{rootKeyId:e.rootKeyId,derivationScheme:e.derivationScheme,derivationPath:[...n,...r],derivedPrivateKey:s}}static async derivePublicKey(e,r){let i=await ul.derivePrivateKey(e,r);return await Ut.getPublicJwk(i.derivedPrivateKey)}};var lr=class{static async decrypt(e,r,i){let{encryption:n}=e,o=n.keyEncryption.find(P=>P.rootKeyId===r.rootKeyId&&P.derivationScheme===r.derivationScheme);if(o===void 0)throw new De("RecordsDecryptNoMatchingKeyEncryptedFound",`Unable to find a symmetric key encrypted using key         with ID '${r.rootKeyId}' and '${r.derivationScheme}' derivation scheme.`);let s=lr.constructKeyDerivationPath(o.derivationScheme,e),d=await lr.derivePrivateKey(r,s),p=rt.base64UrlToBytes(o.encryptedKey),v=Ut.publicJwkToBytes(o.ephemeralPublicKey),b=rt.base64UrlToBytes(o.initializationVector),x=rt.base64UrlToBytes(o.messageAuthenticationCode),E=await Ff.eciesSecp256k1Decrypt({ciphertext:p,ephemeralPublicKey:v,initializationVector:b,messageAuthenticationCode:x,privateKey:d}),T=rt.base64UrlToBytes(n.initializationVector);return await Ff.aes256CtrDecrypt(E,T,i)}static constructKeyDerivationPath(e,r){let i=r.descriptor,n=r.contextId,o;return e==="dataFormats"?o=lr.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):e==="protocolPath"?o=lr.constructKeyDerivationPathUsingProtocolPathScheme(i):e==="protocolContext"?o=lr.constructKeyDerivationPathUsingProtocolContextScheme(n):o=lr.constructKeyDerivationPathUsingSchemasScheme(i.schema),o}static constructKeyDerivationPathUsingDataFormatsScheme(e,r){return e!==void 0?["dataFormats",e,r]:["dataFormats",r]}static constructKeyDerivationPathUsingProtocolPathScheme(e){if(e.protocol===void 0)throw new De("RecordsProtocolPathDerivationSchemeMissingProtocol","Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");let r=e.protocolPath.split("/");return["protocolPath",e.protocol,...r]}static constructKeyDerivationPathUsingProtocolContextScheme(e){if(e===void 0)throw new De("RecordsProtocolContextDerivationSchemeMissingContextId","Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");return["protocolContext",e]}static constructKeyDerivationPathUsingSchemasScheme(e){if(e===void 0)throw new De("RecordsSchemasDerivationSchemeMissingSchema","Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return["schemas",e]}static async derivePrivateKey(e,r){if(e.derivedPrivateKey.crv!=="secp256k1")throw new De("RecordsDerivePrivateKeyUnSupportedCurve",`Curve ${e.derivedPrivateKey.crv} is not supported.`);let i=e.derivationPath??[];lr.validateAncestorKeyAndDescentKeyDerivationPathsMatch(i,r);let n=r.slice(i.length),o=Ut.privateJwkToBytes(e.derivedPrivateKey);return await Ut.derivePrivateKey(o,n)}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,r){for(let i=0;i<e.length;i++){let n=e[i],o=r[i];if(n!==o)throw new De("RecordsInvalidAncestorKeyDerivationSegment",`Ancestor key derivation segment '${n}' mismatches against the descendant key derivation segment '${o}'.`)}}static normalizeFilter(e){let r;e.protocol===void 0?r=void 0:r=ha(e.protocol);let i;return e.schema===void 0?i=void 0:i=vu(e.schema),{...e,protocol:r,schema:i}}static convertFilter(e){let r={...e},{dateCreated:i,datePublished:n,dateUpdated:o}=e,s=i?this.convertRangeCriterion(i):void 0;s&&(r.dateCreated=s);let d=n?this.convertRangeCriterion(n):void 0;d&&(r.published=!0,r.datePublished=d);let p=o?this.convertRangeCriterion(o):void 0;return p&&(r.messageTimestamp=p,delete r.dateUpdated),r}static convertRangeCriterion(e){let r;return e.to!==void 0&&e.from!==void 0?r={gte:e.from,lt:e.to}:e.to!==void 0?r={lt:e.to}:e.from!==void 0&&(r={gte:e.from}),r}static validateDelegatedGrantReferentialIntegrity(e,r){let i=r?.delegatedGrantId!==void 0,n=e.authorization?.authorDelegatedGrant!==void 0;if(i!==n)throw new De("RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch",`delegatedGrantId and authorDelegatedGrant must both exist or be undefined.            delegatedGrantId defined: ${i}, authorDelegatedGrant defined: ${n}`);if(n){let o=e.authorization.authorDelegatedGrant.descriptor.grantedTo,s=qe.getSigner(e);if(o!==s)throw new De("RecordsValidateIntegrityGrantedToAndSignerMismatch",`grantedTo ${o} must be the same as the signer ${s} of the message`)}}};var cl=class extends yi{static async parse(e){let r;if(e.authorization!==void 0&&(r=await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor)),lr.validateDelegatedGrantReferentialIntegrity(e,r),r?.protocolRole!==void 0&&e.descriptor.filter.protocolPath===void 0)throw new De("RecordsQueryFilterMissingRequiredProperties","Role-authorized queries must include `protocolPath` in the filter");return e.descriptor.filter.protocol!==void 0&&Sc(e.descriptor.filter.protocol),e.descriptor.filter.schema!==void 0&&X0(e.descriptor.filter.schema),Mt.validateTimestamp(e.descriptor.messageTimestamp),new cl(e)}static async create(e){let r={interface:"Records",method:"Query",messageTimestamp:e.messageTimestamp??Mt.getCurrentTimestamp(),filter:lr.normalizeFilter(e.filter),dateSort:e.dateSort,pagination:e.pagination};pn(r);let i=e.signer,n;i&&(n=await qe.createAuthorization({descriptor:r,signer:i,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant}));let o={descriptor:r,authorization:n};return qe.validateJsonSchema(o),new cl(o)}};M();M();var YZ=Yt(L3(),1),Oa=class{static async toBytes(e){return new Promise((r,i)=>{let n=[];e.on("data",o=>{n.push(o)}),e.on("end",()=>{let o=Oa.concatenateArrayOfBytes(n);r(o)}),e.on("error",i)})}static async toObject(e){let r=await Oa.toBytes(e);return rt.bytesToObject(r)}static concatenateArrayOfBytes(e){let r=e.reduce((o,s)=>o+s.length,0),i=new Uint8Array(r),n=0;for(let o of e)i.set(o,n),n+=o.length;return i}static fromBytes(e){let i=0;return new YZ.Readable({read(o){i+1e5>e.length?(this.push(e.subarray(i)),this.push(null)):(this.push(e.subarray(i,i+1e5)),i=i+1e5)}})}static fromObject(e){let r=rt.objectToBytes(e);return Oa.fromBytes(r)}};M();var v7=(n=>(n.CreatedAscending="createdAscending",n.CreatedDescending="createdDescending",n.PublishedAscending="publishedAscending",n.PublishedDescending="publishedDescending",n))(v7||{});M();var _7=Yt(sY(),1);M();var mm=class{static getMethodSpecificId(e){let r=e.indexOf(":",4);return e.substring(r+1)}static validate(e){if(typeof e!="string")throw new De("DidNotString",`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new De("DidNotValid",`DID is not a valid DID: ${e}`)}static getMethodName(e){let r=e.indexOf(":",4);return e.substring(4,r)}};var ll=class{method(){return"key"}static getMulticodecSize(e){let r=0;for(;;){let i=e[r];if(r++,(i&128)!==128)break}return r}async resolve(e){let[r,i,n]=e.split(":",3);try{let o=Jo.decode(n),s=_7.default.decode(o),d=ll.getMulticodecSize(o),p=o.slice(d),v=[],b;if(s===237)v.push("https://w3id.org/security/suites/ed25519-2020/v1"),b=await Fm.publicKeyToJwk(p);else if(s===231)b=await Ut.publicKeyToJwk(p);else throw Error(`key type of multicodec ${s} is not supported`);let x=`${e}#${n}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...v],id:e,verificationMethod:[{id:x,type:"JsonWebKey2020",controller:e,publicKeyJwk:b}],authentication:[x],assertionMethod:[x],capabilityDelegation:[x],capabilityInvocation:[x]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}}static async generate(){let{publicJwk:e,privateJwk:r}=await Fm.generateKeyPair(),i=_7.default.encode(237),n=rt.base64UrlToBytes(e.x),o=new Uint8Array(i.length+n.byteLength);o.set(i,0),o.set(n,i.length);let d=`did:key:${Jo.encode(o)}`,p=ll.getKeyId(d);return{did:d,keyId:p,keyPair:{publicJwk:e,privateJwk:r}}}static getKeyId(e){let r=mm.getMethodSpecificId(e);return`${e}#${r}`}};M();var uY=Yt(fY(),1),Yxe=globalThis.fetch??uY.default,Cv=class{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}async resolve(e){let r=new URL("./"+e,this.resolutionEndpoint).toString(),i=await Yxe(r);if(i.status!==200)throw new De("DidResolutionFailed",`unable to resolve ${e}, got http status ${i.status}`);return await i.json()}};M();var Ov=class{constructor(e,r){this.cache=r||new o0(600),(e===void 0||e.length===0)&&(e=[new Cv,new ll]),this.didResolvers=new Map;for(let i of e)this.didResolvers.set(i.method(),i)}async resolve(e){mm.validate(e);let i=e.split(":",3)[1],n=this.didResolvers.get(i);if(!n)throw new De("DidMethodNotSupported",`${i} DID method not supported`);let o=await this.cache.get(e),s=o??await n.resolve(e);o===void 0&&await this.cache.set(e,s);let{didDocument:d,didResolutionMetadata:p}=s;if(!d||p?.error){let{error:v}=p,b=`Failed to resolve DID ${e}.`;throw b+=v?` Error: ${v}`:"",new De("DidResolutionFailed",b)}return s}};M();M();M();var hl=class extends yi{static async parse(e){return qe.validateJsonSchema(e),await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Mt.validateTimestamp(e.descriptor.messageTimestamp),new hl(e)}static async create(e){let r={interface:"Events",method:"Get",messageTimestamp:e.messageTimestamp??Mt.getCurrentTimestamp()};e.watermark&&(r.watermark=e.watermark);let i=await qe.createAuthorization({descriptor:r,signer:e.signer}),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new hl(n)}};M();function St(t,e){let r=t instanceof Error?t.message:"Error";return{status:{code:e,detail:r}}}var $3=class{constructor(e,r){this.didResolver=e;this.eventLog=r}async handle({tenant:e,message:r}){let i;try{i=await hl.parse(r)}catch(s){return St(s,400)}try{await ci(r.authorization,this.didResolver),await ep(e,i)}catch(s){return St(s,401)}let n;r.descriptor.watermark&&(n={gt:r.descriptor.watermark});let o=await this.eventLog.getEvents(e,n);return{status:{code:200,detail:"OK"},events:o}}};M();M();var $u=class extends yi{static async parse(e){return qe.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Mt.validateTimestamp(e.descriptor.messageTimestamp),new $u(e)}static async create(e){let r={interface:"Messages",method:"Get",messageCids:e.messageCids,messageTimestamp:e?.messageTimestamp??Mt.getCurrentTimestamp()},i=await qe.createAuthorization({descriptor:r,signer:e.signer}),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),$u.validateMessageCids(e.messageCids),new $u(n)}static validateMessageCids(e){for(let r of e)try{ai.parseCid(r)}catch{throw new De("MessageGetInvalidCid",`${r} is not a valid CID`)}}};var G3=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await $u.parse(r)}catch(d){return St(d,400)}try{await ci(r.authorization,this.didResolver),await ep(e,i)}catch(d){return St(d,401)}let n=[],o=new Set(r.descriptor.messageCids);for(let d of o){let p=this.messageStore.get(e,d).then(v=>({messageCid:d,message:v})).catch(v=>({messageCid:d,message:void 0,error:`Failed to get message ${d}`}));n.push(p)}let s=await Promise.all(n);for(let d of s){let{message:p}=d;if(!p)continue;let{interface:v,method:b}=p.descriptor;if(v!=="Records"||b!=="Write")continue;let x=p;x.encodedData!==void 0&&(d.encodedData=x.encodedData,delete x.encodedData)}return{status:{code:200,detail:"OK"},messages:s}}};M();var W3=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await Do.parse(r)}catch(b){return St(b,400)}try{await ci(r.authorization,this.didResolver),await i.authorize()}catch(b){return St(b,401)}let{scope:n,conditions:o,...s}=r.descriptor,d={author:i.author,...s},p=await qe.getCid(r);return await this.messageStore.get(e,p)===void 0&&(await this.messageStore.put(e,r,d),await this.eventLog.append(e,p)),{status:{code:202,detail:"Accepted"}}}};M();M();var pl=class extends yi{static async parse(e){return await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Mt.validateTimestamp(e.descriptor.messageTimestamp),new pl(e)}static async create(e){let r={interface:"Permissions",method:"Request",messageTimestamp:e.messageTimestamp??Mt.getCurrentTimestamp(),description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,scope:e.scope,conditions:e.conditions};pn(r);let i=await qe.createAuthorization({descriptor:r,signer:e.signer}),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new pl(n)}};var K3=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await pl.parse(r)}catch(b){return St(b,400)}try{await ci(r.authorization,this.didResolver)}catch(b){return St(b,401)}let{scope:n,conditions:o,...s}=r.descriptor,d={...s,author:i.author},p=await qe.getCid(r);return await this.messageStore.get(e,p)===void 0&&(await this.messageStore.put(e,r,d),await this.eventLog.append(e,p)),{status:{code:202,detail:"Accepted"}}}};M();M();var ml=class extends yi{static async parse(e){return await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Mt.validateTimestamp(e.descriptor.messageTimestamp),new ml(e)}static async create(e){let r={interface:"Permissions",method:"Revoke",messageTimestamp:e.messageTimestamp??Mt.getCurrentTimestamp(),permissionsGrantId:e.permissionsGrantId},i=await qe.createAuthorization({descriptor:r,signer:e.signer}),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new ml(n)}async authorize(e){if(this.author!==e.descriptor.grantedFor)throw new De("PermissionsRevokeUnauthorizedRevoke","Only the DWN owner may revoke a grant")}};var H3=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.eventLog=i}async handle({tenant:e,message:r}){let i;try{i=await ml.parse(r)}catch(S){return St(S,400)}try{await ci(r.authorization,this.didResolver)}catch(S){return St(S,401)}let n=r.descriptor.permissionsGrantId,o=await this.messageStore.get(e,n);if(o===void 0)return{status:{code:400,detail:`Could not find PermissionsGrant with CID ${n}`}};try{await i.authorize(o)}catch(S){return St(S,401)}if(r.descriptor.messageTimestamp<o.descriptor.messageTimestamp)return{status:{code:400,detail:"PermissionsRevoke has earlier date than associated PermissionsGrant"}};let s={interface:"Permissions",method:"Revoke",permissionsGrantId:n},{messages:d}=await this.messageStore.query(e,[s]),p=await qe.getOldestMessage(d);if(p!==void 0&&!await qe.isOlder(r,p))return{status:{code:409,detail:"Conflict"}};let v={interface:"Permissions",method:"Revoke",permissionsGrantId:r.descriptor.permissionsGrantId};await this.messageStore.put(e,r,v),await this.eventLog.append(e,await qe.getCid(r));let b=[];for(let S of d){let P=await qe.getCid(S);await this.messageStore.delete(e,P),b.push(P)}await this.eventLog.deleteEventsByCid(e,b);let x={permissionsGrantId:n,dateCreated:{gte:r.descriptor.messageTimestamp}},{messages:E}=await this.messageStore.query(e,[x]),T=[];for(let S of E){let P=await qe.getCid(S);await this.messageStore.delete(e,P)}return this.eventLog.deleteEventsByCid(e,T),{status:{code:202,detail:"Accepted"}}}};M();M();M();var Uo=class extends yi{static async parse(e){return qe.validateJsonSchema(e),Uo.validateProtocolDefinition(e.descriptor.definition),await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Mt.validateTimestamp(e.descriptor.messageTimestamp),new Uo(e)}static async create(e){let r={interface:"Protocols",method:"Configure",messageTimestamp:e.messageTimestamp??Mt.getCurrentTimestamp(),definition:Uo.normalizeDefinition(e.definition)},i=await qe.createAuthorization({descriptor:r,signer:e.signer,permissionsGrantId:e.permissionsGrantId}),n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),Uo.validateProtocolDefinition(n.descriptor.definition),new Uo(n)}static validateProtocolDefinition(e){let{protocol:r,types:i}=e;Sc(r);for(let n in i){let o=i[n].schema;o!==void 0&&X0(o)}Uo.validateStructure(e)}static validateStructure(e){let r=[];for(let i in e.structure)e.structure[i].$globalRole&&r.push(i);for(let i in e.structure){let n=e.structure[i],o=[];for(let s in n){if(s.startsWith("$"))continue;n[s].$contextRole&&o.push(`${i}/${s}`)}Uo.validateRuleSet(n,i,[...r,...o])}}static validateRuleSet(e,r,i){let n=r.split("/").length;if(e.$globalRole&&n!==1)throw new De("ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath",`$globalRole is not allowed at protocol path (${r}). Only root records may set $globalRole true.`);if(e.$contextRole&&n!==2)throw new De("ProtocolsConfigureContextRoleAtProhibitedProtocolPath",`$contextRole is not allowed at protocol path (${r}). Only second-level records may set $contextRole true.`);let o=e.$actions??[];for(let s of o){if(s.role!==void 0&&!i.includes(s.role))throw new De("ProtocolsConfigureInvalidRole",`Invalid role '${s.role}' found at protocol path '${r}'`);if(s.who==="anyone"&&s.of)throw new De("ProtocolsConfigureInvalidActionOfNotAllowed",`'of' is not allowed at protocol path (${r})`);if(s.who==="recipient"&&s.of===void 0&&!["update","delete"].includes(s.can))throw new De("ProtocolsConfigureInvalidRecipientOfAction","Rules for `recipient` without `of` property must have `can` === `delete` or `update`");if(s.who==="author"&&!s.of)throw new De("ProtocolsConfigureInvalidActionMissingOf","'of' is required when 'author' is specified as 'who'")}for(let s in e){if(s.startsWith("$"))continue;let d=e[s],p=`${r}/${s}`;Uo.validateRuleSet(d,p,i)}}static normalizeDefinition(e){let r={...e.types};for(let i in r){let n=r[i].schema;n!==void 0&&(r[i].schema=vu(n))}return{...e,protocol:ha(e.protocol),types:r}}};var gm=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,dataStream:i}){let n;try{n=await Uo.parse(r)}catch(x){return St(x,400)}try{await ci(r.authorization,this.didResolver),await ep(e,n)}catch(x){return St(x,401)}let o={interface:"Protocols",method:"Configure",protocol:r.descriptor.definition.protocol},{messages:s}=await this.messageStore.query(e,[o]),d=await qe.getNewestMessage(s),p=!1;(d===void 0||await qe.isNewer(r,d))&&(p=!0,d=r);let v;if(p){let x=gm.constructProtocolsConfigureIndexes(n),E=await qe.getCid(r);await this.messageStore.put(e,r,x),await this.eventLog.append(e,E),v={status:{code:202,detail:"Accepted"}}}else v={status:{code:409,detail:"Conflict"}};let b=[];for(let x of s)if(await qe.isNewer(d,x)){let E=await qe.getCid(x);b.push(E),await this.messageStore.delete(e,E)}return await this.eventLog.deleteEventsByCid(e,b),v}static constructProtocolsConfigureIndexes(e){let{definition:r,...i}=e.message.descriptor,{author:n}=e;return{...i,author:n,protocol:r.protocol,published:r.published}}};M();M();M();var Xs=class{static async authorizeGenericMessage(e,r,i,n,o){let s=r.message.descriptor,d=await Xs.fetchGrant(e,o,n);return Xs.verifyGrantedToAndGrantedFor(i,e,d),await Xs.verifyGrantActive(e,s.messageTimestamp,d,n,o),await Xs.verifyGrantScopeInterfaceAndMethod(s.interface,s.method,d,n),d}static async fetchGrant(e,r,i){let n=await r.get(e,i),o=n?.descriptor.interface,s=n?.descriptor.method;if(n===void 0||o!=="Permissions"||s!=="Grant")throw new De("GrantAuthorizationGrantMissing",`Could not find PermissionsGrant with CID ${i}`);return n}static verifyGrantedToAndGrantedFor(e,r,i){let n=i.descriptor.grantedTo;if(n!==e)throw new De("GrantAuthorizationNotGrantedToAuthor",`PermissionsGrant has grantedTo ${n}, but given ${e}`);let o=i.descriptor.grantedFor;if(o!==r)throw new De("GrantAuthorizationNotGrantedForTenant",`PermissionsGrant has grantedFor ${o}, but given ${r}`)}static async verifyGrantActive(e,r,i,n,o){if(r<i.descriptor.messageTimestamp)throw new De("GrantAuthorizationGrantNotYetActive","The message has a timestamp before the associated PermissionsGrant becomes active");if(r>=i.descriptor.dateExpires)throw new De("GrantAuthorizationGrantExpired","The message has timestamp after the expiry of the associated PermissionsGrant");let s={interface:"Permissions",method:"Revoke",permissionsGrantId:n},{messages:d}=await o.query(e,[s]),p=await qe.getOldestMessage(d);if(p!==void 0&&p.descriptor.messageTimestamp<=r)throw new De("GrantAuthorizationGrantRevoked",`PermissionsGrant with CID ${n} has been revoked`)}static async verifyGrantScopeInterfaceAndMethod(e,r,i,n){if(e!==i.descriptor.scope.interface)throw new De("GrantAuthorizationInterfaceMismatch",`DWN Interface of incoming message is outside the scope of PermissionsGrant with CID ${n}`);if(r!==i.descriptor.scope.method)throw new De("GrantAuthorizationMethodMismatch",`DWN Method of incoming message is outside the scope of PermissionsGrant with CID ${n}`)}};var Gu=class extends yi{static async parse(e){return e.authorization!==void 0&&await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),e.descriptor.filter!==void 0&&Sc(e.descriptor.filter.protocol),Mt.validateTimestamp(e.descriptor.messageTimestamp),new Gu(e)}static async create(e){let r={interface:"Protocols",method:"Query",messageTimestamp:e.messageTimestamp??Mt.getCurrentTimestamp(),filter:Gu.normalizeFilter(e.filter)};pn(r);let i;e.signer!==void 0&&(i=await qe.createAuthorization({descriptor:r,signer:e.signer,permissionsGrantId:e.permissionsGrantId}));let n={descriptor:r,authorization:i};return qe.validateJsonSchema(n),new Gu(n)}static normalizeFilter(e){if(e!==void 0)return{...e,protocol:ha(e.protocol)}}async authorize(e,r){if(this.author!==e)if(this.author!==void 0&&this.signaturePayload.permissionsGrantId)await Xs.authorizeGenericMessage(e,this,this.author,this.signaturePayload.permissionsGrantId,r);else throw new De("ProtocolsQueryUnauthorized","The ProtocolsQuery failed authorization")}};var V3=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await Gu.parse(r)}catch(s){return St(s,400)}try{await ci(r.authorization,this.didResolver),await i.authorize(e,this.messageStore)}catch(s){if(s.code==="AuthenticateJwsMissing"||s.code==="ProtocolsQueryUnauthorized"){let d=await this.fetchPublishedProtocolsConfigure(e,i);return{status:{code:200,detail:"OK"},entries:d}}else return St(s,401)}let n={...r.descriptor.filter,interface:"Protocols",method:"Configure"};pn(n);let{messages:o}=await this.messageStore.query(e,[n]);return{status:{code:200,detail:"OK"},entries:o}}async fetchPublishedProtocolsConfigure(e,r){let i={...r.message.descriptor.filter,interface:"Protocols",method:"Configure",published:!0},{messages:n}=await this.messageStore.query(e,[i]);return n}};M();M();M();var Xt=class{get message(){if(this._message.authorization===void 0)throw new De("RecordsWriteMissingSigner","This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}constructor(e){this._message=e,e.authorization!==void 0&&(e.authorization.authorDelegatedGrant!==void 0?this._author=qe.getSigner(e.authorization.authorDelegatedGrant):this._author=qe.getSigner(e),this._signaturePayload=hr.decodePlainObjectPayload(e.authorization.signature),e.authorization.ownerSignature!==void 0&&(this._owner=hr.getSignerDid(e.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=hr.decodePlainObjectPayload(e.authorization.ownerSignature))),this.attesters=Xt.getAttesters(e)}static async parse(e){await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor,"RecordsWriteSignaturePayload"),e.authorization.ownerSignature!==void 0&&await qe.validateMessageSignatureIntegrity(e.authorization.ownerSignature,e.descriptor),await Xt.validateAttestationIntegrity(e);let r=new Xt(e);return await r.validateIntegrity(),r}static async create(e){if(e.protocol===void 0&&e.protocolPath!==void 0||e.protocol!==void 0&&e.protocolPath===void 0)throw new De("RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive","`protocol` and `protocolPath` must both be defined or undefined at the same time");if(e.data===void 0&&e.dataCid===void 0||e.data!==void 0&&e.dataCid!==void 0)throw new De("RecordsWriteCreateDataAndDataCidMutuallyExclusive","one and only one parameter between `data` and `dataCid` is allowed");if(e.dataCid===void 0&&e.dataSize!==void 0||e.dataCid!==void 0&&e.dataSize===void 0)throw new De("RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive","`dataCid` and `dataSize` must both be defined or undefined at the same time");if(e.parentId!==void 0&&e.contextId===void 0)throw new De("RecordsWriteCreateContextIdAndParentIdMutuallyInclusive","`contextId` must also be given when `parentId` is specified");if(e.signer===void 0&&e.delegatedGrant!==void 0)throw new De("RecordsWriteCreateMissingSigner","`signer` must be given when `delegatedGrant` is given");let r=e.dataCid??await ai.computeDagPbCidFromBytes(e.data),i=e.dataSize??e.data.length,n=Mt.getCurrentTimestamp(),o={interface:"Records",method:"Write",protocol:e.protocol!==void 0?ha(e.protocol):void 0,protocolPath:e.protocolPath,recipient:e.recipient,schema:e.schema!==void 0?vu(e.schema):void 0,parentId:e.parentId,dataCid:r,dataSize:i,dateCreated:e.dateCreated??n,messageTimestamp:e.messageTimestamp??n,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};e.published===!0&&e.datePublished===void 0&&(o.datePublished=n),pn(o);let s=e.recordId,d=e.contextId,p=await ai.computeCid(o),v=await Xt.createAttestation(p,e.attestationSigners),b=await Xt.createEncryptionProperty(o,e.encryptionInput),x={recordId:s,descriptor:o};d!==void 0&&(x.contextId=d),v!==void 0&&(x.attestation=v),b!==void 0&&(x.encryption=b);let E=new Xt(x);return e.signer!==void 0&&await E.sign({signer:e.signer,delegatedGrant:e.delegatedGrant,permissionsGrantId:e.permissionsGrantId,protocolRole:e.protocolRole}),E}static async createFrom(e){let r=e.recordsWriteMessage,i=Mt.getCurrentTimestamp(),n=e.published??(e.datePublished?!0:r.descriptor.published),o;e.datePublished?o=e.datePublished:n&&(r.descriptor.published?o=r.descriptor.datePublished:o=i);let s={recipient:r.descriptor.recipient,recordId:r.recordId,dateCreated:r.descriptor.dateCreated,contextId:r.contextId,protocol:r.descriptor.protocol,protocolPath:r.descriptor.protocolPath,parentId:r.descriptor.parentId,schema:r.descriptor.schema,dataFormat:r.descriptor.dataFormat,messageTimestamp:e.messageTimestamp??i,published:n,datePublished:o,data:e.data,dataCid:e.data?void 0:r.descriptor.dataCid,dataSize:e.data?void 0:r.descriptor.dataSize,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant,signer:e.signer,attestationSigners:e.attestationSigners};return await Xt.create(s)}toJSON(){return this.message}async encryptSymmetricEncryptionKey(e){this._message.encryption=await Xt.createEncryptionProperty(this._message.descriptor,e),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0}async sign(e){let{signer:r,delegatedGrant:i,permissionsGrantId:n,protocolRole:o}=e,s,d;i!==void 0?(s=await qe.getCid(i),d=hr.getSignerDid(i.authorization.signature.signatures[0])):d=hr.extractDid(r.keyId);let p=this._message.descriptor,v=await ai.computeCid(p);this._message.recordId=this._message.recordId??await Xt.getEntryId(d,p),this._message.contextId===void 0&&this._message.descriptor.protocol!==void 0&&(this._message.contextId=await Xt.getEntryId(d,p));let b=await Xt.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:v,attestation:this._message.attestation,encryption:this._message.encryption,signer:r,delegatedGrantId:s,permissionsGrantId:n,protocolRole:o});this._message.authorization={signature:b},i!==void 0&&(this._message.authorization.authorDelegatedGrant=i),this._signaturePayload=hr.decodePlainObjectPayload(b),this._author=d}async signAsOwner(e,r){if(this._author===void 0)throw new De("RecordsWriteSignAsOwnerUnknownAuthor","Unable to sign as owner if without message signature because owner needs to sign over `recordId` which depends on author DID.");let i=this._message.descriptor,n=await qe.createSignature(i,e,{permissionsGrantId:r});this._message.authorization.ownerSignature=n,this._ownerSignaturePayload=hr.decodePlainObjectPayload(n),this._owner=hr.extractDid(e.keyId)}async validateIntegrity(){if(await this.isInitialWrite()){let i=this.message.descriptor.dateCreated,n=this.message.descriptor.messageTimestamp;if(n!==i)throw new De("RecordsWriteValidateIntegrityDateCreatedMismatch",`messageTimestamp ${n} must match dateCreated ${i} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){let o=await this.getEntryId();if(this.message.contextId!==o)throw new De("RecordsWriteValidateIntegrityContextIdMismatch",`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${o}`)}}let r=this.signaturePayload;if(this.message.recordId!==r.recordId)throw new De("RecordsWriteValidateIntegrityRecordIdUnauthorized",`recordId in message ${this.message.recordId} does not match recordId in authorization: ${r.recordId}`);if(this.message.contextId!==r.contextId)throw new De("RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",`contextId in message ${this.message.contextId} does not match contextId in authorization: ${r.contextId}`);if(lr.validateDelegatedGrantReferentialIntegrity(this.message,r),r.attestationCid!==void 0){let i=await ai.computeCid(this.message.attestation),n=r.attestationCid;if(n!==i)throw new De("RecordsWriteValidateIntegrityAttestationMismatch",`CID ${i} of attestation property in message does not match attestationCid in authorization: ${n}`)}if(r.encryptionCid!==void 0){let i=await ai.computeCid(this.message.encryption),n=r.encryptionCid;if(n!==i)throw new De("RecordsWriteValidateIntegrityEncryptionCidMismatch",`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${n}`)}this.message.descriptor.protocol!==void 0&&Sc(this.message.descriptor.protocol),this.message.descriptor.schema!==void 0&&X0(this.message.descriptor.schema),Mt.validateTimestamp(this.message.descriptor.messageTimestamp),Mt.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&Mt.validateTimestamp(this.message.descriptor.datePublished)}static async validateAttestationIntegrity(e){if(e.attestation===void 0)return;if(e.attestation.signatures.length!==1)throw new De("RecordsWriteAttestationIntegrityMoreThanOneSignature",`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);let r=hr.decodePlainObjectPayload(e.attestation),{descriptorCid:i}=r,n=await ai.computeCid(e.descriptor);if(i!==n)throw new De("RecordsWriteAttestationIntegrityDescriptorCidMismatch",`descriptorCid ${i} does not match expected descriptorCid ${n}`);let o=Object.keys(r).length;if(o>1)throw new De("RecordsWriteAttestationIntegrityInvalidPayloadProperty",`Only 'descriptorCid' is allowed in attestation payload, but got ${o} properties.`)}async getEntryId(){return await Xt.getEntryId(this.author,this.message.descriptor)}static async getEntryId(e,r){if(e===void 0)throw new De("RecordsWriteGetEntryIdUndefinedAuthor","Property `author` is needed to compute entry ID.");let i={...r};return i.author=e,await ai.computeCid(i)}async isInitialWrite(){return await this.getEntryId()===this.message.recordId}async isAuthoredByInitialRecordAuthor(e,r){let i={entryId:this.message.recordId},{messages:n}=await r.query(e,[i]);return(await Xt.parse(n[0])).author===this.author}async constructRecordsWriteIndexes(e){let r=this.message,i={...r.descriptor};delete i.published;let n={...i,isLatestBaseState:e,published:!!r.descriptor.published,author:this.author,recordId:r.recordId,entryId:await Xt.getEntryId(this.author,this.message.descriptor)};return this.attesters.length>0&&(n.attester=this.attesters[0]),r.contextId!==void 0&&(n.contextId=r.contextId),n}static async isInitialWrite(e){if(e.descriptor.interface!=="Records"||e.descriptor.method!=="Write")return!1;let r=e,i=Xt.getAuthor(r);return await Xt.getEntryId(i,r.descriptor)===r.recordId}static getAuthor(e){let r;return e.authorization.authorDelegatedGrant!==void 0?r=qe.getSigner(e.authorization.authorDelegatedGrant):r=qe.getSigner(e),r}static async createEncryptionProperty(e,r){if(r===void 0)return;let i=[];for(let o of r.keyEncryptionInputs){if(o.derivationScheme==="protocolPath"&&e.protocol===void 0)throw new De("RecordsWriteMissingProtocol","`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(o.derivationScheme==="schemas"&&e.schema===void 0)throw new De("RecordsWriteMissingSchema","`schemas` encryption scheme cannot be applied to record without the `schema` property.");let s=Ut.publicJwkToBytes(o.publicKey),d=await Ff.eciesSecp256k1Encrypt(s,r.key),p=rt.bytesToBase64Url(d.ciphertext),v=await Ut.publicKeyToJwk(d.ephemeralPublicKey),b=rt.bytesToBase64Url(d.initializationVector),x=rt.bytesToBase64Url(d.messageAuthenticationCode),E={rootKeyId:o.publicKeyId,algorithm:o.algorithm??"ECIES-ES256K",derivationScheme:o.derivationScheme,ephemeralPublicKey:v,initializationVector:b,messageAuthenticationCode:x,encryptedKey:p};o.derivationScheme==="protocolContext"&&(E.derivedPublicKey=o.publicKey),i.push(E)}return{algorithm:r.algorithm??"A256CTR",initializationVector:rt.bytesToBase64Url(r.initializationVector),keyEncryption:i}}static async createAttestation(e,r){if(r===void 0||r.length===0)return;let i={descriptorCid:e},n=rt.objectToBytes(i);return(await su.create(n,r)).getJws()}static async createSignerSignature(e){let{recordId:r,contextId:i,descriptorCid:n,attestation:o,encryption:s,signer:d,delegatedGrantId:p,permissionsGrantId:v,protocolRole:b}=e,x=o?await ai.computeCid(o):void 0,E=s?await ai.computeCid(s):void 0,T={recordId:r,descriptorCid:n,contextId:i,attestationCid:x,encryptionCid:E,delegatedGrantId:p,permissionsGrantId:v,protocolRole:b};pn(T);let S=rt.objectToBytes(T);return(await su.create(S,[d])).getJws()}static async getInitialWrite(e){for(let r of e)if(await Xt.isInitialWrite(r))return r;throw new De("RecordsWriteGetInitialWriteNotFound","initial write is not found")}static verifyEqualityOfImmutableProperties(e,r){let i=["dataCid","dataSize","datePublished","published","messageTimestamp"],n=[];n.push(...Object.keys(e.descriptor)),n.push(...Object.keys(r.descriptor)),n=[...new Set(n)];for(let o of n)if(i.indexOf(o)===-1){let s=e.descriptor[o],d=r.descriptor[o];if(d!==s)throw new De("RecordsWriteImmutablePropertyChanged",`${o} is an immutable property: cannot change '${s}' to '${d}'`)}return!0}static getAttesters(e){return(e.attestation?.signatures??[]).map(n=>hr.getSignerDid(n))}};var _t=class{static async validateReferentialIntegrity(e,r,i){let n=await _t.fetchProtocolDefinition(e,r.message.descriptor.protocol,i);_t.verifyType(r.message,n.types),await _t.verifyProtocolPath(e,r,i);let o=_t.getRuleSet(r.message.descriptor.protocolPath,n);await _t.verifyUniqueRoleRecipient(e,r,o,i)}static async authorizeWrite(e,r,i){let n=await _t.constructAncestorMessageChain(e,r,r,i),o=await _t.fetchProtocolDefinition(e,r.message.descriptor.protocol,i),s=_t.getRuleSet(r.message.descriptor.protocolPath,o);await _t.verifyInvokedRole(e,r,r.message.descriptor.protocol,r.message.contextId,o,i),await _t.verifyAllowedActions(e,r,s,n,i)}static async authorizeRead(e,r,i,n){let o=await _t.constructAncestorMessageChain(e,r,i,n),s=await _t.fetchProtocolDefinition(e,i.message.descriptor.protocol,n),d=_t.getRuleSet(i.message.descriptor.protocolPath,s);await _t.verifyInvokedRole(e,r,i.message.descriptor.protocol,i.message.contextId,s,n),await _t.verifyAllowedActions(e,r,d,o,n)}static async authorizeQuery(e,r,i){let{protocol:n,protocolPath:o,contextId:s}=r.message.descriptor.filter,d=await _t.fetchProtocolDefinition(e,n,i),p=_t.getRuleSet(o,d);await _t.verifyInvokedRole(e,r,n,s,d,i),await _t.verifyAllowedActions(e,r,p,[],i)}static async authorizeDelete(e,r,i,n){let o=await _t.constructAncestorMessageChain(e,r,i,n),s=await _t.fetchProtocolDefinition(e,i.message.descriptor.protocol,n),d=_t.getRuleSet(i.message.descriptor.protocolPath,s);await _t.verifyInvokedRole(e,r,i.message.descriptor.protocol,i.message.contextId,s,n),await _t.verifyAllowedActions(e,r,d,o,n)}static async fetchProtocolDefinition(e,r,i){let n={interface:"Protocols",method:"Configure",protocol:r},{messages:o}=await i.query(e,[n]);if(o.length===0)throw new De("ProtocolAuthorizationProtocolNotFound",`unable to find protocol definition for ${r}`);return o[0].descriptor.definition}static async constructAncestorMessageChain(e,r,i,n){let o=[];r.message.descriptor.method!=="Write"&&o.push(i.message);let s=i.message.descriptor.protocol,d=i.message.contextId,p=i.message.descriptor.parentId;for(;p!==void 0;){let v={interface:"Records",method:"Write",protocol:s,contextId:d,recordId:p},{messages:b}=await n.query(e,[v]);if(b.length===0)throw new De("ProtocolAuthorizationParentNotFound",`no parent found with ID ${p}`);let x=b[0];o.push(x),p=x.descriptor.parentId}return o.reverse()}static getRuleSet(e,r){let i=_t.getRuleSetAtProtocolPath(e,r);if(i===void 0)throw new De("ProtocolAuthorizationMissingRuleSet",`No rule set defined for protocolPath ${e}`);return i}static async verifyProtocolPath(e,r,i){let n=r.message.descriptor.protocolPath,o=_t.getTypeName(n),s=r.message.descriptor.parentId;if(s===void 0){if(n!==o)throw new De("ProtocolAuthorizationParentlessIncorrectProtocolPath",`Declared protocol path '${n}' is not valid for records with no parentId'.`)}else{let d=r.message.descriptor.protocol,p=r.message.contextId,v={interface:"Records",method:"Write",protocol:d,contextId:p,recordId:s},{messages:b}=await i.query(e,[v]),x=b[0]?.descriptor?.protocolPath,E=`${x}/${o}`;if(x===void 0||E!==n)throw new De("ProtocolAuthorizationIncorrectProtocolPath",`Could not find matching parent record to verify declared protocol path '${n}'.`)}}static verifyType(e,r){let i=Object.keys(r),n=e.descriptor.protocolPath,o=_t.getTypeName(n);if(!i.includes(o))throw new De("ProtocolAuthorizationInvalidType",`record with type ${o} not allowed in protocol`);let s=e.descriptor.protocolPath,d=_t.getTypeName(s),p=r[d],{schema:v}=e.descriptor;if(p.schema!==void 0&&p.schema!==v)throw new De("ProtocolAuthorizationInvalidSchema",`type '${d}' must have schema '${p.schema}',         instead has '${v}'`);let{dataFormat:b}=e.descriptor;if(p.dataFormats!==void 0&&!p.dataFormats.includes(b))throw new De("ProtocolAuthorizationIncorrectDataFormat",`type '${d}' must have data format in (${p.dataFormats}),         instead has '${b}'`)}static async verifyInvokedRole(e,r,i,n,o,s){let d=r.signaturePayload?.protocolRole;if(d===void 0)return;let p=_t.getRuleSetAtProtocolPath(d,o);if(p===void 0||!p.$globalRole&&!p.$contextRole)throw new De("ProtocolAuthorizationNotARole",`Protocol path ${d} is not a valid protocolRole`);let v={interface:"Records",method:"Write",protocol:i,protocolPath:d,recipient:r.author,isLatestBaseState:!0};if(p.$contextRole){if(n===void 0)throw new De("ProtocolAuthorizationMissingContextId","Could not verify $contextRole because contextId is missing");v.contextId=n}let{messages:b}=await s.query(e,[v]);if(b.length===0)throw new De("ProtocolAuthorizationMissingRole",`No matching role record found for protocol path ${d}`)}static async getActionsSeekingARuleMatch(e,r,i){switch(r.message.descriptor.method){case"Delete":return["delete"];case"Query":return["query"];case"Read":return["read"];case"Write":let n=r;return await n.isInitialWrite()?["write"]:await n.isAuthoredByInitialRecordAuthor(e,i)?["write","update"]:["update"]}}static async verifyAllowedActions(e,r,i,n,o){let s=r.message.descriptor.method,d=await _t.getActionsSeekingARuleMatch(e,r,o),p=r.author,v=i.$actions;if(v===void 0)throw new De("ProtocolAuthorizationActionRulesNotFound",`no action rule defined for ${s}, ${p} is unauthorized`);let b=r.signaturePayload?.protocolRole;for(let x of v){if(!d.includes(x.can))continue;if(b!==void 0){if(x.role===b)return;continue}else if(x.who==="recipient"&&x.of===void 0&&p!==void 0){let T;if(r.message.descriptor.method==="Write"?T=r.message:T=n[n.length-1],T.descriptor.recipient===p)return}else{if(x.who==="anyone")return;if(p===void 0)continue}if(await _t.checkActor(p,x,n))return}throw new De("ProtocolAuthorizationActionNotAllowed","inbound message action not allowed for author")}static async verifyUniqueRoleRecipient(e,r,i,n){let o=r;if(!i.$globalRole&&!i.$contextRole)return;let s=o.message.descriptor.recipient;if(s===void 0)throw new De("ProtocolAuthorizationRoleMissingRecipient","Role records must have a recipient");let d=o.message.descriptor.protocolPath,p={interface:"Records",method:"Write",isLatestBaseState:!0,protocol:o.message.descriptor.protocol,protocolPath:d,recipient:s};i.$contextRole&&(p.contextId=o.message.contextId);let{messages:v}=await n.query(e,[p]);if(v.filter(E=>E.recordId!==o.message.recordId).length>0)throw i.$globalRole?new De("ProtocolAuthorizationDuplicateGlobalRoleRecipient",`DID '${s}' is already recipient of a $globalRole record at protocol path '${d}`):new De("ProtocolAuthorizationDuplicateContextRoleRecipient",`DID '${s}' is already recipient of a $contextRole record at protocol path '${d} in the same context`)}static getRuleSetAtProtocolPath(e,r){let i=e.split("/"),n=r.structure,o=0;for(;o<i.length;){let s=i[o],d=n[s];if(d===void 0)return;n=d,o++}return n}static async checkActor(e,r,i){let n=i.find(o=>o.descriptor.protocolPath===r.of);if(n===void 0)return!1;if(r.who==="recipient")return e===n.descriptor.recipient;{let o=(await Xt.parse(n)).author;return e===o}}static getTypeName(e){return e.split("/").slice(-1)[0]}};M();var yl=class extends yi{static async parse(e){let r;return e.authorization!==void 0&&(r=await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor)),lr.validateDelegatedGrantReferentialIntegrity(e,r),Mt.validateTimestamp(e.descriptor.messageTimestamp),new yl(e)}static async create(e){let r=e.recordId,i=Mt.getCurrentTimestamp(),n={interface:"Records",method:"Delete",recordId:r,messageTimestamp:e.messageTimestamp??i},o=await qe.createAuthorization({descriptor:n,signer:e.signer,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant}),s={descriptor:n,authorization:o};return qe.validateJsonSchema(s),new yl(s)}};M();M();var gl=class{};gl.maxDataSizeAllowedToBeEncoded=3e4;var vl=class{static async delete(e,r,i,n){let o=await qe.getCid(n);if(n.descriptor.method==="Write"&&n.descriptor.dataSize>gl.maxDataSizeAllowedToBeEncoded){let s=n;await r.delete(i,o,s.descriptor.dataCid)}await e.delete(i,o)}static async deleteAllOlderMessagesButKeepInitialWrite(e,r,i,n,o,s){let d=[];for(let p of r){if(await qe.isOlder(p,i))if(await vl.delete(n,o,e,p),await Xt.isInitialWrite(p)){let x=await Xt.parse(p),E=!1,T=await x.constructRecordsWriteIndexes(E),S=p;delete S.encodedData,await n.put(e,S,T)}else{let x=await qe.getCid(p);d.push(x)}await s.deleteEventsByCid(e,d)}}};var vm=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r}){let i;try{i=await yl.parse(r)}catch(E){return St(E,400)}try{await ci(r.authorization,this.didResolver)}catch(E){return St(E,401)}let n={interface:"Records",recordId:r.descriptor.recordId},{messages:o}=await this.messageStore.query(e,[n]),s=await qe.getNewestMessage(o),d=!1,p;if(s===void 0||await qe.isNewer(r,s)?(d=!0,p=r):p=s,!d)return{status:{code:409,detail:"Conflict"}};if(s===void 0||s.descriptor.method==="Delete")return{status:{code:404,detail:"Not Found"}};try{await vm.authorizeRecordsDelete(e,i,await Xt.parse(s),this.messageStore)}catch(E){return St(E,401)}let v=await Qxe(e,i);await this.messageStore.put(e,r,v);let b=await qe.getCid(r);return await this.eventLog.append(e,b),await vl.deleteAllOlderMessagesButKeepInitialWrite(e,o,p,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}}static async authorizeRecordsDelete(e,r,i,n){if(r.author!==e)if(i.message.descriptor.protocol!==void 0)await _t.authorizeDelete(e,r,i,n);else throw new De("RecordsDeleteAuthorizationFailed","RecordsDelete message failed authorization")}};async function Qxe(t,e){let i={...e.message.descriptor};return{author:e.author,...i}}M();M();var Z3=(r=>(r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r))(Z3||{});var Mo=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await cl.parse(r)}catch(s){return St(s,400)}let n,o;if(Mo.filterIncludesPublishedRecords(i)&&i.author===void 0){let s=await this.fetchPublishedRecords(e,i);n=s.messages,o=s.cursor}else{try{await ci(r.authorization,this.didResolver),Mo.shouldProtocolAuthorizeQuery(i)&&await _t.authorizeQuery(e,i,this.messageStore)}catch(s){return St(s,401)}if(i.author===e){let s=await this.fetchRecordsAsOwner(e,i);n=s.messages,o=s.cursor}else{let s=await this.fetchRecordsAsNonOwner(e,i);n=s.messages,o=s.cursor}}return{status:{code:200,detail:"OK"},entries:n,cursor:o}}convertDateSort(e){switch(e){case"createdAscending":return{dateCreated:1};case"createdDescending":return{dateCreated:-1};case"publishedAscending":return{datePublished:1};case"publishedDescending":return{datePublished:-1};default:return{dateCreated:1}}}async fetchRecordsAsOwner(e,r){let{dateSort:i,filter:n,pagination:o}=r.message.descriptor,s={...lr.convertFilter(n),interface:"Records",method:"Write",isLatestBaseState:!0},d=this.convertDateSort(i);return this.messageStore.query(e,[s],d,o)}async fetchRecordsAsNonOwner(e,r){let{dateSort:i,pagination:n}=r.message.descriptor,o=[];if(Mo.filterIncludesPublishedRecords(r)&&o.push(Mo.buildPublishedRecordsFilter(r)),Mo.filterIncludesUnpublishedRecords(r)){o.push(Mo.buildUnpublishedRecordsByQueryAuthorFilter(r));let d=r.message.descriptor.filter.recipient;(d===void 0||d===r.author)&&o.push(Mo.buildUnpublishedRecordsForQueryAuthorFilter(r)),Mo.shouldProtocolAuthorizeQuery(r)&&o.push(Mo.buildUnpublishedProtocolAuthorizedRecordsFilter(r))}let s=this.convertDateSort(i);return this.messageStore.query(e,o,s,n)}async fetchPublishedRecords(e,r){let{dateSort:i,pagination:n}=r.message.descriptor,o=Mo.buildPublishedRecordsFilter(r),s=this.convertDateSort(i);return this.messageStore.query(e,[o],s,n)}static buildPublishedRecordsFilter(e){return{...lr.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",published:!0,isLatestBaseState:!0}}static buildUnpublishedRecordsForQueryAuthorFilter(e){return{...lr.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",recipient:e.author,isLatestBaseState:!0,published:!1}}static buildUnpublishedProtocolAuthorizedRecordsFilter(e){return{...lr.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",isLatestBaseState:!0,published:!1}}static buildUnpublishedRecordsByQueryAuthorFilter(e){return{...lr.convertFilter(e.message.descriptor.filter),author:e.author,interface:"Records",method:"Write",isLatestBaseState:!0,published:!1}}static shouldProtocolAuthorizeQuery(e){return e.signaturePayload.protocolRole!==void 0}static filterIncludesPublishedRecords(e){let{filter:r}=e.message.descriptor;return r.datePublished!==void 0||r.published!==!1}static filterIncludesUnpublishedRecords(e){let{filter:r}=e.message.descriptor;return r.datePublished===void 0&&r.published===void 0?!0:r.published===!1}};M();M();M();var hs=class{static async authorizeWrite(e,r,i,n){let o=await Xs.authorizeGenericMessage(e,r,i,r.signaturePayload.permissionsGrantId,n);hs.verifyScope(r,o),hs.verifyConditions(r,o)}static async authorizeRead(e,r,i,n,o){let s=await Xs.authorizeGenericMessage(e,r,n,r.signaturePayload.permissionsGrantId,o);hs.verifyScope(i,s)}static verifyScope(e,r){let i=r.descriptor.scope;hs.isUnrestrictedScope(i)||(e.message.descriptor.protocol!==void 0?hs.authorizeProtocolRecord(e,i):hs.authorizeFlatRecord(e,i))}static authorizeProtocolRecord(e,r){if(r.protocol===void 0)throw new De("RecordsGrantAuthorizationScopeNotProtocol","Grant for protocol record must specify protocol in its scope");if(r.protocol!==e.message.descriptor.protocol)throw new De("RecordsGrantAuthorizationScopeProtocolMismatch","Grant scope specifies different protocol than what appears in the record");if(r.contextId!==void 0&&r.contextId!==e.message.contextId)throw new De("RecordsGrantAuthorizationScopeContextIdMismatch","Grant scope specifies different contextId than what appears in the record");if(r.protocolPath!==void 0&&r.protocolPath!==e.message.descriptor.protocolPath)throw new De("RecordsGrantAuthorizationScopeProtocolPathMismatch","Grant scope specifies different protocolPath than what appears in the record")}static authorizeFlatRecord(e,r){if(r.schema!==void 0&&r.schema!==e.message.descriptor.schema)throw new De("RecordsGrantAuthorizationScopeSchema",`Record does not have schema in PermissionsGrant scope with schema '${r.schema}'`)}static verifyConditions(e,r){let i=r.descriptor.conditions;if(i?.publication==="Required"&&!e.message.descriptor.published)throw new De("RecordsGrantAuthorizationConditionPublicationRequired","PermissionsGrant requires message to be published");if(i?.publication==="Prohibited"&&e.message.descriptor.published)throw new De("RecordsGrantAuthorizationConditionPublicationProhibited","PermissionsGrant prohibits message from being published")}static isUnrestrictedScope(e){return e.protocol===void 0&&e.schema===void 0}};M();var bl=class extends yi{static async parse(e){let r;return e.authorization!==void 0&&(r=await qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor)),lr.validateDelegatedGrantReferentialIntegrity(e,r),Mt.validateTimestamp(e.descriptor.messageTimestamp),new bl(e)}static async create(e){let{filter:r,signer:i,permissionsGrantId:n,protocolRole:o}=e,s=Mt.getCurrentTimestamp(),d={interface:"Records",method:"Read",filter:lr.normalizeFilter(r),messageTimestamp:e.messageTimestamp??s};pn(d);let p;i!==void 0&&(p=await qe.createAuthorization({descriptor:d,signer:i,permissionsGrantId:n,protocolRole:o,delegatedGrant:e.delegatedGrant}));let v={descriptor:d,authorization:p};return qe.validateJsonSchema(v),new bl(v)}};var bm=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await bl.parse(r)}catch(v){return St(v,400)}try{i.author!==void 0&&await ci(r.authorization,this.didResolver)}catch(v){return St(v,401)}let n={interface:"Records",isLatestBaseState:!0,...lr.convertFilter(r.descriptor.filter)},{messages:o}=await this.messageStore.query(e,[n]);if(o.length===0)return{status:{code:404,detail:"Not Found"}};if(o.length>1)return St(new De("RecordsReadReturnedMultiple","Multiple records exist for the RecordsRead filter"),400);let s=o[0];try{await bm.authorizeRecordsRead(e,i,await Xt.parse(s),this.messageStore)}catch(v){return St(v,401)}let d;if(s.encodedData!==void 0){let v=rt.base64UrlToBytes(s.encodedData);d=Oa.fromBytes(v),delete s.encodedData}else{let v=await qe.getCid(s),b=await this.dataStore.get(e,v,s.descriptor.dataCid);if(b?.dataStream===void 0)return{status:{code:404,detail:"Not Found"}};d=b.dataStream}return{status:{code:200,detail:"OK"},record:{...s,data:d}}}static async authorizeRecordsRead(e,r,i,n){let{descriptor:o}=i.message;if(r.author!==e){if(o.published===!0)return;if(r.author!==void 0&&r.author===o.recipient)return;if(r.author!==void 0&&r.signaturePayload.permissionsGrantId!==void 0)await hs.authorizeRead(e,r,i,r.author,n);else if(o.protocol!==void 0)await _t.authorizeRead(e,r,i,n);else throw new De("RecordsReadAuthorizationFailed","message failed authorization")}}};M();var Wu=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,options:i,dataStream:n}){let o;try{o=await Xt.parse(r),r.descriptor.protocol!==void 0&&await _t.validateReferentialIntegrity(e,o,this.messageStore)}catch(B){return St(B,400)}try{await ci(r.authorization,this.didResolver),await Wu.authorizeRecordsWrite(e,o,this.messageStore)}catch(B){return St(B,401)}let s={interface:"Records",recordId:r.recordId},{messages:d}=await this.messageStore.query(e,[s]);if(!await o.isInitialWrite())try{let B=await Xt.getInitialWrite(d);Xt.verifyEqualityOfImmutableProperties(B,r)}catch(B){return St(B,400)}let v=await qe.getNewestMessage(d),b=!1,x;if(v===void 0||await qe.isNewer(r,v)?(b=!0,x=r):x=v,!b)return{status:{code:409,detail:"Conflict"}};let E=!0,T=await o.constructRecordsWriteIndexes(E),S=r;if(i===void 0||!i.skipDataStorage){if(n===void 0&&v?.descriptor.method==="Delete")return St(new De("RecordsWriteMissingDataStream","No data stream was provided with the previous message being a delete"),400);try{r.descriptor.dataSize<=gl.maxDataSizeAllowedToBeEncoded?S=await this.processEncodedData(r,n,v):await this.putData(e,r,n)}catch(B){let I=B;if(I.code==="RecordsWriteMissingDataInPrevious"||I.code==="RecordsWriteMissingDataAssociation"||I.code==="RecordsWriteDataCidMismatch"||I.code==="RecordsWriteDataSizeMismatch")return St(B,400);throw B}}await this.messageStore.put(e,S,T),await this.eventLog.append(e,await qe.getCid(r));let P={status:{code:202,detail:"Accepted"}};return await vl.deleteAllOlderMessagesButKeepInitialWrite(e,d,x,this.messageStore,this.dataStore,this.eventLog),P}async processEncodedData(e,r,i){let n;if(r===void 0){let d=i;if(d?.encodedData===void 0)throw new De("RecordsWriteMissingDataInPrevious","No dataStream was provided and unable to get data from previous message");n=rt.base64UrlToBytes(d.encodedData)}else n=await Oa.toBytes(r);let o=await ai.computeDagPbCidFromBytes(n);Wu.validateDataIntegrity(e.descriptor.dataCid,e.descriptor.dataSize,o,n.length);let s={...e};return s.encodedData=rt.bytesToBase64Url(n),s}async putData(e,r,i){let n,o=await qe.getCid(r);if(i===void 0){let s=await this.dataStore.associate(e,o,r.descriptor.dataCid);if(s===void 0)throw new De("RecordsWriteMissingDataAssociation",`Unable to associate dataCid ${r.descriptor.dataCid} to messageCid ${o} because dataStream was not provided and data was not found in dataStore`);n=s}else n=await this.dataStore.put(e,o,r.descriptor.dataCid,i);try{Wu.validateDataIntegrity(r.descriptor.dataCid,r.descriptor.dataSize,n.dataCid,n.dataSize)}catch(s){throw await this.dataStore.delete(e,o,r.descriptor.dataCid),s}}static validateDataIntegrity(e,r,i,n){if(e!==i)throw new De("RecordsWriteDataCidMismatch",`actual data CID ${i} does not match dataCid in descriptor: ${e}`);if(r!==n)throw new De("RecordsWriteDataSizeMismatch",`actual data size ${n} bytes does not match dataSize in descriptor: ${r}`)}static async authorizeRecordsWrite(e,r,i){if(r.owner!==void 0&&r.owner!==e)throw new De("RecordsWriteOwnerAndTenantMismatch",`Owner ${r.owner} must be the same as tenant ${e} when specified.`);if(r.owner===void 0){if(r.author===e)return;if(r.author!==void 0&&r.signaturePayload.permissionsGrantId!==void 0)await hs.authorizeWrite(e,r,r.author,i);else if(r.message.descriptor.protocol!==void 0)await _t.authorizeWrite(e,r,i);else throw new De("RecordsWriteAuthorizationFailed","message failed authorization")}}};var jv=class{constructor(e){this.didResolver=e.didResolver,this.tenantGate=e.tenantGate,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.methodHandlers={["Events"+"Get"]:new $3(this.didResolver,this.eventLog),["Messages"+"Get"]:new G3(this.didResolver,this.messageStore,this.dataStore),["Permissions"+"Grant"]:new W3(this.didResolver,this.messageStore,this.eventLog),["Permissions"+"Request"]:new K3(this.didResolver,this.messageStore,this.eventLog),["Permissions"+"Revoke"]:new H3(this.didResolver,this.messageStore,this.eventLog),["Protocols"+"Configure"]:new gm(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Protocols"+"Query"]:new V3(this.didResolver,this.messageStore,this.dataStore),["Records"+"Delete"]:new vm(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Records"+"Query"]:new Mo(this.didResolver,this.messageStore,this.dataStore),["Records"+"Read"]:new bm(this.didResolver,this.messageStore,this.dataStore),["Records"+"Write"]:new Wu(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static async create(e){e.didResolver??=new Ov,e.tenantGate??=new fg;let r=new jv(e);return await r.open(),r}async open(){await this.messageStore.open(),await this.dataStore.open(),await this.eventLog.open()}async close(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()}async processMessage(e,r,i){let n=await this.validateTenant(e)??await this.validateMessageIntegrity(r);if(n!==void 0)return n;let o=r.descriptor.interface+r.descriptor.method;return await this.methodHandlers[o].handle({tenant:e,message:r,dataStream:i})}async synchronizePrunedInitialRecordsWrite(e,r){let i=await this.validateTenant(e)??await this.validateMessageIntegrity(r,"Records","Write");if(i!==void 0)return i;let n={skipDataStorage:!0};return await new Wu(this.didResolver,this.messageStore,this.dataStore,this.eventLog).handle({tenant:e,message:r,options:n})}async validateTenant(e){if(!await this.tenantGate.isTenant(e))return{status:{code:401,detail:`${e} is not a tenant`}}}async validateMessageIntegrity(e,r,i){let n=e?.descriptor?.interface,o=e?.descriptor?.method;if(n===void 0||o===void 0)return{status:{code:400,detail:`Both interface and method must be present, interface: ${n}, method: ${o}`}};if(r!==void 0&&r!==n)return{status:{code:400,detail:`Expected interface ${r}, received ${n}`}};if(i!==void 0&&i!==o)return{status:{code:400,detail:`Expected method ${r}${i}, received ${n}${o}`}};try{qe.validateJsonSchema(e)}catch(s){return St(s,400)}}};M();function Xxe(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}async function Jr(t,e){return e?Promise.race([t,Xxe(e)]):t}M();M();M();var x7=class{static async deriveAndInjectPublicEncryptionKeys(e,r,i){let n=JSON.parse(JSON.stringify(e));async function o(p,v){for(let b in p)if(!b.startsWith("$")){let x=await ul.derivePrivateKey(v,[b]),E=await Ut.getPublicJwk(x.derivedPrivateKey);p[b].$encryption={rootKeyId:r,publicKeyJwk:E},await o(p[b],x)}}let s={derivationScheme:"protocolPath",derivedPrivateKey:i,rootKeyId:r},d=await ul.derivePrivateKey(s,["protocolPath",e.protocol]);return await o(n.structure,d),n}};M();M();M();M();var hJ=Yt(dJ(),1);async function Ua(t,e){return new hJ.Level(t,{...e,keyEncoding:"utf8"})}var La=class{constructor(e,r){this.config={createLevelDatabase:Ua,...e},this.db=r}async open(){switch(await this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(e=>{this.db.once("open",e)});case"closing":return new Promise((e,r)=>{let i=()=>{this.db.open().then(e).catch(r)};this.db.once("closed",i)});case"closed":return this.db.open()}}async close(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((e,r)=>{let i=()=>{this.db.close().then(e).catch(r)};this.db.once("open",i)});case"closing":return new Promise(e=>{this.db.once("closed",e)});case"closed":return}}async partition(e){return await this.createLevelDatabase(),new La(this.config,this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))}async get(e,r){r?.signal?.throwIfAborted(),await Jr(this.createLevelDatabase(),r?.signal);try{return await Jr(this.db.get(String(e)),r?.signal)}catch(i){if(i.code==="LEVEL_NOT_FOUND")return;throw i}}async has(e,r){return!!await this.get(e,r)}async*keys(e){e?.signal?.throwIfAborted(),await Jr(this.createLevelDatabase(),e?.signal);for await(let r of this.db.keys())e?.signal?.throwIfAborted(),yield r}async*iterator(e,r){r?.signal?.throwIfAborted(),await Jr(this.createLevelDatabase(),r?.signal);for await(let i of this.db.iterator(e))r?.signal?.throwIfAborted(),yield i}async put(e,r,i){return i?.signal?.throwIfAborted(),await Jr(this.createLevelDatabase(),i?.signal),Jr(this.db.put(String(e),r),i?.signal)}async delete(e,r){return r?.signal?.throwIfAborted(),await Jr(this.createLevelDatabase(),r?.signal),Jr(this.db.del(String(e)),r?.signal)}async isEmpty(e){for await(let r of this.keys(e))return!1;return!0}async clear(){await this.createLevelDatabase(),await this.db.clear(),await this.compactUnderlyingStorage()}async batch(e,r){return r?.signal?.throwIfAborted(),await Jr(this.createLevelDatabase(),r?.signal),Jr(this.db.batch(e),r?.signal)}async compactUnderlyingStorage(e){e?.signal?.throwIfAborted(),await Jr(this.createLevelDatabase(),e?.signal);let r=this.sublevelRange;if(!r)return;let i=this.root;if(i.db.supports.additionalMethods.compactRange)return Jr(i.db.compactRange?.(...r),e?.signal)}get sublevelRange(){let e=this.db.prefix;if(!e)return;let r=e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1);return[e,r]}get root(){let e=this.db;for(let r=e.db;r&&r!==e;)e=r;return new La(this.config,e)}async createLevelDatabase(){this.db??=await this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})}};var Rl=class{constructor(e,r){this.config={createLevelDatabase:Ua,...e},this.db=r??new La({...this.config,valueEncoding:"binary"})}async open(){return this.db.open()}async close(){return this.db.close()}async partition(e){let r=await this.db.partition(e);return new Rl({...this.config,location:""},r)}async put(e,r,i){return await this.db.put(String(e),r,i),nt.parse(e.toString())}async get(e,r){return await this.db.get(String(e),r)}async has(e,r){return this.db.has(String(e),r)}async delete(e,r){return this.db.delete(String(e),r)}async isEmpty(e){return this.db.isEmpty(e)}async*putMany(e,r){for await(let i of e)await this.put(i.cid,i.block,r),yield i.cid}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async*getAll(e){let r=this.db.iterator({keys:!0,keyEncoding:"buffer"},e);for await(let[i,n]of r)yield{cid:nt.decode(i),block:n}}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async clear(){return this.db.clear()}};M();var D6=Yt(Ro(),1);M();function XMe(t){return t[Symbol.asyncIterator]!=null}function e4e(t){if(XMe(t))return(async()=>{let r;for await(let i of t)r=i;return r})();let e;for(let r of t)e=r;return e}var pJ=e4e;M();var GJ=Yt(Ro(),1);M();var mJ=Yt(Ro(),1);var t4e=async(t,e,r,i,n,o,s,d)=>{let p=await s.get(t,d),v=Qx(p),b=v,x=r;for(;i.length>0;){let E=i[0];if(E in b){i.shift(),x=`${x}/${E}`;let T=nt.asCID(b[E]);if(T!=null)return{entry:{type:"object",name:e,path:r,cid:t,node:p,depth:o,size:BigInt(p.length),content:async function*(){yield v}},next:{cid:T,name:E,path:x,toResolve:i}};b=b[E]}else throw(0,mJ.default)(new Error(`No property named ${E} found in cbor node ${t}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:r,cid:t,node:p,depth:o,size:BigInt(p.length),content:async function*(){yield v}}}},yJ=t4e;M();var gJ=Yt(Ro(),1);M();function r4e(t,e,r,i){let n=BigInt(t.length),o=BigInt(e+n);return r>=o||i<e?new Uint8Array(0):(i>=e&&i<o&&(t=t.subarray(0,Number(i-e))),r>=e&&r<o&&(t=t.subarray(Number(r-e))),t)}var qh=r4e;M();var i1=Yt(Ro(),1),i4e=(t,e=0,r=t)=>{let i=BigInt(t),n=BigInt(e??0),o=BigInt(r);if(o!==i&&(o=n+o),o>i&&(o=i),n<0n)throw(0,i1.default)(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(n>i)throw(0,i1.default)(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(o<0n)throw(0,i1.default)(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw(0,i1.default)(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:n,end:o}},km=i4e;var n4e=t=>{async function*e(r={}){let{start:i,end:n}=km(t.length,r.offset,r.length),o=qh(t,0n,i,n);r.onProgress?.(new mi("unixfs:exporter:progress:identity",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},o4e=async(t,e,r,i,n,o,s,d)=>{if(i.length>0)throw(0,gJ.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let p=Xh(t.multihash.bytes);return{entry:{type:"identity",name:e,path:r,cid:t,content:n4e(p.digest),depth:o,size:BigInt(p.digest.length),node:p.digest}}},vJ=o4e;M();var bJ=Yt(Ro(),1);var s4e=t=>{async function*e(r={}){let{start:i,end:n}=km(t.length,r.offset,r.length),o=qh(t,0n,i,n);r.onProgress?.(new mi("unixfs:exporter:progress:raw",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},a4e=async(t,e,r,i,n,o,s,d)=>{if(i.length>0)throw(0,bJ.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let p=await s.get(t,d);return{entry:{type:"raw",name:e,path:r,cid:t,content:s4e(p),depth:o,size:BigInt(p.length),node:p}}},wJ=a4e;M();var h1=Yt(Ro(),1);M();var f4e=async function(t){return(await ob.encode(t)).slice(0,8).reverse()},u4e=async(t,e,r)=>{await Promise.all(t.map(async i=>{if(i.Name==null)throw new Error("Unexpected Link without a Name");if(i.Name.length===2){let n=parseInt(i.Name,16);e._putObjectAt(n,new hn({hash:r._options.hash,bits:r._options.bits},e,n));return}await r.put(i.Name.substring(2),!0)}))},_J=t=>t.toString(16).toUpperCase().padStart(2,"0").substring(0,2),c4e=t=>{let e=t.bucket,r=[];for(;e._parent!=null;)r.push(e),e=e._parent;return r.push(e),r.reverse()},xJ=async(t,e,r,i,n)=>{if(i==null){let b=fb({hashFn:f4e});i={rootBucket:b,hamtDepth:1,lastBucket:b}}await u4e(t.Links,i.lastBucket,i.rootBucket);let o=await i.rootBucket._findNewBucketAndPos(e),s=_J(o.pos),d=c4e(o);d.length>i.hamtDepth&&(i.lastBucket=d[i.hamtDepth],s=_J(i.lastBucket._posAtParent));let p=t.Links.find(b=>{if(b.Name==null)return!1;let x=b.Name.substring(0,2),E=b.Name.substring(2);return!(x!==s||E!==""&&E!==e)});if(p==null)return;if(p.Name!=null&&p.Name.substring(2)===e)return p.Hash;i.hamtDepth++;let v=await r.get(p.Hash,n);return t=iu(v),xJ(t,e,r,i,n)},MJ=xJ;M();M();M();function l4e(t){let[e,r]=t[Symbol.asyncIterator]!=null?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>e.next(),push:n=>{i.push(n)},next:()=>i.length>0?{done:!1,value:i.shift()}:e.next(),[r](){return this}}}var _6=l4e;function d4e(t){return t[Symbol.asyncIterator]!=null}function h4e(t,e){if(d4e(t))return async function*(){for await(let d of t)await e(d)&&(yield d)}();let r=_6(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){await o&&(yield i);for await(let d of r)await e(d)&&(yield d)}();let s=e;return function*(){o===!0&&(yield i);for(let d of r)s(d)&&(yield d)}()}var EJ=h4e;M();function p4e(t){return t[Symbol.asyncIterator]!=null}function m4e(t,e){if(p4e(t))return async function*(){for await(let d of t)yield e(d)}();let r=_6(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){yield await o;for await(let d of r)yield e(d)}();let s=e;return function*(){yield o;for(let d of r)yield s(d)}()}var Im=m4e;M();M();function Xu(){let t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}var x6=globalThis.CustomEvent??Event;async function*Nh(t,e={}){let r=e.concurrency??1/0;r<1&&(r=1/0);let i=e.ordered==null?!1:e.ordered,n=new EventTarget,o=[],s=Xu(),d=Xu(),p=!1,v,b=!1;n.addEventListener("task-complete",()=>{d.resolve()}),Promise.resolve().then(async()=>{try{for await(let S of t){if(o.length===r&&(s=Xu(),await s.promise),b)break;let P={done:!1};o.push(P),S().then(B=>{P.done=!0,P.ok=!0,P.value=B,n.dispatchEvent(new x6("task-complete"))},B=>{P.done=!0,P.err=B,n.dispatchEvent(new x6("task-complete"))})}p=!0,n.dispatchEvent(new x6("task-complete"))}catch(S){v=S,n.dispatchEvent(new x6("task-complete"))}});function x(){return i?o[0]?.done:Boolean(o.find(S=>S.done))}function*E(){for(;o.length>0&&o[0].done;){let S=o[0];if(o.shift(),S.ok)yield S.value;else throw b=!0,s.resolve(),S.err;s.resolve()}}function*T(){for(;x();)for(let S=0;S<o.length;S++)if(o[S].done){let P=o[S];if(o.splice(S,1),S--,P.ok)yield P.value;else throw b=!0,s.resolve(),P.err;s.resolve()}}for(;;){if(x()||(d=Xu(),await d.promise),v!=null)throw v;if(i?yield*E():yield*T(),p&&o.length===0)break}}M();M();M();var M6=class{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}},Bm=class{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new M6(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let r=this.head;this.head=r.next=new M6(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){let r=this.tail.next;this.tail.next=null,this.tail=r,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}};var h9=class extends Error{type;code;constructor(e,r){super(e??"The operation was aborted"),this.type="aborted",this.code=r??"ABORT_ERR"}};function Dm(t={}){return y4e(r=>{let i=r.shift();if(i==null)return{done:!0};if(i.error!=null)throw i.error;return{done:i.done===!0,value:i.value}},t)}function y4e(t,e){e=e??{};let r=e.onEnd,i=new Bm,n,o,s,d=Xu(),p=async()=>{try{return i.isEmpty()?s?{done:!0}:await new Promise((B,I)=>{o=C=>{o=null,i.push(C);try{B(t(i))}catch(O){I(O)}return n}}):t(i)}finally{i.isEmpty()&&queueMicrotask(()=>{d.resolve(),d=Xu()})}},v=B=>o!=null?o(B):(i.push(B),n),b=B=>(i=new Bm,o!=null?o({error:B}):(i.push({error:B}),n)),x=B=>{if(s)return n;if(e?.objectMode!==!0&&B?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return v({done:!1,value:B})},E=B=>s?n:(s=!0,B!=null?b(B):v({done:!0})),T=()=>(i=new Bm,E(),{done:!0}),S=B=>(E(B),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:p,return:T,throw:S,push:x,end:E,get readableLength(){return i.size},onEmpty:async B=>{let I=B?.signal;if(I?.throwIfAborted(),i.isEmpty())return;let C,O;I!=null&&(C=new Promise((F,q)=>{O=()=>{q(new h9)},I.addEventListener("abort",O)}));try{await Promise.race([d.promise,C])}finally{O!=null&&I!=null&&I?.removeEventListener("abort",O)}}},r==null)return n;let P=n;return n={[Symbol.asyncIterator](){return this},next(){return P.next()},throw(B){return P.throw(B),r!=null&&(r(B),r=void 0),{done:!0}},return(){return P.return(),r!=null&&(r(),r=void 0),{done:!0}},push:x,end(B){return P.end(B),r!=null&&(r(B),r=void 0),n},get readableLength(){return P.readableLength}},n}M();function g4e(t){return t[Symbol.asyncIterator]!=null}function v4e(...t){let e=[];for(let r of t)g4e(r)||e.push(r);return e.length===t.length?function*(){for(let r of e)yield*r}():async function*(){let r=Dm({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(t.map(async i=>{for await(let n of i)r.push(n)})),r.end()}catch(i){r.end(i)}}),yield*r}()}var SJ=v4e;function Cm(t,...e){if(t==null)throw new Error("Empty pipeline");if(p9(t)){let i=t;t=()=>i.source}else if(TJ(t)||AJ(t)){let i=t;t=()=>i}let r=[t,...e];if(r.length>1&&p9(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let i=1;i<r.length-1;i++)p9(r[i])&&(r[i]=w4e(r[i]));return b4e(...r)}var b4e=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},AJ=t=>t?.[Symbol.asyncIterator]!=null,TJ=t=>t?.[Symbol.iterator]!=null,p9=t=>t==null?!1:t.sink!=null&&t.source!=null,w4e=t=>e=>{let r=t.sink(e);if(r?.then!=null){let i=Dm({objectMode:!0});r.then(()=>{i.end()},s=>{i.end(s)});let n,o=t.source;if(AJ(o))n=async function*(){yield*o,i.end()};else if(TJ(o))n=function*(){yield*o,i.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return SJ(i,n())}return t.source};var _4e=(t,e,r,i,n,o,s)=>{async function*d(p={}){let v=p.offset??0,b=p.length??e.Links.length,x=e.Links.slice(v,b);p.onProgress?.(new mi("unixfs:exporter:walk:directory",{cid:t})),yield*Cm(x,E=>Im(E,T=>async()=>{let S=T.Name??"",P=`${i}/${S}`;return(await n(T.Hash,S,P,[],o+1,s,p)).entry}),E=>Nh(E,{ordered:!0}),E=>EJ(E,T=>T!=null))}return d},PJ=_4e;M();var Uh=Yt(Ro(),1);M();var LJ=Yt(kJ(),1);M();var o1=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},y9=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},IJ=t=>globalThis.DOMException===void 0?new y9(t):new DOMException(t),BJ=t=>{let e=t.reason===void 0?IJ("This operation was aborted."):t.reason;return e instanceof Error?e:IJ(e)};function g9(t,e,r,i){let n,o=new Promise((s,d)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){s(t);return}if(i={customTimers:{setTimeout,clearTimeout},...i},i.signal){let{signal:p}=i;p.aborted&&d(BJ(p)),p.addEventListener("abort",()=>{d(BJ(p))})}n=i.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{s(r())}catch(b){d(b)}return}let p=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,v=r instanceof Error?r:new o1(p);typeof t.cancel=="function"&&t.cancel(),d(v)},e),(async()=>{try{s(await t)}catch(p){d(p)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()});return o.clear=()=>{clearTimeout(n),n=void 0},o}M();M();function v9(t,e,r){let i=0,n=t.length;for(;n>0;){let o=Math.trunc(n/2),s=i+o;r(t[s],e)<=0?(i=++s,n-=o+1):n=o}return i}var Lh=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},ec,s1=class{constructor(){ec.set(this,[])}enqueue(e,r){r={priority:0,...r};let i={priority:r.priority,run:e};if(this.size&&Lh(this,ec,"f")[this.size-1].priority>=r.priority){Lh(this,ec,"f").push(i);return}let n=v9(Lh(this,ec,"f"),i,(o,s)=>s.priority-o.priority);Lh(this,ec,"f").splice(n,0,i)}dequeue(){let e=Lh(this,ec,"f").shift();return e?.run}filter(e){return Lh(this,ec,"f").filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return Lh(this,ec,"f").length}};ec=new WeakMap;var di=function(t,e,r,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},Ye=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},Di,f1,u1,Il,k6,c1,S6,Fa,a1,gs,A6,vs,l1,kl,T6,DJ,CJ,qJ,OJ,jJ,P6,b9,w9,I6,NJ,R6,B6=class extends Error{},d1=class extends LJ.default{constructor(e){var r,i,n,o;if(super(),Di.add(this),f1.set(this,void 0),u1.set(this,void 0),Il.set(this,0),k6.set(this,void 0),c1.set(this,void 0),S6.set(this,0),Fa.set(this,void 0),a1.set(this,void 0),gs.set(this,void 0),A6.set(this,void 0),vs.set(this,0),l1.set(this,void 0),kl.set(this,void 0),T6.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:s1,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(n=e.interval)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""}\` (${typeof e.interval})`);di(this,f1,e.carryoverConcurrencyCount,"f"),di(this,u1,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),di(this,k6,e.intervalCap,"f"),di(this,c1,e.interval,"f"),di(this,gs,new e.queueClass,"f"),di(this,A6,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,di(this,T6,e.throwOnTimeout===!0,"f"),di(this,kl,e.autoStart===!1,"f")}get concurrency(){return Ye(this,l1,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);di(this,l1,e,"f"),Ye(this,Di,"m",I6).call(this)}async add(e,r={}){return r={timeout:this.timeout,throwOnTimeout:Ye(this,T6,"f"),...r},new Promise((i,n)=>{Ye(this,gs,"f").enqueue(async()=>{var o,s,d;di(this,vs,(s=Ye(this,vs,"f"),s++,s),"f"),di(this,Il,(d=Ye(this,Il,"f"),d++,d),"f");try{if(!((o=r.signal)===null||o===void 0)&&o.aborted)throw new B6("The task was aborted.");let p=e({signal:r.signal});r.timeout&&(p=g9(Promise.resolve(p),r.timeout)),r.signal&&(p=Promise.race([p,Ye(this,Di,"m",NJ).call(this,r.signal)]));let v=await p;i(v),this.emit("completed",v)}catch(p){if(p instanceof o1&&!r.throwOnTimeout){i();return}n(p),this.emit("error",p)}finally{Ye(this,Di,"m",qJ).call(this)}},r),this.emit("add"),Ye(this,Di,"m",P6).call(this)})}async addAll(e,r){return Promise.all(e.map(async i=>this.add(i,r)))}start(){return Ye(this,kl,"f")?(di(this,kl,!1,"f"),Ye(this,Di,"m",I6).call(this),this):this}pause(){di(this,kl,!0,"f")}clear(){di(this,gs,new(Ye(this,A6,"f")),"f")}async onEmpty(){Ye(this,gs,"f").size!==0&&await Ye(this,Di,"m",R6).call(this,"empty")}async onSizeLessThan(e){Ye(this,gs,"f").size<e||await Ye(this,Di,"m",R6).call(this,"next",()=>Ye(this,gs,"f").size<e)}async onIdle(){Ye(this,vs,"f")===0&&Ye(this,gs,"f").size===0||await Ye(this,Di,"m",R6).call(this,"idle")}get size(){return Ye(this,gs,"f").size}sizeBy(e){return Ye(this,gs,"f").filter(e).length}get pending(){return Ye(this,vs,"f")}get isPaused(){return Ye(this,kl,"f")}};f1=new WeakMap,u1=new WeakMap,Il=new WeakMap,k6=new WeakMap,c1=new WeakMap,S6=new WeakMap,Fa=new WeakMap,a1=new WeakMap,gs=new WeakMap,A6=new WeakMap,vs=new WeakMap,l1=new WeakMap,kl=new WeakMap,T6=new WeakMap,Di=new WeakSet,DJ=function(){return Ye(this,u1,"f")||Ye(this,Il,"f")<Ye(this,k6,"f")},CJ=function(){return Ye(this,vs,"f")<Ye(this,l1,"f")},qJ=function(){var e;di(this,vs,(e=Ye(this,vs,"f"),e--,e),"f"),Ye(this,Di,"m",P6).call(this),this.emit("next")},OJ=function(){Ye(this,Di,"m",w9).call(this),Ye(this,Di,"m",b9).call(this),di(this,a1,void 0,"f")},jJ=function(){let e=Date.now();if(Ye(this,Fa,"f")===void 0){let r=Ye(this,S6,"f")-e;if(r<0)di(this,Il,Ye(this,f1,"f")?Ye(this,vs,"f"):0,"f");else return Ye(this,a1,"f")===void 0&&di(this,a1,setTimeout(()=>{Ye(this,Di,"m",OJ).call(this)},r),"f"),!0}return!1},P6=function(){if(Ye(this,gs,"f").size===0)return Ye(this,Fa,"f")&&clearInterval(Ye(this,Fa,"f")),di(this,Fa,void 0,"f"),this.emit("empty"),Ye(this,vs,"f")===0&&this.emit("idle"),!1;if(!Ye(this,kl,"f")){let e=!Ye(this,Di,"a",jJ);if(Ye(this,Di,"a",DJ)&&Ye(this,Di,"a",CJ)){let r=Ye(this,gs,"f").dequeue();return r?(this.emit("active"),r(),e&&Ye(this,Di,"m",b9).call(this),!0):!1}}return!1},b9=function(){Ye(this,u1,"f")||Ye(this,Fa,"f")!==void 0||(di(this,Fa,setInterval(()=>{Ye(this,Di,"m",w9).call(this)},Ye(this,c1,"f")),"f"),di(this,S6,Date.now()+Ye(this,c1,"f"),"f"))},w9=function(){Ye(this,Il,"f")===0&&Ye(this,vs,"f")===0&&Ye(this,Fa,"f")&&(clearInterval(Ye(this,Fa,"f")),di(this,Fa,void 0,"f")),di(this,Il,Ye(this,f1,"f")?Ye(this,vs,"f"):0,"f"),Ye(this,Di,"m",I6).call(this)},I6=function(){for(;Ye(this,Di,"m",P6).call(this););},NJ=async function(e){return new Promise((r,i)=>{e.addEventListener("abort",()=>{i(new B6("The task was aborted."))},{once:!0})})},R6=async function(e,r){return new Promise(i=>{let n=()=>{r&&!r()||(this.off(e,n),i())};this.on(e,n)})};async function UJ(t,e,r,i,n,o,s){if(e instanceof Uint8Array){let v=qh(e,i,n,o);r.push(v);return}if(e.Data==null)throw(0,Uh.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let d;try{d=Gi.unmarshal(e.Data)}catch(v){throw(0,Uh.default)(v,"ERR_NOT_UNIXFS")}if(d.data!=null){let v=d.data,b=qh(v,i,n,o);r.push(b),i+=BigInt(b.byteLength)}let p=[];if(e.Links.length!==d.blockSizes.length)throw(0,Uh.default)(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let v=0;v<e.Links.length;v++){let b=e.Links[v],x=i,E=x+d.blockSizes[v];if((n>=x&&n<E||o>=x&&o<=E||n<x&&o>E)&&p.push({link:b,blockStart:i}),i=E,i>o)break}await Cm(p,v=>Im(v,b=>async()=>{let x=await t.get(b.link.Hash,s);return{...b,block:x}}),v=>Nh(v,{ordered:!0}),async v=>{for await(let{link:b,block:x,blockStart:E}of v){let T;switch(b.Hash.code){case wy:T=iu(x);break;case Xa:T=x;break;default:r.end((0,Uh.default)(new Error(`Unsupported codec: ${b.Hash.code}`),"ERR_NOT_UNIXFS"));return}let S=new d1({concurrency:1});S.on("error",P=>{r.end(P)}),S.add(async()=>{s.onProgress?.(new mi("unixfs:exporter:walk:file",{cid:b.Hash})),await UJ(t,T,r,E,n,o,s)}),await S.onIdle()}}),i>=o&&r.end()}var E4e=(t,e,r,i,n,o,s)=>{async function*d(p={}){let v=r.fileSize();if(v===void 0)throw new Error("File was a directory");let{start:b,end:x}=km(v,p.offset,p.length);if(x===0n)return;let E=0n,T=x-b,S=Dm();p.onProgress?.(new mi("unixfs:exporter:walk:file",{cid:t})),UJ(s,e,S,0n,b,x,p).catch(P=>{S.end(P)});for await(let P of S)if(P!=null){if(E+=BigInt(P.byteLength),E>T)throw S.end(),(0,Uh.default)(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");E===T&&S.end(),p.onProgress?.(new mi("unixfs:exporter:progress:unixfs:file",{bytesRead:E,totalBytes:T,fileSize:v})),yield P}if(E<T)throw(0,Uh.default)(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")}return d},_9=E4e;M();var S4e=(t,e,r,i,n,o,s)=>{function d(p={}){return p.onProgress?.(new mi("unixfs:exporter:walk:hamt-sharded-directory",{cid:t})),FJ(e,i,n,o,s,p)}return d};async function*FJ(t,e,r,i,n,o){let s=t.Links,d=Cm(s,p=>Im(p,v=>async()=>{let b=v.Name!=null?v.Name.substring(2):null;if(b!=null&&b!==""){let x=await r(v.Hash,b,`${e}/${b}`,[],i+1,n,o);return{entries:x.entry==null?[]:[x.entry]}}else{let x=await n.get(v.Hash,o);return t=iu(x),o.onProgress?.(new mi("unixfs:exporter:walk:hamt-sharded-directory",{cid:v.Hash})),{entries:FJ(t,e,r,i,n,o)}}}),p=>Nh(p,{ordered:!0}));for await(let{entries:p}of d)yield*p}var zJ=S4e;var A4e=(t,e)=>t.Links.find(i=>i.Name===e)?.Hash,T4e={raw:_9,file:_9,directory:PJ,"hamt-sharded-directory":zJ,metadata:(t,e,r,i,n,o,s)=>()=>[],symlink:(t,e,r,i,n,o,s)=>()=>[]},P4e=async(t,e,r,i,n,o,s,d)=>{let p=await s.get(t,d),v=iu(p),b,x;if(e==null&&(e=t.toString()),v.Data==null)throw(0,h1.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{b=Gi.unmarshal(v.Data)}catch(T){throw(0,h1.default)(T,"ERR_NOT_UNIXFS")}if(r==null&&(r=e),i.length>0){let T;if(b?.type==="hamt-sharded-directory"?T=await MJ(v,i[0],s):T=A4e(v,i[0]),T==null)throw(0,h1.default)(new Error("file does not exist"),"ERR_NOT_FOUND");let S=i.shift(),P=`${r}/${S}`;x={cid:T,toResolve:i,name:S??"",path:P}}let E=T4e[b.type](t,v,b,r,n,o,s);if(E==null)throw(0,h1.default)(new Error("could not find content exporter"),"ERR_NOT_FOUND");return b.isDirectory()?{entry:{type:"directory",name:e,path:r,cid:t,content:E,unixfs:b,depth:o,node:v,size:b.fileSize()},next:x}:{entry:{type:"file",name:e,path:r,cid:t,content:E,unixfs:b,depth:o,node:v,size:b.fileSize()},next:x}},$J=P4e;var R4e={[wy]:$J,[Xa]:wJ,[y0]:yJ,[NM.code]:vJ},WJ=async(t,e,r,i,n,o,s)=>{let d=R4e[t.code];if(d==null)throw(0,GJ.default)(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return d(t,e,r,i,WJ,n,o,s)},KJ=WJ;var k4e=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean),I4e=t=>{if(t instanceof Uint8Array)return{cid:nt.decode(t),toResolve:[]};let e=nt.asCID(t);if(e!=null)return{cid:e,toResolve:[]};if(typeof t=="string"){t.indexOf("/ipfs/")===0&&(t=t.substring(6));let r=k4e(t);return{cid:nt.parse(r[0]),toResolve:r.slice(1)}}throw(0,D6.default)(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")};async function*B4e(t,e,r={}){let{cid:i,toResolve:n}=I4e(t),o=i.toString(),s=o,d=n.length;for(;;){let p=await KJ(i,o,s,n,d,e,r);if(p.entry==null&&p.next==null)throw(0,D6.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(p.entry!=null&&(yield p.entry),p.next==null)return;n=p.next.toResolve,i=p.next.cid,o=p.next.name,s=p.next.path}}async function x9(t,e,r={}){let i=await pJ(B4e(t,e,r));if(i==null)throw(0,D6.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");return i}var VJ=Yt(L3(),1),HJ=new Uint8Array,M9=class{constructor(e={}){this.config={blockstoreLocation:"DATASTORE",createLevelDatabase:Ua,...e},this.blockstore=new Rl({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open()}async close(){await this.blockstore.close()}async put(e,r,i,n){await(await this.getBlockstoreForReferenceCounting(e,i)).put(r,HJ);let s=await this.getBlockstoreForStoringData(e,i),d=Oy([{content:n}],s,{cidVersion:1}),p;for await(p of d);return{dataCid:String(p.cid),dataSize:Number(p.unixfs?.fileSize()??p.size)}}async get(e,r,i){if(!await(await this.getBlockstoreForReferenceCounting(e,i)).has(r))return;let s=await this.getBlockstoreForStoringData(e,i);if(!await s.has(i))return;let p=await x9(i,s),v=p.content(),b=new VJ.Readable({async read(){let E=await v.next();E.done?this.push(null):this.push(E.value)}}),x=p.size;return(p.type==="file"||p.type==="directory")&&(x=p.unixfs.fileSize()),{dataCid:String(p.cid),dataSize:Number(x),dataStream:b}}async associate(e,r,i){let n=await this.getBlockstoreForReferenceCounting(e,i);if(await n.isEmpty())return;let s=await this.getBlockstoreForStoringData(e,i);if(!await s.has(i))return;await n.put(r,HJ);let p=await x9(i,s),v=p.size;return(p.type==="file"||p.type==="directory")&&(v=p.unixfs.fileSize()),{dataCid:String(p.cid),dataSize:Number(v)}}async delete(e,r,i){let n=await this.getBlockstoreForReferenceCounting(e,i);if(await n.delete(r),!await n.isEmpty())return;await(await this.getBlockstoreForStoringData(e,i)).clear()}async clear(){await this.blockstore.clear()}async getBlockstoreForReferenceCounting(e,r){let i="references";return await(await(await this.blockstore.partition(i)).partition(e)).partition(r)}async getBlockstoreForStoringData(e,r){let i="data";return await(await(await this.blockstore.partition(i)).partition(e)).partition(r)}};M();M();M();M();M();function p1(t){if(!Om(t))throw new Error("Parameter was not an error")}function Om(t){return D4e(t)==="[object Error]"||t instanceof Error}function D4e(t){return Object.prototype.toString.call(t)}M();function ZJ(t){let e,r="";if(t.length===0)e={};else if(Om(t[0]))e={cause:t[0]},r=t.slice(1).join(" ")||"";else if(t[0]&&typeof t[0]=="object")e=Object.assign({},t[0]),r=t.slice(1).join(" ")||"";else if(typeof t[0]=="string")e={},r=r=t.join(" ")||"";else throw new Error("Invalid arguments passed to Layerr");return{options:e,shortMessage:r}}var Kn=class extends Error{constructor(e,r){let i=[...arguments],{options:n,shortMessage:o}=ZJ(i),s=o;if(n.cause&&(s=`${s}: ${n.cause.message}`),super(s),this.message=s,n.name&&typeof n.name=="string"?this.name=n.name:this.name="Layerr",n.cause&&Object.defineProperty(this,"_cause",{value:n.cause}),Object.defineProperty(this,"_info",{value:{}}),n.info&&typeof n.info=="object"&&Object.assign(this._info,n.info),Error.captureStackTrace){let d=n.constructorOpt||this.constructor;Error.captureStackTrace(this,d)}}static cause(e){return p1(e),e._cause&&Om(e._cause)?e._cause:null}static fullStack(e){p1(e);let r=Kn.cause(e);return r?`${e.stack}
caused by: ${Kn.fullStack(r)}`:e.stack}static info(e){p1(e);let r={},i=Kn.cause(e);return i&&Object.assign(r,Kn.info(i)),e._info&&Object.assign(r,e._info),r}cause(){return Kn.cause(this)}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}};M();var m1="0123456789ABCDEFGHJKMNPQRSTVWXYZ",jm=32,YJ=0xffffffffffff,JJ=10,C4e=16,Fh=Object.freeze({source:"ulid"});function O4e(t){let e=t||j4e(),r=e&&(e.crypto||e.msCrypto)||null;if(typeof r?.getRandomValues=="function")return()=>{let i=new Uint8Array(1);return r.getRandomValues(i),i[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;throw new Kn({info:{code:"PRNG_DETECT",...Fh}},"Failed to find a reliable PRNG")}function j4e(){return L4e()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function q4e(t,e){let r="";for(;t>0;t--)r=U4e(e)+r;return r}function QJ(t,e){if(isNaN(t))throw new Kn({info:{code:"ENC_TIME_NAN",...Fh}},`Time must be a number: ${t}`);if(t>YJ)throw new Kn({info:{code:"ENC_TIME_SIZE_EXCEED",...Fh}},`Cannot encode a time larger than ${YJ}: ${t}`);if(t<0)throw new Kn({info:{code:"ENC_TIME_NEG",...Fh}},`Time must be positive: ${t}`);if(Number.isInteger(t)===!1)throw new Kn({info:{code:"ENC_TIME_TYPE",...Fh}},`Time must be an integer: ${t}`);let r,i="";for(let n=e;n>0;n--)r=t%jm,i=m1.charAt(r)+i,t=(t-r)/jm;return i}function N4e(t){let e,r=t.length,i,n,o=t,s=jm-1;for(;!e&&r-->=0;){if(i=o[r],n=m1.indexOf(i),n===-1)throw new Kn({info:{code:"B32_INC_ENC",...Fh}},"Incorrectly encoded string");if(n===s){o=XJ(o,r,m1[0]);continue}e=XJ(o,r,m1[n+1])}if(typeof e=="string")return e;throw new Kn({info:{code:"B32_INC_INVALID",...Fh}},"Failed incrementing string")}function L4e(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function eQ(t){let e=t||O4e(),r=0,i;return function(o){let s=isNaN(o)?Date.now():o;if(s<=r){let p=i=N4e(i);return QJ(r,JJ)+p}r=s;let d=i=q4e(C4e,e);return QJ(s,JJ)+d}}function U4e(t){let e=Math.floor(t()*jm);return e===jm&&(e=jm-1),m1.charAt(e)}function XJ(t,e,r){return e>t.length-1?t:t.substr(0,e)+r+t.substr(e+1)}var tQ="watermarks",rQ="cids",E9=class{constructor(e){this.config={location:"EVENTLOG",createLevelDatabase:Ua,...e},this.db=new La({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,valueEncoding:"utf8"}),this.ulidFactory=eQ()}async open(){return this.db.open()}async close(){return this.db.close()}async clear(){return this.db.clear()}async append(e,r){let i=await this.db.partition(e),n=await i.partition(tQ),o=await i.partition(rQ),s=this.ulidFactory();return await n.put(s,r),await o.put(r,s),s}async getEvents(e,r){let n=await(await this.db.partition(e)).partition(tQ),o=[];for await(let[s,d]of n.iterator(r)){let p={watermark:s,messageCid:d};o.push(p)}return o}async deleteEventsByCid(e,r){if(r.length===0)return 0;let i=await this.db.partition(e),n=await i.partition(rQ),o=[],s=[];for(let b of r){o.push({type:"del",key:b});let x=n.get(b).catch(E=>E);s.push(x)}await n.batch(o),o=[];let d=0,p=await Promise.all(s);for(let b of p)b&&(o.push({type:"del",key:b}),d+=1);return await(await i.partition("watermarks")).batch(o),d}};M();M();function C6({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*F4e(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r],o=nt.asCID(i);o?yield[n.join("/"),o]:typeof i=="object"&&(yield*S9(i,n))}else{let r=nt.asCID(e);r?yield[t.join("/"),r]:yield*S9(e,t)}}function*S9(t,e){if(t==null||t instanceof Uint8Array)return;let r=nt.asCID(t);r&&(yield[e.join("/"),r]);for(let[i,n]of Object.entries(t)){let o=[...e,i];yield*F4e(o,n)}}function*z4e(t,e){if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r];yield n.join("/"),typeof i=="object"&&!nt.asCID(i)&&(yield*A9(i,n))}else yield*A9(e,t)}function*A9(t,e){if(!(t==null||typeof t!="object"))for(let[r,i]of Object.entries(t)){let n=[...e,r];yield n.join("/"),i!=null&&!(i instanceof Uint8Array)&&typeof i=="object"&&!nt.asCID(i)&&(yield*z4e(n,i))}}function $4e(t,e){let r=t;for(let[i,n]of e.entries()){if(r=r[n],r==null)throw new Error(`Object has no property at ${e.slice(0,i+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let o=nt.asCID(r);if(o)return{value:o,remaining:e.slice(i+1).join("/")}}return{value:r}}var O6=class{constructor({cid:e,bytes:r,value:i}){if(!e||!r||typeof i>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:C6(),bytes:C6(),value:C6(),asBlock:C6()})}links(){return S9(this.value,[])}tree(){return A9(this.value,[])}get(e="/"){return $4e(this.value,e.split("/").filter(Boolean))}};async function iQ({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.encode(t),n=await r.digest(i),o=nt.create(1,e.code,n);return new O6({value:t,bytes:i,cid:o})}async function nQ({bytes:t,codec:e,hasher:r}){if(!t)throw new Error('Missing required argument "bytes"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.decode(t),n=await r.digest(t),o=nt.create(1,e.code,n);return new O6({value:i,bytes:t,cid:o})}M();var j6=class{static byteArraysEqual(e,r){return e.length===r.length&&e.every((n,o)=>n===r[o])}static async fromAsyncGenerator(e){let r=[];for await(let i of e)r.push(i);return r}static async asyncSort(e,r){for(let i=0;i<e.length;i++)for(let n=i+1;n<e.length;n++)await r(e[i],e[n])>0&&([e[i],e[n]]=[e[n],e[i]]);return e}};M();var g1=class{constructor(e){this.config={createLevelDatabase:Ua,...e},this.db=new La({...this.config,valueEncoding:"utf8"})}async open(){return this.db.open()}async close(){return this.db.close()}async put(e,r,i,n){let o=await Jr(this.db.partition(e),n?.signal);i=mD(i);let s=[];for(let d in i){let p=i[d],v=this.join(d,this.encodeValue(p),r);s.push({type:"put",key:v,value:r})}s.push({type:"put",key:`__${r}__indexes`,value:JSON.stringify(i)}),await o.batch(s,n)}async executeSingleFilterQuery(e,r,i,n){let o={};for(let d in r){let p=r[d];if(typeof p=="object")if(Array.isArray(p)){o[d]=[];for(let v of new Set(p)){let b=this.findExactMatches(e,d,v,n);o[d].push(b)}}else{let v=this.findRangeMatches(e,d,p,n);o[d]=[v]}else{let v=this.findExactMatches(e,d,p,n);o[d]=[v]}}let s={};for(let[d,p]of Object.entries(o))for(let v of p)for(let b of await v)i.has(b)||(s[b]??=new Set([...Object.keys(r)]),s[b].delete(d),s[b].size===0&&i.add(b))}async query(e,r,i){let n=new Set;for(let o of r)await this.executeSingleFilterQuery(e,o,n,i);return[...n]}async delete(e,r,i){let n=await Jr(this.db.partition(e),i?.signal),o=await n.get(`__${r}__indexes`,i);if(!o)return;let s=JSON.parse(o),d=[];for(let p in s){let v=s[p],b=this.join(p,this.encodeValue(v),r);d.push({type:"del",key:b})}d.push({type:"del",key:`__${r}__indexes`}),await n.batch(d,i)}async clear(){return this.db.clear()}async findExactMatches(e,r,i,n){let o=await Jr(this.db.partition(e),n?.signal),s=this.join(r,this.encodeValue(i),""),d={gt:s},p=[];for await(let[v,b]of o.iterator(d,n)){if(!v.startsWith(s))break;p.push(b)}return p}async findRangeMatches(e,r,i,n){let o=await Jr(this.db.partition(e),n?.signal),s={};for(let p in i){let v=p;s[v]=this.join(r,this.encodeValue(i[v]))}s.gt===void 0&&s.gte===void 0&&(s.reverse=!0);let d=[];for await(let[p,v]of o.iterator(s,n))if(!("gt"in i&&g1.extractValueFromKey(p)===this.encodeValue(i.gt))){if(!p.startsWith(r))break;d.push(v)}if("lte"in i)for(let p of await this.findExactMatches(e,r,i.lte,n))d.push(p);return d}encodeValue(e){switch(typeof e){case"string":return`"${e}"`;case"number":return g1.encodeNumberValue(e);default:return String(e)}}static encodeNumberValue(e){let r=Number.MAX_SAFE_INTEGER,i="!",n=String(Number.MAX_SAFE_INTEGER).length,o=e<0?i:"",s=e<0?r:0;return o+String(e+s).padStart(n,"0")}static extractValueFromKey(e){let[,r]=e.split(this.delimiter);return r}join(...e){return e.join(g1.delimiter)}},y1=g1;y1.delimiter="\0";var qm=class{constructor(e={}){this.config={blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:Ua,...e},this.blockstore=new Rl({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new y1({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open(),await this.index.open()}async close(){await this.blockstore.close(),await this.index.close()}async get(e,r,i){i?.signal?.throwIfAborted();let n=await Jr(this.blockstore.partition(e),i?.signal),o=nt.parse(r),s=await n.get(o,i);return s?(await Jr(nQ({bytes:s,codec:cc,hasher:fo}),i?.signal)).value:void 0}async query(e,r,i,n,o){o?.signal?.throwIfAborted();let s=[],d=await this.index.query(e,r.map(b=>({...b,tenant:e})),o),p;for(let b of d){let x=await this.get(e,b,o);x&&s.push(x),n?.cursor&&n.cursor===b&&(p=x)}if(n?.cursor!==void 0&&p===void 0)return{messages:[]};let v=await qm.sortMessages(s,i);return this.paginateMessages(v,p,n)}async paginateMessages(e,r,i={}){let{limit:n}=i;if(r===void 0&&n===void 0)return{messages:e};let o=r?e.indexOf(r):void 0,s=o===void 0?0:o+1,d=n===void 0?void 0:s+n,p=e.slice(s,d),v=d!==void 0&&d<e.length,b;if(v){let x=p.at(-1);b=await qe.getCid(x)}return{messages:p,cursor:b}}static async lexicographicalCompare(e,r,i,n){let o=e.descriptor[i],s=r.descriptor[i];if(n===1){if(o>s)return 1;if(o<s)return-1}else{if(s>o)return 1;if(s<o)return-1}return await qe.compareCid(e,r)}static async sortMessages(e,r={}){let{dateCreated:i,datePublished:n,messageTimestamp:o}=r,s=1,d=e,p;i!==void 0?p="dateCreated":n!==void 0?(p="datePublished",d=e.filter(b=>b.descriptor.published)):o!==void 0&&(p="messageTimestamp"),p!==void 0?s=r[p]:p="messageTimestamp";let v=(b,x)=>qm.lexicographicalCompare(b,x,p,s);return await j6.asyncSort(d,v)}async delete(e,r,i){i?.signal?.throwIfAborted();let n=await Jr(this.blockstore.partition(e),i?.signal),o=nt.parse(r);await n.delete(o,i),await this.index.delete(e,r,i)}async put(e,r,i,n){n?.signal?.throwIfAborted();let o=await Jr(this.blockstore.partition(e),n?.signal),s=await Jr(iQ({value:r,codec:cc,hasher:fo}),n?.signal),d=ai.parseCid(await qe.getCid(r));await o.put(d,s.bytes,n);let p=d.toString(),v={...i,tenant:e};await this.index.put(e,p,v,n)}async clear(){await this.blockstore.clear(),await this.index.clear()}};export{fg as AllowAllTenantGate,ai as Cid,M9 as DataStoreLevel,Oa as DataStream,v7 as DateSort,Cv as DidIonResolver,ll as DidKeyResolver,Ov as DidResolver,jv as Dwn,gl as DwnConstant,De as DwnError,or as DwnErrorCode,ei as DwnInterfaceName,ti as DwnMethodName,rt as Encoder,Ff as Encryption,g7 as EncryptionAlgorithm,E9 as EventLogLevel,hl as EventsGet,ul as HdKey,hr as Jws,Dv as KeyDerivationScheme,qe as Message,qm as MessageStoreLevel,$u as MessagesGet,Do as PermissionsGrant,pl as PermissionsRequest,ml as PermissionsRevoke,Ym as PrivateKeySigner,x7 as Protocols,Uo as ProtocolsConfigure,Gu as ProtocolsQuery,lr as Records,yl as RecordsDelete,cl as RecordsQuery,bl as RecordsRead,Xt as RecordsWrite,Ut as Secp256k1,Z3 as SortOrder,Mt as Time,ci as authenticate,Jr as executeUnlessAborted};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/ciphers/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/ed25519/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
